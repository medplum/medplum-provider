function EB(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Dm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bx={exports:{}},Rf={};var VO;function TB(){if(VO)return Rf;VO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,i){var l=null;if(i!==void 0&&(l=""+i),a.key!==void 0&&(l=""+a.key),"key"in a){i={};for(var u in a)u!=="key"&&(i[u]=a[u])}else i=a;return a=i.ref,{$$typeof:e,type:r,key:l,ref:a!==void 0?a:null,props:i}}return Rf.Fragment=t,Rf.jsx=n,Rf.jsxs=n,Rf}var WO;function RB(){return WO||(WO=1,bx.exports=TB()),bx.exports}var s=RB(),lo=function(){return lo=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},lo.apply(this,arguments)};function WL(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function _B(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var xx={exports:{}},gt={};var GO;function DB(){if(GO)return gt;GO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,C={};function E(H,F,Q){this.props=H,this.context=F,this.refs=C,this.updater=Q||S}E.prototype.isReactComponent={},E.prototype.setState=function(H,F){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,F,"setState")},E.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function j(){}j.prototype=E.prototype;function R(H,F,Q){this.props=H,this.context=F,this.refs=C,this.updater=Q||S}var _=R.prototype=new j;_.constructor=R,x(_,E.prototype),_.isPureReactComponent=!0;var A=Array.isArray;function M(){}var D={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function k(H,F,Q){var J=Q.ref;return{$$typeof:e,type:H,key:F,ref:J!==void 0?J:null,props:Q}}function I(H,F){return k(H.type,F,H.props)}function L(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function V(H){var F={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(Q){return F[Q]})}var q=/\/+/g;function U(H,F){return typeof H=="object"&&H!==null&&H.key!=null?V(""+H.key):F.toString(36)}function G(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(M,M):(H.status="pending",H.then(function(F){H.status==="pending"&&(H.status="fulfilled",H.value=F)},function(F){H.status==="pending"&&(H.status="rejected",H.reason=F)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function N(H,F,Q,J,re){var de=typeof H;(de==="undefined"||de==="boolean")&&(H=null);var Ee=!1;if(H===null)Ee=!0;else switch(de){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(H.$$typeof){case e:case t:Ee=!0;break;case p:return Ee=H._init,N(Ee(H._payload),F,Q,J,re)}}if(Ee)return re=re(H),Ee=J===""?"."+U(H,0):J,A(re)?(Q="",Ee!=null&&(Q=Ee.replace(q,"$&/")+"/"),N(re,F,Q,"",function(Ye){return Ye})):re!=null&&(L(re)&&(re=I(re,Q+(re.key==null||H&&H.key===re.key?"":(""+re.key).replace(q,"$&/")+"/")+Ee)),F.push(re)),1;Ee=0;var Re=J===""?".":J+":";if(A(H))for(var Se=0;Se<H.length;Se++)J=H[Se],de=Re+U(J,Se),Ee+=N(J,F,Q,de,re);else if(Se=y(H),typeof Se=="function")for(H=Se.call(H),Se=0;!(J=H.next()).done;)J=J.value,de=Re+U(J,Se++),Ee+=N(J,F,Q,de,re);else if(de==="object"){if(typeof H.then=="function")return N(G(H),F,Q,J,re);throw F=String(H),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function z(H,F,Q){if(H==null)return H;var J=[],re=0;return N(H,J,"","",function(de){return F.call(Q,de,re++)}),J}function $(H){if(H._status===-1){var F=H._result;F=F(),F.then(function(Q){(H._status===0||H._status===-1)&&(H._status=1,H._result=Q)},function(Q){(H._status===0||H._status===-1)&&(H._status=2,H._result=Q)}),H._status===-1&&(H._status=0,H._result=F)}if(H._status===1)return H._result.default;throw H._result}var Y=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},X={map:z,forEach:function(H,F,Q){z(H,function(){F.apply(this,arguments)},Q)},count:function(H){var F=0;return z(H,function(){F++}),F},toArray:function(H){return z(H,function(F){return F})||[]},only:function(H){if(!L(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return gt.Activity=m,gt.Children=X,gt.Component=E,gt.Fragment=n,gt.Profiler=a,gt.PureComponent=R,gt.StrictMode=r,gt.Suspense=d,gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,gt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return D.H.useMemoCache(H)}},gt.cache=function(H){return function(){return H.apply(null,arguments)}},gt.cacheSignal=function(){return null},gt.cloneElement=function(H,F,Q){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var J=x({},H.props),re=H.key;if(F!=null)for(de in F.key!==void 0&&(re=""+F.key),F)!O.call(F,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&F.ref===void 0||(J[de]=F[de]);var de=arguments.length-2;if(de===1)J.children=Q;else if(1<de){for(var Ee=Array(de),Re=0;Re<de;Re++)Ee[Re]=arguments[Re+2];J.children=Ee}return k(H.type,re,J)},gt.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:i,_context:H},H},gt.createElement=function(H,F,Q){var J,re={},de=null;if(F!=null)for(J in F.key!==void 0&&(de=""+F.key),F)O.call(F,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(re[J]=F[J]);var Ee=arguments.length-2;if(Ee===1)re.children=Q;else if(1<Ee){for(var Re=Array(Ee),Se=0;Se<Ee;Se++)Re[Se]=arguments[Se+2];re.children=Re}if(H&&H.defaultProps)for(J in Ee=H.defaultProps,Ee)re[J]===void 0&&(re[J]=Ee[J]);return k(H,de,re)},gt.createRef=function(){return{current:null}},gt.forwardRef=function(H){return{$$typeof:u,render:H}},gt.isValidElement=L,gt.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:$}},gt.memo=function(H,F){return{$$typeof:h,type:H,compare:F===void 0?null:F}},gt.startTransition=function(H){var F=D.T,Q={};D.T=Q;try{var J=H(),re=D.S;re!==null&&re(Q,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(M,Y)}catch(de){Y(de)}finally{F!==null&&Q.types!==null&&(F.types=Q.types),D.T=F}},gt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},gt.use=function(H){return D.H.use(H)},gt.useActionState=function(H,F,Q){return D.H.useActionState(H,F,Q)},gt.useCallback=function(H,F){return D.H.useCallback(H,F)},gt.useContext=function(H){return D.H.useContext(H)},gt.useDebugValue=function(){},gt.useDeferredValue=function(H,F){return D.H.useDeferredValue(H,F)},gt.useEffect=function(H,F){return D.H.useEffect(H,F)},gt.useEffectEvent=function(H){return D.H.useEffectEvent(H)},gt.useId=function(){return D.H.useId()},gt.useImperativeHandle=function(H,F,Q){return D.H.useImperativeHandle(H,F,Q)},gt.useInsertionEffect=function(H,F){return D.H.useInsertionEffect(H,F)},gt.useLayoutEffect=function(H,F){return D.H.useLayoutEffect(H,F)},gt.useMemo=function(H,F){return D.H.useMemo(H,F)},gt.useOptimistic=function(H,F){return D.H.useOptimistic(H,F)},gt.useReducer=function(H,F,Q){return D.H.useReducer(H,F,Q)},gt.useRef=function(H){return D.H.useRef(H)},gt.useState=function(H){return D.H.useState(H)},gt.useSyncExternalStore=function(H,F,Q){return D.H.useSyncExternalStore(H,F,Q)},gt.useTransition=function(){return D.H.useTransition()},gt.version="19.2.3",gt}var YO;function aE(){return YO||(YO=1,xx.exports=DB()),xx.exports}var b=aE();const ne=Rn(b),iE=EB({__proto__:null,default:ne},[b]);var sg="right-scroll-bar-position",lg="width-before-scroll-bar",AB="with-scroll-bars-hidden",OB="--removed-body-scroll-bar-size";function Sx(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function kB(e,t){var n=b.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var MB=typeof window<"u"?b.useLayoutEffect:b.useEffect,QO=new WeakMap;function PB(e,t){var n=kB(null,function(r){return e.forEach(function(a){return Sx(a,r)})});return MB(function(){var r=QO.get(n);if(r){var a=new Set(r),i=new Set(e),l=n.current;a.forEach(function(u){i.has(u)||Sx(u,null)}),i.forEach(function(u){a.has(u)||Sx(u,l)})}QO.set(n,e)},[e]),n}function NB(e){return e}function IB(e,t){t===void 0&&(t=NB);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var l=t(i,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(i){for(r=!0;n.length;){var l=n;n=[],l.forEach(i)}n={push:function(u){return i(u)},filter:function(){return n}}},assignMedium:function(i){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(i),l=n}var d=function(){var p=l;l=[],p.forEach(i)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(p){l.push(p),h()},filter:function(p){return l=l.filter(p),n}}}};return a}function LB(e){e===void 0&&(e={});var t=IB(null);return t.options=lo({async:!0,ssr:!1},e),t}var GL=function(e){var t=e.sideCar,n=WL(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,lo({},n))};GL.isSideCarExport=!0;function zB(e,t){return e.useMedium(t),GL}var YL=LB(),wx=function(){},gv=b.forwardRef(function(e,t){var n=b.useRef(null),r=b.useState({onScrollCapture:wx,onWheelCapture:wx,onTouchMoveCapture:wx}),a=r[0],i=r[1],l=e.forwardProps,u=e.children,d=e.className,h=e.removeScrollBar,p=e.enabled,m=e.shards,g=e.sideCar,y=e.noRelative,S=e.noIsolation,x=e.inert,C=e.allowPinchZoom,E=e.as,j=E===void 0?"div":E,R=e.gapMode,_=WL(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=g,M=PB([n,t]),D=lo(lo({},_),a);return b.createElement(b.Fragment,null,p&&b.createElement(A,{sideCar:YL,removeScrollBar:h,shards:m,noRelative:y,noIsolation:S,inert:x,setCallbacks:i,allowPinchZoom:!!C,lockRef:n,gapMode:R}),l?b.cloneElement(b.Children.only(u),lo(lo({},D),{ref:M})):b.createElement(j,lo({},D,{className:d,ref:M}),u))});gv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gv.classNames={fullWidth:lg,zeroRight:sg};var $B=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qB(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=$B();return t&&e.setAttribute("nonce",t),e}function UB(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function BB(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var HB=function(){var e=0,t=null;return{add:function(n){e==0&&(t=qB())&&(UB(t,n),BB(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},FB=function(){var e=HB();return function(t,n){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},QL=function(){var e=FB(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},VB={left:0,top:0,right:0,gap:0},Cx=function(e){return parseInt(e||"",10)||0},WB=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Cx(n),Cx(r),Cx(a)]},GB=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return VB;var t=WB(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},YB=QL(),Yu="data-scroll-locked",QB=function(e,t,n,r){var a=e.left,i=e.top,l=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(AB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Yu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sg,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(lg,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(sg," .").concat(sg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(lg," .").concat(lg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Yu,`] {
    `).concat(OB,": ").concat(u,`px;
  }
`)},KO=function(){var e=parseInt(document.body.getAttribute(Yu)||"0",10);return isFinite(e)?e:0},KB=function(){b.useEffect(function(){return document.body.setAttribute(Yu,(KO()+1).toString()),function(){var e=KO()-1;e<=0?document.body.removeAttribute(Yu):document.body.setAttribute(Yu,e.toString())}},[])},XB=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;KB();var i=b.useMemo(function(){return GB(a)},[a]);return b.createElement(YB,{styles:QB(i,!t,a,n?"":"!important")})},nj=!1;if(typeof window<"u")try{var Am=Object.defineProperty({},"passive",{get:function(){return nj=!0,!0}});window.addEventListener("test",Am,Am),window.removeEventListener("test",Am,Am)}catch{nj=!1}var Du=nj?{passive:!1}:!1,ZB=function(e){return e.tagName==="TEXTAREA"},KL=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!ZB(e)&&n[t]==="visible")},JB=function(e){return KL(e,"overflowY")},eH=function(e){return KL(e,"overflowX")},XO=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=XL(e,r);if(a){var i=ZL(e,r),l=i[1],u=i[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},tH=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},nH=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},XL=function(e,t){return e==="v"?JB(t):eH(t)},ZL=function(e,t){return e==="v"?tH(t):nH(t)},rH=function(e,t){return e==="h"&&t==="rtl"?-1:1},aH=function(e,t,n,r,a){var i=rH(e,window.getComputedStyle(t).direction),l=i*r,u=n.target,d=t.contains(u),h=!1,p=l>0,m=0,g=0;do{if(!u)break;var y=ZL(e,u),S=y[0],x=y[1],C=y[2],E=x-C-i*S;(S||E)&&XL(e,u)&&(m+=E,g+=S);var j=u.parentNode;u=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(p&&Math.abs(m)<1||!p&&Math.abs(g)<1)&&(h=!0),h},Om=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ZO=function(e){return[e.deltaX,e.deltaY]},JO=function(e){return e&&"current"in e?e.current:e},iH=function(e,t){return e[0]===t[0]&&e[1]===t[1]},oH=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},sH=0,Au=[];function lH(e){var t=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),a=b.useState(sH++)[0],i=b.useState(QL)[0],l=b.useRef(e);b.useEffect(function(){l.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=_B([e.lockRef.current],(e.shards||[]).map(JO),!0).filter(Boolean);return x.forEach(function(C){return C.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var u=b.useCallback(function(x,C){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!l.current.allowPinchZoom;var E=Om(x),j=n.current,R="deltaX"in x?x.deltaX:j[0]-E[0],_="deltaY"in x?x.deltaY:j[1]-E[1],A,M=x.target,D=Math.abs(R)>Math.abs(_)?"h":"v";if("touches"in x&&D==="h"&&M.type==="range")return!1;var O=window.getSelection(),k=O&&O.anchorNode,I=k?k===M||k.contains(M):!1;if(I)return!1;var L=XO(D,M);if(!L)return!0;if(L?A=D:(A=D==="v"?"h":"v",L=XO(D,M)),!L)return!1;if(!r.current&&"changedTouches"in x&&(R||_)&&(r.current=A),!A)return!0;var V=r.current||A;return aH(V,C,x,V==="h"?R:_)},[]),d=b.useCallback(function(x){var C=x;if(!(!Au.length||Au[Au.length-1]!==i)){var E="deltaY"in C?ZO(C):Om(C),j=t.current.filter(function(A){return A.name===C.type&&(A.target===C.target||C.target===A.shadowParent)&&iH(A.delta,E)})[0];if(j&&j.should){C.cancelable&&C.preventDefault();return}if(!j){var R=(l.current.shards||[]).map(JO).filter(Boolean).filter(function(A){return A.contains(C.target)}),_=R.length>0?u(C,R[0]):!l.current.noIsolation;_&&C.cancelable&&C.preventDefault()}}},[]),h=b.useCallback(function(x,C,E,j){var R={name:x,delta:C,target:E,should:j,shadowParent:cH(E)};t.current.push(R),setTimeout(function(){t.current=t.current.filter(function(_){return _!==R})},1)},[]),p=b.useCallback(function(x){n.current=Om(x),r.current=void 0},[]),m=b.useCallback(function(x){h(x.type,ZO(x),x.target,u(x,e.lockRef.current))},[]),g=b.useCallback(function(x){h(x.type,Om(x),x.target,u(x,e.lockRef.current))},[]);b.useEffect(function(){return Au.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",d,Du),document.addEventListener("touchmove",d,Du),document.addEventListener("touchstart",p,Du),function(){Au=Au.filter(function(x){return x!==i}),document.removeEventListener("wheel",d,Du),document.removeEventListener("touchmove",d,Du),document.removeEventListener("touchstart",p,Du)}},[]);var y=e.removeScrollBar,S=e.inert;return b.createElement(b.Fragment,null,S?b.createElement(i,{styles:oH(a)}):null,y?b.createElement(XB,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function cH(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const uH=zB(YL,lH);var uc=b.forwardRef(function(e,t){return b.createElement(gv,lo({},e,{ref:t,sideCar:uH}))});uc.classNames=gv.classNames;function hn(e){return Object.keys(e)}function jx(e){return e&&typeof e=="object"&&!Array.isArray(e)}function oE(e,t){const n={...e},r=t;return jx(e)&&jx(t)&&Object.keys(t).forEach(a=>{jx(r[a])&&a in e?n[a]=oE(n[a],r[a]):n[a]=r[a]}),n}function dH(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function fH(e){return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:e.match(/^calc\((.*?)\)$/)?.[1].split("*")[0].trim()}function eh(e){const t=fH(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function ek(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function JL(e,{shouldScale:t=!1}={}){function n(r){if(r===0||r==="0")return`0${e}`;if(typeof r=="number"){const a=`${r/16}${e}`;return t?ek(a):a}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(i=>n(i)).join(",");if(r.includes(" "))return r.split(" ").map(i=>n(i)).join(" ");const a=r.replace("px","");if(!Number.isNaN(Number(a))){const i=`${Number(a)/16}${e}`;return t?ek(i):i}}return r}return n}const me=JL("rem",{shouldScale:!0}),Ng=JL("em");function dl(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}function e5(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(r=>t.test(r))}return!1}function sE(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==b.Fragment:!1}function xr(e){const t=b.createContext(null);return[({children:a,value:i})=>s.jsx(t.Provider,{value:i,children:a}),()=>{const a=b.useContext(t);if(a===null)throw new Error(e);return a}]}function Gi(e=null){const t=b.createContext(e);return[({children:a,value:i})=>s.jsx(t.Provider,{value:i,children:a}),()=>b.useContext(t)]}function tk(e,t){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(t);return`${e}-${n}`}}function Ig(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function hH(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function pH(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function mH(e,t,n){return Ig(e,n)===Ig(t,n)}function lE({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:a=!1,dir:i="rtl",orientation:l}){return u=>{n?.(u);const d=Array.from(Ig(u.currentTarget,e)?.querySelectorAll(t)||[]).filter(S=>mH(u.currentTarget,S,e)),h=d.findIndex(S=>u.currentTarget===S),p=pH(h,d,r),m=hH(h,d,r),g=i==="rtl"?m:p,y=i==="rtl"?p:m;switch(u.key){case"ArrowRight":{l==="horizontal"&&(u.stopPropagation(),u.preventDefault(),d[g].focus(),a&&d[g].click());break}case"ArrowLeft":{l==="horizontal"&&(u.stopPropagation(),u.preventDefault(),d[y].focus(),a&&d[y].click());break}case"ArrowUp":{l==="vertical"&&(u.stopPropagation(),u.preventDefault(),d[m].focus(),a&&d[m].click());break}case"ArrowDown":{l==="vertical"&&(u.stopPropagation(),u.preventDefault(),d[p].focus(),a&&d[p].click());break}case"Home":{u.stopPropagation(),u.preventDefault(),!d[0].disabled&&d[0].focus();break}case"End":{u.stopPropagation(),u.preventDefault();const S=d.length-1;!d[S].disabled&&d[S].focus();break}}}}const gH={app:100,modal:200,popover:300,overlay:400,max:9999};function Sr(e){return gH[e]}const t5=()=>{};function vH(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||t5:n=>{n.key==="Escape"&&(e(n),t.onTrigger?.())}}function at(e,t="size",n=!0){if(e!==void 0)return e5(e)?n?me(e):e:`var(--${t}-${e})`}function In(e){return at(e,"mantine-spacing")}function Ut(e){return e===void 0?"var(--mantine-radius-default)":at(e,"mantine-radius")}function Vn(e){return at(e,"mantine-font-size")}function n5(e){return at(e,"mantine-line-height",!1)}function cE(e){if(e)return at(e,"mantine-shadow",!1)}function vr(e,t){return n=>{e?.(n),t?.(n)}}function uE(e,t){return e in t?eh(t[e]):eh(e)}function th(e,t){const n=e.map(r=>({value:r,px:uE(r,t)}));return n.sort((r,a)=>r.px-a.px),n}function Ni(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function yH(e,t,n){return n?Array.from(Ig(n,t)?.querySelectorAll(e)||[]).findIndex(r=>r===n):null}function bH(e,t,n){return n===void 0?Math.max(e,t):Math.min(Math.max(e,t),n)}function Lg(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function xH(e,t){if(e===t||Number.isNaN(e)&&Number.isNaN(t))return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;const n=Object.keys(e),{length:r}=n;if(r!==Object.keys(t).length)return!1;for(let a=0;a<r;a+=1){const i=n[a];if(!(i in t)||e[i]!==t[i]&&!(Number.isNaN(e[i])&&Number.isNaN(t[i])))return!1}return!0}function Ql(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>((...n)=>t.current?.(...n)),[])}function Zo(e,t){const{delay:n,flushOnUnmount:r,leading:a}=typeof t=="number"?{delay:t,flushOnUnmount:!1,leading:!1}:t,i=Ql(e),l=b.useRef(0),u=b.useMemo(()=>{const d=Object.assign((...h)=>{window.clearTimeout(l.current);const p=d._isFirstCall;d._isFirstCall=!1;function m(){window.clearTimeout(l.current),l.current=0,d._isFirstCall=!0}if(a&&p){i(...h);const S=()=>{m()},x=()=>{l.current!==0&&(m(),i(...h))},C=()=>{m()};d.flush=x,d.cancel=C,l.current=window.setTimeout(S,n);return}if(a&&!p){const S=()=>{l.current!==0&&(m(),i(...h))},x=()=>{m()};d.flush=S,d.cancel=x;const C=()=>{m()};l.current=window.setTimeout(C,n);return}const g=()=>{l.current!==0&&(m(),i(...h))},y=()=>{m()};d.flush=g,d.cancel=y,l.current=window.setTimeout(g,n)},{flush:()=>{},cancel:()=>{},_isFirstCall:!0});return d},[i,n,a]);return b.useEffect(()=>()=>{r?u.flush():u.cancel()},[u,r]),u}const SH=["mousedown","touchstart"];function wH(e,t,n){const r=b.useRef(null),a=t||SH;return b.useEffect(()=>{const i=l=>{const{target:u}=l??{};if(Array.isArray(n)){const d=!document.body.contains(u)&&u?.tagName!=="HTML";n.every(p=>!!p&&!l.composedPath().includes(p))&&!d&&e(l)}else r.current&&!r.current.contains(u)&&e(l)};return a.forEach(l=>document.addEventListener(l,i)),()=>{a.forEach(l=>document.removeEventListener(l,i))}},[r,e,n]),r}function r5(e={timeout:2e3}){const[t,n]=b.useState(null),[r,a]=b.useState(!1),[i,l]=b.useState(null),u=p=>{window.clearTimeout(i),l(window.setTimeout(()=>a(!1),e.timeout)),a(p)};return{copy:p=>{"clipboard"in navigator?navigator.clipboard.writeText(p).then(()=>u(!0)).catch(m=>n(m)):n(new Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{a(!1),n(null),window.clearTimeout(i)},error:t,copied:r}}function CH(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function jH(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function a5(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,a]=b.useState(n?t:jH(e));return b.useEffect(()=>{try{const i=window.matchMedia(e);return a(i.matches),CH(i,l=>a(l.matches))}catch{return}},[e]),r||!1}function EH(e,t){return a5("(prefers-color-scheme: dark)",e==="dark",t)?"dark":"light"}const kc=typeof document<"u"?b.useLayoutEffect:b.useEffect;function Js(e,t){const n=b.useRef(!1);b.useEffect(()=>()=>{n.current=!1},[]),b.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function i5({opened:e,shouldReturnFocus:t=!0}){const n=b.useRef(null),r=()=>{n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&n.current?.focus({preventScroll:!0})};return Js(()=>{let a=-1;const i=l=>{l.key==="Tab"&&window.clearTimeout(a)};return document.addEventListener("keydown",i),e?n.current=document.activeElement:t&&(a=window.setTimeout(r,10)),()=>{window.clearTimeout(a),document.removeEventListener("keydown",i)}},[e,t]),r}const TH=/input|select|textarea|button|object/,o5="a, input, select, textarea, button, object, [tabindex]";function RH(e){return e.style.display==="none"}function _H(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(RH(n))return!1;n=n.parentNode}return!0}function s5(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function rj(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(s5(e));return(TH.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&_H(e)}function l5(e){const t=s5(e);return(Number.isNaN(t)||t>=0)&&rj(e)}function DH(e){return Array.from(e.querySelectorAll(o5)).filter(l5)}function AH(e,t){const n=DH(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],a=e.getRootNode();let i=r===a.activeElement||e===a.activeElement;const l=a.activeElement;if(l.tagName==="INPUT"&&l.getAttribute("type")==="radio"&&(i=n.filter(p=>p.getAttribute("type")==="radio"&&p.getAttribute("name")===l.getAttribute("name")).includes(r)),!i)return;t.preventDefault();const d=n[t.shiftKey?n.length-1:0];d&&d.focus()}function OH(e=!0){const t=b.useRef(null),n=a=>{let i=a.querySelector("[data-autofocus]");if(!i){const l=Array.from(a.querySelectorAll(o5));i=l.find(l5)||l.find(rj)||null,!i&&rj(a)&&(i=a)}i&&i.focus({preventScroll:!0})},r=b.useCallback(a=>{e&&a!==null&&t.current!==a&&(a?(setTimeout(()=>{a.getRootNode()&&n(a)}),t.current=a):t.current=null)},[e]);return b.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>n(t.current));const a=i=>{i.key==="Tab"&&t.current&&AH(t.current,i)};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[e]),r}const kH=e=>(e+1)%1e6;function MH(){const[,e]=b.useReducer(kH,0);return e}const PH=ne.useId||(()=>{});function NH(){const e=PH();return e?`mantine-${e.replace(/:/g,"")}`:""}function wr(e){const t=NH(),[n,r]=b.useState(t);return kc(()=>{r(Lg())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function c5(e,t,n){b.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function aj(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function u5(...e){const t=new Map;return n=>{if(e.forEach(r=>{const a=aj(r,n);a&&t.set(r,a)}),t.size>0)return()=>{e.forEach(r=>{const a=t.get(r);a&&typeof a=="function"?a():aj(r,null)}),t.clear()}}}function Yn(...e){return b.useCallback(u5(...e),e)}function sr({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[a,i]=b.useState(t!==void 0?t:n),l=(u,...d)=>{i(u),r?.(u,...d)};return e!==void 0?[e,r,!0]:[a,l,!1]}function $s(e,t){const n=t-e+1;return Array.from({length:n},(r,a)=>a+e)}const km="dots";function IH({total:e,siblings:t=1,boundaries:n=1,page:r,initialPage:a=1,onChange:i}){const l=Math.max(Math.trunc(e),0),[u,d]=sr({value:r,onChange:i,defaultValue:a,finalValue:a}),h=x=>{x<=0?d(1):x>l?d(l):d(x)},p=()=>h(u+1),m=()=>h(u-1),g=()=>h(1),y=()=>h(l);return{range:b.useMemo(()=>{if(t*2+3+n*2>=l)return $s(1,l);const C=Math.max(u-t,n),E=Math.min(u+t,l-n),j=C>n+2,R=E<l-(n+1);if(!j&&R){const _=t*2+n+2;return[...$s(1,_),km,...$s(l-(n-1),l)]}if(j&&!R){const _=n+1+2*t;return[...$s(1,n),km,...$s(l-_,l)]}return[...$s(1,n),km,...$s(C,E),km,...$s(l-n+1,l)]},[l,t,u]),active:u,setPage:h,next:p,previous:m,first:g,last:y}}function vv(e,t){return a5("(prefers-reduced-motion: reduce)",e,t)}const LH={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function zH(e){const t=b.useRef(0),n=b.useRef(null),[r,a]=b.useState(LH),i=b.useMemo(()=>typeof window<"u"?new ResizeObserver(l=>{const u=l[0];u&&(cancelAnimationFrame(t.current),t.current=requestAnimationFrame(()=>{if(n.current){const d=u.borderBoxSize?.[0]||u.contentBoxSize?.[0];if(d){const h=d.inlineSize,p=d.blockSize;a({width:h,height:p,x:u.contentRect.x,y:u.contentRect.y,top:u.contentRect.top,left:u.contentRect.left,bottom:u.contentRect.bottom,right:u.contentRect.right})}else a(u.contentRect)}}))}):null,[]);return b.useEffect(()=>(n.current&&i?.observe(n.current,e),()=>{i?.disconnect(),t.current&&cancelAnimationFrame(t.current)}),[n.current]),[n,r]}function $H(e,t){if(!e||!t)return!1;if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1)if(!xH(e[n],t[n]))return!1;return!0}function qH(e){const t=b.useRef([]),n=b.useRef(0);return $H(t.current,e)||(t.current=e,n.current+=1),[n.current]}function UH(e,t){b.useEffect(e,qH(t))}const BH={" ":"space",ArrowLeft:"arrowleft",ArrowRight:"arrowright",ArrowUp:"arrowup",ArrowDown:"arrowdown",Escape:"escape",Esc:"escape",esc:"escape",Enter:"enter",Tab:"tab",Backspace:"backspace",Delete:"delete",Insert:"insert",Home:"home",End:"end",PageUp:"pageup",PageDown:"pagedown","+":"plus","-":"minus","*":"asterisk","/":"slash"};function Mm(e){const t=e.replace("Key","").toLowerCase();return BH[e]||t}function HH(e){const t=e.toLowerCase().split("+").map(i=>i.trim()),n={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift"),plus:t.includes("[plus]")},r=["alt","ctrl","meta","shift","mod"],a=t.find(i=>!r.includes(i));return{...n,key:a==="[plus]"?"+":a}}function FH(e,t,n){const{alt:r,ctrl:a,meta:i,mod:l,shift:u,key:d}=e,{altKey:h,ctrlKey:p,metaKey:m,shiftKey:g,key:y,code:S}=t;if(r!==h)return!1;if(l){if(!p&&!m)return!1}else if(a!==p||i!==m)return!1;return u!==g?!1:!!(d&&(n?Mm(S)===Mm(d):Mm(y??S)===Mm(d)))}function VH(e,t){return n=>FH(HH(e),n,t)}function WH(e,t,n=!1){return e.target instanceof HTMLElement?(n||!e.target.isContentEditable)&&!t.includes(e.target.tagName):!0}function GH(e,t=["INPUT","TEXTAREA","SELECT"],n=!1){b.useEffect(()=>{const r=a=>{e.forEach(([i,l,u={preventDefault:!0,usePhysicalKeys:!1}])=>{VH(i,u.usePhysicalKeys)(a)&&WH(a,t,n)&&(u.preventDefault&&a.preventDefault(),l(a))})};return document.documentElement.addEventListener("keydown",r),()=>document.documentElement.removeEventListener("keydown",r)},[e])}function qa(e=!1,t={}){const[n,r]=b.useState(e),a=b.useCallback(()=>{r(u=>u||(t.onOpen?.(),!0))},[t.onOpen]),i=b.useCallback(()=>{r(u=>u&&(t.onClose?.(),!1))},[t.onClose]),l=b.useCallback(()=>{n?i():a()},[i,a,n]);return[n,{open:a,close:i,toggle:l}]}function YH(e,t,n={autoInvoke:!1}){const r=b.useRef(null),a=b.useCallback((...l)=>{r.current||(r.current=window.setTimeout(()=>{e(l),r.current=null},t))},[t]),i=b.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]);return b.useEffect(()=>(n.autoInvoke&&a(),i),[i,a]),{start:a,clear:i}}function QH(e){const t=b.useRef(void 0);return b.useEffect(()=>{t.current=e},[e]),t.current}function KH(e,t,n){const r=b.useRef(null),a=b.useRef(null);return b.useEffect(()=>{const i=typeof n=="function"?n():n;return(i||a.current)&&(r.current=new MutationObserver(e),r.current.observe(i||a.current,t)),()=>{r.current?.disconnect()}},[e,t]),a}function XH(){const[e,t]=b.useState(!1);return b.useEffect(()=>t(!0),[]),e}var ZH={};function d5(){return typeof process<"u"&&ZH?"production":"development"}function yv(e){const t=ne.version;return typeof ne.version!="string"||t.startsWith("18.")?e?.ref:e?.props?.ref}function cg(e,t=document){const n=t.querySelector(e);if(n)return n;const r=t.querySelectorAll("*");for(let a=0;a<r.length;a+=1){const i=r[a];if(i.shadowRoot){const l=cg(e,i.shadowRoot);if(l)return l}}return null}function Hs(e,t=document){const n=[],r=t.querySelectorAll(e);n.push(...Array.from(r));const a=t.querySelectorAll("*");for(let i=0;i<a.length;i+=1){const l=a[i];if(l.shadowRoot){const u=Hs(e,l.shadowRoot);n.push(...u)}}return n}function qs(e){if(!e)return document;const t=e.getRootNode();return t instanceof ShadowRoot||t instanceof Document?t:document}function Mc(e){const t=b.Children.toArray(e);return t.length!==1||!sE(t[0])?null:t[0]}function f5(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=f5(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Rt(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=f5(e))&&(r&&(r+=" "),r+=t);return r}const JH={};function eF(e){const t={};return e.forEach(n=>{Object.entries(n).forEach(([r,a])=>{t[r]?t[r]=Rt(t[r],a):t[r]=a})}),t}function kh({theme:e,classNames:t,props:n,stylesCtx:r}){const i=(Array.isArray(t)?t:[t]).map(l=>typeof l=="function"?l(e,n,r):l||JH);return eF(i)}function nh({theme:e,styles:t,props:n,stylesCtx:r}){return(Array.isArray(t)?t:[t]).reduce((i,l)=>typeof l=="function"?{...i,...l(e,n,r)}:{...i,...l},{})}const dE=b.createContext(null);function as(){const e=b.useContext(dE);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function tF(){return as().cssVariablesResolver}function nF(){return as().classNamesPrefix}function bv(){return as().getStyleNonce}function rF(){return as().withStaticClasses}function aF(){return as().headless}function iF(){return as().stylesTransform?.sx}function oF(){return as().stylesTransform?.styles}function xv(){return as().env||"default"}function sF(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function lF(e){let t=e.replace("#","");if(t.length===3){const l=t.split("");t=[l[0],l[0],l[1],l[1],l[2],l[2]].join("")}if(t.length===8){const l=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:l}}const n=parseInt(t,16),r=n>>16&255,a=n>>8&255,i=n&255;return{r,g:a,b:i,a:1}}function cF(e){const[t,n,r,a]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:n,b:r,a:a===void 0?1:a}}function uF(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=e.match(t);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),a=parseInt(n[2],10)/100,i=parseInt(n[3],10)/100,l=n[5]?parseFloat(n[5]):void 0,u=(1-Math.abs(2*i-1))*a,d=r/60,h=u*(1-Math.abs(d%2-1)),p=i-u/2;let m,g,y;return d>=0&&d<1?(m=u,g=h,y=0):d>=1&&d<2?(m=h,g=u,y=0):d>=2&&d<3?(m=0,g=u,y=h):d>=3&&d<4?(m=0,g=h,y=u):d>=4&&d<5?(m=h,g=0,y=u):(m=u,g=0,y=h),{r:Math.round((m+p)*255),g:Math.round((g+p)*255),b:Math.round((y+p)*255),a:l||1}}function fE(e){return sF(e)?lF(e):e.startsWith("rgb")?cF(e):e.startsWith("hsl")?uF(e):{r:0,g:0,b:0,a:1}}function Pm(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r:n,g:r,b:a,a:i}=fE(e),l=1-t,u=d=>Math.round(d*l);return`rgba(${u(n)}, ${u(r)}, ${u(a)}, ${i})`}function rh(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function Ex(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function dF(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function fF(e){if(e.startsWith("oklch("))return(dF(e)||0)/100;const{r:t,g:n,b:r}=fE(e),a=t/255,i=n/255,l=r/255,u=Ex(a),d=Ex(i),h=Ex(l);return .2126*u+.7152*d+.0722*h}function _f(e,t=.179){return e.startsWith("var(")?!1:fF(e)>t}function va({color:e,theme:t,colorScheme:n}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:n==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:_f(n==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:n==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:_f(n==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:_f(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[r,a]=e.split("."),i=a?Number(a):void 0,l=r in t.colors;if(l){const u=i!==void 0?t.colors[r][i]:t.colors[r][rh(t,n||"light")];return{color:r,value:u,shade:i,isThemeColor:l,isLight:_f(u,t.luminanceThreshold),variable:a?`--mantine-color-${r}-${i}`:`--mantine-color-${r}-filled`}}return{color:e,value:e,isThemeColor:l,isLight:_f(e,t.luminanceThreshold),shade:i,variable:void 0}}function nn(e,t){const n=va({color:e||t.primaryColor,theme:t});return n.variable?`var(${n.variable})`:e}function ij(e,t){const n={from:e?.from||t.defaultGradient.from,to:e?.to||t.defaultGradient.to,deg:e?.deg??t.defaultGradient.deg??0},r=nn(n.from,t),a=nn(n.to,t);return`linear-gradient(${n.deg}deg, ${r} 0%, ${a} 100%)`}function ci(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const i=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${i}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r:n,g:r,b:a}=fE(e);return`rgba(${n}, ${r}, ${a}, ${t})`}const Ou=ci,hF=({color:e,theme:t,variant:n,gradient:r,autoContrast:a})=>{const i=va({color:e,theme:t}),l=typeof a=="boolean"?a:t.autoContrast;if(n==="none")return{background:"transparent",hover:"transparent",color:"inherit",border:"none"};if(n==="filled"){const u=l&&i.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return i.isThemeColor?i.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:u,border:`${me(1)} solid transparent`}:{background:`var(--mantine-color-${i.color}-${i.shade})`,hover:`var(--mantine-color-${i.color}-${i.shade===9?8:i.shade+1})`,color:u,border:`${me(1)} solid transparent`}:{background:e,hover:Pm(e,.1),color:u,border:`${me(1)} solid transparent`}}if(n==="light"){if(i.isThemeColor){if(i.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${me(1)} solid transparent`};const u=t.colors[i.color][i.shade];return{background:ci(u,.1),hover:ci(u,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${me(1)} solid transparent`}}return{background:ci(e,.1),hover:ci(e,.12),color:e,border:`${me(1)} solid transparent`}}if(n==="outline")return i.isThemeColor?i.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${me(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:ci(t.colors[i.color][i.shade],.05),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${me(1)} solid var(--mantine-color-${i.color}-${i.shade})`}:{background:"transparent",hover:ci(e,.05),color:e,border:`${me(1)} solid ${e}`};if(n==="subtle"){if(i.isThemeColor){if(i.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${me(1)} solid transparent`};const u=t.colors[i.color][i.shade];return{background:"transparent",hover:ci(u,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${me(1)} solid transparent`}}return{background:"transparent",hover:ci(e,.12),color:e,border:`${me(1)} solid transparent`}}return n==="transparent"?i.isThemeColor?i.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${me(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${me(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${me(1)} solid transparent`}:n==="white"?i.isThemeColor?i.shade===void 0?{background:"var(--mantine-color-white)",hover:Pm(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${me(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Pm(t.white,.01),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${me(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Pm(t.white,.01),color:e,border:`${me(1)} solid transparent`}:n==="gradient"?{background:ij(r,t),hover:ij(r,t),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${me(1)} solid var(--mantine-color-default-border)`}:{}},pF={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},nk="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",hE={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:pF,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:hF,autoContrast:!1,luminanceThreshold:.3,fontFamily:nk,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:nk,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:me(34),lineHeight:"1.3"},h2:{fontSize:me(26),lineHeight:"1.35"},h3:{fontSize:me(22),lineHeight:"1.4"},h4:{fontSize:me(18),lineHeight:"1.45"},h5:{fontSize:me(16),lineHeight:"1.5"},h6:{fontSize:me(14),lineHeight:"1.5"}}},fontSizes:{xs:me(12),sm:me(14),md:me(16),lg:me(18),xl:me(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:me(2),sm:me(4),md:me(8),lg:me(16),xl:me(32)},spacing:{xs:me(10),sm:me(12),md:me(16),lg:me(20),xl:me(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${me(1)} ${me(3)} rgba(0, 0, 0, 0.05), 0 ${me(1)} ${me(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${me(1)} ${me(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${me(10)} ${me(15)} ${me(-5)}, rgba(0, 0, 0, 0.04) 0 ${me(7)} ${me(7)} ${me(-5)}`,md:`0 ${me(1)} ${me(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${me(20)} ${me(25)} ${me(-5)}, rgba(0, 0, 0, 0.04) 0 ${me(10)} ${me(10)} ${me(-5)}`,lg:`0 ${me(1)} ${me(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${me(28)} ${me(23)} ${me(-7)}, rgba(0, 0, 0, 0.04) 0 ${me(12)} ${me(12)} ${me(-7)}`,xl:`0 ${me(1)} ${me(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${me(36)} ${me(28)} ${me(-7)}, rgba(0, 0, 0, 0.04) 0 ${me(17)} ${me(17)} ${me(-7)}`},other:{},components:{}};function rk(e){return e==="auto"||e==="dark"||e==="light"}function mF({key:e="mantine-color-scheme-value"}={}){let t;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(e);return rk(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(e,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{t=r=>{r.storageArea===window.localStorage&&r.key===e&&rk(r.newValue)&&n(r.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const gF="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more â€“ https://mantine.dev/theming/colors/#primary-color",ak="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function Tx(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function ik(e){if(!(e.primaryColor in e.colors))throw new Error(gF);if(typeof e.primaryShade=="object"&&(!Tx(e.primaryShade.dark)||!Tx(e.primaryShade.light)))throw new Error(ak);if(typeof e.primaryShade=="number"&&!Tx(e.primaryShade))throw new Error(ak)}function vF(e,t){if(!t)return ik(e),e;const n=oE(e,t);return t.fontFamily&&!t.headings?.fontFamily&&(n.headings.fontFamily=t.fontFamily),ik(n),n}const pE=b.createContext(null),yF=()=>b.useContext(pE)||hE;function Cn(){const e=b.useContext(pE);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function h5({theme:e,children:t,inherit:n=!0}){const r=yF(),a=b.useMemo(()=>vF(n?r:hE,e),[e,r,n]);return s.jsx(pE.Provider,{value:a,children:t})}h5.displayName="@mantine/core/MantineThemeProvider";function bF(){const e=Cn(),t=bv(),n=hn(e.breakpoints).reduce((r,a)=>{const i=e.breakpoints[a].includes("px"),l=eh(e.breakpoints[a]),u=i?`${l-.1}px`:Ng(l-.1),d=i?`${l}px`:Ng(l);return`${r}@media (max-width: ${u}) {.mantine-visible-from-${a} {display: none !important;}}@media (min-width: ${d}) {.mantine-hidden-from-${a} {display: none !important;}}`},"");return s.jsx("style",{"data-mantine-styles":"classes",nonce:t?.(),dangerouslySetInnerHTML:{__html:n}})}function Rx(e){return Object.entries(e).map(([t,n])=>`${t}: ${n};`).join("")}function p5(e,t){const n=t?[t]:[":root",":host"],r=Rx(e.variables),a=r?`${n.join(", ")}{${r}}`:"",i=Rx(e.dark),l=Rx(e.light),u=p=>n.map(m=>m===":host"?`${m}([data-mantine-color-scheme="${p}"])`:`${m}[data-mantine-color-scheme="${p}"]`).join(", "),d=i?`${u("dark")}{${i}}`:"",h=l?`${u("light")}{${l}}`:"";return`${a}

${d}

${h}`}function Yi({color:e,theme:t,autoContrast:n}){return(typeof n=="boolean"?n:t.autoContrast)&&va({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function ok(e,t){return Yi({color:e.colors[e.primaryColor][rh(e,t)],theme:e,autoContrast:null})}function Nm({theme:e,color:t,colorScheme:n,name:r=t,withColorValues:a=!0}){if(!e.colors[t])return{};if(n==="light"){const u=rh(e,"light"),d={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${u})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${u===9?8:u+1})`,[`--mantine-color-${r}-light`]:Ou(e.colors[t][u],.1),[`--mantine-color-${r}-light-hover`]:Ou(e.colors[t][u],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${u})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${u})`,[`--mantine-color-${r}-outline-hover`]:Ou(e.colors[t][u],.05)};return a?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...d}:d}const i=rh(e,"dark"),l={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${i})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${i===9?8:i+1})`,[`--mantine-color-${r}-light`]:Ou(e.colors[t][Math.max(0,i-2)],.15),[`--mantine-color-${r}-light-hover`]:Ou(e.colors[t][Math.max(0,i-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(i-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(i-4,0)})`,[`--mantine-color-${r}-outline-hover`]:Ou(e.colors[t][Math.max(i-4,0)],.05)};return a?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...l}:l}function xF(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function ku(e,t,n){hn(t).forEach(r=>Object.assign(e,{[`--mantine-${n}-${r}`]:t[r]}))}const m5=e=>{const t=rh(e,"light"),n=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:me(e.defaultRadius),r={variables:{"--mantine-z-index-app":"100","--mantine-z-index-modal":"200","--mantine-z-index-popover":"300","--mantine-z-index-overlay":"400","--mantine-z-index-max":"9999","--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-color-scheme":"light","--mantine-primary-color-contrast":ok(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)","--mantine-color-disabled":"var(--mantine-color-gray-2)","--mantine-color-disabled-color":"var(--mantine-color-gray-5)","--mantine-color-disabled-border":"var(--mantine-color-gray-3)"},dark:{"--mantine-color-scheme":"dark","--mantine-primary-color-contrast":ok(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)","--mantine-color-disabled":"var(--mantine-color-dark-6)","--mantine-color-disabled-color":"var(--mantine-color-dark-3)","--mantine-color-disabled-border":"var(--mantine-color-dark-4)"}};ku(r.variables,e.breakpoints,"breakpoint"),ku(r.variables,e.spacing,"spacing"),ku(r.variables,e.fontSizes,"font-size"),ku(r.variables,e.lineHeights,"line-height"),ku(r.variables,e.shadows,"shadow"),ku(r.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((i,l)=>{r.variables[`--mantine-primary-color-${l}`]=`var(--mantine-color-${e.primaryColor}-${l})`}),hn(e.colors).forEach(i=>{const l=e.colors[i];if(xF(l)){Object.assign(r.light,Nm({theme:e,name:l.name,color:l.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,Nm({theme:e,name:l.name,color:l.dark,colorScheme:"dark",withColorValues:!0}));return}l.forEach((u,d)=>{r.variables[`--mantine-color-${i}-${d}`]=u}),Object.assign(r.light,Nm({theme:e,color:i,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,Nm({theme:e,color:i,colorScheme:"dark",withColorValues:!1}))});const a=e.headings.sizes;return hn(a).forEach(i=>{r.variables[`--mantine-${i}-font-size`]=a[i].fontSize,r.variables[`--mantine-${i}-line-height`]=a[i].lineHeight,r.variables[`--mantine-${i}-font-weight`]=a[i].fontWeight||e.headings.fontWeight}),r};function SF({theme:e,generator:t}){const n=m5(e),r=t?.(e);return r?oE(n,r):n}const _x=m5(hE);function wF(e){const t={variables:{},light:{},dark:{}};return hn(e.variables).forEach(n=>{_x.variables[n]!==e.variables[n]&&(t.variables[n]=e.variables[n])}),hn(e.light).forEach(n=>{_x.light[n]!==e.light[n]&&(t.light[n]=e.light[n])}),hn(e.dark).forEach(n=>{_x.dark[n]!==e.dark[n]&&(t.dark[n]=e.dark[n])}),t}function CF(e){return p5({variables:{},dark:{"--mantine-color-scheme":"dark"},light:{"--mantine-color-scheme":"light"}},e)}function g5({cssVariablesSelector:e,deduplicateCssVariables:t}){const n=Cn(),r=bv(),a=tF(),i=SF({theme:n,generator:a}),l=(e===void 0||e===":root"||e===":host")&&t,u=l?wF(i):i,d=p5(u,e);return d?s.jsx("style",{"data-mantine-styles":!0,nonce:r?.(),dangerouslySetInnerHTML:{__html:`${d}${l?"":CF(e)}`}}):null}g5.displayName="@mantine/CssVariables";function Mu(e,t){const n=typeof window<"u"&&"matchMedia"in window&&window.matchMedia("(prefers-color-scheme: dark)")?.matches,r=e!=="auto"?e:n?"dark":"light";t()?.setAttribute("data-mantine-color-scheme",r)}function jF({manager:e,defaultColorScheme:t,getRootElement:n,forceColorScheme:r}){const a=b.useRef(null),[i,l]=b.useState(()=>e.get(t)),u=r||i,d=b.useCallback(p=>{r||(Mu(p,n),l(p),e.set(p))},[e.set,u,r]),h=b.useCallback(()=>{l(t),Mu(t,n),e.clear()},[e.clear,t]);return b.useEffect(()=>(e.subscribe(d),e.unsubscribe),[e.subscribe,e.unsubscribe]),kc(()=>{Mu(e.get(t),n)},[]),b.useEffect(()=>{if(r)return Mu(r,n),()=>{};r===void 0&&Mu(i,n),typeof window<"u"&&"matchMedia"in window&&(a.current=window.matchMedia("(prefers-color-scheme: dark)"));const p=m=>{i==="auto"&&Mu(m.matches?"dark":"light",n)};return a.current?.addEventListener("change",p),()=>a.current?.removeEventListener("change",p)},[i,r]),{colorScheme:u,setColorScheme:d,clearColorScheme:h}}function EF({respectReducedMotion:e,getRootElement:t}){kc(()=>{e&&t()?.setAttribute("data-respect-reduced-motion","true")},[e])}function v5({theme:e,children:t,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:a=!0,deduplicateCssVariables:i=!0,withCssVariables:l=!0,cssVariablesSelector:u,classNamesPrefix:d="mantine",colorSchemeManager:h=mF(),defaultColorScheme:p="light",getRootElement:m=()=>document.documentElement,cssVariablesResolver:g,forceColorScheme:y,stylesTransform:S,env:x}){const{colorScheme:C,setColorScheme:E,clearColorScheme:j}=jF({defaultColorScheme:p,forceColorScheme:y,manager:h,getRootElement:m});return EF({respectReducedMotion:e?.respectReducedMotion||!1,getRootElement:m}),s.jsx(dE.Provider,{value:{colorScheme:C,setColorScheme:E,clearColorScheme:j,getRootElement:m,classNamesPrefix:d,getStyleNonce:n,cssVariablesResolver:g,cssVariablesSelector:u??":root",withStaticClasses:r,stylesTransform:S,env:x},children:s.jsxs(h5,{theme:e,children:[l&&s.jsx(g5,{cssVariablesSelector:u,deduplicateCssVariables:i}),a&&s.jsx(bF,{}),t]})})}v5.displayName="@mantine/core/MantineProvider";function vd({classNames:e,styles:t,props:n,stylesCtx:r}){const a=Cn();return{resolvedClassNames:kh({theme:a,classNames:e,props:n,stylesCtx:r||void 0}),resolvedStyles:nh({theme:a,styles:t,props:n,stylesCtx:r||void 0})}}const TF={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function RF({theme:e,options:t,unstyled:n}){return Rt(t?.focusable&&!n&&(e.focusClassName||TF[e.focusRing]),t?.active&&!n&&e.activeClassName)}function _F({selector:e,stylesCtx:t,options:n,props:r,theme:a}){return kh({theme:a,classNames:n?.classNames,props:n?.props||r,stylesCtx:t})[e]}function sk({selector:e,stylesCtx:t,theme:n,classNames:r,props:a}){return kh({theme:n,classNames:r,props:a,stylesCtx:t})[e]}function DF({rootSelector:e,selector:t,className:n}){return e===t?n:void 0}function AF({selector:e,classes:t,unstyled:n}){return n?void 0:t[e]}function OF({themeName:e,classNamesPrefix:t,selector:n,withStaticClass:r}){return r===!1?[]:e.map(a=>`${t}-${a}-${n}`)}function kF({themeName:e,theme:t,selector:n,props:r,stylesCtx:a}){return e.map(i=>kh({theme:t,classNames:t.components[i]?.classNames,props:r,stylesCtx:a})?.[n])}function MF({options:e,classes:t,selector:n,unstyled:r}){return e?.variant&&!r?t[`${n}--${e.variant}`]:void 0}function PF({theme:e,options:t,themeName:n,selector:r,classNamesPrefix:a,classNames:i,classes:l,unstyled:u,className:d,rootSelector:h,props:p,stylesCtx:m,withStaticClasses:g,headless:y,transformedStyles:S}){return Rt(RF({theme:e,options:t,unstyled:u||y}),kF({theme:e,themeName:n,selector:r,props:p,stylesCtx:m}),MF({options:t,classes:l,selector:r,unstyled:u}),sk({selector:r,stylesCtx:m,theme:e,classNames:i,props:p}),sk({selector:r,stylesCtx:m,theme:e,classNames:S,props:p}),_F({selector:r,stylesCtx:m,options:t,props:p,theme:e}),DF({rootSelector:h,selector:r,className:d}),AF({selector:r,classes:l,unstyled:u||y}),g&&!y&&OF({themeName:n,classNamesPrefix:a,selector:r,withStaticClass:t?.withStaticClass}),t?.className)}function NF({theme:e,themeName:t,props:n,stylesCtx:r,selector:a}){return t.map(i=>nh({theme:e,styles:e.components[i]?.styles,props:n,stylesCtx:r})[a]).reduce((i,l)=>({...i,...l}),{})}function oj({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...oj({style:r,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function IF(e){return e.reduce((t,n)=>(n&&Object.keys(n).forEach(r=>{t[r]={...t[r],...dl(n[r])}}),t),{})}function LF({vars:e,varsResolver:t,theme:n,props:r,stylesCtx:a,selector:i,themeName:l,headless:u}){return IF([u?{}:t?.(n,r,a),...l.map(d=>n.components?.[d]?.vars?.(n,r,a)),e?.(n,r,a)])?.[i]}function zF({theme:e,themeName:t,selector:n,options:r,props:a,stylesCtx:i,rootSelector:l,styles:u,style:d,vars:h,varsResolver:p,headless:m,withStylesTransform:g}){return{...!g&&NF({theme:e,themeName:t,props:a,stylesCtx:i,selector:n}),...!g&&nh({theme:e,styles:u,props:a,stylesCtx:i})[n],...!g&&nh({theme:e,styles:r?.styles,props:r?.props||a,stylesCtx:i})[n],...LF({theme:e,props:a,stylesCtx:i,vars:h,varsResolver:p,selector:n,themeName:t,headless:m}),...l===n?oj({style:d,theme:e}):null,...oj({style:r?.style,theme:e})}}function $F({props:e,stylesCtx:t,themeName:n}){const r=Cn(),a=oF()?.();return{getTransformedStyles:l=>a?[...l.map(d=>a(d,{props:e,theme:r,ctx:t})),...n.map(d=>a(r.components[d]?.styles,{props:e,theme:r,ctx:t}))].filter(Boolean):[],withStylesTransform:!!a}}function Ne({name:e,classes:t,props:n,stylesCtx:r,className:a,style:i,rootSelector:l="root",unstyled:u,classNames:d,styles:h,vars:p,varsResolver:m,attributes:g}){const y=Cn(),S=nF(),x=rF(),C=aF(),E=(Array.isArray(e)?e:[e]).filter(_=>_),{withStylesTransform:j,getTransformedStyles:R}=$F({props:n,stylesCtx:r,themeName:E});return(_,A)=>({className:PF({theme:y,options:A,themeName:E,selector:_,classNamesPrefix:S,classNames:d,classes:t,unstyled:u,className:a,rootSelector:l,props:n,stylesCtx:r,withStaticClasses:x,headless:C,transformedStyles:R([A?.styles,h])}),style:zF({theme:y,themeName:E,selector:_,options:A,props:n,stylesCtx:r,rootSelector:l,styles:h,style:i,vars:p,varsResolver:m,headless:C,withStylesTransform:j}),...g?.[_]})}function is(e,t){return typeof e=="boolean"?e:t.autoContrast}function lk(e){const t=document.createElement("style");return t.setAttribute("data-mantine-styles","inline"),t.innerHTML="*, *::before, *::after {transition: none !important;}",t.setAttribute("data-mantine-disable-transition","true"),e&&t.setAttribute("nonce",e),document.head.appendChild(t),()=>document.querySelectorAll("[data-mantine-disable-transition]").forEach(r=>r.remove())}function qF({keepTransitions:e}={}){const t=b.useRef(t5),n=b.useRef(-1),r=b.useContext(dE),a=bv(),i=b.useRef(a?.());if(!r)throw new Error("[@mantine/core] MantineProvider was not found in tree");const l=m=>{r.setColorScheme(m),t.current=e?()=>{}:lk(i.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{t.current?.()},10)},u=()=>{r.clearColorScheme(),t.current=e?()=>{}:lk(i.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{t.current?.()},10)},d=EH("light",{getInitialValueInEffect:!1}),h=r.colorScheme==="auto"?d:r.colorScheme,p=b.useCallback(()=>l(h==="light"?"dark":"light"),[l,h]);return b.useEffect(()=>()=>{t.current?.(),window.clearTimeout(n.current)},[]),{colorScheme:r.colorScheme,setColorScheme:l,clearColorScheme:u,toggleColorScheme:p}}function le(e,t,n){const r=Cn(),a=r.components[e]?.defaultProps,i=typeof a=="function"?a(r):a;return{...t,...i,...dl(n)}}function Dx(e){return hn(e).reduce((t,n)=>e[n]!==void 0?`${t}${dH(n)}:${e[n]};`:t,"").trim()}function UF({selector:e,styles:t,media:n,container:r}){const a=t?Dx(t):"",i=Array.isArray(n)?n.map(u=>`@media${u.query}{${e}{${Dx(u.styles)}}}`):[],l=Array.isArray(r)?r.map(u=>`@container ${u.query}{${e}{${Dx(u.styles)}}}`):[];return`${a?`${e}{${a}}`:""}${i.join("")}${l.join("")}`.trim()}function Pc(e){const t=bv();return s.jsx("style",{"data-mantine-styles":"inline",nonce:t?.(),dangerouslySetInnerHTML:{__html:UF(e)}})}function os(e){const{m:t,mx:n,my:r,mt:a,mb:i,ml:l,mr:u,me:d,ms:h,p,px:m,py:g,pt:y,pb:S,pl:x,pr:C,pe:E,ps:j,bd:R,bdrs:_,bg:A,c:M,opacity:D,ff:O,fz:k,fw:I,lts:L,ta:V,lh:q,fs:U,tt:G,td:N,w:z,miw:$,maw:Y,h:X,mih:H,mah:F,bgsz:Q,bgp:J,bgr:re,bga:de,pos:Ee,top:Re,left:Se,bottom:Ye,right:Je,inset:Ve,display:ze,flex:mt,hiddenFrom:Ze,visibleFrom:Bt,lightHidden:ot,darkHidden:Ot,sx:_t,...We}=e;return{styleProps:dl({m:t,mx:n,my:r,mt:a,mb:i,ml:l,mr:u,me:d,ms:h,p,px:m,py:g,pt:y,pb:S,pl:x,pr:C,pe:E,ps:j,bd:R,bg:A,c:M,opacity:D,ff:O,fz:k,fw:I,lts:L,ta:V,lh:q,fs:U,tt:G,td:N,w:z,miw:$,maw:Y,h:X,mih:H,mah:F,bgsz:Q,bgp:J,bgr:re,bga:de,pos:Ee,top:Re,left:Se,bottom:Ye,right:Je,inset:Ve,display:ze,flex:mt,bdrs:_,hiddenFrom:Ze,visibleFrom:Bt,lightHidden:ot,darkHidden:Ot,sx:_t}),rest:We}}const BF={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bdrs:{type:"radius",property:"borderRadius"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function mE(e,t){const n=va({color:e,theme:t});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function HF(e,t){const n=va({color:e,theme:t});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:mE(e,t)}function FF(e,t){if(typeof e=="number")return me(e);if(typeof e=="string"){const[n,r,...a]=e.split(" ").filter(l=>l.trim()!=="");let i=`${me(n)}`;return r&&(i+=` ${r}`),a.length>0&&(i+=` ${mE(a.join(" "),t)}`),i.trim()}return e}const ck={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function VF(e){return typeof e=="string"&&e in ck?ck[e]:e}const WF=["h1","h2","h3","h4","h5","h6"];function GF(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&WF.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?me(e):e}function YF(e){return e}const QF=["h1","h2","h3","h4","h5","h6"];function KF(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&QF.includes(e)?`var(--mantine-${e}-line-height)`:e}function XF(e,t){return typeof e=="string"&&e in t.radius?`var(--mantine-radius-${e})`:typeof e=="number"||typeof e=="string"?me(e):e}function ZF(e){return typeof e=="number"?me(e):e}function JF(e,t){if(typeof e=="number")return me(e);if(typeof e=="string"){const n=e.replace("-","");if(!(n in t.spacing))return me(e);const r=`--mantine-spacing-${n}`;return e.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return e}const Ax={color:mE,textColor:HF,fontSize:GF,spacing:JF,radius:XF,identity:YF,size:ZF,lineHeight:KF,fontFamily:VF,border:FF};function uk(e){return e.replace("(min-width: ","").replace("em)","")}function eV({media:e,...t}){const r=Object.keys(e).sort((a,i)=>Number(uk(a))-Number(uk(i))).map(a=>({query:a,styles:e[a]}));return{...t,media:r}}function tV(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function nV(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function rV(e){return typeof e=="object"&&e!==null?hn(e).filter(t=>t!=="base"):[]}function aV(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function y5({styleProps:e,data:t,theme:n}){return eV(hn(e).reduce((r,a)=>{if(a==="hiddenFrom"||a==="visibleFrom"||a==="sx")return r;const i=t[a],l=Array.isArray(i.property)?i.property:[i.property],u=nV(e[a]);if(!tV(e[a]))return l.forEach(h=>{r.inlineStyles[h]=Ax[i.type](u,n)}),r;r.hasResponsiveStyles=!0;const d=rV(e[a]);return l.forEach(h=>{u!=null&&(r.styles[h]=Ax[i.type](u,n)),d.forEach(p=>{const m=`(min-width: ${n.breakpoints[p]})`;r.media[m]={...r.media[m],[h]:Ax[i.type](aV(e[a],p),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function Mh(){return`__m__-${b.useId().replace(/[:Â«Â»]/g,"")}`}function gE(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...gE(r,t)}),{}):typeof e=="function"?e(t):e??{}}function b5(e){return e.startsWith("data-")?e:`data-${e}`}function iV(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r===void 0||r===""||r===!1||r===null||(t[b5(n)]=e[n]),t},{})}function x5(e){return e?typeof e=="string"?{[b5(e)]:!0}:Array.isArray(e)?[...e].reduce((t,n)=>({...t,...x5(n)}),{}):iV(e):null}function sj(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...sj(r,t)}),{}):typeof e=="function"?e(t):e??{}}function oV({theme:e,style:t,vars:n,styleProps:r}){const a=sj(t,e),i=sj(n,e);return{...a,...i,...r}}const S5=b.forwardRef(({component:e,style:t,__vars:n,className:r,variant:a,mod:i,size:l,hiddenFrom:u,visibleFrom:d,lightHidden:h,darkHidden:p,renderRoot:m,__size:g,...y},S)=>{const x=Cn(),C=e||"div",{styleProps:E,rest:j}=os(y),_=iF()?.()?.(E.sx),A=Mh(),M=y5({styleProps:E,theme:x,data:BF}),D={ref:S,style:oV({theme:x,style:t,vars:n,styleProps:M.inlineStyles}),className:Rt(r,_,{[A]:M.hasResponsiveStyles,"mantine-light-hidden":h,"mantine-dark-hidden":p,[`mantine-hidden-from-${u}`]:u,[`mantine-visible-from-${d}`]:d}),"data-variant":a,"data-size":e5(l)?void 0:l||void 0,size:g,...x5(i),...j};return s.jsxs(s.Fragment,{children:[M.hasResponsiveStyles&&s.jsx(Pc,{selector:`.${A}`,styles:M.styles,media:M.media}),typeof m=="function"?m(D):s.jsx(C,{...D})]})});S5.displayName="@mantine/core/Box";const te=S5;function w5(e){return e}function sV(e){const t=e;return n=>{const r=b.forwardRef((a,i)=>s.jsx(t,{...n,...a,ref:i}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r}}function xe(e){const t=b.forwardRef(e);return t.extend=w5,t.withProps=n=>{const r=b.forwardRef((a,i)=>s.jsx(t,{...n,...a,ref:i}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t}function Qn(e){const t=b.forwardRef(e);return t.withProps=n=>{const r=b.forwardRef((a,i)=>s.jsx(t,{...n,...a,ref:i}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t.extend=w5,t}const lV=b.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function ss(){return b.useContext(lV)}var Ox={exports:{}},zr={};var dk;function cV(){if(dk)return zr;dk=1;var e=aE();function t(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(d,h,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:d,containerInfo:h,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return zr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,zr.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return i(d,h,null,p)},zr.flushSync=function(d){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=h,r.p=p,r.d.f()}},zr.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},zr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},zr.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,m=u(p,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:y}):p==="script"&&r.d.X(d,{crossOrigin:m,integrity:g,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},zr.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},zr.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,m=u(p,h.crossOrigin);r.d.L(d,p,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},zr.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},zr.requestFormReset=function(d){r.d.r(d)},zr.unstable_batchedUpdates=function(d,h){return d(h)},zr.useFormState=function(d,h,p){return l.H.useFormState(d,h,p)},zr.useFormStatus=function(){return l.H.useHostTransitionStatus()},zr.version="19.2.3",zr}var fk;function C5(){if(fk)return Ox.exports;fk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ox.exports=cV(),Ox.exports}var Sv=C5();const Jl=Rn(Sv);function uV(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function kx(e){return e?.current?e.current.scrollHeight:"auto"}const Df=typeof window<"u"&&window.requestAnimationFrame,hk=0,dV=e=>({height:0,overflow:"hidden",...e?{}:{display:"none"}});function fV({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:r,keepMounted:a=!1}){const i=b.useRef(null),l=dV(a),[u,d]=b.useState(r?{}:l),h=S=>{Sv.flushSync(()=>d(S))},p=S=>{h(x=>({...x,...S}))};function m(S){const x=e||uV(S);return{transition:`height ${x}ms ${t}, opacity ${x}ms ${t}`}}Js(()=>{typeof Df=="function"&&Df(r?()=>{p({willChange:"height",display:"block",overflow:"hidden"}),Df(()=>{const S=kx(i);p({...m(S),height:S})})}:()=>{const S=kx(i);p({...m(S),willChange:"height",height:S}),Df(()=>p({height:hk,overflow:"hidden"}))})},[r]);const g=S=>{if(!(S.target!==i.current||S.propertyName!=="height"))if(r){const x=kx(i);x===u.height?h({}):p({height:x}),n()}else u.height===hk&&(h(l),n())};function y({style:S={},refKey:x="ref",...C}={}){const E=C[x],j={"aria-hidden":!r,...C,[x]:u5(i,E),onTransitionEnd:g,style:{boxSizing:"border-box",...S,...u}};return ne.version.startsWith("18")?r||(j.inert=""):j.inert=!r,j}return y}const hV={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},j5=xe((e,t)=>{const{children:n,in:r,transitionDuration:a,transitionTimingFunction:i,style:l,onTransitionEnd:u,animateOpacity:d,keepMounted:h,...p}=le("Collapse",hV,e),m=Cn(),g=vv(),S=(m.respectReducedMotion?g:!1)?0:a,x=fV({opened:r,transitionDuration:S,transitionTimingFunction:i,onTransitionEnd:u,keepMounted:h});return S===0?r?s.jsx(te,{...p,children:n}):null:s.jsx(te,{...x({style:{opacity:r||!d?1:0,transition:d?`opacity ${S}ms ${i}`:"none",...gE(l,m)},ref:t,...p}),children:n})});j5.displayName="@mantine/core/Collapse";function wv(){return typeof window<"u"}function yd(e){return E5(e)?(e.nodeName||"").toLowerCase():"#document"}function ha(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function jo(e){var t;return(t=(E5(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function E5(e){return wv()?e instanceof Node||e instanceof ha(e).Node:!1}function Sn(e){return wv()?e instanceof Element||e instanceof ha(e).Element:!1}function Ua(e){return wv()?e instanceof HTMLElement||e instanceof ha(e).HTMLElement:!1}function lj(e){return!wv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ha(e).ShadowRoot}const pV=new Set(["inline","contents"]);function Ph(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=pi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!pV.has(a)}const mV=new Set(["table","td","th"]);function gV(e){return mV.has(yd(e))}const vV=[":popover-open",":modal"];function Cv(e){return vV.some(t=>{try{return e.matches(t)}catch{return!1}})}const yV=["transform","translate","scale","rotate","perspective"],bV=["transform","translate","scale","rotate","perspective","filter"],xV=["paint","layout","strict","content"];function vE(e){const t=jv(),n=Sn(e)?pi(e):e;return yV.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||bV.some(r=>(n.willChange||"").includes(r))||xV.some(r=>(n.contain||"").includes(r))}function SV(e){let t=Jo(e);for(;Ua(t)&&!Qo(t);){if(vE(t))return t;if(Cv(t))return null;t=Jo(t)}return null}function jv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const wV=new Set(["html","body","#document"]);function Qo(e){return wV.has(yd(e))}function pi(e){return ha(e).getComputedStyle(e)}function Ev(e){return Sn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Jo(e){if(yd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||lj(e)&&e.host||jo(e);return lj(t)?t.host:t}function T5(e){const t=Jo(e);return Qo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ua(t)&&Ph(t)?t:T5(t)}function Ko(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=T5(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),l=ha(a);if(i){const u=cj(l);return t.concat(l,l.visualViewport||[],Ph(a)?a:[],u&&n?Ko(u):[])}return t.concat(a,Ko(a,[],n))}function cj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const CV=["top","right","bottom","left"],qi=Math.min,Br=Math.max,zg=Math.round,Im=Math.floor,fo=e=>({x:e,y:e}),jV={left:"right",right:"left",bottom:"top",top:"bottom"},EV={start:"end",end:"start"};function uj(e,t,n){return Br(e,qi(t,n))}function yo(e,t){return typeof e=="function"?e(t):e}function Ui(e){return e.split("-")[0]}function bd(e){return e.split("-")[1]}function yE(e){return e==="x"?"y":"x"}function bE(e){return e==="y"?"height":"width"}const TV=new Set(["top","bottom"]);function Ii(e){return TV.has(Ui(e))?"y":"x"}function xE(e){return yE(Ii(e))}function RV(e,t,n){n===void 0&&(n=!1);const r=bd(e),a=xE(e),i=bE(a);let l=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=$g(l)),[l,$g(l)]}function _V(e){const t=$g(e);return[dj(e),t,dj(t)]}function dj(e){return e.replace(/start|end/g,t=>EV[t])}const pk=["left","right"],mk=["right","left"],DV=["top","bottom"],AV=["bottom","top"];function OV(e,t,n){switch(e){case"top":case"bottom":return n?t?mk:pk:t?pk:mk;case"left":case"right":return t?DV:AV;default:return[]}}function kV(e,t,n,r){const a=bd(e);let i=OV(Ui(e),n==="start",r);return a&&(i=i.map(l=>l+"-"+a),t&&(i=i.concat(i.map(dj)))),i}function $g(e){return e.replace(/left|right|bottom|top/g,t=>jV[t])}function MV(e){return{top:0,right:0,bottom:0,left:0,...e}}function SE(e){return typeof e!="number"?MV(e):{top:e,right:e,bottom:e,left:e}}function Ju(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function PV(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function NV(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function IV(){return/apple/i.test(navigator.vendor)}function LV(){return PV().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function zV(){return NV().includes("jsdom/")}const gk="data-floating-ui-focusable",$V="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function vk(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function ah(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&lj(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Hu(e){return"composedPath"in e?e.composedPath()[0]:e.target}function Mx(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function qV(e){return e.matches("html,body")}function ec(e){return e?.ownerDocument||document}function UV(e){return Ua(e)&&e.matches($V)}function BV(e){if(!e||zV())return!0;try{return e.matches(":focus-visible")}catch{return!0}}function HV(e){return e?e.hasAttribute(gk)?e:e.querySelector("["+gk+"]")||e:null}function ug(e,t,n){return n===void 0&&(n=!0),e.filter(a=>{var i;return a.parentId===t&&(!n||((i=a.context)==null?void 0:i.open))}).flatMap(a=>[a,...ug(e,a.id,n)])}function FV(e){return"nativeEvent"in e}function fj(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}var VV=typeof document<"u",WV=function(){},ho=VV?b.useLayoutEffect:WV;const GV={...iE};function Lm(e){const t=b.useRef(e);return ho(()=>{t.current=e}),t}const YV=GV.useInsertionEffect,QV=YV||(e=>e());function co(e){const t=b.useRef(()=>{});return QV(()=>{t.current=e}),b.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}function yk(e,t,n){let{reference:r,floating:a}=e;const i=Ii(t),l=xE(t),u=bE(l),d=Ui(t),h=i==="y",p=r.x+r.width/2-a.width/2,m=r.y+r.height/2-a.height/2,g=r[u]/2-a[u]/2;let y;switch(d){case"top":y={x:p,y:r.y-a.height};break;case"bottom":y={x:p,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:m};break;case"left":y={x:r.x-a.width,y:m};break;default:y={x:r.x,y:r.y}}switch(bd(t)){case"start":y[l]-=g*(n&&h?-1:1);break;case"end":y[l]+=g*(n&&h?-1:1);break}return y}const KV=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:l}=n,u=i.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let h=await l.getElementRects({reference:e,floating:t,strategy:a}),{x:p,y:m}=yk(h,r,d),g=r,y={},S=0;for(let x=0;x<u.length;x++){const{name:C,fn:E}=u[x],{x:j,y:R,data:_,reset:A}=await E({x:p,y:m,initialPlacement:r,placement:g,strategy:a,middlewareData:y,rects:h,platform:l,elements:{reference:e,floating:t}});p=j??p,m=R??m,y={...y,[C]:{...y[C],..._}},A&&S<=50&&(S++,typeof A=="object"&&(A.placement&&(g=A.placement),A.rects&&(h=A.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:a}):A.rects),{x:p,y:m}=yk(h,g,d)),x=-1)}return{x:p,y:m,placement:g,strategy:a,middlewareData:y}};async function ih(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:i,rects:l,elements:u,strategy:d}=e,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:g=!1,padding:y=0}=yo(t,e),S=SE(y),C=u[g?m==="floating"?"reference":"floating":m],E=Ju(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(C)))==null||n?C:C.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:h,rootBoundary:p,strategy:d})),j=m==="floating"?{x:r,y:a,width:l.floating.width,height:l.floating.height}:l.reference,R=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),_=await(i.isElement==null?void 0:i.isElement(R))?await(i.getScale==null?void 0:i.getScale(R))||{x:1,y:1}:{x:1,y:1},A=Ju(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:j,offsetParent:R,strategy:d}):j);return{top:(E.top-A.top+S.top)/_.y,bottom:(A.bottom-E.bottom+S.bottom)/_.y,left:(E.left-A.left+S.left)/_.x,right:(A.right-E.right+S.right)/_.x}}const XV=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:i,platform:l,elements:u,middlewareData:d}=t,{element:h,padding:p=0}=yo(e,t)||{};if(h==null)return{};const m=SE(p),g={x:n,y:r},y=xE(a),S=bE(y),x=await l.getDimensions(h),C=y==="y",E=C?"top":"left",j=C?"bottom":"right",R=C?"clientHeight":"clientWidth",_=i.reference[S]+i.reference[y]-g[y]-i.floating[S],A=g[y]-i.reference[y],M=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let D=M?M[R]:0;(!D||!await(l.isElement==null?void 0:l.isElement(M)))&&(D=u.floating[R]||i.floating[S]);const O=_/2-A/2,k=D/2-x[S]/2-1,I=qi(m[E],k),L=qi(m[j],k),V=I,q=D-x[S]-L,U=D/2-x[S]/2+O,G=uj(V,U,q),N=!d.arrow&&bd(a)!=null&&U!==G&&i.reference[S]/2-(U<V?I:L)-x[S]/2<0,z=N?U<V?U-V:U-q:0;return{[y]:g[y]+z,data:{[y]:G,centerOffset:U-G-z,...N&&{alignmentOffset:z}},reset:N}}}),ZV=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:l,initialPlacement:u,platform:d,elements:h}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:x=!0,...C}=yo(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=Ui(a),j=Ii(u),R=Ui(u)===u,_=await(d.isRTL==null?void 0:d.isRTL(h.floating)),A=g||(R||!x?[$g(u)]:_V(u)),M=S!=="none";!g&&M&&A.push(...kV(u,x,S,_));const D=[u,...A],O=await ih(t,C),k=[];let I=((r=i.flip)==null?void 0:r.overflows)||[];if(p&&k.push(O[E]),m){const U=RV(a,l,_);k.push(O[U[0]],O[U[1]])}if(I=[...I,{placement:a,overflows:k}],!k.every(U=>U<=0)){var L,V;const U=(((L=i.flip)==null?void 0:L.index)||0)+1,G=D[U];if(G&&(!(m==="alignment"?j!==Ii(G):!1)||I.every($=>Ii($.placement)===j?$.overflows[0]>0:!0)))return{data:{index:U,overflows:I},reset:{placement:G}};let N=(V=I.filter(z=>z.overflows[0]<=0).sort((z,$)=>z.overflows[1]-$.overflows[1])[0])==null?void 0:V.placement;if(!N)switch(y){case"bestFit":{var q;const z=(q=I.filter($=>{if(M){const Y=Ii($.placement);return Y===j||Y==="y"}return!0}).map($=>[$.placement,$.overflows.filter(Y=>Y>0).reduce((Y,X)=>Y+X,0)]).sort(($,Y)=>$[1]-Y[1])[0])==null?void 0:q[0];z&&(N=z);break}case"initialPlacement":N=u;break}if(a!==N)return{reset:{placement:N}}}return{}}}};function bk(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function xk(e){return CV.some(t=>e[t]>=0)}const JV=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=yo(e,t);switch(r){case"referenceHidden":{const i=await ih(t,{...a,elementContext:"reference"}),l=bk(i,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:xk(l)}}}case"escaped":{const i=await ih(t,{...a,altBoundary:!0}),l=bk(i,n.floating);return{data:{escapedOffsets:l,escaped:xk(l)}}}default:return{}}}}};function R5(e){const t=qi(...e.map(i=>i.left)),n=qi(...e.map(i=>i.top)),r=Br(...e.map(i=>i.right)),a=Br(...e.map(i=>i.bottom));return{x:t,y:n,width:r-t,height:a-n}}function eW(e){const t=e.slice().sort((a,i)=>a.y-i.y),n=[];let r=null;for(let a=0;a<t.length;a++){const i=t[a];!r||i.y-r.y>r.height/2?n.push([i]):n[n.length-1].push(i),r=i}return n.map(a=>Ju(R5(a)))}const tW=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:a,platform:i,strategy:l}=t,{padding:u=2,x:d,y:h}=yo(e,t),p=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(r.reference))||[]),m=eW(p),g=Ju(R5(p)),y=SE(u);function S(){if(m.length===2&&m[0].left>m[1].right&&d!=null&&h!=null)return m.find(C=>d>C.left-y.left&&d<C.right+y.right&&h>C.top-y.top&&h<C.bottom+y.bottom)||g;if(m.length>=2){if(Ii(n)==="y"){const I=m[0],L=m[m.length-1],V=Ui(n)==="top",q=I.top,U=L.bottom,G=V?I.left:L.left,N=V?I.right:L.right,z=N-G,$=U-q;return{top:q,bottom:U,left:G,right:N,width:z,height:$,x:G,y:q}}const C=Ui(n)==="left",E=Br(...m.map(I=>I.right)),j=qi(...m.map(I=>I.left)),R=m.filter(I=>C?I.left===j:I.right===E),_=R[0].top,A=R[R.length-1].bottom,M=j,D=E,O=D-M,k=A-_;return{top:_,bottom:A,left:M,right:D,width:O,height:k,x:M,y:_}}return g}const x=await i.getElementRects({reference:{getBoundingClientRect:S},floating:r.floating,strategy:l});return a.reference.x!==x.reference.x||a.reference.y!==x.reference.y||a.reference.width!==x.reference.width||a.reference.height!==x.reference.height?{reset:{rects:x}}:{}}}},_5=new Set(["left","top"]);async function nW(e,t){const{placement:n,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),l=Ui(n),u=bd(n),d=Ii(n)==="y",h=_5.has(l)?-1:1,p=i&&d?-1:1,m=yo(t,e);let{mainAxis:g,crossAxis:y,alignmentAxis:S}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof S=="number"&&(y=u==="end"?S*-1:S),d?{x:y*p,y:g*h}:{x:g*h,y:y*p}}const rW=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:l,middlewareData:u}=t,d=await nW(t,e);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:a+d.x,y:i+d.y,data:{...d,placement:l}}}}},aW=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:l=!1,limiter:u={fn:C=>{let{x:E,y:j}=C;return{x:E,y:j}}},...d}=yo(e,t),h={x:n,y:r},p=await ih(t,d),m=Ii(Ui(a)),g=yE(m);let y=h[g],S=h[m];if(i){const C=g==="y"?"top":"left",E=g==="y"?"bottom":"right",j=y+p[C],R=y-p[E];y=uj(j,y,R)}if(l){const C=m==="y"?"top":"left",E=m==="y"?"bottom":"right",j=S+p[C],R=S-p[E];S=uj(j,S,R)}const x=u.fn({...t,[g]:y,[m]:S});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[g]:i,[m]:l}}}}}},iW=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:i,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:h=!0}=yo(e,t),p={x:n,y:r},m=Ii(a),g=yE(m);let y=p[g],S=p[m];const x=yo(u,t),C=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(d){const R=g==="y"?"height":"width",_=i.reference[g]-i.floating[R]+C.mainAxis,A=i.reference[g]+i.reference[R]-C.mainAxis;y<_?y=_:y>A&&(y=A)}if(h){var E,j;const R=g==="y"?"width":"height",_=_5.has(Ui(a)),A=i.reference[m]-i.floating[R]+(_&&((E=l.offset)==null?void 0:E[m])||0)+(_?0:C.crossAxis),M=i.reference[m]+i.reference[R]+(_?0:((j=l.offset)==null?void 0:j[m])||0)-(_?C.crossAxis:0);S<A?S=A:S>M&&(S=M)}return{[g]:y,[m]:S}}}},oW=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:i,platform:l,elements:u}=t,{apply:d=()=>{},...h}=yo(e,t),p=await ih(t,h),m=Ui(a),g=bd(a),y=Ii(a)==="y",{width:S,height:x}=i.floating;let C,E;m==="top"||m==="bottom"?(C=m,E=g===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(E=m,C=g==="end"?"top":"bottom");const j=x-p.top-p.bottom,R=S-p.left-p.right,_=qi(x-p[C],j),A=qi(S-p[E],R),M=!t.middlewareData.shift;let D=_,O=A;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(O=R),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(D=j),M&&!g){const I=Br(p.left,0),L=Br(p.right,0),V=Br(p.top,0),q=Br(p.bottom,0);y?O=S-2*(I!==0||L!==0?I+L:Br(p.left,p.right)):D=x-2*(V!==0||q!==0?V+q:Br(p.top,p.bottom))}await d({...t,availableWidth:O,availableHeight:D});const k=await l.getDimensions(u.floating);return S!==k.width||x!==k.height?{reset:{rects:!0}}:{}}}};function D5(e){const t=pi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Ua(e),i=a?e.offsetWidth:n,l=a?e.offsetHeight:r,u=zg(n)!==i||zg(r)!==l;return u&&(n=i,r=l),{width:n,height:r,$:u}}function wE(e){return Sn(e)?e:e.contextElement}function Qu(e){const t=wE(e);if(!Ua(t))return fo(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=D5(t);let l=(i?zg(n.width):n.width)/r,u=(i?zg(n.height):n.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const sW=fo(0);function A5(e){const t=ha(e);return!jv()||!t.visualViewport?sW:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function lW(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ha(e)?!1:t}function dc(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=wE(e);let l=fo(1);t&&(r?Sn(r)&&(l=Qu(r)):l=Qu(e));const u=lW(i,n,r)?A5(i):fo(0);let d=(a.left+u.x)/l.x,h=(a.top+u.y)/l.y,p=a.width/l.x,m=a.height/l.y;if(i){const g=ha(i),y=r&&Sn(r)?ha(r):r;let S=g,x=cj(S);for(;x&&r&&y!==S;){const C=Qu(x),E=x.getBoundingClientRect(),j=pi(x),R=E.left+(x.clientLeft+parseFloat(j.paddingLeft))*C.x,_=E.top+(x.clientTop+parseFloat(j.paddingTop))*C.y;d*=C.x,h*=C.y,p*=C.x,m*=C.y,d+=R,h+=_,S=ha(x),x=cj(S)}}return Ju({width:p,height:m,x:d,y:h})}function Tv(e,t){const n=Ev(e).scrollLeft;return t?t.left+n:dc(jo(e)).left+n}function O5(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Tv(e,n),a=n.top+t.scrollTop;return{x:r,y:a}}function cW(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i=a==="fixed",l=jo(r),u=t?Cv(t.floating):!1;if(r===l||u&&i)return n;let d={scrollLeft:0,scrollTop:0},h=fo(1);const p=fo(0),m=Ua(r);if((m||!m&&!i)&&((yd(r)!=="body"||Ph(l))&&(d=Ev(r)),Ua(r))){const y=dc(r);h=Qu(r),p.x=y.x+r.clientLeft,p.y=y.y+r.clientTop}const g=l&&!m&&!i?O5(l,d):fo(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+p.x+g.x,y:n.y*h.y-d.scrollTop*h.y+p.y+g.y}}function uW(e){return Array.from(e.getClientRects())}function dW(e){const t=jo(e),n=Ev(e),r=e.ownerDocument.body,a=Br(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Br(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Tv(e);const u=-n.scrollTop;return pi(r).direction==="rtl"&&(l+=Br(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:l,y:u}}const Sk=25;function fW(e,t){const n=ha(e),r=jo(e),a=n.visualViewport;let i=r.clientWidth,l=r.clientHeight,u=0,d=0;if(a){i=a.width,l=a.height;const p=jv();(!p||p&&t==="fixed")&&(u=a.offsetLeft,d=a.offsetTop)}const h=Tv(r);if(h<=0){const p=r.ownerDocument,m=p.body,g=getComputedStyle(m),y=p.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,S=Math.abs(r.clientWidth-m.clientWidth-y);S<=Sk&&(i-=S)}else h<=Sk&&(i+=h);return{width:i,height:l,x:u,y:d}}const hW=new Set(["absolute","fixed"]);function pW(e,t){const n=dc(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=Ua(e)?Qu(e):fo(1),l=e.clientWidth*i.x,u=e.clientHeight*i.y,d=a*i.x,h=r*i.y;return{width:l,height:u,x:d,y:h}}function wk(e,t,n){let r;if(t==="viewport")r=fW(e,n);else if(t==="document")r=dW(jo(e));else if(Sn(t))r=pW(t,n);else{const a=A5(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Ju(r)}function k5(e,t){const n=Jo(e);return n===t||!Sn(n)||Qo(n)?!1:pi(n).position==="fixed"||k5(n,t)}function mW(e,t){const n=t.get(e);if(n)return n;let r=Ko(e,[],!1).filter(u=>Sn(u)&&yd(u)!=="body"),a=null;const i=pi(e).position==="fixed";let l=i?Jo(e):e;for(;Sn(l)&&!Qo(l);){const u=pi(l),d=vE(l);!d&&u.position==="fixed"&&(a=null),(i?!d&&!a:!d&&u.position==="static"&&!!a&&hW.has(a.position)||Ph(l)&&!d&&k5(e,l))?r=r.filter(p=>p!==l):a=u,l=Jo(l)}return t.set(e,r),r}function gW(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const l=[...n==="clippingAncestors"?Cv(t)?[]:mW(t,this._c):[].concat(n),r],u=l[0],d=l.reduce((h,p)=>{const m=wk(t,p,a);return h.top=Br(m.top,h.top),h.right=qi(m.right,h.right),h.bottom=qi(m.bottom,h.bottom),h.left=Br(m.left,h.left),h},wk(t,u,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function vW(e){const{width:t,height:n}=D5(e);return{width:t,height:n}}function yW(e,t,n){const r=Ua(t),a=jo(t),i=n==="fixed",l=dc(e,!0,i,t);let u={scrollLeft:0,scrollTop:0};const d=fo(0);function h(){d.x=Tv(a)}if(r||!r&&!i)if((yd(t)!=="body"||Ph(a))&&(u=Ev(t)),r){const y=dc(t,!0,i,t);d.x=y.x+t.clientLeft,d.y=y.y+t.clientTop}else a&&h();i&&!r&&a&&h();const p=a&&!r&&!i?O5(a,u):fo(0),m=l.left+u.scrollLeft-d.x-p.x,g=l.top+u.scrollTop-d.y-p.y;return{x:m,y:g,width:l.width,height:l.height}}function Px(e){return pi(e).position==="static"}function Ck(e,t){if(!Ua(e)||pi(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return jo(e)===n&&(n=n.ownerDocument.body),n}function M5(e,t){const n=ha(e);if(Cv(e))return n;if(!Ua(e)){let a=Jo(e);for(;a&&!Qo(a);){if(Sn(a)&&!Px(a))return a;a=Jo(a)}return n}let r=Ck(e,t);for(;r&&gV(r)&&Px(r);)r=Ck(r,t);return r&&Qo(r)&&Px(r)&&!vE(r)?n:r||SV(e)||n}const bW=async function(e){const t=this.getOffsetParent||M5,n=this.getDimensions,r=await n(e.floating);return{reference:yW(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xW(e){return pi(e).direction==="rtl"}const SW={convertOffsetParentRelativeRectToViewportRelativeRect:cW,getDocumentElement:jo,getClippingRect:gW,getOffsetParent:M5,getElementRects:bW,getClientRects:uW,getDimensions:vW,getScale:Qu,isElement:Sn,isRTL:xW};function P5(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function wW(e,t){let n=null,r;const a=jo(e);function i(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),i();const h=e.getBoundingClientRect(),{left:p,top:m,width:g,height:y}=h;if(u||t(),!g||!y)return;const S=Im(m),x=Im(a.clientWidth-(p+g)),C=Im(a.clientHeight-(m+y)),E=Im(p),R={rootMargin:-S+"px "+-x+"px "+-C+"px "+-E+"px",threshold:Br(0,qi(1,d))||1};let _=!0;function A(M){const D=M[0].intersectionRatio;if(D!==d){if(!_)return l();D?l(!1,D):r=setTimeout(()=>{l(!1,1e-7)},1e3)}D===1&&!P5(h,e.getBoundingClientRect())&&l(),_=!1}try{n=new IntersectionObserver(A,{...R,root:a.ownerDocument})}catch{n=new IntersectionObserver(A,R)}n.observe(e)}return l(!0),i}function hj(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=wE(e),p=a||i?[...h?Ko(h):[],...Ko(t)]:[];p.forEach(E=>{a&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const m=h&&u?wW(h,n):null;let g=-1,y=null;l&&(y=new ResizeObserver(E=>{let[j]=E;j&&j.target===h&&y&&(y.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var R;(R=y)==null||R.observe(t)})),n()}),h&&!d&&y.observe(h),y.observe(t));let S,x=d?dc(e):null;d&&C();function C(){const E=dc(e);x&&!P5(x,E)&&n(),x=E,S=requestAnimationFrame(C)}return n(),()=>{var E;p.forEach(j=>{a&&j.removeEventListener("scroll",n),i&&j.removeEventListener("resize",n)}),m?.(),(E=y)==null||E.disconnect(),y=null,d&&cancelAnimationFrame(S)}}const CW=rW,jW=aW,EW=ZV,TW=oW,RW=JV,jk=XV,_W=tW,DW=iW,AW=(e,t,n)=>{const r=new Map,a={platform:SW,...n},i={...a.platform,_c:r};return KV(e,t,{...a,platform:i})};var OW=typeof document<"u",kW=function(){},dg=OW?b.useLayoutEffect:kW;function qg(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!qg(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&e.$$typeof)&&!qg(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function N5(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ek(e,t){const n=N5(e);return Math.round(t*n)/n}function Nx(e){const t=b.useRef(e);return dg(()=>{t.current=e}),t}function MW(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:l}={},transform:u=!0,whileElementsMounted:d,open:h}=e,[p,m]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,y]=b.useState(r);qg(g,r)||y(r);const[S,x]=b.useState(null),[C,E]=b.useState(null),j=b.useCallback($=>{$!==M.current&&(M.current=$,x($))},[]),R=b.useCallback($=>{$!==D.current&&(D.current=$,E($))},[]),_=i||S,A=l||C,M=b.useRef(null),D=b.useRef(null),O=b.useRef(p),k=d!=null,I=Nx(d),L=Nx(a),V=Nx(h),q=b.useCallback(()=>{if(!M.current||!D.current)return;const $={placement:t,strategy:n,middleware:g};L.current&&($.platform=L.current),AW(M.current,D.current,$).then(Y=>{const X={...Y,isPositioned:V.current!==!1};U.current&&!qg(O.current,X)&&(O.current=X,Sv.flushSync(()=>{m(X)}))})},[g,t,n,L,V]);dg(()=>{h===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,m($=>({...$,isPositioned:!1})))},[h]);const U=b.useRef(!1);dg(()=>(U.current=!0,()=>{U.current=!1}),[]),dg(()=>{if(_&&(M.current=_),A&&(D.current=A),_&&A){if(I.current)return I.current(_,A,q);q()}},[_,A,q,I,k]);const G=b.useMemo(()=>({reference:M,floating:D,setReference:j,setFloating:R}),[j,R]),N=b.useMemo(()=>({reference:_,floating:A}),[_,A]),z=b.useMemo(()=>{const $={position:n,left:0,top:0};if(!N.floating)return $;const Y=Ek(N.floating,p.x),X=Ek(N.floating,p.y);return u?{...$,transform:"translate("+Y+"px, "+X+"px)",...N5(N.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Y,top:X}},[n,u,N.floating,p.x,p.y]);return b.useMemo(()=>({...p,update:q,refs:G,elements:N,floatingStyles:z}),[p,q,G,N,z])}const PW=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?jk({element:r.current,padding:a}).fn(n):{}:r?jk({element:r,padding:a}).fn(n):{}}}},I5=(e,t)=>({...CW(e),options:[e,t]}),CE=(e,t)=>({...jW(e),options:[e,t]}),Tk=(e,t)=>({...DW(e),options:[e,t]}),Ug=(e,t)=>({...EW(e),options:[e,t]}),NW=(e,t)=>({...TW(e),options:[e,t]}),IW=(e,t)=>({...RW(e),options:[e,t]}),Kf=(e,t)=>({..._W(e),options:[e,t]}),L5=(e,t)=>({...PW(e),options:[e,t]});function z5(e){const t=b.useRef(void 0),n=b.useCallback(r=>{const a=e.map(i=>{if(i!=null){if(typeof i=="function"){const l=i,u=l(r);return typeof u=="function"?u:()=>{l(null)}}return i.current=r,()=>{i.current=null}}});return()=>{a.forEach(i=>i?.())}},e);return b.useMemo(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}const LW="data-floating-ui-focusable",Rk="active",_k="selected",zW={...iE};let Dk=!1,$W=0;const Ak=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+$W++;function qW(){const[e,t]=b.useState(()=>Dk?Ak():void 0);return ho(()=>{e==null&&t(Ak())},[]),b.useEffect(()=>{Dk=!0},[]),e}const UW=zW.useId,$5=UW||qW;function BW(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(a=>a(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const HW=b.createContext(null),FW=b.createContext(null),jE=()=>{var e;return((e=b.useContext(HW))==null?void 0:e.id)||null},EE=()=>b.useContext(FW);function TE(e){return"data-floating-ui-"+e}function li(e){e.current!==-1&&(clearTimeout(e.current),e.current=-1)}const Ok=TE("safe-polygon");function fg(e,t,n){if(n&&!fj(n))return 0;if(typeof e=="number")return e;if(typeof e=="function"){const r=e();return typeof r=="number"?r:r?.[t]}return e?.[t]}function Ix(e){return typeof e=="function"?e():e}function VW(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:a,events:i,elements:l}=e,{enabled:u=!0,delay:d=0,handleClose:h=null,mouseOnly:p=!1,restMs:m=0,move:g=!0}=t,y=EE(),S=jE(),x=Lm(h),C=Lm(d),E=Lm(n),j=Lm(m),R=b.useRef(),_=b.useRef(-1),A=b.useRef(),M=b.useRef(-1),D=b.useRef(!0),O=b.useRef(!1),k=b.useRef(()=>{}),I=b.useRef(!1),L=co(()=>{var z;const $=(z=a.current.openEvent)==null?void 0:z.type;return $?.includes("mouse")&&$!=="mousedown"});b.useEffect(()=>{if(!u)return;function z($){let{open:Y}=$;Y||(li(_),li(M),D.current=!0,I.current=!1)}return i.on("openchange",z),()=>{i.off("openchange",z)}},[u,i]),b.useEffect(()=>{if(!u||!x.current||!n)return;function z(Y){L()&&r(!1,Y,"hover")}const $=ec(l.floating).documentElement;return $.addEventListener("mouseleave",z),()=>{$.removeEventListener("mouseleave",z)}},[l.floating,n,r,u,x,L]);const V=b.useCallback(function(z,$,Y){$===void 0&&($=!0),Y===void 0&&(Y="hover");const X=fg(C.current,"close",R.current);X&&!A.current?(li(_),_.current=window.setTimeout(()=>r(!1,z,Y),X)):$&&(li(_),r(!1,z,Y))},[C,r]),q=co(()=>{k.current(),A.current=void 0}),U=co(()=>{if(O.current){const z=ec(l.floating).body;z.style.pointerEvents="",z.removeAttribute(Ok),O.current=!1}}),G=co(()=>a.current.openEvent?["click","mousedown"].includes(a.current.openEvent.type):!1);b.useEffect(()=>{if(!u)return;function z(F){if(li(_),D.current=!1,p&&!fj(R.current)||Ix(j.current)>0&&!fg(C.current,"open"))return;const Q=fg(C.current,"open",R.current);Q?_.current=window.setTimeout(()=>{E.current||r(!0,F,"hover")},Q):n||r(!0,F,"hover")}function $(F){if(G()){U();return}k.current();const Q=ec(l.floating);if(li(M),I.current=!1,x.current&&a.current.floatingContext){n||li(_),A.current=x.current({...a.current.floatingContext,tree:y,x:F.clientX,y:F.clientY,onClose(){U(),q(),G()||V(F,!0,"safe-polygon")}});const re=A.current;Q.addEventListener("mousemove",re),k.current=()=>{Q.removeEventListener("mousemove",re)};return}(R.current==="touch"?!ah(l.floating,F.relatedTarget):!0)&&V(F)}function Y(F){G()||a.current.floatingContext&&(x.current==null||x.current({...a.current.floatingContext,tree:y,x:F.clientX,y:F.clientY,onClose(){U(),q(),G()||V(F)}})(F))}function X(){li(_)}function H(F){G()||V(F,!1)}if(Sn(l.domReference)){const F=l.domReference,Q=l.floating;return n&&F.addEventListener("mouseleave",Y),g&&F.addEventListener("mousemove",z,{once:!0}),F.addEventListener("mouseenter",z),F.addEventListener("mouseleave",$),Q&&(Q.addEventListener("mouseleave",Y),Q.addEventListener("mouseenter",X),Q.addEventListener("mouseleave",H)),()=>{n&&F.removeEventListener("mouseleave",Y),g&&F.removeEventListener("mousemove",z),F.removeEventListener("mouseenter",z),F.removeEventListener("mouseleave",$),Q&&(Q.removeEventListener("mouseleave",Y),Q.removeEventListener("mouseenter",X),Q.removeEventListener("mouseleave",H))}}},[l,u,e,p,g,V,q,U,r,n,E,y,C,x,a,G,j]),ho(()=>{var z;if(u&&n&&(z=x.current)!=null&&(z=z.__options)!=null&&z.blockPointerEvents&&L()){O.current=!0;const Y=l.floating;if(Sn(l.domReference)&&Y){var $;const X=ec(l.floating).body;X.setAttribute(Ok,"");const H=l.domReference,F=y==null||($=y.nodesRef.current.find(Q=>Q.id===S))==null||($=$.context)==null?void 0:$.elements.floating;return F&&(F.style.pointerEvents=""),X.style.pointerEvents="none",H.style.pointerEvents="auto",Y.style.pointerEvents="auto",()=>{X.style.pointerEvents="",H.style.pointerEvents="",Y.style.pointerEvents=""}}}},[u,n,S,l,y,x,L]),ho(()=>{n||(R.current=void 0,I.current=!1,q(),U())},[n,q,U]),b.useEffect(()=>()=>{q(),li(_),li(M),U()},[u,l.domReference,q,U]);const N=b.useMemo(()=>{function z($){R.current=$.pointerType}return{onPointerDown:z,onPointerEnter:z,onMouseMove($){const{nativeEvent:Y}=$;function X(){!D.current&&!E.current&&r(!0,Y,"hover")}p&&!fj(R.current)||n||Ix(j.current)===0||I.current&&$.movementX**2+$.movementY**2<2||(li(M),R.current==="touch"?X():(I.current=!0,M.current=window.setTimeout(X,Ix(j.current))))}}},[p,r,n,E,j]);return b.useMemo(()=>u?{reference:N}:{},[u,N])}const pj=()=>{},q5=b.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:pj,setState:pj,isInstantPhase:!1}),WW=()=>b.useContext(q5);function GW(e){const{children:t,delay:n,timeoutMs:r=0}=e,[a,i]=b.useReducer((d,h)=>({...d,...h}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),l=b.useRef(null),u=b.useCallback(d=>{i({currentId:d})},[]);return ho(()=>{a.currentId?l.current===null?l.current=a.currentId:a.isInstantPhase||i({isInstantPhase:!0}):(a.isInstantPhase&&i({isInstantPhase:!1}),l.current=null)},[a.currentId,a.isInstantPhase]),s.jsx(q5.Provider,{value:b.useMemo(()=>({...a,setState:i,setCurrentId:u}),[a,u]),children:t})}function YW(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,floatingId:a}=e,{id:i,enabled:l=!0}=t,u=i??a,d=WW(),{currentId:h,setCurrentId:p,initialDelay:m,setState:g,timeoutMs:y}=d;return ho(()=>{l&&h&&(g({delay:{open:1,close:fg(m,"close")}}),h!==u&&r(!1))},[l,u,r,g,h,m]),ho(()=>{function S(){r(!1),g({delay:m,currentId:null})}if(l&&h&&!n&&h===u){if(y){const x=window.setTimeout(S,y);return()=>{clearTimeout(x)}}S()}},[l,n,g,h,u,r,m,y]),ho(()=>{l&&(p===pj||!n||p(u))},[l,n,p,u]),d}const QW={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},KW={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},kk=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e?.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e?.outsidePress)!=null?n:!0}};function XW(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:a,dataRef:i}=e,{enabled:l=!0,escapeKey:u=!0,outsidePress:d=!0,outsidePressEvent:h="pointerdown",referencePress:p=!1,referencePressEvent:m="pointerdown",ancestorScroll:g=!1,bubbles:y,capture:S}=t,x=EE(),C=co(typeof d=="function"?d:()=>!1),E=typeof d=="function"?C:d,j=b.useRef(!1),{escapeKey:R,outsidePress:_}=kk(y),{escapeKey:A,outsidePress:M}=kk(S),D=b.useRef(!1),O=co(U=>{var G;if(!n||!l||!u||U.key!=="Escape"||D.current)return;const N=(G=i.current.floatingContext)==null?void 0:G.nodeId,z=x?ug(x.nodesRef.current,N):[];if(!R&&(U.stopPropagation(),z.length>0)){let $=!0;if(z.forEach(Y=>{var X;if((X=Y.context)!=null&&X.open&&!Y.context.dataRef.current.__escapeKeyBubbles){$=!1;return}}),!$)return}r(!1,FV(U)?U.nativeEvent:U,"escape-key")}),k=co(U=>{var G;const N=()=>{var z;O(U),(z=Hu(U))==null||z.removeEventListener("keydown",N)};(G=Hu(U))==null||G.addEventListener("keydown",N)}),I=co(U=>{var G;const N=i.current.insideReactTree;i.current.insideReactTree=!1;const z=j.current;if(j.current=!1,h==="click"&&z||N||typeof E=="function"&&!E(U))return;const $=Hu(U),Y="["+TE("inert")+"]",X=ec(a.floating).querySelectorAll(Y);let H=Sn($)?$:null;for(;H&&!Qo(H);){const re=Jo(H);if(Qo(re)||!Sn(re))break;H=re}if(X.length&&Sn($)&&!qV($)&&!ah($,a.floating)&&Array.from(X).every(re=>!ah(H,re)))return;if(Ua($)&&q){const re=Qo($),de=pi($),Ee=/auto|scroll/,Re=re||Ee.test(de.overflowX),Se=re||Ee.test(de.overflowY),Ye=Re&&$.clientWidth>0&&$.scrollWidth>$.clientWidth,Je=Se&&$.clientHeight>0&&$.scrollHeight>$.clientHeight,Ve=de.direction==="rtl",ze=Je&&(Ve?U.offsetX<=$.offsetWidth-$.clientWidth:U.offsetX>$.clientWidth),mt=Ye&&U.offsetY>$.clientHeight;if(ze||mt)return}const F=(G=i.current.floatingContext)==null?void 0:G.nodeId,Q=x&&ug(x.nodesRef.current,F).some(re=>{var de;return Mx(U,(de=re.context)==null?void 0:de.elements.floating)});if(Mx(U,a.floating)||Mx(U,a.domReference)||Q)return;const J=x?ug(x.nodesRef.current,F):[];if(J.length>0){let re=!0;if(J.forEach(de=>{var Ee;if((Ee=de.context)!=null&&Ee.open&&!de.context.dataRef.current.__outsidePressBubbles){re=!1;return}}),!re)return}r(!1,U,"outside-press")}),L=co(U=>{var G;const N=()=>{var z;I(U),(z=Hu(U))==null||z.removeEventListener(h,N)};(G=Hu(U))==null||G.addEventListener(h,N)});b.useEffect(()=>{if(!n||!l)return;i.current.__escapeKeyBubbles=R,i.current.__outsidePressBubbles=_;let U=-1;function G(X){r(!1,X,"ancestor-scroll")}function N(){window.clearTimeout(U),D.current=!0}function z(){U=window.setTimeout(()=>{D.current=!1},jv()?5:0)}const $=ec(a.floating);u&&($.addEventListener("keydown",A?k:O,A),$.addEventListener("compositionstart",N),$.addEventListener("compositionend",z)),E&&$.addEventListener(h,M?L:I,M);let Y=[];return g&&(Sn(a.domReference)&&(Y=Ko(a.domReference)),Sn(a.floating)&&(Y=Y.concat(Ko(a.floating))),!Sn(a.reference)&&a.reference&&a.reference.contextElement&&(Y=Y.concat(Ko(a.reference.contextElement)))),Y=Y.filter(X=>{var H;return X!==((H=$.defaultView)==null?void 0:H.visualViewport)}),Y.forEach(X=>{X.addEventListener("scroll",G,{passive:!0})}),()=>{u&&($.removeEventListener("keydown",A?k:O,A),$.removeEventListener("compositionstart",N),$.removeEventListener("compositionend",z)),E&&$.removeEventListener(h,M?L:I,M),Y.forEach(X=>{X.removeEventListener("scroll",G)}),window.clearTimeout(U)}},[i,a,u,E,h,n,r,g,l,R,_,O,A,k,I,M,L]),b.useEffect(()=>{i.current.insideReactTree=!1},[i,E,h]);const V=b.useMemo(()=>({onKeyDown:O,...p&&{[QW[m]]:U=>{r(!1,U.nativeEvent,"reference-press")},...m!=="click"&&{onClick(U){r(!1,U.nativeEvent,"reference-press")}}}}),[O,r,p,m]),q=b.useMemo(()=>({onKeyDown:O,onMouseDown(){j.current=!0},onMouseUp(){j.current=!0},[KW[h]]:()=>{i.current.insideReactTree=!0}}),[O,h,i]);return b.useMemo(()=>l?{reference:V,floating:q}:{},[l,V,q])}function ZW(e){const{open:t=!1,onOpenChange:n,elements:r}=e,a=$5(),i=b.useRef({}),[l]=b.useState(()=>BW()),u=jE()!=null,[d,h]=b.useState(r.reference),p=co((y,S,x)=>{i.current.openEvent=y?S:void 0,l.emit("openchange",{open:y,event:S,reason:x,nested:u}),n?.(y,S,x)}),m=b.useMemo(()=>({setPositionReference:h}),[]),g=b.useMemo(()=>({reference:d||r.reference||null,floating:r.floating||null,domReference:r.reference}),[d,r.reference,r.floating]);return b.useMemo(()=>({dataRef:i,open:t,onOpenChange:p,elements:g,events:l,floatingId:a,refs:m}),[t,p,g,l,a,m])}function RE(e){e===void 0&&(e={});const{nodeId:t}=e,n=ZW({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,a=r.elements,[i,l]=b.useState(null),[u,d]=b.useState(null),p=a?.domReference||i,m=b.useRef(null),g=EE();ho(()=>{p&&(m.current=p)},[p]);const y=MW({...e,elements:{...a,...u&&{reference:u}}}),S=b.useCallback(R=>{const _=Sn(R)?{getBoundingClientRect:()=>R.getBoundingClientRect(),getClientRects:()=>R.getClientRects(),contextElement:R}:R;d(_),y.refs.setReference(_)},[y.refs]),x=b.useCallback(R=>{(Sn(R)||R===null)&&(m.current=R,l(R)),(Sn(y.refs.reference.current)||y.refs.reference.current===null||R!==null&&!Sn(R))&&y.refs.setReference(R)},[y.refs]),C=b.useMemo(()=>({...y.refs,setReference:x,setPositionReference:S,domReference:m}),[y.refs,x,S]),E=b.useMemo(()=>({...y.elements,domReference:p}),[y.elements,p]),j=b.useMemo(()=>({...y,...r,refs:C,elements:E,nodeId:t}),[y,C,E,t,r]);return ho(()=>{r.dataRef.current.floatingContext=j;const R=g?.nodesRef.current.find(_=>_.id===t);R&&(R.context=j)}),b.useMemo(()=>({...y,context:j,refs:C,elements:E}),[y,C,E,j])}function Lx(){return LV()&&IV()}function JW(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:a,dataRef:i,elements:l}=e,{enabled:u=!0,visibleOnly:d=!0}=t,h=b.useRef(!1),p=b.useRef(-1),m=b.useRef(!0);b.useEffect(()=>{if(!u)return;const y=ha(l.domReference);function S(){!n&&Ua(l.domReference)&&l.domReference===vk(ec(l.domReference))&&(h.current=!0)}function x(){m.current=!0}function C(){m.current=!1}return y.addEventListener("blur",S),Lx()&&(y.addEventListener("keydown",x,!0),y.addEventListener("pointerdown",C,!0)),()=>{y.removeEventListener("blur",S),Lx()&&(y.removeEventListener("keydown",x,!0),y.removeEventListener("pointerdown",C,!0))}},[l.domReference,n,u]),b.useEffect(()=>{if(!u)return;function y(S){let{reason:x}=S;(x==="reference-press"||x==="escape-key")&&(h.current=!0)}return a.on("openchange",y),()=>{a.off("openchange",y)}},[a,u]),b.useEffect(()=>()=>{li(p)},[]);const g=b.useMemo(()=>({onMouseLeave(){h.current=!1},onFocus(y){if(h.current)return;const S=Hu(y.nativeEvent);if(d&&Sn(S)){if(Lx()&&!y.relatedTarget){if(!m.current&&!UV(S))return}else if(!BV(S))return}r(!0,y.nativeEvent,"focus")},onBlur(y){h.current=!1;const S=y.relatedTarget,x=y.nativeEvent,C=Sn(S)&&S.hasAttribute(TE("focus-guard"))&&S.getAttribute("data-type")==="outside";p.current=window.setTimeout(()=>{var E;const j=vk(l.domReference?l.domReference.ownerDocument:document);!S&&j===l.domReference||ah((E=i.current.floatingContext)==null?void 0:E.refs.floating.current,j)||ah(l.domReference,j)||C||r(!1,x,"focus")})}}),[i,l.domReference,r,d]);return b.useMemo(()=>u?{reference:g}:{},[u,g])}function zx(e,t,n){const r=new Map,a=n==="item";let i=e;if(a&&e){const{[Rk]:l,[_k]:u,...d}=e;i=d}return{...n==="floating"&&{tabIndex:-1,[LW]:""},...i,...t.map(l=>{const u=l?l[n]:null;return typeof u=="function"?e?u(e):null:u}).concat(e).reduce((l,u)=>(u&&Object.entries(u).forEach(d=>{let[h,p]=d;if(!(a&&[Rk,_k].includes(h)))if(h.indexOf("on")===0){if(r.has(h)||r.set(h,[]),typeof p=="function"){var m;(m=r.get(h))==null||m.push(p),l[h]=function(){for(var g,y=arguments.length,S=new Array(y),x=0;x<y;x++)S[x]=arguments[x];return(g=r.get(h))==null?void 0:g.map(C=>C(...S)).find(C=>C!==void 0)}}}else l[h]=p}),l),{})}}function eG(e){e===void 0&&(e=[]);const t=e.map(u=>u?.reference),n=e.map(u=>u?.floating),r=e.map(u=>u?.item),a=b.useCallback(u=>zx(u,e,"reference"),t),i=b.useCallback(u=>zx(u,e,"floating"),n),l=b.useCallback(u=>zx(u,e,"item"),r);return b.useMemo(()=>({getReferenceProps:a,getFloatingProps:i,getItemProps:l}),[a,i,l])}const tG=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function nG(e,t){var n,r;t===void 0&&(t={});const{open:a,elements:i,floatingId:l}=e,{enabled:u=!0,role:d="dialog"}=t,h=$5(),p=((n=i.domReference)==null?void 0:n.id)||h,m=b.useMemo(()=>{var j;return((j=HV(i.floating))==null?void 0:j.id)||l},[i.floating,l]),g=(r=tG.get(d))!=null?r:d,S=jE()!=null,x=b.useMemo(()=>g==="tooltip"||d==="label"?{["aria-"+(d==="label"?"labelledby":"describedby")]:a?m:void 0}:{"aria-expanded":a?"true":"false","aria-haspopup":g==="alertdialog"?"dialog":g,"aria-controls":a?m:void 0,...g==="listbox"&&{role:"combobox"},...g==="menu"&&{id:p},...g==="menu"&&S&&{role:"menuitem"},...d==="select"&&{"aria-autocomplete":"none"},...d==="combobox"&&{"aria-autocomplete":"list"}},[g,m,S,a,p,d]),C=b.useMemo(()=>{const j={id:m,...g&&{role:g}};return g==="tooltip"||d==="label"?j:{...j,...g==="menu"&&{"aria-labelledby":p}}},[g,m,p,d]),E=b.useCallback(j=>{let{active:R,selected:_}=j;const A={role:"option",...R&&{id:m+"-fui-option"}};switch(d){case"select":case"combobox":return{...A,"aria-selected":_}}return{}},[m,d]);return b.useMemo(()=>u?{reference:x,floating:C,item:E}:{},[u,x,C,E])}const[rG,Si]=xr("ScrollArea.Root component was not found in tree");function ed(e,t){const n=Ql(t);kc(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}const aG=b.forwardRef((e,t)=>{const{style:n,...r}=e,a=Si(),[i,l]=b.useState(0),[u,d]=b.useState(0),h=!!(i&&u);return ed(a.scrollbarX,()=>{const p=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(p),d(p)}),ed(a.scrollbarY,()=>{const p=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(p),l(p)}),h?s.jsx("div",{...r,ref:t,style:{...n,width:i,height:u}}):null}),iG=b.forwardRef((e,t)=>{const n=Si(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(aG,{...e,ref:t}):null}),oG={scrollHideDelay:1e3,type:"hover"},U5=b.forwardRef((e,t)=>{const{type:n,scrollHideDelay:r,scrollbars:a,getStyles:i,...l}=le("ScrollAreaRoot",oG,e),[u,d]=b.useState(null),[h,p]=b.useState(null),[m,g]=b.useState(null),[y,S]=b.useState(null),[x,C]=b.useState(null),[E,j]=b.useState(0),[R,_]=b.useState(0),[A,M]=b.useState(!1),[D,O]=b.useState(!1),k=Yn(t,I=>d(I));return s.jsx(rG,{value:{type:n,scrollHideDelay:r,scrollArea:u,viewport:h,onViewportChange:p,content:m,onContentChange:g,scrollbarX:y,onScrollbarXChange:S,scrollbarXEnabled:A,onScrollbarXEnabledChange:M,scrollbarY:x,onScrollbarYChange:C,scrollbarYEnabled:D,onScrollbarYEnabledChange:O,onCornerWidthChange:j,onCornerHeightChange:_,getStyles:i},children:s.jsx(te,{...l,ref:k,__vars:{"--sa-corner-width":a!=="xy"?"0px":`${E}px`,"--sa-corner-height":a!=="xy"?"0px":`${R}px`}})})});U5.displayName="@mantine/core/ScrollAreaRoot";function B5(e,t){const n=e/t;return Number.isNaN(n)?0:n}function Rv(e){const t=B5(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function H5(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function sG(e,[t,n]){return Math.min(n,Math.max(t,e))}function Mk(e,t,n="ltr"){const r=Rv(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,l=t.content-t.viewport,u=i-r,d=n==="ltr"?[0,l]:[l*-1,0],h=sG(e,d);return H5([0,l],[0,u])(h)}function lG(e,t,n,r="ltr"){const a=Rv(n),i=a/2,l=t||i,u=a-l,d=n.scrollbar.paddingStart+l,h=n.scrollbar.size-n.scrollbar.paddingEnd-u,p=n.content-n.viewport,m=r==="ltr"?[0,p]:[p*-1,0];return H5([d,h],m)(e)}function F5(e,t){return e>0&&e<t}function Gs(e){return e?parseInt(e,10):0}function ic(e,t,{checkForDefaultPrevented:n=!0}={}){return r=>{e?.(r),(n===!1||!r.defaultPrevented)&&t?.(r)}}const[cG,V5]=xr("ScrollAreaScrollbar was not found in tree"),W5=b.forwardRef((e,t)=>{const{sizes:n,hasThumb:r,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:u,onDragScroll:d,onWheelScroll:h,onResize:p,...m}=e,g=Si(),[y,S]=b.useState(null),x=Yn(t,O=>S(O)),C=b.useRef(null),E=b.useRef(""),{viewport:j}=g,R=n.content-n.viewport,_=Ql(h),A=Ql(u),M=Zo(p,10),D=O=>{if(C.current){const k=O.clientX-C.current.left,I=O.clientY-C.current.top;d({x:k,y:I})}};return b.useEffect(()=>{const O=k=>{const I=k.target;y?.contains(I)&&_(k,R)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[j,y,R,_]),b.useEffect(A,[n,A]),ed(y,M),ed(g.content,M),s.jsx(cG,{value:{scrollbar:y,hasThumb:r,onThumbChange:Ql(a),onThumbPointerUp:Ql(i),onThumbPositionChange:A,onThumbPointerDown:Ql(l)},children:s.jsx("div",{...m,ref:x,"data-mantine-scrollbar":!0,style:{position:"absolute",...m.style},onPointerDown:ic(e.onPointerDown,O=>{O.preventDefault(),O.button===0&&(O.target.setPointerCapture(O.pointerId),C.current=y.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",D(O))}),onPointerMove:ic(e.onPointerMove,D),onPointerUp:ic(e.onPointerUp,O=>{const k=O.target;k.hasPointerCapture(O.pointerId)&&(O.preventDefault(),k.releasePointerCapture(O.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=E.current,C.current=null}})})}),G5=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:a,...i}=e,l=Si(),[u,d]=b.useState(),h=b.useRef(null),p=Yn(t,h,l.onScrollbarXChange);return b.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),s.jsx(W5,{"data-orientation":"horizontal",...i,ref:p,sizes:n,style:{...a,"--sa-thumb-width":`${Rv(n)}px`},onThumbPointerDown:m=>e.onThumbPointerDown(m.x),onDragScroll:m=>e.onDragScroll(m.x),onWheelScroll:(m,g)=>{if(l.viewport){const y=l.viewport.scrollLeft+m.deltaX;e.onWheelScroll(y),F5(y,g)&&m.preventDefault()}},onResize:()=>{h.current&&l.viewport&&u&&r({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:Gs(u.paddingLeft),paddingEnd:Gs(u.paddingRight)}})}})});G5.displayName="@mantine/core/ScrollAreaScrollbarX";const Y5=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:a,...i}=e,l=Si(),[u,d]=b.useState(),h=b.useRef(null),p=Yn(t,h,l.onScrollbarYChange);return b.useEffect(()=>{h.current&&d(window.getComputedStyle(h.current))},[]),s.jsx(W5,{...i,"data-orientation":"vertical",ref:p,sizes:n,style:{"--sa-thumb-height":`${Rv(n)}px`,...a},onThumbPointerDown:m=>e.onThumbPointerDown(m.y),onDragScroll:m=>e.onDragScroll(m.y),onWheelScroll:(m,g)=>{if(l.viewport){const y=l.viewport.scrollTop+m.deltaY;e.onWheelScroll(y),F5(y,g)&&m.preventDefault()}},onResize:()=>{h.current&&l.viewport&&u&&r({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:Gs(u.paddingTop),paddingEnd:Gs(u.paddingBottom)}})}})});Y5.displayName="@mantine/core/ScrollAreaScrollbarY";const _v=b.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,{dir:a}=ss(),i=Si(),l=b.useRef(null),u=b.useRef(0),[d,h]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=B5(d.viewport,d.content),m={...r,sizes:d,onSizesChange:h,hasThumb:p>0&&p<1,onThumbChange:y=>{l.current=y},onThumbPointerUp:()=>{u.current=0},onThumbPointerDown:y=>{u.current=y}},g=(y,S)=>lG(y,u.current,d,S);return n==="horizontal"?s.jsx(G5,{...m,ref:t,onThumbPositionChange:()=>{if(i.viewport&&l.current){const y=i.viewport.scrollLeft,S=Mk(y,d,a);l.current.style.transform=`translate3d(${S}px, 0, 0)`}},onWheelScroll:y=>{i.viewport&&(i.viewport.scrollLeft=y)},onDragScroll:y=>{i.viewport&&(i.viewport.scrollLeft=g(y,a))}}):n==="vertical"?s.jsx(Y5,{...m,ref:t,onThumbPositionChange:()=>{if(i.viewport&&l.current){const y=i.viewport.scrollTop,S=Mk(y,d);d.scrollbar.size===0?l.current.style.setProperty("--thumb-opacity","0"):l.current.style.setProperty("--thumb-opacity","1"),l.current.style.transform=`translate3d(0, ${S}px, 0)`}},onWheelScroll:y=>{i.viewport&&(i.viewport.scrollTop=y)},onDragScroll:y=>{i.viewport&&(i.viewport.scrollTop=g(y))}}):null});_v.displayName="@mantine/core/ScrollAreaScrollbarVisible";const _E=b.forwardRef((e,t)=>{const n=Si(),{forceMount:r,...a}=e,[i,l]=b.useState(!1),u=e.orientation==="horizontal",d=Zo(()=>{if(n.viewport){const h=n.viewport.offsetWidth<n.viewport.scrollWidth,p=n.viewport.offsetHeight<n.viewport.scrollHeight;l(u?h:p)}},10);return ed(n.viewport,d),ed(n.content,d),r||i?s.jsx(_v,{"data-state":i?"visible":"hidden",...a,ref:t}):null});_E.displayName="@mantine/core/ScrollAreaScrollbarAuto";const Q5=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Si(),[i,l]=b.useState(!1);return b.useEffect(()=>{const{scrollArea:u}=a;let d=0;if(u){const h=()=>{window.clearTimeout(d),l(!0)},p=()=>{d=window.setTimeout(()=>l(!1),a.scrollHideDelay)};return u.addEventListener("pointerenter",h),u.addEventListener("pointerleave",p),()=>{window.clearTimeout(d),u.removeEventListener("pointerenter",h),u.removeEventListener("pointerleave",p)}}},[a.scrollArea,a.scrollHideDelay]),n||i?s.jsx(_E,{"data-state":i?"visible":"hidden",...r,ref:t}):null});Q5.displayName="@mantine/core/ScrollAreaScrollbarHover";const uG=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Si(),i=e.orientation==="horizontal",[l,u]=b.useState("hidden"),d=Zo(()=>u("idle"),100);return b.useEffect(()=>{if(l==="idle"){const h=window.setTimeout(()=>u("hidden"),a.scrollHideDelay);return()=>window.clearTimeout(h)}},[l,a.scrollHideDelay]),b.useEffect(()=>{const{viewport:h}=a,p=i?"scrollLeft":"scrollTop";if(h){let m=h[p];const g=()=>{const y=h[p];m!==y&&(u("scrolling"),d()),m=y};return h.addEventListener("scroll",g),()=>h.removeEventListener("scroll",g)}},[a.viewport,i,d]),n||l!=="hidden"?s.jsx(_v,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ic(e.onPointerEnter,()=>u("interacting")),onPointerLeave:ic(e.onPointerLeave,()=>u("idle"))}):null}),mj=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Si(),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=a,u=e.orientation==="horizontal";return b.useEffect(()=>(u?i(!0):l(!0),()=>{u?i(!1):l(!1)}),[u,i,l]),a.type==="hover"?s.jsx(Q5,{...r,ref:t,forceMount:n}):a.type==="scroll"?s.jsx(uG,{...r,ref:t,forceMount:n}):a.type==="auto"?s.jsx(_E,{...r,ref:t,forceMount:n}):a.type==="always"?s.jsx(_v,{...r,ref:t}):null});mj.displayName="@mantine/core/ScrollAreaScrollbar";function dG(e,t=()=>{}){let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function a(){const i={left:e.scrollLeft,top:e.scrollTop},l=n.left!==i.left,u=n.top!==i.top;(l||u)&&t(),n=i,r=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(r)}const K5=b.forwardRef((e,t)=>{const{style:n,...r}=e,a=Si(),i=V5(),{onThumbPositionChange:l}=i,u=Yn(t,p=>i.onThumbChange(p)),d=b.useRef(void 0),h=Zo(()=>{d.current&&(d.current(),d.current=void 0)},100);return b.useEffect(()=>{const{viewport:p}=a;if(p){const m=()=>{if(h(),!d.current){const g=dG(p,l);d.current=g,l()}};return l(),p.addEventListener("scroll",m),()=>p.removeEventListener("scroll",m)}},[a.viewport,h,l]),s.jsx("div",{"data-state":i.hasThumb?"visible":"hidden",...r,ref:u,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:ic(e.onPointerDownCapture,p=>{const g=p.target.getBoundingClientRect(),y=p.clientX-g.left,S=p.clientY-g.top;i.onThumbPointerDown({x:y,y:S})}),onPointerUp:ic(e.onPointerUp,i.onThumbPointerUp)})});K5.displayName="@mantine/core/ScrollAreaThumb";const gj=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=V5();return n||a.hasThumb?s.jsx(K5,{ref:t,...r}):null});gj.displayName="@mantine/core/ScrollAreaThumb";const X5=b.forwardRef(({children:e,style:t,...n},r)=>{const a=Si(),i=Yn(r,a.onViewportChange);return s.jsx(te,{...n,ref:i,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t},children:s.jsx("div",{...a.getStyles("content"),ref:a.onContentChange,children:e})})});X5.displayName="@mantine/core/ScrollAreaViewport";var DE={root:"m_d57069b5",content:"m_b1336c6",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const Z5={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},fG=(e,{scrollbarSize:t,overscrollBehavior:n})=>({root:{"--scrollarea-scrollbar-size":me(t),"--scrollarea-over-scroll-behavior":n}}),mn=xe((e,t)=>{const n=le("ScrollArea",Z5,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,scrollbarSize:d,vars:h,type:p,scrollHideDelay:m,viewportProps:g,viewportRef:y,onScrollPositionChange:S,children:x,offsetScrollbars:C,scrollbars:E,onBottomReached:j,onTopReached:R,overscrollBehavior:_,attributes:A,...M}=n,[D,O]=b.useState(!1),[k,I]=b.useState(!1),[L,V]=b.useState(!1),q=Ne({name:"ScrollArea",props:n,classes:DE,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:A,vars:h,varsResolver:fG}),U=b.useRef(null),G=z5([y,U]);return b.useEffect(()=>{if(!U.current||C!=="present")return;const N=U.current,z=new ResizeObserver(()=>{const{scrollHeight:$,clientHeight:Y,scrollWidth:X,clientWidth:H}=N;I($>Y),V(X>H)});return z.observe(N),()=>z.disconnect()},[U,C]),s.jsxs(U5,{getStyles:q,type:p==="never"?"always":p,scrollHideDelay:m,ref:t,scrollbars:E,...q("root"),...M,children:[s.jsx(X5,{...g,...q("viewport",{style:g?.style}),ref:G,"data-offset-scrollbars":C===!0?"xy":C||void 0,"data-scrollbars":E||void 0,"data-horizontal-hidden":C==="present"&&!L?"true":void 0,"data-vertical-hidden":C==="present"&&!k?"true":void 0,onScroll:N=>{g?.onScroll?.(N),S?.({x:N.currentTarget.scrollLeft,y:N.currentTarget.scrollTop});const{scrollTop:z,scrollHeight:$,clientHeight:Y}=N.currentTarget;z-($-Y)>=-.6&&j?.(),z===0&&R?.()},children:x}),(E==="xy"||E==="x")&&s.jsx(mj,{...q("scrollbar"),orientation:"horizontal","data-hidden":p==="never"||C==="present"&&!L?!0:void 0,forceMount:!0,onMouseEnter:()=>O(!0),onMouseLeave:()=>O(!1),children:s.jsx(gj,{...q("thumb")})}),(E==="xy"||E==="y")&&s.jsx(mj,{...q("scrollbar"),orientation:"vertical","data-hidden":p==="never"||C==="present"&&!k?!0:void 0,forceMount:!0,onMouseEnter:()=>O(!0),onMouseLeave:()=>O(!1),children:s.jsx(gj,{...q("thumb")})}),s.jsx(iG,{...q("corner"),"data-hovered":D||void 0,"data-hidden":p==="never"||void 0})]})});mn.displayName="@mantine/core/ScrollArea";const Dv=xe((e,t)=>{const{children:n,classNames:r,styles:a,scrollbarSize:i,scrollHideDelay:l,type:u,dir:d,offsetScrollbars:h,viewportRef:p,onScrollPositionChange:m,unstyled:g,variant:y,viewportProps:S,scrollbars:x,style:C,vars:E,onBottomReached:j,onTopReached:R,onOverflowChange:_,...A}=le("ScrollAreaAutosize",Z5,e),M=b.useRef(null),D=z5([p,M]),[O,k]=b.useState(!1),I=b.useRef(!1);return b.useEffect(()=>{if(!_)return;const L=M.current;if(!L)return;const V=()=>{const U=L.scrollHeight>L.clientHeight;U!==O&&(I.current?_?.(U):(I.current=!0,U&&_?.(!0)),k(U))};V();const q=new ResizeObserver(V);return q.observe(L),()=>q.disconnect()},[_,O]),s.jsx(te,{...A,ref:t,style:[{display:"flex",overflow:"hidden"},C],children:s.jsx(te,{style:{display:"flex",flexDirection:"column",flex:1,overflow:"hidden",...x==="y"&&{minWidth:0},...x==="x"&&{minHeight:0},...x==="xy"&&{minWidth:0,minHeight:0},...x===!1&&{minWidth:0,minHeight:0}},children:s.jsx(mn,{classNames:r,styles:a,scrollHideDelay:l,scrollbarSize:i,type:u,dir:d,offsetScrollbars:h,viewportRef:D,onScrollPositionChange:m,unstyled:g,variant:y,viewportProps:S,vars:E,scrollbars:x,onBottomReached:j,onTopReached:R,"data-autosize":"true",children:n})})})});mn.classes=DE;Dv.displayName="@mantine/core/ScrollAreaAutosize";Dv.classes=DE;mn.Autosize=Dv;var J5={root:"m_87cf2631"};const hG={__staticSelector:"UnstyledButton"},Wn=Qn((e,t)=>{const n=le("UnstyledButton",hG,e),{className:r,component:a="button",__staticSelector:i,unstyled:l,classNames:u,styles:d,style:h,attributes:p,...m}=n,g=Ne({name:i,props:n,classes:J5,className:r,style:h,classNames:u,styles:d,unstyled:l,attributes:p});return s.jsx(te,{...g("root",{focusable:!0}),component:a,ref:t,type:a==="button"?"button":void 0,...m})});Wn.classes=J5;Wn.displayName="@mantine/core/UnstyledButton";var e9={root:"m_515a97f8"};const AE=xe((e,t)=>{const n=le("VisuallyHidden",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,attributes:h,...p}=n,m=Ne({name:"VisuallyHidden",classes:e9,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:h});return s.jsx(te,{component:"span",ref:t,...m("root"),...p})});AE.classes=e9;AE.displayName="@mantine/core/VisuallyHidden";var t9={root:"m_1b7284a3"};const pG=(e,{radius:t,shadow:n})=>({root:{"--paper-radius":t===void 0?void 0:Ut(t),"--paper-shadow":cE(n)}}),Lt=Qn((e,t)=>{const n=le("Paper",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,withBorder:d,vars:h,radius:p,shadow:m,variant:g,mod:y,attributes:S,...x}=n,C=Ne({name:"Paper",props:n,classes:t9,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:S,vars:h,varsResolver:pG});return s.jsx(te,{ref:t,mod:[{"data-with-border":d},y],...C("root"),variant:g,...x})});Lt.classes=t9;Lt.displayName="@mantine/core/Paper";function Pk(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function Nk(e,t,n,r,a){return e==="center"||r==="center"?{left:t}:e==="end"?{[a==="ltr"?"right":"left"]:n}:e==="start"?{[a==="ltr"?"left":"right"]:n}:{}}const mG={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function gG({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:a,arrowX:i,arrowY:l,dir:u}){const[d,h="center"]=e.split("-"),p={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[mG[d]]:r},m=-t/2;return d==="left"?{...p,...Pk(h,l,n,a),right:m,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:d==="right"?{...p,...Pk(h,l,n,a),left:m,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:d==="top"?{...p,...Nk(h,i,n,a,u),bottom:m,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:d==="bottom"?{...p,...Nk(h,i,n,a,u),top:m,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const Bg=b.forwardRef(({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:a,visible:i,arrowX:l,arrowY:u,style:d,...h},p)=>{const{dir:m}=ss();return i?s.jsx("div",{...h,ref:p,style:{...d,...gG({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:a,dir:m,arrowX:l,arrowY:u})}}):null});Bg.displayName="@mantine/core/FloatingArrow";function n9(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),a=n==="right"?"left":"right";return r===void 0?a:`${a}-${r}`}return t}var r9={root:"m_9814e45f"};const vG={zIndex:Sr("modal")},yG=(e,{gradient:t,color:n,backgroundOpacity:r,blur:a,radius:i,zIndex:l})=>({root:{"--overlay-bg":t||(n!==void 0||r!==void 0)&&ci(n||"#000",r??.6)||void 0,"--overlay-filter":a?`blur(${me(a)})`:void 0,"--overlay-radius":i===void 0?void 0:Ut(i),"--overlay-z-index":l?.toString()}}),td=Qn((e,t)=>{const n=le("Overlay",vG,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,fixed:h,center:p,children:m,radius:g,zIndex:y,gradient:S,blur:x,color:C,backgroundOpacity:E,mod:j,attributes:R,..._}=n,A=Ne({name:"Overlay",props:n,classes:r9,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:R,vars:d,varsResolver:yG});return s.jsx(te,{ref:t,...A("root"),mod:[{center:p,fixed:h},j],..._,children:m})});td.classes=r9;td.displayName="@mantine/core/Overlay";function $x(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function bG({target:e,reuseTargetNode:t,...n}){if(e)return typeof e=="string"?document.querySelector(e)||$x(n):e;if(t){const r=document.querySelector("[data-mantine-shared-portal-node]");if(r)return r;const a=$x(n);return a.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(a),a}return $x(n)}const xG={reuseTargetNode:!0},a9=xe((e,t)=>{const{children:n,target:r,reuseTargetNode:a,...i}=le("Portal",xG,e),[l,u]=b.useState(!1),d=b.useRef(null);return kc(()=>(u(!0),d.current=bG({target:r,reuseTargetNode:a,...i}),aj(t,d.current),!r&&!a&&d.current&&document.body.appendChild(d.current),()=>{!r&&!a&&d.current&&document.body.removeChild(d.current)}),[r]),!l||!d.current?null:Sv.createPortal(s.jsx(s.Fragment,{children:n}),d.current)});a9.displayName="@mantine/core/Portal";const el=xe(({withinPortal:e=!0,children:t,...n},r)=>xv()==="test"||!e?s.jsx(s.Fragment,{children:t}):s.jsx(a9,{ref:r,...n,children:t}));el.displayName="@mantine/core/OptionalPortal";const Af=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),zm={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Af("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Af("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Af("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Af("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Af("top"),common:{transformOrigin:"top right"}}},Ik={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function SG({transition:e,state:t,duration:n,timingFunction:r}){const a={WebkitBackfaceVisibility:"hidden",transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in zm?{transitionProperty:zm[e].transitionProperty,...a,...zm[e].common,...zm[e][Ik[t]]}:{}:{transitionProperty:e.transitionProperty,...a,...e.common,...e[Ik[t]]}}function wG({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:a,onExit:i,onEntered:l,onExited:u,enterDelay:d,exitDelay:h}){const p=Cn(),m=vv(),g=p.respectReducedMotion?m:!1,[y,S]=b.useState(g?0:e),[x,C]=b.useState(r?"entered":"exited"),E=b.useRef(-1),j=b.useRef(-1),R=b.useRef(-1);function _(){window.clearTimeout(E.current),window.clearTimeout(j.current),cancelAnimationFrame(R.current)}const A=D=>{_();const O=D?a:i,k=D?l:u,I=g?0:D?e:t;S(I),I===0?(typeof O=="function"&&O(),typeof k=="function"&&k(),C(D?"entered":"exited")):R.current=requestAnimationFrame(()=>{Jl.flushSync(()=>{C(D?"pre-entering":"pre-exiting")}),R.current=requestAnimationFrame(()=>{typeof O=="function"&&O(),C(D?"entering":"exiting"),E.current=window.setTimeout(()=>{typeof k=="function"&&k(),C(D?"entered":"exited")},I)})})},M=D=>{if(_(),typeof(D?d:h)!="number"){A(D);return}j.current=window.setTimeout(()=>{A(D)},D?d:h)};return Js(()=>{M(r)},[r]),b.useEffect(()=>()=>{_()},[]),{transitionDuration:y,transitionStatus:x,transitionTimingFunction:n||"ease"}}function Bi({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:r=n,mounted:a,children:i,timingFunction:l="ease",onExit:u,onEntered:d,onEnter:h,onExited:p,enterDelay:m,exitDelay:g}){const y=xv(),{transitionDuration:S,transitionStatus:x,transitionTimingFunction:C}=wG({mounted:a,exitDuration:r,duration:n,timingFunction:l,onExit:u,onEntered:d,onEnter:h,onExited:p,enterDelay:m,exitDelay:g});return S===0||y==="test"?a?s.jsx(s.Fragment,{children:i({})}):e?i({display:"none"}):null:x==="exited"?e?i({display:"none"}):null:s.jsx(s.Fragment,{children:i(SG({transition:t,duration:S,state:x,timingFunction:C}))})}Bi.displayName="@mantine/core/Transition";const[CG,i9]=xr("Popover component was not found in the tree");function Av({children:e,active:t=!0,refProp:n="ref",innerRef:r}){const a=OH(t),i=Yn(a,r),l=Mc(e);return l?b.cloneElement(l,{[n]:i}):e}function o9(e){return s.jsx(AE,{tabIndex:-1,"data-autofocus":!0,...e})}Av.displayName="@mantine/core/FocusTrap";o9.displayName="@mantine/core/FocusTrapInitialFocus";Av.InitialFocus=o9;var s9={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const OE=xe((e,t)=>{const n=le("PopoverDropdown",null,e),{className:r,style:a,vars:i,children:l,onKeyDownCapture:u,variant:d,classNames:h,styles:p,...m}=n,g=i9(),y=i5({opened:g.opened,shouldReturnFocus:g.returnFocus}),S=g.withRoles?{"aria-labelledby":g.getTargetId(),id:g.getDropdownId(),role:"dialog",tabIndex:-1}:{},x=Yn(t,g.floating);return g.disabled?null:s.jsx(el,{...g.portalProps,withinPortal:g.withinPortal,children:s.jsx(Bi,{mounted:g.opened,...g.transitionProps,transition:g.transitionProps?.transition||"fade",duration:g.transitionProps?.duration??150,keepMounted:g.keepMounted,exitDuration:typeof g.transitionProps?.exitDuration=="number"?g.transitionProps.exitDuration:g.transitionProps?.duration,children:C=>s.jsx(Av,{active:g.trapFocus&&g.opened,innerRef:x,children:s.jsxs(te,{...S,...m,variant:d,onKeyDownCapture:vH(()=>{g.onClose?.(),g.onDismiss?.()},{active:g.closeOnEscape,onTrigger:y,onKeyDown:u}),"data-position":g.placement,"data-fixed":g.floatingStrategy==="fixed"||void 0,...g.getStyles("dropdown",{className:r,props:n,classNames:h,styles:p,style:[{...C,zIndex:g.zIndex,top:g.y??0,left:g.x??0,width:g.width==="target"?void 0:me(g.width),...g.referenceHidden?{display:"none"}:null},g.resolvedStyles.dropdown,p?.dropdown,a]}),children:[l,s.jsx(Bg,{ref:g.arrowRef,arrowX:g.arrowX,arrowY:g.arrowY,visible:g.withArrow,position:g.placement,arrowSize:g.arrowSize,arrowRadius:g.arrowRadius,arrowOffset:g.arrowOffset,arrowPosition:g.arrowPosition,...g.getStyles("arrow",{props:n,classNames:h,styles:p})})]})})})})});OE.classes=s9;OE.displayName="@mantine/core/PopoverDropdown";const jG={refProp:"ref",popupType:"dialog"},l9=xe((e,t)=>{const{children:n,refProp:r,popupType:a,...i}=le("PopoverTarget",jG,e),l=Mc(n);if(!l)throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const u=i,d=i9(),h=Yn(d.reference,yv(l),t),p=d.withRoles?{"aria-haspopup":a,"aria-expanded":d.opened,"aria-controls":d.getDropdownId(),id:d.getTargetId()}:{},m=l.props;return b.cloneElement(l,{...u,...p,...d.targetProps,className:Rt(d.targetProps.className,u.className,m.className),[r]:h,...d.controlled?null:{onClick:()=>{d.onToggle(),m.onClick?.()}}})});l9.displayName="@mantine/core/PopoverTarget";function EG(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function TG(e,t,n){const r=EG(e.middlewares),a=[I5(e.offset),IW()];return e.dropdownVisible&&n!=="test"&&e.preventPositionChangeWhenVisible&&(r.flip=!1),r.shift&&a.push(CE(typeof r.shift=="boolean"?{limiter:Tk(),padding:5}:{limiter:Tk(),padding:5,...r.shift})),r.flip&&a.push(typeof r.flip=="boolean"?Ug():Ug(r.flip)),r.inline&&a.push(typeof r.inline=="boolean"?Kf():Kf(r.inline)),a.push(L5({element:e.arrowRef,padding:e.arrowOffset})),(r.size||e.width==="target")&&a.push(NW({...typeof r.size=="boolean"?{}:r.size,apply({rects:i,availableWidth:l,availableHeight:u,...d}){const p=t().refs.floating.current?.style??{};r.size&&(typeof r.size=="object"&&r.size.apply?r.size.apply({rects:i,availableWidth:l,availableHeight:u,...d}):Object.assign(p,{maxWidth:`${l}px`,maxHeight:`${u}px`})),e.width==="target"&&Object.assign(p,{width:`${i.reference.width}px`})}})),a}function RG(e){const t=xv(),[n,r]=sr({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),a=b.useRef(n),i=()=>{n&&!e.disabled&&r(!1)},l=()=>{e.disabled||r(!n)},u=RE({strategy:e.strategy,placement:e.preventPositionChangeWhenVisible?e.positionRef.current:e.position,middleware:TG(e,()=>u,t),whileElementsMounted:e.keepMounted?void 0:hj});return b.useEffect(()=>{if(!(!u.refs.reference.current||!u.refs.floating.current)&&n)return hj(u.refs.reference.current,u.refs.floating.current,u.update)},[n,u.update]),Js(()=>{e.onPositionChange?.(u.placement),e.positionRef.current=u.placement},[u.placement,e.preventPositionChangeWhenVisible]),Js(()=>{n!==a.current&&(n?e.onOpen?.():e.onClose?.()),a.current=n},[n,e.onClose,e.onOpen]),kc(()=>{let d=-1;return n&&(d=window.setTimeout(()=>e.setDropdownVisible(!0),4)),()=>{window.clearTimeout(d)}},[n,e.position]),{floating:u,controlled:typeof e.opened=="boolean",opened:n,onClose:i,onToggle:l}}const _G={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,hideDetached:!0,clickOutsideEvents:["mousedown","touchstart"],zIndex:Sr("popover"),__staticSelector:"Popover",width:"max-content"},DG=(e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:Ut(t),"--popover-shadow":cE(n)}});function Ca(e){const t=le("Popover",_G,e),{children:n,position:r,offset:a,onPositionChange:i,positionDependencies:l,opened:u,transitionProps:d,onExitTransitionEnd:h,onEnterTransitionEnd:p,width:m,middlewares:g,withArrow:y,arrowSize:S,arrowOffset:x,arrowRadius:C,arrowPosition:E,unstyled:j,classNames:R,styles:_,closeOnClickOutside:A,withinPortal:M,portalProps:D,closeOnEscape:O,clickOutsideEvents:k,trapFocus:I,onClose:L,onDismiss:V,onOpen:q,onChange:U,zIndex:G,radius:N,shadow:z,id:$,defaultOpened:Y,__staticSelector:X,withRoles:H,disabled:F,returnFocus:Q,variant:J,keepMounted:re,vars:de,floatingStrategy:Ee,withOverlay:Re,overlayProps:Se,hideDetached:Ye,attributes:Je,preventPositionChangeWhenVisible:Ve,...ze}=t,mt=Ne({name:X,props:t,classes:s9,classNames:R,styles:_,unstyled:j,attributes:Je,rootSelector:"dropdown",vars:de,varsResolver:DG}),{resolvedStyles:Ze}=vd({classNames:R,styles:_,props:t}),[Bt,ot]=b.useState(u??Y??!1),Ot=b.useRef(r),_t=b.useRef(null),[We,ht]=b.useState(null),[dt,pt]=b.useState(null),{dir:ut}=ss(),xt=xv(),hr=wr($),Ft=RG({middlewares:g,width:m,position:n9(ut,r),offset:typeof a=="number"?a+(y?S/2:0):a,arrowRef:_t,arrowOffset:x,onPositionChange:i,positionDependencies:l,opened:u,defaultOpened:Y,onChange:U,onOpen:q,onClose:L,onDismiss:V,strategy:Ee,dropdownVisible:Bt,setDropdownVisible:ot,positionRef:Ot,disabled:F,preventPositionChangeWhenVisible:Ve,keepMounted:re});wH(()=>{A&&(Ft.onClose(),V?.())},k,[We,dt]);const kt=b.useCallback(Kn=>{ht(Kn),Ft.floating.refs.setReference(Kn)},[Ft.floating.refs.setReference]),$n=b.useCallback(Kn=>{pt(Kn),Ft.floating.refs.setFloating(Kn)},[Ft.floating.refs.setFloating]),jr=b.useCallback(()=>{d?.onExited?.(),h?.(),ot(!1),Ve||(Ot.current=r)},[d?.onExited,h,Ve,r]),Qa=b.useCallback(()=>{d?.onEntered?.(),p?.()},[d?.onEntered,p]);return s.jsxs(CG,{value:{returnFocus:Q,disabled:F,controlled:Ft.controlled,reference:kt,floating:$n,x:Ft.floating.x,y:Ft.floating.y,arrowX:Ft.floating?.middlewareData?.arrow?.x,arrowY:Ft.floating?.middlewareData?.arrow?.y,opened:Ft.opened,arrowRef:_t,transitionProps:{...d,onExited:jr,onEntered:Qa},width:m,withArrow:y,arrowSize:S,arrowOffset:x,arrowRadius:C,arrowPosition:E,placement:Ft.floating.placement,trapFocus:I,withinPortal:M,portalProps:D,zIndex:G,radius:N,shadow:z,closeOnEscape:O,onDismiss:V,onClose:Ft.onClose,onToggle:Ft.onToggle,getTargetId:()=>`${hr}-target`,getDropdownId:()=>`${hr}-dropdown`,withRoles:H,targetProps:ze,__staticSelector:X,classNames:R,styles:_,unstyled:j,variant:J,keepMounted:re,getStyles:mt,resolvedStyles:Ze,floatingStrategy:Ee,referenceHidden:Ye&&xt!=="test"?Ft.floating.middlewareData.hide?.referenceHidden:!1},children:[n,Re&&s.jsx(Bi,{transition:"fade",mounted:Ft.opened,duration:d?.duration||250,exitDuration:d?.exitDuration||250,children:Kn=>s.jsx(el,{withinPortal:M,children:s.jsx(td,{...Se,...mt("overlay",{className:Se?.className,style:[Kn,Se?.style]})})})})]})}Ca.Target=l9;Ca.Dropdown=OE;Ca.displayName="@mantine/core/Popover";Ca.extend=e=>e;var Li={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const c9=b.forwardRef(({className:e,...t},n)=>s.jsxs(te,{component:"span",className:Rt(Li.barsLoader,e),...t,ref:n,children:[s.jsx("span",{className:Li.bar}),s.jsx("span",{className:Li.bar}),s.jsx("span",{className:Li.bar})]}));c9.displayName="@mantine/core/Bars";const u9=b.forwardRef(({className:e,...t},n)=>s.jsxs(te,{component:"span",className:Rt(Li.dotsLoader,e),...t,ref:n,children:[s.jsx("span",{className:Li.dot}),s.jsx("span",{className:Li.dot}),s.jsx("span",{className:Li.dot})]}));u9.displayName="@mantine/core/Dots";const d9=b.forwardRef(({className:e,...t},n)=>s.jsx(te,{component:"span",className:Rt(Li.ovalLoader,e),...t,ref:n}));d9.displayName="@mantine/core/Oval";const f9={bars:c9,oval:d9,dots:u9},AG={loaders:f9,type:"oval"},OG=(e,{size:t,color:n})=>({root:{"--loader-size":at(t,"loader-size"),"--loader-color":n?nn(n,e):void 0}}),tr=xe((e,t)=>{const n=le("Loader",AG,e),{size:r,color:a,type:i,vars:l,className:u,style:d,classNames:h,styles:p,unstyled:m,loaders:g,variant:y,children:S,attributes:x,...C}=n,E=Ne({name:"Loader",props:n,classes:Li,className:u,style:d,classNames:h,styles:p,unstyled:m,attributes:x,vars:l,varsResolver:OG});return S?s.jsx(te,{...E("root"),ref:t,...C,children:S}):s.jsx(te,{...E("root"),ref:t,component:g[i],variant:y,size:r,...C})});tr.defaultLoaders=f9;tr.classes=Li;tr.displayName="@mantine/core/Loader";var xd={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const Lk={orientation:"horizontal"},kG=(e,{borderWidth:t})=>({group:{"--ai-border-width":me(t)}}),kE=xe((e,t)=>{const n=le("ActionIconGroup",Lk,e),{className:r,style:a,classNames:i,styles:l,unstyled:u,orientation:d,vars:h,borderWidth:p,variant:m,mod:g,attributes:y,...S}=le("ActionIconGroup",Lk,e),x=Ne({name:"ActionIconGroup",props:n,classes:xd,className:r,style:a,classNames:i,styles:l,unstyled:u,attributes:y,vars:h,varsResolver:kG,rootSelector:"group"});return s.jsx(te,{...x("group"),ref:t,variant:m,mod:[{"data-orientation":d},g],role:"group",...S})});kE.classes=xd;kE.displayName="@mantine/core/ActionIconGroup";const MG=(e,{radius:t,color:n,gradient:r,variant:a,autoContrast:i,size:l})=>{const u=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:a||"filled",autoContrast:i});return{groupSection:{"--section-height":at(l,"section-height"),"--section-padding-x":at(l,"section-padding-x"),"--section-fz":Vn(l),"--section-radius":t===void 0?void 0:Ut(t),"--section-bg":n||a?u.background:void 0,"--section-color":u.color,"--section-bd":n||a?u.border:void 0}}},ME=xe((e,t)=>{const n=le("ActionIconGroupSection",null,e),{className:r,style:a,classNames:i,styles:l,unstyled:u,vars:d,variant:h,gradient:p,radius:m,autoContrast:g,attributes:y,...S}=n,x=Ne({name:"ActionIconGroupSection",props:n,classes:xd,className:r,style:a,classNames:i,styles:l,unstyled:u,attributes:y,vars:d,varsResolver:MG,rootSelector:"groupSection"});return s.jsx(te,{...x("groupSection"),ref:t,variant:h,...S})});ME.classes=xd;ME.displayName="@mantine/core/ActionIconGroupSection";const PG=(e,{size:t,radius:n,variant:r,gradient:a,color:i,autoContrast:l})=>{const u=e.variantColorResolver({color:i||e.primaryColor,theme:e,gradient:a,variant:r||"filled",autoContrast:l});return{root:{"--ai-size":at(t,"ai-size"),"--ai-radius":n===void 0?void 0:Ut(n),"--ai-bg":i||r?u.background:void 0,"--ai-hover":i||r?u.hover:void 0,"--ai-hover-color":i||r?u.hoverColor:void 0,"--ai-color":u.color,"--ai-bd":i||r?u.border:void 0}}},ft=Qn((e,t)=>{const n=le("ActionIcon",null,e),{className:r,unstyled:a,variant:i,classNames:l,styles:u,style:d,loading:h,loaderProps:p,size:m,color:g,radius:y,__staticSelector:S,gradient:x,vars:C,children:E,disabled:j,"data-disabled":R,autoContrast:_,mod:A,attributes:M,...D}=n,O=Ne({name:["ActionIcon",S],props:n,className:r,style:d,classes:xd,classNames:l,styles:u,unstyled:a,attributes:M,vars:C,varsResolver:PG});return s.jsxs(Wn,{...O("root",{active:!j&&!h&&!R}),...D,unstyled:a,variant:i,size:m,disabled:j||h,ref:t,mod:[{loading:h,disabled:j||R},A],children:[typeof h=="boolean"&&s.jsx(Bi,{mounted:h,transition:"slide-down",duration:150,children:k=>s.jsx(te,{component:"span",...O("loader",{style:k}),"aria-hidden":!0,children:s.jsx(tr,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...p})})}),s.jsx(te,{component:"span",mod:{loading:h},...O("icon"),children:E})]})});ft.classes=xd;ft.displayName="@mantine/core/ActionIcon";ft.Group=kE;ft.GroupSection=ME;const h9=b.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...n},r)=>s.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:r,...n,children:s.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));h9.displayName="@mantine/core/CloseIcon";var p9={root:"m_86a44da5","root--subtle":"m_220c80f2"};const NG={variant:"subtle"},IG=(e,{size:t,radius:n,iconSize:r})=>({root:{"--cb-size":at(t,"cb-size"),"--cb-radius":n===void 0?void 0:Ut(n),"--cb-icon-size":me(r)}}),fl=Qn((e,t)=>{const n=le("CloseButton",NG,e),{iconSize:r,children:a,vars:i,radius:l,className:u,classNames:d,style:h,styles:p,unstyled:m,"data-disabled":g,disabled:y,variant:S,icon:x,mod:C,attributes:E,__staticSelector:j,...R}=n,_=Ne({name:j||"CloseButton",props:n,className:u,style:h,classes:p9,classNames:d,styles:p,unstyled:m,attributes:E,vars:i,varsResolver:IG});return s.jsxs(Wn,{ref:t,...R,unstyled:m,variant:S,disabled:y,mod:[{disabled:y||g},C],..._("root",{variant:S,active:!y&&!g}),children:[x||s.jsx(h9,{}),a]})});fl.classes=p9;fl.displayName="@mantine/core/CloseButton";function LG(e){return b.Children.toArray(e).filter(Boolean)}var m9={root:"m_4081bf90"};const zG={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},$G=(e,{grow:t,preventGrowOverflow:n,gap:r,align:a,justify:i,wrap:l},{childWidth:u})=>({root:{"--group-child-width":t&&n?u:void 0,"--group-gap":In(r),"--group-align":a,"--group-justify":i,"--group-wrap":l}}),se=xe((e,t)=>{const n=le("Group",zG,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,children:d,gap:h,align:p,justify:m,wrap:g,grow:y,preventGrowOverflow:S,vars:x,variant:C,__size:E,mod:j,attributes:R,..._}=n,A=LG(d),M=A.length,D=In(h??"md"),k={childWidth:`calc(${100/M}% - (${D} - ${D} / ${M}))`},I=Ne({name:"Group",props:n,stylesCtx:k,className:a,style:i,classes:m9,classNames:r,styles:l,unstyled:u,attributes:R,vars:x,varsResolver:$G});return s.jsx(te,{...I("root"),ref:t,variant:C,mod:[{grow:y},j],size:E,..._,children:A})});se.classes=m9;se.displayName="@mantine/core/Group";const[qG,ls]=xr("ModalBase component was not found in tree");function UG({opened:e,transitionDuration:t}){const[n,r]=b.useState(e),a=b.useRef(-1),l=vv()?0:t;return b.useEffect(()=>(e?(r(!0),window.clearTimeout(a.current)):l===0?r(!1):a.current=window.setTimeout(()=>r(!1),l),()=>window.clearTimeout(a.current)),[e,l]),n}function BG({id:e,transitionProps:t,opened:n,trapFocus:r,closeOnEscape:a,onClose:i,returnFocus:l}){const u=wr(e),[d,h]=b.useState(!1),[p,m]=b.useState(!1),g=typeof t?.duration=="number"?t?.duration:200,y=UG({opened:n,transitionDuration:g});return c5("keydown",S=>{S.key==="Escape"&&a&&!S.isComposing&&n&&S.target?.getAttribute("data-mantine-stop-propagation")!=="true"&&i()},{capture:!0}),i5({opened:n,shouldReturnFocus:r&&l}),{_id:u,titleMounted:d,bodyMounted:p,shouldLockScroll:y,setTitleMounted:h,setBodyMounted:m}}const PE=b.forwardRef(({keepMounted:e,opened:t,onClose:n,id:r,transitionProps:a,onExitTransitionEnd:i,onEnterTransitionEnd:l,trapFocus:u,closeOnEscape:d,returnFocus:h,closeOnClickOutside:p,withinPortal:m,portalProps:g,lockScroll:y,children:S,zIndex:x,shadow:C,padding:E,__vars:j,unstyled:R,removeScrollProps:_,...A},M)=>{const{_id:D,titleMounted:O,bodyMounted:k,shouldLockScroll:I,setTitleMounted:L,setBodyMounted:V}=BG({id:r,transitionProps:a,opened:t,trapFocus:u,closeOnEscape:d,onClose:n,returnFocus:h}),{key:q,...U}=_||{};return s.jsx(el,{...g,withinPortal:m,children:s.jsx(qG,{value:{opened:t,onClose:n,closeOnClickOutside:p,onExitTransitionEnd:i,onEnterTransitionEnd:l,transitionProps:{...a,keepMounted:e},getTitleId:()=>`${D}-title`,getBodyId:()=>`${D}-body`,titleMounted:O,bodyMounted:k,setTitleMounted:L,setBodyMounted:V,trapFocus:u,closeOnEscape:d,zIndex:x,unstyled:R},children:s.jsx(uc,{enabled:I&&y,...U,children:s.jsx(te,{ref:M,...A,__vars:{...j,"--mb-z-index":(x||Sr("modal")).toString(),"--mb-shadow":cE(C),"--mb-padding":In(E)},children:S})},q)})})});PE.displayName="@mantine/core/ModalBase";function HG(){const e=ls();return b.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var nd={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const NE=b.forwardRef(({className:e,...t},n)=>{const r=HG(),a=ls();return s.jsx(te,{ref:n,...t,id:r,className:Rt({[nd.body]:!a.unstyled},e)})});NE.displayName="@mantine/core/ModalBaseBody";const IE=b.forwardRef(({className:e,onClick:t,...n},r)=>{const a=ls();return s.jsx(fl,{ref:r,...n,onClick:i=>{a.onClose(),t?.(i)},className:Rt({[nd.close]:!a.unstyled},e),unstyled:a.unstyled})});IE.displayName="@mantine/core/ModalBaseCloseButton";const LE=b.forwardRef(({transitionProps:e,className:t,innerProps:n,onKeyDown:r,style:a,...i},l)=>{const u=ls();return s.jsx(Bi,{mounted:u.opened,transition:"pop",...u.transitionProps,onExited:()=>{u.onExitTransitionEnd?.(),u.transitionProps?.onExited?.()},onEntered:()=>{u.onEnterTransitionEnd?.(),u.transitionProps?.onEntered?.()},...e,children:d=>s.jsx("div",{...n,className:Rt({[nd.inner]:!u.unstyled},n.className),children:s.jsx(Av,{active:u.opened&&u.trapFocus,innerRef:l,children:s.jsx(Lt,{...i,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":u.bodyMounted?u.getBodyId():void 0,"aria-labelledby":u.titleMounted?u.getTitleId():void 0,style:[a,d],className:Rt({[nd.content]:!u.unstyled},t),unstyled:u.unstyled,children:i.children})})})})});LE.displayName="@mantine/core/ModalBaseContent";const zE=b.forwardRef(({className:e,...t},n)=>{const r=ls();return s.jsx(te,{component:"header",ref:n,className:Rt({[nd.header]:!r.unstyled},e),...t})});zE.displayName="@mantine/core/ModalBaseHeader";const FG={duration:200,timingFunction:"ease",transition:"fade"};function VG(e){const t=ls();return{...FG,...t.transitionProps,...e}}const $E=b.forwardRef(({onClick:e,transitionProps:t,style:n,visible:r,...a},i)=>{const l=ls(),u=VG(t);return s.jsx(Bi,{mounted:r!==void 0?r:l.opened,...u,transition:"fade",children:d=>s.jsx(td,{ref:i,fixed:!0,style:[n,d],zIndex:l.zIndex,unstyled:l.unstyled,onClick:h=>{e?.(h),l.closeOnClickOutside&&l.onClose()},...a})})});$E.displayName="@mantine/core/ModalBaseOverlay";function WG(){const e=ls();return b.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const qE=b.forwardRef(({className:e,...t},n)=>{const r=WG(),a=ls();return s.jsx(te,{component:"h2",ref:n,className:Rt({[nd.title]:!a.unstyled},e),...t,id:r})});qE.displayName="@mantine/core/ModalBaseTitle";function g9({children:e}){return s.jsx(s.Fragment,{children:e})}const[GG,YG]=Gi({size:"sm"}),v9=xe((e,t)=>{const n=le("InputClearButton",null,e),{size:r,variant:a,vars:i,classNames:l,styles:u,...d}=n,h=YG(),{resolvedClassNames:p,resolvedStyles:m}=vd({classNames:l,styles:u,props:n});return s.jsx(fl,{variant:a||"transparent",ref:t,size:r||h?.size||"sm",classNames:p,styles:m,__staticSelector:"InputClearButton",style:{pointerEvents:"all",background:"var(--input-bg)",...d.style},...d})});v9.displayName="@mantine/core/InputClearButton";const QG={xs:7,sm:8,md:10,lg:12,xl:15};function KG({__clearable:e,__clearSection:t,rightSection:n,__defaultRightSection:r,size:a="sm"}){const i=e&&t;return i&&(n||r)?s.jsxs("div",{"data-combined-clear-section":!0,style:{display:"flex",gap:2,alignItems:"center",paddingInlineEnd:QG[a]},children:[i,n||r]}):n===null?null:n||i||r}const[XG,Sd]=Gi({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var wi={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const ZG=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${Vn(t)} - ${me(2)})`}}),Ov=xe((e,t)=>{const n=le("InputDescription",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,size:h,__staticSelector:p,__inheritStyles:m=!0,attributes:g,variant:y,...S}=le("InputDescription",null,n),x=Sd(),C=Ne({name:["InputWrapper",p],props:n,classes:wi,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:g,rootSelector:"description",vars:d,varsResolver:ZG}),E=m&&x?.getStyles||C;return s.jsx(te,{component:"p",ref:t,variant:y,size:h,...E("description",x?.getStyles?{className:a,style:i}:void 0),...S})});Ov.classes=wi;Ov.displayName="@mantine/core/InputDescription";const JG=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${Vn(t)} - ${me(2)})`}}),kv=xe((e,t)=>{const n=le("InputError",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,size:h,attributes:p,__staticSelector:m,__inheritStyles:g=!0,variant:y,...S}=n,x=Ne({name:["InputWrapper",m],props:n,classes:wi,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:p,rootSelector:"error",vars:d,varsResolver:JG}),C=Sd(),E=g&&C?.getStyles||x;return s.jsx(te,{component:"p",ref:t,variant:y,size:h,...E("error",C?.getStyles?{className:a,style:i}:void 0),...S})});kv.classes=wi;kv.displayName="@mantine/core/InputError";const zk={labelElement:"label"},eY=(e,{size:t})=>({label:{"--input-label-size":Vn(t),"--input-asterisk-color":void 0}}),Mv=xe((e,t)=>{const n=le("InputLabel",zk,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,labelElement:h,size:p,required:m,htmlFor:g,onMouseDown:y,children:S,__staticSelector:x,variant:C,mod:E,attributes:j,...R}=le("InputLabel",zk,n),_=Ne({name:["InputWrapper",x],props:n,classes:wi,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:j,rootSelector:"label",vars:d,varsResolver:eY}),A=Sd(),M=A?.getStyles||_;return s.jsxs(te,{...M("label",A?.getStyles?{className:a,style:i}:void 0),component:h,variant:C,size:p,ref:t,htmlFor:h==="label"?g:void 0,mod:[{required:m},E],onMouseDown:D=>{y?.(D),!D.defaultPrevented&&D.detail>1&&D.preventDefault()},...R,children:[S,m&&s.jsx("span",{...M("required"),"aria-hidden":!0,children:" *"})]})});Mv.classes=wi;Mv.displayName="@mantine/core/InputLabel";const UE=xe((e,t)=>{const n=le("InputPlaceholder",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,__staticSelector:h,variant:p,error:m,mod:g,attributes:y,...S}=n,x=Ne({name:["InputPlaceholder",h],props:n,classes:wi,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:y,rootSelector:"placeholder"});return s.jsx(te,{...x("placeholder"),mod:[{error:!!m},g],component:"span",variant:p,ref:t,...S})});UE.classes=wi;UE.displayName="@mantine/core/InputPlaceholder";function tY(e,{hasDescription:t,hasError:n}){const r=e.findIndex(d=>d==="input"),a=e.slice(0,r),i=e.slice(r+1),l=t&&a.includes("description")||n&&a.includes("error");return{offsetBottom:t&&i.includes("description")||n&&i.includes("error"),offsetTop:l}}const nY={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},rY=(e,{size:t})=>({label:{"--input-label-size":Vn(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${Vn(t)} - ${me(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${Vn(t)} - ${me(2)})`}}),BE=xe((e,t)=>{const n=le("InputWrapper",nY,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,size:h,variant:p,__staticSelector:m,inputContainer:g,inputWrapperOrder:y,label:S,error:x,description:C,labelProps:E,descriptionProps:j,errorProps:R,labelElement:_,children:A,withAsterisk:M,id:D,required:O,__stylesApiProps:k,mod:I,attributes:L,...V}=n,q=Ne({name:["InputWrapper",m],props:k||n,classes:wi,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:L,vars:d,varsResolver:rY}),U={size:h,variant:p,__staticSelector:m},G=wr(D),N=typeof M=="boolean"?M:O,z=R?.id||`${G}-error`,$=j?.id||`${G}-description`,Y=G,X=!!x&&typeof x!="boolean",H=!!C,F=`${X?z:""} ${H?$:""}`,Q=F.trim().length>0?F.trim():void 0,J=E?.id||`${G}-label`,re=S&&s.jsx(Mv,{labelElement:_,id:J,htmlFor:Y,required:N,...U,...E,children:S},"label"),de=H&&s.jsx(Ov,{...j,...U,size:j?.size||U.size,id:j?.id||$,children:C},"description"),Ee=s.jsx(b.Fragment,{children:g(A)},"input"),Re=X&&b.createElement(kv,{...R,...U,size:R?.size||U.size,key:"error",id:R?.id||z},x),Se=y.map(Ye=>{switch(Ye){case"label":return re;case"input":return Ee;case"description":return de;case"error":return Re;default:return null}});return s.jsx(XG,{value:{getStyles:q,describedBy:Q,inputId:Y,labelId:J,...tY(y,{hasDescription:H,hasError:X})},children:s.jsx(te,{ref:t,variant:p,size:h,mod:[{error:!!x},I],...q("root"),...V,children:Se})})});BE.classes=wi;BE.displayName="@mantine/core/InputWrapper";const aY={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0,size:"sm"},iY=(e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":at(t.size,"input-height"),"--input-fz":Vn(t.size),"--input-radius":t.radius===void 0?void 0:Ut(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?me(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?me(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?at(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),Gt=Qn((e,t)=>{const n=le("Input",aY,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,required:d,__staticSelector:h,__stylesApiProps:p,size:m,wrapperProps:g,error:y,disabled:S,leftSection:x,leftSectionProps:C,leftSectionWidth:E,rightSection:j,rightSectionProps:R,rightSectionWidth:_,rightSectionPointerEvents:A,leftSectionPointerEvents:M,variant:D,vars:O,pointer:k,multiline:I,radius:L,id:V,withAria:q,withErrorStyles:U,mod:G,inputSize:N,attributes:z,__clearSection:$,__clearable:Y,__defaultRightSection:X,...H}=n,{styleProps:F,rest:Q}=os(H),J=Sd(),re={offsetBottom:J?.offsetBottom,offsetTop:J?.offsetTop},de=Ne({name:["Input",h],props:p||n,classes:wi,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:z,stylesCtx:re,rootSelector:"wrapper",vars:O,varsResolver:iY}),Ee=q?{required:d,disabled:S,"aria-invalid":!!y,"aria-describedby":J?.describedBy,id:J?.inputId||V}:{},Re=KG({__clearable:Y,__clearSection:$,rightSection:j,__defaultRightSection:X,size:m});return s.jsx(GG,{value:{size:m||"sm"},children:s.jsxs(te,{...de("wrapper"),...F,...g,mod:[{error:!!y&&U,pointer:k,disabled:S,multiline:I,"data-with-right-section":!!Re,"data-with-left-section":!!x},G],variant:D,size:m,children:[x&&s.jsx("div",{...C,"data-position":"left",...de("section",{className:C?.className,style:C?.style}),children:x}),s.jsx(te,{component:"input",...Q,...Ee,ref:t,required:d,mod:{disabled:S,error:!!y&&U},variant:D,__size:N,...de("input")}),Re&&s.jsx("div",{...R,"data-position":"right",...de("section",{className:R?.className,style:R?.style}),children:Re})]})})});Gt.classes=wi;Gt.Wrapper=BE;Gt.Label=Mv;Gt.Error=kv;Gt.Description=Ov;Gt.Placeholder=UE;Gt.ClearButton=v9;Gt.displayName="@mantine/core/Input";function oY(e,t,n){const r=le(e,t,n),{label:a,description:i,error:l,required:u,classNames:d,styles:h,className:p,unstyled:m,__staticSelector:g,__stylesApiProps:y,errorProps:S,labelProps:x,descriptionProps:C,wrapperProps:E,id:j,size:R,style:_,inputContainer:A,inputWrapperOrder:M,withAsterisk:D,variant:O,vars:k,mod:I,attributes:L,...V}=r,{styleProps:q,rest:U}=os(V),G={label:a,description:i,error:l,required:u,classNames:d,className:p,__staticSelector:g,__stylesApiProps:y||r,errorProps:S,labelProps:x,descriptionProps:C,unstyled:m,styles:h,size:R,style:_,inputContainer:A,inputWrapperOrder:M,withAsterisk:D,variant:O,id:j,mod:I,attributes:L,...E};return{...U,classNames:d,styles:h,unstyled:m,wrapperProps:{...G,...q},inputProps:{required:u,classNames:d,styles:h,unstyled:m,size:R,__staticSelector:g,__stylesApiProps:y||r,error:l,variant:O,id:j,attributes:L}}}const sY={__staticSelector:"InputBase",withAria:!0,size:"sm"},Va=Qn((e,t)=>{const{inputProps:n,wrapperProps:r,...a}=oY("InputBase",sY,e);return s.jsx(Gt.Wrapper,{...r,children:s.jsx(Gt,{...n,...a,ref:t})})});Va.classes={...Gt.classes,...Gt.Wrapper.classes};Va.displayName="@mantine/core/InputBase";const lY={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var y9={root:"m_8bffd616"};const $e=Qn((e,t)=>{const n=le("Flex",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,gap:h,rowGap:p,columnGap:m,align:g,justify:y,wrap:S,direction:x,attributes:C,...E}=n,j=Ne({name:"Flex",classes:y9,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:C,vars:d}),R=Cn(),_=Mh(),A=y5({styleProps:{gap:h,rowGap:p,columnGap:m,align:g,justify:y,wrap:S,direction:x},theme:R,data:lY});return s.jsxs(s.Fragment,{children:[A.hasResponsiveStyles&&s.jsx(Pc,{selector:`.${_}`,styles:A.styles,media:A.media}),s.jsx(te,{ref:t,...j("root",{className:_,style:dl(A.inlineStyles)}),...E})]})});$e.classes=y9;$e.displayName="@mantine/core/Flex";function cY(e,t){if(!t||!e)return!1;let n=t.parentNode;for(;n!=null;){if(n===e)return!0;n=n.parentNode}return!1}function uY({target:e,parent:t,ref:n,displayAfterTransitionEnd:r}){const a=b.useRef(-1),[i,l]=b.useState(!1),[u,d]=b.useState(typeof r=="boolean"?r:!1),h=()=>{if(!e||!t||!n.current)return;const y=e.getBoundingClientRect(),S=t.getBoundingClientRect(),x=window.getComputedStyle(e),C=window.getComputedStyle(t),E=Gs(x.borderTopWidth)+Gs(C.borderTopWidth),j=Gs(x.borderLeftWidth)+Gs(C.borderLeftWidth),R={top:y.top-S.top-E,left:y.left-S.left-j,width:y.width,height:y.height};n.current.style.transform=`translateY(${R.top}px) translateX(${R.left}px)`,n.current.style.width=`${R.width}px`,n.current.style.height=`${R.height}px`},p=()=>{window.clearTimeout(a.current),n.current&&(n.current.style.transitionDuration="0ms"),h(),a.current=window.setTimeout(()=>{n.current&&(n.current.style.transitionDuration="")},30)},m=b.useRef(null),g=b.useRef(null);return b.useEffect(()=>{if(h(),e)return m.current=new ResizeObserver(p),m.current.observe(e),t&&(g.current=new ResizeObserver(p),g.current.observe(t)),()=>{m.current?.disconnect(),g.current?.disconnect()}},[t,e]),b.useEffect(()=>{if(t){const y=S=>{cY(S.target,t)&&(p(),d(!1))};return t.addEventListener("transitionend",y),()=>{t.removeEventListener("transitionend",y)}}},[t]),YH(()=>{d5()!=="test"&&l(!0)},20,{autoInvoke:!0}),KH(y=>{y.forEach(S=>{S.type==="attributes"&&S.attributeName==="dir"&&p()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:i,hidden:u}}var b9={root:"m_96b553a6"};const dY=(e,{transitionDuration:t})=>({root:{"--transition-duration":typeof t=="number"?`${t}ms`:t}}),HE=xe((e,t)=>{const n=le("FloatingIndicator",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,target:h,parent:p,transitionDuration:m,mod:g,displayAfterTransitionEnd:y,attributes:S,...x}=n,C=Ne({name:"FloatingIndicator",classes:b9,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:S,vars:d,varsResolver:dY}),E=b.useRef(null),{initialized:j,hidden:R}=uY({target:h,parent:p,ref:E,displayAfterTransitionEnd:y}),_=Yn(t,E);return!h||!p?null:s.jsx(te,{ref:_,mod:[{initialized:j,hidden:R},g],...C("root"),...x})});HE.displayName="@mantine/core/FloatingIndicator";HE.classes=b9;function x9({open:e,close:t,openDelay:n,closeDelay:r}){const a=b.useRef(-1),i=b.useRef(-1),l=()=>{window.clearTimeout(a.current),window.clearTimeout(i.current)},u=()=>{l(),n===0||n===void 0?e():a.current=window.setTimeout(e,n)},d=()=>{l(),r===0||r===void 0?t():i.current=window.setTimeout(t,r)};return b.useEffect(()=>l,[]),{openDropdown:u,closeDropdown:d}}function S9({style:e,size:t=16,...n}){return s.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:me(t),height:me(t),display:"block"},...n,children:s.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}S9.displayName="@mantine/core/AccordionChevron";var w9={root:"m_66836ed3",wrapper:"m_a5d60502",body:"m_667c2793",title:"m_6a03f287",label:"m_698f4f23",icon:"m_667f2a6a",message:"m_7fa78076",closeButton:"m_87f54839"};const fY=(e,{radius:t,color:n,variant:r,autoContrast:a})=>{const i=e.variantColorResolver({color:n||e.primaryColor,theme:e,variant:r||"light",autoContrast:a});return{root:{"--alert-radius":t===void 0?void 0:Ut(t),"--alert-bg":n||r?i.background:void 0,"--alert-color":i.color,"--alert-bd":n||r?i.border:void 0}}},hl=xe((e,t)=>{const n=le("Alert",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,radius:h,color:p,title:m,children:g,id:y,icon:S,withCloseButton:x,onClose:C,closeButtonLabel:E,variant:j,autoContrast:R,role:_,attributes:A,...M}=n,D=Ne({name:"Alert",classes:w9,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:A,vars:d,varsResolver:fY}),O=wr(y),k=m&&`${O}-title`||void 0,I=`${O}-body`;return s.jsx(te,{id:O,...D("root",{variant:j}),variant:j,ref:t,role:_||"alert",...M,"aria-describedby":g?I:void 0,"aria-labelledby":m?k:void 0,children:s.jsxs("div",{...D("wrapper"),children:[S&&s.jsx("div",{...D("icon"),children:S}),s.jsxs("div",{...D("body"),children:[m&&s.jsx("div",{...D("title"),"data-with-close-button":x||void 0,children:s.jsx("span",{id:k,...D("label"),children:m})}),g&&s.jsx("div",{id:I,...D("message"),"data-variant":j,children:g})]}),x&&s.jsx(fl,{...D("closeButton"),onClick:C,variant:"transparent",size:16,iconSize:16,"aria-label":E,unstyled:u})]})})});hl.classes=w9;hl.displayName="@mantine/core/Alert";var C9={root:"m_b6d8b162"};function hY(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const pY={inherit:!1},mY=(e,{variant:t,lineClamp:n,gradient:r,size:a,color:i})=>({root:{"--text-fz":Vn(a),"--text-lh":n5(a),"--text-gradient":t==="gradient"?ij(r,e):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":i?nn(i,e):void 0}}),W=Qn((e,t)=>{const n=le("Text",pY,e),{lineClamp:r,truncate:a,inline:i,inherit:l,gradient:u,span:d,__staticSelector:h,vars:p,className:m,style:g,classNames:y,styles:S,unstyled:x,variant:C,mod:E,size:j,attributes:R,..._}=n,A=Ne({name:["Text",h],props:n,classes:C9,className:m,style:g,classNames:y,styles:S,unstyled:x,attributes:R,vars:p,varsResolver:mY});return s.jsx(te,{...A("root",{focusable:!0}),ref:t,component:d?"span":"p",variant:C,mod:[{"data-truncate":hY(a),"data-line-clamp":typeof r=="number","data-inline":i,"data-inherit":l},E],size:j,..._})});W.classes=C9;W.displayName="@mantine/core/Text";var j9={root:"m_849cf0da"};const gY={underline:"hover"},Ba=Qn((e,t)=>{const{underline:n,className:r,unstyled:a,mod:i,...l}=le("Anchor",gY,e);return s.jsx(W,{component:"a",ref:t,className:Rt({[j9.root]:!a},r),...l,mod:[{underline:n},i],__staticSelector:"Anchor",unstyled:a})});Ba.classes=j9;Ba.displayName="@mantine/core/Anchor";const[vY,wd]=xr("AppShell was not found in tree");var pl={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const FE=xe((e,t)=>{const{classNames:n,className:r,style:a,styles:i,unstyled:l,vars:u,withBorder:d,zIndex:h,mod:p,...m}=le("AppShellAside",null,e),g=wd();return g.disabled?null:s.jsx(te,{component:"aside",ref:t,mod:[{"with-border":d??g.withBorder},p],...g.getStyles("aside",{className:Rt({[uc.classNames.zeroRight]:g.offsetScrollbars},r),classNames:n,styles:i,style:a}),...m,__vars:{"--app-shell-aside-z-index":`calc(${h??g.zIndex} + 1)`}})});FE.classes=pl;FE.displayName="@mantine/core/AppShellAside";const VE=xe((e,t)=>{const{classNames:n,className:r,style:a,styles:i,unstyled:l,vars:u,withBorder:d,zIndex:h,mod:p,...m}=le("AppShellFooter",null,e),g=wd();return g.disabled?null:s.jsx(te,{component:"footer",ref:t,mod:[{"with-border":d??g.withBorder},p],...g.getStyles("footer",{className:Rt({[uc.classNames.zeroRight]:g.offsetScrollbars},r),classNames:n,styles:i,style:a}),...m,__vars:{"--app-shell-footer-z-index":(h??g.zIndex)?.toString()}})});VE.classes=pl;VE.displayName="@mantine/core/AppShellFooter";const WE=xe((e,t)=>{const{classNames:n,className:r,style:a,styles:i,unstyled:l,vars:u,withBorder:d,zIndex:h,mod:p,...m}=le("AppShellHeader",null,e),g=wd();return g.disabled?null:s.jsx(te,{component:"header",ref:t,mod:[{"with-border":d??g.withBorder},p],...g.getStyles("header",{className:Rt({[uc.classNames.zeroRight]:g.offsetScrollbars},r),classNames:n,styles:i,style:a}),...m,__vars:{"--app-shell-header-z-index":(h??g.zIndex)?.toString()}})});WE.classes=pl;WE.displayName="@mantine/core/AppShellHeader";const GE=xe((e,t)=>{const{classNames:n,className:r,style:a,styles:i,vars:l,...u}=le("AppShellMain",null,e),d=wd();return s.jsx(te,{component:"main",ref:t,...d.getStyles("main",{className:r,style:a,classNames:n,styles:i}),...u})});GE.classes=pl;GE.displayName="@mantine/core/AppShellMain";function Nh(e){return typeof e=="object"?e.base:e}function Ih(e){const t=typeof e=="object"&&e!==null&&typeof e.base<"u"&&Object.keys(e).length===1;return typeof e=="number"||typeof e=="string"||t}function Lh(e){return!(typeof e!="object"||e===null||Object.keys(e).length===1&&"base"in e)}function yY({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,aside:r,theme:a}){const i=r?.width,l="translateX(var(--app-shell-aside-width))",u="translateX(calc(var(--app-shell-aside-width) * -1))";if(r?.breakpoint&&!r?.collapsed?.mobile&&(n[r?.breakpoint]=n[r?.breakpoint]||{},n[r?.breakpoint]["--app-shell-aside-width"]="100%",n[r?.breakpoint]["--app-shell-aside-offset"]="0px"),Ih(i)){const d=me(Nh(i));e["--app-shell-aside-width"]=d,e["--app-shell-aside-offset"]=d}if(Lh(i)&&(typeof i.base<"u"&&(e["--app-shell-aside-width"]=me(i.base),e["--app-shell-aside-offset"]=me(i.base)),hn(i).forEach(d=>{d!=="base"&&(t[d]=t[d]||{},t[d]["--app-shell-aside-width"]=me(i[d]),t[d]["--app-shell-aside-offset"]=me(i[d]))})),r?.collapsed?.desktop){const d=r.breakpoint;t[d]=t[d]||{},t[d]["--app-shell-aside-transform"]=l,t[d]["--app-shell-aside-transform-rtl"]=u,t[d]["--app-shell-aside-offset"]="0px !important",t[d]["--app-shell-aside-scroll-locked-visibility"]="hidden"}if(r?.collapsed?.mobile){const d=uE(r.breakpoint,a.breakpoints)-.1;n[d]=n[d]||{},n[d]["--app-shell-aside-width"]="100%",n[d]["--app-shell-aside-offset"]="0px",n[d]["--app-shell-aside-transform"]=l,n[d]["--app-shell-aside-transform-rtl"]=u,n[d]["--app-shell-aside-scroll-locked-visibility"]="hidden"}}function bY({baseStyles:e,minMediaStyles:t,footer:n}){const r=n?.height,a="translateY(var(--app-shell-footer-height))",i=n?.offset??!0;if(Ih(r)){const l=me(Nh(r));e["--app-shell-footer-height"]=l,i&&(e["--app-shell-footer-offset"]=l)}Lh(r)&&(typeof r.base<"u"&&(e["--app-shell-footer-height"]=me(r.base),i&&(e["--app-shell-footer-offset"]=me(r.base))),hn(r).forEach(l=>{l!=="base"&&(t[l]=t[l]||{},t[l]["--app-shell-footer-height"]=me(r[l]),i&&(t[l]["--app-shell-footer-offset"]=me(r[l])))})),n?.collapsed&&(e["--app-shell-footer-transform"]=a,e["--app-shell-footer-offset"]="0px !important")}function xY({baseStyles:e,minMediaStyles:t,header:n}){const r=n?.height,a="translateY(calc(var(--app-shell-header-height) * -1))",i=n?.offset??!0;if(Ih(r)){const l=me(Nh(r));e["--app-shell-header-height"]=l,i&&(e["--app-shell-header-offset"]=l)}Lh(r)&&(typeof r.base<"u"&&(e["--app-shell-header-height"]=me(r.base),i&&(e["--app-shell-header-offset"]=me(r.base))),hn(r).forEach(l=>{l!=="base"&&(t[l]=t[l]||{},t[l]["--app-shell-header-height"]=me(r[l]),i&&(t[l]["--app-shell-header-offset"]=me(r[l])))})),n?.collapsed&&(e["--app-shell-header-transform"]=a,e["--app-shell-header-offset"]="0px !important")}function SY({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,navbar:r,theme:a}){const i=r?.width,l="translateX(calc(var(--app-shell-navbar-width) * -1))",u="translateX(var(--app-shell-navbar-width))";if(r?.breakpoint&&!r?.collapsed?.mobile&&(n[r?.breakpoint]=n[r?.breakpoint]||{},n[r?.breakpoint]["--app-shell-navbar-width"]="100%",n[r?.breakpoint]["--app-shell-navbar-offset"]="0px"),Ih(i)){const d=me(Nh(i));e["--app-shell-navbar-width"]=d,e["--app-shell-navbar-offset"]=d}if(Lh(i)&&(typeof i.base<"u"&&(e["--app-shell-navbar-width"]=me(i.base),e["--app-shell-navbar-offset"]=me(i.base)),hn(i).forEach(d=>{d!=="base"&&(t[d]=t[d]||{},t[d]["--app-shell-navbar-width"]=me(i[d]),t[d]["--app-shell-navbar-offset"]=me(i[d]))})),r?.collapsed?.desktop){const d=r.breakpoint;t[d]=t[d]||{},t[d]["--app-shell-navbar-transform"]=l,t[d]["--app-shell-navbar-transform-rtl"]=u,t[d]["--app-shell-navbar-offset"]="0px !important"}if(r?.collapsed?.mobile){const d=uE(r.breakpoint,a.breakpoints)-.1;n[d]=n[d]||{},n[d]["--app-shell-navbar-width"]="100%",n[d]["--app-shell-navbar-offset"]="0px",n[d]["--app-shell-navbar-transform"]=l,n[d]["--app-shell-navbar-transform-rtl"]=u}}function qx(e){return Number(e)===0?"0px":In(e)}function wY({padding:e,baseStyles:t,minMediaStyles:n}){Ih(e)&&(t["--app-shell-padding"]=qx(Nh(e))),Lh(e)&&(e.base&&(t["--app-shell-padding"]=qx(e.base)),hn(e).forEach(r=>{r!=="base"&&(n[r]=n[r]||{},n[r]["--app-shell-padding"]=qx(e[r]))}))}function CY({navbar:e,header:t,footer:n,aside:r,padding:a,theme:i}){const l={},u={},d={};SY({baseStyles:d,minMediaStyles:l,maxMediaStyles:u,navbar:e,theme:i}),yY({baseStyles:d,minMediaStyles:l,maxMediaStyles:u,aside:r,theme:i}),xY({baseStyles:d,minMediaStyles:l,header:t}),bY({baseStyles:d,minMediaStyles:l,footer:n}),wY({baseStyles:d,minMediaStyles:l,padding:a});const h=th(hn(l),i.breakpoints).map(g=>({query:`(min-width: ${Ng(g.px)})`,styles:l[g.value]})),p=th(hn(u),i.breakpoints).map(g=>({query:`(max-width: ${Ng(g.px)})`,styles:u[g.value]})),m=[...h,...p];return{baseStyles:d,media:m}}function jY({navbar:e,header:t,aside:n,footer:r,padding:a}){const i=Cn(),l=as(),{media:u,baseStyles:d}=CY({navbar:e,header:t,footer:r,aside:n,padding:a,theme:i});return s.jsx(Pc,{media:u,styles:d,selector:l.cssVariablesSelector})}const YE=xe((e,t)=>{const{classNames:n,className:r,style:a,styles:i,unstyled:l,vars:u,withBorder:d,zIndex:h,mod:p,...m}=le("AppShellNavbar",null,e),g=wd();return g.disabled?null:s.jsx(te,{component:"nav",ref:t,mod:[{"with-border":d??g.withBorder},p],...g.getStyles("navbar",{className:r,classNames:n,styles:i,style:a}),...m,__vars:{"--app-shell-navbar-z-index":`calc(${h??g.zIndex} + 1)`}})});YE.classes=pl;YE.displayName="@mantine/core/AppShellNavbar";const QE=Qn((e,t)=>{const{classNames:n,className:r,style:a,styles:i,vars:l,grow:u,mod:d,...h}=le("AppShellSection",null,e),p=wd();return s.jsx(te,{ref:t,mod:[{grow:u},d],...p.getStyles("section",{className:r,style:a,classNames:n,styles:i}),...h})});QE.classes=pl;QE.displayName="@mantine/core/AppShellSection";function EY({transitionDuration:e,disabled:t}){const[n,r]=b.useState(!0),a=b.useRef(-1),i=b.useRef(-1);return c5("resize",()=>{r(!0),clearTimeout(a.current),a.current=window.setTimeout(()=>b.startTransition(()=>{r(!1)}),200)}),kc(()=>{r(!0),clearTimeout(i.current),i.current=window.setTimeout(()=>b.startTransition(()=>{r(!1)}),e||0)},[t,e]),n}const TY={withBorder:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:Sr("app")},RY=(e,{transitionDuration:t,transitionTimingFunction:n})=>({root:{"--app-shell-transition-duration":`${t}ms`,"--app-shell-transition-timing-function":n}}),Hr=xe((e,t)=>{const n=le("AppShell",TY,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,navbar:h,withBorder:p,padding:m,transitionDuration:g,transitionTimingFunction:y,header:S,zIndex:x,layout:C,disabled:E,aside:j,footer:R,offsetScrollbars:_=!0,mod:A,attributes:M,...D}=n,O=Ne({name:"AppShell",classes:pl,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:M,vars:d,varsResolver:RY}),k=EY({disabled:E,transitionDuration:g});return s.jsxs(vY,{value:{getStyles:O,withBorder:p,zIndex:x,disabled:E,offsetScrollbars:_},children:[s.jsx(jY,{navbar:h,header:S,aside:j,footer:R,padding:m}),s.jsx(te,{ref:t,...O("root"),mod:[{resizing:k,layout:C,disabled:E},A],...D})]})});Hr.classes=pl;Hr.displayName="@mantine/core/AppShell";Hr.Navbar=YE;Hr.Header=WE;Hr.Main=GE;Hr.Aside=FE;Hr.Footer=VE;Hr.Section=QE;function E9(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>E9(t))}:e}function KE(e){return e?e.map(t=>E9(t)):[]}function XE(e){return e.reduce((t,n)=>"group"in n?{...t,...XE(n.items)}:(t[n.value]=n,t),{})}var ra={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2",optionsDropdownCheckPlaceholder:"m_a530ee0a"};const _Y={error:null},DY=(e,{size:t,color:n})=>({chevron:{"--combobox-chevron-size":at(t,"combobox-chevron-size"),"--combobox-chevron-color":n?nn(n,e):void 0}}),Pv=xe((e,t)=>{const n=le("ComboboxChevron",_Y,e),{size:r,error:a,style:i,className:l,classNames:u,styles:d,unstyled:h,vars:p,mod:m,...g}=n,y=Ne({name:"ComboboxChevron",classes:ra,props:n,style:i,className:l,classNames:u,styles:d,unstyled:h,vars:p,varsResolver:DY,rootSelector:"chevron"});return s.jsx(te,{component:"svg",...g,...y("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:a},m],ref:t,children:s.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});Pv.classes=ra;Pv.displayName="@mantine/core/ComboboxChevron";const[AY,Ci]=xr("Combobox component was not found in tree"),T9=b.forwardRef(({size:e,onMouseDown:t,onClick:n,onClear:r,...a},i)=>s.jsx(Gt.ClearButton,{ref:i,tabIndex:-1,"aria-hidden":!0,...a,onMouseDown:l=>{l.preventDefault(),t?.(l)},onClick:l=>{r(),n?.(l)}}));T9.displayName="@mantine/core/ComboboxClearButton";const ZE=xe((e,t)=>{const{classNames:n,styles:r,className:a,style:i,hidden:l,...u}=le("ComboboxDropdown",null,e),d=Ci();return s.jsx(Ca.Dropdown,{...u,ref:t,role:"presentation","data-hidden":l||void 0,...d.getStyles("dropdown",{className:a,style:i,classNames:n,styles:r})})});ZE.classes=ra;ZE.displayName="@mantine/core/ComboboxDropdown";const OY={refProp:"ref"},R9=xe((e,t)=>{const{children:n,refProp:r}=le("ComboboxDropdownTarget",OY,e);if(Ci(),!sE(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return s.jsx(Ca.Target,{ref:t,refProp:r,children:n})});R9.displayName="@mantine/core/ComboboxDropdownTarget";const JE=xe((e,t)=>{const{classNames:n,className:r,style:a,styles:i,vars:l,...u}=le("ComboboxEmpty",null,e),d=Ci();return s.jsx(te,{ref:t,...d.getStyles("empty",{className:r,classNames:n,styles:i,style:a}),...u})});JE.classes=ra;JE.displayName="@mantine/core/ComboboxEmpty";function eT({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:n,withExpandedAttribute:r,targetType:a,autoComplete:i}){const l=Ci(),[u,d]=b.useState(null),h=m=>{if(e?.(m),!l.readOnly&&t){if(m.nativeEvent.isComposing)return;if(m.nativeEvent.code==="ArrowDown"&&(m.preventDefault(),l.store.dropdownOpened?d(l.store.selectNextOption()):(l.store.openDropdown("keyboard"),d(l.store.selectActiveOption()),l.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),m.nativeEvent.code==="ArrowUp"&&(m.preventDefault(),l.store.dropdownOpened?d(l.store.selectPreviousOption()):(l.store.openDropdown("keyboard"),d(l.store.selectActiveOption()),l.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),m.nativeEvent.code==="Enter"||m.nativeEvent.code==="NumpadEnter"){if(m.nativeEvent.keyCode===229)return;const g=l.store.getSelectedOptionIndex();l.store.dropdownOpened&&g!==-1?(m.preventDefault(),l.store.clickSelectedOption()):a==="button"&&(m.preventDefault(),l.store.openDropdown("keyboard"))}m.key==="Escape"&&l.store.closeDropdown("keyboard"),m.nativeEvent.code==="Space"&&a==="button"&&(m.preventDefault(),l.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r?!!(l.store.listId&&l.store.dropdownOpened):void 0,"aria-controls":l.store.dropdownOpened&&l.store.listId?l.store.listId:void 0,"aria-activedescendant":l.store.dropdownOpened&&u||void 0,autoComplete:i,"data-expanded":l.store.dropdownOpened||void 0,"data-mantine-stop-propagation":l.store.dropdownOpened||void 0}:{},onKeyDown:h}}const kY={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},_9=xe((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:a,withAriaAttributes:i,withExpandedAttribute:l,targetType:u,autoComplete:d,...h}=le("ComboboxEventsTarget",kY,e),p=Mc(n);if(!p)throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const m=Ci(),g=eT({targetType:u,withAriaAttributes:i,withKeyboardNavigation:a,withExpandedAttribute:l,onKeyDown:p.props.onKeyDown,autoComplete:d});return b.cloneElement(p,{...g,...h,[r]:Yn(t,m.store.targetRef,yv(p))})});_9.displayName="@mantine/core/ComboboxEventsTarget";const tT=xe((e,t)=>{const{classNames:n,className:r,style:a,styles:i,vars:l,...u}=le("ComboboxFooter",null,e),d=Ci();return s.jsx(te,{ref:t,...d.getStyles("footer",{className:r,classNames:n,style:a,styles:i}),...u,onMouseDown:h=>{h.preventDefault()}})});tT.classes=ra;tT.displayName="@mantine/core/ComboboxFooter";const nT=xe((e,t)=>{const{classNames:n,className:r,style:a,styles:i,vars:l,children:u,label:d,id:h,...p}=le("ComboboxGroup",null,e),m=Ci(),g=wr(h);return s.jsxs(te,{ref:t,role:"group","aria-labelledby":d?g:void 0,...m.getStyles("group",{className:r,classNames:n,style:a,styles:i}),...p,children:[d&&s.jsx("div",{id:g,...m.getStyles("groupLabel",{classNames:n,styles:i}),children:d}),u]})});nT.classes=ra;nT.displayName="@mantine/core/ComboboxGroup";const rT=xe((e,t)=>{const{classNames:n,className:r,style:a,styles:i,vars:l,...u}=le("ComboboxHeader",null,e),d=Ci();return s.jsx(te,{ref:t,...d.getStyles("header",{className:r,classNames:n,style:a,styles:i}),...u,onMouseDown:h=>{h.preventDefault()}})});rT.classes=ra;rT.displayName="@mantine/core/ComboboxHeader";function D9({value:e,valuesDivider:t=",",...n}){return s.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...n})}D9.displayName="@mantine/core/ComboboxHiddenInput";const aT=xe((e,t)=>{const n=le("ComboboxOption",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,onClick:d,id:h,active:p,onMouseDown:m,onMouseOver:g,disabled:y,selected:S,mod:x,...C}=n,E=Ci(),j=b.useId(),R=h||j;return s.jsx(te,{...E.getStyles("option",{className:a,classNames:r,styles:l,style:i}),...C,ref:t,id:R,mod:["combobox-option",{"combobox-active":p,"combobox-disabled":y,"combobox-selected":S},x],role:"option",onClick:_=>{y?_.preventDefault():(E.onOptionSubmit?.(n.value,n),d?.(_))},onMouseDown:_=>{_.preventDefault(),m?.(_)},onMouseOver:_=>{E.resetSelectionOnOptionHover&&E.store.resetSelectedOption(),g?.(_)}})});aT.classes=ra;aT.displayName="@mantine/core/ComboboxOption";const iT=xe((e,t)=>{const n=le("ComboboxOptions",null,e),{classNames:r,className:a,style:i,styles:l,id:u,onMouseDown:d,labelledBy:h,...p}=n,m=Ci(),g=wr(u);return b.useEffect(()=>{m.store.setListId(g)},[g]),s.jsx(te,{ref:t,...m.getStyles("options",{className:a,style:i,classNames:r,styles:l}),...p,id:g,role:"listbox","aria-labelledby":h,onMouseDown:y=>{y.preventDefault(),d?.(y)}})});iT.classes=ra;iT.displayName="@mantine/core/ComboboxOptions";const MY={withAriaAttributes:!0,withKeyboardNavigation:!0},oT=xe((e,t)=>{const n=le("ComboboxSearch",MY,e),{classNames:r,styles:a,unstyled:i,vars:l,withAriaAttributes:u,onKeyDown:d,withKeyboardNavigation:h,size:p,...m}=n,g=Ci(),y=g.getStyles("search"),S=eT({targetType:"input",withAriaAttributes:u,withKeyboardNavigation:h,withExpandedAttribute:!1,onKeyDown:d,autoComplete:"off"});return s.jsx(Gt,{ref:Yn(t,g.store.searchRef),classNames:[{input:y.className},r],styles:[{input:y.style},a],size:p||g.size,...S,...m,__staticSelector:"Combobox"})});oT.classes=ra;oT.displayName="@mantine/core/ComboboxSearch";const PY={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},A9=xe((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:a,withAriaAttributes:i,withExpandedAttribute:l,targetType:u,autoComplete:d,...h}=le("ComboboxTarget",PY,e),p=Mc(n);if(!p)throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const m=Ci(),g=eT({targetType:u,withAriaAttributes:i,withKeyboardNavigation:a,withExpandedAttribute:l,onKeyDown:p.props.onKeyDown,autoComplete:d}),y=b.cloneElement(p,{...g,...h});return s.jsx(Ca.Target,{ref:Yn(t,m.store.targetRef),children:y})});A9.displayName="@mantine/core/ComboboxTarget";function NY(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function IY(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function LY(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function zh({defaultOpened:e,opened:t,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:a,loop:i=!0,scrollBehavior:l="instant"}={}){const[u,d]=sr({value:t,defaultValue:e,finalValue:!1,onChange:n}),h=b.useRef(null),p=b.useRef(-1),m=b.useRef(null),g=b.useRef(null),y=b.useRef(-1),S=b.useRef(-1),x=b.useRef(-1),C=b.useCallback((N="unknown")=>{u||(d(!0),a?.(N))},[d,a,u]),E=b.useCallback((N="unknown")=>{u&&(d(!1),r?.(N))},[d,r,u]),j=b.useCallback((N="unknown")=>{u?E(N):C(N)},[E,C,u]),R=b.useCallback(()=>{const N=qs(g.current),z=cg(`#${h.current} [data-combobox-selected]`,N);z?.removeAttribute("data-combobox-selected"),z?.removeAttribute("aria-selected")},[]),_=b.useCallback(N=>{const z=qs(g.current),$=cg(`#${h.current}`,z),Y=$?Hs("[data-combobox-option]",$):null;if(!Y)return null;const X=N>=Y.length?0:N<0?Y.length-1:N;return p.current=X,Y?.[X]&&!Y[X].hasAttribute("data-combobox-disabled")?(R(),Y[X].setAttribute("data-combobox-selected","true"),Y[X].setAttribute("aria-selected","true"),Y[X].scrollIntoView({block:"nearest",behavior:l}),Y[X].id):null},[l,R]),A=b.useCallback(()=>{const N=qs(g.current),z=cg(`#${h.current} [data-combobox-active]`,N);if(z){const Y=Hs(`#${h.current} [data-combobox-option]`,N).findIndex(X=>X===z);return _(Y)}return _(0)},[_]),M=b.useCallback(()=>{const N=qs(g.current),z=Hs(`#${h.current} [data-combobox-option]`,N);return _(IY(p.current,z,i))},[_,i]),D=b.useCallback(()=>{const N=qs(g.current),z=Hs(`#${h.current} [data-combobox-option]`,N);return _(NY(p.current,z,i))},[_,i]),O=b.useCallback(()=>{const N=qs(g.current),z=Hs(`#${h.current} [data-combobox-option]`,N);return _(LY(z))},[_]),k=b.useCallback((N="selected",z)=>{x.current=window.setTimeout(()=>{const $=qs(g.current),Y=Hs(`#${h.current} [data-combobox-option]`,$),X=Y.findIndex(H=>H.hasAttribute(`data-combobox-${N}`));p.current=X,z?.scrollIntoView&&Y[X]?.scrollIntoView({block:"nearest",behavior:l})},0)},[]),I=b.useCallback(()=>{p.current=-1,R()},[R]),L=b.useCallback(()=>{const N=qs(g.current);Hs(`#${h.current} [data-combobox-option]`,N)?.[p.current]?.click()},[]),V=b.useCallback(N=>{h.current=N},[]),q=b.useCallback(()=>{y.current=window.setTimeout(()=>m.current?.focus(),0)},[]),U=b.useCallback(()=>{S.current=window.setTimeout(()=>g.current?.focus(),0)},[]),G=b.useCallback(()=>p.current,[]);return b.useEffect(()=>()=>{window.clearTimeout(y.current),window.clearTimeout(S.current),window.clearTimeout(x.current)},[]),{dropdownOpened:u,openDropdown:C,closeDropdown:E,toggleDropdown:j,selectedOptionIndex:p.current,getSelectedOptionIndex:G,selectOption:_,selectFirstOption:O,selectActiveOption:A,selectNextOption:M,selectPreviousOption:D,resetSelectedOption:I,updateSelectedOptionIndex:k,listId:h.current,setListId:V,clickSelectedOption:L,searchRef:m,focusSearchInput:q,targetRef:g,focusTarget:U}}const zY={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0},size:"sm"},$Y=(e,{size:t,dropdownPadding:n})=>({options:{"--combobox-option-fz":Vn(t),"--combobox-option-padding":at(t,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:me(n),"--combobox-option-fz":Vn(t),"--combobox-option-padding":at(t,"combobox-option-padding")}});function lt(e){const t=le("Combobox",zY,e),{classNames:n,styles:r,unstyled:a,children:i,store:l,vars:u,onOptionSubmit:d,onClose:h,size:p,dropdownPadding:m,resetSelectionOnOptionHover:g,__staticSelector:y,readOnly:S,attributes:x,...C}=t,E=zh(),j=l||E,R=Ne({name:y||"Combobox",classes:ra,props:t,classNames:n,styles:r,unstyled:a,attributes:x,vars:u,varsResolver:$Y}),_=()=>{h?.(),j.closeDropdown()};return s.jsx(AY,{value:{getStyles:R,store:j,onOptionSubmit:d,size:p,resetSelectionOnOptionHover:g,readOnly:S},children:s.jsx(Ca,{opened:j.dropdownOpened,preventPositionChangeWhenVisible:!0,...C,onChange:A=>!A&&_(),withRoles:!1,unstyled:a,children:i})})}const qY=e=>e;lt.extend=qY;lt.classes=ra;lt.displayName="@mantine/core/Combobox";lt.Target=A9;lt.Dropdown=ZE;lt.Options=iT;lt.Option=aT;lt.Search=oT;lt.Empty=JE;lt.Chevron=Pv;lt.Footer=tT;lt.Header=rT;lt.EventsTarget=_9;lt.DropdownTarget=R9;lt.Group=nT;lt.ClearButton=T9;lt.HiddenInput=D9;var O9={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const k9=O9,Nv=b.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:n,classNames:r,styles:a,unstyled:i,children:l,label:u,description:d,id:h,disabled:p,error:m,size:g,labelPosition:y="left",bodyElement:S="div",labelElement:x="label",variant:C,style:E,vars:j,mod:R,attributes:_,...A},M)=>{const D=Ne({name:e,props:t,className:n,style:E,classes:O9,classNames:r,styles:a,unstyled:i,attributes:_});return s.jsx(te,{...D("root"),ref:M,__vars:{"--label-fz":Vn(g),"--label-lh":at(g,"label-lh")},mod:[{"label-position":y},R],variant:C,size:g,...A,children:s.jsxs(te,{component:S,htmlFor:S==="label"?h:void 0,...D("body"),children:[l,s.jsxs("div",{...D("labelWrapper"),"data-disabled":p||void 0,children:[u&&s.jsx(te,{component:x,htmlFor:x==="label"?h:void 0,...D("label"),"data-disabled":p||void 0,children:u}),d&&s.jsx(Gt.Description,{size:g,__inheritStyles:!1,...D("description"),children:d}),m&&typeof m!="boolean"&&s.jsx(Gt.Error,{size:g,__inheritStyles:!1,...D("error"),children:m})]})]})})});Nv.displayName="@mantine/core/InlineInput";const M9=b.createContext(null),UY=M9.Provider,P9=()=>b.useContext(M9),[BY,HY]=Gi();var N9={card:"m_26775b0a"};const FY={withBorder:!0},VY=(e,{radius:t})=>({card:{"--card-radius":Ut(t)}}),sT=xe((e,t)=>{const n=le("CheckboxCard",FY,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,checked:h,mod:p,withBorder:m,value:g,onClick:y,defaultChecked:S,onChange:x,attributes:C,...E}=n,j=Ne({name:"CheckboxCard",classes:N9,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:C,vars:d,varsResolver:VY,rootSelector:"card"}),R=P9(),_=typeof h=="boolean"?h:R?R.value.includes(g||""):void 0,[A,M]=sr({value:_,defaultValue:S,finalValue:!1,onChange:x});return s.jsx(BY,{value:{checked:A},children:s.jsx(Wn,{ref:t,mod:[{"with-border":m,checked:A},p],...j("card"),...E,role:"checkbox","aria-checked":A,onClick:D=>{y?.(D),R?.onChange(g||""),M(!A)}})})});sT.displayName="@mantine/core/CheckboxCard";sT.classes=N9;function lT({children:e,role:t}){const n=Sd();return n?s.jsx("div",{role:t,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:e}):s.jsx(s.Fragment,{children:e})}const cT=xe((e,t)=>{const{value:n,defaultValue:r,onChange:a,size:i,wrapperProps:l,children:u,readOnly:d,disabled:h,...p}=le("CheckboxGroup",null,e),[m,g]=sr({value:n,defaultValue:r,finalValue:[],onChange:a}),y=S=>{const x=typeof S=="string"?S:S.currentTarget.value;!d&&g(m.includes(x)?m.filter(C=>C!==x):[...m,x])};return s.jsx(UY,{value:{value:m,onChange:y,size:i,disabled:h},children:s.jsx(Gt.Wrapper,{size:i,ref:t,...l,...p,labelElement:"div",__staticSelector:"CheckboxGroup",children:s.jsx(lT,{role:"group",children:u})})})});cT.classes=Gt.Wrapper.classes;cT.displayName="@mantine/core/CheckboxGroup";function Iv({size:e,style:t,...n}){const r=e!==void 0?{width:me(e),height:me(e),...t}:t;return s.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:s.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function I9({indeterminate:e,...t}){return e?s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...t,children:s.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):s.jsx(Iv,{...t})}var L9={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const WY={icon:I9,variant:"filled"},GY=(e,{radius:t,color:n,size:r,iconColor:a,variant:i,autoContrast:l})=>{const u=va({color:n||e.primaryColor,theme:e}),d=u.isThemeColor&&u.shade===void 0?`var(--mantine-color-${u.color}-outline)`:u.color;return{indicator:{"--checkbox-size":at(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:Ut(t),"--checkbox-color":i==="outline"?d:nn(n,e),"--checkbox-icon-color":a?nn(a,e):is(l,e)?Yi({color:n,theme:e,autoContrast:l}):void 0}}},uT=xe((e,t)=>{const n=le("CheckboxIndicator",WY,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,icon:h,indeterminate:p,radius:m,color:g,iconColor:y,autoContrast:S,checked:x,mod:C,variant:E,disabled:j,attributes:R,..._}=n,A=Ne({name:"CheckboxIndicator",classes:L9,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:R,vars:d,varsResolver:GY,rootSelector:"indicator"}),M=HY(),D=typeof x=="boolean"||typeof p=="boolean"?x||p:M?.checked||!1;return s.jsx(te,{ref:t,...A("indicator",{variant:E}),variant:E,mod:[{checked:D,disabled:j},C],..._,children:s.jsx(h,{indeterminate:p,...A("icon")})})});uT.displayName="@mantine/core/CheckboxIndicator";uT.classes=L9;var z9={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const YY={labelPosition:"right",icon:I9,variant:"filled"},QY=(e,{radius:t,color:n,size:r,iconColor:a,variant:i,autoContrast:l})=>{const u=va({color:n||e.primaryColor,theme:e}),d=u.isThemeColor&&u.shade===void 0?`var(--mantine-color-${u.color}-outline)`:u.color;return{root:{"--checkbox-size":at(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:Ut(t),"--checkbox-color":i==="outline"?d:nn(n,e),"--checkbox-icon-color":a?nn(a,e):is(l,e)?Yi({color:n,theme:e,autoContrast:l}):void 0}}},mi=xe((e,t)=>{const n=le("Checkbox",YY,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,color:h,label:p,id:m,size:g,radius:y,wrapperProps:S,checked:x,labelPosition:C,description:E,error:j,disabled:R,variant:_,indeterminate:A,icon:M,rootRef:D,iconColor:O,onChange:k,autoContrast:I,mod:L,attributes:V,...q}=n,U=P9(),G=g||U?.size,N=Ne({name:"Checkbox",props:n,classes:z9,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:V,vars:d,varsResolver:QY}),{styleProps:z,rest:$}=os(q),Y=wr(m),X={checked:U?.value.includes($.value)??x,onChange:Q=>{U?.onChange(Q),k?.(Q)},disabled:U?.disabled??R},H=b.useRef(null),F=t||H;return b.useEffect(()=>{F&&"current"in F&&F.current&&(F.current.indeterminate=A||!1,A?F.current.setAttribute("data-indeterminate","true"):F.current.removeAttribute("data-indeterminate"))},[A,F]),s.jsx(Nv,{...N("root"),__staticSelector:"Checkbox",__stylesApiProps:n,id:Y,size:G,labelPosition:C,label:p,description:E,error:j,disabled:X.disabled,classNames:r,styles:l,unstyled:u,"data-checked":X.checked||x||void 0,variant:_,ref:D,mod:L,...z,...S,children:s.jsxs(te,{...N("inner"),mod:{"data-label-position":C},children:[s.jsx(te,{component:"input",id:Y,ref:F,mod:{error:!!j},...N("input",{focusable:!0,variant:_}),...$,...X,type:"checkbox"}),s.jsx(M,{indeterminate:A,...N("icon")})]})})});mi.classes={...z9,...k9};mi.displayName="@mantine/core/Checkbox";mi.Group=cT;mi.Indicator=uT;mi.Card=sT;function rd(e){return"group"in e}function $9({options:e,search:t,limit:n}){const r=t.trim().toLowerCase(),a=[];for(let i=0;i<e.length;i+=1){const l=e[i];if(a.length===n)return a;rd(l)&&a.push({group:l.group,items:$9({options:l.items,search:t,limit:n-a.length})}),rd(l)||l.label.toLowerCase().includes(r)&&a.push(l)}return a}function KY(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function q9(e,t=new Set){if(Array.isArray(e))for(const n of e)if(rd(n))q9(n.items,t);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(t.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);t.add(n.value)}}function XY(e,t){return Array.isArray(e)?e.includes(t):e===t}function U9({data:e,withCheckIcon:t,withAlignedLabels:n,value:r,checkIconPosition:a,unstyled:i,renderOption:l}){if(!rd(e)){const d=XY(r,e.value),h=t&&(d?s.jsx(Iv,{className:ra.optionsDropdownCheckIcon}):n?s.jsx("div",{className:ra.optionsDropdownCheckPlaceholder}):null),p=s.jsxs(s.Fragment,{children:[a==="left"&&h,s.jsx("span",{children:e.label}),a==="right"&&h]});return s.jsx(lt.Option,{value:e.value,disabled:e.disabled,className:Rt({[ra.optionsDropdownOption]:!i}),"data-reverse":a==="right"||void 0,"data-checked":d||void 0,"aria-selected":d,active:d,children:typeof l=="function"?l({option:e,checked:d}):p})}const u=e.items.map(d=>s.jsx(U9,{data:d,value:r,unstyled:i,withCheckIcon:t,withAlignedLabels:n,checkIconPosition:a,renderOption:l},d.value));return s.jsx(lt.Group,{label:e.group,children:u})}function B9({data:e,hidden:t,hiddenWhenEmpty:n,filter:r,search:a,limit:i,maxDropdownHeight:l,withScrollArea:u=!0,filterOptions:d=!0,withCheckIcon:h=!1,withAlignedLabels:p=!1,value:m,checkIconPosition:g,nothingFoundMessage:y,unstyled:S,labelId:x,renderOption:C,scrollAreaProps:E,"aria-label":j}){q9(e);const _=typeof a=="string"?(r||$9)({options:e,search:d?a:"",limit:i??1/0}):e,A=KY(_),M=_.map(D=>s.jsx(U9,{data:D,withCheckIcon:h,withAlignedLabels:p,value:m,checkIconPosition:g,unstyled:S,renderOption:C},rd(D)?D.group:D.value));return s.jsx(lt.Dropdown,{hidden:t||n&&A,"data-composed":!0,children:s.jsxs(lt.Options,{labelledBy:x,"aria-label":j,children:[u?s.jsx(mn.Autosize,{mah:l??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...E,children:M}):M,A&&y&&s.jsx(lt.Empty,{children:y})]})})}const H9=b.createContext(null),ZY=H9.Provider;function JY(){return{withinGroup:!!b.useContext(H9)}}var Lv={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const eQ=(e,{spacing:t})=>({group:{"--ag-spacing":In(t)}}),dT=xe((e,t)=>{const n=le("AvatarGroup",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,spacing:h,attributes:p,...m}=n,g=Ne({name:"AvatarGroup",classes:Lv,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:p,vars:d,varsResolver:eQ,rootSelector:"group"});return s.jsx(ZY,{value:!0,children:s.jsx(te,{ref:t,...g("group"),...m})})});dT.classes=Lv;dT.displayName="@mantine/core/AvatarGroup";function tQ(e){return s.jsx("svg",{...e,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function nQ(e){let t=0;for(let n=0;n<e.length;n+=1){const r=e.charCodeAt(n);t=(t<<5)-t+r,t|=0}return t}const rQ=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function aQ(e,t=rQ){const n=nQ(e),r=Math.abs(n)%t.length;return t[r]}function iQ(e,t=2){const n=e.split(" ");return n.length===1?e.slice(0,t).toUpperCase():n.map(r=>r[0]).slice(0,t).join("").toUpperCase()}const oQ=(e,{size:t,radius:n,variant:r,gradient:a,color:i,autoContrast:l,name:u,allowedInitialsColors:d})=>{const h=i==="initials"&&typeof u=="string"?aQ(u,d):i,p=e.variantColorResolver({color:h||"gray",theme:e,gradient:a,variant:r||"light",autoContrast:l});return{root:{"--avatar-size":at(t,"avatar-size"),"--avatar-radius":n===void 0?void 0:Ut(n),"--avatar-bg":h||r?p.background:void 0,"--avatar-color":h||r?p.color:void 0,"--avatar-bd":h||r?p.border:void 0}}},es=Qn((e,t)=>{const n=le("Avatar",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,src:h,alt:p,radius:m,color:g,gradient:y,imageProps:S,children:x,autoContrast:C,mod:E,name:j,allowedInitialsColors:R,attributes:_,...A}=n,M=JY(),[D,O]=b.useState(!h),k=Ne({name:"Avatar",props:n,classes:Lv,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:_,vars:d,varsResolver:oQ});return b.useEffect(()=>O(!h),[h]),s.jsx(te,{...k("root"),mod:[{"within-group":M.withinGroup},E],ref:t,...A,children:D||!h?s.jsx("span",{...k("placeholder"),title:p,children:x||typeof j=="string"&&iQ(j)||s.jsx(tQ,{})}):s.jsx("img",{...S,...k("image"),src:h,alt:p,onError:I=>{O(!0),S?.onError?.(I)}})})});es.classes=Lv;es.displayName="@mantine/core/Avatar";es.Group=dT;var F9={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const sQ=(e,{radius:t,color:n,gradient:r,variant:a,size:i,autoContrast:l,circle:u})=>{const d=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:a||"filled",autoContrast:l});return{root:{"--badge-height":at(i,"badge-height"),"--badge-padding-x":at(i,"badge-padding-x"),"--badge-fz":at(i,"badge-fz"),"--badge-radius":u||t===void 0?void 0:Ut(t),"--badge-bg":n||a?d.background:void 0,"--badge-color":n||a?d.color:void 0,"--badge-bd":n||a?d.border:void 0,"--badge-dot-color":a==="dot"?nn(n,e):void 0}}},ya=Qn((e,t)=>{const n=le("Badge",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,radius:h,color:p,gradient:m,leftSection:g,rightSection:y,children:S,variant:x,fullWidth:C,autoContrast:E,circle:j,mod:R,attributes:_,...A}=n,M=Ne({name:"Badge",props:n,classes:F9,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:_,vars:d,varsResolver:sQ});return s.jsxs(te,{variant:x,mod:[{block:C,circle:j,"with-right-section":!!y,"with-left-section":!!g},R],...M("root",{variant:x}),ref:t,...A,children:[g&&s.jsx("span",{...M("section"),"data-position":"left",children:g}),s.jsx("span",{...M("label"),children:S}),y&&s.jsx("span",{...M("section"),"data-position":"right",children:y})]})});ya.classes=F9;ya.displayName="@mantine/core/Badge";var V9={root:"m_ddec01c0",icon:"m_dde7bd57",cite:"m_dde51a35"};const lQ={iconSize:48},cQ=(e,{color:t,iconSize:n,radius:r})=>{const a=va({color:t||e.primaryColor,theme:e,colorScheme:"dark"}),i=va({color:t||e.primaryColor,theme:e,colorScheme:"light"});return{root:{"--bq-bg-light":ci(i.value,.07),"--bq-bg-dark":ci(a.value,.06),"--bq-bd":nn(t,e),"--bq-icon-size":me(n),"--bq-radius":Ut(r)}}},fT=xe((e,t)=>{const n=le("Blockquote",lQ,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,children:h,icon:p,iconSize:m,cite:g,attributes:y,...S}=n,x=Ne({name:"Blockquote",classes:V9,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:y,vars:d,varsResolver:cQ});return s.jsxs(te,{component:"blockquote",ref:t,...x("root"),...S,children:[p&&s.jsx("span",{...x("icon"),children:p}),h,g&&s.jsx("cite",{...x("cite"),children:g})]})});fT.classes=V9;fT.displayName="@mantine/core/Blockquote";var Cd={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const $k={orientation:"horizontal"},uQ=(e,{borderWidth:t})=>({group:{"--button-border-width":me(t)}}),hT=xe((e,t)=>{const n=le("ButtonGroup",$k,e),{className:r,style:a,classNames:i,styles:l,unstyled:u,orientation:d,vars:h,borderWidth:p,variant:m,mod:g,attributes:y,...S}=le("ButtonGroup",$k,e),x=Ne({name:"ButtonGroup",props:n,classes:Cd,className:r,style:a,classNames:i,styles:l,unstyled:u,attributes:y,vars:h,varsResolver:uQ,rootSelector:"group"});return s.jsx(te,{...x("group"),ref:t,variant:m,mod:[{"data-orientation":d},g],role:"group",...S})});hT.classes=Cd;hT.displayName="@mantine/core/ButtonGroup";const dQ=(e,{radius:t,color:n,gradient:r,variant:a,autoContrast:i,size:l})=>{const u=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:a||"filled",autoContrast:i});return{groupSection:{"--section-height":at(l,"section-height"),"--section-padding-x":at(l,"section-padding-x"),"--section-fz":l?.includes("compact")?Vn(l.replace("compact-","")):Vn(l),"--section-radius":t===void 0?void 0:Ut(t),"--section-bg":n||a?u.background:void 0,"--section-color":u.color,"--section-bd":n||a?u.border:void 0}}},pT=xe((e,t)=>{const n=le("ButtonGroupSection",null,e),{className:r,style:a,classNames:i,styles:l,unstyled:u,vars:d,variant:h,gradient:p,radius:m,autoContrast:g,attributes:y,...S}=n,x=Ne({name:"ButtonGroupSection",props:n,classes:Cd,className:r,style:a,classNames:i,styles:l,unstyled:u,attributes:y,vars:d,varsResolver:dQ,rootSelector:"groupSection"});return s.jsx(te,{...x("groupSection"),ref:t,variant:h,...S})});pT.classes=Cd;pT.displayName="@mantine/core/ButtonGroupSection";const fQ={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${me(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},hQ=(e,{radius:t,color:n,gradient:r,variant:a,size:i,justify:l,autoContrast:u})=>{const d=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:a||"filled",autoContrast:u});return{root:{"--button-justify":l,"--button-height":at(i,"button-height"),"--button-padding-x":at(i,"button-padding-x"),"--button-fz":i?.includes("compact")?Vn(i.replace("compact-","")):Vn(i),"--button-radius":t===void 0?void 0:Ut(t),"--button-bg":n||a?d.background:void 0,"--button-hover":n||a?d.hover:void 0,"--button-color":d.color,"--button-bd":n||a?d.border:void 0,"--button-hover-color":n||a?d.hoverColor:void 0}}},Oe=Qn((e,t)=>{const n=le("Button",null,e),{style:r,vars:a,className:i,color:l,disabled:u,children:d,leftSection:h,rightSection:p,fullWidth:m,variant:g,radius:y,loading:S,loaderProps:x,gradient:C,classNames:E,styles:j,unstyled:R,"data-disabled":_,autoContrast:A,mod:M,attributes:D,...O}=n,k=Ne({name:"Button",props:n,classes:Cd,className:i,style:r,classNames:E,styles:j,unstyled:R,attributes:D,vars:a,varsResolver:hQ}),I=!!h,L=!!p;return s.jsxs(Wn,{ref:t,...k("root",{active:!u&&!S&&!_}),unstyled:R,variant:g,disabled:u||S,mod:[{disabled:u||_,loading:S,block:m,"with-left-section":I,"with-right-section":L},M],...O,children:[typeof S=="boolean"&&s.jsx(Bi,{mounted:S,transition:fQ,duration:150,children:V=>s.jsx(te,{component:"span",...k("loader",{style:V}),"aria-hidden":!0,children:s.jsx(tr,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...x})})}),s.jsxs("span",{...k("inner"),children:[h&&s.jsx(te,{component:"span",...k("section"),mod:{position:"left"},children:h}),s.jsx(te,{component:"span",mod:{loading:S},...k("label"),children:d}),p&&s.jsx(te,{component:"span",...k("section"),mod:{position:"right"},children:p})]})]})});Oe.classes=Cd;Oe.displayName="@mantine/core/Button";Oe.Group=hT;Oe.GroupSection=pT;const[pQ,mQ]=xr("Card component was not found in tree");var mT={root:"m_e615b15f",section:"m_599a2148"};const zv=Qn((e,t)=>{const n=le("CardSection",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,withBorder:d,inheritPadding:h,mod:p,...m}=n,g=mQ();return s.jsx(te,{ref:t,mod:[{"with-border":d,"inherit-padding":h},p],...g.getStyles("section",{className:a,style:i,styles:l,classNames:r}),...m})});zv.classes=mT;zv.displayName="@mantine/core/CardSection";const gQ=(e,{padding:t})=>({root:{"--card-padding":In(t)}}),lr=Qn((e,t)=>{const n=le("Card",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,children:h,padding:p,attributes:m,...g}=n,y=Ne({name:"Card",props:n,classes:mT,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:m,vars:d,varsResolver:gQ}),S=b.Children.toArray(h),x=S.map((C,E)=>typeof C=="object"&&C&&"type"in C&&C.type===zv?b.cloneElement(C,{"data-first-section":E===0||void 0,"data-last-section":E===S.length-1||void 0}):C);return s.jsx(pQ,{value:{getStyles:y},children:s.jsx(Lt,{ref:t,unstyled:u,...y("root"),...g,children:x})})});lr.classes=mT;lr.displayName="@mantine/core/Card";lr.Section=zv;var W9={root:"m_4451eb3a"};const yr=Qn((e,t)=>{const n=le("Center",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,inline:h,mod:p,attributes:m,...g}=n,y=Ne({name:"Center",props:n,classes:W9,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:m,vars:d});return s.jsx(te,{ref:t,mod:[{inline:h},p],...y("root"),...g})});yr.classes=W9;yr.displayName="@mantine/core/Center";const[vQ,yQ]=Gi();function G9(e){const{value:t,defaultValue:n,onChange:r,multiple:a,children:i}=le("ChipGroup",null,e),[l,u]=sr({value:t,defaultValue:n,finalValue:a?[]:null,onChange:r}),d=p=>Array.isArray(l)?l.includes(p):p===l,h=p=>{const m=p.currentTarget.value;Array.isArray(l)?u(l.includes(m)?l.filter(g=>g!==m):[...l,m]):u(m)};return s.jsx(vQ,{value:{isChipSelected:d,onChange:h,multiple:a},children:i})}G9.displayName="@mantine/core/ChipGroup";var Y9={root:"m_f59ffda3",label:"m_be049a53","label--outline":"m_3904c1af","label--filled":"m_fa109255","label--light":"m_f7e165c3",iconWrapper:"m_9ac86df9",checkIcon:"m_d6d72580",input:"m_bde07329"};const bQ={type:"checkbox"},xQ=(e,{size:t,radius:n,variant:r,color:a,autoContrast:i})=>{const l=e.variantColorResolver({color:a||e.primaryColor,theme:e,variant:r||"filled",autoContrast:i});return{root:{"--chip-fz":Vn(t),"--chip-size":at(t,"chip-size"),"--chip-radius":n===void 0?void 0:Ut(n),"--chip-checked-padding":at(t,"chip-checked-padding"),"--chip-padding":at(t,"chip-padding"),"--chip-icon-size":at(t,"chip-icon-size"),"--chip-bg":a||r?l.background:void 0,"--chip-hover":a||r?l.hover:void 0,"--chip-color":a||r?l.color:void 0,"--chip-bd":a||r?l.border:void 0,"--chip-spacing":at(t,"chip-spacing")}}},oh=xe((e,t)=>{const n=le("Chip",bQ,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,id:h,checked:p,defaultChecked:m,onChange:g,value:y,wrapperProps:S,type:x,disabled:C,children:E,size:j,variant:R,icon:_,rootRef:A,autoContrast:M,mod:D,attributes:O,...k}=n,I=Ne({name:"Chip",classes:Y9,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:O,vars:d,varsResolver:xQ}),L=yQ(),V=wr(h),{styleProps:q,rest:U}=os(k),[G,N]=sr({value:p,defaultValue:m,finalValue:!1,onChange:g}),z=L?{checked:L.isChipSelected(y),onChange:Y=>{L.onChange(Y),g?.(Y.currentTarget.checked)},type:L.multiple?"checkbox":"radio"}:{},$=z.checked||G;return s.jsxs(te,{size:j,variant:R,ref:A,mod:D,...I("root"),...q,...S,children:[s.jsx("input",{type:x,...I("input"),checked:$,onChange:Y=>N(Y.currentTarget.checked),id:V,disabled:C,ref:t,value:y,...z,...U}),s.jsxs("label",{htmlFor:V,"data-checked":$||void 0,"data-disabled":C||void 0,...I("label",{variant:R||"filled"}),children:[$&&_!==null&&_!==!1&&s.jsx("span",{...I("iconWrapper"),children:_===void 0?s.jsx(Iv,{...I("checkIcon")}):_}),s.jsx("span",{children:E})]})]})});oh.classes=Y9;oh.displayName="@mantine/core/Chip";oh.Group=G9;var Q9={root:"m_7485cace"};const SQ=(e,{size:t,fluid:n})=>({root:{"--container-size":n?void 0:at(t,"container-size")}}),$h=xe((e,t)=>{const n=le("Container",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,fluid:h,mod:p,attributes:m,strategy:g,...y}=n,S=Ne({name:"Container",classes:Q9,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:m,vars:d,varsResolver:SQ});return s.jsx(te,{ref:t,mod:[{fluid:h,strategy:g||"block"},p],...S("root"),...y})});$h.classes=Q9;$h.displayName="@mantine/core/Container";const wQ={timeout:1e3};function gT(e){const{children:t,timeout:n,value:r,...a}=le("CopyButton",wQ,e),i=r5({timeout:n}),l=()=>i.copy(r);return s.jsx(s.Fragment,{children:t({copy:l,copied:i.copied,...a})})}gT.displayName="@mantine/core/CopyButton";var K9={root:"m_3eebeb36",label:"m_9e365f20"};const CQ={orientation:"horizontal"},jQ=(e,{color:t,variant:n,size:r})=>({root:{"--divider-color":t?nn(t,e):void 0,"--divider-border-style":n,"--divider-size":at(r,"divider-size")}}),st=xe((e,t)=>{const n=le("Divider",CQ,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,color:h,orientation:p,label:m,labelPosition:g,mod:y,attributes:S,...x}=n,C=Ne({name:"Divider",classes:K9,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:S,vars:d,varsResolver:jQ});return s.jsx(te,{ref:t,mod:[{orientation:p,"with-label":!!m},y],...C("root"),...x,role:"separator",children:m&&s.jsx(te,{component:"span",mod:{position:g},...C("label"),children:m})})});st.classes=K9;st.displayName="@mantine/core/Divider";const[EQ,jd]=xr("Drawer component was not found in tree");var cs={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const $v=xe((e,t)=>{const n=le("DrawerBody",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,...d}=n,h=jd();return s.jsx(NE,{ref:t,...h.getStyles("body",{classNames:r,style:i,styles:l,className:a}),...d})});$v.classes=cs;$v.displayName="@mantine/core/DrawerBody";const qv=xe((e,t)=>{const n=le("DrawerCloseButton",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,...d}=n,h=jd();return s.jsx(IE,{ref:t,...h.getStyles("close",{classNames:r,style:i,styles:l,className:a}),...d})});qv.classes=cs;qv.displayName="@mantine/core/DrawerCloseButton";const Uv=xe((e,t)=>{const n=le("DrawerContent",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,children:d,radius:h,__hidden:p,...m}=n,g=jd(),y=g.scrollAreaComponent||g9;return s.jsx(LE,{...g.getStyles("content",{className:a,style:i,styles:l,classNames:r}),innerProps:g.getStyles("inner",{className:a,style:i,styles:l,classNames:r}),ref:t,...m,radius:h||g.radius||0,"data-hidden":p||void 0,children:s.jsx(y,{style:{height:"calc(100vh - var(--drawer-offset) * 2)"},children:d})})});Uv.classes=cs;Uv.displayName="@mantine/core/DrawerContent";const Bv=xe((e,t)=>{const n=le("DrawerHeader",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,...d}=n,h=jd();return s.jsx(zE,{ref:t,...h.getStyles("header",{classNames:r,style:i,styles:l,className:a}),...d})});Bv.classes=cs;Bv.displayName="@mantine/core/DrawerHeader";const Hv=xe((e,t)=>{const n=le("DrawerOverlay",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,...d}=n,h=jd();return s.jsx($E,{ref:t,...h.getStyles("overlay",{classNames:r,style:i,styles:l,className:a}),...d})});Hv.classes=cs;Hv.displayName="@mantine/core/DrawerOverlay";function TQ(e){switch(e){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function RQ(e){if(e==="top"||e==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const _Q={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},DQ={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},AQ={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Sr("modal"),position:"left"},OQ=(e,{position:t,size:n,offset:r})=>({root:{"--drawer-size":at(n,"drawer-size"),"--drawer-flex":RQ(t),"--drawer-height":t==="left"||t==="right"?void 0:"var(--drawer-size)","--drawer-align":TQ(t),"--drawer-justify":t==="right"?"flex-end":void 0,"--drawer-offset":me(r)}}),Fv=xe((e,t)=>{const n=le("DrawerRoot",AQ,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,scrollAreaComponent:h,position:p,transitionProps:m,radius:g,attributes:y,...S}=n,{dir:x}=ss(),C=Ne({name:"Drawer",classes:cs,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:y,vars:d,varsResolver:OQ}),E=(x==="rtl"?DQ:_Q)[p];return s.jsx(EQ,{value:{scrollAreaComponent:h,getStyles:C,radius:g},children:s.jsx(PE,{ref:t,...C("root"),transitionProps:{transition:E,...m},"data-offset-scrollbars":h===mn.Autosize||void 0,unstyled:u,...S})})});Fv.classes=cs;Fv.displayName="@mantine/core/DrawerRoot";const[kQ,MQ]=Gi();function X9({children:e}){const[t,n]=b.useState([]),[r,a]=b.useState(Sr("modal"));return s.jsx(kQ,{value:{stack:t,addModal:(i,l)=>{n(u=>[...new Set([...u,i])]),a(u=>typeof l=="number"&&typeof u=="number"?Math.max(u,l):u)},removeModal:i=>n(l=>l.filter(u=>u!==i)),getZIndex:i=>`calc(${r} + ${t.indexOf(i)} + 1)`,currentId:t[t.length-1],maxZIndex:r},children:e})}X9.displayName="@mantine/core/DrawerStack";const Vv=xe((e,t)=>{const n=le("DrawerTitle",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,...d}=n,h=jd();return s.jsx(qE,{ref:t,...h.getStyles("title",{classNames:r,style:i,styles:l,className:a}),...d})});Vv.classes=cs;Vv.displayName="@mantine/core/DrawerTitle";const PQ={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Sr("modal"),withOverlay:!0,withCloseButton:!0},Qi=xe((e,t)=>{const{title:n,withOverlay:r,overlayProps:a,withCloseButton:i,closeButtonProps:l,children:u,opened:d,stackId:h,zIndex:p,...m}=le("Drawer",PQ,e),g=MQ(),y=!!n||i,S=g&&h?{closeOnEscape:g.currentId===h,trapFocus:g.currentId===h,zIndex:g.getZIndex(h)}:{},x=r===!1?!1:h&&g?g.currentId===h:d;return b.useEffect(()=>{g&&h&&(d?g.addModal(h,p||Sr("modal")):g.removeModal(h))},[d,h,p]),s.jsxs(Fv,{ref:t,opened:d,zIndex:g&&h?g.getZIndex(h):p,...m,...S,children:[r&&s.jsx(Hv,{visible:x,transitionProps:g&&h?{duration:0}:void 0,...a}),s.jsxs(Uv,{__hidden:g&&h&&d?h!==g.currentId:!1,children:[y&&s.jsxs(Bv,{children:[n&&s.jsx(Vv,{children:n}),i&&s.jsx(qv,{...l})]}),s.jsx($v,{children:u})]})]})});Qi.classes=cs;Qi.displayName="@mantine/core/Drawer";Qi.Root=Fv;Qi.Overlay=Hv;Qi.Content=Uv;Qi.Body=$v;Qi.Header=Bv;Qi.Title=Vv;Qi.CloseButton=qv;Qi.Stack=X9;const[qk,Z9]=xr("Grid component was not found in tree"),vj=(e,t)=>e==="content"?"auto":e==="auto"?"0rem":e?`${100/(t/e)}%`:void 0,Uk=(e,t,n)=>n||e==="auto"?"100%":e==="content"?"unset":vj(e,t),Bk=(e,t)=>{if(e)return e==="auto"||t?"1":"auto"},Hk=(e,t)=>e===0?"0":e?`${100/(t/e)}%`:void 0;function NQ({span:e,order:t,offset:n,selector:r}){const a=Cn(),i=Z9(),l=i.breakpoints||a.breakpoints,d=Ni(e)===void 0?12:Ni(e),h=dl({"--col-order":Ni(t)?.toString(),"--col-flex-grow":Bk(d,i.grow),"--col-flex-basis":vj(d,i.columns),"--col-width":d==="content"?"auto":void 0,"--col-max-width":Uk(d,i.columns,i.grow),"--col-offset":Hk(Ni(n),i.columns)}),p=hn(l).reduce((y,S)=>(y[S]||(y[S]={}),typeof t=="object"&&t[S]!==void 0&&(y[S]["--col-order"]=t[S]?.toString()),typeof e=="object"&&e[S]!==void 0&&(y[S]["--col-flex-grow"]=Bk(e[S],i.grow),y[S]["--col-flex-basis"]=vj(e[S],i.columns),y[S]["--col-width"]=e[S]==="content"?"auto":void 0,y[S]["--col-max-width"]=Uk(e[S],i.columns,i.grow)),typeof n=="object"&&n[S]!==void 0&&(y[S]["--col-offset"]=Hk(n[S],i.columns)),y),{}),g=th(hn(p),l).filter(y=>hn(p[y.value]).length>0).map(y=>({query:i.type==="container"?`mantine-grid (min-width: ${l[y.value]})`:`(min-width: ${l[y.value]})`,styles:p[y.value]}));return s.jsx(Pc,{styles:h,media:i.type==="container"?void 0:g,container:i.type==="container"?g:void 0,selector:r})}var vT={container:"m_8478a6da",root:"m_410352e9",inner:"m_dee7bd2f",col:"m_96bdd299"};const IQ={span:12},yT=xe((e,t)=>{const n=le("GridCol",IQ,e),{classNames:r,className:a,style:i,styles:l,vars:u,span:d,order:h,offset:p,...m}=n,g=Z9(),y=Mh();return s.jsxs(s.Fragment,{children:[s.jsx(NQ,{selector:`.${y}`,span:d,order:h,offset:p}),s.jsx(te,{ref:t,...g.getStyles("col",{className:Rt(a,y),style:i,classNames:r,styles:l}),...m})]})});yT.classes=vT;yT.displayName="@mantine/core/GridCol";function Fk({gutter:e,selector:t,breakpoints:n,type:r}){const a=Cn(),i=n||a.breakpoints,l=dl({"--grid-gutter":In(Ni(e))}),u=hn(i).reduce((p,m)=>(p[m]||(p[m]={}),typeof e=="object"&&e[m]!==void 0&&(p[m]["--grid-gutter"]=In(e[m])),p),{}),h=th(hn(u),i).filter(p=>hn(u[p.value]).length>0).map(p=>({query:r==="container"?`mantine-grid (min-width: ${i[p.value]})`:`(min-width: ${i[p.value]})`,styles:u[p.value]}));return s.jsx(Pc,{styles:l,media:r==="container"?void 0:h,container:r==="container"?h:void 0,selector:t})}const LQ={gutter:"md",grow:!1,columns:12},zQ=(e,{justify:t,align:n,overflow:r})=>({root:{"--grid-justify":t,"--grid-align":n,"--grid-overflow":r}}),br=xe((e,t)=>{const n=le("Grid",LQ,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,grow:h,gutter:p,columns:m,align:g,justify:y,children:S,breakpoints:x,type:C,attributes:E,...j}=n,R=Ne({name:"Grid",classes:vT,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:E,vars:d,varsResolver:zQ}),_=Mh();return C==="container"&&x?s.jsxs(qk,{value:{getStyles:R,grow:h,columns:m,breakpoints:x,type:C},children:[s.jsx(Fk,{selector:`.${_}`,...n}),s.jsx("div",{...R("container"),children:s.jsx(te,{ref:t,...R("root",{className:_}),...j,children:s.jsx("div",{...R("inner"),children:S})})})]}):s.jsxs(qk,{value:{getStyles:R,grow:h,columns:m,breakpoints:x,type:C},children:[s.jsx(Fk,{selector:`.${_}`,...n}),s.jsx(te,{ref:t,...R("root",{className:_}),...j,children:s.jsx("div",{...R("inner"),children:S})})]})});br.classes=vT;br.displayName="@mantine/core/Grid";br.Col=yT;function Vk({color:e,theme:t,defaultShade:n}){const r=va({color:e,theme:t});return r.isThemeColor?r.shade===void 0?`var(--mantine-color-${r.color}-${n})`:`var(${r.variable})`:e}var J9={root:"m_bcb3f3c2"};const $Q={color:"yellow"},qQ=(e,{color:t})=>({root:{"--mark-bg-dark":Vk({color:t,theme:e,defaultShade:5}),"--mark-bg-light":Vk({color:t,theme:e,defaultShade:2})}}),bT=xe((e,t)=>{const n=le("Mark",$Q,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,color:h,variant:p,attributes:m,...g}=n,y=Ne({name:"Mark",props:n,className:a,style:i,classes:J9,classNames:r,styles:l,unstyled:u,attributes:m,vars:d,varsResolver:qQ});return s.jsx(te,{component:"mark",ref:t,variant:p,...y("root"),...g})});bT.classes=J9;bT.displayName="@mantine/core/Mark";function Wk(e){return e.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")}function UQ(e,t){if(t==null)return[{chunk:e,highlighted:!1}];const n=Array.isArray(t)?t.map(Wk):Wk(t);if(!(Array.isArray(n)?n.filter(u=>u.trim().length>0).length>0:n.trim()!==""))return[{chunk:e,highlighted:!1}];const a=typeof n=="string"?n.trim():n.filter(u=>u.trim().length!==0).map(u=>u.trim()).sort((u,d)=>d.length-u.length).join("|"),i=new RegExp(`(${a})`,"gi");return e.split(i).map(u=>({chunk:u,highlighted:i.test(u)})).filter(({chunk:u})=>u)}const xT=Qn((e,t)=>{const{unstyled:n,children:r,highlight:a,highlightStyles:i,color:l,...u}=le("Highlight",null,e),d=UQ(r,a);return s.jsx(W,{unstyled:n,ref:t,...u,__staticSelector:"Highlight",children:d.map(({chunk:h,highlighted:p},m)=>p?s.jsx(bT,{unstyled:n,color:l,style:i,"data-highlight":h,children:h},m):s.jsx("span",{children:h},m))})});xT.classes=W.classes;xT.displayName="@mantine/core/Highlight";var e6={root:"m_9e117634"};const BQ=(e,{radius:t,fit:n})=>({root:{"--image-radius":t===void 0?void 0:Ut(t),"--image-object-fit":n}}),ST=Qn((e,t)=>{const n=le("Image",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,onError:h,src:p,radius:m,fit:g,fallbackSrc:y,mod:S,attributes:x,...C}=n,[E,j]=b.useState(!p);b.useEffect(()=>j(!p),[p]);const R=Ne({name:"Image",classes:e6,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:x,vars:d,varsResolver:BQ});return E&&y?s.jsx(te,{component:"img",ref:t,src:y,...R("root"),onError:h,mod:["fallback",S],...C}):s.jsx(te,{component:"img",ref:t,...R("root"),src:p,onError:_=>{h?.(_),j(!0)},mod:S,...C})});ST.classes=e6;ST.displayName="@mantine/core/Image";function HQ(e="top-end",t=0){const n={"--indicator-top":void 0,"--indicator-bottom":void 0,"--indicator-left":void 0,"--indicator-right":void 0,"--indicator-translate-x":void 0,"--indicator-translate-y":void 0},r=me(t),[a,i]=e.split("-");return a==="top"&&(n["--indicator-top"]=r,n["--indicator-translate-y"]="-50%"),a==="middle"&&(n["--indicator-top"]="50%",n["--indicator-translate-y"]="-50%"),a==="bottom"&&(n["--indicator-bottom"]=r,n["--indicator-translate-y"]="50%"),i==="start"&&(n["--indicator-left"]=r,n["--indicator-translate-x"]="-50%"),i==="center"&&(n["--indicator-left"]="50%",n["--indicator-translate-x"]="-50%"),i==="end"&&(n["--indicator-right"]=r,n["--indicator-translate-x"]="50%"),n}var t6={root:"m_e5262200",indicator:"m_760d1fb1",processing:"m_885901b1"};const FQ={position:"top-end",offset:0},VQ=(e,{color:t,position:n,offset:r,size:a,radius:i,zIndex:l,autoContrast:u})=>({root:{"--indicator-color":t?nn(t,e):void 0,"--indicator-text-color":is(u,e)?Yi({color:t,theme:e,autoContrast:u}):void 0,"--indicator-size":me(a),"--indicator-radius":i===void 0?void 0:Ut(i),"--indicator-z-index":l?.toString(),...HQ(n,r)}}),Wv=xe((e,t)=>{const n=le("Indicator",FQ,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,children:h,position:p,offset:m,inline:g,label:y,radius:S,color:x,withBorder:C,disabled:E,processing:j,zIndex:R,autoContrast:_,mod:A,attributes:M,...D}=n,O=Ne({name:"Indicator",classes:t6,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:M,vars:d,varsResolver:VQ});return s.jsxs(te,{ref:t,...O("root"),mod:[{inline:g},A],...D,children:[!E&&s.jsx(te,{mod:{"with-label":!!y,"with-border":C,processing:j},...O("indicator"),children:y}),h]})});Wv.classes=t6;Wv.displayName="@mantine/core/Indicator";function Tn(){return Tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tn.apply(null,arguments)}function Nc(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var WQ=b.useLayoutEffect,GQ=function(t){var n=ne.useRef(t);return WQ(function(){n.current=t}),n},Gk=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},YQ=function(t,n){var r=ne.useRef();return ne.useCallback(function(a){t.current=a,r.current&&Gk(r.current,null),r.current=n,n&&Gk(n,a)},[n])},Yk={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},QQ=function(t){Object.keys(Yk).forEach(function(n){t.style.setProperty(n,Yk[n],"important")})},Qk=QQ,Xr=null,Kk=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function KQ(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Xr||(Xr=document.createElement("textarea"),Xr.setAttribute("tabindex","-1"),Xr.setAttribute("aria-hidden","true"),Qk(Xr)),Xr.parentNode===null&&document.body.appendChild(Xr);var a=e.paddingSize,i=e.borderSize,l=e.sizingStyle,u=l.boxSizing;Object.keys(l).forEach(function(g){var y=g;Xr.style[y]=l[y]}),Qk(Xr),Xr.value=t;var d=Kk(Xr,e);Xr.value=t,d=Kk(Xr,e),Xr.value="x";var h=Xr.scrollHeight-a,p=h*n;u==="border-box"&&(p=p+a+i),d=Math.max(p,d);var m=h*r;return u==="border-box"&&(m=m+a+i),d=Math.min(m,d),[d,h]}var Xk=function(){},XQ=function(t,n){return t.reduce(function(r,a){return r[a]=n[a],r},{})},ZQ=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],JQ=!!document.documentElement.currentStyle,eK=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=XQ(ZQ,n),a=r.boxSizing;if(a==="")return null;JQ&&a==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var i=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),l=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:i,borderSize:l}},tK=eK;function wT(e,t,n){var r=GQ(n);b.useLayoutEffect(function(){var a=function(l){return r.current(l)};if(e)return e.addEventListener(t,a),function(){return e.removeEventListener(t,a)}},[])}var nK=function(t,n){wT(document.body,"reset",function(r){t.current.form===r.target&&n(r)})},rK=function(t){wT(window,"resize",t)},aK=function(t){wT(document.fonts,"loadingdone",t)},iK=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],oK=function(t,n){var r=t.cacheMeasurements,a=t.maxRows,i=t.minRows,l=t.onChange,u=l===void 0?Xk:l,d=t.onHeightChange,h=d===void 0?Xk:d,p=Nc(t,iK),m=p.value!==void 0,g=b.useRef(null),y=YQ(g,n),S=b.useRef(0),x=b.useRef(),C=function(){var R=g.current,_=r&&x.current?x.current:tK(R);if(_){x.current=_;var A=KQ(_,R.value||R.placeholder||"x",i,a),M=A[0],D=A[1];S.current!==M&&(S.current=M,R.style.setProperty("height",M+"px","important"),h(M,{rowHeight:D}))}},E=function(R){m||C(),u(R)};return b.useLayoutEffect(C),nK(g,function(){if(!m){var j=g.current.value;requestAnimationFrame(function(){var R=g.current;R&&j!==R.value&&C()})}}),rK(C),aK(C),b.createElement("textarea",Tn({},p,{onChange:E,ref:y}))},sK=b.forwardRef(oK);const lK={size:"sm"},ja=xe((e,t)=>{const{autosize:n,maxRows:r,minRows:a,__staticSelector:i,resize:l,...u}=le("Textarea",lK,e),d=n&&d5()!=="test",h=d?{maxRows:r,minRows:a}:{};return s.jsx(Va,{component:d?sK:"textarea",ref:t,...u,__staticSelector:i||"Textarea",multiline:!0,"data-no-overflow":n&&r===void 0||void 0,__vars:{"--input-resize":l},...h})});ja.classes=Va.classes;ja.displayName="@mantine/core/Textarea";const[cK,uK]=xr("List component was not found in tree");var CT={root:"m_abbac491",item:"m_abb6bec2",itemWrapper:"m_75cd9f71",itemIcon:"m_60f83e5b"};const Gv=xe((e,t)=>{const n=le("ListItem",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,icon:d,children:h,mod:p,...m}=n,g=uK(),y=d||g.icon,S={classNames:r,styles:l};return s.jsx(te,{...g.getStyles("item",{...S,className:a,style:i}),component:"li",mod:[{"with-icon":!!y,centered:g.center},p],ref:t,...m,children:s.jsxs("div",{...g.getStyles("itemWrapper",S),children:[y&&s.jsx("span",{...g.getStyles("itemIcon",S),children:y}),s.jsx("span",{...g.getStyles("itemLabel",S),children:h})]})})});Gv.classes=CT;Gv.displayName="@mantine/core/ListItem";const dK={type:"unordered"},fK=(e,{size:t,spacing:n})=>({root:{"--list-fz":Vn(t),"--list-lh":n5(t),"--list-spacing":In(n)}}),ad=xe((e,t)=>{const n=le("List",dK,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,children:h,type:p,withPadding:m,icon:g,spacing:y,center:S,listStyleType:x,mod:C,attributes:E,...j}=n,R=Ne({name:"List",classes:CT,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:E,vars:d,varsResolver:fK});return s.jsx(cK,{value:{center:S,icon:g,getStyles:R},children:s.jsx(te,{...R("root",{style:{listStyleType:x}}),component:p==="unordered"?"ul":"ol",mod:[{"with-padding":m,type:g?"none":x},C],ref:t,...j,children:h})})});ad.classes=CT;ad.displayName="@mantine/core/List";ad.Item=Gv;var n6={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const Zk={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:Sr("overlay")},hK=(e,{zIndex:t})=>({root:{"--lo-z-index":t?.toString()}}),Yv=xe((e,t)=>{const n=le("LoadingOverlay",Zk,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,transitionProps:h,loaderProps:p,overlayProps:m,visible:g,zIndex:y,attributes:S,...x}=n,C=Cn(),E=Ne({name:"LoadingOverlay",classes:n6,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:S,vars:d,varsResolver:hK}),j={...Zk.overlayProps,...m};return s.jsx(Bi,{transition:"fade",...h,mounted:!!g,children:R=>s.jsxs(te,{...E("root",{style:R}),ref:t,...x,children:[s.jsx(tr,{...E("loader"),unstyled:u,...p}),s.jsx(td,{...j,...E("overlay"),darkHidden:!0,unstyled:u,color:m?.color||C.white}),s.jsx(td,{...j,...E("overlay"),lightHidden:!0,unstyled:u,color:m?.color||C.colors.dark[5]})]})})});Yv.classes=n6;Yv.displayName="@mantine/core/LoadingOverlay";const[pK,ml]=xr("Menu component was not found in the tree");var gl={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504",chevron:"m_b85b0bed"};const jT=xe((e,t)=>{const{classNames:n,className:r,style:a,styles:i,vars:l,...u}=le("MenuDivider",null,e),d=ml();return s.jsx(te,{ref:t,...d.getStyles("divider",{className:r,style:a,styles:i,classNames:n}),...u})});jT.classes=gl;jT.displayName="@mantine/core/MenuDivider";const ET=xe((e,t)=>{const{classNames:n,className:r,style:a,styles:i,vars:l,onMouseEnter:u,onMouseLeave:d,onKeyDown:h,children:p,...m}=le("MenuDropdown",null,e),g=b.useRef(null),y=ml(),S=vr(h,E=>{(E.key==="ArrowUp"||E.key==="ArrowDown")&&(E.preventDefault(),g.current?.querySelectorAll("[data-menu-item]:not(:disabled)")[0]?.focus())}),x=vr(u,()=>(y.trigger==="hover"||y.trigger==="click-hover")&&y.openDropdown()),C=vr(d,()=>(y.trigger==="hover"||y.trigger==="click-hover")&&y.closeDropdown());return s.jsxs(Ca.Dropdown,{...m,onMouseEnter:x,onMouseLeave:C,role:"menu","aria-orientation":"vertical",ref:Yn(t,g),...y.getStyles("dropdown",{className:r,style:a,styles:i,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:S,children:[y.withInitialFocusPlaceholder&&s.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),p]})});ET.classes=gl;ET.displayName="@mantine/core/MenuDropdown";const[mK,Qv]=Gi(),TT=Qn((e,t)=>{const{classNames:n,className:r,style:a,styles:i,vars:l,color:u,closeMenuOnClick:d,leftSection:h,rightSection:p,children:m,disabled:g,"data-disabled":y,...S}=le("MenuItem",null,e),x=ml(),C=Qv(),E=Cn(),{dir:j}=ss(),R=b.useRef(null),_=S,A=vr(_.onClick,()=>{y||(typeof d=="boolean"?d&&x.closeDropdownImmediately():x.closeOnItemClick&&x.closeDropdownImmediately())}),M=u?E.variantColorResolver({color:u,theme:E,variant:"light"}):void 0,D=u?va({color:u,theme:E}):null,O=vr(_.onKeyDown,k=>{k.key==="ArrowLeft"&&C&&(C.close(),C.focusParentItem())});return s.jsxs(Wn,{onMouseDown:k=>k.preventDefault(),...S,unstyled:x.unstyled,tabIndex:x.menuItemTabIndex,...x.getStyles("item",{className:r,style:a,styles:i,classNames:n}),ref:Yn(R,t),role:"menuitem",disabled:g,"data-menu-item":!0,"data-disabled":g||y||void 0,"data-mantine-stop-propagation":!0,onClick:A,onKeyDown:lE({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:x.loop,dir:j,orientation:"vertical",onKeyDown:O}),__vars:{"--menu-item-color":D?.isThemeColor&&D?.shade===void 0?`var(--mantine-color-${D.color}-6)`:M?.color,"--menu-item-hover":M?.hover},children:[h&&s.jsx("div",{...x.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"left",children:h}),m&&s.jsx("div",{...x.getStyles("itemLabel",{styles:i,classNames:n}),children:m}),p&&s.jsx("div",{...x.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"right",children:p})]})});TT.classes=gl;TT.displayName="@mantine/core/MenuItem";const RT=xe((e,t)=>{const{classNames:n,className:r,style:a,styles:i,vars:l,...u}=le("MenuLabel",null,e),d=ml();return s.jsx(te,{ref:t,...d.getStyles("label",{className:r,style:a,styles:i,classNames:n}),...u})});RT.classes=gl;RT.displayName="@mantine/core/MenuLabel";const _T=xe((e,t)=>{const{classNames:n,className:r,style:a,styles:i,vars:l,onMouseEnter:u,onMouseLeave:d,onKeyDown:h,children:p,...m}=le("MenuSubDropdown",null,e),g=b.useRef(null),y=ml(),S=Qv(),x=vr(u,S?.open),C=vr(d,S?.close);return s.jsx(Ca.Dropdown,{...m,onMouseEnter:x,onMouseLeave:C,role:"menu","aria-orientation":"vertical",ref:Yn(t,g),...y.getStyles("dropdown",{className:r,style:a,styles:i,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,children:p})});_T.classes=gl;_T.displayName="@mantine/core/MenuSubDropdown";const DT=Qn((e,t)=>{const{classNames:n,className:r,style:a,styles:i,vars:l,color:u,leftSection:d,rightSection:h,children:p,disabled:m,"data-disabled":g,closeMenuOnClick:y,...S}=le("MenuSubItem",null,e),x=ml(),C=Qv(),E=Cn(),{dir:j}=ss(),R=b.useRef(null),_=S,A=u?E.variantColorResolver({color:u,theme:E,variant:"light"}):void 0,M=u?va({color:u,theme:E}):null,D=vr(_.onKeyDown,L=>{L.key==="ArrowRight"&&(C?.open(),C?.focusFirstItem()),L.key==="ArrowLeft"&&C?.parentContext&&(C.parentContext.close(),C.parentContext.focusParentItem())}),O=vr(_.onClick,()=>{!g&&y&&x.closeDropdownImmediately()}),k=vr(_.onMouseEnter,C?.open),I=vr(_.onMouseLeave,C?.close);return s.jsxs(Wn,{onMouseDown:L=>L.preventDefault(),...S,unstyled:x.unstyled,tabIndex:x.menuItemTabIndex,...x.getStyles("item",{className:r,style:a,styles:i,classNames:n}),ref:Yn(R,t),role:"menuitem",disabled:m,"data-menu-item":!0,"data-sub-menu-item":!0,"data-disabled":m||g||void 0,"data-mantine-stop-propagation":!0,onMouseEnter:k,onMouseLeave:I,onClick:O,onKeyDown:lE({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:x.loop,dir:j,orientation:"vertical",onKeyDown:D}),__vars:{"--menu-item-color":M?.isThemeColor&&M?.shade===void 0?`var(--mantine-color-${M.color}-6)`:A?.color,"--menu-item-hover":A?.hover},children:[d&&s.jsx("div",{...x.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"left",children:d}),p&&s.jsx("div",{...x.getStyles("itemLabel",{styles:i,classNames:n}),children:p}),s.jsx("div",{...x.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"right",children:h||s.jsx(S9,{...x.getStyles("chevron"),size:14})})]})});DT.classes=gl;DT.displayName="@mantine/core/MenuSubItem";function r6({children:e,refProp:t}){if(!sE(e))throw new Error("Menu.Sub.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return ml(),s.jsx(Ca.Target,{refProp:t,popupType:"menu",children:e})}r6.displayName="@mantine/core/MenuSubTarget";const gK={offset:0,position:"right-start",transitionProps:{duration:0},openDelay:0,middlewares:{shift:{crossAxis:!0}}};function Ed(e){const{children:t,closeDelay:n,openDelay:r,...a}=le("MenuSub",gK,e),i=wr(),[l,{open:u,close:d}]=qa(!1),h=Qv(),{openDropdown:p,closeDropdown:m}=x9({open:u,close:d,closeDelay:n,openDelay:r}),g=()=>window.setTimeout(()=>{document.getElementById(`${i}-dropdown`)?.querySelectorAll("[data-menu-item]:not([data-disabled])")[0]?.focus()},16),y=()=>window.setTimeout(()=>{document.getElementById(`${i}-target`)?.focus()},16);return s.jsx(mK,{value:{opened:l,close:m,open:p,focusFirstItem:g,focusParentItem:y,parentContext:h},children:s.jsx(Ca,{opened:l,withinPortal:!1,withArrow:!1,id:i,...a,children:t})})}Ed.extend=e=>e;Ed.displayName="@mantine/core/MenuSub";Ed.Target=r6;Ed.Dropdown=_T;Ed.Item=DT;const vK={refProp:"ref"},a6=b.forwardRef((e,t)=>{const{children:n,refProp:r,...a}=le("MenuTarget",vK,e),i=Mc(n);if(!i)throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const l=ml(),u=i.props,d=vr(u.onClick,()=>{l.trigger==="click"?l.toggleDropdown():l.trigger==="click-hover"&&(l.setOpenedViaClick(!0),l.opened||l.openDropdown())}),h=vr(u.onMouseEnter,()=>(l.trigger==="hover"||l.trigger==="click-hover")&&l.openDropdown()),p=vr(u.onMouseLeave,()=>{(l.trigger==="hover"||l.trigger==="click-hover"&&!l.openedViaClick)&&l.closeDropdown()});return s.jsx(Ca.Target,{refProp:r,popupType:"menu",ref:t,...a,children:b.cloneElement(i,{onClick:d,onMouseEnter:h,onMouseLeave:p,"data-expanded":l.opened?!0:void 0})})});a6.displayName="@mantine/core/MenuTarget";const yK={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function ye(e){const t=le("Menu",yK,e),{children:n,onOpen:r,onClose:a,opened:i,defaultOpened:l,trapFocus:u,onChange:d,closeOnItemClick:h,loop:p,closeOnEscape:m,trigger:g,openDelay:y,closeDelay:S,classNames:x,styles:C,unstyled:E,variant:j,vars:R,menuItemTabIndex:_,keepMounted:A,withInitialFocusPlaceholder:M,attributes:D,...O}=t,k=Ne({name:"Menu",classes:gl,props:t,classNames:x,styles:C,unstyled:E,attributes:D}),[I,L]=sr({value:i,defaultValue:l,finalValue:!1,onChange:d}),[V,q]=b.useState(!1),U=()=>{L(!1),q(!1),I&&a?.()},G=()=>{L(!0),!I&&r?.()},N=()=>{I?U():G()},{openDropdown:z,closeDropdown:$}=x9({open:G,close:U,closeDelay:S,openDelay:y}),Y=F=>yH("[data-menu-item]","[data-menu-dropdown]",F),{resolvedClassNames:X,resolvedStyles:H}=vd({classNames:x,styles:C,props:t});return s.jsx(pK,{value:{getStyles:k,opened:I,toggleDropdown:N,getItemIndex:Y,openedViaClick:V,setOpenedViaClick:q,closeOnItemClick:h,closeDropdown:g==="click"?U:$,openDropdown:g==="click"?G:z,closeDropdownImmediately:U,loop:p,trigger:g,unstyled:E,menuItemTabIndex:_,withInitialFocusPlaceholder:M},children:s.jsx(Ca,{returnFocus:!0,...O,opened:I,onChange:N,defaultOpened:l,trapFocus:A?!1:u,closeOnEscape:m,__staticSelector:"Menu",classNames:X,styles:H,unstyled:E,variant:j,keepMounted:A,children:n})})}ye.extend=e=>e;ye.withProps=sV(ye);ye.classes=gl;ye.displayName="@mantine/core/Menu";ye.Item=TT;ye.Label=RT;ye.Dropdown=ET;ye.Target=a6;ye.Divider=jT;ye.Sub=Ed;const[bK,Td]=xr("Modal component was not found in tree");var us={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const Kv=xe((e,t)=>{const n=le("ModalBody",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,...d}=n,h=Td();return s.jsx(NE,{ref:t,...h.getStyles("body",{classNames:r,style:i,styles:l,className:a}),...d})});Kv.classes=us;Kv.displayName="@mantine/core/ModalBody";const Xv=xe((e,t)=>{const n=le("ModalCloseButton",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,...d}=n,h=Td();return s.jsx(IE,{ref:t,...h.getStyles("close",{classNames:r,style:i,styles:l,className:a}),...d})});Xv.classes=us;Xv.displayName="@mantine/core/ModalCloseButton";const Zv=xe((e,t)=>{const n=le("ModalContent",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,children:d,__hidden:h,...p}=n,m=Td(),g=m.scrollAreaComponent||g9;return s.jsx(LE,{...m.getStyles("content",{className:a,style:i,styles:l,classNames:r}),innerProps:m.getStyles("inner",{className:a,style:i,styles:l,classNames:r}),"data-full-screen":m.fullScreen||void 0,"data-modal-content":!0,"data-hidden":h||void 0,ref:t,...p,children:s.jsx(g,{style:{maxHeight:m.fullScreen?"100dvh":`calc(100dvh - (${me(m.yOffset)} * 2))`},children:d})})});Zv.classes=us;Zv.displayName="@mantine/core/ModalContent";const Jv=xe((e,t)=>{const n=le("ModalHeader",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,...d}=n,h=Td();return s.jsx(zE,{ref:t,...h.getStyles("header",{classNames:r,style:i,styles:l,className:a}),...d})});Jv.classes=us;Jv.displayName="@mantine/core/ModalHeader";const ey=xe((e,t)=>{const n=le("ModalOverlay",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,...d}=n,h=Td();return s.jsx($E,{ref:t,...h.getStyles("overlay",{classNames:r,style:i,styles:l,className:a}),...d})});ey.classes=us;ey.displayName="@mantine/core/ModalOverlay";const xK={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Sr("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},SK=(e,{radius:t,size:n,yOffset:r,xOffset:a})=>({root:{"--modal-radius":t===void 0?void 0:Ut(t),"--modal-size":at(n,"modal-size"),"--modal-y-offset":me(r),"--modal-x-offset":me(a)}}),ty=xe((e,t)=>{const n=le("ModalRoot",xK,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,yOffset:h,scrollAreaComponent:p,radius:m,fullScreen:g,centered:y,xOffset:S,__staticSelector:x,attributes:C,...E}=n,j=Ne({name:x,classes:us,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:C,vars:d,varsResolver:SK});return s.jsx(bK,{value:{yOffset:h,scrollAreaComponent:p,getStyles:j,fullScreen:g},children:s.jsx(PE,{ref:t,...j("root"),"data-full-screen":g||void 0,"data-centered":y||void 0,"data-offset-scrollbars":p===mn.Autosize||void 0,unstyled:u,...E})})});ty.classes=us;ty.displayName="@mantine/core/ModalRoot";const[wK,CK]=Gi();function i6({children:e}){const[t,n]=b.useState([]),[r,a]=b.useState(Sr("modal"));return s.jsx(wK,{value:{stack:t,addModal:(i,l)=>{n(u=>[...new Set([...u,i])]),a(u=>typeof l=="number"&&typeof u=="number"?Math.max(u,l):u)},removeModal:i=>n(l=>l.filter(u=>u!==i)),getZIndex:i=>`calc(${r} + ${t.indexOf(i)} + 1)`,currentId:t[t.length-1],maxZIndex:r},children:e})}i6.displayName="@mantine/core/ModalStack";const ny=xe((e,t)=>{const n=le("ModalTitle",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,...d}=n,h=Td();return s.jsx(qE,{ref:t,...h.getStyles("title",{classNames:r,style:i,styles:l,className:a}),...d})});ny.classes=us;ny.displayName="@mantine/core/ModalTitle";const jK={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Sr("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},At=xe((e,t)=>{const{title:n,withOverlay:r,overlayProps:a,withCloseButton:i,closeButtonProps:l,children:u,radius:d,opened:h,stackId:p,zIndex:m,...g}=le("Modal",jK,e),y=CK(),S=!!n||i,x=y&&p?{closeOnEscape:y.currentId===p,trapFocus:y.currentId===p,zIndex:y.getZIndex(p)}:{},C=r===!1?!1:p&&y?y.currentId===p:h;return b.useEffect(()=>{y&&p&&(h?y.addModal(p,m||Sr("modal")):y.removeModal(p))},[h,p,m]),s.jsxs(ty,{ref:t,radius:d,opened:h,zIndex:y&&p?y.getZIndex(p):m,...g,...x,children:[r&&s.jsx(ey,{visible:C,transitionProps:y&&p?{duration:0}:void 0,...a}),s.jsxs(Zv,{radius:d,__hidden:y&&p&&h?p!==y.currentId:!1,children:[S&&s.jsxs(Jv,{children:[n&&s.jsx(ny,{children:n}),i&&s.jsx(Xv,{...l})]}),s.jsx(Kv,{children:u})]})]})});At.classes=us;At.displayName="@mantine/core/Modal";At.Root=ty;At.Overlay=ey;At.Content=Zv;At.Body=Kv;At.Header=Jv;At.Title=ny;At.CloseButton=Xv;At.Stack=i6;const[EK,AT]=Gi(),[TK,RK]=Gi();var ry={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const _K=(e,{gap:t},{size:n})=>({group:{"--pg-gap":t!==void 0?at(t):at(n,"pg-gap")}}),OT=xe((e,t)=>{const n=le("PillGroup",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,size:h,disabled:p,attributes:m,...g}=n,S=AT()?.size||h||void 0,x=Ne({name:"PillGroup",classes:ry,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:m,vars:d,varsResolver:_K,stylesCtx:{size:S},rootSelector:"group"});return s.jsx(TK,{value:{size:S,disabled:p},children:s.jsx(te,{ref:t,size:S,...x("group"),...g})})});OT.classes=ry;OT.displayName="@mantine/core/PillGroup";const DK={variant:"default"},AK=(e,{radius:t},{size:n})=>({root:{"--pill-fz":at(n,"pill-fz"),"--pill-height":at(n,"pill-height"),"--pill-radius":t===void 0?void 0:Ut(t)}}),fc=xe((e,t)=>{const n=le("Pill",DK,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,variant:h,children:p,withRemoveButton:m,onRemove:g,removeButtonProps:y,radius:S,size:x,disabled:C,mod:E,attributes:j,...R}=n,_=RK(),A=AT(),M=x||_?.size||void 0,D=A?.variant==="filled"?"contrast":h||"default",O=Ne({name:"Pill",classes:ry,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:j,vars:d,varsResolver:AK,stylesCtx:{size:M}});return s.jsxs(te,{component:"span",ref:t,variant:D,size:M,...O("root",{variant:D}),mod:[{"with-remove":m&&!C,disabled:C||_?.disabled},E],...R,children:[s.jsx("span",{...O("label"),children:p}),m&&s.jsx(fl,{variant:"transparent",radius:S,tabIndex:-1,"aria-hidden":!0,unstyled:u,...y,...O("remove",{className:y?.className,style:y?.style}),onMouseDown:k=>{k.preventDefault(),k.stopPropagation(),y?.onMouseDown?.(k)},onClick:k=>{k.stopPropagation(),g?.(),y?.onClick?.(k)}})]})});fc.classes=ry;fc.displayName="@mantine/core/Pill";fc.Group=OT;var o6={field:"m_45c4369d"};const OK={type:"visible"},kT=xe((e,t)=>{const n=le("PillsInputField",OK,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,type:h,disabled:p,id:m,pointer:g,mod:y,attributes:S,...x}=n,C=AT(),E=Sd(),j=Ne({name:"PillsInputField",classes:o6,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:S,rootSelector:"field"}),R=p||C?.disabled;return s.jsx(te,{component:"input",ref:Yn(t,C?.fieldRef),"data-type":h,disabled:R,mod:[{disabled:R,pointer:g},y],...j("field"),...x,id:E?.inputId||m,"aria-invalid":C?.hasError,"aria-describedby":E?.describedBy,type:"text",onMouseDown:_=>!g&&_.stopPropagation()})});kT.classes=o6;kT.displayName="@mantine/core/PillsInputField";const kK={size:"sm"},id=xe((e,t)=>{const n=le("PillsInput",kK,e),{children:r,onMouseDown:a,onClick:i,size:l,disabled:u,__staticSelector:d,error:h,variant:p,...m}=n,g=b.useRef(null);return s.jsx(EK,{value:{fieldRef:g,size:l,disabled:u,hasError:!!h,variant:p},children:s.jsx(Va,{size:l,error:h,variant:p,component:"div",ref:t,"data-no-overflow":!0,onMouseDown:y=>{y.preventDefault(),a?.(y),g.current?.focus()},onClick:y=>{y.preventDefault(),y.currentTarget.closest("fieldset")?.disabled||(g.current?.focus(),i?.(y))},...m,multiline:!0,disabled:u,__staticSelector:d||"PillsInput",withAria:!1,children:r})})});id.displayName="@mantine/core/PillsInput";id.Field=kT;function MK({data:e,value:t}){const n=t.map(a=>a.trim().toLowerCase());return e.reduce((a,i)=>(rd(i)?a.push({group:i.group,items:i.items.filter(l=>n.indexOf(l.value.toLowerCase().trim())===-1)}):n.indexOf(i.value.toLowerCase().trim())===-1&&a.push(i),a),[])}const PK={maxValues:1/0,withCheckIcon:!0,checkIconPosition:"left",hiddenInputValuesDivider:",",clearSearchOnChange:!0,size:"sm"},ay=xe((e,t)=>{const n=le("MultiSelect",PK,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,size:h,value:p,defaultValue:m,onChange:g,onKeyDown:y,variant:S,data:x,dropdownOpened:C,defaultDropdownOpened:E,onDropdownOpen:j,onDropdownClose:R,selectFirstOptionOnChange:_,onOptionSubmit:A,comboboxProps:M,filter:D,limit:O,withScrollArea:k,maxDropdownHeight:I,searchValue:L,defaultSearchValue:V,onSearchChange:q,readOnly:U,disabled:G,onFocus:N,onBlur:z,radius:$,rightSection:Y,rightSectionWidth:X,rightSectionPointerEvents:H,rightSectionProps:F,leftSection:Q,leftSectionWidth:J,leftSectionPointerEvents:re,leftSectionProps:de,inputContainer:Ee,inputWrapperOrder:Re,withAsterisk:Se,labelProps:Ye,descriptionProps:Je,errorProps:Ve,wrapperProps:ze,description:mt,label:Ze,error:Bt,maxValues:ot,searchable:Ot,nothingFoundMessage:_t,withCheckIcon:We,withAlignedLabels:ht,checkIconPosition:dt,hidePickedOptions:pt,withErrorStyles:ut,name:xt,form:hr,id:Ft,clearable:kt,clearButtonProps:$n,hiddenInputProps:jr,placeholder:Qa,hiddenInputValuesDivider:Kn,required:Yt,mod:jt,renderOption:Lr,onRemove:_n,onClear:ms,scrollAreaProps:wl,chevronColor:qn,attributes:kn,clearSearchOnChange:Ta,...Ri}=n,Ra=wr(Ft),_i=KE(x),Er=XE(_i),Cl=b.useRef({}),Un=zh({opened:C,defaultOpened:E,onDropdownOpen:j,onDropdownClose:()=>{R?.(),Un.resetSelectedOption()}}),{styleProps:Ki,rest:{type:To,autoComplete:Ld,...Gc}}=os(Ri),[K,ie]=sr({value:p,defaultValue:m,finalValue:[],onChange:g}),[pe,Te]=sr({value:L,defaultValue:V,finalValue:"",onChange:q}),De=Ke=>{Te(Ke),Un.resetSelectedOption()},Be=Ne({name:"MultiSelect",classes:{},props:n,classNames:r,styles:l,unstyled:u,attributes:kn}),{resolvedClassNames:qe,resolvedStyles:Pe}=vd({props:n,styles:l,classNames:r}),Ie=Ke=>{y?.(Ke),Ke.key===" "&&!Ot&&(Ke.preventDefault(),Un.toggleDropdown()),Ke.key==="Backspace"&&pe.length===0&&K.length>0&&(_n?.(K[K.length-1]),ie(K.slice(0,K.length-1)))},He=K.map((Ke,rn)=>{const jn=Er[Ke]||Cl.current[Ke];return s.jsx(fc,{withRemoveButton:!U&&!Er[Ke]?.disabled,onRemove:()=>{ie(K.filter(Vt=>Ke!==Vt)),_n?.(Ke)},unstyled:u,disabled:G,...Be("pill"),children:jn?.label||Ke},`${Ke}-${rn}`)});b.useEffect(()=>{_&&Un.selectFirstOption()},[_,pe]),b.useEffect(()=>{K.forEach(Ke=>{Ke in Er&&(Cl.current[Ke]=Er[Ke])})},[Er,K]);const Qe=s.jsx(lt.ClearButton,{...$n,onClear:()=>{ms?.(),ie([]),De("")}}),Xe=MK({data:_i,value:K}),Mt=kt&&K.length>0&&!G&&!U;return s.jsxs(s.Fragment,{children:[s.jsxs(lt,{store:Un,classNames:qe,styles:Pe,unstyled:u,size:h,readOnly:U,__staticSelector:"MultiSelect",attributes:kn,onOptionSubmit:Ke=>{A?.(Ke),Ta&&De(""),Un.updateSelectedOptionIndex("selected"),K.includes(Er[Ke].value)?(ie(K.filter(rn=>rn!==Er[Ke].value)),_n?.(Er[Ke].value)):K.length<ot&&ie([...K,Er[Ke].value])},...M,children:[s.jsx(lt.DropdownTarget,{children:s.jsx(id,{...Ki,__staticSelector:"MultiSelect",classNames:qe,styles:Pe,unstyled:u,size:h,className:a,style:i,variant:S,disabled:G,radius:$,__defaultRightSection:s.jsx(lt.Chevron,{size:h,error:Bt,unstyled:u,color:qn}),__clearSection:Qe,__clearable:Mt,rightSection:Y,rightSectionPointerEvents:H||"none",rightSectionWidth:X,rightSectionProps:F,leftSection:Q,leftSectionWidth:J,leftSectionPointerEvents:re,leftSectionProps:de,inputContainer:Ee,inputWrapperOrder:Re,withAsterisk:Se,labelProps:Ye,descriptionProps:Je,errorProps:Ve,wrapperProps:ze,description:mt,label:Ze,error:Bt,withErrorStyles:ut,__stylesApiProps:{...n,rightSectionPointerEvents:H||(Mt?"all":"none"),multiline:!0},pointer:!Ot,onClick:()=>Ot?Un.openDropdown():Un.toggleDropdown(),"data-expanded":Un.dropdownOpened||void 0,id:Ra,required:Yt,mod:jt,attributes:kn,children:s.jsxs(fc.Group,{attributes:kn,disabled:G,unstyled:u,...Be("pillsList"),children:[He,s.jsx(lt.EventsTarget,{autoComplete:Ld,children:s.jsx(id.Field,{...Gc,ref:t,id:Ra,placeholder:Qa,type:!Ot&&!Qa?"hidden":"visible",...Be("inputField"),unstyled:u,onFocus:Ke=>{N?.(Ke),Ot&&Un.openDropdown()},onBlur:Ke=>{z?.(Ke),Un.closeDropdown(),De("")},onKeyDown:Ie,value:pe,onChange:Ke=>{De(Ke.currentTarget.value),Ot&&Un.openDropdown(),_&&Un.selectFirstOption()},disabled:G,readOnly:U||!Ot,pointer:!Ot})})]})})}),s.jsx(B9,{data:pt?Xe:_i,hidden:U||G,filter:D,search:pe,limit:O,hiddenWhenEmpty:!_t,withScrollArea:k,maxDropdownHeight:I,filterOptions:Ot,value:K,checkIconPosition:dt,withCheckIcon:We,withAlignedLabels:ht,nothingFoundMessage:_t,unstyled:u,labelId:Ze?`${Ra}-label`:void 0,"aria-label":Ze?void 0:Ri["aria-label"],renderOption:Lr,scrollAreaProps:wl})]}),s.jsx(lt.HiddenInput,{name:xt,valuesDivider:Kn,value:K,form:hr,disabled:G,...jr})]})});ay.classes={...Va.classes,...lt.classes};ay.displayName="@mantine/core/MultiSelect";function NK(e){return"group"in e}function MT({data:e}){if(NK(e)){const a=e.items.map(i=>s.jsx(MT,{data:i},i.value));return s.jsx("optgroup",{label:e.group,children:a})}const{value:t,label:n,...r}=e;return s.jsx("option",{value:e.value,...r,children:e.label},e.value)}MT.displayName="@mantine/core/NativeSelectOption";const IK={rightSectionPointerEvents:"none"},Wr=xe((e,t)=>{const{data:n,children:r,size:a,error:i,rightSection:l,unstyled:u,...d}=le("NativeSelect",IK,e),h=KE(n).map((p,m)=>s.jsx(MT,{data:p},m));return s.jsx(Va,{component:"select",ref:t,...d,__staticSelector:"NativeSelect",size:a,pointer:!0,error:i,unstyled:u,rightSection:l||s.jsx(Pv,{size:a,error:i,unstyled:u}),children:r||h})});Wr.classes=Va.classes;Wr.displayName="@mantine/core/NativeSelect";var s6={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const LK={withCloseButton:!0},zK=(e,{radius:t,color:n})=>({root:{"--notification-radius":t===void 0?void 0:Ut(t),"--notification-color":n?nn(n,e):void 0}}),PT=xe((e,t)=>{const n=le("Notification",LK,e),{className:r,color:a,radius:i,loading:l,withCloseButton:u,withBorder:d,title:h,icon:p,children:m,onClose:g,closeButtonProps:y,classNames:S,style:x,styles:C,unstyled:E,variant:j,vars:R,mod:_,loaderProps:A,role:M,attributes:D,...O}=n,k=Ne({name:"Notification",classes:s6,props:n,className:r,style:x,classNames:S,styles:C,unstyled:E,attributes:D,vars:R,varsResolver:zK});return s.jsxs(te,{...k("root"),mod:[{"data-with-icon":!!p||l,"data-with-border":d},_],ref:t,variant:j,role:M||"alert",...O,children:[p&&!l&&s.jsx("div",{...k("icon"),children:p}),l&&s.jsx(tr,{size:28,color:a,...A,...k("loader")}),s.jsxs("div",{...k("body"),children:[h&&s.jsx("div",{...k("title"),children:h}),s.jsx(te,{...k("description"),mod:{"data-with-title":!!h},children:m})]}),u&&s.jsx(fl,{iconSize:16,color:"gray",...y,unstyled:E,onClick:g,...k("closeButton")})]})});PT.classes=s6;PT.displayName="@mantine/core/Notification";const[$K,iy]=xr("Pagination.Root component was not found in tree");var qh={root:"m_4addd315",control:"m_326d024a",dots:"m_4ad7767d"};const qK={withPadding:!0},Uh=xe((e,t)=>{const n=le("PaginationControl",qK,e),{classNames:r,className:a,style:i,styles:l,vars:u,active:d,disabled:h,withPadding:p,mod:m,...g}=n,y=iy(),S=h||y.disabled;return s.jsx(Wn,{ref:t,disabled:S,mod:[{active:d,disabled:S,"with-padding":p},m],...y.getStyles("control",{className:a,style:i,classNames:r,styles:l,active:!S}),...g})});Uh.classes=qh;Uh.displayName="@mantine/core/PaginationControl";function Bh({style:e,children:t,path:n,...r}){return s.jsx("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)",...e},...r,children:s.jsx("path",{d:n,fill:"currentColor"})})}const UK=e=>s.jsx(Bh,{...e,path:"M8.781 8l-3.3-3.3.943-.943L10.667 8l-4.243 4.243-.943-.943 3.3-3.3z"}),BK=e=>s.jsx(Bh,{...e,path:"M7.219 8l3.3 3.3-.943.943L5.333 8l4.243-4.243.943.943-3.3 3.3z"}),HK=e=>s.jsx(Bh,{...e,path:"M6.85355 3.85355C7.04882 3.65829 7.04882 3.34171 6.85355 3.14645C6.65829 2.95118 6.34171 2.95118 6.14645 3.14645L2.14645 7.14645C1.95118 7.34171 1.95118 7.65829 2.14645 7.85355L6.14645 11.8536C6.34171 12.0488 6.65829 12.0488 6.85355 11.8536C7.04882 11.6583 7.04882 11.3417 6.85355 11.1464L3.20711 7.5L6.85355 3.85355ZM12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8.14645 7.14645C7.95118 7.34171 7.95118 7.65829 8.14645 7.85355L12.1464 11.8536C12.3417 12.0488 12.6583 12.0488 12.8536 11.8536C13.0488 11.6583 13.0488 11.3417 12.8536 11.1464L9.20711 7.5L12.8536 3.85355Z"}),FK=e=>s.jsx(Bh,{...e,path:"M2.14645 11.1464C1.95118 11.3417 1.95118 11.6583 2.14645 11.8536C2.34171 12.0488 2.65829 12.0488 2.85355 11.8536L6.85355 7.85355C7.04882 7.65829 7.04882 7.34171 6.85355 7.14645L2.85355 3.14645C2.65829 2.95118 2.34171 2.95118 2.14645 3.14645C1.95118 3.34171 1.95118 3.65829 2.14645 3.85355L5.79289 7.5L2.14645 11.1464ZM8.14645 11.1464C7.95118 11.3417 7.95118 11.6583 8.14645 11.8536C8.34171 12.0488 8.65829 12.0488 8.85355 11.8536L12.8536 7.85355C13.0488 7.65829 13.0488 7.34171 12.8536 7.14645L8.85355 3.14645C8.65829 2.95118 8.34171 2.95118 8.14645 3.14645C7.95118 3.34171 7.95118 3.65829 8.14645 3.85355L11.7929 7.5L8.14645 11.1464Z"}),VK=e=>s.jsx(Bh,{...e,path:"M2 8c0-.733.6-1.333 1.333-1.333.734 0 1.334.6 1.334 1.333s-.6 1.333-1.334 1.333C2.6 9.333 2 8.733 2 8zm9.333 0c0-.733.6-1.333 1.334-1.333C13.4 6.667 14 7.267 14 8s-.6 1.333-1.333 1.333c-.734 0-1.334-.6-1.334-1.333zM6.667 8c0-.733.6-1.333 1.333-1.333s1.333.6 1.333 1.333S8.733 9.333 8 9.333 6.667 8.733 6.667 8z"}),WK={icon:VK},oy=xe((e,t)=>{const n=le("PaginationDots",WK,e),{classNames:r,className:a,style:i,styles:l,vars:u,icon:d,...h}=n,p=iy();return s.jsx(te,{ref:t,...p.getStyles("dots",{className:a,style:i,styles:l,classNames:r}),...h,children:s.jsx(d,{style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});oy.classes=qh;oy.displayName="@mantine/core/PaginationDots";function sy({icon:e,name:t,action:n,type:r}){const a={icon:e},i=b.forwardRef((l,u)=>{const{icon:d,...h}=le(t,a,l),p=iy(),m=r==="next"?p.active===p.total:p.active===1;return s.jsx(Uh,{disabled:p.disabled||m,ref:u,onClick:p[n],withPadding:!1,...h,children:s.jsx(d,{className:"mantine-rotate-rtl",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});return i.displayName=`@mantine/core/${t}`,i}const l6=sy({icon:UK,name:"PaginationNext",action:"onNext",type:"next"}),c6=sy({icon:BK,name:"PaginationPrevious",action:"onPrevious",type:"previous"}),u6=sy({icon:HK,name:"PaginationFirst",action:"onFirst",type:"previous"}),d6=sy({icon:FK,name:"PaginationLast",action:"onLast",type:"next"});function NT({dotsIcon:e}){const t=iy(),n=t.range.map((r,a)=>r==="dots"?s.jsx(oy,{icon:e},a):s.jsx(Uh,{active:r===t.active,"aria-current":r===t.active?"page":void 0,onClick:()=>t.onChange(r),disabled:t.disabled,...t.getItemProps?.(r),children:t.getItemProps?.(r)?.children??r},a));return s.jsx(s.Fragment,{children:n})}NT.displayName="@mantine/core/PaginationItems";const GK={siblings:1,boundaries:1},YK=(e,{size:t,radius:n,color:r,autoContrast:a})=>({root:{"--pagination-control-radius":n===void 0?void 0:Ut(n),"--pagination-control-size":at(t,"pagination-control-size"),"--pagination-control-fz":Vn(t),"--pagination-active-bg":r?nn(r,e):void 0,"--pagination-active-color":is(a,e)?Yi({color:r,theme:e,autoContrast:a}):void 0}}),ly=xe((e,t)=>{const n=le("PaginationRoot",GK,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,total:h,value:p,defaultValue:m,onChange:g,disabled:y,siblings:S,boundaries:x,color:C,radius:E,onNextPage:j,onPreviousPage:R,onFirstPage:_,onLastPage:A,getItemProps:M,autoContrast:D,attributes:O,...k}=n,I=Ne({name:"Pagination",classes:qh,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:O,vars:d,varsResolver:YK}),{range:L,setPage:V,next:q,previous:U,active:G,first:N,last:z}=IH({page:p,initialPage:m,onChange:g,total:h,siblings:S,boundaries:x}),$=vr(j,q),Y=vr(R,U),X=vr(_,N),H=vr(A,z);return s.jsx($K,{value:{total:h,range:L,active:G,disabled:y,getItemProps:M,onChange:V,onNext:$,onPrevious:Y,onFirst:X,onLast:H,getStyles:I},children:s.jsx(te,{ref:t,...I("root"),...k})})});ly.classes=qh;ly.displayName="@mantine/core/PaginationRoot";const QK={withControls:!0,withPages:!0,siblings:1,boundaries:1,gap:8},Wa=xe((e,t)=>{const n=le("Pagination",QK,e),{withEdges:r,withControls:a,getControlProps:i,nextIcon:l,previousIcon:u,lastIcon:d,firstIcon:h,dotsIcon:p,total:m,gap:g,hideWithOnePage:y,withPages:S,...x}=n;return m<=0||y&&m===1?null:s.jsx(ly,{ref:t,total:m,...x,children:s.jsxs(se,{gap:g,children:[r&&s.jsx(u6,{icon:h,...i?.("first")}),a&&s.jsx(c6,{icon:u,...i?.("previous")}),S&&s.jsx(NT,{dotsIcon:p}),a&&s.jsx(l6,{icon:l,...i?.("next")}),r&&s.jsx(d6,{icon:d,...i?.("last")})]})})});Wa.classes=qh;Wa.displayName="@mantine/core/Pagination";Wa.Root=ly;Wa.Control=Uh;Wa.Dots=oy;Wa.First=u6;Wa.Last=d6;Wa.Next=l6;Wa.Previous=c6;Wa.Items=NT;const KK=({reveal:e})=>s.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:s.jsx("path",{d:e?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})});var yj={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const XK={visibilityToggleIcon:KK},ZK=(e,{size:t})=>({root:{"--psi-icon-size":at(t,"psi-icon-size"),"--psi-button-size":at(t,"psi-button-size")}}),IT=xe((e,t)=>{const n=le("PasswordInput",XK,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,required:h,error:p,leftSection:m,disabled:g,id:y,variant:S,inputContainer:x,description:C,label:E,size:j,errorProps:R,descriptionProps:_,labelProps:A,withAsterisk:M,inputWrapperOrder:D,wrapperProps:O,radius:k,rightSection:I,rightSectionWidth:L,rightSectionPointerEvents:V,leftSectionWidth:q,visible:U,defaultVisible:G,onVisibilityChange:N,visibilityToggleIcon:z,visibilityToggleButtonProps:$,rightSectionProps:Y,leftSectionProps:X,leftSectionPointerEvents:H,withErrorStyles:F,mod:Q,attributes:J,...re}=n,de=wr(y),[Ee,Re]=sr({value:U,defaultValue:G,finalValue:!1,onChange:N}),Se=()=>Re(!Ee),Ye=Ne({name:"PasswordInput",classes:yj,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:J,vars:d,varsResolver:ZK}),{resolvedClassNames:Je,resolvedStyles:Ve}=vd({classNames:r,styles:l,props:n}),{styleProps:ze,rest:mt}=os(re),Ze=R?.id||`${de}-error`,Bt=_?.id||`${de}-description`,_t=`${!!p&&typeof p!="boolean"?Ze:""} ${!!C?Bt:""}`,We=_t.trim().length>0?_t.trim():void 0,ht=s.jsx(ft,{...Ye("visibilityToggle"),disabled:g,radius:k,"aria-hidden":!$,"aria-pressed":Ee,tabIndex:-1,...$,variant:$?.variant??"subtle",color:"gray",unstyled:u,onTouchEnd:dt=>{dt.preventDefault(),$?.onTouchEnd?.(dt),Se()},onMouseDown:dt=>{dt.preventDefault(),$?.onMouseDown?.(dt),Se()},onKeyDown:dt=>{$?.onKeyDown?.(dt),dt.key===" "&&(dt.preventDefault(),Se())},children:s.jsx(z,{reveal:Ee})});return s.jsx(Gt.Wrapper,{required:h,id:de,label:E,error:p,description:C,size:j,classNames:Je,styles:Ve,__staticSelector:"PasswordInput",unstyled:u,withAsterisk:M,inputWrapperOrder:D,inputContainer:x,variant:S,labelProps:{...A,htmlFor:de},descriptionProps:{..._,id:Bt},errorProps:{...R,id:Ze},mod:Q,attributes:J,...Ye("root"),...ze,...O,children:s.jsx(Gt,{component:"div",error:p,leftSection:m,size:j,classNames:{...Je,input:Rt(yj.input,Je.input)},styles:Ve,radius:k,disabled:g,__staticSelector:"PasswordInput",rightSectionWidth:L,rightSection:I??ht,variant:S,unstyled:u,leftSectionWidth:q,rightSectionPointerEvents:V||"all",rightSectionProps:Y,leftSectionProps:X,leftSectionPointerEvents:H,withAria:!1,withErrorStyles:F,attributes:J,children:s.jsx("input",{required:h,"data-invalid":!!p||void 0,"data-with-left-section":!!m||void 0,...Ye("innerInput"),disabled:g,id:de,ref:t,...mt,"aria-describedby":We,autoComplete:mt.autoComplete||"off",type:Ee?"text":"password"})})})});IT.classes={...Va.classes,...yj};IT.displayName="@mantine/core/PasswordInput";const[JK,f6]=Gi(),[eX,tX]=Gi();var h6={card:"m_9dc8ae12"};const nX={withBorder:!0},rX=(e,{radius:t})=>({card:{"--card-radius":Ut(t)}}),LT=xe((e,t)=>{const n=le("RadioCard",nX,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,checked:h,mod:p,withBorder:m,value:g,onClick:y,name:S,onKeyDown:x,attributes:C,...E}=n,j=Ne({name:"RadioCard",classes:h6,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:C,vars:d,varsResolver:rX,rootSelector:"card"}),{dir:R}=ss(),_=f6(),A=typeof h=="boolean"?h:_?.value===g||!1,M=S||_?.name,D=O=>{if(x?.(O),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(O.nativeEvent.code)){O.preventDefault();const k=Array.from(document.querySelectorAll(`[role="radio"][name="${M||"__mantine"}"]`)),I=k.findIndex(q=>q===O.target),L=I+1>=k.length?0:I+1,V=I-1<0?k.length-1:I-1;O.nativeEvent.code==="ArrowDown"&&(k[L].focus(),k[L].click()),O.nativeEvent.code==="ArrowUp"&&(k[V].focus(),k[V].click()),O.nativeEvent.code==="ArrowLeft"&&(k[R==="ltr"?V:L].focus(),k[R==="ltr"?V:L].click()),O.nativeEvent.code==="ArrowRight"&&(k[R==="ltr"?L:V].focus(),k[R==="ltr"?L:V].click())}};return s.jsx(eX,{value:{checked:A},children:s.jsx(Wn,{ref:t,mod:[{"with-border":m,checked:A},p],...j("card"),...E,role:"radio","aria-checked":A,name:M,onClick:O=>{y?.(O),_?.onChange(g||"")},onKeyDown:D})})});LT.displayName="@mantine/core/RadioCard";LT.classes=h6;const zT=xe((e,t)=>{const{value:n,defaultValue:r,onChange:a,size:i,wrapperProps:l,children:u,name:d,readOnly:h,disabled:p,...m}=le("RadioGroup",null,e),g=wr(d),[y,S]=sr({value:n,defaultValue:r,finalValue:"",onChange:a}),x=C=>!h&&S(typeof C=="string"?C:C.currentTarget.value);return s.jsx(JK,{value:{value:y,onChange:x,size:i,name:g,disabled:p},children:s.jsx(Gt.Wrapper,{size:i,ref:t,...l,...m,labelElement:"div",__staticSelector:"RadioGroup",children:s.jsx(lT,{role:"radiogroup",children:u})})})});zT.classes=Gt.Wrapper.classes;zT.displayName="@mantine/core/RadioGroup";function p6({size:e,style:t,...n}){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5",style:{width:me(e),height:me(e),...t},"aria-hidden":!0,...n,children:s.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:"currentColor"})})}var m6={indicator:"m_717d7ff6",icon:"m_3e4da632","indicator--outline":"m_2980836c"};const aX={icon:p6},iX=(e,{radius:t,color:n,size:r,iconColor:a,variant:i,autoContrast:l})=>{const u=va({color:n||e.primaryColor,theme:e}),d=u.isThemeColor&&u.shade===void 0?`var(--mantine-color-${u.color}-outline)`:u.color;return{indicator:{"--radio-size":at(r,"radio-size"),"--radio-radius":t===void 0?void 0:Ut(t),"--radio-color":i==="outline"?d:nn(n,e),"--radio-icon-size":at(r,"radio-icon-size"),"--radio-icon-color":a?nn(a,e):is(l,e)?Yi({color:n,theme:e,autoContrast:l}):void 0}}},$T=xe((e,t)=>{const n=le("RadioIndicator",aX,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,icon:h,radius:p,color:m,iconColor:g,autoContrast:y,checked:S,mod:x,variant:C,disabled:E,attributes:j,...R}=n,_=Ne({name:"RadioIndicator",classes:m6,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:j,vars:d,varsResolver:iX,rootSelector:"indicator"}),A=tX(),M=typeof S=="boolean"?S:A?.checked||!1;return s.jsx(te,{ref:t,..._("indicator",{variant:C}),variant:C,mod:[{checked:M,disabled:E},x],...R,children:s.jsx(h,{..._("icon")})})});$T.displayName="@mantine/core/RadioIndicator";$T.classes=m6;var g6={root:"m_f3f1af94",inner:"m_89c4f5e4",icon:"m_f3ed6b2b",radio:"m_8a3dbb89","radio--outline":"m_1bfe9d39"};const oX={labelPosition:"right"},sX=(e,{size:t,radius:n,color:r,iconColor:a,variant:i,autoContrast:l})=>{const u=va({color:r||e.primaryColor,theme:e}),d=u.isThemeColor&&u.shade===void 0?`var(--mantine-color-${u.color}-outline)`:u.color;return{root:{"--radio-size":at(t,"radio-size"),"--radio-radius":n===void 0?void 0:Ut(n),"--radio-color":i==="outline"?d:nn(r,e),"--radio-icon-color":a?nn(a,e):is(l,e)?Yi({color:r,theme:e,autoContrast:l}):void 0,"--radio-icon-size":at(t,"radio-icon-size")}}},Nn=xe((e,t)=>{const n=le("Radio",oX,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,id:h,size:p,label:m,labelPosition:g,description:y,error:S,radius:x,color:C,variant:E,disabled:j,wrapperProps:R,icon:_=p6,rootRef:A,iconColor:M,onChange:D,mod:O,attributes:k,checked:I,...L}=n,V=Ne({name:"Radio",classes:g6,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:k,vars:d,varsResolver:sX}),q=f6(),U=q?.size??p,G=n.size?p:U,{styleProps:N,rest:z}=os(L),$=wr(h),Y=q?q.value===z.value:void 0,X={checked:Y??I,name:q?.name??z.name,onChange:H=>{q?.onChange(H),D?.(H)},disabled:q?.disabled??j};return s.jsx(Nv,{...V("root"),__staticSelector:"Radio",__stylesApiProps:n,id:$,size:G,labelPosition:g,label:m,description:y,error:S,disabled:X.disabled,classNames:r,styles:l,unstyled:u,"data-checked":(Y??I)||void 0,variant:E,ref:A,mod:O,...N,...R,children:s.jsxs(te,{...V("inner"),mod:{"label-position":g},children:[s.jsx(te,{...V("radio",{focusable:!0,variant:E}),...z,...X,component:"input",mod:{error:!!S},ref:t,id:$,type:"radio"}),s.jsx(_,{...V("icon"),"aria-hidden":!0})]})})});Nn.classes=g6;Nn.displayName="@mantine/core/Radio";Nn.Group=zT;Nn.Card=LT;Nn.Indicator=$T;const lX={duration:100,transition:"fade"};function Jk(e,t){return{...lX,...t,...e}}function cX({offset:e,position:t,defaultOpened:n}){const[r,a]=b.useState(n),i=b.useRef(null),{x:l,y:u,elements:d,refs:h,update:p,placement:m}=RE({placement:t,middleware:[CE({crossAxis:!0,padding:5,rootBoundary:"document"})]}),g=m.includes("right")?e:t.includes("left")?e*-1:0,y=m.includes("bottom")?e:t.includes("top")?e*-1:0,S=b.useCallback(({clientX:x,clientY:C})=>{h.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x,y:C,left:x+g,top:C+y,right:x,bottom:C}}})},[d.reference]);return b.useEffect(()=>{if(h.floating.current){const x=i.current;x.addEventListener("mousemove",S);const C=Ko(h.floating.current);return C.forEach(E=>{E.addEventListener("scroll",p)}),()=>{x.removeEventListener("mousemove",S),C.forEach(E=>{E.removeEventListener("scroll",p)})}}},[d.reference,h.floating.current,p,S,r]),{handleMouseMove:S,x:l,y:u,opened:r,setOpened:a,boundaryRef:i,floating:h.setFloating}}var cy={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const uX={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:Sr("popover")},dX=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:Ut(t),"--tooltip-bg":n?nn(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),qT=xe((e,t)=>{const n=le("TooltipFloating",uX,e),{children:r,refProp:a,withinPortal:i,style:l,className:u,classNames:d,styles:h,unstyled:p,radius:m,color:g,label:y,offset:S,position:x,multiline:C,zIndex:E,disabled:j,defaultOpened:R,variant:_,vars:A,portalProps:M,attributes:D,...O}=n,k=Cn(),I=Ne({name:"TooltipFloating",props:n,classes:cy,className:u,style:l,classNames:d,styles:h,unstyled:p,attributes:D,rootSelector:"tooltip",vars:A,varsResolver:dX}),{handleMouseMove:L,x:V,y:q,opened:U,boundaryRef:G,floating:N,setOpened:z}=cX({offset:S,position:x,defaultOpened:R}),$=Mc(r);if(!$)throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const Y=Yn(G,yv($),t),X=$.props,H=Q=>{X.onMouseEnter?.(Q),L(Q),z(!0)},F=Q=>{X.onMouseLeave?.(Q),z(!1)};return s.jsxs(s.Fragment,{children:[s.jsx(el,{...M,withinPortal:i,children:s.jsx(te,{...O,...I("tooltip",{style:{...gE(l,k),zIndex:E,display:!j&&U?"block":"none",top:(q&&Math.round(q))??"",left:(V&&Math.round(V))??""}}),variant:_,ref:N,mod:{multiline:C},children:y})}),b.cloneElement($,{...X,[a]:Y,onMouseEnter:H,onMouseLeave:F})]})});qT.classes=cy;qT.displayName="@mantine/core/TooltipFloating";const v6=b.createContext(!1),fX=v6.Provider,hX=()=>b.useContext(v6),pX={openDelay:0,closeDelay:0};function UT(e){const{openDelay:t,closeDelay:n,children:r}=le("TooltipGroup",pX,e);return s.jsx(fX,{value:!0,children:s.jsx(GW,{delay:{open:t,close:n},children:r})})}UT.displayName="@mantine/core/TooltipGroup";UT.extend=e=>e;function mX(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function gX(e){const t=mX(e.middlewares),n=[I5(e.offset)];return t.shift&&n.push(CE(typeof t.shift=="boolean"?{padding:8}:{padding:8,...t.shift})),t.flip&&n.push(typeof t.flip=="boolean"?Ug():Ug(t.flip)),n.push(L5({element:e.arrowRef,padding:e.arrowOffset})),t.inline?n.push(typeof t.inline=="boolean"?Kf():Kf(t.inline)):e.inline&&n.push(Kf()),n}function vX(e){const[t,n]=b.useState(e.defaultOpened),a=typeof e.opened=="boolean"?e.opened:t,i=hX(),l=wr(),u=b.useCallback(A=>{n(A),A&&E(l)},[l]),{x:d,y:h,context:p,refs:m,placement:g,middlewareData:{arrow:{x:y,y:S}={}}}=RE({strategy:e.strategy,placement:e.position,open:a,onOpenChange:u,middleware:gX(e),whileElementsMounted:hj}),{delay:x,currentId:C,setCurrentId:E}=YW(p,{id:l}),{getReferenceProps:j,getFloatingProps:R}=eG([VW(p,{enabled:e.events?.hover,delay:i?x:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events?.touch}),JW(p,{enabled:e.events?.focus,visibleOnly:!0}),nG(p,{role:"tooltip"}),XW(p,{enabled:typeof e.opened>"u"})]);Js(()=>{e.onPositionChange?.(g)},[g]);const _=a&&C&&C!==l;return{x:d,y:h,arrowX:y,arrowY:S,reference:m.setReference,floating:m.setFloating,getFloatingProps:R,getReferenceProps:j,isGroupPhase:_,opened:a,placement:g}}const eM={position:"top",refProp:"ref",withinPortal:!0,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:Sr("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},yX=(e,{radius:t,color:n,variant:r,autoContrast:a})=>{const i=e.variantColorResolver({theme:e,color:n||e.primaryColor,autoContrast:a,variant:r||"filled"});return{tooltip:{"--tooltip-radius":t===void 0?void 0:Ut(t),"--tooltip-bg":n?i.background:void 0,"--tooltip-color":n?i.color:void 0}}},ba=xe((e,t)=>{const n=le("Tooltip",eM,e),{children:r,position:a,refProp:i,label:l,openDelay:u,closeDelay:d,onPositionChange:h,opened:p,defaultOpened:m,withinPortal:g,radius:y,color:S,classNames:x,styles:C,unstyled:E,style:j,className:R,withArrow:_,arrowSize:A,arrowOffset:M,arrowRadius:D,arrowPosition:O,offset:k,transitionProps:I,multiline:L,events:V,zIndex:q,disabled:U,positionDependencies:G,onClick:N,onMouseEnter:z,onMouseLeave:$,inline:Y,variant:X,keepMounted:H,vars:F,portalProps:Q,mod:J,floatingStrategy:re,middlewares:de,autoContrast:Ee,attributes:Re,target:Se,...Ye}=le("Tooltip",eM,n),{dir:Je}=ss(),Ve=b.useRef(null),ze=vX({position:n9(Je,a),closeDelay:d,openDelay:u,onPositionChange:h,opened:p,defaultOpened:m,events:V,arrowRef:Ve,arrowOffset:M,offset:typeof k=="number"?k+(_?A/2:0):k,positionDependencies:[...G,Se??r],inline:Y,strategy:re,middlewares:de});b.useEffect(()=>{const _t=Se instanceof HTMLElement?Se:typeof Se=="string"?document.querySelector(Se):Se?.current||null;_t&&ze.reference(_t)},[Se,ze]);const mt=Ne({name:"Tooltip",props:n,classes:cy,className:R,style:j,classNames:x,styles:C,unstyled:E,attributes:Re,rootSelector:"tooltip",vars:F,varsResolver:yX}),Ze=Mc(r);if(!Se&&!Ze)return null;if(Se){const _t=Jk(I,{duration:100,transition:"fade"});return s.jsx(s.Fragment,{children:s.jsx(el,{...Q,withinPortal:g,children:s.jsx(Bi,{..._t,keepMounted:H,mounted:!U&&!!ze.opened,duration:ze.isGroupPhase?10:_t.duration,children:We=>s.jsxs(te,{...Ye,"data-fixed":re==="fixed"||void 0,variant:X,mod:[{multiline:L},J],...ze.getFloatingProps({ref:ze.floating,className:mt("tooltip").className,style:{...mt("tooltip").style,...We,zIndex:q,top:ze.y??0,left:ze.x??0}}),children:[l,s.jsx(Bg,{ref:Ve,arrowX:ze.arrowX,arrowY:ze.arrowY,visible:_,position:ze.placement,arrowSize:A,arrowOffset:M,arrowRadius:D,arrowPosition:O,...mt("arrow")})]})})})})}const Bt=Ze.props,ot=Yn(ze.reference,yv(Ze),t),Ot=Jk(I,{duration:100,transition:"fade"});return s.jsxs(s.Fragment,{children:[s.jsx(el,{...Q,withinPortal:g,children:s.jsx(Bi,{...Ot,keepMounted:H,mounted:!U&&!!ze.opened,duration:ze.isGroupPhase?10:Ot.duration,children:_t=>s.jsxs(te,{...Ye,"data-fixed":re==="fixed"||void 0,variant:X,mod:[{multiline:L},J],...ze.getFloatingProps({ref:ze.floating,className:mt("tooltip").className,style:{...mt("tooltip").style,..._t,zIndex:q,top:ze.y??0,left:ze.x??0}}),children:[l,s.jsx(Bg,{ref:Ve,arrowX:ze.arrowX,arrowY:ze.arrowY,visible:_,position:ze.placement,arrowSize:A,arrowOffset:M,arrowRadius:D,arrowPosition:O,...mt("arrow")})]})})}),b.cloneElement(Ze,ze.getReferenceProps({onClick:N,onMouseEnter:z,onMouseLeave:$,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,...Bt,className:Rt(R,Bt.className),[i]:ot}))]})});ba.classes=cy;ba.displayName="@mantine/core/Tooltip";ba.Floating=qT;ba.Group=UT;var y6={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const bX={withItemsBorders:!0},xX=(e,{radius:t,color:n,transitionDuration:r,size:a,transitionTimingFunction:i})=>({root:{"--sc-radius":t===void 0?void 0:Ut(t),"--sc-color":n?nn(n,e):void 0,"--sc-shadow":n?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":r===void 0?void 0:`${r}ms`,"--sc-transition-timing-function":i,"--sc-padding":at(a,"sc-padding"),"--sc-font-size":Vn(a)}}),tl=xe((e,t)=>{const n=le("SegmentedControl",bX,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,data:h,value:p,defaultValue:m,onChange:g,size:y,name:S,disabled:x,readOnly:C,fullWidth:E,orientation:j,radius:R,color:_,transitionDuration:A,transitionTimingFunction:M,variant:D,autoContrast:O,withItemsBorders:k,mod:I,attributes:L,...V}=n,q=Ne({name:"SegmentedControl",props:n,classes:y6,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:L,vars:d,varsResolver:xX}),U=Cn(),G=h.map(Se=>typeof Se=="string"?{label:Se,value:Se}:Se),N=XH(),[z,$]=b.useState(Lg()),[Y,X]=b.useState(null),[H,F]=b.useState({}),Q=(Se,Ye)=>{H[Ye]=Se,F(H)},[J,re]=sr({value:p,defaultValue:m,finalValue:Array.isArray(h)?G.find(Se=>!Se.disabled)?.value??h[0]?.value??null:null,onChange:g}),de=wr(S),Ee=G.map(Se=>b.createElement(te,{...q("control"),mod:{active:J===Se.value,orientation:j},key:Se.value},b.createElement("input",{...q("input"),disabled:x||Se.disabled,type:"radio",name:de,value:Se.value,id:`${de}-${Se.value}`,checked:J===Se.value,onChange:()=>!C&&re(Se.value),"data-focus-ring":U.focusRing,key:`${Se.value}-input`}),b.createElement(te,{component:"label",...q("label"),mod:{active:J===Se.value&&!(x||Se.disabled),disabled:x||Se.disabled,"read-only":C},htmlFor:`${de}-${Se.value}`,ref:Ye=>Q(Ye,Se.value),__vars:{"--sc-label-color":_!==void 0?Yi({color:_,theme:U,autoContrast:O}):void 0},key:`${Se.value}-label`},s.jsx("span",{...q("innerLabel"),children:Se.label})))),Re=Yn(t,Se=>X(Se));return UH(()=>{$(Lg())},[h.length]),h.length===0?null:s.jsxs(te,{...q("root"),variant:D,size:y,ref:Re,mod:[{"full-width":E,orientation:j,initialized:N,"with-items-borders":k},I],...V,role:"radiogroup","data-disabled":x,children:[typeof J=="string"&&s.jsx(HE,{target:H[J],parent:Y,component:"span",transitionDuration:"var(--sc-transition-duration)",...q("indicator")},z),Ee]})});tl.classes=y6;tl.displayName="@mantine/core/SegmentedControl";const SX={withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},hc=xe((e,t)=>{const n=le("Select",SX,e),{classNames:r,styles:a,unstyled:i,vars:l,dropdownOpened:u,defaultDropdownOpened:d,onDropdownClose:h,onDropdownOpen:p,onFocus:m,onBlur:g,onClick:y,onChange:S,data:x,value:C,defaultValue:E,selectFirstOptionOnChange:j,onOptionSubmit:R,comboboxProps:_,readOnly:A,disabled:M,filter:D,limit:O,withScrollArea:k,maxDropdownHeight:I,size:L,searchable:V,rightSection:q,checkIconPosition:U,withCheckIcon:G,withAlignedLabels:N,nothingFoundMessage:z,name:$,form:Y,searchValue:X,defaultSearchValue:H,onSearchChange:F,allowDeselect:Q,error:J,rightSectionPointerEvents:re,id:de,clearable:Ee,clearButtonProps:Re,hiddenInputProps:Se,renderOption:Ye,onClear:Je,autoComplete:Ve,scrollAreaProps:ze,__defaultRightSection:mt,__clearSection:Ze,__clearable:Bt,chevronColor:ot,autoSelectOnBlur:Ot,attributes:_t,...We}=n,ht=b.useMemo(()=>KE(x),[x]),dt=b.useRef({}),pt=b.useMemo(()=>XE(ht),[ht]),ut=wr(de),[xt,hr,Ft]=sr({value:C,defaultValue:E,finalValue:null,onChange:S}),kt=typeof xt=="string"?xt in pt?pt[xt]:dt.current[xt]:void 0,$n=QH(kt),[jr,Qa,Kn]=sr({value:X,defaultValue:H,finalValue:kt?kt.label:"",onChange:F}),Yt=zh({opened:u,defaultOpened:d,onDropdownOpen:()=>{p?.(),Yt.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{h?.(),setTimeout(Yt.resetSelectedOption,0)}}),jt=qn=>{Qa(qn),Yt.resetSelectedOption()},{resolvedClassNames:Lr,resolvedStyles:_n}=vd({props:n,styles:a,classNames:r});b.useEffect(()=>{j&&Yt.selectFirstOption()},[j,jr]),b.useEffect(()=>{C===null&&jt(""),typeof C=="string"&&kt&&($n?.value!==kt.value||$n?.label!==kt.label)&&jt(kt.label)},[C,kt]),b.useEffect(()=>{!Ft&&!Kn&&jt(typeof xt=="string"?xt in pt?pt[xt]?.label:dt.current[xt]?.label||"":"")},[pt,xt]),b.useEffect(()=>{xt&&xt in pt&&(dt.current[xt]=pt[xt])},[pt,xt]);const ms=s.jsx(lt.ClearButton,{...Re,onClear:()=>{hr(null,null),jt(""),Je?.()}}),wl=Ee&&!!xt&&!M&&!A;return s.jsxs(s.Fragment,{children:[s.jsxs(lt,{store:Yt,__staticSelector:"Select",classNames:Lr,styles:_n,unstyled:i,readOnly:A,size:L,attributes:_t,keepMounted:Ot,onOptionSubmit:qn=>{R?.(qn);const kn=Q&&pt[qn].value===xt?null:pt[qn],Ta=kn?kn.value:null;Ta!==xt&&hr(Ta,kn),!Ft&&jt(typeof Ta=="string"&&kn?.label||""),Yt.closeDropdown()},..._,children:[s.jsx(lt.Target,{targetType:V?"input":"button",autoComplete:Ve,children:s.jsx(Va,{id:ut,ref:t,__defaultRightSection:s.jsx(lt.Chevron,{size:L,error:J,unstyled:i,color:ot}),__clearSection:ms,__clearable:wl,rightSection:q,rightSectionPointerEvents:re||"none",...We,size:L,__staticSelector:"Select",disabled:M,readOnly:A||!V,value:jr,onChange:qn=>{jt(qn.currentTarget.value),Yt.openDropdown(),j&&Yt.selectFirstOption()},onFocus:qn=>{V&&Yt.openDropdown(),m?.(qn)},onBlur:qn=>{Ot&&Yt.clickSelectedOption(),V&&Yt.closeDropdown();const kn=typeof xt=="string"&&(xt in pt?pt[xt]:dt.current[xt]);jt(kn&&kn.label||""),g?.(qn)},onClick:qn=>{V?Yt.openDropdown():Yt.toggleDropdown(),y?.(qn)},classNames:Lr,styles:_n,unstyled:i,pointer:!V,error:J,attributes:_t})}),s.jsx(B9,{data:ht,hidden:A||M,filter:D,search:jr,limit:O,hiddenWhenEmpty:!z,withScrollArea:k,maxDropdownHeight:I,filterOptions:!!V&&kt?.label!==jr,value:xt,checkIconPosition:U,withCheckIcon:G,withAlignedLabels:N,nothingFoundMessage:z,unstyled:i,labelId:We.label?`${ut}-label`:void 0,"aria-label":We.label?void 0:We["aria-label"],renderOption:Ye,scrollAreaProps:ze})]}),s.jsx(lt.HiddenInput,{value:xt,name:$,form:Y,disabled:M,...Se})]})});hc.classes={...Va.classes,...lt.classes};hc.displayName="@mantine/core/Select";function wX({spacing:e,verticalSpacing:t,cols:n,selector:r}){const a=Cn(),i=t===void 0?e:t,l=dl({"--sg-spacing-x":In(Ni(e)),"--sg-spacing-y":In(Ni(i)),"--sg-cols":Ni(n)?.toString()}),u=hn(a.breakpoints).reduce((p,m)=>(p[m]||(p[m]={}),typeof e=="object"&&e[m]!==void 0&&(p[m]["--sg-spacing-x"]=In(e[m])),typeof i=="object"&&i[m]!==void 0&&(p[m]["--sg-spacing-y"]=In(i[m])),typeof n=="object"&&n[m]!==void 0&&(p[m]["--sg-cols"]=n[m]),p),{}),h=th(hn(u),a.breakpoints).filter(p=>hn(u[p.value]).length>0).map(p=>({query:`(min-width: ${a.breakpoints[p.value]})`,styles:u[p.value]}));return s.jsx(Pc,{styles:l,media:h,selector:r})}function Ux(e){return typeof e=="object"&&e!==null?hn(e):[]}function CX(e){return e.sort((t,n)=>eh(t)-eh(n))}function jX({spacing:e,verticalSpacing:t,cols:n}){const r=Array.from(new Set([...Ux(e),...Ux(t),...Ux(n)]));return CX(r)}function EX({spacing:e,verticalSpacing:t,cols:n,selector:r}){const a=t===void 0?e:t,i=dl({"--sg-spacing-x":In(Ni(e)),"--sg-spacing-y":In(Ni(a)),"--sg-cols":Ni(n)?.toString()}),l=jX({spacing:e,verticalSpacing:t,cols:n}),u=l.reduce((h,p)=>(h[p]||(h[p]={}),typeof e=="object"&&e[p]!==void 0&&(h[p]["--sg-spacing-x"]=In(e[p])),typeof a=="object"&&a[p]!==void 0&&(h[p]["--sg-spacing-y"]=In(a[p])),typeof n=="object"&&n[p]!==void 0&&(h[p]["--sg-cols"]=n[p]),h),{}),d=l.map(h=>({query:`simple-grid (min-width: ${h})`,styles:u[h]}));return s.jsx(Pc,{styles:i,container:d,selector:r})}var b6={container:"m_925c2d2c",root:"m_2415a157"};const TX={cols:1,spacing:"md",type:"media"},BT=xe((e,t)=>{const n=le("SimpleGrid",TX,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,cols:h,verticalSpacing:p,spacing:m,type:g,attributes:y,...S}=n,x=Ne({name:"SimpleGrid",classes:b6,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:y,vars:d}),C=Mh();return g==="container"?s.jsxs(s.Fragment,{children:[s.jsx(EX,{...n,selector:`.${C}`}),s.jsx("div",{...x("container"),children:s.jsx(te,{ref:t,...x("root",{className:C}),...S})})]}):s.jsxs(s.Fragment,{children:[s.jsx(wX,{...n,selector:`.${C}`}),s.jsx(te,{ref:t,...x("root",{className:C}),...S})]})});BT.classes=b6;BT.displayName="@mantine/core/SimpleGrid";var x6={root:"m_18320242","skeleton-fade":"m_299c329c"};const RX={visible:!0,animate:!0},_X=(e,{width:t,height:n,radius:r,circle:a})=>({root:{"--skeleton-height":me(n),"--skeleton-width":me(a?n:t),"--skeleton-radius":a?"1000px":r===void 0?void 0:Ut(r)}}),vt=xe((e,t)=>{const n=le("Skeleton",RX,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,width:h,height:p,circle:m,visible:g,radius:y,animate:S,mod:x,attributes:C,...E}=n,j=Ne({name:"Skeleton",classes:x6,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:C,vars:d,varsResolver:_X});return s.jsx(te,{ref:t,...j("root"),mod:[{visible:g,animate:S},x],...E})});vt.classes=x6;vt.displayName="@mantine/core/Skeleton";const S6=xe((e,t)=>{const{w:n,h:r,miw:a,mih:i,...l}=le("Space",null,e);return s.jsx(te,{ref:t,...l,w:n,miw:a??n,h:r,mih:i??r})});S6.displayName="@mantine/core/Space";var w6={root:"m_6d731127"};const DX={gap:"md",align:"stretch",justify:"flex-start"},AX=(e,{gap:t,align:n,justify:r})=>({root:{"--stack-gap":In(t),"--stack-align":n,"--stack-justify":r}}),ae=xe((e,t)=>{const n=le("Stack",DX,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,align:h,justify:p,gap:m,variant:g,attributes:y,...S}=n,x=Ne({name:"Stack",props:n,classes:w6,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:y,vars:d,varsResolver:AX});return s.jsx(te,{ref:t,...x("root"),variant:g,...S})});ae.classes=w6;ae.displayName="@mantine/core/Stack";const[OX,kX]=xr("Stepper component was not found in tree"),Hg=()=>null;Hg.displayName="@mantine/core/StepperCompleted";var HT={root:"m_cbb4ea7e",steps:"m_aaf89d0b",separator:"m_2a371ac9",content:"m_78da155d",step:"m_cbb57068","step--horizontal":"m_f56b1e2c","step--vertical":"m_833edb7e",verticalSeparator:"m_6496b3f3",stepWrapper:"m_818e70b",stepIcon:"m_1959ad01",stepCompletedIcon:"m_a79331dc",stepBody:"m_1956aa2a",stepLabel:"m_12051f6c",stepDescription:"m_164eea74"};const $m=(e,t)=>typeof e=="function"?s.jsx(e,{step:t||0}):e,MX={withIcon:!0,allowStepClick:!0,iconPosition:"left"},FT=xe((e,t)=>{const{classNames:n,className:r,style:a,styles:i,vars:l,step:u,state:d,color:h,icon:p,completedIcon:m,progressIcon:g,label:y,description:S,withIcon:x,iconSize:C,loading:E,allowStepClick:j,allowStepSelect:R,iconPosition:_,orientation:A,mod:M,...D}=le("StepperStep",MX,e),O=kX(),k=Cn(),I={classNames:n,styles:i},L=d==="stepCompleted"?null:d==="stepProgress"?g:p,V={"data-progress":d==="stepProgress"||void 0,"data-completed":d==="stepCompleted"||void 0};return s.jsxs(Wn,{...O.getStyles("step",{className:r,style:a,variant:O.orientation,...I}),mod:[{"icon-position":_||O.iconPosition,"allow-click":j},M],ref:t,...V,...D,__vars:{"--step-color":h?nn(h,k):void 0},tabIndex:j?0:-1,children:[x&&s.jsxs("span",{...O.getStyles("stepWrapper",I),children:[s.jsxs("span",{...O.getStyles("stepIcon",I),...V,children:[s.jsx(Bi,{mounted:d==="stepCompleted",transition:"pop",duration:200,children:q=>s.jsx("span",{...O.getStyles("stepCompletedIcon",{style:q,...I}),children:E?s.jsx(tr,{color:"var(--mantine-color-white)",size:"calc(var(--stepper-icon-size) / 2)",...O.getStyles("stepLoader",I)}):$m(m,u)||s.jsx(Iv,{size:"60%"})})}),d!=="stepCompleted"?E?s.jsx(tr,{...O.getStyles("stepLoader",I),size:"calc(var(--stepper-icon-size) / 2)",color:h}):$m(L||p,u):null]}),A==="vertical"&&s.jsx("span",{...O.getStyles("verticalSeparator",I),"data-active":d==="stepCompleted"||void 0})]}),(y||S)&&s.jsxs("span",{...O.getStyles("stepBody",I),"data-orientation":O.orientation,"data-icon-position":_||O.iconPosition,children:[y&&s.jsx("span",{...O.getStyles("stepLabel",I),children:$m(y,u)}),S&&s.jsx("span",{...O.getStyles("stepDescription",I),children:$m(S,u)})]})]})});FT.classes=HT;FT.displayName="@mantine/core/StepperStep";const PX={orientation:"horizontal",iconPosition:"left",allowNextStepsSelect:!0,wrap:!0},NX=(e,{color:t,iconSize:n,size:r,contentPadding:a,radius:i,autoContrast:l})=>({root:{"--stepper-color":t?nn(t,e):void 0,"--stepper-icon-color":is(l,e)?Yi({color:t,theme:e,autoContrast:l}):void 0,"--stepper-icon-size":n===void 0?at(r,"stepper-icon-size"):me(n),"--stepper-content-padding":In(a),"--stepper-radius":i===void 0?void 0:Ut(i),"--stepper-fz":Vn(r),"--stepper-spacing":In(r)}}),od=xe((e,t)=>{const n=le("Stepper",PX,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,children:h,onStepClick:p,active:m,icon:g,completedIcon:y,progressIcon:S,color:x,iconSize:C,contentPadding:E,orientation:j,iconPosition:R,size:_,radius:A,allowNextStepsSelect:M,wrap:D,autoContrast:O,attributes:k,...I}=n,L=Ne({name:"Stepper",classes:HT,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:k,vars:d,varsResolver:NX}),V=b.Children.toArray(h),q=V.filter(Y=>Y.type!==Hg),U=V.find(Y=>Y.type===Hg),G=q.reduce((Y,X,H)=>{const F=m===H?"stepProgress":m>H?"stepCompleted":"stepInactive",J=typeof p!="function"?!1:typeof X.props.allowStepSelect=="boolean"?X.props.allowStepSelect:F==="stepCompleted"||M;return Y.push(b.cloneElement(X,{icon:X.props.icon||g||H+1,key:H,step:H,state:F,onClick:()=>J&&p?.(H),allowStepClick:J,completedIcon:X.props.completedIcon||y,progressIcon:X.props.progressIcon||S,color:X.props.color||x,iconSize:C,iconPosition:X.props.iconPosition||R,orientation:j})),j==="horizontal"&&H!==q.length-1&&Y.push(b.createElement("div",{...L("separator"),"data-active":H<m||void 0,"data-orientation":j,key:`separator-${H}`})),Y},[]),N=q[m]?.props?.children,z=U?.props?.children,$=m>q.length-1?z:N;return s.jsx(OX,{value:{getStyles:L,orientation:j,iconPosition:R},children:s.jsxs(te,{...L("root"),ref:t,size:_,...I,children:[s.jsx(te,{...L("steps"),mod:{orientation:j,"icon-position":R,wrap:D&&j!=="vertical"},children:G}),$&&s.jsx("div",{...L("content"),children:$})]})})});od.classes=HT;od.displayName="@mantine/core/Stepper";od.Completed=Hg;od.Step=FT;const C6=b.createContext(null),IX=C6.Provider,LX=()=>b.useContext(C6),VT=xe((e,t)=>{const{value:n,defaultValue:r,onChange:a,size:i,wrapperProps:l,children:u,readOnly:d,disabled:h,...p}=le("SwitchGroup",null,e),[m,g]=sr({value:n,defaultValue:r,finalValue:[],onChange:a}),y=S=>{const x=S.currentTarget.value;!d&&g(m.includes(x)?m.filter(C=>C!==x):[...m,x])};return s.jsx(IX,{value:{value:m,onChange:y,size:i,disabled:h},children:s.jsx(Gt.Wrapper,{size:i,ref:t,...l,...p,labelElement:"div",__staticSelector:"SwitchGroup",children:s.jsx(lT,{role:"group",children:u})})})});VT.classes=Gt.Wrapper.classes;VT.displayName="@mantine/core/SwitchGroup";var j6={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const zX={labelPosition:"right",withThumbIndicator:!0},$X=(e,{radius:t,color:n,size:r})=>({root:{"--switch-radius":t===void 0?void 0:Ut(t),"--switch-height":at(r,"switch-height"),"--switch-width":at(r,"switch-width"),"--switch-thumb-size":at(r,"switch-thumb-size"),"--switch-label-font-size":at(r,"switch-label-font-size"),"--switch-track-label-padding":at(r,"switch-track-label-padding"),"--switch-color":n?nn(n,e):void 0}}),uy=xe((e,t)=>{const n=le("Switch",zX,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,color:h,label:p,offLabel:m,onLabel:g,id:y,size:S,radius:x,wrapperProps:C,thumbIcon:E,checked:j,defaultChecked:R,onChange:_,labelPosition:A,description:M,error:D,disabled:O,variant:k,rootRef:I,mod:L,withThumbIndicator:V,attributes:q,...U}=n,G=LX(),N=S||G?.size,z=Ne({name:"Switch",props:n,classes:j6,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:q,vars:d,varsResolver:$X}),{styleProps:$,rest:Y}=os(U),X=wr(y),H={checked:G?.value.includes(Y.value)??j,onChange:J=>{G?.onChange(J),_?.(J)},disabled:G?.disabled??O},[F,Q]=sr({value:H.checked??j,defaultValue:R,finalValue:!1});return s.jsxs(Nv,{...z("root"),__staticSelector:"Switch",__stylesApiProps:n,id:X,size:N,labelPosition:A,label:p,description:M,error:D,disabled:H.disabled,bodyElement:"label",labelElement:"span",classNames:r,styles:l,unstyled:u,"data-checked":H.checked,variant:k,ref:I,mod:L,...$,...C,children:[s.jsx("input",{...Y,...H,checked:F,"data-checked":H.checked,onChange:J=>{H.onChange?.(J),Q(J.currentTarget.checked)},id:X,ref:t,type:"checkbox",role:"switch",...z("input")}),s.jsxs(te,{"aria-hidden":"true",component:"span",mod:{error:D,"label-position":A,"without-labels":!g&&!m},...z("track"),children:[s.jsx(te,{component:"span",mod:{"reduce-motion":!0,"with-thumb-indicator":V&&!E},...z("thumb"),children:E}),s.jsx("span",{...z("trackLabel"),children:F?g:m})]})]})});uy.classes={...j6,...k9};uy.displayName="@mantine/core/Switch";uy.Group=VT;const[qX,UX]=xr("Table component was not found in the tree");var Hh={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function BX(e,t){if(!t)return;const n={};return t.columnBorder&&e.withColumnBorders&&(n["data-with-column-border"]=!0),t.rowBorder&&e.withRowBorders&&(n["data-with-row-border"]=!0),t.striped&&e.striped&&(n["data-striped"]=e.striped),t.highlightOnHover&&e.highlightOnHover&&(n["data-hover"]=!0),t.captionSide&&e.captionSide&&(n["data-side"]=e.captionSide),t.stickyHeader&&e.stickyHeader&&(n["data-sticky"]=!0),n}function Ic(e,t){const n=`Table${e.charAt(0).toUpperCase()}${e.slice(1)}`,r=xe((a,i)=>{const l=le(n,{},a),{classNames:u,className:d,style:h,styles:p,...m}=l,g=UX();return s.jsx(te,{component:e,ref:i,...BX(g,t),...g.getStyles(e,{className:d,classNames:u,style:h,styles:p,props:l}),...m})});return r.displayName=`@mantine/core/${n}`,r.classes=Hh,r}const bj=Ic("th",{columnBorder:!0}),E6=Ic("td",{columnBorder:!0}),hg=Ic("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),T6=Ic("thead",{stickyHeader:!0}),R6=Ic("tbody"),_6=Ic("tfoot"),D6=Ic("caption",{captionSide:!0});function WT({data:e}){return s.jsxs(s.Fragment,{children:[e.caption&&s.jsx(D6,{children:e.caption}),e.head&&s.jsx(T6,{children:s.jsx(hg,{children:e.head.map((t,n)=>s.jsx(bj,{children:t},n))})}),e.body&&s.jsx(R6,{children:e.body.map((t,n)=>s.jsx(hg,{children:t.map((r,a)=>s.jsx(E6,{children:r},a))},n))}),e.foot&&s.jsx(_6,{children:s.jsx(hg,{children:e.foot.map((t,n)=>s.jsx(bj,{children:t},n))})})]})}WT.displayName="@mantine/core/TableDataRenderer";const HX={type:"scrollarea"},FX=(e,{minWidth:t,maxHeight:n,type:r})=>({scrollContainer:{"--table-min-width":me(t),"--table-max-height":me(n),"--table-overflow":r==="native"?"auto":void 0}}),GT=xe((e,t)=>{const n=le("TableScrollContainer",HX,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,children:h,minWidth:p,maxHeight:m,type:g,scrollAreaProps:y,attributes:S,...x}=n,C=Ne({name:"TableScrollContainer",classes:Hh,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:S,vars:d,varsResolver:FX,rootSelector:"scrollContainer"});return s.jsx(te,{component:g==="scrollarea"?mn:"div",...g==="scrollarea"?m?{offsetScrollbars:"xy",...y}:{offsetScrollbars:"x",...y}:{},ref:t,...C("scrollContainer"),...x,children:s.jsx("div",{...C("scrollContainerInner"),children:h})})});GT.classes=Hh;GT.displayName="@mantine/core/TableScrollContainer";const VX={withRowBorders:!0,verticalSpacing:7},WX=(e,{layout:t,captionSide:n,horizontalSpacing:r,verticalSpacing:a,borderColor:i,stripedColor:l,highlightOnHoverColor:u,striped:d,highlightOnHover:h,stickyHeaderOffset:p,stickyHeader:m})=>({table:{"--table-layout":t,"--table-caption-side":n,"--table-horizontal-spacing":In(r),"--table-vertical-spacing":In(a),"--table-border-color":i?nn(i,e):void 0,"--table-striped-color":d&&l?nn(l,e):void 0,"--table-highlight-on-hover-color":h&&u?nn(u,e):void 0,"--table-sticky-header-offset":m?me(p):void 0}}),Le=xe((e,t)=>{const n=le("Table",VX,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,horizontalSpacing:h,verticalSpacing:p,captionSide:m,stripedColor:g,highlightOnHoverColor:y,striped:S,highlightOnHover:x,withColumnBorders:C,withRowBorders:E,withTableBorder:j,borderColor:R,layout:_,variant:A,data:M,children:D,stickyHeader:O,stickyHeaderOffset:k,mod:I,tabularNums:L,attributes:V,...q}=n,U=Ne({name:"Table",props:n,className:a,style:i,classes:Hh,classNames:r,styles:l,unstyled:u,attributes:V,rootSelector:"table",vars:d,varsResolver:WX});return s.jsx(qX,{value:{getStyles:U,stickyHeader:O,striped:S===!0?"odd":S||void 0,highlightOnHover:x,withColumnBorders:C,withRowBorders:E,captionSide:m||"bottom"},children:s.jsx(te,{component:"table",variant:A,ref:t,mod:[{"data-with-table-border":j,"data-tabular-nums":L},I],...U("table"),...q,children:D||!!M&&s.jsx(WT,{data:M})})})});Le.classes=Hh;Le.displayName="@mantine/core/Table";Le.Td=E6;Le.Th=bj;Le.Tr=hg;Le.Thead=T6;Le.Tbody=R6;Le.Tfoot=_6;Le.Caption=D6;Le.ScrollContainer=GT;Le.DataRenderer=WT;const[GX,YT]=xr("Tabs component was not found in the tree");var Fh={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",tab:"m_4ec4dce6",panel:"m_b0c91715",tabSection:"m_fc420b1f",tabLabel:"m_42bbd1ae","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const QT=xe((e,t)=>{const n=le("TabsList",null,e),{children:r,className:a,grow:i,justify:l,classNames:u,styles:d,style:h,mod:p,...m}=n,g=YT();return s.jsx(te,{...m,...g.getStyles("list",{className:a,style:h,classNames:u,styles:d,props:n,variant:g.variant}),ref:t,role:"tablist",variant:g.variant,mod:[{grow:i,orientation:g.orientation,placement:g.orientation==="vertical"&&g.placement,inverted:g.inverted},p],"aria-orientation":g.orientation,__vars:{"--tabs-justify":l},children:r})});QT.classes=Fh;QT.displayName="@mantine/core/TabsList";const KT=xe((e,t)=>{const n=le("TabsPanel",null,e),{children:r,className:a,value:i,classNames:l,styles:u,style:d,mod:h,keepMounted:p,...m}=n,g=YT(),y=g.value===i,S=g.keepMounted||p||y?r:null;return s.jsx(te,{...g.getStyles("panel",{className:a,classNames:l,styles:u,style:[d,y?void 0:{display:"none"}],props:n}),ref:t,mod:[{orientation:g.orientation},h],role:"tabpanel",id:g.getPanelId(i),"aria-labelledby":g.getTabId(i),...m,children:S})});KT.classes=Fh;KT.displayName="@mantine/core/TabsPanel";const XT=xe((e,t)=>{const n=le("TabsTab",null,e),{className:r,children:a,rightSection:i,leftSection:l,value:u,onClick:d,onKeyDown:h,disabled:p,color:m,style:g,classNames:y,styles:S,vars:x,mod:C,tabIndex:E,...j}=n,R=Cn(),{dir:_}=ss(),A=YT(),M=u===A.value,D=k=>{A.onChange(A.allowTabDeactivation&&u===A.value?null:u),d?.(k)},O={classNames:y,styles:S,props:n};return s.jsxs(Wn,{...A.getStyles("tab",{className:r,style:g,variant:A.variant,...O}),disabled:p,unstyled:A.unstyled,variant:A.variant,mod:[{active:M,disabled:p,orientation:A.orientation,inverted:A.inverted,placement:A.orientation==="vertical"&&A.placement},C],ref:t,role:"tab",id:A.getTabId(u),"aria-selected":M,tabIndex:E!==void 0?E:M||A.value===null?0:-1,"aria-controls":A.getPanelId(u),onClick:D,__vars:{"--tabs-color":m?nn(m,R):void 0},onKeyDown:lE({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:A.activateTabWithKeyboard,loop:A.loop,orientation:A.orientation||"horizontal",dir:_,onKeyDown:h}),...j,children:[l&&s.jsx("span",{...A.getStyles("tabSection",O),"data-position":"left",children:l}),a&&s.jsx("span",{...A.getStyles("tabLabel",O),children:a}),i&&s.jsx("span",{...A.getStyles("tabSection",O),"data-position":"right",children:i})]})});XT.classes=Fh;XT.displayName="@mantine/core/TabsTab";const tM="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",YX={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,variant:"default",placement:"left"},QX=(e,{radius:t,color:n,autoContrast:r})=>({root:{"--tabs-radius":Ut(t),"--tabs-color":nn(n,e),"--tabs-text-color":is(r,e)?Yi({color:n,theme:e,autoContrast:r}):void 0}}),zi=xe((e,t)=>{const n=le("Tabs",YX,e),{defaultValue:r,value:a,onChange:i,orientation:l,children:u,loop:d,id:h,activateTabWithKeyboard:p,allowTabDeactivation:m,variant:g,color:y,radius:S,inverted:x,placement:C,keepMounted:E,classNames:j,styles:R,unstyled:_,className:A,style:M,vars:D,autoContrast:O,mod:k,attributes:I,...L}=n,V=wr(h),[q,U]=sr({value:a,defaultValue:r,finalValue:null,onChange:i}),G=Ne({name:"Tabs",props:n,classes:Fh,className:A,style:M,classNames:j,styles:R,unstyled:_,attributes:I,vars:D,varsResolver:QX});return s.jsx(GX,{value:{placement:C,value:q,orientation:l,id:V,loop:d,activateTabWithKeyboard:p,getTabId:tk(`${V}-tab`,tM),getPanelId:tk(`${V}-panel`,tM),onChange:U,allowTabDeactivation:m,variant:g,color:y,radius:S,inverted:x,keepMounted:E,unstyled:_,getStyles:G},children:s.jsx(te,{ref:t,id:V,variant:g,mod:[{orientation:l,inverted:l==="horizontal"&&x,placement:l==="vertical"&&C},k],...G("root"),...L,children:u})})});zi.classes=Fh;zi.displayName="@mantine/core/Tabs";zi.Tab=XT;zi.Panel=KT;zi.List=QT;const tt=xe((e,t)=>{const n=le("TextInput",null,e);return s.jsx(Va,{component:"input",ref:t,...n,__staticSelector:"TextInput"})});tt.classes=Va.classes;tt.displayName="@mantine/core/TextInput";var A6={root:"m_7341320d"};const KX=(e,{size:t,radius:n,variant:r,gradient:a,color:i,autoContrast:l})=>{const u=e.variantColorResolver({color:i||e.primaryColor,theme:e,gradient:a,variant:r||"filled",autoContrast:l});return{root:{"--ti-size":at(t,"ti-size"),"--ti-radius":n===void 0?void 0:Ut(n),"--ti-bg":i||r?u.background:void 0,"--ti-color":i||r?u.color:void 0,"--ti-bd":i||r?u.border:void 0}}},Lc=xe((e,t)=>{const n=le("ThemeIcon",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,autoContrast:h,attributes:p,...m}=n,g=Ne({name:"ThemeIcon",classes:A6,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:p,vars:d,varsResolver:KX});return s.jsx(te,{ref:t,...g("root"),...m})});Lc.classes=A6;Lc.displayName="@mantine/core/ThemeIcon";const[XX,ZX]=xr("Timeline component was not found in tree");var ZT={root:"m_43657ece",itemTitle:"m_2ebe8099",item:"m_436178ff",itemBullet:"m_8affcee1",itemBody:"m_540e8f41"};const JT=xe((e,t)=>{const n=le("TimelineItem",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,__active:d,__align:h,__lineActive:p,__vars:m,bullet:g,radius:y,color:S,lineVariant:x,children:C,title:E,mod:j,...R}=n,_=ZX(),A=Cn(),M={classNames:r,styles:l};return s.jsxs(te,{..._.getStyles("item",{...M,className:a,style:i}),mod:[{"line-active":p,active:d},j],ref:t,__vars:{"--tli-radius":y?Ut(y):void 0,"--tli-color":S?nn(S,A):void 0,"--tli-border-style":x||void 0},...R,children:[s.jsx(te,{..._.getStyles("itemBullet",M),mod:{"with-child":!!g,align:h,active:d},children:g}),s.jsxs("div",{..._.getStyles("itemBody",M),children:[E&&s.jsx("div",{..._.getStyles("itemTitle",M),children:E}),s.jsx("div",{..._.getStyles("itemContent",M),children:C})]})]})});JT.classes=ZT;JT.displayName="@mantine/core/TimelineItem";const JX={active:-1,align:"left"},eZ=(e,{bulletSize:t,lineWidth:n,radius:r,color:a,autoContrast:i})=>({root:{"--tl-bullet-size":me(t),"--tl-line-width":me(n),"--tl-radius":r===void 0?void 0:Ut(r),"--tl-color":a?nn(a,e):void 0,"--tl-icon-color":is(i,e)?Yi({color:a,theme:e,autoContrast:i}):void 0}}),sh=xe((e,t)=>{const n=le("Timeline",JX,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,children:h,active:p,color:m,radius:g,bulletSize:y,align:S,lineWidth:x,reverseActive:C,mod:E,autoContrast:j,attributes:R,..._}=n,A=Ne({name:"Timeline",classes:ZT,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:R,vars:d,varsResolver:eZ}),M=b.Children.toArray(h),D=M.map((O,k)=>b.cloneElement(O,{unstyled:u,__align:S,__active:O.props?.active||(C?p>=M.length-k-1:p>=k),__lineActive:O.props?.lineActive||(C?p>=M.length-k-1:p-1>=k)}));return s.jsx(XX,{value:{getStyles:A},children:s.jsx(te,{...A("root"),mod:[{align:S},E],ref:t,..._,children:D})})});sh.classes=ZT;sh.displayName="@mantine/core/Timeline";sh.Item=JT;const tZ=["h1","h2","h3","h4","h5","h6"],nZ=["xs","sm","md","lg","xl"];function rZ(e,t){const n=t!==void 0?t:`h${e}`;return tZ.includes(n)?{fontSize:`var(--mantine-${n}-font-size)`,fontWeight:`var(--mantine-${n}-font-weight)`,lineHeight:`var(--mantine-${n}-line-height)`}:nZ.includes(n)?{fontSize:`var(--mantine-font-size-${n})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:me(n),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var O6={root:"m_8a5d1357"};const aZ={order:1},iZ=(e,{order:t,size:n,lineClamp:r,textWrap:a})=>{const i=rZ(t||1,n);return{root:{"--title-fw":i.fontWeight,"--title-lh":i.lineHeight,"--title-fz":i.fontSize,"--title-line-clamp":typeof r=="number"?r.toString():void 0,"--title-text-wrap":a}}},cr=xe((e,t)=>{const n=le("Title",aZ,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,order:d,vars:h,size:p,variant:m,lineClamp:g,textWrap:y,mod:S,attributes:x,...C}=n,E=Ne({name:"Title",props:n,classes:O6,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:x,vars:h,varsResolver:iZ});return[1,2,3,4,5,6].includes(d)?s.jsx(te,{...E("root"),component:`h${d}`,variant:m,ref:t,mod:[{order:d,"data-line-clamp":typeof g=="number"},S],size:p,...C}):null});cr.classes=O6;cr.displayName="@mantine/core/Title";function oZ(e){let t=e,n=!1;const r=new Set;return{getState(){return t},updateState(a){t=typeof a=="function"?a(t):a},setState(a){this.updateState(a),r.forEach(i=>i(t))},initialize(a){n||(t=a,n=!0)},subscribe(a){return r.add(a),()=>r.delete(a)}}}function sZ(e){return b.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function lZ(e,t,n){const r=[],a=[],i={};for(const l of e){const u=l.position||t;i[u]=i[u]||0,i[u]+=1,i[u]<=n?a.push(l):r.push(l)}return{notifications:a,queue:r}}const cZ=()=>oZ({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),zc=cZ(),uZ=(e=zc)=>sZ(e);function Rd(e,t){const n=e.getState(),r=t([...n.notifications,...n.queue]),a=lZ(r,n.defaultPosition,n.limit);e.setState({notifications:a.notifications,queue:a.queue,limit:n.limit,defaultPosition:n.defaultPosition})}function bt(e,t=zc){const n=e.id||Lg();return Rd(t,r=>e.id&&r.some(a=>a.id===e.id)?r:[...r,{...e,id:n}]),n}function k6(e,t=zc){return Rd(t,n=>n.filter(r=>r.id===e?(r.onClose?.(r),!1):!0)),e}function Bf(e,t=zc){return Rd(t,n=>n.map(r=>r.id===e.id?{...r,...e}:r)),e.id}function dZ(e=zc){Rd(e,()=>[])}function fZ(e=zc){Rd(e,t=>t.slice(0,e.getState().limit))}const Vr={show:bt,hide:k6,update:Bf,clean:dZ,cleanQueue:fZ,updateState:Rd};function Fg(e,t){return Fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Fg(e,t)}function eR(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Fg(e,t)}var Bx={exports:{}},Hx,nM;function hZ(){if(nM)return Hx;nM=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Hx=e,Hx}var Fx,rM;function pZ(){if(rM)return Fx;rM=1;var e=hZ();function t(){}function n(){}return n.resetWarningCache=t,Fx=function(){function r(l,u,d,h,p,m){if(m!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function a(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},Fx}var aM;function mZ(){return aM||(aM=1,Bx.exports=pZ()()),Bx.exports}var gZ=mZ();const Ae=Rn(gZ);function vZ(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function yZ(e,t){e.classList?e.classList.add(t):vZ(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function iM(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function bZ(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=iM(e.className,t):e.setAttribute("class",iM(e.className&&e.className.baseVal||"",t))}const oM={disabled:!1},Vg=ne.createContext(null);var xZ=function(t){return t.scrollTop},Hf="unmounted",Wl="exited",Gl="entering",Fu="entered",xj="exiting",ds=(function(e){eR(t,e);function t(r,a){var i;i=e.call(this,r,a)||this;var l=a,u=l&&!l.isMounting?r.enter:r.appear,d;return i.appearStatus=null,r.in?u?(d=Wl,i.appearStatus=Gl):d=Fu:r.unmountOnExit||r.mountOnEnter?d=Hf:d=Wl,i.state={status:d},i.nextCallback=null,i}t.getDerivedStateFromProps=function(a,i){var l=a.in;return l&&i.status===Hf?{status:Wl}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(a){var i=null;if(a!==this.props){var l=this.state.status;this.props.in?l!==Gl&&l!==Fu&&(i=Gl):(l===Gl||l===Fu)&&(i=xj)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var a=this.props.timeout,i,l,u;return i=l=u=a,a!=null&&typeof a!="number"&&(i=a.exit,l=a.enter,u=a.appear!==void 0?a.appear:l),{exit:i,enter:l,appear:u}},n.updateStatus=function(a,i){if(a===void 0&&(a=!1),i!==null)if(this.cancelNextCallback(),i===Gl){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:Jl.findDOMNode(this);l&&xZ(l)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Wl&&this.setState({status:Hf})},n.performEnter=function(a){var i=this,l=this.props.enter,u=this.context?this.context.isMounting:a,d=this.props.nodeRef?[u]:[Jl.findDOMNode(this),u],h=d[0],p=d[1],m=this.getTimeouts(),g=u?m.appear:m.enter;if(!a&&!l||oM.disabled){this.safeSetState({status:Fu},function(){i.props.onEntered(h)});return}this.props.onEnter(h,p),this.safeSetState({status:Gl},function(){i.props.onEntering(h,p),i.onTransitionEnd(g,function(){i.safeSetState({status:Fu},function(){i.props.onEntered(h,p)})})})},n.performExit=function(){var a=this,i=this.props.exit,l=this.getTimeouts(),u=this.props.nodeRef?void 0:Jl.findDOMNode(this);if(!i||oM.disabled){this.safeSetState({status:Wl},function(){a.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:xj},function(){a.props.onExiting(u),a.onTransitionEnd(l.exit,function(){a.safeSetState({status:Wl},function(){a.props.onExited(u)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(a,i){i=this.setNextCallback(i),this.setState(a,i)},n.setNextCallback=function(a){var i=this,l=!0;return this.nextCallback=function(u){l&&(l=!1,i.nextCallback=null,a(u))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},n.onTransitionEnd=function(a,i){this.setNextCallback(i);var l=this.props.nodeRef?this.props.nodeRef.current:Jl.findDOMNode(this),u=a==null&&!this.props.addEndListener;if(!l||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],h=d[0],p=d[1];this.props.addEndListener(h,p)}a!=null&&setTimeout(this.nextCallback,a)},n.render=function(){var a=this.state.status;if(a===Hf)return null;var i=this.props,l=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var u=Nc(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ne.createElement(Vg.Provider,{value:null},typeof l=="function"?l(a,u):ne.cloneElement(ne.Children.only(l),u))},t})(ne.Component);ds.contextType=Vg;ds.propTypes={};function Pu(){}ds.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Pu,onEntering:Pu,onEntered:Pu,onExit:Pu,onExiting:Pu,onExited:Pu};ds.UNMOUNTED=Hf;ds.EXITED=Wl;ds.ENTERING=Gl;ds.ENTERED=Fu;ds.EXITING=xj;function M6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tR(e,t){var n=function(i){return t&&b.isValidElement(i)?t(i):i},r=Object.create(null);return e&&b.Children.map(e,function(a){return a}).forEach(function(a){r[a.key]=n(a)}),r}function SZ(e,t){e=e||{},t=t||{};function n(p){return p in t?t[p]:e[p]}var r=Object.create(null),a=[];for(var i in e)i in t?a.length&&(r[i]=a,a=[]):a.push(i);var l,u={};for(var d in t){if(r[d])for(l=0;l<r[d].length;l++){var h=r[d][l];u[r[d][l]]=n(h)}u[d]=n(d)}for(l=0;l<a.length;l++)u[a[l]]=n(a[l]);return u}function tc(e,t,n){return n[t]!=null?n[t]:e.props[t]}function wZ(e,t){return tR(e.children,function(n){return b.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:tc(n,"appear",e),enter:tc(n,"enter",e),exit:tc(n,"exit",e)})})}function CZ(e,t,n){var r=tR(e.children),a=SZ(t,r);return Object.keys(a).forEach(function(i){var l=a[i];if(b.isValidElement(l)){var u=i in t,d=i in r,h=t[i],p=b.isValidElement(h)&&!h.props.in;d&&(!u||p)?a[i]=b.cloneElement(l,{onExited:n.bind(null,l),in:!0,exit:tc(l,"exit",e),enter:tc(l,"enter",e)}):!d&&u&&!p?a[i]=b.cloneElement(l,{in:!1}):d&&u&&b.isValidElement(h)&&(a[i]=b.cloneElement(l,{onExited:n.bind(null,l),in:h.props.in,exit:tc(l,"exit",e),enter:tc(l,"enter",e)}))}}),a}var jZ=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},EZ={component:"div",childFactory:function(t){return t}},Fs=(function(e){eR(t,e);function t(r,a){var i;i=e.call(this,r,a)||this;var l=i.handleExited.bind(M6(i));return i.state={contextValue:{isMounting:!0},handleExited:l,firstRender:!0},i}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(a,i){var l=i.children,u=i.handleExited,d=i.firstRender;return{children:d?wZ(a,u):CZ(a,l,u),firstRender:!1}},n.handleExited=function(a,i){var l=tR(this.props.children);a.key in l||(a.props.onExited&&a.props.onExited(i),this.mounted&&this.setState(function(u){var d=Tn({},u.children);return delete d[a.key],{children:d}}))},n.render=function(){var a=this.props,i=a.component,l=a.childFactory,u=Nc(a,["component","childFactory"]),d=this.state.contextValue,h=jZ(this.state.children).map(l);return delete u.appear,delete u.enter,delete u.exit,i===null?ne.createElement(Vg.Provider,{value:d},h):ne.createElement(Vg.Provider,{value:d},ne.createElement(i,u,h))},t})(ne.Component);Fs.propTypes={};Fs.defaultProps=EZ;const P6=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function TZ(e,t){return e.reduce((n,r)=>(n[r.position||t].push(r),n),P6.reduce((n,r)=>(n[r]=[],n),{}))}const sM={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},RZ={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function _Z({state:e,maxHeight:t,position:n,transitionDuration:r}){const[a,i]=n.split("-"),l=i==="center"?`${a}-center`:i,u={opacity:0,maxHeight:t,transform:sM[l],transitionDuration:`${r}ms, ${r}ms, ${r}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},d={opacity:1,transform:RZ[l]},h={opacity:0,maxHeight:0,transform:sM[l]};return{...u,...{entering:d,entered:d,exiting:h,exited:h}[e]}}function DZ(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const N6=b.forwardRef(({data:e,onHide:t,autoClose:n,...r},a)=>{const{autoClose:i,message:l,...u}=e,d=DZ(n,e.autoClose),h=b.useRef(-1),p=()=>window.clearTimeout(h.current),m=()=>{t(e.id),p()},g=()=>{typeof d=="number"&&(h.current=window.setTimeout(m,d))};return b.useEffect(()=>{e.onOpen?.(e)},[]),b.useEffect(()=>(g(),p),[d]),s.jsx(PT,{...r,...u,onClose:m,ref:a,onMouseEnter:p,onMouseLeave:g,children:l})});N6.displayName="@mantine/notifications/NotificationContainer";var I6={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const AZ=ds,OZ={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:Sr("overlay"),store:zc,withinPortal:!0},kZ=(e,{zIndex:t,containerWidth:n})=>({root:{"--notifications-z-index":t?.toString(),"--notifications-container-width":me(n)}}),fs=xe((e,t)=>{const n=le("Notifications",OZ,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,position:h,autoClose:p,transitionDuration:m,containerWidth:g,notificationMaxHeight:y,limit:S,zIndex:x,store:C,portalProps:E,withinPortal:j,...R}=n,_=Cn(),A=uZ(C),M=MH(),D=vv(),O=b.useRef({}),k=b.useRef(0),L=(_.respectReducedMotion?D:!1)?1:m,V=Ne({name:"Notifications",classes:I6,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,vars:d,varsResolver:kZ});b.useEffect(()=>{C?.updateState(G=>({...G,limit:S||5,defaultPosition:h}))},[S,h]),Js(()=>{A.notifications.length>k.current&&setTimeout(()=>M(),0),k.current=A.notifications.length},[A.notifications]);const q=TZ(A.notifications,h),U=P6.reduce((G,N)=>(G[N]=q[N].map(({style:z,...$})=>s.jsx(AZ,{timeout:L,onEnter:()=>O.current[$.id].offsetHeight,nodeRef:{current:O.current[$.id]},children:Y=>s.jsx(N6,{ref:X=>{X&&(O.current[$.id]=X)},data:$,onHide:X=>k6(X,C),autoClose:p,...V("notification",{style:{..._Z({state:Y,position:N,transitionDuration:L,maxHeight:y}),...z}})})},$.id)),G),{});return s.jsxs(el,{withinPortal:j,...E,children:[s.jsx(te,{...V("root"),"data-position":"top-center",ref:t,...R,children:s.jsx(Fs,{children:U["top-center"]})}),s.jsx(te,{...V("root"),"data-position":"top-left",...R,children:s.jsx(Fs,{children:U["top-left"]})}),s.jsx(te,{...V("root",{className:uc.classNames.fullWidth}),"data-position":"top-right",...R,children:s.jsx(Fs,{children:U["top-right"]})}),s.jsx(te,{...V("root",{className:uc.classNames.fullWidth}),"data-position":"bottom-right",...R,children:s.jsx(Fs,{children:U["bottom-right"]})}),s.jsx(te,{...V("root"),"data-position":"bottom-left",...R,children:s.jsx(Fs,{children:U["bottom-left"]})}),s.jsx(te,{...V("root"),"data-position":"bottom-center",...R,children:s.jsx(Fs,{children:U["bottom-center"]})})]})});fs.classes=I6;fs.displayName="@mantine/notifications/Notifications";fs.show=Vr.show;fs.hide=Vr.hide;fs.update=Vr.update;fs.clean=Vr.clean;fs.cleanQueue=Vr.cleanQueue;fs.updateState=Vr.updateState;var MZ=Object.defineProperty,PZ=(e,t,n)=>t in e?MZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ve=(e,t,n)=>PZ(e,typeof t!="symbol"?t+"":t,n),NZ=class{constructor(e,t){ve(this,"operator"),ve(this,"child"),this.operator=e,this.child=t}toString(){return`${this.operator}(${this.child.toString()})`}},Vh=class{constructor(e,t,n){ve(this,"operator"),ve(this,"left"),ve(this,"right"),this.operator=e,this.left=t,this.right=n}toString(){return`(${this.left.toString()} ${this.operator} ${this.right.toString()})`}},IZ=class{constructor(){ve(this,"prefixParselets",{}),ve(this,"infixParselets",{})}registerInfix(e,t){return this.infixParselets[e]=t,this}registerPrefix(e,t){return this.prefixParselets[e]=t,this}prefix(e,t,n){return this.registerPrefix(e,{parse(r,a){let i=r.consumeAndParse(t);return n(a,i)}})}infixLeft(e,t,n){return this.registerInfix(e,{parse(r,a,i){let l=r.consumeAndParse(t);return n(a,i,l)},precedence:t})}construct(e){return new LZ(e,this.prefixParselets,this.infixParselets)}},LZ=class{constructor(e,t,n){ve(this,"tokens"),ve(this,"prefixParselets"),ve(this,"infixParselets"),this.tokens=e,this.prefixParselets=t,this.infixParselets=n}hasMore(){return this.tokens.length>0}match(e){return this.peek()?.id!==e?!1:(this.consume(),!0)}consumeAndParse(e=1/0){let t=this.consume(),n=this.prefixParselets[t.id];if(!n)throw new Error(`Parse error at "${t.value}" (line ${t.line}, column ${t.column}). No matching prefix parselet.`);let r=n.parse(this,t);for(;e>this.getPrecedence();){let a=this.consume();r=this.getInfixParselet(a).parse(this,r,a)}return r}getPrecedence(){let e=this.peek();if(!e)return 1/0;let t=this.getInfixParselet(e);return t?t.precedence:1/0}consume(e,t){if(!this.tokens.length)throw new Error("Cant consume unknown more tokens.");if(e&&this.peek()?.id!==e){let n=this.peek();throw new Error(`Expected ${e} but got "${n.id}" (${n.value}) at line ${n.line} column ${n.column}.`)}if(t&&this.peek()?.value!==t){let n=this.peek();throw new Error(`Expected "${t}" but got "${n.value}" at line ${n.line} column ${n.column}.`)}return this.tokens.shift()}peek(){return this.tokens.length>0?this.tokens[0]:void 0}removeComments(){this.tokens=this.tokens.filter(e=>e.id!=="Comment")}getInfixParselet(e){return this.infixParselets[e.id==="Symbol"?e.value:e.id]}},nR=class{constructor(t=10){ve(this,"max"),ve(this,"cache"),this.max=t,this.cache=new Map}clear(){this.cache.clear()}get(t){let n=this.cache.get(t);return n&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){this.cache.has(t)?this.cache.delete(t):this.cache.size>=this.max&&this.cache.delete(this.first()),this.cache.set(t,n)}delete(t){this.cache.delete(t)}keys(){return this.cache.keys()}first(){return this.cache.keys().next().value}},zZ="http://unitsofmeasure.org",Go="http://loinc.org",Qs="http://snomed.info/sct",$Z="http://www.nlm.nih.gov/research/umls/rxnorm",lM="http://www.ama-assn.org/go/cpt",qZ="http://hl7.org/fhir/sid/ndc",St="http://hl7.org",ta="http://terminology.hl7.org",UZ="created",BZ="not-modified",HZ="not-found",FZ="unauthorized",VZ="accepted",WZ={resourceType:"OperationOutcome",id:HZ,issue:[{severity:"error",code:"not-found",details:{text:"Not found"}}]},lh={resourceType:"OperationOutcome",id:FZ,issue:[{severity:"error",code:"login",details:{text:"Unauthorized"}}]},GZ={...lh,issue:[...lh.issue,{severity:"error",code:"expired",details:{text:"Token expired"}}]},cM={...lh,issue:[...lh.issue,{severity:"error",code:"invalid",details:{text:"Token not issued for this audience"}}]};function Xo(e,t){return{resourceType:"OperationOutcome",issue:[{severity:"error",code:"invalid",details:{text:e}}]}}function wn(e){return{resourceType:"OperationOutcome",issue:[{severity:"error",code:"structure",details:{text:e}}]}}function YZ(e){return{resourceType:"OperationOutcome",issue:[{severity:"error",code:"exception",details:{text:"Internal server error"},diagnostics:e.toString()}]}}function QZ(e){return!e||typeof e!="object"?!1:e instanceof Error||typeof DOMException<"u"&&e instanceof DOMException?!0:Object.prototype.toString.call(e)==="[object Error]"}function rR(e){return typeof e=="object"&&e!==null&&e.resourceType==="OperationOutcome"}function aR(e){return e.id==="ok"||e.id===UZ||e.id===BZ||e.id===VZ}var yt=class extends Error{constructor(t,n){super(L6(t),n),ve(this,"outcome"),this.name="OperationOutcomeError",this.outcome=t}};function kr(e){return e instanceof yt?e.outcome:rR(e)?e:Xo(Wt(e))}function Wt(e){return e?typeof e=="string"?e:QZ(e)?e.message:rR(e)?L6(e):typeof e=="object"&&"code"in e&&typeof e.code=="string"?e.code:JSON.stringify(e):"Unknown error"}function L6(e){let t=e.issue?.map(z6)??[];return t.length>0?t.join("; "):"Unknown error"}function z6(e){let t;return e.details?.text?e.diagnostics?t=`${e.details.text} (${e.diagnostics})`:t=e.details.text:e.diagnostics?t=e.diagnostics:t="Unknown error",e.expression?.length&&(t+=` (${e.expression.join(", ")})`),t}function KZ(e,t){let n=t.max&&t.max===Number.MAX_SAFE_INTEGER?Number.POSITIVE_INFINITY:t.max;return{path:e,description:"",type:t.type??[],min:t.min??0,max:n??1,isArray:!!n&&n>1,constraints:[]}}function XZ(e){let t=Object.create(null);for(let[n,r]of Object.entries(e))t[n]={name:n,type:n,path:n,elements:Object.fromEntries(Object.entries(r.elements).map(([a,i])=>[a,KZ(a,i)])),constraints:[],innerTypes:[]};return t}var ZZ={Element:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]}}},BackboneElement:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},modifierExtension:{max:9007199254740991,type:[{code:"Extension"}]}}},Address:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},use:{type:[{code:"code"}]},type:{type:[{code:"code"}]},text:{type:[{code:"string"}]},line:{max:9007199254740991,type:[{code:"string"}]},city:{type:[{code:"string"}]},district:{type:[{code:"string"}]},state:{type:[{code:"string"}]},postalCode:{type:[{code:"string"}]},country:{type:[{code:"string"}]},period:{type:[{code:"Period"}]}}},Age:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},value:{type:[{code:"decimal"}]},comparator:{type:[{code:"code"}]},unit:{type:[{code:"string"}]},system:{type:[{code:"uri"}]},code:{type:[{code:"code"}]}}},Annotation:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},"author[x]":{type:[{code:"Reference",targetProfile:["http://hl7.org/fhir/StructureDefinition/Practitioner","http://hl7.org/fhir/StructureDefinition/Patient","http://hl7.org/fhir/StructureDefinition/RelatedPerson","http://hl7.org/fhir/StructureDefinition/Organization"]},{code:"string"}]},time:{type:[{code:"dateTime"}]},text:{min:1,type:[{code:"markdown"}]}}},Attachment:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},contentType:{type:[{code:"code"}]},language:{type:[{code:"code"}]},data:{type:[{code:"base64Binary"}]},url:{type:[{code:"url"}]},size:{type:[{code:"unsignedInt"}]},hash:{type:[{code:"base64Binary"}]},title:{type:[{code:"string"}]},creation:{type:[{code:"dateTime"}]}}},CodeableConcept:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},coding:{max:9007199254740991,type:[{code:"Coding"}]},text:{type:[{code:"string"}]}}},Coding:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},system:{type:[{code:"uri"}]},version:{type:[{code:"string"}]},code:{type:[{code:"code"}]},display:{type:[{code:"string"}]},userSelected:{type:[{code:"boolean"}]}}},ContactDetail:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},name:{type:[{code:"string"}]},telecom:{max:9007199254740991,type:[{code:"ContactPoint"}]}}},ContactPoint:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},system:{type:[{code:"code"}]},value:{type:[{code:"string"}]},use:{type:[{code:"code"}]},rank:{type:[{code:"positiveInt"}]},period:{type:[{code:"Period"}]}}},Contributor:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},type:{min:1,type:[{code:"code"}]},name:{min:1,type:[{code:"string"}]},contact:{max:9007199254740991,type:[{code:"ContactDetail"}]}}},Count:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},value:{type:[{code:"decimal"}]},comparator:{type:[{code:"code"}]},unit:{type:[{code:"string"}]},system:{type:[{code:"uri"}]},code:{type:[{code:"code"}]}}},DataRequirement:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},type:{min:1,type:[{code:"code"}]},profile:{max:9007199254740991,type:[{code:"canonical",targetProfile:["http://hl7.org/fhir/StructureDefinition/StructureDefinition"]}]},"subject[x]":{type:[{code:"CodeableConcept"},{code:"Reference",targetProfile:["http://hl7.org/fhir/StructureDefinition/Group"]}]},mustSupport:{max:9007199254740991,type:[{code:"string"}]},codeFilter:{max:9007199254740991,type:[{code:"DataRequirementCodeFilter"}]},dateFilter:{max:9007199254740991,type:[{code:"DataRequirementDateFilter"}]},limit:{type:[{code:"positiveInt"}]},sort:{max:9007199254740991,type:[{code:"DataRequirementSort"}]}}},DataRequirementCodeFilter:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},path:{type:[{code:"string"}]},searchParam:{type:[{code:"string"}]},valueSet:{type:[{code:"canonical",targetProfile:["http://hl7.org/fhir/StructureDefinition/ValueSet"]}]},code:{max:9007199254740991,type:[{code:"Coding"}]}}},DataRequirementDateFilter:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},path:{type:[{code:"string"}]},searchParam:{type:[{code:"string"}]},"value[x]":{type:[{code:"dateTime"},{code:"Period"},{code:"Duration"}]}}},DataRequirementSort:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},path:{min:1,type:[{code:"string"}]},direction:{min:1,type:[{code:"code"}]}}},Distance:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},value:{type:[{code:"decimal"}]},comparator:{type:[{code:"code"}]},unit:{type:[{code:"string"}]},system:{type:[{code:"uri"}]},code:{type:[{code:"code"}]}}},Dosage:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},modifierExtension:{max:9007199254740991,type:[{code:"Extension"}]},sequence:{type:[{code:"integer"}]},text:{type:[{code:"string"}]},additionalInstruction:{max:9007199254740991,type:[{code:"CodeableConcept"}]},patientInstruction:{type:[{code:"string"}]},timing:{type:[{code:"Timing"}]},"asNeeded[x]":{type:[{code:"boolean"},{code:"CodeableConcept"}]},site:{type:[{code:"CodeableConcept"}]},route:{type:[{code:"CodeableConcept"}]},method:{type:[{code:"CodeableConcept"}]},doseAndRate:{max:9007199254740991,type:[{code:"DosageDoseAndRate"}]},maxDosePerPeriod:{type:[{code:"Ratio"}]},maxDosePerAdministration:{type:[{code:"Quantity",profile:["http://hl7.org/fhir/StructureDefinition/SimpleQuantity"]}]},maxDosePerLifetime:{type:[{code:"Quantity",profile:["http://hl7.org/fhir/StructureDefinition/SimpleQuantity"]}]}}},DosageDoseAndRate:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},type:{type:[{code:"CodeableConcept"}]},"dose[x]":{type:[{code:"Range"},{code:"Quantity",profile:["http://hl7.org/fhir/StructureDefinition/SimpleQuantity"]}]},"rate[x]":{type:[{code:"Ratio"},{code:"Range"},{code:"Quantity",profile:["http://hl7.org/fhir/StructureDefinition/SimpleQuantity"]}]}}},Duration:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},value:{type:[{code:"decimal"}]},comparator:{type:[{code:"code"}]},unit:{type:[{code:"string"}]},system:{type:[{code:"uri"}]},code:{type:[{code:"code"}]}}},ElementDefinition:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},modifierExtension:{max:9007199254740991,type:[{code:"Extension"}]},path:{min:1,type:[{code:"string"}]},representation:{max:9007199254740991,type:[{code:"code"}]},sliceName:{type:[{code:"string"}]},sliceIsConstraining:{type:[{code:"boolean"}]},label:{type:[{code:"string"}]},code:{max:9007199254740991,type:[{code:"Coding"}]},slicing:{type:[{code:"ElementDefinitionSlicing"}]},short:{type:[{code:"string"}]},definition:{type:[{code:"markdown"}]},comment:{type:[{code:"markdown"}]},requirements:{type:[{code:"markdown"}]},alias:{max:9007199254740991,type:[{code:"string"}]},min:{type:[{code:"unsignedInt"}]},max:{type:[{code:"string"}]},base:{type:[{code:"ElementDefinitionBase"}]},contentReference:{type:[{code:"uri"}]},type:{max:9007199254740991,type:[{code:"ElementDefinitionType"}]},"defaultValue[x]":{type:[{code:"base64Binary"},{code:"boolean"},{code:"canonical"},{code:"code"},{code:"date"},{code:"dateTime"},{code:"decimal"},{code:"id"},{code:"instant"},{code:"integer"},{code:"markdown"},{code:"oid"},{code:"positiveInt"},{code:"string"},{code:"time"},{code:"unsignedInt"},{code:"uri"},{code:"url"},{code:"uuid"},{code:"Address"},{code:"Age"},{code:"Annotation"},{code:"Attachment"},{code:"CodeableConcept"},{code:"Coding"},{code:"ContactPoint"},{code:"Count"},{code:"Distance"},{code:"Duration"},{code:"HumanName"},{code:"Identifier"},{code:"Money"},{code:"Period"},{code:"Quantity"},{code:"Range"},{code:"Ratio"},{code:"Reference"},{code:"SampledData"},{code:"Signature"},{code:"Timing"},{code:"ContactDetail"},{code:"Contributor"},{code:"DataRequirement"},{code:"Expression"},{code:"ParameterDefinition"},{code:"RelatedArtifact"},{code:"TriggerDefinition"},{code:"UsageContext"},{code:"Dosage"},{code:"Meta"}]},meaningWhenMissing:{type:[{code:"markdown"}]},orderMeaning:{type:[{code:"string"}]},"fixed[x]":{type:[{code:"base64Binary"},{code:"boolean"},{code:"canonical"},{code:"code"},{code:"date"},{code:"dateTime"},{code:"decimal"},{code:"id"},{code:"instant"},{code:"integer"},{code:"markdown"},{code:"oid"},{code:"positiveInt"},{code:"string"},{code:"time"},{code:"unsignedInt"},{code:"uri"},{code:"url"},{code:"uuid"},{code:"Address"},{code:"Age"},{code:"Annotation"},{code:"Attachment"},{code:"CodeableConcept"},{code:"Coding"},{code:"ContactPoint"},{code:"Count"},{code:"Distance"},{code:"Duration"},{code:"HumanName"},{code:"Identifier"},{code:"Money"},{code:"Period"},{code:"Quantity"},{code:"Range"},{code:"Ratio"},{code:"Reference"},{code:"SampledData"},{code:"Signature"},{code:"Timing"},{code:"ContactDetail"},{code:"Contributor"},{code:"DataRequirement"},{code:"Expression"},{code:"ParameterDefinition"},{code:"RelatedArtifact"},{code:"TriggerDefinition"},{code:"UsageContext"},{code:"Dosage"},{code:"Meta"}]},"pattern[x]":{type:[{code:"base64Binary"},{code:"boolean"},{code:"canonical"},{code:"code"},{code:"date"},{code:"dateTime"},{code:"decimal"},{code:"id"},{code:"instant"},{code:"integer"},{code:"markdown"},{code:"oid"},{code:"positiveInt"},{code:"string"},{code:"time"},{code:"unsignedInt"},{code:"uri"},{code:"url"},{code:"uuid"},{code:"Address"},{code:"Age"},{code:"Annotation"},{code:"Attachment"},{code:"CodeableConcept"},{code:"Coding"},{code:"ContactPoint"},{code:"Count"},{code:"Distance"},{code:"Duration"},{code:"HumanName"},{code:"Identifier"},{code:"Money"},{code:"Period"},{code:"Quantity"},{code:"Range"},{code:"Ratio"},{code:"Reference"},{code:"SampledData"},{code:"Signature"},{code:"Timing"},{code:"ContactDetail"},{code:"Contributor"},{code:"DataRequirement"},{code:"Expression"},{code:"ParameterDefinition"},{code:"RelatedArtifact"},{code:"TriggerDefinition"},{code:"UsageContext"},{code:"Dosage"},{code:"Meta"}]},example:{max:9007199254740991,type:[{code:"ElementDefinitionExample"}]},"minValue[x]":{type:[{code:"date"},{code:"dateTime"},{code:"instant"},{code:"time"},{code:"decimal"},{code:"integer"},{code:"positiveInt"},{code:"unsignedInt"},{code:"Quantity"}]},"maxValue[x]":{type:[{code:"date"},{code:"dateTime"},{code:"instant"},{code:"time"},{code:"decimal"},{code:"integer"},{code:"positiveInt"},{code:"unsignedInt"},{code:"Quantity"}]},maxLength:{type:[{code:"integer"}]},condition:{max:9007199254740991,type:[{code:"id"}]},constraint:{max:9007199254740991,type:[{code:"ElementDefinitionConstraint"}]},mustSupport:{type:[{code:"boolean"}]},isModifier:{type:[{code:"boolean"}]},isModifierReason:{type:[{code:"string"}]},isSummary:{type:[{code:"boolean"}]},binding:{type:[{code:"ElementDefinitionBinding"}]},mapping:{max:9007199254740991,type:[{code:"ElementDefinitionMapping"}]}}},ElementDefinitionSlicingDiscriminator:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},type:{min:1,type:[{code:"code"}]},path:{min:1,type:[{code:"string"}]}}},ElementDefinitionSlicing:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},discriminator:{max:9007199254740991,type:[{code:"ElementDefinitionSlicingDiscriminator"}]},description:{type:[{code:"string"}]},ordered:{type:[{code:"boolean"}]},rules:{min:1,type:[{code:"code"}]}}},ElementDefinitionBase:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},path:{min:1,type:[{code:"string"}]},min:{min:1,type:[{code:"unsignedInt"}]},max:{min:1,type:[{code:"string"}]}}},ElementDefinitionType:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},code:{min:1,type:[{code:"uri"}]},profile:{max:9007199254740991,type:[{code:"canonical",targetProfile:["http://hl7.org/fhir/StructureDefinition/StructureDefinition","http://hl7.org/fhir/StructureDefinition/ImplementationGuide"]}]},targetProfile:{max:9007199254740991,type:[{code:"canonical",targetProfile:["http://hl7.org/fhir/StructureDefinition/StructureDefinition","http://hl7.org/fhir/StructureDefinition/ImplementationGuide"]}]},aggregation:{max:9007199254740991,type:[{code:"code"}]},versioning:{type:[{code:"code"}]}}},ElementDefinitionExample:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},label:{min:1,type:[{code:"string"}]},"value[x]":{min:1,type:[{code:"base64Binary"},{code:"boolean"},{code:"canonical"},{code:"code"},{code:"date"},{code:"dateTime"},{code:"decimal"},{code:"id"},{code:"instant"},{code:"integer"},{code:"markdown"},{code:"oid"},{code:"positiveInt"},{code:"string"},{code:"time"},{code:"unsignedInt"},{code:"uri"},{code:"url"},{code:"uuid"},{code:"Address"},{code:"Age"},{code:"Annotation"},{code:"Attachment"},{code:"CodeableConcept"},{code:"Coding"},{code:"ContactPoint"},{code:"Count"},{code:"Distance"},{code:"Duration"},{code:"HumanName"},{code:"Identifier"},{code:"Money"},{code:"Period"},{code:"Quantity"},{code:"Range"},{code:"Ratio"},{code:"Reference"},{code:"SampledData"},{code:"Signature"},{code:"Timing"},{code:"ContactDetail"},{code:"Contributor"},{code:"DataRequirement"},{code:"Expression"},{code:"ParameterDefinition"},{code:"RelatedArtifact"},{code:"TriggerDefinition"},{code:"UsageContext"},{code:"Dosage"},{code:"Meta"}]}}},ElementDefinitionConstraint:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},key:{min:1,type:[{code:"id"}]},requirements:{type:[{code:"string"}]},severity:{min:1,type:[{code:"code"}]},human:{min:1,type:[{code:"string"}]},expression:{type:[{code:"string"}]},xpath:{type:[{code:"string"}]},source:{type:[{code:"canonical",targetProfile:["http://hl7.org/fhir/StructureDefinition/StructureDefinition"]}]}}},ElementDefinitionBinding:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},strength:{min:1,type:[{code:"code"}]},description:{type:[{code:"string"}]},valueSet:{type:[{code:"canonical",targetProfile:["http://hl7.org/fhir/StructureDefinition/ValueSet"]}]}}},ElementDefinitionMapping:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},identity:{min:1,type:[{code:"id"}]},language:{type:[{code:"code"}]},map:{min:1,type:[{code:"string"}]},comment:{type:[{code:"string"}]}}},Expression:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},description:{type:[{code:"string"}]},name:{type:[{code:"id"}]},language:{min:1,type:[{code:"code"}]},expression:{type:[{code:"string"}]},reference:{type:[{code:"uri"}]}}},Extension:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},url:{min:1,type:[{code:"uri"}]},"value[x]":{type:[{code:"base64Binary"},{code:"boolean"},{code:"canonical"},{code:"code"},{code:"date"},{code:"dateTime"},{code:"decimal"},{code:"id"},{code:"instant"},{code:"integer"},{code:"markdown"},{code:"oid"},{code:"positiveInt"},{code:"string"},{code:"time"},{code:"unsignedInt"},{code:"uri"},{code:"url"},{code:"uuid"},{code:"Address"},{code:"Age"},{code:"Annotation"},{code:"Attachment"},{code:"CodeableConcept"},{code:"Coding"},{code:"ContactPoint"},{code:"Count"},{code:"Distance"},{code:"Duration"},{code:"HumanName"},{code:"Identifier"},{code:"Money"},{code:"Period"},{code:"Quantity"},{code:"Range"},{code:"Ratio"},{code:"Reference"},{code:"SampledData"},{code:"Signature"},{code:"Timing"},{code:"ContactDetail"},{code:"Contributor"},{code:"DataRequirement"},{code:"Expression"},{code:"ParameterDefinition"},{code:"RelatedArtifact"},{code:"TriggerDefinition"},{code:"UsageContext"},{code:"Dosage"},{code:"Meta"}]}}},HumanName:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},use:{type:[{code:"code"}]},text:{type:[{code:"string"}]},family:{type:[{code:"string"}]},given:{max:9007199254740991,type:[{code:"string"}]},prefix:{max:9007199254740991,type:[{code:"string"}]},suffix:{max:9007199254740991,type:[{code:"string"}]},period:{type:[{code:"Period"}]}}},Identifier:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},use:{type:[{code:"code"}]},type:{type:[{code:"CodeableConcept"}]},system:{type:[{code:"uri"}]},value:{type:[{code:"string"}]},period:{type:[{code:"Period"}]},assigner:{type:[{code:"Reference",targetProfile:["http://hl7.org/fhir/StructureDefinition/Organization"]}]}}},MarketingStatus:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},modifierExtension:{max:9007199254740991,type:[{code:"Extension"}]},country:{min:1,type:[{code:"CodeableConcept"}]},jurisdiction:{type:[{code:"CodeableConcept"}]},status:{min:1,type:[{code:"CodeableConcept"}]},dateRange:{min:1,type:[{code:"Period"}]},restoreDate:{type:[{code:"dateTime"}]}}},Meta:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},versionId:{type:[{code:"id"}]},lastUpdated:{type:[{code:"instant"}]},source:{type:[{code:"uri"}]},profile:{max:9007199254740991,type:[{code:"canonical",targetProfile:["http://hl7.org/fhir/StructureDefinition/StructureDefinition"]}]},security:{max:9007199254740991,type:[{code:"Coding"}]},tag:{max:9007199254740991,type:[{code:"Coding"}]},project:{type:[{code:"uri"}]},author:{type:[{code:"Reference"}]},onBehalfOf:{type:[{code:"Reference"}]},account:{type:[{code:"Reference"}]},accounts:{max:9007199254740991,type:[{code:"Reference"}]},compartment:{max:9007199254740991,type:[{code:"Reference"}]}}},Money:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},value:{type:[{code:"decimal"}]},currency:{type:[{code:"code"}]}}},Narrative:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},status:{min:1,type:[{code:"code"}]},div:{min:1,type:[{code:"xhtml"}]}}},ParameterDefinition:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},name:{type:[{code:"code"}]},use:{min:1,type:[{code:"code"}]},min:{type:[{code:"integer"}]},max:{type:[{code:"string"}]},documentation:{type:[{code:"string"}]},type:{min:1,type:[{code:"code"}]},profile:{type:[{code:"canonical",targetProfile:["http://hl7.org/fhir/StructureDefinition/StructureDefinition"]}]}}},Period:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},start:{type:[{code:"dateTime"}]},end:{type:[{code:"dateTime"}]}}},Population:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},modifierExtension:{max:9007199254740991,type:[{code:"Extension"}]},"age[x]":{type:[{code:"Range"},{code:"CodeableConcept"}]},gender:{type:[{code:"CodeableConcept"}]},race:{type:[{code:"CodeableConcept"}]},physiologicalCondition:{type:[{code:"CodeableConcept"}]}}},ProdCharacteristic:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},modifierExtension:{max:9007199254740991,type:[{code:"Extension"}]},height:{type:[{code:"Quantity"}]},width:{type:[{code:"Quantity"}]},depth:{type:[{code:"Quantity"}]},weight:{type:[{code:"Quantity"}]},nominalVolume:{type:[{code:"Quantity"}]},externalDiameter:{type:[{code:"Quantity"}]},shape:{type:[{code:"string"}]},color:{max:9007199254740991,type:[{code:"string"}]},imprint:{max:9007199254740991,type:[{code:"string"}]},image:{max:9007199254740991,type:[{code:"Attachment"}]},scoring:{type:[{code:"CodeableConcept"}]}}},ProductShelfLife:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},modifierExtension:{max:9007199254740991,type:[{code:"Extension"}]},identifier:{type:[{code:"Identifier"}]},type:{min:1,type:[{code:"CodeableConcept"}]},period:{min:1,type:[{code:"Quantity"}]},specialPrecautionsForStorage:{max:9007199254740991,type:[{code:"CodeableConcept"}]}}},Quantity:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},value:{type:[{code:"decimal"}]},comparator:{type:[{code:"code"}]},unit:{type:[{code:"string"}]},system:{type:[{code:"uri"}]},code:{type:[{code:"code"}]}}},Range:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},low:{type:[{code:"Quantity",profile:["http://hl7.org/fhir/StructureDefinition/SimpleQuantity"]}]},high:{type:[{code:"Quantity",profile:["http://hl7.org/fhir/StructureDefinition/SimpleQuantity"]}]}}},Ratio:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},numerator:{type:[{code:"Quantity"}]},denominator:{type:[{code:"Quantity"}]}}},Reference:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},reference:{type:[{code:"string"}]},type:{type:[{code:"uri"}]},identifier:{type:[{code:"Identifier"}]},display:{type:[{code:"string"}]}}},RelatedArtifact:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},type:{min:1,type:[{code:"code"}]},label:{type:[{code:"string"}]},display:{type:[{code:"string"}]},citation:{type:[{code:"markdown"}]},url:{type:[{code:"url"}]},document:{type:[{code:"Attachment"}]},resource:{type:[{code:"canonical",targetProfile:["http://hl7.org/fhir/StructureDefinition/Resource"]}]}}},SampledData:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},origin:{min:1,type:[{code:"Quantity",profile:["http://hl7.org/fhir/StructureDefinition/SimpleQuantity"]}]},period:{min:1,type:[{code:"decimal"}]},factor:{type:[{code:"decimal"}]},lowerLimit:{type:[{code:"decimal"}]},upperLimit:{type:[{code:"decimal"}]},dimensions:{min:1,type:[{code:"positiveInt"}]},data:{type:[{code:"string"}]}}},Signature:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},type:{min:1,max:9007199254740991,type:[{code:"Coding"}]},when:{min:1,type:[{code:"instant"}]},who:{min:1,type:[{code:"Reference",targetProfile:["http://hl7.org/fhir/StructureDefinition/Practitioner","http://hl7.org/fhir/StructureDefinition/PractitionerRole","http://hl7.org/fhir/StructureDefinition/RelatedPerson","http://hl7.org/fhir/StructureDefinition/Patient","http://hl7.org/fhir/StructureDefinition/Device","http://hl7.org/fhir/StructureDefinition/Organization"]}]},onBehalfOf:{type:[{code:"Reference",targetProfile:["http://hl7.org/fhir/StructureDefinition/Practitioner","http://hl7.org/fhir/StructureDefinition/PractitionerRole","http://hl7.org/fhir/StructureDefinition/RelatedPerson","http://hl7.org/fhir/StructureDefinition/Patient","http://hl7.org/fhir/StructureDefinition/Device","http://hl7.org/fhir/StructureDefinition/Organization"]}]},targetFormat:{type:[{code:"code"}]},sigFormat:{type:[{code:"code"}]},data:{type:[{code:"base64Binary"}]}}},SubstanceAmount:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},modifierExtension:{max:9007199254740991,type:[{code:"Extension"}]},"amount[x]":{type:[{code:"Quantity"},{code:"Range"},{code:"string"}]},amountType:{type:[{code:"CodeableConcept"}]},amountText:{type:[{code:"string"}]},referenceRange:{type:[{code:"SubstanceAmountReferenceRange"}]}}},SubstanceAmountReferenceRange:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},lowLimit:{type:[{code:"Quantity"}]},highLimit:{type:[{code:"Quantity"}]}}},Timing:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},modifierExtension:{max:9007199254740991,type:[{code:"Extension"}]},event:{max:9007199254740991,type:[{code:"dateTime"}]},repeat:{type:[{code:"TimingRepeat"}]},code:{type:[{code:"CodeableConcept"}]}}},TimingRepeat:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},"bounds[x]":{type:[{code:"Duration"},{code:"Range"},{code:"Period"}]},count:{type:[{code:"positiveInt"}]},countMax:{type:[{code:"positiveInt"}]},duration:{type:[{code:"decimal"}]},durationMax:{type:[{code:"decimal"}]},durationUnit:{type:[{code:"code"}]},frequency:{type:[{code:"positiveInt"}]},frequencyMax:{type:[{code:"positiveInt"}]},period:{type:[{code:"decimal"}]},periodMax:{type:[{code:"decimal"}]},periodUnit:{type:[{code:"code"}]},dayOfWeek:{max:9007199254740991,type:[{code:"code"}]},timeOfDay:{max:9007199254740991,type:[{code:"time"}]},when:{max:9007199254740991,type:[{code:"code"}]},offset:{type:[{code:"unsignedInt"}]}}},TriggerDefinition:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},type:{min:1,type:[{code:"code"}]},name:{type:[{code:"string"}]},"timing[x]":{type:[{code:"Timing"},{code:"Reference",targetProfile:["http://hl7.org/fhir/StructureDefinition/Schedule"]},{code:"date"},{code:"dateTime"}]},data:{max:9007199254740991,type:[{code:"DataRequirement"}]},condition:{type:[{code:"Expression"}]}}},UsageContext:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},code:{min:1,type:[{code:"Coding"}]},"value[x]":{min:1,type:[{code:"CodeableConcept"},{code:"Quantity"},{code:"Range"},{code:"Reference",targetProfile:["http://hl7.org/fhir/StructureDefinition/PlanDefinition","http://hl7.org/fhir/StructureDefinition/ResearchStudy","http://hl7.org/fhir/StructureDefinition/InsurancePlan","http://hl7.org/fhir/StructureDefinition/HealthcareService","http://hl7.org/fhir/StructureDefinition/Group","http://hl7.org/fhir/StructureDefinition/Location","http://hl7.org/fhir/StructureDefinition/Organization"]}]}}},MoneyQuantity:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},value:{type:[{code:"decimal"}]},comparator:{type:[{code:"code"}]},unit:{type:[{code:"string"}]},system:{type:[{code:"uri"}]},code:{type:[{code:"code"}]}}},SimpleQuantity:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},value:{type:[{code:"decimal"}]},comparator:{max:0,type:[{code:"code"}]},unit:{type:[{code:"string"}]},system:{type:[{code:"uri"}]},code:{type:[{code:"code"}]}}},IdentityProvider:{elements:{authorizeUrl:{min:1,type:[{code:"string"}]},tokenUrl:{min:1,type:[{code:"string"}]},tokenAuthMethod:{type:[{code:"code"}]},userInfoUrl:{min:1,type:[{code:"string"}]},clientId:{min:1,type:[{code:"string"}]},clientSecret:{min:1,type:[{code:"string"}]},usePkce:{type:[{code:"boolean"}]},useSubject:{type:[{code:"boolean"}]}}}};function JZ(e){return new tJ(e).parse()}var Wg=XZ(ZZ),iR=Object.create(null),uM=Object.create(null),eJ={"http://hl7.org/fhir/StructureDefinition/MoneyQuantity":"MoneyQuantity","http://hl7.org/fhir/StructureDefinition/SimpleQuantity":"SimpleQuantity","http://hl7.org/fhir/uv/sql-on-fhir/StructureDefinition/ViewDefinition":"ViewDefinition"};function $6(e){let t;return t=uM[e],t||(t=uM[e]=Object.create(null)),t}function dM(e){let t=(Array.isArray(e)?e:e.entry?.map(n=>n.resource)??[]).filter(n=>n?.resourceType==="StructureDefinition");WJ(t);for(let n of t)q6(n)}function q6(e){if(!e?.name)throw new Error("Failed loading StructureDefinition from bundle");if(e.resourceType!=="StructureDefinition")return;let t=JZ(e),n=eJ[e.url],r,a;n?(r=Wg,a=n):e.url===`http://hl7.org/fhir/StructureDefinition/${e.type}`||e.url===`https://medplum.com/fhir/StructureDefinition/${e.type}`||e.type?.startsWith("http://")||e.type?.startsWith("https://")?(r=Wg,a=e.type):(r=$6(e.url),a=e.type),r[a]=t;for(let i of t.innerTypes)i.parentType=t,r[i.name]=i;iR[e.url]=t}function U6(e){return!!Wg[e]}function Wh(e,t){if(t){let n=$6(t)[e];if(n)return n}return Wg[e]}function B6(e,t){let n=Wh(e,t);if(!n)throw new yt(Xo("Unknown data type: "+e));return n}function oR(e){return!!iR[e]}function nl(e){return iR[e]}var tJ=class{constructor(e){if(ve(this,"root"),ve(this,"elements"),ve(this,"elementIndex"),ve(this,"index"),ve(this,"resourceSchema"),ve(this,"slicingContext"),ve(this,"innerTypes"),ve(this,"backboneContext"),!e.snapshot?.element||e.snapshot.element.length===0)throw new Error(`No snapshot defined for StructureDefinition '${e.name}'`);this.root=e.snapshot.element[0],this.elements=e.snapshot.element.slice(1),this.elementIndex=Object.create(null),this.index=0,this.resourceSchema={name:e.name,path:this.root.path,title:e.title,type:e.type,url:e.url,version:e.version,kind:e.kind,description:aJ(e),elements:{},constraints:this.parseElementDefinition(this.root).constraints,innerTypes:[],summaryProperties:new Set,mandatoryProperties:new Set},this.innerTypes=[]}parse(){let e=this.next();for(;e;){if(e.sliceName)this.parseSliceStart(e);else if(e.id?.includes(":")){if(this.slicingContext?.current){let t=Vx(e,this.slicingContext.path);this.slicingContext.current.elements[t]=this.parseElementDefinition(e)}}else{let t=this.parseElementDefinition(e);this.checkFieldEnter(e,t);let n=this.backboneContext;for(;n;){if(e.path?.startsWith(n.path+".")){n.type.elements[Vx(e,n.path)]=t;break}n=n.parent}if(!n){let r=Vx(e,this.root.path);e.isSummary&&this.resourceSchema.summaryProperties?.add(r.replace("[x]","")),t.min>0&&this.resourceSchema.mandatoryProperties?.add(r.replace("[x]","")),this.resourceSchema.elements[r]=t}this.checkFieldExit(e)}e=this.next()}return this.checkFieldExit(),this.innerTypes.length>0&&(this.resourceSchema.innerTypes=this.innerTypes),this.resourceSchema}checkFieldEnter(e,t){this.isInnerType(e)&&this.enterInnerType(e),this.slicingContext&&!Nu(this.slicingContext.path,e?.path)&&(this.slicingContext=void 0),e.slicing&&!this.slicingContext&&this.enterSlice(e,t)}enterInnerType(e){for(;this.backboneContext&&!Nu(this.backboneContext?.path,e.path);)this.innerTypes.push(this.backboneContext.type),this.backboneContext=this.backboneContext.parent;let t=xM(e);this.backboneContext={type:{name:t,type:t,path:e.path,title:e.label,description:e.definition,elements:{},constraints:this.parseElementDefinition(e).constraints,innerTypes:[]},path:e.path,parent:Nu(this.backboneContext?.path,e.path)?this.backboneContext:this.backboneContext?.parent}}enterSlice(e,t){rJ(e)&&!this.peek()?.sliceName||(t.slicing={discriminator:(e.slicing?.discriminator??[]).map(n=>{if(n.type!=="value"&&n.type!=="pattern"&&n.type!=="type")throw new Error(`Unsupported slicing discriminator type: ${n.type}`);return{path:n.path,type:n.type}}),slices:[],ordered:e.slicing?.ordered??!1,rule:e.slicing?.rules},this.slicingContext={field:t.slicing,path:e.path??""})}checkFieldExit(e=void 0){if(this.backboneContext&&!Nu(this.backboneContext.path,e?.path))if(this.backboneContext.parent)do this.innerTypes.push(this.backboneContext.type),this.backboneContext=this.backboneContext.parent;while(this.backboneContext&&!Nu(this.backboneContext.path,e?.path));else this.innerTypes.push(this.backboneContext.type),this.backboneContext=void 0}next(){let e=this.peek();if(e)return this.index++,e}peek(){let e=this.elements[this.index];if(e){if(this.elementIndex[e.path??""]=e,e.contentReference){let t=e.contentReference.slice(e.contentReference.indexOf("#")+1),n=this.elementIndex[t];return n?{...n,id:e.id,path:e.path,min:e.min??n.min,max:e.max??n.max,base:{path:n.base?.path??t,min:e.base?.min??n.base?.min??n.min,max:e.base?.max??n.base?.max??n.max},contentReference:e.contentReference,definition:e.definition}:void 0}return e}}isInnerType(e){let t=this.peek();return!!(Nu(e?.path,t?.path)&&e.type?.some(n=>["BackboneElement","Element"].includes(n.code)))}parseSliceStart(e){if(!this.slicingContext)throw new Error(`Invalid slice start before discriminator: ${e.sliceName} (${e.id})`);this.slicingContext.current={...this.parseElementDefinition(e),name:e.sliceName??"",definition:e.definition,elements:{}},this.slicingContext.field.slices.push(this.slicingContext.current)}parseElementDefinitionType(e){return(e.type??[]).map(t=>{let n;return(t.code==="BackboneElement"||t.code==="Element")&&(n=xM(e)),n||(n=Pr(t,"http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type")?.valueUrl),n||(n=t.code??""),{code:n,targetProfile:t.targetProfile,profile:t.profile}})}parseElementDefinition(e){let t=fM(e.max),n=e.base?.max?fM(e.base.max):t,r={type:"ElementDefinition",value:e};return{description:e.definition||"",path:e.path||e.base?.path||"",min:e.min??0,max:t,isArray:n>1,constraints:(e.constraint??[]).map(a=>({key:a.key??"",severity:a.severity??"error",expression:a.expression??"",description:a.human??""})),type:this.parseElementDefinitionType(e),fixed:hM(pc(r,"fixed[x]")),pattern:hM(pc(r,"pattern[x]")),binding:e.binding}}};function fM(e){return e==="*"?Number.POSITIVE_INFINITY:Number.parseInt(e,10)}function Vx(e,t=""){return nJ(e.path,t)}function nJ(e,t){return e?t&&e.startsWith(t)?e.substring(t.length+1):e:""}function Nu(e,t){return!e||!t?!1:t.startsWith(e+".")||t===e}function hM(e){return Array.isArray(e)&&e.length>0?e[0]:An(e)?void 0:e}function rJ(e){let t=e.slicing?.discriminator;return!!(e.type?.some(n=>n.code==="Extension")&&t?.length===1&&t[0].type==="value"&&t[0].path==="url")}function aJ(e){let t=e.description;return t?.startsWith(`Base StructureDefinition for ${e.name} Type: `)&&(t=t.substring(`Base StructureDefinition for ${e.name} Type: `.length)),t}function iJ(e,t,n){if(e===void 0)return[void 0];if(t==="$this")return[e];let r=n?.withPath?H6:pc,[a,...i]=t.split("."),l=[r(e,a,n)];for(let u of i){let d=[];for(let h of l)if(Array.isArray(h))for(let p of h)d.push(r(p,u,n));else(n?.withPath&&h?.value!==void 0||!n?.withPath&&h!==void 0)&&d.push(r(h,u,n));l=d}return l}function H6(e,t,n){let r=e.path;return oJ(pc(e,t,n),r,t)}function oJ(e,t,n){let r=t?t+".":"";return e===void 0?{type:"undefined",value:void 0,path:`${r}${n}`}:Array.isArray(e)?e.map((a,i)=>({...a,path:`${r}${n}[${i}]`})):{...e,path:`${r}${n}`}}new nR(1e3);var F6={date:/^(\d(\d(\d[1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2]\d|3[0-1]))?)?$/,dateTime:/^(\d(\d(\d[1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2]\d|3[0-1])(T([01]\d|2[0-3])(:[0-5]\d:([0-5]\d|60)(\.\d{1,9})?)?)?)?(Z|[+-]((0\d|1[0-3]):[0-5]\d|14:00)?)?)?$/};function sJ(e,t,n,r){if(Array.isArray(e))return!1;let a;t.path==="$this"?a=n:a=(r??n.elements)[t.path];let i=n.type;switch(t.type){case"value":case"pattern":if(!e||!a)return!1;if(a.pattern)return cR(e,a.pattern);if(a.fixed)return gi(e,a.fixed);if(a.binding?.strength==="required"&&a.binding.valueSet)return!0;break;case"type":return!e||!i?.length?!1:i.some(l=>l.code===e.type)}return!1}function et(e){return[{type:fe.boolean,value:e}]}function Ha(e){return e==null?{type:"undefined",value:void 0}:Number.isSafeInteger(e)?{type:fe.integer,value:e}:typeof e=="number"?{type:fe.decimal,value:e}:typeof e=="boolean"?{type:fe.boolean,value:e}:typeof e=="string"?{type:fe.string,value:e}:hi(e)?{type:fe.Quantity,value:e}:$i(e)?{type:e.resourceType,value:e}:hy(e)?{type:fe.CodeableConcept,value:e}:fy(e)?{type:fe.Coding,value:e}:{type:fe.BackboneElement,value:e}}function uo(e){return e.length===0?!1:!!e[0].value}function ts(e,t){if(e.length!==0){if(e.length===1&&(!t||e[0].type===t))return e[0];throw new Error(`Expected singleton of type ${t}, but found ${JSON.stringify(e)}`)}}function pc(e,t,n){if(!e.value)return;let r=Qh(e.type,t,n?.profileUrl);return r?V6(e,t,r):Gh(e,t)}function V6(e,t,n){let r=e.value,a=n.type;if(!a||a.length===0)return;let i,l="undefined",u,d=n.path.lastIndexOf("."),h=n.path.substring(d+1);for(let p of a){let m=h.replace("[x]",rr(p.code));if(i=r[m],u=r["_"+m],i!==void 0||u!==void 0){l=p.code;break}}if(u)if(Array.isArray(i)){i=i.slice();for(let p=0;p<Math.max(i.length,u.length);p++)i[p]=Wx(i[p],u[p])}else if(!i&&Array.isArray(u)){i=u.slice();for(let p=0;p<u.length;p++)i[p]=Wx(void 0,u[p])}else i=Wx(i,u);if(!An(i))return(l==="Element"||l==="BackboneElement")&&(l=n.type[0].code),Array.isArray(i)?i.map(p=>pM(p,l)):pM(i,l)}function pM(e,t){return t==="Resource"&&$i(e)&&(t=e.resourceType),{type:t,value:e}}function Gh(e,t){let n=e.value;if(!n||typeof n!="object")return;let r;if(t in n){let a=n[t];Array.isArray(a)?r=a.map(Ha):r=Ha(a)}else{let a=t.endsWith("[x]")?t.substring(0,t.length-3):t;for(let i of Object.values(fe)){let l=a+rr(i);if(l in n){let u=n[l];Array.isArray(u)?r=u.map(d=>({type:i,value:d})):r={type:i,value:u};break}}}if(Array.isArray(r)){if(r.length===0||An(r[0]))return}else if(An(r))return;return r}function W6(e){let t=[];for(let n of e){let r=!1;for(let a of t)if(uo(dy(n,a))){r=!0;break}r||t.push(n)}return t}function lJ(e){return et(!uo(e))}function cJ(e,t){return e.length===0||t.length===0?[]:e.length!==t.length?et(!1):et(e.every((n,r)=>uo(dy(n,t[r]))))}function uJ(e,t){return e.length===0||t.length===0?[]:e.length!==t.length?et(!0):et(e.some((n,r)=>!uo(dy(n,t[r]))))}function dy(e,t){let n=e.value?.valueOf(),r=t.value?.valueOf();return typeof n=="number"&&typeof r=="number"?et(Math.abs(n-r)<1e-8):hi(n)&&hi(r)?et(Z6(n,r)):et(typeof n=="object"&&typeof r=="object"?sR(e,t):n===r)}function G6(e,t){return e.length===0&&t.length===0?et(!0):e.length!==t.length?et(!1):(e.sort(mM),t.sort(mM),et(e.every((n,r)=>uo(dJ(n,t[r])))))}function dJ(e,t){let{type:n,value:r}=e,{type:a,value:i}=t,l=r?.valueOf(),u=i?.valueOf();return typeof l=="number"&&typeof u=="number"?et(Math.abs(l-u)<.01):hi(l)&&hi(u)?et(Z6(l,u)):et(n==="Coding"&&a==="Coding"?typeof l!="object"||typeof u!="object"?!1:l.code===u.code&&l.system===u.system:typeof l=="object"&&typeof u=="object"?sR({...l,id:void 0},{...u,id:void 0}):typeof l=="string"&&typeof u=="string"?l.toLowerCase()===u.toLowerCase():l===u)}function mM(e,t){let n=e.value?.valueOf(),r=t.value?.valueOf();return typeof n=="number"&&typeof r=="number"?n-r:typeof n=="string"&&typeof r=="string"?n.localeCompare(r):0}function Y6(e,t){let{value:n}=e;if(n==null)return!1;let r=t;switch(r.startsWith("System.")&&(r=r.substring(7)),r.startsWith("FHIR.")&&(r=r.substring(5)),r){case"Boolean":return typeof n=="boolean";case"Decimal":case"Integer":return typeof n=="number";case"Date":return Q6(n);case"DateTime":return ch(n);case"Time":return typeof n=="string"&&!!/^T\d/.exec(n);case"Period":return K6(n);case"Quantity":return hi(n);default:return e.type===r||typeof n=="object"&&n?.resourceType===r}}function Q6(e){return typeof e=="string"&&!!F6.date.exec(e)}function ch(e){return typeof e=="string"&&!!F6.dateTime.exec(e)}function K6(e){return!!(e&&typeof e=="object"&&("start"in e&&ch(e.start)||"end"in e&&ch(e.end)))}function X6(e){if(e){if(Q6(e)||ch(e))return{start:qm(e,"0000-01-01T00:00:00.000"),end:qm(e,"xxxx-12-31T23:59:59.999")};if(K6(e))return{start:e.start?qm(e.start,"0000-01-01T00:00:00.000"):void 0,end:e.end?qm(e.end,"xxxx-12-31T23:59:59.999"):void 0}}}function qm(e,t){let n="Z",r=Math.max(e.indexOf("+",10),e.indexOf("-",10));r>-1?(n=e.substring(r),e=e.substring(0,r)):e.endsWith("Z")&&(e=e.substring(0,e.length-1));let a=e+t.substring(e.length)+n;return new Date(a).toISOString()}function hi(e){return!!(e&&typeof e=="object"&&"value"in e&&typeof e.value=="number")}function Z6(e,t){return Math.abs(e.value-t.value)<.01&&(e.unit===t.unit||e.code===t.code||e.unit===t.code||e.code===t.unit)}function sR(e,t){let n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let a of n){let i=e[a],l=t[a];if(gM(i)&&gM(l)){if(!sR(i,l))return!1}else if(i!==l)return!1}return!0}function gM(e){return e!==null&&typeof e=="object"}function Wx(e,t){if(t){if(typeof t!="object")throw new Error("Primitive extension must be an object");return fJ(e??{},t)}return e}function fJ(e,t){return delete t.__proto__,delete t.constructor,Object.assign(e,t)}function J6(e,t){return $i(e,t)&&"id"in e&&typeof e.id=="string"}function ke(e){let t=Me(e)??"undefined/undefined",n=nr(e);return n===t?{reference:t}:{reference:t,display:n}}function Me(e){if($a(e))return e.reference;if(J6(e))return`${e.resourceType}/${e.id}`}function sd(e){if(e)return $a(e)?e.reference.split("/")[1]:e.id}function hJ(e){return e.resourceType==="Patient"||e.resourceType==="Practitioner"||e.resourceType==="RelatedPerson"}function nr(e){if(hJ(e)){let t=pJ(e);if(t)return t}if(e.resourceType==="Device"){let t=mJ(e);if(t)return t}if(e.resourceType==="MedicationRequest"&&e.medicationCodeableConcept)return rl(e.medicationCodeableConcept);if(e.resourceType==="Subscription"&&e.criteria)return e.criteria;if(e.resourceType==="User"&&e.email)return e.email;if("name"in e&&e.name&&typeof e.name=="string")return e.name;if("code"in e&&e.code){let t=e.code;if(Array.isArray(t)&&(t=t[0]),hy(t))return rl(t);if(_J(t))return t.text}return Me(e)??""}function pJ(e){let t=e.name;if(t&&t.length>0)return Gn(t[0])}function mJ(e){let t=e.deviceName;if(t&&t.length>0)return t[0].name}function gJ(e){if(!("photo"in e))return;let t=e.photo;if(t)if(Array.isArray(t))for(let n of t){let r=vM(n);if(r)return r}else return vM(t)}function vM(e){if(e.url&&e.contentType?.startsWith("image/"))return e.url}function ez(e,t){let n=new Date(e);n.setUTCHours(0,0,0,0);let r=t?new Date(t):new Date;r.setUTCHours(0,0,0,0);let a=n.getUTCFullYear(),i=n.getUTCMonth(),l=n.getUTCDate(),u=r.getUTCFullYear(),d=r.getUTCMonth(),h=r.getUTCDate(),p=u-a;(d<i||d===i&&h<l)&&p--;let m=u*12+d-(a*12+i);h<l&&m--;let g=Math.floor((r.getTime()-n.getTime())/(1e3*60*60*24));return{years:p,months:m,days:g}}function vJ(e,t){let{years:n,months:r,days:a}=ez(e,t);return n>=2?n.toString().padStart(3,"0")+"Y":r>=1?r.toString().padStart(3,"0")+"M":a.toString().padStart(3,"0")+"D"}function yJ(e){let t={};return tz(e.item,t),t}function tz(e,t){if(e)for(let n of e)n.linkId&&n.answer&&n.answer.length>0&&(t[n.linkId]=n.answer[0]),tz(n.item,t)}function bJ(e){let t={};return nz(e.item,t),t}function nz(e,t){if(e)for(let n of e)n.linkId&&n.answer&&n.answer.length>0&&(t[n.linkId]?t[n.linkId]=[...t[n.linkId],...n.answer]:t[n.linkId]=n.answer),nz(n.item,t)}function xJ(e,t){let n=e.identifier;if(!n)return;let r=Array.isArray(n)?n:[n];for(let a of r)if(a.system===t)return a.value}function Sj(e,...t){let n=Pr(e,...t);if(!n)return;let r=pc({type:"Extension",value:n},"value[x]");if(r)return Array.isArray(r)?r[0].value:r.value}function Pr(e,...t){let n=e;for(let r=0;r<t.length&&n;r++)n=n?.extension?.find(a=>a.url===t[r]);return n}function ld(e,t){let n=lR(e);return JSON.stringify(n,null,void 0)??""}function lR(e){if(!(e==null||e===""))return typeof e=="object"?Array.isArray(e)?SJ(e):wJ(e):e}function SJ(e){let t=e.length;if(t===0)return;let n,r=0;for(let a=0;a<t;a++){let i=e[a],l=lR(i);l!==i&&!n&&(n=Array.from(e)),l===void 0?n&&(n[a]=null):(n&&(n[a]=l),r++)}if(r!==0)return n??e}function wJ(e){let t,n=0;for(let r in e){let a=e[r],i=lR(a);i!==a&&!t&&(t={...e}),i===void 0?t&&delete t[r]:(t&&(t[r]=i),n++)}if(n!==0)return t??e}function An(e){if(e==null)return!0;let t=typeof e;return t==="string"||t==="object"?!Fn(e):!1}function Fn(e){if(e==null)return!1;let t=typeof e;return t==="string"&&e!==""||t==="object"&&("length"in e&&e.length>0||Object.keys(e).length>0)}function CJ(e){if(!e)return;let t=e.length-1;for(;t>=0&&An(e[t]);)t--;return t>=0?e.slice(0,t+1):void 0}function gi(e,t,n){return e===t||An(e)&&An(t)?!0:An(e)||An(t)?!1:Array.isArray(e)&&Array.isArray(t)?jJ(e,t):Array.isArray(e)||Array.isArray(t)?!1:na(e)&&na(t)?EJ(e,t,n):!1}function jJ(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!gi(e[n],t[n]))return!1;return!0}function EJ(e,t,n){let r=new Set;Object.keys(e).forEach(a=>r.add(a)),Object.keys(t).forEach(a=>r.add(a)),n==="meta"&&(r.delete("versionId"),r.delete("lastUpdated"),r.delete("author"));for(let a of r){let i=e[a],l=t[a];if(!gi(i,l,a))return!1}return!0}function cR(e,t){return An(e)?!0:An(t)?!1:Array.isArray(e)&&Array.isArray(t)?TJ(e,t):Array.isArray(e)||Array.isArray(t)?!1:na(e)&&na(t)?RJ(e,t):na(e)||na(t)?!1:e===t}function TJ(e,t){return t.every(n=>e.some(r=>cR(r,n)))}function RJ(e,t){return Object.entries(t).every(([n,r])=>n in e&&cR(e[n],r))}function Hi(e){return e===void 0?e:JSON.parse(JSON.stringify(e))}function rz(e){return/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i.test(e)}function na(e){return e!==null&&typeof e=="object"}function az(e){return typeof e=="string"}function fy(e){return na(e)&&"code"in e&&typeof e.code=="string"}function hy(e){return na(e)&&"coding"in e&&Array.isArray(e.coding)&&e.coding.every(fy)}function _J(e){return na(e)&&"text"in e&&typeof e.text=="string"}var iz=[];for(let e=0;e<256;e++)iz.push(e.toString(16).padStart(2,"0"));function DJ(e){let t=oz(e),n=new Uint8Array(t),r=new Array(n.length);for(let a=0;a<n.length;a++)r[a]=iz[n[a]];return r.join("")}function AJ(e){let t=oz(e),n=new Uint8Array(t),r=new Array(n.length);for(let a=0;a<n.length;a++)r[a]=String.fromCodePoint(n[a]);return window.btoa(r.join(""))}function oz(e){return ArrayBuffer.isView(e)?e.buffer:e}function rr(e){return e?e.charAt(0).toUpperCase()+e.substring(1):""}function uR(e){return e.length>0&&e.startsWith(e[0].toUpperCase())}function nc(e,t){let n=e+".";if(t.startsWith(n))return t.slice(n.length)}function yM(e,t){return e.coding?.find(n=>n.system===t)?.code}function sz(e){if(e!==void 0)return Array.isArray(e)?e:[e]}var bM=e=>new Promise(t=>{setTimeout(t,e)});function wj(e,t,n){let r=[];for(let a=0;a<n-1;a++){let i=e.indexOf(t);if(i<0)break;r.push(e.slice(0,i)),e=e.slice(i+t.length)}return r.push(e),r}function OJ(e){let t,n=!1;return function(){return n||(t=e(),n=!0),t}}function Of(e,t){return e?(e.push(t),e):[t]}function dR(e){return e.sort((t,n)=>t.localeCompare(n))}function lz(e){return e.endsWith("/")?e:e+"/"}function kJ(e){return e.startsWith("/")?e.slice(1):e}function ro(e,t){return new URL(kJ(t),lz(e.toString())).toString()}function MJ(e,t){return ro(e,t).toString().replace("http://","ws://").replace("https://","wss://")}function PJ(e){return typeof e=="object"&&!Array.isArray(e)&&!(e instanceof URLSearchParams)&&(e=Object.fromEntries(Object.entries(e).filter(t=>t[1]!==void 0))),new URLSearchParams(e).toString()}function $c(e,t){return e?.meta?.profile?.includes(t)||(e.meta=e.meta??{},e.meta.profile=e.meta.profile??[],e.meta.profile.push(t)),e}function mc(e){if(!e)return"";switch(e.type){case"Address":return fR(e.value);case"CodeableConcept":return rl(e.value);case"Coding":return gc(e.value);case"ContactPoint":return e.value.value;case"HumanName":return Gn(e.value);case"Quantity":return oo(e.value);case"Reference":return NJ(e.value);default:return e.value?.toString()??""}}function NJ(e){return e?e.display??e.reference??ld(e):""}function fR(e,t){if(!e)return"";let n=[];if(e.line&&n.push(...e.line),e.city||e.state||e.postalCode){let r=[];e.city&&r.push(e.city),e.state&&r.push(e.state),e.postalCode&&r.push(e.postalCode),n.push(r.join(", "))}return e.use&&t?.use&&n.push("["+e.use+"]"),n.join(", ").trim()}function Gn(e,t){if(!e)return"";let n=[];if(e.prefix&&t?.prefix!==!1&&n.push(...e.prefix),e.given&&n.push(...e.given),e.family&&n.push(e.family),e.suffix&&t?.suffix!==!1&&n.push(...e.suffix),e.use&&(t?.all||t?.use)&&n.push("["+e.use+"]"),n.length===0){let r=Ku(e.text);if(r)return r}return n.join(" ").trim()}function Yh(e){return e instanceof Date&&!Number.isNaN(e.getTime())}function bn(e,t,n){if(!e)return"";let r=new Date(e);return Yh(r)?(r.setUTCHours(0,0,0,0),r.toLocaleDateString(t,{timeZone:"UTC",...n})):""}function IJ(e,t,n){if(!e)return"";let r=new Date("2000-01-01T"+e+"Z");return Yh(r)?r.toLocaleTimeString(t,n):""}function Gr(e,t,n){if(!e)return"";let r=new Date(e);return Yh(r)?r.toLocaleString(t,n):""}function LJ(e,t,n){return!e||!e.start&&!e.end?"":Gr(e.start,t,n)+" - "+Gr(e.end,t,n)}var zJ={s:"every second",min:"every minute",h:"hourly",d:"daily",wk:"weekly",mo:"monthly",a:"annually"},$J={s:"second",min:"minute",h:"hour",d:"day",wk:"week",mo:"month",a:"year"},qJ={s:"seconds",min:"minutes",h:"hours",d:"days",wk:"weeks",mo:"months",a:"years"};function cz(e){if(!e)return"";let t=[];return UJ(t,e.repeat),e.event&&t.push(e.event.map(n=>Gr(n)).join(", ")),rr(t.join(" ").trim())}function UJ(e,t){if(!t?.periodUnit)return;let n=t.frequency??1,r=t.period??1,a=t.periodUnit;n===1&&r===1?e.push(zJ[a]):(n===1?e.push("once"):e.push(n+" times"),r===1?e.push("per "+$J[a]):e.push("per "+r+" "+qJ[a])),t.dayOfWeek&&e.push("on "+t.dayOfWeek.map(rr).join(", ")),t.timeOfDay&&e.push("at "+t.timeOfDay.map(i=>IJ(i)).join(", "))}function BJ(e,t,n=!1){if(n&&t===void 0)throw new Error("Precision must be specified for exclusive ranges");let r=e?.low&&{...e.low,comparator:void 0},a=e?.high&&{...e.high,comparator:void 0};return r?.value===void 0&&a?.value===void 0?"":r?.value!==void 0&&a?.value===void 0?n&&t!==void 0?(r.value=VJ(r.value),`> ${oo(r)}`):`>= ${oo(r)}`:r?.value===void 0&&a?.value!==void 0?n&&t!==void 0?(a.value=FJ(a.value),`< ${oo(a)}`):`<= ${oo(a)}`:(r?.unit===a?.unit&&delete r?.unit,`${oo(r)} - ${oo(a)}`)}function oo(e,t){if(!e)return"";let n=[];return e.comparator&&(n.push(e.comparator),n.push(" ")),e.value!==void 0&&n.push(e.value),e.unit&&(e.unit!=="%"&&n.at(-1)!==" "&&n.push(" "),n.push(e.unit)),n.join("").trim()}function HJ(e){return e?.value===void 0?"":e.value.toLocaleString(void 0,{style:"currency",currency:e.currency??"USD",currencyDisplay:"narrowSymbol"})}function rl(e){return e?Ku(e.text)||(e.coding?e.coding.map(n=>gc(n)).join(", "):""):""}function gc(e,t){let n=Ku(e?.display);if(n){let r=t?Ku(e?.code):void 0;return`${n}${r?" ("+r+")":""}`}return Ku(e?.code)??""}function uz(e){if(!e)return"";let t=[];if(e.valueQuantity)t.push(oo(e.valueQuantity));else if(e.valueCodeableConcept)t.push(rl(e.valueCodeableConcept));else{let n=Ku(e.valueString);n&&t.push(n)}return"component"in e&&t.push(e.component.map(n=>uz(n)).join(" / ")),t.join(" / ").trim()}function Ku(e){return typeof e=="string"?e:void 0}function FJ(e,t,n=1){return(dz(e)+n)*Math.pow(10,NaN)}function VJ(e,t,n=1){return(dz(e)-n)*Math.pow(10,NaN)}function dz(e,t){return e}var fe={Address:"Address",Age:"Age",Annotation:"Annotation",Attachment:"Attachment",BackboneElement:"BackboneElement",CodeableConcept:"CodeableConcept",Coding:"Coding",ContactDetail:"ContactDetail",ContactPoint:"ContactPoint",Contributor:"Contributor",Count:"Count",DataRequirement:"DataRequirement",Distance:"Distance",Dosage:"Dosage",Duration:"Duration",Element:"Element",ElementDefinition:"ElementDefinition",Expression:"Expression",Extension:"Extension",HumanName:"HumanName",Identifier:"Identifier",MarketingStatus:"MarketingStatus",Meta:"Meta",Money:"Money",MoneyQuantity:"MoneyQuantity",Narrative:"Narrative",ParameterDefinition:"ParameterDefinition",Period:"Period",Population:"Population",ProdCharacteristic:"ProdCharacteristic",ProductShelfLife:"ProductShelfLife",Quantity:"Quantity",Range:"Range",Ratio:"Ratio",Reference:"Reference",RelatedArtifact:"RelatedArtifact",SampledData:"SampledData",Signature:"Signature",SimpleQuantity:"SimpleQuantity",SubstanceAmount:"SubstanceAmount",SystemString:"http://hl7.org/fhirpath/System.String",Timing:"Timing",TriggerDefinition:"TriggerDefinition",UsageContext:"UsageContext",base64Binary:"base64Binary",boolean:"boolean",canonical:"canonical",code:"code",date:"date",dateTime:"dateTime",decimal:"decimal",id:"id",instant:"instant",integer:"integer",markdown:"markdown",oid:"oid",positiveInt:"positiveInt",string:"string",time:"time",unsignedInt:"unsignedInt",uri:"uri",url:"url",uuid:"uuid",xhtml:"xhtml"};function WJ(e){let t=Array.isArray(e)?e:e.entry?.map(n=>n.resource)??[];for(let n of t)n?.resourceType==="StructureDefinition"&&n.kind==="resource"&&fz(n.type)}function fz(e){let t=bo.types[e];return t||(t={searchParamsDetails:{}},bo.types[e]=t),!t.searchParams&&e!=="Binary"&&(t.searchParams={_id:{base:[e],code:"_id",type:"token",expression:e+".id"},_lastUpdated:{base:[e],code:"_lastUpdated",type:"date",expression:e+".meta.lastUpdated"},_compartment:{base:[e],code:"_compartment",type:"reference",expression:e+".meta.compartment"},_profile:{base:[e],code:"_profile",type:"uri",expression:e+".meta.profile"},_security:{base:[e],code:"_security",type:"token",expression:e+".meta.security"},_source:{base:[e],code:"_source",type:"uri",expression:e+".meta.source"},_tag:{base:[e],code:"_tag",type:"token",expression:e+".meta.tag"}}),t}function GJ(e){for(let t of e.base??[]){let n=fz(t);n.searchParams||(n.searchParams={}),n.searchParams[e.code]=e}}function xM(e){let t=e.type?.[0]?.code;return t==="BackboneElement"||t==="Element"?YJ((e.base?.path??e.path)?.split(".")):t}function YJ(e){return e.length===1?e[0]:e.map(rr).join("")}function hR(e){return bo.types[e]?.searchParams}function QJ(e,t){return bo.types[e]?.searchParams?.[t]}function vc(e){let t=e.replaceAll("[x]","").split(".").pop();return hz(t)}function hz(e){let t;return e.length<100?t=e.match(/[A-Z]+(?![a-z])|[A-Z]?[a-z]+|\d+/g)??[]:t=e.split(/(?=[A-Z])/),t.map(XJ).join(" ").replace("_"," ").replaceAll(/\s+/g," ")}var KJ=new Set(["CDS","ID","IP","PKCE","JWKS","URI","URL","OMB","UDI"]);function XJ(e){let t=e.toUpperCase();return e===t?e:KJ.has(t)?t:t.charAt(0)+e.slice(1)}function Qh(e,t,n){let r=Wh(e,n);if(r)return ZJ(r.elements,t)}function ZJ(e,t){let n=e[t]??e[t+"[x]"];if(n)return n;for(let r=0;r<t.length;r++){let a=t[r];if(a>="A"&&a<="Z"){let i=t.slice(0,r)+"[x]",l=e[i];if(l)return l}}}function $i(e,t){return!(!e||typeof e!="object"||!("resourceType"in e)||t&&e.resourceType!==t)}function $a(e,t){return!!(e&&typeof e=="object"&&"reference"in e&&typeof e.reference=="string")}var bo={types:{}};function pg(e){if(e.startsWith("T"))return e+"T00:00:00.000Z".substring(e.length);if(e.length<=10)return e;try{return new Date(e).toISOString()}catch{return e}}var Fo=()=>[],da={empty:(e,t)=>et(t.every(n=>An(n.value))),hasValue:(e,t)=>et(t.length!==0),exists:(e,t,n)=>et(n?t.some(r=>uo(n.eval(e,[r]))):t.length>0&&t.every(r=>!An(r.value))),all:(e,t,n)=>et(t.every(r=>uo(n.eval(e,[r])))),allTrue:(e,t)=>{for(let n of t)if(!n.value)return et(!1);return et(!0)},anyTrue:(e,t)=>{for(let n of t)if(n.value)return et(!0);return et(!1)},allFalse:(e,t)=>{for(let n of t)if(n.value)return et(!1);return et(!0)},anyFalse:(e,t)=>{for(let n of t)if(!n.value)return et(!0);return et(!1)},subsetOf:(e,t,n)=>{if(t.length===0)return et(!0);let r=n.eval(e,Ul(e));return r.length===0?et(!1):et(t.every(a=>r.some(i=>i.value===a.value)))},supersetOf:(e,t,n)=>{let r=n.eval(e,Ul(e));return r.length===0?et(!0):t.length===0?et(!1):et(r.every(a=>t.some(i=>i.value===a.value)))},count:(e,t)=>[{type:fe.integer,value:t.length}],distinct:(e,t)=>{let n=[];for(let r of t)n.some(a=>a.value===r.value)||n.push(r);return n},isDistinct:(e,t)=>et(t.length===da.distinct(e,t).length),where:(e,t,n)=>t.filter(r=>uo(n.eval(e,[r]))),select:(e,t,n)=>t.flatMap(r=>n.eval({parent:e,variables:{$this:r}},[r])),repeat:Fo,ofType:(e,t,n)=>t.filter(r=>r.type===n.name),single:(e,t)=>{if(t.length>1)throw new Error("Expected input length one for single()");return t.length===0?[]:t.slice(0,1)},first:(e,t)=>t.length===0?[]:t.slice(0,1),last:(e,t)=>t.length===0?[]:t.slice(-1,t.length),tail:(e,t)=>t.length===0?[]:t.slice(1,t.length),skip:(e,t,n)=>{let r=n.eval(e,t)[0]?.value;if(typeof r!="number")throw new TypeError("Expected a number for skip(num)");return r>=t.length?[]:r<=0?t:t.slice(r,t.length)},take:(e,t,n)=>{let r=n.eval(e,t)[0]?.value;if(typeof r!="number")throw new TypeError("Expected a number for take(num)");return r>=t.length?t:r<=0?[]:t.slice(0,r)},intersect:(e,t,n)=>{if(!n)return t;let r=n.eval(e,Ul(e)),a=[];for(let i of t)!a.some(l=>l.value===i.value)&&r.some(l=>l.value===i.value)&&a.push(i);return a},exclude:(e,t,n)=>{if(!n)return t;let r=n.eval(e,Ul(e)),a=[];for(let i of t)r.some(l=>l.value===i.value)||a.push(i);return a},union:(e,t,n)=>{if(!n)return t;let r=n.eval(e,Ul(e));return W6([...t,...r])},combine:(e,t,n)=>{if(!n)return t;let r=n.eval(e,Ul(e));return[...t,...r]},htmlChecks:(e,t,n)=>[Ha(!0)],iif:(e,t,n,r,a)=>{let i=n.eval(e,t);if(i.length>1||i.length===1&&typeof i[0].value!="boolean")throw new Error("Expected criterion to evaluate to a Boolean");return uo(i)?r.eval(e,t):a?a.eval(e,t):[]},toBoolean:(e,t)=>{if(t.length===0)return[];let[{value:n}]=ao(t,1);if(typeof n=="boolean")return[{type:fe.boolean,value:n}];if(typeof n=="number"&&(n===0||n===1))return et(!!n);if(typeof n=="string"){let r=n.toLowerCase();if(["true","t","yes","y","1","1.0"].includes(r))return et(!0);if(["false","f","no","n","0","0.0"].includes(r))return et(!1)}return[]},convertsToBoolean:(e,t)=>t.length===0?[]:et(da.toBoolean(e,t).length===1),toInteger:(e,t)=>{if(t.length===0)return[];let[{value:n}]=ao(t,1);return typeof n=="number"?[{type:fe.integer,value:n}]:typeof n=="string"&&/^[+-]?\d+$/.exec(n)?[{type:fe.integer,value:Number.parseInt(n,10)}]:typeof n=="boolean"?[{type:fe.integer,value:n?1:0}]:[]},convertsToInteger:(e,t)=>t.length===0?[]:et(da.toInteger(e,t).length===1),toDate:(e,t)=>{if(t.length===0)return[];let[{value:n}]=ao(t,1);return typeof n=="string"&&/^\d{4}(-\d{2}(-\d{2})?)?/.exec(n)?[{type:fe.date,value:pg(n)}]:[]},convertsToDate:(e,t)=>t.length===0?[]:et(da.toDate(e,t).length===1),toDateTime:(e,t)=>{if(t.length===0)return[];let[{value:n}]=ao(t,1);return typeof n=="string"&&/^\d{4}(-\d{2}(-\d{2})?)?/.exec(n)?[{type:fe.dateTime,value:pg(n)}]:[]},convertsToDateTime:(e,t)=>t.length===0?[]:et(da.toDateTime(e,t).length===1),toDecimal:(e,t)=>{if(t.length===0)return[];let[{value:n}]=ao(t,1);return typeof n=="number"?[{type:fe.decimal,value:n}]:typeof n=="string"&&/^-?\d{1,9}(\.\d{1,9})?$/.exec(n)?[{type:fe.decimal,value:Number.parseFloat(n)}]:typeof n=="boolean"?[{type:fe.decimal,value:n?1:0}]:[]},convertsToDecimal:(e,t)=>t.length===0?[]:et(da.toDecimal(e,t).length===1),toQuantity:(e,t)=>{if(t.length===0)return[];let[{value:n}]=ao(t,1);return hi(n)?[{type:fe.Quantity,value:n}]:typeof n=="number"?[{type:fe.Quantity,value:{value:n,unit:"1"}}]:typeof n=="string"&&/^-?\d{1,9}(\.\d{1,9})?/.exec(n)?[{type:fe.Quantity,value:{value:Number.parseFloat(n),unit:"1"}}]:typeof n=="boolean"?[{type:fe.Quantity,value:{value:n?1:0,unit:"1"}}]:[]},convertsToQuantity:(e,t)=>t.length===0?[]:et(da.toQuantity(e,t).length===1),toString:(e,t)=>{if(t.length===0)return[];let[{value:n}]=ao(t,1);return n==null?[]:hi(n)?[{type:fe.string,value:`${n.value} '${n.unit}'`}]:[{type:fe.string,value:n.toString()}]},convertsToString:(e,t)=>t.length===0?[]:et(da.toString(e,t).length===1),toTime:(e,t)=>{if(t.length===0)return[];let[{value:n}]=ao(t,1);if(typeof n=="string"){let r=/^T?(\d{2}(:\d{2}(:\d{2})?)?)/.exec(n);if(r)return[{type:fe.time,value:pg("T"+r[1])}]}return[]},convertsToTime:(e,t)=>t.length===0?[]:et(da.toTime(e,t).length===1),indexOf:(e,t,n)=>si((r,a)=>r.indexOf(a),e,t,n),substring:(e,t,n,r)=>si((a,i,l)=>{let u=i,d=l?u+l:a.length;return u<0||u>=a.length?void 0:a.substring(u,d)},e,t,n,r),startsWith:(e,t,n)=>si((r,a)=>r.startsWith(a),e,t,n),endsWith:(e,t,n)=>si((r,a)=>r.endsWith(a),e,t,n),contains:(e,t,n)=>si((r,a)=>r.includes(a),e,t,n),upper:(e,t)=>si(n=>n.toUpperCase(),e,t),lower:(e,t)=>si(n=>n.toLowerCase(),e,t),replace:(e,t,n,r)=>si((a,i,l)=>a.replaceAll(i,l),e,t,n,r),matches:(e,t,n)=>si((r,a)=>!!new RegExp(a).exec(r),e,t,n),replaceMatches:(e,t,n,r)=>si((a,i,l)=>a.replaceAll(new RegExp(i,"g"),l.replaceAll(/\$\{(\w+)\}/g,"$<$1>")),e,t,n,r),length:(e,t)=>si(n=>n.length,e,t),toChars:(e,t)=>si(n=>n?n.split(""):void 0,e,t),encode:Fo,decode:Fo,escape:Fo,unescape:Fo,trim:Fo,split:Fo,join:(e,t,n)=>{let r=n?.eval(e,Ul(e))[0]?.value??"";if(typeof r!="string")throw new TypeError("Separator must be a string.");return[{type:fe.string,value:t.map(a=>a.value?.toString()??"").join(r)}]},abs:(e,t)=>to(Math.abs,e,t),ceiling:(e,t)=>to(Math.ceil,e,t),exp:(e,t)=>to(Math.exp,e,t),floor:(e,t)=>to(Math.floor,e,t),ln:(e,t)=>to(Math.log,e,t),log:(e,t,n)=>to((r,a)=>Math.log(r)/Math.log(a),e,t,n),power:(e,t,n)=>to(Math.pow,e,t,n),round:(e,t,...n)=>to((r,a=0)=>{if(typeof a!="number"||a<0)throw new Error("Invalid precision provided to round()");let i=Math.pow(10,a);return Math.round(r*i)/i},e,t,...n),sqrt:(e,t)=>to(Math.sqrt,e,t),truncate:(e,t)=>to(n=>Math.trunc(n),e,t),children:Fo,descendants:Fo,trace:(e,t,n)=>t,now:()=>[{type:fe.dateTime,value:new Date().toISOString()}],timeOfDay:()=>[{type:fe.time,value:new Date().toISOString().substring(11)}],today:()=>[{type:fe.date,value:new Date().toISOString().substring(0,10)}],between:(e,t,n,r,a)=>{let i=da.toDateTime(e,n.eval(e,t));if(i.length===0)throw new Error("Invalid start date");let l=da.toDateTime(e,r.eval(e,t));if(l.length===0)throw new Error("Invalid end date");let u=a.eval(e,t)[0]?.value;if(u!=="years"&&u!=="months"&&u!=="days")throw new Error("Invalid units");let d=ez(i[0].value,l[0].value);return[{type:fe.Quantity,value:{value:d[u],unit:u}}]},is:(e,t,n)=>{let r="";return n instanceof uh?r=n.name:n instanceof py&&(r=n.left.name+"."+n.right.name),r?t.map(a=>({type:fe.boolean,value:Y6(a,r)})):[]},not:(e,t)=>da.toBoolean(e,t).map(n=>({type:fe.boolean,value:!n.value})),resolve:(e,t)=>t.map(n=>{let r=n.value,a;if(typeof r=="string")a=r;else if(typeof r=="object"){let i=r;if(i.resource)return Ha(i.resource);i.reference?a=i.reference:i.type&&i.identifier&&(a=`${i.type}?identifier=${i.identifier.system}|${i.identifier.value}`)}if(a?.includes("?")){let[i]=a.split("?");return{type:i,value:{resourceType:i}}}if(a?.includes("/")){let[i,l]=a.split("/");return{type:i,value:{resourceType:i,id:l}}}return{type:fe.BackboneElement,value:void 0}}).filter(n=>!!n.value),as:(e,t)=>t,type:(e,t)=>t.map(({value:n})=>typeof n=="boolean"?{type:fe.BackboneElement,value:{namespace:"System",name:"Boolean"}}:typeof n=="number"?{type:fe.BackboneElement,value:{namespace:"System",name:"Integer"}}:$i(n)?{type:fe.BackboneElement,value:{namespace:"FHIR",name:n.resourceType}}:{type:fe.BackboneElement,value:null}),conformsTo:(e,t,n)=>{let r=n.eval(e,t)[0].value;if(!r.startsWith("http://hl7.org/fhir/StructureDefinition/"))throw new Error("Expected a StructureDefinition URL");let a=r.replace("http://hl7.org/fhir/StructureDefinition/","");return t.map(i=>({type:fe.boolean,value:i.value?.resourceType===a}))},getResourceKey:(e,t)=>{let n=t[0].value;return n?.id?[{type:fe.id,value:n.id}]:[]},getReferenceKey:(e,t,n)=>{let r=t[0].value;if(!r?.reference)return[];let a="";return n instanceof uh&&(a=n.name),a&&!r.reference.startsWith(a+"/")?[]:[{type:fe.id,value:sd(r)}]},extension:(e,t,n)=>{let r=n.eval(e,t)[0].value,a=t?.[0]?.value;if(a){let i=Pr(a,r);if(i)return[{type:fe.Extension,value:i}]}return[]}};function si(e,t,n,...r){if(n.length===0)return[];let[{value:a}]=ao(n,1);if(typeof a!="string")throw new TypeError("String function cannot be called with non-string");let i=r.map(u=>u?.eval(t,n)[0]?.value),l=e(a,...i);return l===void 0?[]:Array.isArray(l)?l.map(Ha):[Ha(l)]}function to(e,t,n,...r){if(n.length===0)return[];let[{value:a}]=ao(n,1),i=hi(a),l=i?a.value:a;if(typeof l!="number")throw new TypeError("Math function cannot be called with non-number");let u=e(l,...r.map(p=>p.eval(t,n)[0]?.value)),d=i?fe.Quantity:n[0].type,h=i?{...a,value:u}:u;return[{type:d,value:h}]}function ao(e,t){if(e.length!==t)throw new Error(`Expected ${t} arguments`);for(let n of e)if(n==null)throw new Error("Expected non-null argument");return e}function Ul(e){let t=e;for(;t.parent?.variables.$this;)t=t.parent;return[t.variables.$this]}var pR=class{constructor(e,t){ve(this,"original"),ve(this,"child"),this.original=e,this.child=t}eval(e,t){try{if(t.length>0){let n=[];for(let r of t)n.push(this.child.eval({parent:e,variables:{$this:r}},[r]));return n.flat()}else return this.child.eval(e,[])}catch(n){throw new Error(`FhirPathError on "${this.original}": ${n}`,{cause:n})}}toString(){return this.child.toString()}},Iu=class{constructor(t){ve(this,"value"),this.value=t}eval(){return[this.value]}toString(){let t=this.value.value;return typeof t=="string"?`'${t}'`:t.toString()}},uh=class{constructor(t){ve(this,"name"),this.name=t}eval(t,n){if(this.name==="$this")return n;let r=this.getVariable(t);if(r)return[r];if(this.name.startsWith("%"))throw new Error(`Undefined variable ${this.name}`);return n.flatMap(a=>this.evalValue(a)).filter(a=>a?.value!==void 0)}getVariable(t){let n=t.variables[this.name];if(n!==void 0)return n;if(t.parent)return this.getVariable(t.parent)}evalValue(t){let n=t.value;if(!(!n||typeof n!="object"))return $i(n,this.name)?t:H6(t,this.name)}toString(){return this.name}},JJ=class{eval(){return[]}toString(){return"{}"}},eee=class extends NZ{constructor(e,t,n){super(e,t),ve(this,"impl"),this.impl=n}eval(e,t){return this.impl(this.child.eval(e,t))}toString(){return this.operator+this.child.toString()}},Gg=class extends Vh{constructor(e,t){super("as",e,t)}eval(e,t){return da.ofType(e,this.left.eval(e,t),this.right)}},Ea=class extends Vh{},Mi=class extends Ea{constructor(e,t,n,r){super(e,t,n),ve(this,"impl"),this.impl=r}eval(e,t){let n=this.left.eval(e,t);if(n.length!==1)return[];let r=this.right.eval(e,t);if(r.length!==1)return[];let a=n[0].value,i=r[0].value,l=hi(a)?a.value:a,u=hi(i)?i.value:i,d=this.impl(l,u);return typeof d=="boolean"?et(d):hi(a)?[{type:fe.Quantity,value:{...a,value:d}}]:[Ha(d)]}},tee=class extends Vh{constructor(e,t){super("&",e,t)}eval(e,t){let n=this.left.eval(e,t),r=this.right.eval(e,t),a=[...n,...r];return a.length>0&&a.every(i=>typeof i.value=="string")?[{type:fe.string,value:a.map(i=>i.value).join("")}]:a}},nee=class extends Ea{constructor(e,t){super("contains",e,t)}eval(e,t){let n=this.left.eval(e,t),r=this.right.eval(e,t);return et(n.some(a=>a.value===r[0].value))}},ree=class extends Ea{constructor(e,t){super("in",e,t)}eval(e,t){let n=ts(this.left.eval(e,t)),r=this.right.eval(e,t);return n?et(r.some(a=>dy(n,a)[0].value)):[]}},py=class extends Vh{constructor(t,n){super(".",t,n)}eval(t,n){return this.right.eval(t,this.left.eval(t,n))}toString(){return`${this.left.toString()}.${this.right.toString()}`}},mR=class extends Vh{constructor(e,t){super("|",e,t)}eval(e,t){let n=this.left.eval(e,t),r=this.right.eval(e,t);return W6([...n,...r])}},aee=class extends Ea{constructor(e,t){super("=",e,t)}eval(e,t){let n=this.left.eval(e,t),r=this.right.eval(e,t);return cJ(n,r)}},iee=class extends Ea{constructor(e,t){super("!=",e,t)}eval(e,t){let n=this.left.eval(e,t),r=this.right.eval(e,t);return uJ(n,r)}},oee=class extends Ea{constructor(e,t){super("~",e,t)}eval(e,t){let n=this.left.eval(e,t),r=this.right.eval(e,t);return G6(n,r)}},see=class extends Ea{constructor(e,t){super("!~",e,t)}eval(e,t){let n=this.left.eval(e,t),r=this.right.eval(e,t);return lJ(G6(n,r))}},gR=class extends Ea{constructor(e,t){super("is",e,t)}eval(e,t){let n=this.left.eval(e,t);if(n.length!==1)return[];let r=this.right.name;return et(Y6(n[0],r))}},lee=class extends Ea{constructor(e,t){super("and",e,t)}eval(e,t){let n=ts(this.left.eval(e,t),"boolean"),r=ts(this.right.eval(e,t),"boolean");return n?.value===!0&&r?.value===!0?et(!0):n?.value===!1||r?.value===!1?et(!1):[]}},cee=class extends Ea{constructor(e,t){super("or",e,t)}eval(e,t){let n=ts(this.left.eval(e,t),"boolean"),r=ts(this.right.eval(e,t),"boolean");return n?.value===!1&&r?.value===!1?et(!1):n?.value||r?.value?et(!0):[]}},uee=class extends Ea{constructor(e,t){super("xor",e,t)}eval(e,t){let n=ts(this.left.eval(e,t),"boolean"),r=ts(this.right.eval(e,t),"boolean");return!n||!r?[]:et(n.value!==r.value)}},dee=class extends Ea{constructor(e,t){super("implies",e,t)}eval(e,t){let n=ts(this.left.eval(e,t),"boolean"),r=ts(this.right.eval(e,t),"boolean");return r?.value===!0||n?.value===!1?et(!0):!n||!r?[]:et(!1)}},vR=class{constructor(t,n){ve(this,"name"),ve(this,"args"),this.name=t,this.args=n}eval(t,n){let r=da[this.name];if(!r)throw new Error("Unrecognized function: "+this.name);return r(t,n,...this.args)}toString(){return`${this.name}(${this.args.map(t=>t.toString()).join(", ")})`}},yR=class{constructor(t,n){ve(this,"left"),ve(this,"expr"),this.left=t,this.expr=n}eval(t,n){let r=this.expr.eval(t,n);if(r.length!==1)return[];let a=r[0].value;if(typeof a!="number")throw new Error("Invalid indexer expression: should return integer}");let i=this.left.eval(t,n);return a in i?[i[a]]:[]}toString(){return`${this.left.toString()}[${this.expr.toString()}]`}},fee=["year","years","month","months","week","weeks","day","days","hour","hours","minute","minutes","second","seconds","millisecond","milliseconds"],hee={"'":"'",'"':'"',"`":"`",r:"\r",n:`
`,t:"	",f:"\f","\\":"\\"},pee=class{constructor(e,t,n,r){ve(this,"str"),ve(this,"keywords"),ve(this,"operators"),ve(this,"dateTimeLiterals"),ve(this,"symbolRegex"),ve(this,"result",[]),ve(this,"pos",{index:0,line:1,column:0}),ve(this,"markStack",[]),this.str=e,this.keywords=t,this.operators=n,this.dateTimeLiterals=!!r?.dateTimeLiterals,this.symbolRegex=r?.symbolRegex??/[$\w%]/}tokenize(){for(;this.pos.index<this.str.length;){let e=this.consumeToken();e&&this.result.push(e)}return this.result}prevToken(){return this.result.slice(-1)[0]}peekToken(){this.mark();let e=this.consumeToken();return this.reset(),e}consumeToken(){this.consumeWhitespace();let e=this.curr();if(!e)return;this.mark();let t=this.peek();return e==="/"&&t==="*"?this.consumeMultiLineComment():e==="/"&&t==="/"?this.consumeSingleLineComment():e==="'"||e==='"'||e==="`"?this.consumeString(e):e==="@"?this.consumeDateTime():/\d/.exec(e)?this.consumeNumber():/\w/.exec(e)?this.consumeSymbol():(e==="$"||e==="%")&&/\w/.exec(t)?this.consumeSymbol():(e==="$"||e==="%")&&(t==="'"||t==='"'||t==="`")?this.consumeQuotedSymbol(t):this.consumeOperator()}consumeWhitespace(){this.consumeWhile(()=>/\s/.exec(this.curr()))}consumeMultiLineComment(){let e=this.pos.index;return this.consumeWhile(()=>this.curr()!=="*"||this.peek()!=="/"),this.advance(),this.advance(),this.buildToken("Comment",this.str.substring(e,this.pos.index))}consumeSingleLineComment(){return this.buildToken("Comment",this.consumeWhile(()=>this.curr()!==`
`))}consumeString(e){this.advance();let t="",n;for(;n=this.consumeChar(e);)t+=n;let r=this.buildToken(e==="`"?"Symbol":"String",t);return this.advance(),r}consumeChar(e){let t=this.curr();if(t==="\\"){this.advance();let n=this.curr(),r=hee[n];if(r!==void 0)return this.advance(),r;if(n==="u"){this.advance();let a=/^[0-9a-fA-F]{4}$/.exec(this.str.substring(this.pos.index,this.pos.index+4))?.[0];return a?(this.advance(),this.advance(),this.advance(),this.advance(),String.fromCodePoint(Number.parseInt(a,16))):"u"}return this.consumeChar(e)}return t===e||!t?"":(this.advance(),t)}consumeQuotedSymbol(e){this.mark();let t=this.pos.index;this.advance(),this.consumeString(e);let n=this.str.substring(t,this.pos.index);return this.buildToken("Symbol",n)}consumeDateTime(){this.advance();let e=this.pos.index;this.consumeWhile(()=>/[\d-]/.exec(this.curr()));let t=!1,n=!1;if(this.curr()==="T"&&(t=!0,this.advance(),this.consumeWhile(()=>/[\d:]/.exec(this.curr())),this.curr()==="."&&/\d/.exec(this.peek())&&(this.advance(),this.consumeWhile(()=>/\d/.exec(this.curr()))),this.curr()==="Z"?(n=!0,this.advance()):(this.curr()==="+"||this.curr()==="-")&&(n=!0,this.advance(),this.consumeWhile(()=>/[\d:]/.exec(this.curr())))),this.pos.index===e)throw new Error("Invalid DateTime literal");let r=this.str.substring(e,this.pos.index);return r.endsWith("T")?r=r.substring(0,r.length-1):!r.startsWith("T")&&t&&!n&&(r+="Z"),this.buildToken("DateTime",r)}consumeNumber(){let e=this.pos.index,t="Number";return this.consumeWhile(()=>/\d/.exec(this.curr())),this.curr()==="."&&/\d/.exec(this.peek())&&(this.advance(),this.consumeWhile(()=>/\d/.exec(this.curr()))),this.curr()==="-"&&this.dateTimeLiterals?(this.pos.index=e-1,this.consumeDateTime()):(this.curr()===" "&&mee(this.peekToken())&&(t="Quantity",this.consumeToken()),this.buildToken(t,this.str.substring(e,this.pos.index)))}consumeSymbol(){let e=this.consumeWhile(()=>this.symbolRegex.exec(this.curr()));return this.prevToken()?.value!=="."&&this.keywords.includes(e)?this.buildToken(e,e):this.buildToken("Symbol",e)}consumeOperator(){let e=this.curr(),t=this.peek(),n=e+t;return this.operators.includes(n)?(this.advance(),this.advance(),this.buildToken(n,n)):(this.advance(),this.buildToken(e,e))}consumeWhile(e){let t=this.pos.index;for(;this.pos.index<this.str.length&&e();)this.advance();return this.str.substring(t,this.pos.index)}curr(){return this.str[this.pos.index]}peek(){return this.str[this.pos.index+1]??""}mark(){this.markStack.push({...this.pos})}reset(){let e=this.markStack.pop();if(!e)throw new Error("No mark to reset to");this.pos.index=e.index,this.pos.line=e.line,this.pos.column=e.column}advance(){this.pos.index++,this.curr()===`
`?(this.pos.line++,this.pos.column=0):this.pos.column++}buildToken(e,t){let n=this.markStack.pop();if(!n)throw new Error("No mark for token");return{id:e,value:t,...n}}};function mee(e){return!!(e&&(e.id==="String"||e.id==="Symbol"&&fee.includes(e.value)))}var gee=["true","false"],bR=["!=","!~","<=",">=","{}","->"];function vee(e){return new pee(e,gee,bR).tokenize()}var en={FunctionCall:0,Dot:1,Indexer:2,UnaryAdd:3,UnarySubtract:3,Multiply:4,Divide:4,Modulo:4,Add:5,Subtract:5,Ampersand:5,Is:6,As:6,Union:7,GreaterThan:8,GreaterThanOrEquals:8,LessThan:8,LessThanOrEquals:8,Equals:9,Equivalent:9,NotEquals:9,NotEquivalent:9,In:10,Contains:10,And:11,Xor:12,Or:12,Implies:13,Arrow:100,Semicolon:200},yee={parse(e){let t=e.consumeAndParse();if(!e.match(")"))throw new Error("Parse error: expected `)` got `"+e.peek()?.value+"`");return t}},bee={parse(e,t){let n=e.consumeAndParse();if(!e.match("]"))throw new Error("Parse error: expected `]`");return new yR(t,n)},precedence:en.Indexer},xee={parse(e,t){if(!(t instanceof uh))throw new Error("Unexpected parentheses");let n=[];for(;!e.match(")");)n.push(e.consumeAndParse()),e.match(",");return new vR(t.name,n)},precedence:en.FunctionCall};function See(e){let t=e.split(" "),n=Number.parseFloat(t[0]),r=t[1];return r?.startsWith("'")&&r.endsWith("'")?r=r.substring(1,r.length-1):r="{"+r+"}",{value:n,unit:r}}function xR(){return new IZ().registerPrefix("String",{parse:(e,t)=>new Iu({type:fe.string,value:t.value})}).registerPrefix("DateTime",{parse:(e,t)=>new Iu({type:fe.dateTime,value:pg(t.value)})}).registerPrefix("Quantity",{parse:(e,t)=>new Iu({type:fe.Quantity,value:See(t.value)})}).registerPrefix("Number",{parse:(e,t)=>new Iu({type:t.value.includes(".")?fe.decimal:fe.integer,value:Number.parseFloat(t.value)})}).registerPrefix("true",{parse:()=>new Iu({type:fe.boolean,value:!0})}).registerPrefix("false",{parse:()=>new Iu({type:fe.boolean,value:!1})}).registerPrefix("Symbol",{parse:(e,t)=>new uh(t.value)}).registerPrefix("{}",{parse:()=>new JJ}).registerPrefix("(",yee).registerInfix("[",bee).registerInfix("(",xee).prefix("+",en.UnaryAdd,(e,t)=>new eee("+",t,n=>n)).prefix("-",en.UnarySubtract,(e,t)=>new Mi("-",t,t,(n,r)=>-r)).infixLeft(".",en.Dot,(e,t,n)=>new py(e,n)).infixLeft("/",en.Divide,(e,t,n)=>new Mi("/",e,n,(r,a)=>r/a)).infixLeft("*",en.Multiply,(e,t,n)=>new Mi("*",e,n,(r,a)=>r*a)).infixLeft("+",en.Add,(e,t,n)=>new Mi("+",e,n,(r,a)=>r+a)).infixLeft("-",en.Subtract,(e,t,n)=>new Mi("-",e,n,(r,a)=>r-a)).infixLeft("|",en.Union,(e,t,n)=>new mR(e,n)).infixLeft("=",en.Equals,(e,t,n)=>new aee(e,n)).infixLeft("!=",en.NotEquals,(e,t,n)=>new iee(e,n)).infixLeft("~",en.Equivalent,(e,t,n)=>new oee(e,n)).infixLeft("!~",en.NotEquivalent,(e,t,n)=>new see(e,n)).infixLeft("<",en.LessThan,(e,t,n)=>new Mi("<",e,n,(r,a)=>r<a)).infixLeft("<=",en.LessThanOrEquals,(e,t,n)=>new Mi("<=",e,n,(r,a)=>r<=a)).infixLeft(">",en.GreaterThan,(e,t,n)=>new Mi(">",e,n,(r,a)=>r>a)).infixLeft(">=",en.GreaterThanOrEquals,(e,t,n)=>new Mi(">=",e,n,(r,a)=>r>=a)).infixLeft("&",en.Ampersand,(e,t,n)=>new tee(e,n)).infixLeft("and",en.And,(e,t,n)=>new lee(e,n)).infixLeft("as",en.As,(e,t,n)=>new Gg(e,n)).infixLeft("contains",en.Contains,(e,t,n)=>new nee(e,n)).infixLeft("div",en.Divide,(e,t,n)=>new Mi("div",e,n,(r,a)=>Math.trunc(r/a))).infixLeft("in",en.In,(e,t,n)=>new ree(e,n)).infixLeft("is",en.Is,(e,t,n)=>new gR(e,n)).infixLeft("mod",en.Modulo,(e,t,n)=>new Mi("mod",e,n,(r,a)=>r%a)).infixLeft("or",en.Or,(e,t,n)=>new cee(e,n)).infixLeft("xor",en.Xor,(e,t,n)=>new uee(e,n)).infixLeft("implies",en.Implies,(e,t,n)=>new dee(e,n))}var wee=xR();function SR(e){return new pR(e,wee.construct(vee(e)).consumeAndParse())}function Cee(e,t){let n=Array.isArray(t)?t:[t];for(let r=0;r<n.length;r++){let a=n[r];typeof a=="object"&&"type"in a&&"value"in a||(n[r]=Ha(n[r]))}return al(e,n).map(r=>r.value)}function al(e,t,n={},r=void 0){let a;if(typeof e=="string"){let i=r?.get(e);a=i??SR(e),r&&!i&&r.set(e,a)}else a=e;return a.eval({variables:n},t).map(i=>{let l={type:i.type,value:i.value?.valueOf()};return"path"in i&&(l.path=i.path),l})}function jee(e){let t=[];for(let n of e){let r=X6(n.value);r&&t.push(r)}return t}function Eee(e){let t=new Set;for(let n of e){let r=mc(n);r&&t.add(r)}return Array.from(t)}function Tee(e){let t=new Set;for(let n of e){let{value:r}=n;r&&(az(r)?t.add(r):$a(r)?t.add(r.reference):J6(r)?t.add(Me(r)):typeof r.identifier=="object"&&t.add(`identifier:${r.identifier.system}|${r.identifier.value}`))}return Array.from(t)}function Ree(e,t={}){let n=[];for(let r of e)_ee(t,n,r);return n}function _ee(e,t,n){let{type:r,value:a}=n;switch(r){case fe.Identifier:Dee(t,e,a);break;case fe.CodeableConcept:Aee(t,e,a);break;case fe.Coding:pz(t,e,a);break;case fe.ContactPoint:Oee(t,e,a);break;default:yc(t,e,void 0,a?.toString())}}function Dee(e,t,n){n?.type?.text&&yc(e,t,t.textSearchSystem,n.type.text),yc(e,t,n?.system,n?.value)}function Aee(e,t,n){if(n?.text&&yc(e,t,t.textSearchSystem,n.text),n?.coding)for(let r of n.coding)pz(e,t,r)}function pz(e,t,n){n&&(n.display&&yc(e,t,t.textSearchSystem,n.display),yc(e,t,n.system,n.code))}function Oee(e,t,n){n&&yc(e,t,n.system,n.value?.toLocaleLowerCase())}function yc(e,t,n,r){(n||r)&&!e.some(a=>a.system===n&&a.value===r)&&e.push({system:n,value:r&&t.caseInsensitive?r.toLocaleLowerCase():r})}var Kh=20,Ce={EQUALS:"eq",NOT_EQUALS:"ne",GREATER_THAN:"gt",LESS_THAN:"lt",GREATER_THAN_OR_EQUALS:"ge",LESS_THAN_OR_EQUALS:"le",STARTS_AFTER:"sa",ENDS_BEFORE:"eb",APPROXIMATELY:"ap",CONTAINS:"contains",STARTS_WITH:"sw",EXACT:"exact",TEXT:"text",NOT:"not",ABOVE:"above",BELOW:"below",IN:"in",NOT_IN:"not-in",OF_TYPE:"of-type",MISSING:"missing",PRESENT:"present",IDENTIFIER:"identifier",ITERATE:"iterate"},mz={contains:Ce.CONTAINS,exact:Ce.EXACT,above:Ce.ABOVE,below:Ce.BELOW,text:Ce.TEXT,not:Ce.NOT,in:Ce.IN,"not-in":Ce.NOT_IN,"of-type":Ce.OF_TYPE,missing:Ce.MISSING,identifier:Ce.IDENTIFIER,iterate:Ce.ITERATE},wR={eq:Ce.EQUALS,ne:Ce.NOT_EQUALS,lt:Ce.LESS_THAN,le:Ce.LESS_THAN_OR_EQUALS,gt:Ce.GREATER_THAN,ge:Ce.GREATER_THAN_OR_EQUALS,sa:Ce.STARTS_AFTER,eb:Ce.ENDS_BEFORE,ap:Ce.APPROXIMATELY,sw:Ce.STARTS_WITH};function CR(e,t){if(!e)throw new Error("Invalid search URL");let n="",r;if(typeof e=="string")if(e.includes("?")){let[l,u]=e.split("?");n=l,r=new URLSearchParams(u)}else n=e;else typeof e=="object"&&(n=e.pathname,r=e.searchParams);let a;n.includes("/")?a=n.split("/").filter(Boolean).pop():a=n;let i=[];return r&&i.push(...r.entries()),kee(a,i)}function kee(e,t){let n={resourceType:e};for(let[r,a]of t)Mee(n,r,a);return n}function Mee(e,t,n){let r,a,i=t.indexOf(":");if(i>=0?(r=t.substring(0,i),a=t.substring(i+1)):(r=t,a=""),r!=="_"){if(r==="_has"||t.includes(".")){e.filters=Of(e.filters,{code:t,operator:Ce.EQUALS,value:n});return}switch(r){case"_sort":Pee(e,n);break;case"_cursor":e.cursor=n;break;case"_count":e.count=Number.parseInt(n,10);break;case"_offset":e.offset=Number.parseInt(n,10);break;case"_total":e.total=n;break;case"_summary":n==="count"?(e.total="accurate",e.count=0):(n==="true"||n==="data"||n==="text")&&(e.summary=n);break;case"_include":{let l=SM(n);a==="iterate"&&(l.modifier=Ce.ITERATE),e.include=Of(e.include,l);break}case"_revinclude":{let l=SM(n);a==="iterate"&&(l.modifier=Ce.ITERATE),e.revInclude=Of(e.revInclude,l);break}case"_fields":case"_elements":e.fields=n.split(",");break;case"_type":e.types=n.split(",");break;case"_format":e.format=n;break;case"_pretty":e.pretty=n==="true";break;default:{let l=bo.types[e.resourceType]?.searchParams?.[r];l?e.filters=Of(e.filters,Iee(l,a,n)):e.filters=Of(e.filters,Lee(r,a,n))}}}}function Pee(e,t){for(let n of t.split(",")){let r,a=!1;n.startsWith("-")?(r=n.substring(1),a=!0):r=n,e.sortRules||(e.sortRules=[]),e.sortRules.push({code:r,descending:a})}}var Nee=[Ce.MISSING,Ce.PRESENT];function Iee(e,t,n){if(Nee.includes(t))return{code:e.code,operator:t,value:n};switch(e.type){case"number":case"date":case"quantity":{let{operator:r,value:a}=zee(n,t||Ce.EQUALS);if(!wM(e,a))throw new yt(Xo(`Invalid format for ${e.type} search parameter: ${a}`));return{code:e.code,operator:r,value:a}}case"reference":case"string":case"token":case"uri":if(!wM(e,n))throw new yt(Xo(`Invalid format for ${e.type} search parameter: ${n}`));return{code:e.code,operator:$ee(t),value:n};default:throw new Error("Unrecognized search parameter type: "+e.type)}}function Lee(e,t,n){let r=Ce.EQUALS;if(t)r=t;else if(n.length>=2){let a=n.substring(0,2);a in wR&&(n.length===2||n.at(2)?.match(/\d/))&&(r=a,n=n.substring(a.length))}return{code:e,operator:r,value:n}}function zee(e,t){let n=e.substring(0,2),r=wR[n];return r?{operator:r,value:e.substring(2)}:{operator:t,value:e}}function $ee(e){return mz[e]??Ce.EQUALS}function SM(e){let t=e.split(":");if(t.includes("*"))throw new yt(Xo("'*' is not supported as a value for search inclusion parameters"));if(t.length===1)throw new yt(Xo(`Invalid include value '${e}': must be of the form ResourceType:search-parameter`));if(t.length===2)return{resourceType:t[0],searchParam:t[1]};if(t.length===3)return{resourceType:t[0],searchParam:t[1],targetType:t[2]};throw new yt(Xo(`Invalid include value '${e}'`))}function wM(e,t){switch(e.type){case"date":return ch(t);default:return!0}}function Ks(e){let t=[];return e.fields&&t.push("_fields="+e.fields.join(",")),e.filters&&e.filters.forEach(n=>t.push(qee(n))),e.sortRules&&e.sortRules.length>0&&t.push(Uee(e.sortRules)),e.cursor!==void 0&&t.push("_cursor="+encodeURIComponent(e.cursor)),e.offset!==void 0&&e.offset!==0&&t.push("_offset="+e.offset),e.count!==void 0&&t.push("_count="+e.count),e.total!==void 0&&t.push("_total="+e.total),e.types&&e.types.length>0&&t.push("_type="+e.types.join(",")),e.include&&e.include.forEach(n=>t.push(CM("_include",n))),e.revInclude&&e.revInclude.forEach(n=>t.push(CM("_revinclude",n))),t.length===0?"":(dR(t),"?"+t.join("&"))}function qee(e){let t=e.operator in mz?":"+e.operator:"",n=e.operator!==Ce.EQUALS&&e.operator in wR?e.operator:"";return`${e.code}${t}=${n}${encodeURIComponent(e.value)}`}function Uee(e){return"_sort="+e.map(t=>t.descending?"-"+t.code:t.code).join(",")}function CM(e,t){return e+(t.modifier?":"+t.modifier:"")+"="+t.resourceType+":"+t.searchParam+(t.targetType?":"+t.targetType:"")}function my(e){let t=[],n="",r=!1;for(let a of e)r?(n+=a,r=!1):a==="\\"?r=!0:a===","?(t.push(n),n=""):n+=a;return t.push(n),t}function Bee(e,t){if(t.resourceType!==e.resourceType)return!1;if(t.filters){for(let n of t.filters)if(!Hee(e,t,n))return!1}return!0}function Hee(e,t,n){let r=bo.types[t.resourceType]?.searchParams?.[n.code];if(!r)return!1;let a=al(r.expression,[Ha(e)]);if(n.operator===Ce.MISSING||n.operator===Ce.PRESENT)return Fee(a,n);switch(r.type){case"reference":return Vee(a,n);case"string":case"uri":return Yee(a,n);case"token":return Wee(a,n);case"date":return Kee(a,n);default:return!1}}function Fee(e,t){let n=e.length>0;return(t.operator===Ce.MISSING&&t.value==="false"||t.operator===Ce.PRESENT&&t.value==="true")===n}function Vee(e,t){let n=gy(t.operator);if(t.value===""&&e.length===0)return t.operator===Ce.EQUALS;let r=Tee(e);for(let a of my(t.value)){let i=r.includes(a);if(!i&&t.code==="_compartment"&&(i=r.some(l=>l?.endsWith("/"+a))),i)return!n}return n}function Wee(e,t){let n=Ree(e),r=my(t.value),a=gy(t.operator);for(let i of n)for(let l of r)if(Gee(i,l))return!a;return a}function Gee(e,t){if(t.includes("|")){let[n,r]=t.split("|").map(a=>a.toLowerCase());return!n&&!r?!1:n?e.system?.toLowerCase()===n&&(!r||e.value?.toLowerCase()===r):!e.system&&e.value?.toLowerCase()===r}return e.value?.toLowerCase()===t.toLowerCase()}function Yee(e,t){let n=Eee(e),r=my(t.value),a=gy(t.operator);for(let i of n)for(let l of r)if(Qee(i,l))return!a;return a}function Qee(e,t){return e.toLowerCase().includes(t.toLowerCase())}function Kee(e,t){let n=jee(e),r=my(t.value),a=gy(t.operator);for(let i of n)for(let l of r)if(Xee(i,t.operator,l))return!a;return a}function Xee(e,t,n){if(!e)return!1;let r=X6(n);if(!r)return!1;let a=e.start??"0000",i=e.end??"9999",l=r.start,u=r.end;switch(t){case Ce.APPROXIMATELY:case Ce.EQUALS:case Ce.NOT_EQUALS:return a<u&&i>l;case Ce.LESS_THAN:return a<l;case Ce.GREATER_THAN:return i>u;case Ce.LESS_THAN_OR_EQUALS:return a<=u;case Ce.GREATER_THAN_OR_EQUALS:return i>=l;case Ce.STARTS_AFTER:return a>u;case Ce.ENDS_BEFORE:return i<l;default:return!1}}function gy(e){return e===Ce.NOT_EQUALS||e===Ce.NOT}var Zee={resourceType:"*"},Jee=["DomainConfiguration","JsonWebKey","Login"],ete=["UserSecurityRequest","Project","ProjectMembership","User"],rc={READ:"read",VREAD:"vread",UPDATE:"update",HISTORY:"history",SEARCH:"search"},tte=[rc.READ,rc.VREAD,rc.HISTORY,rc.SEARCH];function nte(e,t){return Jee.includes(t)?!1:rte(e,rc.UPDATE,t)}function rte(e,t,n){return!!e.resource?.some(r=>vz(r,n,t))}function gz(e,t,n){return n?n.resource?.find(r=>ate(e,t,r)):Zee}function ate(e,t,n){let r=e.resourceType;return vz(n,r,t)?r==="Binary"?!0:!(n.compartment&&!e.meta?.compartment?.some(a=>a.reference===n.compartment?.reference)||n.criteria&&!Bee(e,CR(n.criteria))):!1}function vz(e,t,n){return e.resourceType!==t&&(e.resourceType!=="*"||ete.includes(t))?!1:e.interaction?e.interaction.includes(n):!e.readonly||tte.includes(n)}function so(){return typeof window<"u"}function yz(){return typeof Buffer<"u"?Buffer:void 0}var gr={assign(e){so()&&globalThis.location.assign(e)},reload(){so()&&globalThis.location.reload()},getSearch(){return so()?globalThis.location.search:""},getPathname(){return so()?globalThis.location.pathname:""},getLocation(){return so()?globalThis.location.toString():""},getOrigin(){return so()?globalThis.location.protocol+"//"+globalThis.location.host+"/":""}};function ite(e){if(so()){let n=window.atob(e),r=Uint8Array.from(n,a=>a.codePointAt(0));return new window.TextDecoder().decode(r)}let t=yz();if(t)return t.from(e,"base64").toString("utf-8");throw new Error("Unable to decode base64")}function jM(e){if(so()){let n=new window.TextEncoder().encode(e),r=String.fromCodePoint.apply(null,n);return window.btoa(r)}let t=yz();if(t)return t.from(e,"utf8").toString("base64");throw new Error("Unable to encode base64")}function ote(e){e=e.padEnd(e.length+(4-e.length%4)%4,"=");let t=e.replaceAll("-","+").replaceAll("_","/");return ite(t)}function EM(){let e=new Uint32Array(28);return crypto.getRandomValues(e),DJ(e.buffer)}async function ste(e){return crypto.subtle.digest("SHA-256",new TextEncoder().encode(e))}function bz(){return typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replaceAll(/[xy]/g,e=>{let t=Math.trunc(Math.random()*16);return(e==="x"?t:t&3|8).toString(16)})}var Dn={FHIR_JSON:"application/fhir+json",FORM_URL_ENCODED:"application/x-www-form-urlencoded",JSON:"application/json",JSON_PATCH:"application/json-patch+json",TEXT:"text/plain",XML:"text/xml",CDA_XML:"application/cda+xml"},lte=class{constructor(){ve(this,"listeners"),this.listeners={}}addEventListener(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}removeEventListener(e,t){let n=this.listeners[e];if(n){for(let r=0;r<n.length;r++)if(n[r]===t){n.splice(r,1);return}}}dispatchEvent(e){let t=this.listeners[e.type];if(t)for(let n of t)n.call(this,e);return!e.defaultPrevented}removeAllListeners(){this.listeners={}}listenerCount(e){return this.listeners[e]?.length??0}},vy=class{constructor(){ve(this,"emitter",new lte)}dispatchEvent(e){this.emitter.dispatchEvent(e)}addEventListener(e,t){this.emitter.addEventListener(e,t)}removeEventListener(e,t){this.emitter.removeEventListener(e,t)}removeAllListeners(){this.emitter.removeAllListeners()}listenerCount(e){return this.emitter.listenerCount(e)}},Cj={"Patient-open":"Patient-open","Patient-close":"Patient-close","ImagingStudy-open":"ImagingStudy-open","ImagingStudy-close":"ImagingStudy-close","Encounter-open":"Encounter-open","Encounter-close":"Encounter-close","DiagnosticReport-open":"DiagnosticReport-open","DiagnosticReport-close":"DiagnosticReport-close","DiagnosticReport-select":"DiagnosticReport-select","DiagnosticReport-update":"DiagnosticReport-update",syncerror:"syncerror"},cte=["Patient","Encounter","ImagingStudy","DiagnosticReport","OperationOutcome","Bundle"],jR=["DiagnosticReport-update"];function ute(e){return jR.includes(e)}function dte(e){if(jR.includes(e))throw new yt(wn(`'context.version' is required for '${e}'.`))}var fte={"Patient-open":{patient:{resourceType:"Patient"},encounter:{resourceType:"Encounter",optional:!0}},"Patient-close":{patient:{resourceType:"Patient"},encounter:{resourceType:"Encounter",optional:!0}},"ImagingStudy-open":{study:{resourceType:"ImagingStudy"},encounter:{resourceType:"Encounter",optional:!0},patient:{resourceType:"Patient",optional:!0}},"ImagingStudy-close":{study:{resourceType:"ImagingStudy"},encounter:{resourceType:"Encounter",optional:!0},patient:{resourceType:"Patient",optional:!0}},"Encounter-open":{encounter:{resourceType:"Encounter"},patient:{resourceType:"Patient"}},"Encounter-close":{encounter:{resourceType:"Encounter"},patient:{resourceType:"Patient"}},"DiagnosticReport-open":{report:{resourceType:"DiagnosticReport"},encounter:{resourceType:"Encounter",optional:!0},study:{resourceType:"ImagingStudy",optional:!0,manyAllowed:!0},patient:{resourceType:"Patient"}},"DiagnosticReport-close":{report:{resourceType:"DiagnosticReport"},encounter:{resourceType:"Encounter",optional:!0},study:{resourceType:"ImagingStudy",optional:!0,manyAllowed:!0},patient:{resourceType:"Patient"}},"DiagnosticReport-select":{report:{resourceType:"DiagnosticReport",reference:!0},patient:{resourceType:"Patient",optional:!0,reference:!0},select:{resourceType:"*",reference:!0,manyAllowed:!0}},"DiagnosticReport-update":{report:{resourceType:"DiagnosticReport",reference:!0},patient:{resourceType:"Patient",optional:!0,reference:!0},updates:{resourceType:"Bundle"}},syncerror:{operationoutcome:{resourceType:"OperationOutcome"}}};function hte(e){return cte.includes(e)}function xz(e){return!!e.endpoint}function TM(e){if(!ER(e))throw new yt(wn("subscriptionRequest must be an object conforming to SubscriptionRequest type."));let{channelType:t,mode:n,topic:r,events:a}=e,i={"hub.channel.type":t,"hub.mode":n,"hub.topic":r,"hub.events":a.join(",")};return xz(e)&&(i.endpoint=e.endpoint),new URLSearchParams(i).toString()}function ER(e){if(typeof e!="object")return!1;let{channelType:t,mode:n,topic:r,events:a}=e;if(!(t&&n&&r&&a)||typeof r!="string"||typeof a!="object"||!Array.isArray(a)||a.length<1||t!=="websocket"||n!=="subscribe"&&n!=="unsubscribe")return!1;for(let i of a)if(!Cj[i])return!1;return!(xz(e)&&!(typeof e.endpoint=="string"&&e.endpoint.startsWith("ws")))}function pte(e,t,n,r){if(typeof t!="object")throw new yt(wn(`context[${n}] is invalid. Context must contain a single valid FHIR resource! Resource is not an object.`));if(!(t.id&&typeof t.id=="string"))throw new yt(wn(`context[${n}] is invalid. Resource must contain a valid string ID.`));if(!t.resourceType)throw new yt(wn(`context[${n}] is invalid. Resource must contain a resource type. No resource type found.`));let a=r.resourceType;if(a!=="*"){if(!hte(t.resourceType))throw new yt(wn(`context[${n}] is invalid. Resource must contain a valid FHIRcast resource type. Resource type is not a known resource type.`));if(a&&t.resourceType!==a)throw new yt(wn(`context[${n}] is invalid. context[${n}] for the '${e}' event should contain resource of type ${a}.`))}}function mte(e,t,n,r,a){if(a.set(t.key,(a.get(t.key)??0)+1),r.reference){if(!$a(t.reference))throw new yt(wn(`context[${n}] is invalid. Expected key '${t.key}' to be a reference.`))}else pte(e,t.resource,n,r)}function gte(e,t){let n=new Map,r=fte[e];for(let a=0;a<t.length;a++){let i=t[a].key;if(!r[i])throw new yt(wn(`Key '${i}' not found for event '${e}'. Make sure to add only valid keys.`));mte(e,t[a],a,r[i],n)}for(let[a,i]of Object.entries(r)){if(!(i.optional||n.has(a)))throw new yt(wn(`Missing required key '${a}' on context for '${e}' event.`));if(!i.manyAllowed&&(n.get(a)??0)>1)throw new yt(wn(`${n.get(a)} context entries with key '${a}' found for the '${e}' event when schema only allows for 1.`))}}function RM(e,t,n,r){if(!(e&&typeof e=="string"))throw new yt(wn("Must provide a topic."));if(!Cj[t])throw new yt(wn(`Must provide a valid FHIRcast event name. Supported events: ${Object.keys(Cj).join(", ")}`));if(typeof n!="object")throw new yt(wn("context must be a context object or array of context objects."));if(jR.includes(t)&&!r)throw new yt(wn(`The '${t}' event must contain a 'context.versionId'.`));let a=Array.isArray(n)?n:[n];return gte(t,a),{timestamp:new Date().toISOString(),id:bz(),event:{"hub.topic":e,"hub.event":t,context:a,...r?{"context.versionId":r}:{}}}}var vte=class extends vy{constructor(e){if(super(),ve(this,"subRequest"),ve(this,"websocket"),this.subRequest=e,!e.endpoint)throw new yt(wn("Subscription request should contain an endpoint."));if(!ER(e))throw new yt(wn("Subscription request failed validation."));let t=new WebSocket(e.endpoint);t.addEventListener("open",()=>{this.dispatchEvent({type:"connect"}),t.addEventListener("message",n=>{let r=JSON.parse(n.data);if(r["hub.topic"])return;let a=r;a.event["hub.event"]!=="heartbeat"&&(this.dispatchEvent({type:"message",payload:a}),t.send(JSON.stringify({id:r?.id,timestamp:new Date().toISOString()})))}),t.addEventListener("close",()=>{this.dispatchEvent({type:"disconnect"})})}),this.websocket=t}disconnect(){this.websocket.close()}};function yte(e){return JSON.parse(ote(e))}function bte(e){return e.split(".").length===3}function TR(e){let[t,n,r]=e.split(".");return yte(n)}function xte(e){try{return typeof TR(e).login_id=="string"}catch{return!1}}function Ste(e){try{let t=TR(e).exp;return typeof t=="number"?t*1e3:void 0}catch{return}}var wte=class{constructor(e){ve(this,"medplum"),this.medplum=e}async get(e){return this.medplum.get(`keyvalue/v1/${e}`)}async set(e,t){await this.medplum.put(`keyvalue/v1/${e}`,t,Dn.TEXT)}async delete(e){await this.medplum.delete(`keyvalue/v1/${e}`)}},Sz;Sz=Symbol.toStringTag;var Pi=class{constructor(e){ve(this,Sz,"ReadablePromise"),ve(this,"suspender"),ve(this,"status","pending"),ve(this,"response"),ve(this,"error"),this.suspender=e.then(t=>(this.status="success",this.response=t,t),t=>{throw this.status="error",this.error=t,t})}isPending(){return this.status==="pending"}isOk(){return this.status==="success"}read(){switch(this.status){case"pending":throw this.suspender;case"error":throw this.error;default:return this.response}}then(e,t){return this.suspender.then(e,t)}catch(e){return this.suspender.catch(e)}finally(e){return this.suspender.finally(e)}},Cte=class{constructor(e,t=""){ve(this,"storage"),ve(this,"prefix",""),this.storage=e??globalThis.localStorage??new jte,this.prefix=t}makeKey(e){return this.prefix+e}clear(){this.storage===globalThis.localStorage&&this.prefix?Object.keys(this.storage).filter(e=>e.startsWith(this.prefix)).forEach(e=>{this.storage.removeItem(e)}):this.storage.clear()}getString(e){return this.storage.getItem(this.makeKey(e))??void 0}setString(e,t){t?this.storage.setItem(this.makeKey(e),t):this.storage.removeItem(this.makeKey(e))}getObject(e){let t=this.getString(e);return t?JSON.parse(t):void 0}setObject(e,t){this.setString(e,t?ld(t):void 0)}},jte=class{constructor(){ve(this,"data"),this.data=new Map}get length(){return this.data.size}clear(){this.data.clear()}getItem(e){return this.data.get(e)??null}setItem(e,t){t?this.data.set(e,t):this.data.delete(e)}removeItem(e){this.data.delete(e)}key(e){return Array.from(this.data.keys())[e]}},Xu={Event:typeof globalThis.Event<"u"?globalThis.Event:void 0,ErrorEvent:void 0,CloseEvent:void 0},_M=!1;function Ete(){if(typeof globalThis.Event>"u")throw new Error("Unable to lazy init events for ReconnectingWebSocket. globalThis.Event is not defined yet");Xu.Event=globalThis.Event,Xu.ErrorEvent=class extends Event{constructor(e,t){super("error",t),ve(this,"message"),ve(this,"error"),this.message=e.message,this.error=e}},Xu.CloseEvent=class extends Event{constructor(e=1e3,t="",n){super("close",n),ve(this,"code"),ve(this,"reason"),ve(this,"wasClean",!0),this.code=e,this.reason=t}}}function Tte(e,t){if(!e)throw new Error(t)}function Um(e){return new e.constructor(e.type,e)}var Bl={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0},DM=!1,Rte=class Yl extends vy{constructor(t,n,r={}){_M||(Ete(),_M=!0),super(),ve(this,"_ws"),ve(this,"_retryCount",-1),ve(this,"_uptimeTimeout"),ve(this,"_connectTimeout"),ve(this,"_shouldReconnect",!0),ve(this,"_connectLock",!1),ve(this,"_binaryType"),ve(this,"_closeCalled",!1),ve(this,"_messageQueue",[]),ve(this,"_debugLogger",console.log.bind(console)),ve(this,"_url"),ve(this,"_protocols"),ve(this,"_options"),ve(this,"onclose",null),ve(this,"onerror",null),ve(this,"onmessage",null),ve(this,"onopen",null),ve(this,"_handleOpen",a=>{this._debug("open event");let{minUptime:i=Bl.minUptime}=this._options;clearTimeout(this._connectTimeout),this._uptimeTimeout=setTimeout(()=>this._acceptOpen(),i),Tte(this._ws,"WebSocket is not defined"),this._ws.binaryType=this._binaryType,this._messageQueue.forEach(l=>this._ws?.send(l)),this._messageQueue=[],this.onopen&&this.onopen(a),this.dispatchEvent(Um(a))}),ve(this,"_handleMessage",a=>{this._debug("message event"),this.onmessage&&this.onmessage(a),this.dispatchEvent(Um(a))}),ve(this,"_handleError",a=>{this._debug("error event",a.message),this._disconnect(void 0,a.message==="TIMEOUT"?"timeout":void 0),this.onerror&&this.onerror(a),this._debug("exec error listeners"),this.dispatchEvent(Um(a)),this._connect()}),ve(this,"_handleClose",a=>{this._debug("close event"),this._clearTimeouts(),this._shouldReconnect&&this._connect(),this.onclose&&this.onclose(a),this.dispatchEvent(Um(a))}),this._url=t,this._protocols=n,this._options=r,this._options.startClosed&&(this._shouldReconnect=!1),this._options.binaryType?this._binaryType=this._options.binaryType:this._binaryType="blob",this._options.debugLogger&&(this._debugLogger=this._options.debugLogger),this._connect()}static get CONNECTING(){return 0}static get OPEN(){return 1}static get CLOSING(){return 2}static get CLOSED(){return 3}get CONNECTING(){return Yl.CONNECTING}get OPEN(){return Yl.OPEN}get CLOSING(){return Yl.CLOSING}get CLOSED(){return Yl.CLOSED}get binaryType(){return this._ws?this._ws.binaryType:this._binaryType}set binaryType(t){this._binaryType=t,this._ws&&(this._ws.binaryType=t)}get retryCount(){return Math.max(this._retryCount,0)}get bufferedAmount(){return this._messageQueue.reduce((t,n)=>(typeof n=="string"?t+=n.length:n instanceof Blob?t+=n.size:t+=n.byteLength,t),0)+(this._ws?.bufferedAmount??0)}get extensions(){return this._ws?.extensions??""}get protocol(){return this._ws?.protocol??""}get readyState(){return this._ws?this._ws.readyState:this._options.startClosed?Yl.CLOSED:Yl.CONNECTING}get url(){return this._ws?this._ws.url:""}get shouldReconnect(){return this._shouldReconnect}close(t=1e3,n){if(this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(t,n)}reconnect(t,n){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(t,n),this._connect())}send(t){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",t),this._ws.send(t);else{let{maxEnqueuedMessages:n=Bl.maxEnqueuedMessages}=this._options;this._messageQueue.length<n&&(this._debug("enqueue",t),this._messageQueue.push(t))}}_debug(...t){this._options.debug&&this._debugLogger("RWS>",...t)}_getNextDelay(){let{reconnectionDelayGrowFactor:t=Bl.reconnectionDelayGrowFactor,minReconnectionDelay:n=Bl.minReconnectionDelay,maxReconnectionDelay:r=Bl.maxReconnectionDelay}=this._options,a=0;return this._retryCount>0&&(a=n*Math.pow(t,this._retryCount-1),a>r&&(a=r)),this._debug("next delay",a),a}_wait(){return new Promise(t=>{setTimeout(t,this._getNextDelay())})}_connect(){if(this._connectLock||!this._shouldReconnect)return;this._connectLock=!0;let{maxRetries:t=Bl.maxRetries,connectionTimeout:n=Bl.connectionTimeout}=this._options;if(this._retryCount>=t){this._debug("max retries reached",this._retryCount,">=",t);return}this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),this._wait().then(()=>{if(this._closeCalled){this._connectLock=!1;return}!this._options.WebSocket&&typeof WebSocket>"u"&&!DM&&(console.error("â€¼ï¸ No WebSocket implementation available. You should define options.WebSocket."),DM=!0);let r=this._options.WebSocket||WebSocket;this._debug("connect",{url:this._url,protocols:this._protocols}),this._ws=this._protocols?new r(this._url,this._protocols):new r(this._url),this._ws.binaryType=this._binaryType,this._connectLock=!1,this._addListeners(),this._connectTimeout=setTimeout(()=>this._handleTimeout(),n)}).catch(r=>{this._connectLock=!1,this._handleError(new Xu.ErrorEvent(Error(r.message),this))})}_handleTimeout(){this._debug("timeout event"),this._handleError(new Xu.ErrorEvent(Error("TIMEOUT"),this))}_disconnect(t=1e3,n){if(this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.close(t,n),this._handleClose(new Xu.CloseEvent(t,n,this))}catch{}}}_acceptOpen(){this._debug("accept open"),this._retryCount=0}_removeListeners(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))}_addListeners(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))}_clearTimeouts(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)}},_te=5e3,jj=class extends vy{constructor(...e){super(),ve(this,"criteria"),this.criteria=new Set(e)}getCriteria(){return this.criteria}_addCriteria(e){this.criteria.add(e)}_removeCriteria(e){this.criteria.delete(e)}},Dte=class{constructor(t,n){ve(this,"criteria"),ve(this,"emitter"),ve(this,"refCount"),ve(this,"subscriptionProps"),ve(this,"subscriptionId"),ve(this,"token"),ve(this,"connecting",!1),this.criteria=t,this.emitter=new jj(t),this.refCount=1,this.subscriptionProps=n?{...n}:void 0}clearAttachedSubscription(){this.subscriptionId=void 0,this.token=void 0}},Ate=class{constructor(e,t,n){if(ve(this,"medplum"),ve(this,"ws"),ve(this,"masterSubEmitter"),ve(this,"criteriaEntries"),ve(this,"criteriaEntriesBySubscriptionId"),ve(this,"wsClosed"),ve(this,"pingTimer"),ve(this,"pingIntervalMs"),ve(this,"waitingForPong",!1),ve(this,"currentProfile"),!(e instanceof wz))throw new yt(wn("First arg of constructor should be a `MedplumClient`"));let r;try{r=new URL(t).toString()}catch{throw new yt(wn("Not a valid URL"))}let a=n?.ReconnectingWebSocket?new n.ReconnectingWebSocket(r,void 0,{debug:n?.debug,debugLogger:n?.debugLogger}):new Rte(r,void 0,{debug:n?.debug,debugLogger:n?.debugLogger});this.medplum=e,this.ws=a,this.masterSubEmitter=new jj,this.criteriaEntries=new Map,this.criteriaEntriesBySubscriptionId=new Map,this.wsClosed=!1,this.pingIntervalMs=n?.pingIntervalMs??_te,this.currentProfile=e.getProfile(),this.setupListeners()}setupListeners(){let e=this.ws;e.addEventListener("message",t=>{try{let n=JSON.parse(t.data);if(n.type==="pong"){this.waitingForPong=!1;return}let r=n,a=r?.entry?.[0]?.resource;if(a.type==="heartbeat"){this.masterSubEmitter?.dispatchEvent({type:"heartbeat",payload:r});return}if(a.type==="handshake"){let l=sd(a.subscription),u={type:"connect",payload:{subscriptionId:l}};this.masterSubEmitter?.dispatchEvent(u);let d=this.criteriaEntriesBySubscriptionId.get(l);if(!d){console.warn("Received handshake for criteria the SubscriptionManager is not listening for yet");return}d.connecting=!1,d.emitter.dispatchEvent({...u});return}this.masterSubEmitter?.dispatchEvent({type:"message",payload:r});let i=this.criteriaEntriesBySubscriptionId.get(sd(a.subscription));if(!i){console.warn("Received notification for criteria the SubscriptionManager is not listening for");return}i.emitter.dispatchEvent({type:"message",payload:r})}catch(n){console.error(n);let r={type:"error",payload:n};this.masterSubEmitter?.dispatchEvent(r);for(let a of this.getAllCriteriaEmitters())a.dispatchEvent({...r})}}),e.addEventListener("error",()=>{let t={type:"error",payload:new yt(YZ(new Error("WebSocket error")))};this.masterSubEmitter?.dispatchEvent(t);for(let n of this.getAllCriteriaEmitters())n.dispatchEvent({...t})}),e.addEventListener("close",()=>{let t={type:"close"};this.masterSubEmitter?.dispatchEvent(t);for(let n of this.getAllCriteriaEmitters())n.dispatchEvent({...t});this.pingTimer&&(clearInterval(this.pingTimer),this.pingTimer=void 0,this.waitingForPong=!1),this.wsClosed&&(this.criteriaEntries.clear(),this.criteriaEntriesBySubscriptionId.clear(),this.masterSubEmitter?.removeAllListeners())}),e.addEventListener("open",()=>{let t={type:"open"};this.masterSubEmitter?.dispatchEvent(t);for(let n of this.getAllCriteriaEmitters())n.dispatchEvent({...t});this.refreshAllSubscriptions().catch(console.error),this.pingTimer||(this.pingTimer=setInterval(()=>{if(this.waitingForPong){this.waitingForPong=!1,e.reconnect();return}e.send(JSON.stringify({type:"ping"})),this.waitingForPong=!0},this.pingIntervalMs))}),this.medplum.addEventListener("change",()=>{let t=this.medplum.getProfile();this.currentProfile&&t===void 0?this.ws.close():t&&this.currentProfile?.id!==t.id&&this.ws.reconnect(),this.currentProfile=t})}emitError(e,t){let n={type:"error",payload:t};this.masterSubEmitter?.dispatchEvent(n),e.emitter.dispatchEvent({...n})}maybeEmitDisconnect(e){let{subscriptionId:t}=e;if(t){let n={type:"disconnect",payload:{subscriptionId:t}};this.masterSubEmitter?.dispatchEvent(n),e.emitter.dispatchEvent({...n})}else console.warn("Called disconnect for `CriteriaEntry` before `subscriptionId` was present.")}async getTokenForCriteria(e){let t=e?.subscriptionId;t||(t=(await this.medplum.createResource({...e.subscriptionProps,resourceType:"Subscription",status:"active",reason:`WebSocket subscription for ${Me(this.medplum.getProfile())}`,channel:{type:"websocket"},criteria:e.criteria})).id);let{parameter:n}=await this.medplum.get(`fhir/R4/Subscription/${t}/$get-ws-binding-token`),r=n?.find(i=>i.name==="token")?.valueString,a=n?.find(i=>i.name==="websocket-url")?.valueUrl;if(!r)throw new yt(wn("Failed to get token"));if(!a)throw new yt(wn("Failed to get URL from $get-ws-binding-token"));return[t,r]}maybeGetCriteriaEntry(e,t){let n=this.criteriaEntries.get(e);if(n){if(!t)return n.bareCriteria;for(let r of n.criteriaWithProps)if(gi(t,r.subscriptionProps))return r}}getAllCriteriaEmitters(){let e=[];for(let t of this.criteriaEntries.values()){t.bareCriteria&&e.push(t.bareCriteria.emitter);for(let n of t.criteriaWithProps)e.push(n.emitter)}return e}addCriteriaEntry(e){let{criteria:t,subscriptionProps:n}=e,r;this.criteriaEntries.has(t)?r=this.criteriaEntries.get(t):(r={criteriaWithProps:[]},this.criteriaEntries.set(t,r)),n?r.criteriaWithProps.push(e):r.bareCriteria=e}removeCriteriaEntry(e){let{criteria:t,subscriptionProps:n,subscriptionId:r,token:a}=e;if(!this.criteriaEntries.has(t))return;let i=this.criteriaEntries.get(t);n?i.criteriaWithProps=i.criteriaWithProps.filter(l=>{let u=l.subscriptionProps;return!gi(n,u)}):i.bareCriteria=void 0,!i.bareCriteria&&i.criteriaWithProps.length===0&&(this.criteriaEntries.delete(t),this.masterSubEmitter?._removeCriteria(t)),r&&this.criteriaEntriesBySubscriptionId.delete(r),a&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify({type:"unbind-from-token",payload:{token:a}}))}async subscribeToCriteria(e){if(!(this.ws.readyState!==WebSocket.OPEN||e.connecting)){e.connecting=!0;try{let[t,n]=await this.getTokenForCriteria(e);e.subscriptionId=t,e.token=n,this.criteriaEntriesBySubscriptionId.set(t,e),this.ws.send(JSON.stringify({type:"bind-with-token",payload:{token:n}}))}catch(t){console.error(Wt(t)),this.emitError(e,t),this.removeCriteriaEntry(e)}}}async refreshAllSubscriptions(){this.criteriaEntriesBySubscriptionId.clear();for(let e of this.criteriaEntries.values())for(let t of[...e.bareCriteria?[e.bareCriteria]:[],...e.criteriaWithProps])t.clearAttachedSubscription(),await this.subscribeToCriteria(t)}addCriteria(e,t){this.masterSubEmitter&&this.masterSubEmitter._addCriteria(e);let n=this.maybeGetCriteriaEntry(e,t);if(n)return n.refCount+=1,n.emitter;let r=new Dte(e,t);return this.addCriteriaEntry(r),this.subscribeToCriteria(r).catch(console.error),r.emitter}removeCriteria(e,t){let n=this.maybeGetCriteriaEntry(e,t);if(!n){console.warn("Criteria not known to `SubscriptionManager`. Possibly called remove too many times.");return}n.refCount-=1,!(n.refCount>0)&&(this.maybeEmitDisconnect(n),this.removeCriteriaEntry(n))}getWebSocket(){return this.ws}closeWebSocket(){this.wsClosed||(this.wsClosed=!0,this.ws.close())}reconnectWebSocket(){this.ws.reconnect(),this.wsClosed=!1}getCriteriaCount(){return this.getAllCriteriaEmitters().length}getMasterEmitter(){return this.masterSubEmitter||(this.masterSubEmitter=new jj(...Array.from(this.criteriaEntries.keys()))),this.masterSubEmitter}},Ote=Dn.FHIR_JSON+", */*; q=0.1",kte="https://api.medplum.com/",Mte=1e3,Pte=6e4,Nte=0,Ite=3e5,Lte="Binary/",AM={resourceType:"Device",id:"system",deviceName:[{type:"model-name",name:"System"}]},Lu={ClientCredentials:"client_credentials",AuthorizationCode:"authorization_code",RefreshToken:"refresh_token",JwtBearer:"urn:ietf:params:oauth:grant-type:jwt-bearer",TokenExchange:"urn:ietf:params:oauth:grant-type:token-exchange"},zte={AccessToken:"urn:ietf:params:oauth:token-type:access_token"},$te={JwtBearer:"urn:ietf:params:oauth:client-assertion-type:jwt-bearer"},wz=class extends vy{constructor(e){if(super(),ve(this,"options"),ve(this,"fetch"),ve(this,"createPdfImpl"),ve(this,"storage"),ve(this,"requestCache"),ve(this,"cacheTime"),ve(this,"baseUrl"),ve(this,"fhirBaseUrl"),ve(this,"authorizeUrl"),ve(this,"tokenUrl"),ve(this,"logoutUrl"),ve(this,"fhircastHubUrl"),ve(this,"defaultHeaders"),ve(this,"onUnauthenticated"),ve(this,"autoBatchTime"),ve(this,"autoBatchQueue"),ve(this,"refreshGracePeriod"),ve(this,"subscriptionManager"),ve(this,"medplumServer"),ve(this,"clientId"),ve(this,"clientSecret"),ve(this,"credentialsInHeader"),ve(this,"autoBatchTimerId"),ve(this,"accessToken"),ve(this,"accessTokenExpires"),ve(this,"refreshToken"),ve(this,"refreshPromise"),ve(this,"profilePromise"),ve(this,"sessionDetails"),ve(this,"currentRateLimits"),ve(this,"basicAuth"),ve(this,"initPromise"),ve(this,"initComplete",!0),ve(this,"keyValueClient"),ve(this,"logLevel"),e?.baseUrl&&!e.baseUrl.startsWith("http"))throw new Error("Base URL must start with http or https");this.options=e??{},this.fetch=e?.fetch??qte(),this.storage=e?.storage??new Cte(void 0,e?.storagePrefix),this.createPdfImpl=e?.createPdf,this.baseUrl=lz(e?.baseUrl??kte),this.fhirBaseUrl=ro(this.baseUrl,e?.fhirUrlPath??"fhir/R4"),this.authorizeUrl=ro(this.baseUrl,e?.authorizeUrl??"oauth2/authorize"),this.tokenUrl=ro(this.baseUrl,e?.tokenUrl??"oauth2/token"),this.logoutUrl=ro(this.baseUrl,e?.logoutUrl??"oauth2/logout"),this.fhircastHubUrl=ro(this.baseUrl,e?.fhircastHubUrl??"fhircast/STU3"),this.clientId=e?.clientId??"",this.clientSecret=e?.clientSecret??"",this.credentialsInHeader=e?.authCredentialsMethod==="header",this.defaultHeaders=e?.defaultHeaders??{},this.onUnauthenticated=e?.onUnauthenticated,this.refreshGracePeriod=e?.refreshGracePeriod??Ite,this.logLevel=this.initializeLogLevel(e),this.cacheTime=e?.cacheTime??(so()?Pte:Nte),this.cacheTime>0?this.requestCache=new nR(e?.resourceCacheSize??Mte):this.requestCache=void 0,e?.autoBatchTime?(this.autoBatchTime=e.autoBatchTime,this.autoBatchQueue=[]):(this.autoBatchTime=0,this.autoBatchQueue=void 0),e?.accessToken&&this.setAccessToken(e.accessToken),this.storage.getInitPromise===void 0?(e?.accessToken||this.attemptResumeActiveLogin().catch(console.error),this.initPromise=Promise.resolve(),this.dispatchEvent({type:"storageInitialized"})):(this.initComplete=!1,this.initPromise=this.storage.getInitPromise(),this.initPromise.then(()=>{e?.accessToken||this.attemptResumeActiveLogin().catch(console.error),this.initComplete=!0,this.dispatchEvent({type:"storageInitialized"})}).catch(t=>{console.error(t),this.initComplete=!0,this.dispatchEvent({type:"storageInitFailed",payload:{error:t}})})),this.setupStorageListener()}get isInitialized(){return this.initComplete}getInitPromise(){return this.initPromise}initializeLogLevel(e){return e?.logLevel?e.logLevel:e?.verbose!==void 0&&e.verbose?"verbose":"none"}async attemptResumeActiveLogin(){let e=this.getActiveLogin();e&&(this.setAccessToken(e.accessToken,e.refreshToken),await this.refreshProfile())}getBaseUrl(){return this.baseUrl}getAuthorizeUrl(){return this.authorizeUrl}getTokenUrl(){return this.tokenUrl}getLogoutUrl(){return this.logoutUrl}getFhircastHubUrl(){return this.fhircastHubUrl}getDefaultHeaders(){return this.defaultHeaders}clear(){this.storage.clear(),so()&&sessionStorage.clear(),this.clearActiveLogin()}clearActiveLogin(){this.storage.setString("activeLogin",void 0),this.requestCache?.clear(),this.accessToken=void 0,this.refreshToken=void 0,this.refreshPromise=void 0,this.accessTokenExpires=void 0,this.sessionDetails=void 0,this.medplumServer=void 0,this.dispatchEvent({type:"change"})}invalidateUrl(e){e=e.toString(),this.requestCache?.delete(e)}invalidateAll(){this.requestCache?.clear()}invalidateSearches(e){let t=ro(this.fhirBaseUrl,e);if(this.requestCache)for(let n of this.requestCache.keys())(n.endsWith(t)||n.includes(t+"?"))&&this.requestCache.delete(n)}get(e,t={}){e=e.toString();let n=this.getCacheEntry(e,t);if(n)return n.value;let r;e.startsWith(this.fhirBaseUrl)&&this.autoBatchQueue&&!t.disableAutoBatch?r=new Promise((i,l)=>{this.autoBatchQueue.push({method:"GET",url:e.replace(this.fhirBaseUrl,""),options:t,resolve:i,reject:l}),this.autoBatchTimerId||(this.autoBatchTimerId=setTimeout(()=>this.executeAutoBatch(),this.autoBatchTime))}):r=this.request("GET",e,t);let a=new Pi(r);return this.setCacheEntry(e,a),a}post(e,t,n,r={}){return e=e.toString(),this.setRequestBody(r,t),n&&this.setRequestContentType(r,n),this.invalidateUrl(e),this.request("POST",e,r)}put(e,t,n,r={}){return e=e.toString(),this.setRequestBody(r,t),n&&this.setRequestContentType(r,n),this.invalidateUrl(e),this.request("PUT",e,r)}patch(e,t,n={}){return e=e.toString(),this.setRequestBody(n,t),this.setRequestContentType(n,Dn.JSON_PATCH),this.invalidateUrl(e),this.request("PATCH",e,n)}delete(e,t){return e=e.toString(),this.invalidateUrl(e),this.request("DELETE",e,t)}async startNewUser(e,t){let{codeChallengeMethod:n,codeChallenge:r}=await this.startPkce();return this.post("auth/newuser",{...e,clientId:e.clientId??this.clientId,codeChallengeMethod:n,codeChallenge:r},void 0,t)}async startNewProject(e,t){return this.post("auth/newproject",e,void 0,t)}async startNewPatient(e,t){return this.post("auth/newpatient",e,void 0,t)}async startLogin(e,t){return this.post("auth/login",{...await this.ensureCodeChallenge(e),clientId:e.clientId??this.clientId,scope:e.scope},void 0,t)}async startGoogleLogin(e,t){return this.post("auth/google",{...await this.ensureCodeChallenge(e),clientId:e.clientId??this.clientId,scope:e.scope},void 0,t)}async ensureCodeChallenge(e){return e.codeChallenge?e:{...e,...await this.startPkce()}}async signOut(){await this.post(this.logoutUrl,{}),this.clear()}async signInWithRedirect(e){let t=new URLSearchParams(gr.getSearch()).get("code");if(!t){await this.requestAuthorization(e);return}return this.processCode(t)}signOutWithRedirect(){gr.assign(this.logoutUrl)}async signInWithExternalAuth(e,t,n,r,a=!0){let i=r;a&&(i=await this.ensureCodeChallenge(r)),gr.assign(this.getExternalAuthRedirectUri(e,t,n,i,a))}async exchangeExternalAccessToken(e,t){if(t=t??this.clientId,!t)throw new Error("MedplumClient is missing clientId");return this.fetchTokens({grant_type:Lu.TokenExchange,subject_token_type:zte.AccessToken,client_id:t,subject_token:e})}getExternalAuthRedirectUri(e,t,n,r,a=!0){let i=new URL(e);if(i.searchParams.set("response_type","code"),i.searchParams.set("client_id",t),i.searchParams.set("redirect_uri",n),i.searchParams.set("scope",r.scope??"openid profile email"),i.searchParams.set("state",JSON.stringify(r)),a){let{codeChallenge:l,codeChallengeMethod:u}=r;if(!u)throw new Error("`LoginRequest` for external auth must include a `codeChallengeMethod`.");if(!l)throw new Error("`LoginRequest` for external auth must include a `codeChallenge`.");i.searchParams.set("code_challenge_method",u),i.searchParams.set("code_challenge",l)}return i.toString()}fhirUrl(...e){return new URL(ro(this.fhirBaseUrl,e.join("/")))}fhirSearchUrl(e,t){let n=this.fhirUrl(e);return t&&(n.search=PJ(t)),n}search(e,t,n){let r=this.fhirSearchUrl(e,t),a="search-"+r.toString(),i=this.getCacheEntry(a,n);if(i)return i.value;let l=this.getBundle(r,n);return this.setCacheEntry(a,l),l}searchOne(e,t,n){let r=this.fhirSearchUrl(e,t);r.searchParams.set("_count","1"),r.searchParams.sort();let a="searchOne-"+r.toString(),i=this.getCacheEntry(a,n);if(i)return i.value;let l=new Pi(this.search(e,r.searchParams,n).then(u=>u.entry?.[0]?.resource));return this.setCacheEntry(a,l),l}searchResources(e,t,n){let r="searchResources-"+this.fhirSearchUrl(e,t).toString(),a=this.getCacheEntry(r,n);if(a)return a.value;let i=new Pi(this.search(e,t,n).then(kM));return this.setCacheEntry(r,i),i}async*searchResourcePages(e,t,n){let r=this.fhirSearchUrl(e,t);for(;r;){let a=new URL(r).searchParams;a.has("_count")||a.set("_count","1000");let i=await this.search(e,a,n),l=i.link?.find(u=>u.relation==="next");if(!i.entry?.length&&!l)break;yield kM(i),r=l?.url?new URL(l.url):void 0}}valueSetExpand(e,t){let n=this.fhirUrl("ValueSet","$expand");return n.search=new URLSearchParams(e).toString(),this.get(n.toString(),t)}getCached(e,t){let n=this.requestCache?.get(this.fhirUrl(e,t).toString())?.value;return n?.isOk()?n.read():void 0}getCachedReference(e){let t=e.reference;if(!t)return;if(t==="system")return AM;let[n,r]=t.split("/");if(!(!n||!r))return this.getCached(n,r)}readResource(e,t,n){if(!t)throw new Error('The "id" parameter cannot be null, undefined, or an empty string.');return this.get(this.fhirUrl(e,t),n)}readReference(e,t){let n=e.reference;if(!n)return new Pi(Promise.reject(new Error("Missing reference")));if(n==="system")return new Pi(Promise.resolve(AM));let[r,a]=n.split("/");return!r||!a?new Pi(Promise.reject(new Error("Invalid reference"))):this.readResource(r,a,t)}readCanonical(e,t,n){return Array.isArray(e)?this.searchOne("",{_type:e.join(","),url:t},n):this.searchOne(e,"url="+t,n)}requestSchema(e){if(U6(e))return Promise.resolve();let t=e+"-requestSchema",n=this.getCacheEntry(t,void 0);if(n)return n.value;let r=new Pi((async()=>{let a=`{
      StructureDefinitionList(_filter: "name eq ${e}") {
        resourceType,
        name,
        kind,
        description,
        type,
        url,
        snapshot {
          element {
            id,
            path,
            definition,
            min,
            max,
            base {
              path,
              min,
              max
            },
            contentReference,
            type {
              code,
              profile,
              targetProfile
            },
            binding {
              strength,
              valueSet
            }
          }
        }
      }
      SearchParameterList(base: "${e}", _count: 100) {
        base,
        code,
        type,
        expression,
        target
      }
    }`.replaceAll(/\s+/g," "),i=await this.graphql(a);dM(i.data.StructureDefinitionList);for(let l of i.data.SearchParameterList)GJ(l)})());return this.setCacheEntry(t,r),r}requestProfileSchema(e,t){if(!t?.expandProfile&&oR(e))return Promise.resolve();let n=e+"-requestSchema"+(t?.expandProfile?"-nested":""),r=this.getCacheEntry(n,void 0);if(r)return r.value;let a=new Pi((async()=>{if(t?.expandProfile){let i=this.fhirUrl("StructureDefinition","$expand-profile");i.search=new URLSearchParams({url:e}).toString();let l=await this.post(i.toString(),{});dM(l)}else{let i=await this.searchOne("StructureDefinition",{url:e,_sort:"-_lastUpdated"});if(!i){console.warn(`No StructureDefinition found for ${e}!`);return}q6(i)}})());return this.setCacheEntry(n,a),a}readHistory(e,t,n,r){let a=this.fhirUrl(e,t,"_history");return n?.count&&a.searchParams.set("_count",n.count.toString()),n?.offset&&a.searchParams.set("_offset",n.offset.toString()),this.get(a.toString(),r)}readVersion(e,t,n,r){return this.get(this.fhirUrl(e,t,"_history",n),r)}readPatientEverything(e,t){return this.getBundle(this.fhirUrl("Patient",e,"$everything"),t)}readPatientSummary(e,t){return this.getBundle(this.fhirUrl("Patient",e,"$summary"),t)}createResource(e,t){if(!e.resourceType)throw new Error("Missing resourceType");return this.invalidateSearches(e.resourceType),this.post(this.fhirUrl(e.resourceType),e,void 0,t)}async createResourceIfNoneExist(e,t,n={}){let r=this.fhirUrl(e.resourceType);this.setRequestHeader(n,"If-None-Exist",t);let a=await this.post(r,e,void 0,n);return this.cacheResource(a),this.invalidateUrl(this.fhirUrl(e.resourceType,e.id,"_history")),this.invalidateSearches(e.resourceType),a}async upsertResource(e,t,n){let r=this.fhirSearchUrl(e.resourceType,t),a=await this.put(r,e,void 0,n);return a||(a=e),this.cacheResource(a),this.invalidateUrl(this.fhirUrl(e.resourceType,e.id,"_history")),this.invalidateSearches(e.resourceType),a}async createAttachment(e,t,n,r,a){let i=MM(e,t,n,r);if(i.contentType===Dn.XML){let d=i.data,h;d instanceof Blob?h=await new Promise((p,m)=>{let g=new FileReader;g.onload=()=>{if(!g.result){m(new Error("Failed to load file"));return}p(g.result)},g.readAsText(d,"utf-8")}):ArrayBuffer.isView(d)?h=new TextDecoder().decode(d):h=d,h.includes("<ClinicalDocument")&&h.includes("urn:hl7-org:v3")&&(i={...i,contentType:Dn.CDA_XML})}let l=a??(typeof t=="object"?t:{}),u=await this.createBinary(i,l);return{contentType:i.contentType,url:u.url,title:i.filename}}createBinary(e,t,n,r,a){let i=MM(e,t,n,r),l=a??(typeof t=="object"?t:{}),{data:u,contentType:d,filename:h,securityContext:p,onProgress:m}=i,g=this.fhirUrl("Binary");return h&&g.searchParams.set("_filename",h),p?.reference&&this.setRequestHeader(l,"X-Security-Context",p.reference),m?this.uploadwithProgress(g,u,d,m,l):this.post(g,u,d,l)}uploadwithProgress(e,t,n,r,a){return new Promise((i,l)=>{let u=new XMLHttpRequest,d=()=>u.abort();a?.signal?.addEventListener("abort",d);let h=p=>{a?.signal?.removeEventListener("abort",d),p instanceof Error?l(p):i(p)};if(u.responseType="json",u.onabort=()=>h(new DOMException("Request aborted","AbortError")),u.onerror=()=>h(new Error("Request error")),r&&(u.upload.onprogress=p=>r(p),u.upload.onload=p=>r(p)),u.onload=()=>{u.status>=200&&u.status<300?h(u.response):h(new yt(kr(u.response||u.statusText)))},u.open("POST",e),u.withCredentials=!0,u.setRequestHeader("Authorization","Bearer "+this.accessToken),u.setRequestHeader("Cache-Control","no-cache, no-store, max-age=0"),u.setRequestHeader("Content-Type",n),this.options.extendedMode!==!1&&u.setRequestHeader("X-Medplum","extended"),a?.headers){let p=a.headers;for(let[m,g]of Object.entries(p))u.setRequestHeader(m,g)}u.send(t)})}async createPdf(e,t,n,r){if(!this.createPdfImpl)throw new Error("PDF creation not enabled");let a=Hte(e,t,n,r),i=typeof t=="object"?t:{},{docDefinition:l,tableLayouts:u,fonts:d,...h}=a,p=await this.createPdfImpl(l,u,d),m={...h,data:p,contentType:"application/pdf"};return this.createBinary(m,i)}createComment(e,t,n){let r=this.getProfile(),a,i;return e.resourceType==="Encounter"&&(a=ke(e),i=e.subject),e.resourceType==="ServiceRequest"&&(a=e.encounter,i=e.subject),e.resourceType==="Patient"&&(i=ke(e)),this.createResource({resourceType:"Communication",status:"completed",basedOn:[ke(e)],encounter:a,subject:i,sender:r?ke(r):void 0,sent:new Date().toISOString(),payload:[{contentString:t}]},n)}async updateResource(e,t){if(!e.resourceType)throw new Error("Missing resourceType");if(!e.id)throw new Error("Missing id");let n=await this.put(this.fhirUrl(e.resourceType,e.id),e,void 0,t);return n||(n=e),this.cacheResource(n),this.invalidateUrl(this.fhirUrl(e.resourceType,e.id,"_history")),this.invalidateSearches(e.resourceType),n}async patchResource(e,t,n,r){let a=await this.patch(this.fhirUrl(e,t),n,r);return this.cacheResource(a),this.invalidateUrl(this.fhirUrl(e,t,"_history")),this.invalidateSearches(e),a}deleteResource(e,t,n){return this.deleteCacheEntry(this.fhirUrl(e,t).toString()),this.invalidateSearches(e),this.delete(this.fhirUrl(e,t),n)}validateResource(e,t){return this.post(this.fhirUrl(e.resourceType,"$validate"),e,void 0,t)}executeBot(e,t,n,r){let a;if(typeof e=="string"){let i=e;a=this.fhirUrl("Bot",i,"$execute")}else{let i=e;a=this.fhirUrl("Bot","$execute"),a.searchParams.set("identifier",i.system+"|"+i.value)}return this.post(a,t,n,r)}executeBatch(e,t){return this.post(this.fhirBaseUrl,e,void 0,t)}sendEmail(e,t){return this.post("email/v1/send",e,Dn.JSON,t)}graphql(e,t,n,r){return this.post(this.fhirUrl("$graphql"),{query:e,operationName:t,variables:n},Dn.JSON,r)}readResourceGraph(e,t,n,r){return this.get(`${this.fhirUrl(e,t)}/$graph?graph=${n}`,r)}pushToAgent(e,t,n,r,a,i){let{waitTimeout:l,...u}=i??{};return this.post(this.fhirUrl("Agent",sd(e),"$push"),{destination:typeof t=="string"?t:Me(t),body:n,contentType:r,waitForResponse:a,...l!==void 0?{waitTimeout:l}:void 0},Dn.FHIR_JSON,u)}getCdsServices(e){return this.get("/cds-services",e)}callCdsService(e,t,n){return this.post(`/cds-services/${e}`,t,Dn.JSON,n)}getActiveLogin(){return this.storage.getObject("activeLogin")}async setActiveLogin(e){(!this.sessionDetails?.profile||Me(this.sessionDetails.profile)!==e.profile?.reference)&&this.clearActiveLogin(),this.setAccessToken(e.accessToken,e.refreshToken),this.storage.setObject("activeLogin",e),this.addLogin(e),this.refreshPromise=void 0,await this.refreshProfile()}getAccessToken(){return this.accessToken}isAuthenticated(e){return this.accessTokenExpires!==void 0&&Date.now()<this.accessTokenExpires-(e??this.refreshGracePeriod)}setAccessToken(e,t){this.accessToken=e,this.refreshToken=t,this.accessTokenExpires=Ste(e),this.medplumServer=xte(e)}getLogins(){return this.storage.getObject("logins")??[]}addLogin(e){let t=this.getLogins().filter(n=>n.profile?.reference!==e.profile?.reference);t.push(e),this.storage.setObject("logins",t)}async refreshProfile(){if(this.medplumServer)return this.profilePromise=new Promise((e,t)=>{this.get("auth/me",{cache:"no-cache"}).then(n=>{this.profilePromise=void 0;let r=this.sessionDetails?.profile?.id!==n.profile.id;this.sessionDetails=n,r&&this.dispatchEvent({type:"change"}),e(n.profile),this.dispatchEvent({type:"profileRefreshed"})}).catch(t)}),this.dispatchEvent({type:"profileRefreshing"}),this.profilePromise}isLoading(){return!this.isInitialized||!!this.profilePromise&&!this.sessionDetails?.profile}isSuperAdmin(){return!!this.sessionDetails?.project.superAdmin}isProjectAdmin(){return!!this.sessionDetails?.membership.admin}getProject(){return this.sessionDetails?.project}getProjectMembership(){return this.sessionDetails?.membership}getProfile(){return this.sessionDetails?.profile}async getProfileAsync(){return this.profilePromise?this.profilePromise:this.sessionDetails?this.sessionDetails.profile:this.refreshProfile()}getUserConfiguration(){return this.sessionDetails?.config}getAccessPolicy(){return this.sessionDetails?.accessPolicy}async download(e,t={}){this.refreshPromise&&await this.refreshPromise;let n=e.toString();n.startsWith(Lte)&&(e=this.fhirUrl(n));let r=t.headers;return r||(r={},t.headers=r),r.Accept||(r.Accept="*/*"),this.addFetchOptionsDefaults(t),(await this.fetchWithRetry(e.toString(),t)).blob()}async createMedia(e,t){let{additionalFields:n,...r}=e,a=await this.createResource({resourceType:"Media",status:"preparation",content:{contentType:e.contentType},...n});r.securityContext||(r.securityContext=ke(a));let i=await this.createAttachment(r,t);return this.updateResource({...a,status:"completed",content:i})}async uploadMedia(e,t,n,r,a){return this.createMedia({data:e,contentType:t,filename:n,additionalFields:r},a)}async createDocumentReference(e,t){let{additionalFields:n,...r}=e,a=await this.createResource({resourceType:"DocumentReference",status:"current",content:[{attachment:{contentType:e.contentType}}],...n});r.securityContext||(r.securityContext=ke(a));let i=await this.createAttachment(r,t);return this.updateResource({...a,content:[{attachment:i}]})}async bulkExport(e="",t,n,r){let a=e&&`${e}/`,i=this.fhirUrl(`${a}$export`);return t&&i.searchParams.set("_type",t),n&&i.searchParams.set("_since",n),this.startAsyncRequest(i.toString(),r)}async startAsyncRequest(e,t={}){this.addFetchOptionsDefaults(t);let n=t.headers;return n.Prefer="respond-async",this.request("POST",e,t)}get keyValue(){return this.keyValueClient||(this.keyValueClient=new wte(this)),this.keyValueClient}getBundle(e,t){return new Pi((async()=>{let n=await this.get(e,t);if(n.entry)for(let r of n.entry)this.cacheResource(r.resource);return n})())}getCacheEntry(e,t){if(!this.requestCache||t?.cache==="no-cache"||t?.cache==="reload")return;let n=this.requestCache.get(e);if(!(!n||n.requestTime+this.cacheTime<Date.now()))return n}setCacheEntry(e,t){this.requestCache&&this.requestCache.set(e,{requestTime:Date.now(),value:t})}cacheResource(e){e?.id&&!e.meta?.tag?.some(t=>t.code==="SUBSETTED")&&this.setCacheEntry(this.fhirUrl(e.resourceType,e.id).toString(),new Pi(Promise.resolve(e)))}deleteCacheEntry(e){this.requestCache&&this.requestCache.delete(e)}async request(e,t,n={},r={}){await this.refreshIfExpired(),n.method=e,this.addFetchOptionsDefaults(n);let a=await this.fetchWithRetry(t,n);if(a.status===401)return this.handleUnauthenticated(e,t,n);if(a.status===204||a.status===304)return;let i=a.headers.get("content-type")?.includes("json");if(a.status===404&&!i)throw new yt(WZ);let l=await this.parseBody(a,i);if(a.status===200&&n.followRedirectOnOk||a.status===201&&n.followRedirectOnCreated){let u=await OM(a,l);if(u)return this.request("GET",u,{...n,body:void 0})}if(a.status===202&&n.pollStatusOnAccepted){let u=await OM(a,l)??r.statusUrl;if(u)return this.pollStatus(u,n,r)}if(a.status>=400)throw new yt(kr(l));return l}async parseBody(e,t){let n;if(e.headers.get("content-length")!=="0"){if(t)try{n=await e.json()}catch(r){throw console.error("Error parsing response",e.status,r),r}else n=await e.text();return n}}async fetchWithRetry(e,t){e.startsWith("http")||(e=ro(this.baseUrl,e));let n=t?.maxRetries??2;for(let r=0;r<=n;r++)try{this.logLevel!=="none"&&this.logRequest(e,t);let a=await this.fetch(e,t);if(this.logLevel!=="none"&&this.logResponse(a),this.setCurrentRateLimit(a),r>=n||!Fte(a))return a;let i=this.getRetryDelay(r),l=t.maxRetryTime??2e3;if(i>l)return a;await bM(i)}catch(a){if(a.message==="Failed to fetch"&&r===0&&this.dispatchEvent({type:"offline"}),a.name==="AbortError"||r===n)throw a}throw new Error("Unreachable")}logRequest(e,t){if(console.log(`> ${t.method} ${e}`),this.logLevel==="verbose"&&t.headers){let n=t.headers;for(let r of dR(Object.keys(n)))console.log(`> ${r}: ${n[r]}`)}}logResponse(e){console.log(`< ${e.status} ${e.statusText}`),this.logLevel==="verbose"&&e.headers&&e.headers.forEach((t,n)=>console.log(`< ${n}: ${t}`))}setCurrentRateLimit(e){if(!e?.headers||typeof e.headers.get!="function")return;let t=e.headers.get("ratelimit");t&&(this.currentRateLimits=t)}rateLimitStatus(){if(!this.currentRateLimits)return[];let e=this.currentRateLimits;return e.split(",").map(t=>{let n=t.split(";").map(d=>d.trim());if(n.length!==3)throw new Error("Could not parse RateLimit header: "+e);let r=n[0].substring(1,n[0].length-1),a=n.find(d=>d.startsWith("r="))?.substring(2),i=a?Number.parseInt(a,10):Number.NaN,l=n.find(d=>d.startsWith("t="))?.substring(2),u=l?Number.parseInt(l,10):Number.NaN;if(!r||Number.isNaN(i)||Number.isNaN(u))throw new Error("Could not parse RateLimit header: "+e);return{name:r,remainingUnits:i,secondsUntilReset:u,resetsAfter:Math.ceil((Date.now()+1e3*u)/1e3)}})}getRetryDelay(e){let t=this.rateLimitStatus(),n=500*Math.pow(1.5,e);for(let r of t)r.remainingUnits||(n=Math.max(n,r.secondsUntilReset*1e3));return n}async pollStatus(e,t,n){let r={...t,method:"GET",body:void 0,redirect:"follow"};if(n.pollCount===void 0)t.headers&&typeof t.headers=="object"&&"Prefer"in t.headers&&(r.headers={...t.headers},delete r.headers.Prefer),n.statusUrl=e,n.pollCount=1;else{let a=t.pollStatusPeriod??1e3;await bM(a),n.pollCount++}return this.request("GET",e,r,n)}async executeAutoBatch(){if(this.autoBatchQueue===void 0)return;let e=[...this.autoBatchQueue];if(this.autoBatchQueue.length=0,this.autoBatchTimerId=void 0,e.length===1){let r=e[0];try{r.resolve(await this.request(r.method,ro(this.fhirBaseUrl,r.url),r.options))}catch(a){r.reject(new yt(kr(a)))}return}let t={resourceType:"Bundle",type:"batch",entry:e.map(r=>({request:{method:r.method,url:r.url},resource:r.options.body?JSON.parse(r.options.body):void 0}))},n=await this.post(this.fhirBaseUrl,t);for(let r=0;r<e.length;r++){let a=e[r],i=n.entry?.[r];i?.response?.outcome&&!aR(i.response.outcome)?a.reject(new yt(i.response.outcome)):a.resolve(i?.resource)}}addFetchOptionsDefaults(e){Object.entries(this.defaultHeaders).forEach(([t,n])=>{this.setRequestHeader(e,t,n)}),this.setRequestHeader(e,"Accept",Ote,!0),this.options.extendedMode!==!1&&this.setRequestHeader(e,"X-Medplum","extended"),e.body&&this.setRequestHeader(e,"Content-Type",Dn.FHIR_JSON,!0),this.accessToken?this.setRequestHeader(e,"Authorization","Bearer "+this.accessToken):this.basicAuth&&this.setRequestHeader(e,"Authorization","Basic "+this.basicAuth),e.cache||(e.cache="no-cache"),e.credentials||(e.credentials="include")}setRequestContentType(e,t){this.setRequestHeader(e,"Content-Type",t)}setRequestHeader(e,t,n,r=!1){let a=e.headers;a?Array.isArray(a)?(!r||!a.some(([i])=>i.toLowerCase()===t.toLowerCase()))&&a.push([t,n]):a instanceof Headers?(!r||!a.has(t))&&a.set(t,n):na(a)&&(!r||!a[t])&&(a[t]=n):e.headers={[t]:n}}setRequestBody(e,t){typeof t=="string"||typeof Blob<"u"&&(t instanceof Blob||t?.constructor.name==="Blob")||typeof File<"u"&&(t instanceof File||t?.constructor.name==="File")||typeof Uint8Array<"u"&&(t instanceof Uint8Array||t?.constructor.name==="Uint8Array")?e.body=t:t&&(e.body=JSON.stringify(t))}async handleUnauthenticated(e,t,n){if(this.refresh())return this.request(e,t,n);throw this.clear(),this.onUnauthenticated?.(),new yt(lh)}async startPkce(){let e=EM();sessionStorage.setItem("pkceState",e);let t=EM().slice(0,128);sessionStorage.setItem("codeVerifier",t);try{let n=await ste(t);return{codeChallengeMethod:"S256",codeChallenge:AJ(n).replaceAll("+","-").replaceAll("/","_").replaceAll("=","")}}catch(n){return console.warn("Failed to hash code verifier. Falling back to 'plain' code challenge method",n),{codeChallengeMethod:"plain",codeChallenge:t}}}async requestAuthorization(e){let t=await this.ensureCodeChallenge(e??{}),n=new URL(this.authorizeUrl);n.searchParams.set("response_type","code"),n.searchParams.set("state",sessionStorage.getItem("pkceState")),n.searchParams.set("client_id",t.clientId??this.clientId),n.searchParams.set("redirect_uri",t.redirectUri??gr.getOrigin()),n.searchParams.set("code_challenge_method",t.codeChallengeMethod),n.searchParams.set("code_challenge",t.codeChallenge),n.searchParams.set("scope",t.scope??"openid profile"),gr.assign(n.toString())}processCode(e,t){let n={grant_type:Lu.AuthorizationCode,code:e,client_id:t?.clientId??this.clientId??"",redirect_uri:t?.redirectUri??gr.getOrigin()};if(typeof sessionStorage<"u"){let r=sessionStorage.getItem("codeVerifier");r&&(n.code_verifier=r)}return this.fetchTokens(n)}refreshIfExpired(e){return!this.refreshPromise&&this.accessTokenExpires!==void 0&&!this.isAuthenticated(e)&&this.refresh(),this.refreshPromise??Promise.resolve()}refresh(){if(this.refreshPromise)return this.refreshPromise;if(this.refreshToken)return this.refreshPromise=this.fetchTokens({grant_type:Lu.RefreshToken,client_id:this.clientId??"",refresh_token:this.refreshToken}),this.refreshPromise;if(this.clientId&&this.clientSecret)return this.refreshPromise=this.startClientLogin(this.clientId,this.clientSecret),this.refreshPromise}async startClientLogin(e,t){return this.clientId=e,this.clientSecret=t,this.fetchTokens({grant_type:Lu.ClientCredentials,client_id:e,client_secret:t})}async startJwtBearerLogin(e,t,n){return this.clientId=e,this.fetchTokens({grant_type:Lu.JwtBearer,client_id:e,assertion:t,scope:n})}async startJwtAssertionLogin(e){return this.fetchTokens({grant_type:Lu.ClientCredentials,client_assertion_type:$te.JwtBearer,client_assertion:e})}setBasicAuth(e,t){this.clientId=e,this.clientSecret=t,this.basicAuth=jM(e+":"+t)}setLogLevel(e){this.logLevel=e,this.options.verbose=e==="verbose"}getLogLevel(){return this.logLevel}setVerbose(e){this.logLevel=e?"verbose":"none",this.options.verbose=e}async fhircastSubscribe(e,t){if(!(typeof e=="string"&&e!==""))throw new yt(wn("Invalid topic provided. Topic must be a valid string."));if(!(typeof t=="object"&&Array.isArray(t)&&t.length>0))throw new yt(wn("Invalid events provided. Events must be an array of event names containing at least one event."));let n={channelType:"websocket",mode:"subscribe",topic:e,events:t},r=(await this.post(this.fhircastHubUrl,TM(n),Dn.FORM_URL_ENCODED))["hub.channel.endpoint"];if(!r)throw new Error("Invalid response!");return n.endpoint=r,n}async fhircastUnsubscribe(e){if(!ER(e))throw new yt(wn("Invalid topic or subscriptionRequest. SubscriptionRequest must be an object."));if(!(e.endpoint&&typeof e.endpoint=="string"&&e.endpoint.startsWith("ws")))throw new yt(wn("Provided subscription request must have an endpoint in order to unsubscribe."));e.mode="unsubscribe",await this.post(this.fhircastHubUrl,TM(e),Dn.FORM_URL_ENCODED)}fhircastConnect(e){return new vte(e)}async fhircastPublish(e,t,n,r){return ute(t)?this.post(this.fhircastHubUrl,RM(e,t,n,r),Dn.JSON):(dte(t),this.post(this.fhircastHubUrl,RM(e,t,n),Dn.JSON))}async fhircastGetContext(e){return this.get(`${this.fhircastHubUrl}/${e}`,{cache:"no-cache"})}async invite(e,t){return this.post("admin/projects/"+e+"/invite",t)}async fetchTokens(e){let t=new URLSearchParams(e),n={...this.defaultHeaders,"Content-Type":Dn.FORM_URL_ENCODED};this.basicAuth&&(n.Authorization=`Basic ${this.basicAuth}`),this.credentialsInHeader&&(t.delete("client_id"),t.delete("client_secret"),!this.basicAuth&&e.client_id&&e.client_secret&&(n.Authorization=`Basic ${jM(e.client_id+":"+e.client_secret)}`));let r={method:"POST",headers:n,body:t.toString(),credentials:"include"},a;try{a=await this.fetchWithRetry(this.tokenUrl,r)}catch(l){throw this.refreshPromise=void 0,l}if(!a.ok){this.clearActiveLogin(),this.onUnauthenticated?.();try{let l=await a.json();throw new yt(Xo(l.error_description))}catch(l){throw new yt(Xo("Failed to fetch tokens"),{cause:l})}}let i=await a.json();return await this.verifyTokens(i),this.getProfile()}async verifyTokens(e){let t=e.access_token;if(bte(t)){let n=TR(t);if(Date.now()>=n.exp*1e3)throw this.clearActiveLogin(),new yt(GZ);if(n.cid){if(n.cid!==this.clientId)throw this.clearActiveLogin(),new yt(cM)}else if(this.clientId&&n.client_id!==this.clientId)throw this.clearActiveLogin(),new yt(cM)}return this.setActiveLogin({accessToken:t,refreshToken:e.refresh_token,project:e.project,profile:e.profile})}checkSessionDetailsMatchLogin(e){return this.sessionDetails&&e?e.profile?.reference?.endsWith(this.sessionDetails.profile.id)??!1:!0}setupStorageListener(){try{window.addEventListener("storage",e=>{if(e.key===null)gr.reload();else if(e.key===this.storage.makeKey("activeLogin")){let t=e.oldValue?JSON.parse(e.oldValue):void 0,n=e.newValue?JSON.parse(e.newValue):void 0;t?.profile.reference!==n?.profile.reference||!this.checkSessionDetailsMatchLogin(n)?gr.reload():n?this.setAccessToken(n.accessToken,n.refreshToken):this.clear()}})}catch{}}getSubscriptionManager(){return this.subscriptionManager||(this.subscriptionManager=new Ate(this,MJ(this.baseUrl,"/ws/subscriptions-r4"))),this.subscriptionManager}subscribeToCriteria(e,t){return this.getSubscriptionManager().addCriteria(e,t)}unsubscribeFromCriteria(e,t){this.subscriptionManager&&(this.subscriptionManager.removeCriteria(e,t),this.subscriptionManager.getCriteriaCount()===0&&this.subscriptionManager.closeWebSocket())}getMasterSubscriptionEmitter(){return this.getSubscriptionManager().getMasterEmitter()}};function qte(){if(!globalThis.fetch)throw new Error("Fetch not available in this environment");return globalThis.fetch.bind(globalThis)}async function OM(e,t){let n=e.headers.get("content-location");if(n)return n;let r=e.headers.get("location");if(r)return r;if(rR(t)&&t.issue?.[0]?.diagnostics)return t.issue[0].diagnostics}function kM(e){let t=e.entry?.map(n=>n.resource)??[];return Object.assign(t,{bundle:e})}function Ute(e){return na(e)&&"data"in e&&"contentType"in e}function MM(e,t,n,r){return Ute(e)?e:{data:e,filename:t,contentType:n,onProgress:r}}function Bte(e){return na(e)&&"docDefinition"in e}function Hte(e,t,n,r){return Bte(e)?e:{docDefinition:e,filename:t,tableLayouts:n,fonts:r}}function Fte(e){return e.status===429||e.status>=500}function cd({parentContext:e,path:t,elements:n,profileUrl:r,debugMode:a,accessPolicyResource:i}){if(t===e?.path)return;a??=e?.debugMode??!1,i??=e?.accessPolicyResource;let l=Vte(t,n,e,!!a),u=wj(t,".",2)[1];l=Wte(l,i,u),l=Gte(l,i,u);let d=Object.create(null);for(let[p,m]of Object.entries(l))d[t+"."+p]=m;let h;if(e&&!e.isDefaultContext)h=e.getExtendedProps;else{let p=Object.create(null);h=m=>{let g=wj(m,".",2)[1];if(g){if(!p[g]){let y=Yg(g,i?.hiddenFields);p[g]={hidden:y,readonly:y||Yg(g,i?.readonlyFields)}}return p[g]}}}return{path:t,elements:l,elementsByPath:d,profileUrl:r??e?.profileUrl,debugMode:a,getExtendedProps:h,accessPolicyResource:i}}function Vte(e,t,n,r){let a=Object.create(null);if(n)for(let[l,u]of Object.entries(n.elementsByPath)){let d=nc(e,l);d!==void 0&&(a[d]=u)}let i=!1;if(t)for(let[l,u]of Object.entries(t))l in a||(a[l]=u,i=!0);return r&&console.assert(i,"Unnecessary ElementsContext; not using any newly provided elements"),a}function Wte(e,t,n){if(!t?.hiddenFields?.length)return e;let r=n?n+".":"";return Object.fromEntries(Object.entries(e).filter(([a])=>!Yg(r+a,t.hiddenFields)))}function Gte(e,t,n){if(!t?.readonlyFields?.length)return e;let r=Object.create(null),a=n?n+".":"";for(let[i,l]of Object.entries(e))Yg(a+i,t.readonlyFields)?r[i]={...l,readonly:!0}:r[i]=l;return r}function Yg(e,t){if(!t?.length)return!1;let n=e.split(".");for(let r=1;r<=n.length;r++){let a=n.slice(0,r).join(".");if(t.includes(a))return!0}return!1}function Cz(e){return e.type!==void 0&&e.type.length>0}function Yte(e,t,n,r){let a=iJ(e,t.path,{profileUrl:r});if(a){let i=n.typeSchema?.elements??n.elements;return a.some(l=>sJ(l,t,n,i))??!1}return console.assert(!1,"getNestedProperty[%s] in isDiscriminatorComponentMatch missed",t.path),!1}function jz(e,t,n,r){if(e)for(let a of t){let i={value:e,type:a.typeSchema?.type??a.type?.[0].code};if(n.every(l=>Yte(i,l,a,a.typeSchema?.url??r)))return a.name}}var Qte=class{constructor(e,t,n){if(ve(this,"rootSchema"),ve(this,"visitor"),ve(this,"elementsContextStack"),ve(this,"sliceAllowList"),e.type===void 0)throw new Error("schema must include a type");this.rootSchema=e;let r=cd({parentContext:void 0,path:this.rootSchema.type,elements:n??this.rootSchema.elements,profileUrl:this.rootSchema.name===this.rootSchema.type?void 0:this.rootSchema.url});if(r===void 0)throw new Error("Could not create root elements context");this.elementsContextStack=[r],this.visitor=t}get elementsContext(){return this.elementsContextStack.at(-1)}crawlElement(e,t,n){this.visitor.onEnterSchema&&this.visitor.onEnterSchema(this.rootSchema);let r=Object.fromEntries(Object.entries(this.elementsContext.elements).filter(([a])=>a.startsWith(t)));this.crawlElementsImpl(r,n),this.visitor.onExitSchema&&this.visitor.onExitSchema(this.rootSchema)}crawlSlice(e,t,n){let r=this.prepareSlices(n.slices,n);if(!Fn(r.slices))throw new Error(`cannot crawl slice ${t.name} since it has no type information`);this.visitor.onEnterSchema&&this.visitor.onEnterSchema(this.rootSchema),this.sliceAllowList=[t],this.crawlSliceImpl(r.slices[0],t.path,r),this.sliceAllowList=void 0,this.visitor.onExitSchema&&this.visitor.onExitSchema(this.rootSchema)}crawlResource(){this.visitor.onEnterSchema&&this.visitor.onEnterSchema(this.rootSchema),this.crawlElementsImpl(this.rootSchema.elements,this.rootSchema.type),this.visitor.onExitSchema&&this.visitor.onExitSchema(this.rootSchema)}crawlElementsImpl(e,t){let n=Kte(e);for(let r of n)this.crawlElementNode(r,t)}crawlElementNode(e,t){let n=t+"."+e.key;this.visitor.onEnterElement&&this.visitor.onEnterElement(n,e.element,this.elementsContext);for(let r of e.children)this.crawlElementNode(r,t);Fn(e.element?.slicing?.slices)&&this.crawlSlicingImpl(e.element.slicing,n),this.visitor.onExitElement&&this.visitor.onExitElement(n,e.element,this.elementsContext)}prepareSlices(e,t){let n=[];for(let r of e){if(!Cz(r))continue;let a=r.type.find(i=>Fn(i.profile))?.profile?.[0];if(Fn(a)){let i=nl(a);i&&(r.typeSchema=i)}n.push(r)}return{...t,slices:n}}crawlSlicingImpl(e,t){let n=this.prepareSlices(e.slices,e);for(let r of n.slices)(this.sliceAllowList===void 0||this.sliceAllowList.includes(r))&&this.crawlSliceImpl(r,t,n)}crawlSliceImpl(e,t,n){let r=e.typeSchema;r&&this.visitor.onEnterSchema&&this.visitor.onEnterSchema(r),this.visitor.onEnterSlice&&this.visitor.onEnterSlice(t,e,n);let a,i=r?.elements??e.elements;Fn(i)&&(a=cd({path:t,parentContext:this.elementsContext,elements:i})),a&&this.elementsContextStack.push(a),this.crawlElementsImpl(i,t),a&&this.elementsContextStack.pop(),this.visitor.onExitSlice&&this.visitor.onExitSlice(t,e,n),r&&this.visitor.onExitSchema&&this.visitor.onExitSchema(r)}};function Kte(e){let t=[];function n(i,l){return l.startsWith(i+".")}function r(i,l){for(let u of i.children)if(n(u.key,l.key)){r(u,l);return}i.children.push(l)}let a=Object.entries(e);a.sort((i,l)=>i[0].localeCompare(l[0]));for(let[i,l]of a){let u={key:i,element:l,children:[]},d=!1;for(let h of t)if(n(h.key,i)){r(h,u),d=!0;break}d||t.push(u)}return t}var Gx="__sliceName";function Xte(e,t){let n=new Zte(e,e.resourceType,"resource");return new Qte(t,n).crawlResource(),n.getDefaultValue()}function PM(e,t,n){for(let[r,a]of Object.entries(t)){if(n===void 0||n===r){Qg(e,r,a,t);continue}let i=nc(n,r);i!==void 0&&Qg(e,i,a,t)}return e}var Zte=class{constructor(e,t,n){ve(this,"rootValue"),ve(this,"schemaStack"),ve(this,"valueStack"),this.schemaStack=[],this.valueStack=[],this.rootValue=Hi(e),this.valueStack.splice(0,this.valueStack.length,{type:n,path:t,values:[this.rootValue]})}get schema(){return this.schemaStack.at(-1)}get value(){return this.valueStack.at(-1)}onEnterSchema(e){this.schemaStack.push(e)}onExitSchema(){this.schemaStack.pop()}onEnterElement(e,t,n){let r=this.value.values,a=this.value.path,i=nc(a,e);if(i===void 0)throw new Error(`Expected ${e} to be prefixed by ${a}`);let l=[];for(let u of r){if(u===void 0)continue;let d=nc(n.path,a),h=Array.isArray(u)?u:[u];for(let p of h){Jte(p,i,t,n.elements,d),Qg(p,i,t,n.elements);let m=Tj(p,i,n.elements,d);m!==void 0&&l.push(m)}}this.valueStack.push({type:"element",path:e,values:l})}onExitElement(e,t,n){if(!this.valueStack.pop())throw new Error("Expected value context to exist when exiting element");let r=nc(this.value.path,e);if(r===void 0)throw new Error(`Expected ${e} to be prefixed by ${this.value.path}`);let a=nc(n.path,this.value.path);for(let i of this.value.values){let l=Tj(i,r,n.elements,a);if(Array.isArray(l))for(let u=l.length-1;u>=0;u--){let d=l[u];Fn(d)||l.splice(u,1)}An(l)&&Ej(i,void 0,r,t)}}onEnterSlice(e,t,n){let r=this.value.values,a=[];for(let i of r)if(i!==void 0){let l=Array.isArray(i)?i:[i],u=this.getMatchingSliceValues(l,t,n);a.push(u)}this.valueStack.push({type:"slice",path:e,values:a})}getMatchingSliceValues(e,t,n){let r=[];for(let a of e)(a[Gx]??jz(a,[t],n.discriminator,this.schema.url))===t.name&&r.push(a);for(let a=r.length;a<t.min;a++)if(uR(t.type[0].code)){let i=Object.create(null);r.push(i),e.push(i)}return r}onExitSlice(){let e=this.valueStack.pop();if(!e)throw new Error("Expected value context to exist in onExitSlice");for(let t of e.values)for(let n=t.length-1;n>=0;n--){let r=t[n];Gx in r&&delete r[Gx]}}getDefaultValue(){return this.rootValue}};function Jte(e,t,n,r,a){let i=Tj(e,t,r,a);n.min>0&&i===void 0&&uR(n.type[0].code)&&(n.isArray?Ej(e,[Object.create(null)],t,n):Ej(e,Object.create(null),t,n))}function Ej(e,t,n,r){if(n.includes("."))throw new Error("key cannot be nested");let a=n;if(n.includes("[x]")){let i=r.type[0].code;a=n.replace("[x]",rr(i))}t===void 0?delete e[a]:e[a]=t}function Tj(e,t,n,r){let a=t.split("."),i=e,l;for(let u=0;u<a.length;u++){let d=a[u];if(d.includes("[x]")){let h=(r?r+".":"")+a.slice(0,u+1).join("."),p=n[h].type[0].code;d=d.replace("[x]",rr(p))}if(u===a.length-1){Array.isArray(i)?l=i.map(h=>h[d]):l=i[d];continue}if(Array.isArray(i))i=i.map(h=>h[d]);else if(na(i)){if(i[d]===void 0)return;i=i[d]}else return}return l}function Qg(e,t,n,r){if(!(n.fixed||n.pattern))return e;if(Array.isArray(e))return e.map(u=>Qg(u,t,n,r));e==null&&(e=Object.create(null));let a=e,i=t.split("."),l=a;for(let u=0;u<i.length;u++){let d=i[u];if(d.includes("[x]")){let h=r[i.slice(0,u+1).join(".")].type[0].code;d=d.replace("[x]",rr(h))}if(u===i.length-1){let h=Array.isArray(l)?l:[l];for(let p of h)n.fixed?p[d]??=n.fixed.value:n.pattern&&(p[d]=Ez(p[d],n.pattern.value))}else{if(!(d in l)){let h=i.slice(0,u+1).join(".");l[d]=r[h].isArray?[Object.create(null)]:Object.create(null)}l=l[d]}}return a}function Ez(e,t){if(Array.isArray(t)&&(Array.isArray(e)||e===void 0))return(e?.length??0)>0?e:Hi(t);if(na(t)&&(na(e)&&!Array.isArray(e)||e===void 0)){let n=Hi(e)??Object.create(null);for(let r of Object.keys(t))n[r]=Ez(n[r],t[r]);return n}return e}[...bR];xR().registerInfix("->",{precedence:en.Arrow}).registerInfix(";",{precedence:en.Semicolon});[...bR];xR();function ene(e){return e.match(/^\((.+)\)\.identifier$/)?.[1]}function tne(e,t){return new pR(e,new py(t,new uh("identifier")))}var qr={BOOLEAN:"BOOLEAN",NUMBER:"NUMBER",QUANTITY:"QUANTITY",TEXT:"TEXT",REFERENCE:"REFERENCE",CANONICAL:"CANONICAL",DATE:"DATE",DATETIME:"DATETIME"};function yy(e,t){let n=bo.types[e]?.searchParamsDetails?.[t.code];return n||(n=rne(e,t)),n}function nne(e,t,n){let r=bo.types[e];r||(r={},bo.types[e]=r),r.searchParamsDetails||(r.searchParamsDetails={}),r.searchParamsDetails[t]=n}function rne(e,t){let n=t.code,r=t.expression,a=sne(e,r),i={elementDefinitions:[],propertyTypes:new Set,array:!1};for(let d of a){let h=mg(d),p=OJ(()=>h.join("."));h.length===1&&h[0]instanceof Ea?i.propertyTypes.add("boolean"):t.code.endsWith(":identifier")?i.propertyTypes.add("Identifier"):p().endsWith("extension.value.code")||p().endsWith("extension.value.coding.code")?(i.array=!0,i.propertyTypes.clear(),i.propertyTypes.add("code")):Tz(i,h,e,1),p().endsWith("extension.valueDateTime")&&(i.array=!1,i.propertyTypes.clear(),i.propertyTypes.add("dateTime"))}let l;if(t.code.endsWith(":identifier")){let d=ene(r);if(d===void 0)throw new Error(`Unexpected expression for derived identifier search parameter: ${r}`);let h=NM(e,d);l=tne(r,h)}else l=NM(e,r);let u={type:one(t,i.propertyTypes),elementDefinitions:i.elementDefinitions.map(d=>({...d,type:d.type?.filter(h=>i.propertyTypes.has(h.code))})).filter(d=>d.type&&d.type.length>0),parsedExpression:l,array:i.array};return nne(e,n,u),u}function Tz(e,t,n,r){let a=t[r];if(a instanceof Gg){e.propertyTypes.add(a.right.toString());return}if(a instanceof vR){ane(e,a);return}let i=a.toString(),l=Qh(n,i);if(!l)throw new Error(`Element definition not found for ${n} ${i}`);let u=!1,d=r+1;d<t.length&&t[d]instanceof yR&&(u=!0,d++);let h=t[d];if(l.isArray&&!u&&(e.array=!0),d===t.length-1&&h instanceof Gg){e.elementDefinitions.push(l),e.propertyTypes.add(h.right.toString());return}if(d>=t.length){e.elementDefinitions.push(l);for(let p of l.type)e.propertyTypes.add(p.code);return}for(let p of l.type){let m=p.code;ine(m)&&(m=l.type[0].code),Tz(e,t,m,d)}}function ane(e,t){if(t.name==="as"){e.propertyTypes.add(t.args[0].toString());return}if(t.name==="ofType"){e.propertyTypes.add(t.args[0].toString());return}if(t.name==="resolve"){e.propertyTypes.add("string");return}if(t.name==="where"&&t.args[0]instanceof gR){e.propertyTypes.add(t.args[0].right.toString());return}throw new Error(`Unhandled FHIRPath function: ${t.name}`)}function ine(e){return e==="Element"||e==="BackboneElement"}function one(e,t){switch(e.type){case"date":return t.size===1&&t.has(fe.date)?qr.DATE:qr.DATETIME;case"number":return qr.NUMBER;case"quantity":return qr.QUANTITY;case"reference":return t.has(fe.canonical)?qr.CANONICAL:qr.REFERENCE;case"token":return t.size===1&&t.has(fe.boolean)?qr.BOOLEAN:qr.TEXT;default:return qr.TEXT}}function sne(e,t){let n=[],r=SR(t);return Kg(e,r.child,n),n}function NM(e,t){let n=[],r=SR(t);if(Kg(e,r.child,n),n.length===0)return r;let a=n[0];for(let i=1;i<n.length;i++)a=new mR(a,n[i]);return new pR("<original-not-available>",a)}function Kg(e,t,n){t instanceof mR?(Kg(e,t.left,n),Kg(e,t.right,n)):t.toString().includes(e+".")&&n.push(t)}function mg(e){if(e instanceof Gg||e instanceof yR)return[mg(e.left),e].flat();if(e instanceof Ea)return[e];if(e instanceof py)return[mg(e.left),mg(e.right)].flat();if(e instanceof vR){if(e.name==="where"&&!(e.args[0]instanceof gR))return[];if(e.name==="last")return[]}return[e]}var Rz=b.createContext(void 0);function by(){return b.useContext(Rz)}function _e(){return by().medplum}function _d(){return by().navigate}function Cr(){return by().profile}var IM=["change","storageInitialized","storageInitFailed","profileRefreshing","profileRefreshed"];function lne(e){let t=e.medplum,n=e.navigate??cne,[r,a]=b.useState({profile:t.getProfile(),loading:t.isLoading()});b.useEffect(()=>{function l(){a(u=>({...u,profile:t.getProfile(),loading:t.isLoading()}))}for(let u of IM)t.addEventListener(u,l);return()=>{for(let u of IM)t.removeEventListener(u,l)}},[t]);let i=b.useMemo(()=>({...r,medplum:t,navigate:n}),[r,t,n]);return s.jsx(Rz.Provider,{value:i,children:e.children})}function cne(e){window.location.assign(e)}var LM=new Map,_z=e=>b.useMemo(()=>{if(!e)return;let t=e.split("?")[0];if(!t)return e;let n;try{n=new URLSearchParams(new URL(e).search)}catch{return e}if(!n.has("Key-Pair-Id")||!n.has("Signature"))return e;let r=n.get("Expires");if(!r||r.length>13)return e;let a=LM.get(t);if(a){let i=new URLSearchParams(new URL(a).search).get("Expires");if(i&&Number.parseInt(i,10)*1e3-5e3>Date.now())return a}return LM.set(t,e),e},[e]);function une(e){let t=b.useRef(void 0);return b.useEffect(()=>{t.current=e}),t.current}function Dt(e,t){let n=_e(),[r,a]=b.useState(()=>zM(n,e)),i=b.useCallback(l=>{gi(l,r)||a(l)},[r]);return b.useEffect(()=>{let l=!0,u=zM(n,e);return!u&&$a(e)?n.readReference(e).then(d=>{l&&i(d)}).catch(d=>{l&&(i(void 0),t&&t(kr(d)))}):i(u),(()=>l=!1)},[n,e,i,t]),r}function zM(e,t){if(t){if($i(t))return t;if($a(t))return e.getCachedReference(t)}}var Pt={group:"group",display:"display",boolean:"boolean",decimal:"decimal",integer:"integer",date:"date",dateTime:"dateTime",time:"time",string:"string",text:"text",url:"url",choice:"choice",openChoice:"open-choice",attachment:"attachment",reference:"reference",quantity:"quantity"},Dz=`${St}/fhir/StructureDefinition/questionnaire-itemControl`,dne=`${St}/fhir/StructureDefinition/questionnaire-referenceFilter`,fne=`${St}/fhir/StructureDefinition/questionnaire-referenceResource`,hne=`${St}/fhir/StructureDefinition/questionnaire-validationError`,pne=`${St}/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-enableWhenExpression`,mne=`${St}/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-calculatedExpression`,gne=`${St}/fhir/StructureDefinition/questionnaire-signatureRequired`,gg=`${St}/fhir/StructureDefinition/questionnaireresponse-signature`;function vne(e,t){let n=yne(e,t);return n!==void 0?n:bne(e,t)}function yne(e,t){let n=Pr(e,pne);if(t&&n){let r=n.valueExpression?.expression;if(r){let a=Ha(t),i=al(r,[a],{"%resource":a});return uo(i)}}}function bne(e,t){if(!e.enableWhen)return!0;let n=e.enableBehavior??"any";for(let r of e.enableWhen){let a=kz(t?.item,r.question);if(r.operator==="exists"&&!r.answerBoolean&&!a?.length){if(n==="any")return!0;continue}let{anyMatch:i,allMatch:l}=Ene(r,a,n);if(n==="any"&&i)return!0;if(n==="all"&&!l)return!1}return n!=="any"}function Az(e,t,n=t.item){for(let r of e){let a=n?.find(i=>i.linkId===r.linkId);a&&(xne(t,r,a),r.item&&a.item&&Az(r.item,t,a.item))}}function xne(e,t,n){try{let r=Cne(t,e);if(!r)return;let a=wne(t,r);if(!a)return;n.answer=[a]}catch(r){n.extension=[{url:hne,valueString:`Expression evaluation failed: ${Wt(r)}`}]}}var Sne={[Pt.boolean]:[fe.boolean],[Pt.date]:[fe.date],[Pt.dateTime]:[fe.dateTime],[Pt.time]:[fe.time],[Pt.url]:[fe.string,fe.uri,fe.url],[Pt.attachment]:[fe.Attachment],[Pt.reference]:[fe.Reference],[Pt.quantity]:[fe.Quantity],[Pt.decimal]:[fe.decimal,fe.integer],[Pt.integer]:[fe.decimal,fe.integer]};function wne(e,t){if(e.type){if(e.type===Pt.choice||e.type===Pt.openChoice)return{[`value${rr(t.type)}`]:t.value};if(e.type===Pt.string||e.type===Pt.text)return typeof t.value=="string"?{valueString:t.value}:void 0;if(Sne[e.type]?.includes(t.type))return{[`value${rr(e.type)}`]:t.value}}}function Cne(e,t){if(!t)return;let n=Pr(e,mne);if(n){let r=n.valueExpression?.expression;if(r){let a=Ha(t),i=al(r,[a],{"%resource":a});return i.length!==0?i[0]:void 0}}}function Oz(e,t,n){let r=[];for(let a of e){let i=n.answerOption?.find(l=>mc(xo(l))===a);if(i){let l=xo(i);l&&r.push({[t]:l.value})}}return r}function kz(e,t){if(e)for(let n of e){if(n.linkId===t)return n.answer;if(n.item){let r=kz(n.item,t);if(r)return r}}}function jne(e,t,n){if(n==="exists")return!!e===t.value;if(e){let r=n==="="||n==="!="?n?.replace("=","~"):n,[{value:a}]=al(`%actualAnswer ${r} %expectedAnswer`,[e],{"%actualAnswer":e,"%expectedAnswer":t});return a}else return!1}function Ene(e,t,n){let r=t||[],a=Dne(e),i=!1,l=!0;for(let u of r){let d=Ane(u),{operator:h}=e;if(jne(d,a,h)?i=!0:l=!1,n==="any"&&i)break}return{anyMatch:i,allMatch:l}}function Tne(e){let t=Pr(e,fne);if(t){if(t.valueCode!==void 0)return[t.valueCode];if(t.valueCodeableConcept)return t.valueCodeableConcept?.coding?.map(n=>n.code)}}function Rne(e,t,n){let r=Pr(e,dne);if(!r?.valueString)return;let a=r.valueString;t?.reference&&(a=a.replaceAll("$subj",t.reference)),n?.reference&&(a=a.replaceAll("$encounter",n.reference));let i={},l=a.split("&");for(let u of l){let[d,h]=wj(u,"=",2);i[d]=h}return i}function $M(e,t){return{resourceType:"QuestionnaireResponse",questionnaire:e.url??Me(e),item:RR(e.item,t?.item),status:"in-progress"}}function RR(e,t){if(!e)return;let n=[];for(let r of e){if(r.type===Pt.display)continue;let a=t?.filter(i=>i.linkId===r.linkId);if(a&&a?.length>0)for(let i of a)i.id=i.id??Pz(),i.text=i.text??r.text,i.item=RR(r.item,i.item),i.answer=Nz(r,i),n.push(i);else n.push(Mz(r))}return n}function Mz(e){return{id:Pz(),linkId:e.linkId,text:e.text,item:RR(e.item,void 0),answer:Nz(e)}}var _ne=1;function Pz(){return"id-"+_ne++}function Nz(e,t){if(!(e.type===Pt.display||e.type===Pt.group)){if(t?.answer&&t.answer.length>0)return t.answer;if(e.initial&&e.initial.length>0)return e.initial.map(n=>({...n}));if(e.answerOption)return e.answerOption.filter(n=>n.initialSelected).map(n=>({...n,initialSelected:void 0}))}}function _R(e){return Gh({value:e},"value")}function xo(e){return Gh({value:e},"value")}function Dne(e){return Gh({value:e},"answer")}function Ane(e){return Gh({value:e},"value")}function One(e){let t=Dt(e.questionnaire),n=Dt(e.defaultValue),[,r]=b.useReducer(S=>S+1,0),a=b.useRef({activePage:0});if(!a.current.questionnaire&&t&&(a.current.questionnaire=t,a.current.pages=e.disablePagination?void 0:kne(t)),t&&e.defaultValue&&n&&!a.current.questionnaireResponse&&(a.current.questionnaireResponse=$M(t,n),y()),t&&!e.defaultValue&&!a.current.questionnaireResponse&&(a.current.questionnaireResponse=$M(t),y()),!a.current.questionnaire||!a.current.questionnaireResponse)return{loading:!0};function i(S,x){let C=a.current.questionnaireResponse;for(let E of S)C=C?.item?.find(j=>E.id?j.id===E.id:j.linkId===E.linkId);return x&&(C=C?.item?.find(E=>E.linkId===x.linkId)),C}function l(){a.current.activePage=(a.current.activePage??0)+1,r()}function u(){a.current.activePage=(a.current.activePage??0)-1,r()}function d(S,x){let C=i(S);C&&(C.item??=[],C.item.push(Mz(x)),y())}function h(S,x){let C=i(S,x);C&&(C.answer??=[],C.answer.push({}),y())}function p(S,x,C){let E=i(S,x);E&&(E.answer=C,y())}function m(S){let x=a.current.questionnaireResponse;x&&(S?(x.extension=x.extension??[],x.extension=x.extension.filter(C=>C.url!==gg),x.extension.push({url:gg,valueSignature:S})):x.extension=x.extension?.filter(C=>C.url!==gg),y())}function g(){let S=a.current.questionnaire;if(S?.item){let x=a.current.questionnaireResponse;Az(S.item,x)}}function y(){let S=a.current.questionnaireResponse;S&&(g(),r(),e.onChange?.(S))}return{loading:!1,pagination:!!a.current.pages,questionnaire:a.current.questionnaire,questionnaireResponse:a.current.questionnaireResponse,subject:e.subject,encounter:e.encounter,activePage:a.current.activePage,pages:a.current.pages,items:Mne(a.current.questionnaire,a.current.pages,a.current.activePage),responseItems:Pne(a.current.questionnaireResponse,a.current.pages,a.current.activePage),onNextPage:l,onPrevPage:u,onAddGroup:d,onAddAnswer:h,onChangeAnswer:p,onChangeSignature:m}}function kne(e){if(!(!e?.item||Pr(e?.item?.[0],Dz)?.valueCodeableConcept?.coding?.[0]?.code!=="page"))return e.item.map((t,n)=>({linkId:t.linkId,title:t.text??`Page ${n+1}`,group:t}))}function Mne(e,t,n=0){return t&&e?.item?.[n]?[e.item[n]]:e.item??[]}function Pne(e,t,n=0){return t&&e?.item?.[n]?[e.item[n]]:e.item??[]}var Nne=3e3;function Iz(e,t,n){let r=_e(),[a,i]=b.useState(),[l,u]=b.useState(n?.subscriptionProps),d=b.useRef(!1),h=b.useRef(void 0),p=b.useRef(void 0),m=b.useRef(void 0),g=b.useRef(t);g.current=t;let y=b.useRef(n?.onWebSocketOpen);y.current=n?.onWebSocketOpen;let S=b.useRef(n?.onWebSocketClose);S.current=n?.onWebSocketClose;let x=b.useRef(n?.onSubscriptionConnect);x.current=n?.onSubscriptionConnect;let C=b.useRef(n?.onSubscriptionDisconnect);C.current=n?.onSubscriptionDisconnect;let E=b.useRef(n?.onError);E.current=n?.onError,b.useEffect(()=>{gi(n?.subscriptionProps,l)||u(n?.subscriptionProps)},[l,n]),b.useEffect(()=>{h.current&&(clearTimeout(h.current),h.current=void 0);let O=!1;return(p.current!==e||!gi(m.current,l))&&(O=!0),O&&p.current&&r.unsubscribeFromCriteria(p.current,m.current),p.current=e,m.current=l,O&&e?i(r.subscribeToCriteria(e,l)):e||i(void 0),()=>{h.current=setTimeout(()=>{i(void 0),e&&r.unsubscribeFromCriteria(e,l)},Nne)}},[r,e,l]);let j=b.useCallback(O=>{g.current?.(O.payload)},[]),R=b.useCallback(()=>{y.current?.()},[]),_=b.useCallback(()=>{S.current?.()},[]),A=b.useCallback(O=>{x.current?.(O.payload.subscriptionId)},[]),M=b.useCallback(O=>{C.current?.(O.payload.subscriptionId)},[]),D=b.useCallback(O=>{E.current?.(O.payload)},[]);b.useEffect(()=>a?(d.current||(a.addEventListener("message",j),a.addEventListener("open",R),a.addEventListener("close",_),a.addEventListener("connect",A),a.addEventListener("disconnect",M),a.addEventListener("error",D),d.current=!0),()=>{d.current=!1,a.removeEventListener("message",j),a.removeEventListener("open",R),a.removeEventListener("close",_),a.removeEventListener("connect",A),a.removeEventListener("disconnect",M),a.removeEventListener("error",D)}):()=>{},[a,j,R,_,A,M,D])}var Ine=Object.create,DR=Object.defineProperty,Lne=Object.getOwnPropertyDescriptor,Lz=Object.getOwnPropertyNames,zne=Object.getPrototypeOf,$ne=Object.prototype.hasOwnProperty,qne=(e,t,n)=>t in e?DR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xh=(e,t)=>function(){return t||(0,e[Lz(e)[0]])((t={exports:{}}).exports,t),t.exports},Une=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Lz(t))!$ne.call(e,a)&&a!==n&&DR(e,a,{get:()=>t[a],enumerable:!(r=Lne(t,a))||r.enumerable});return e},Bne=(e,t,n)=>(n=e!=null?Ine(zne(e)):{},Une(DR(n,"default",{value:e,enumerable:!0}),e)),tn=(e,t,n)=>qne(e,typeof t!="symbol"?t+"":t,n),zz=Xh({"../../node_modules/rfc6902/pointer.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Pointer=e.escapeToken=e.unescapeToken=void 0;function t(a){return a.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeToken=t;function n(a){return a.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeToken=n;var r=(function(){function a(i){i===void 0&&(i=[""]),this.tokens=i}return a.fromJSON=function(i){var l=i.split("/").map(t);if(l[0]!=="")throw new Error("Invalid JSON Pointer: ".concat(i));return new a(l)},a.prototype.toString=function(){return this.tokens.map(n).join("/")},a.prototype.evaluate=function(i){for(var l=null,u="",d=i,h=1,p=this.tokens.length;h<p;h++)l=d,u=this.tokens[h],!(u=="__proto__"||u=="constructor"||u=="prototype")&&(d=(l||{})[u]);return{parent:l,key:u,value:d}},a.prototype.get=function(i){return this.evaluate(i).value},a.prototype.set=function(i,l){var u=this.evaluate(i);u.parent&&(u.parent[u.key]=l)},a.prototype.push=function(i){this.tokens.push(i)},a.prototype.add=function(i){var l=this.tokens.concat(String(i));return new a(l)},a})();e.Pointer=r}}),$z=Xh({"../../node_modules/rfc6902/util.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.clone=e.objectType=e.hasOwnProperty=void 0,e.hasOwnProperty=Object.prototype.hasOwnProperty;function t(a){return a===void 0?"undefined":a===null?"null":Array.isArray(a)?"array":typeof a}e.objectType=t;function n(a){return a!=null&&typeof a=="object"}function r(a){if(!n(a))return a;if(a.constructor==Array){for(var i=a.length,l=new Array(i),u=0;u<i;u++)l[u]=r(a[u]);return l}if(a.constructor==Date){var d=new Date(+a);return d}var h={};for(var p in a)e.hasOwnProperty.call(a,p)&&(h[p]=r(a[p]));return h}e.clone=r}}),qz=Xh({"../../node_modules/rfc6902/diff.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.diffAny=e.diffObjects=e.diffArrays=e.intersection=e.subtract=e.isDestructive=void 0;var t=$z();function n(m){var g=m.op;return g==="remove"||g==="replace"||g==="copy"||g==="move"}e.isDestructive=n;function r(m,g){var y={};for(var S in m)t.hasOwnProperty.call(m,S)&&m[S]!==void 0&&(y[S]=1);for(var x in g)t.hasOwnProperty.call(g,x)&&g[x]!==void 0&&delete y[x];return Object.keys(y)}e.subtract=r;function a(m){for(var g=m.length,y={},S=0;S<g;S++){var x=m[S];for(var C in x)t.hasOwnProperty.call(x,C)&&x[C]!==void 0&&(y[C]=(y[C]||0)+1)}for(var C in y)y[C]<g&&delete y[C];return Object.keys(y)}e.intersection=a;function i(m){return m.op==="add"}function l(m){return m.op==="remove"}function u(m,g){return{operations:m.operations.concat(g),cost:m.cost+1}}function d(m,g,y,S){S===void 0&&(S=p);var x={"0,0":{operations:[],cost:0}};function C(A,M){var D="".concat(A,",").concat(M),O=x[D];if(O===void 0){if(A>0&&M>0&&!S(m[A-1],g[M-1],y.add(String(A-1))).length)O=C(A-1,M-1);else{var k=[];if(A>0){var I=C(A-1,M),L={op:"remove",index:A-1};k.push(u(I,L))}if(M>0){var V=C(A,M-1),q={op:"add",index:A-1,value:g[M-1]};k.push(u(V,q))}if(A>0&&M>0){var U=C(A-1,M-1),G={op:"replace",index:A-1,original:m[A-1],value:g[M-1]};k.push(u(U,G))}var N=k.sort(function(z,$){return z.cost-$.cost})[0];O=N}x[D]=O}return O}var E=isNaN(m.length)||m.length<=0?0:m.length,j=isNaN(g.length)||g.length<=0?0:g.length,R=C(E,j).operations,_=R.reduce(function(A,M){var D=A[0],O=A[1];if(i(M)){var k=M.index+1+O,I=k<E+O?String(k):"-",L={op:M.op,path:y.add(I).toString(),value:M.value};return[D.concat(L),O+1]}else if(l(M)){var L={op:M.op,path:y.add(String(M.index+O)).toString()};return[D.concat(L),O-1]}else{var V=y.add(String(M.index+O)),q=S(M.original,M.value,V);return[D.concat.apply(D,q),O]}},[[],0])[0];return _}e.diffArrays=d;function h(m,g,y,S){S===void 0&&(S=p);var x=[];return r(m,g).forEach(function(C){x.push({op:"remove",path:y.add(C).toString()})}),r(g,m).forEach(function(C){x.push({op:"add",path:y.add(C).toString(),value:g[C]})}),a([m,g]).forEach(function(C){x.push.apply(x,S(m[C],g[C],y.add(C)))}),x}e.diffObjects=h;function p(m,g,y,S){if(S===void 0&&(S=p),m===g)return[];var x=(0,t.objectType)(m),C=(0,t.objectType)(g);return x=="array"&&C=="array"?d(m,g,y,S):x=="object"&&C=="object"?h(m,g,y,S):[{op:"replace",path:y.toString(),value:g}]}e.diffAny=p}}),Hne=Xh({"../../node_modules/rfc6902/patch.js"(e){var t=e&&e.__extends||(function(){var E=function(j,R){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,A){_.__proto__=A}||function(_,A){for(var M in A)Object.prototype.hasOwnProperty.call(A,M)&&(_[M]=A[M])},E(j,R)};return function(j,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");E(j,R);function _(){this.constructor=j}j.prototype=R===null?Object.create(R):(_.prototype=R.prototype,new _)}})();Object.defineProperty(e,"__esModule",{value:!0}),e.apply=e.InvalidOperationError=e.test=e.copy=e.move=e.replace=e.remove=e.add=e.TestError=e.MissingError=void 0;var n=zz(),r=$z(),a=qz(),i=(function(E){t(j,E);function j(R){var _=E.call(this,"Value required at path: ".concat(R))||this;return _.path=R,_.name="MissingError",_}return j})(Error);e.MissingError=i;var l=(function(E){t(j,E);function j(R,_){var A=E.call(this,"Test failed: ".concat(R," != ").concat(_))||this;return A.actual=R,A.expected=_,A.name="TestError",A}return j})(Error);e.TestError=l;function u(E,j,R){if(Array.isArray(E))if(j=="-")E.push(R);else{var _=parseInt(j,10);E.splice(_,0,R)}else E[j]=R}function d(E,j){if(Array.isArray(E)){var R=parseInt(j,10);E.splice(R,1)}else delete E[j]}function h(E,j){var R=n.Pointer.fromJSON(j.path).evaluate(E);return R.parent===void 0?new i(j.path):(u(R.parent,R.key,(0,r.clone)(j.value)),null)}e.add=h;function p(E,j){var R=n.Pointer.fromJSON(j.path).evaluate(E);return R.value===void 0?new i(j.path):(d(R.parent,R.key),null)}e.remove=p;function m(E,j){var R=n.Pointer.fromJSON(j.path).evaluate(E);if(R.parent===null)return new i(j.path);if(Array.isArray(R.parent)){if(parseInt(R.key,10)>=R.parent.length)return new i(j.path)}else if(R.value===void 0)return new i(j.path);return R.parent[R.key]=(0,r.clone)(j.value),null}e.replace=m;function g(E,j){var R=n.Pointer.fromJSON(j.from).evaluate(E);if(R.value===void 0)return new i(j.from);var _=n.Pointer.fromJSON(j.path).evaluate(E);return _.parent===void 0?new i(j.path):(d(R.parent,R.key),u(_.parent,_.key,R.value),null)}e.move=g;function y(E,j){var R=n.Pointer.fromJSON(j.from).evaluate(E);if(R.value===void 0)return new i(j.from);var _=n.Pointer.fromJSON(j.path).evaluate(E);return _.parent===void 0?new i(j.path):(u(_.parent,_.key,(0,r.clone)(R.value)),null)}e.copy=y;function S(E,j){var R=n.Pointer.fromJSON(j.path).evaluate(E);return(0,a.diffAny)(R.value,j.value,new n.Pointer).length?new l(R.value,j.value):null}e.test=S;var x=(function(E){t(j,E);function j(R){var _=E.call(this,"Invalid operation: ".concat(R.op))||this;return _.operation=R,_.name="InvalidOperationError",_}return j})(Error);e.InvalidOperationError=x;function C(E,j){switch(j.op){case"add":return h(E,j);case"remove":return p(E,j);case"replace":return m(E,j);case"move":return g(E,j);case"copy":return y(E,j);case"test":return S(E,j)}return new x(j)}e.apply=C}}),Fne=Xh({"../../node_modules/rfc6902/index.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createTests=e.createPatch=e.applyPatch=e.Pointer=void 0;var t=zz();Object.defineProperty(e,"Pointer",{enumerable:!0,get:function(){return t.Pointer}});var n=Hne(),r=qz();function a(h,p){return p.map(function(m){return(0,n.apply)(h,m)})}e.applyPatch=a;function i(h){function p(m,g,y){var S=h(m,g,y);return Array.isArray(S)?S:(0,r.diffAny)(m,g,y,p)}return p}function l(h,p,m){var g=new t.Pointer;return(m?i(m):r.diffAny)(h,p,g)}e.createPatch=l;function u(h,p){var m=t.Pointer.fromJSON(p).evaluate(h);if(m!==void 0)return{op:"test",path:p,value:m.value}}function d(h,p){var m=new Array;return p.filter(r.isDestructive).forEach(function(g){var y=u(h,g.path);if(y&&m.push(y),"from"in g){var S=u(h,g.from);S&&m.push(S)}}),m}e.createTests=d}});function Vne(e){let t=e.value;return t?s.jsx(s.Fragment,{children:fR(t)}):null}var Uz=["meta","implicitRules","contained","extension","modifierExtension"],Bz=["language","text"],pn=b.createContext({path:"",profileUrl:void 0,elements:Object.create(null),elementsByPath:Object.create(null),getExtendedProps:()=>({readonly:!1,hidden:!1}),accessPolicyResource:void 0,debugMode:!1,isDefaultContext:!0});pn.displayName="ElementsContext";var AR=["extension","modifierExtension"],Wne=["id",...Uz].filter(e=>!AR.includes(e));function Gne(e){return Object.entries(e).filter(([t,n])=>!Fn(n.type)||n.max===0||n.path.toLowerCase().endsWith("extension.url")&&n.fixed||AR.includes(t)&&!Fn(n.slicing?.slices)||Wne.includes(t)?!1:!(Bz.includes(t)&&n.path.split(".").length===2||t.includes(".")))}function qM(e,t){return e.line&&e.line.length>t?e.line[t]:""}function UM(e,t,n){let r=e.line||[];for(;r.length<=t;)r.push("");return r[t]=n,{...e,line:CJ(r)}}function Yne(e){let[t,n]=b.useState(e.defaultValue||{}),r=b.useRef(t);r.current=t;let{getExtendedProps:a}=b.useContext(pn),[i,l,u,d,h,p,m]=b.useMemo(()=>["use","type","line1","line2","city","state","postalCode"].map(_=>a(e.path+"."+_)),[a,e.path]);function g(_){n(_),e.onChange&&e.onChange(_)}function y(_){g({...r.current,use:_})}function S(_){g({...r.current,type:_})}function x(_){g(UM(r.current||{},0,_))}function C(_){g(UM(r.current||{},1,_))}function E(_){g({...r.current,city:_})}function j(_){g({...r.current,state:_})}function R(_){g({...r.current,postalCode:_})}return s.jsxs(se,{gap:"xs",wrap:"nowrap",grow:!0,children:[s.jsx(Wr,{disabled:e.disabled||i?.readonly,"data-testid":"address-use",defaultValue:t.use,onChange:_=>y(_.currentTarget.value),data:["","home","work","temp","old","billing"]}),s.jsx(Wr,{disabled:e.disabled||l?.readonly,"data-testid":"address-type",defaultValue:t.type,onChange:_=>S(_.currentTarget.value),data:["","postal","physical","both"]}),s.jsx(tt,{disabled:e.disabled||u?.readonly,placeholder:"Line 1",defaultValue:qM(t,0),onChange:_=>x(_.currentTarget.value)}),s.jsx(tt,{disabled:e.disabled||d?.readonly,placeholder:"Line 2",defaultValue:qM(t,1),onChange:_=>C(_.currentTarget.value)}),s.jsx(tt,{disabled:e.disabled||h?.readonly,placeholder:"City",defaultValue:t.city,onChange:_=>E(_.currentTarget.value)}),s.jsx(tt,{disabled:e.disabled||p?.readonly,placeholder:"State",defaultValue:t.state,onChange:_=>j(_.currentTarget.value)}),s.jsx(tt,{disabled:e.disabled||m?.readonly,placeholder:"Postal Code",defaultValue:t.postalCode,onChange:_=>R(_.currentTarget.value)})]})}function Qne(e){let t=Cr(),[n,r]=b.useState(e.defaultValue||{});function a(i){let l=i?{text:i,authorReference:t&&ke(t),time:new Date().toISOString()}:{};r(l),e.onChange&&e.onChange(l)}return s.jsx(tt,{disabled:e.disabled,name:e.name,placeholder:"Annotation text",defaultValue:n.text,onChange:i=>a(i.currentTarget.value)})}var Kne={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}},nt=(e,t,n,r)=>{let a=b.forwardRef(({color:i="currentColor",size:l=24,stroke:u=2,title:d,className:h,children:p,...m},g)=>b.createElement("svg",{ref:g,...Kne[e],width:l,height:l,className:["tabler-icon",`tabler-icon-${t}`,h].join(" "),strokeWidth:u,stroke:i,...m},[d&&b.createElement("title",{key:"svg-title"},d),...r.map(([y,S])=>b.createElement(y,S)),...Array.isArray(p)?p:[p]]));return a.displayName=`${n}`,a},Xne=[["path",{d:"M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M4 6l8 0",key:"svg-1"}],["path",{d:"M16 6l4 0",key:"svg-2"}],["path",{d:"M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M4 12l2 0",key:"svg-4"}],["path",{d:"M10 12l10 0",key:"svg-5"}],["path",{d:"M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-6"}],["path",{d:"M4 18l11 0",key:"svg-7"}],["path",{d:"M19 18l1 0",key:"svg-8"}]],Zne=nt("outline","adjustments-horizontal","AdjustmentsHorizontal",Xne),Jne=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],xy=nt("outline","alert-circle","AlertCircle",Jne),ere=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 13l-6 6",key:"svg-1"}],["path",{d:"M6 13l6 6",key:"svg-2"}]];nt("outline","arrow-down","ArrowDown",ere);var tre=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]],nre=nt("outline","arrow-right","ArrowRight",tre),rre=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 11l-6 -6",key:"svg-1"}],["path",{d:"M6 11l6 -6",key:"svg-2"}]];nt("outline","arrow-up","ArrowUp",rre);var are=[["path",{d:"M6 20a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-0"}],["path",{d:"M16 4a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-1"}],["path",{d:"M16 20a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-2"}],["path",{d:"M11 12a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-3"}],["path",{d:"M21 12a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-4"}],["path",{d:"M5.058 18.306l2.88 -4.606",key:"svg-5"}],["path",{d:"M10.061 10.303l2.877 -4.604",key:"svg-6"}],["path",{d:"M10.065 13.705l2.876 4.6",key:"svg-7"}],["path",{d:"M15.063 5.7l2.881 4.61",key:"svg-8"}]],ire=nt("outline","binary-tree","BinaryTree",are),ore=[["path",{d:"M5 19h14m1.986 -1.977a2 2 0 0 0 -.146 -.773l-7.1 -12.25a2 2 0 0 0 -3.5 0l-.815 1.405m-1.488 2.568l-4.797 8.277a2 2 0 0 0 1.75 2.75",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]],sre=nt("outline","bleach-off","BleachOff",ore),lre=[["path",{d:"M5 19h14a2 2 0 0 0 1.84 -2.75l-7.1 -12.25a2 2 0 0 0 -3.5 0l-7.1 12.25a2 2 0 0 0 1.75 2.75",key:"svg-0"}]],cre=nt("outline","bleach","Bleach",lre),ure=[["path",{d:"M7 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M17 17v2a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h2",key:"svg-1"}]],dre=nt("outline","box-multiple","BoxMultiple",ure),fre=[["path",{d:"M7 4h-4v16h4",key:"svg-0"}],["path",{d:"M17 4h4v16h-4",key:"svg-1"}],["path",{d:"M8 16h.01",key:"svg-2"}],["path",{d:"M12 16h.01",key:"svg-3"}],["path",{d:"M16 16h.01",key:"svg-4"}]],hre=nt("outline","brackets-contain","BracketsContain",fre),pre=[["path",{d:"M3 7m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M8 7v-2a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v2",key:"svg-1"}],["path",{d:"M12 12l0 .01",key:"svg-2"}],["path",{d:"M3 13a20 20 0 0 0 18 0",key:"svg-3"}]],mre=nt("outline","briefcase","Briefcase",pre),gre=[["path",{d:"M5.029 5.036c-.655 .58 -1.029 1.25 -1.029 1.964c0 2.033 3.033 3.712 6.96 3.967m3.788 -.21c3.064 -.559 5.252 -2.029 5.252 -3.757c0 -2.21 -3.582 -4 -8 -4c-1.605 0 -3.1 .236 -4.352 .643",key:"svg-0"}],["path",{d:"M4 7c0 .664 .088 1.324 .263 1.965l2.737 10.035c.5 1.5 2.239 2 5 2s4.5 -.5 5 -2c.1 -.3 .252 -.812 .457 -1.535m.862 -3.146c.262 -.975 .735 -2.76 1.418 -5.354a7.45 7.45 0 0 0 .263 -1.965",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]],vre=nt("outline","bucket-off","BucketOff",gre),yre=[["path",{d:"M12 7m-8 0a8 4 0 1 0 16 0a8 4 0 1 0 -16 0",key:"svg-0"}],["path",{d:"M4 7c0 .664 .088 1.324 .263 1.965l2.737 10.035c.5 1.5 2.239 2 5 2s4.5 -.5 5 -2c.333 -1 1.246 -4.345 2.737 -10.035a7.45 7.45 0 0 0 .263 -1.965",key:"svg-1"}]],bre=nt("outline","bucket","Bucket",yre),xre=[["path",{d:"M3 20h18v-8a3 3 0 0 0 -3 -3h-12a3 3 0 0 0 -3 3v8z",key:"svg-0"}],["path",{d:"M3 14.803c.312 .135 .654 .204 1 .197a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1c.35 .007 .692 -.062 1 -.197",key:"svg-1"}],["path",{d:"M12 4l1.465 1.638a2 2 0 1 1 -3.015 .099l1.55 -1.737z",key:"svg-2"}]],Sre=nt("outline","cake","Cake",xre),wre=[["path",{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M11 15h1",key:"svg-4"}],["path",{d:"M12 15v3",key:"svg-5"}]],Us=nt("outline","calendar","Calendar",wre),Cre=[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]],Dd=nt("outline","check","Check",Cre),jre=[["path",{d:"M9 11l3 3l8 -8",key:"svg-0"}],["path",{d:"M20 12v6a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h9",key:"svg-1"}]];nt("outline","checkbox","Checkbox",jre);var Ere=[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]],OR=nt("outline","chevron-down","ChevronDown",Ere),Tre=[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]],Rre=nt("outline","chevron-right","ChevronRight",Tre),_re=[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]];nt("outline","chevron-up","ChevronUp",_re);var Dre=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l6 0",key:"svg-1"}]],Hz=nt("outline","circle-minus","CircleMinus",Dre),Are=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M9 12h6",key:"svg-1"}],["path",{d:"M12 9v6",key:"svg-2"}]],BM=nt("outline","circle-plus","CirclePlus",Are),Ore=[["path",{d:"M7 18a4.6 4.4 0 0 1 0 -9a5 4.5 0 0 1 11 2h1a3.5 3.5 0 0 1 0 7h-1",key:"svg-0"}],["path",{d:"M9 15l3 -3l3 3",key:"svg-1"}],["path",{d:"M12 12l0 9",key:"svg-2"}]],Fz=nt("outline","cloud-upload","CloudUpload",Ore),kre=[["path",{d:"M4 6l5.5 0",key:"svg-0"}],["path",{d:"M4 10l5.5 0",key:"svg-1"}],["path",{d:"M4 14l5.5 0",key:"svg-2"}],["path",{d:"M4 18l5.5 0",key:"svg-3"}],["path",{d:"M14.5 6l5.5 0",key:"svg-4"}],["path",{d:"M14.5 10l5.5 0",key:"svg-5"}],["path",{d:"M14.5 14l5.5 0",key:"svg-6"}],["path",{d:"M14.5 18l5.5 0",key:"svg-7"}]],Mre=nt("outline","columns","Columns",kre),Pre=[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]],kR=nt("outline","copy","Copy",Pre),Nre=[["path",{d:"M16.7 8a3 3 0 0 0 -2.7 -2h-4a3 3 0 0 0 0 6h4a3 3 0 0 1 0 6h-4a3 3 0 0 1 -2.7 -2",key:"svg-0"}],["path",{d:"M12 3v3m0 12v3",key:"svg-1"}]],Ire=nt("outline","currency-dollar","CurrencyDollar",Nre),Lre=[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]],zre=nt("outline","dots","Dots",Lre),$re=[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]],qre=nt("outline","edit","Edit",$re),Ure=[["path",{d:"M12 5.5m-2.5 0a2.5 2.5 0 1 0 5 0a2.5 2.5 0 1 0 -5 0",key:"svg-0"}],["path",{d:"M12 21.368l5.095 -5.096a3.088 3.088 0 1 0 -4.367 -4.367l-.728 .727l-.728 -.727a3.088 3.088 0 1 0 -4.367 4.367l5.095 5.096z",key:"svg-1"}]],Bre=nt("outline","empathize","Empathize",Ure),Hre=[["path",{d:"M5 10h14",key:"svg-0"}],["path",{d:"M5 14h14",key:"svg-1"}],["path",{d:"M5 19l14 -14",key:"svg-2"}]],Zh=nt("outline","equal-not","EqualNot",Hre),Fre=[["path",{d:"M5 10h14",key:"svg-0"}],["path",{d:"M5 14h14",key:"svg-1"}]],Jh=nt("outline","equal","Equal",Fre),Vre=[["path",{d:"M10.585 10.587a2 2 0 0 0 2.829 2.828",key:"svg-0"}],["path",{d:"M16.681 16.673a8.717 8.717 0 0 1 -4.681 1.327c-3.6 0 -6.6 -2 -9 -6c1.272 -2.12 2.712 -3.678 4.32 -4.674m2.86 -1.146a9.055 9.055 0 0 1 1.82 -.18c3.6 0 6.6 2 9 6c-.666 1.11 -1.379 2.067 -2.138 2.87",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]],Wre=nt("outline","eye-off","EyeOff",Vre),Gre=[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]],Yre=nt("outline","eye","Eye",Gre),Qre=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M12 17l.01 0",key:"svg-2"}],["path",{d:"M12 11l0 3",key:"svg-3"}]],HM=nt("outline","file-alert","FileAlert",Qre),Kre=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M12 11l0 6",key:"svg-2"}],["path",{d:"M9 14l6 0",key:"svg-3"}]],Xre=nt("outline","file-plus","FilePlus",Kre),Zre=[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]],Jre=nt("outline","filter","Filter",Zre),eae=[["path",{d:"M9 6.371c0 4.418 -2.239 6.629 -5 6.629",key:"svg-0"}],["path",{d:"M4 6.371h7",key:"svg-1"}],["path",{d:"M5 9c0 2.144 2.252 3.908 6 4",key:"svg-2"}],["path",{d:"M12 20l4 -9l4 9",key:"svg-3"}],["path",{d:"M19.1 18h-6.2",key:"svg-4"}],["path",{d:"M6.694 3l.793 .582",key:"svg-5"}]],tae=nt("outline","language","Language",eae),nae=[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 4l0 16",key:"svg-1"}]],rae=nt("outline","layout-sidebar","LayoutSidebar",nae),aae=[["path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M9 12h12l-3 -3",key:"svg-1"}],["path",{d:"M18 15l3 -3",key:"svg-2"}]],iae=nt("outline","logout","Logout",aae),oae=[["path",{d:"M9 11a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M17.657 16.657l-4.243 4.243a2 2 0 0 1 -2.827 0l-4.244 -4.243a8 8 0 1 1 11.314 0z",key:"svg-1"}]],sae=nt("outline","map-pin","MapPin",oae),lae=[["path",{d:"M5 18l14 -6l-14 -6",key:"svg-0"}]],Vz=nt("outline","math-greater","MathGreater",lae),cae=[["path",{d:"M19 18l-14 -6l14 -6",key:"svg-0"}]],Wz=nt("outline","math-lower","MathLower",cae),uae=[["path",{d:"M8 9h8",key:"svg-0"}],["path",{d:"M8 13h6",key:"svg-1"}],["path",{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z",key:"svg-2"}]],dae=nt("outline","message","Message",uae),fae=[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]],hae=nt("outline","pencil","Pencil",fae),pae=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]],Gz=nt("outline","plus","Plus",pae),mae=[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]],gae=nt("outline","refresh","Refresh",mae),vae=[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]],Sy=nt("outline","search","Search",vae),yae=[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]],Rj=nt("outline","settings","Settings",yae),bae=[["path",{d:"M4 6l7 0",key:"svg-0"}],["path",{d:"M4 12l7 0",key:"svg-1"}],["path",{d:"M4 18l9 0",key:"svg-2"}],["path",{d:"M15 9l3 -3l3 3",key:"svg-3"}],["path",{d:"M18 6l0 12",key:"svg-4"}]],MR=nt("outline","sort-ascending","SortAscending",bae),xae=[["path",{d:"M4 6l9 0",key:"svg-0"}],["path",{d:"M4 12l7 0",key:"svg-1"}],["path",{d:"M4 18l7 0",key:"svg-2"}],["path",{d:"M15 15l3 3l3 -3",key:"svg-3"}],["path",{d:"M18 6l0 12",key:"svg-4"}]],PR=nt("outline","sort-descending","SortDescending",xae),Sae=[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}]];nt("outline","square","Square",Sae);var wae=[["path",{d:"M6 4h-1a2 2 0 0 0 -2 2v3.5h0a5.5 5.5 0 0 0 11 0v-3.5a2 2 0 0 0 -2 -2h-1",key:"svg-0"}],["path",{d:"M8 15a6 6 0 1 0 12 0v-3",key:"svg-1"}],["path",{d:"M11 3v2",key:"svg-2"}],["path",{d:"M6 3v2",key:"svg-3"}],["path",{d:"M20 10m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-4"}]],Cae=nt("outline","stethoscope","Stethoscope",wae),jae=[["path",{d:"M16 3l4 4l-4 4",key:"svg-0"}],["path",{d:"M10 7l10 0",key:"svg-1"}],["path",{d:"M8 13l-4 4l4 4",key:"svg-2"}],["path",{d:"M4 17l9 0",key:"svg-3"}]],Eae=nt("outline","switch-horizontal","SwitchHorizontal",jae),Tae=[["path",{d:"M12.5 21h-7.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v7.5",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}],["path",{d:"M16 19h6",key:"svg-3"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-4"}]],Rae=nt("outline","table-export","TableExport",Tae),_ae=[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]],NR=nt("outline","trash","Trash",_ae),Dae=[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]],IR=nt("outline","x","X",Dae),Yz=class extends b.Component{constructor(e){super(e),tn(this,"state"),this.state={lastLocation:gr.getLocation()}}static getDerivedStateFromError(e){return{error:e,lastLocation:gr.getLocation()}}componentDidUpdate(e,t){gr.getLocation()!==this.state.lastLocation&&this.setState({lastLocation:gr.getLocation(),error:void 0})}shouldComponentUpdate(e,t){return!!(this.props.children!==e.children||t.error&&!this.state.error||this.state.lastLocation!==gr.getLocation())}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){return this.state.error?s.jsx(hl,{icon:s.jsx(xy,{size:16}),title:"Something went wrong",color:"red",children:Wt(this.state.error)}):this.props.children}};function Fi(){return s.jsx(yr,{style:{width:"100%",height:"100vh"},children:s.jsx(tr,{})})}var Aae={main:"AppShell_main"};function xa(e){e.preventDefault(),e.stopPropagation()}function LR(e){return e.button===1||e.ctrlKey||e.metaKey}function Qz(e){if(FM(e))return!0;if(e instanceof HTMLTableCellElement){let t=e.children;if(t.length===1&&FM(t[0]))return!0}return!1}function FM(e){return e instanceof HTMLInputElement&&e.type==="checkbox"}async function Oae(e,t){return new Promise((n,r)=>{let a=new MessageChannel;a.port1.onmessage=({data:i})=>{a.port1.close(),i.error?r(i.error):n(i.result)},e.contentWindow?.postMessage(t,new URL(e.src).origin,[a.port2])})}function kae(e,t){let n=new Blob([e],{type:Dn.JSON}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r;let i=t;a.download=`${i}.json`,document.body.appendChild(a),a.click(),URL.revokeObjectURL(r)}function Sa(e){let t=_d(),{to:n,suffix:r,label:a,onClick:i,children:l,...u}=e,d=Mae(n);return r&&(d+="/"+r),s.jsx(Ba,{href:d,"aria-label":a,onAuxClick:h=>{h.stopPropagation()},onClick:h=>{h.stopPropagation(),i?(h.preventDefault(),i(h)):n&&(LR(h)||(h.preventDefault(),t(d)))},...u,children:l})}function Mae(e){if(e){if(typeof e=="string")return Pae(e);if($i(e))return Nae(e);if($a(e))return Iae(e)}return"#"}function Pae(e){return e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/")?e:"/"+e}function Nae(e){return`/${e.resourceType}/${e.id}`}function Iae(e){return`/${e.reference}`}function Lae(e){let t=e.split(" ").filter(Boolean);return t.length>1?t[0][0]+t.at(-1)?.at(0):t.length===1?t[0][0]:""}function wa(e){let t=Dt(e.value),n=t?nr(t):e.alt??"",r=Lae(n),a=(t&&gJ(t))??e.src,i=_z(a??void 0),l=e.radius??"xl",u={...e,value:void 0,link:void 0};return e.link?s.jsx(Sa,{to:t,children:s.jsx(es,{src:i,alt:n,radius:l,...u,children:r})}):s.jsx(es,{src:i,alt:n,radius:l,...u,children:r})}var Yx={logoButton:"Header_logoButton",user:"Header_user",userName:"Header_userName"};function Kz(e){let t=e.value;return t?s.jsx(s.Fragment,{children:Gn(t,e.options)}):null}function zae(){return"Medplum"}function Xz(e){let t=by(),{medplum:n,profile:r,navigate:a}=t,i=n.getLogins(),{colorScheme:l,setColorScheme:u}=qF(),[d]=b.useState(localStorage.appShellLayoutVersion??"v1");function h(p){localStorage.appShellLayoutVersion=p,gr.reload()}return s.jsxs(s.Fragment,{children:[s.jsxs(ae,{align:"center",p:"xl",children:[s.jsx(wa,{size:"xl",radius:100,value:t.profile}),s.jsx(Kz,{value:t.profile?.name?.[0]}),s.jsx(W,{c:"dimmed",size:"xs",children:n.getActiveLogin()?.project.display})]}),i.length>1&&s.jsx(ye.Divider,{}),i.map(p=>p.profile.reference!==Me(t.profile)&&s.jsx(ye.Item,{onClick:()=>{n.setActiveLogin(p).then(()=>gr.reload()).catch(console.log)},children:s.jsxs(se,{children:[s.jsx(es,{radius:"xl"}),s.jsxs("div",{style:{flex:1},children:[s.jsx(W,{size:"sm",fw:500,children:p.profile.display}),s.jsx(W,{c:"dimmed",size:"xs",children:p.project.display})]})]})},p.profile.reference)),s.jsx(ye.Divider,{}),s.jsxs(se,{justify:"center",children:[s.jsx(tl,{size:"xs",value:l,onChange:p=>u(p),data:[{label:"Light",value:"light"},{label:"Dark",value:"dark"},{label:"Auto",value:"auto"}]}),s.jsx(tl,{size:"xs",value:d,onChange:p=>h(p),data:[{label:"v1",value:"v1"},{label:"v2",value:"v2"}]})]}),s.jsx(ye.Divider,{}),s.jsx(ye.Item,{leftSection:s.jsx(Eae,{size:14,stroke:1.5}),onClick:()=>a("/signin"),children:"Add another account"}),s.jsx(ye.Item,{leftSection:s.jsx(Rj,{size:14,stroke:1.5}),onClick:()=>a(`/${Me(r)}`),children:"Account settings"}),s.jsx(ye.Item,{leftSection:s.jsx(iae,{size:14,stroke:1.5}),onClick:async()=>{await n.signOut(),a("/signin")},children:"Sign out"}),s.jsxs(W,{size:"xs",c:"dimmed",my:"sm",ta:"center",children:[zae()," ",e.version]})]})}var VM={selectedItems:"selected-items",options:"options"};function qc(e){let t=zh({onDropdownClose:()=>t.resetSelectedOption(),onDropdownOpen:()=>t.updateSelectedOptionIndex("active")}),{name:n,label:r,description:a,error:i,defaultValue:l,toOption:u,loadOptions:d,itemComponent:h,pillComponent:p,emptyComponent:m,onChange:g,onCreate:y,creatable:S,clearable:x,required:C,placeholder:E,leftSection:j,maxValues:R,optionsDropdownMaxHeight:_=320,minInputLength:A=0,...M}=e,D=M.disabled,O=$ae(l),[k,I]=b.useState(""),[L,V]=b.useState(),[q,U]=b.useState(),[G,N]=b.useState(),[z,$]=b.useState(O.map(u)),[Y,X]=b.useState([]),H=h??qae,F=p??Uae,Q=m??Bae,J=b.useRef(k);J.current=k;let re=b.useRef(void 0),de=b.useRef(void 0),Ee=b.useRef(L);Ee.current=L;let Re=b.useRef(q);Re.current=q;let Se=b.useRef(G);Se.current=G;let Ye=b.useRef(Y);Ye.current=Y;let Je=b.useCallback(()=>{if(V(void 0),J.current===de.current&&d===re.current||(J.current?.length??0)<A)return;de.current=J.current,re.current=d;let We=new AbortController;U(We),d(J.current??"",We.signal).then(ht=>{We.signal.aborted||(X(ht.map(u)),Se.current?(ht.length>0&&g(ht.slice(0,1)),N(!1)):ht.length>0&&t.openDropdown())}).catch(ht=>{We.signal.aborted||ht.message.includes("aborted")||bt({color:"red",message:Wt(ht)})}).finally(()=>{We.signal.aborted||U(void 0)})},[t,d,g,u,A]),Ve=b.useCallback(We=>{(Y&&Y.length>0||S)&&t.openDropdown(),t.updateSelectedOptionIndex(),I(We.currentTarget.value),Re.current&&(Re.current.abort(),U(void 0)),Ee.current!==void 0&&window.clearTimeout(Ee.current);let ht=window.setTimeout(()=>Je(),100);V(ht)},[t,Y,S,Je]),ze=b.useCallback(We=>{let ht=z.some(ut=>ut.value===We),dt=ht?z.filter(ut=>ut.value!==We):[...z],pt=Y?.find(ut=>ut.value===We);if(!pt&&S!==!1&&y){let ut=y(We);pt=u(ut)}if(pt){if(R===0){g([pt.resource]),z.length>0&&$([]);return}ht||dt.push(pt)}if(R!==void 0)for(;dt.length>R;)dt.shift();g(dt.map(ut=>ut.resource)),$(dt)},[S,Y,z,R,g,y,u]),mt=b.useMemo(()=>{if(!D)return We=>{D||(R===1&&(I(""),X([]),t.closeDropdown()),de.current=void 0,We==="$create"?(I(""),ze(k)):ze(We))}},[ze,t,D,R,k]),Ze=b.useCallback(We=>{let ht=z.filter(dt=>dt.value!==We.value);g(ht.map(dt=>dt.resource)),$(ht)},[z,g]),Bt=b.useCallback(We=>{We.key==="Enter"?(L||q)&&N(!0):We.key==="Backspace"&&k.length===0&&(xa(We),Ze(z[z.length-1]))},[q,Ze,k.length,z,L]);b.useEffect(()=>()=>{Re.current&&Re.current.abort()},[]);let ot=!D&&x&&z.length>0&&s.jsx(lt.ClearButton,{title:"Clear all",size:"sm",onClear:()=>{I(""),$([]),g([]),t.closeDropdown()}}),Ot=S&&k.trim().length>0,_t=Y.length>0||Ot;return s.jsxs(lt,{store:t,onOptionSubmit:mt,withinPortal:!0,shadow:"xl",...M,children:[s.jsx(lt.DropdownTarget,{children:s.jsx(id,{label:r,description:a,error:i,className:e.className,leftSection:j,rightSection:q?s.jsx(tr,{size:16}):ot,required:C,disabled:D,children:s.jsxs(fc.Group,{"data-testid":VM.selectedItems,children:[z.map(We=>s.jsx(F,{item:We,disabled:D,onRemove:()=>Ze(We)},We.value)),!D&&(R===void 0||R===0||z.length<R)&&s.jsx(lt.EventsTarget,{children:s.jsx(id.Field,{role:"searchbox",name:n,value:k,placeholder:E,onFocus:Ve,onBlur:()=>{t.closeDropdown(),I("")},onKeyDown:Bt,onChange:Ve})})]})})}),s.jsx(lt.Dropdown,{hidden:!_t,"data-testid":VM.options,children:s.jsx(lt.Options,{children:s.jsxs(Dv,{type:"scroll",mah:_,children:[Y.map(We=>{let ht=z.some(dt=>dt.value===We.value);return s.jsx(lt.Option,{value:We.value,active:ht,children:s.jsx(H,{...We,active:ht})},We.value)}),Ot&&s.jsxs(lt.Option,{value:"$create",children:["+ Create ",k]}),!S&&k.trim().length>0&&Y.length===0&&s.jsx(Q,{search:k})]})})})]})}function $ae(e){return e?Array.isArray(e)?e:[e]:[]}function qae(e){return s.jsxs(se,{gap:"xs",children:[e.active&&s.jsx(Dd,{size:12}),s.jsx("span",{children:e.label})]})}function Uae({item:e,disabled:t,onRemove:n}){return s.jsx(fc,{withRemoveButton:!t,onRemove:n,children:e.label})}function Bae(){return s.jsx(lt.Empty,{children:"Nothing found"})}var Hae={searchInput:"HeaderSearchInput_searchInput"};function Fae(e){return{value:e.id,label:nr(e),resource:e}}function Vae(e){let t=_d(),n=_e(),r=b.useCallback(async(i,l)=>{let u=Gae(i),d={signal:l},h=await n.graphql(u,void 0,void 0,d);return Yae(h,i)},[n]),a=b.useCallback(i=>{i.length>0&&t(`/${Me(i[0])}`)},[t]);return s.jsx(qc,{size:"sm",radius:"md",className:Hae.searchInput,leftSection:s.jsx(Sy,{size:16}),placeholder:"Search",itemComponent:Wae,toOption:Fae,onChange:a,loadOptions:r,maxValues:0,clearable:!1},`${e.pathname}?${e.searchParams}`)}var Wae=b.forwardRef(({resource:e,active:t,...n},r)=>{let a;return e.resourceType==="Patient"?a=e.birthDate:e.resourceType==="ServiceRequest"&&(a=e.subject?.display),s.jsx("div",{ref:r,...n,children:s.jsxs(se,{wrap:"nowrap",children:[s.jsx(wa,{value:e}),s.jsxs("div",{children:[s.jsx(W,{children:nr(e)}),s.jsx(W,{size:"xs",c:"dimmed",children:a})]})]})})});function Gae(e){let t=JSON.stringify(e);return rz(e)?`{
      Patients1: PatientList(_id: ${t}, _count: 1) {
        resourceType
        id
        identifier {
          system
          value
        }
        name {
          given
          family
        }
        birthDate
      }
      ServiceRequestList(_id: ${t}, _count: 1) {
        resourceType
        id
        identifier {
          system
          value
        }
        subject {
          display
        }
      }
    }`.replaceAll(/\s+/g," "):`{
    Patients1: PatientList(name: ${t}, _count: 5) {
      resourceType
      id
      identifier {
        system
        value
      }
      name {
        given
        family
      }
      birthDate
    }
    Patients2: PatientList(identifier: ${t}, _count: 5) {
      resourceType
      id
      identifier {
        system
        value
      }
      name {
        given
        family
      }
      birthDate
    }
    ServiceRequestList(identifier: ${t}, _count: 5) {
      resourceType
      id
      identifier {
        system
        value
      }
      subject {
        display
      }
    }
  }`.replaceAll(/\s+/g," ")}function Yae(e,t){let n=[];return e.data.Patients1&&n.push(...e.data.Patients1),e.data.Patients2&&n.push(...e.data.Patients2),e.data.ServiceRequestList&&n.push(...e.data.ServiceRequestList),Kae(Qae(n),t).slice(0,5)}function Qae(e){let t=new Set,n=[];for(let r of e)t.has(r.id)||(t.add(r.id),n.push(r));return n}function Kae(e,t){return e.sort((n,r)=>WM(r,t)-WM(n,t))}function WM(e,t){let n=0;if(e.identifier)for(let r of e.identifier)n=Math.max(n,GM(r.value,t));if(e.resourceType==="Patient"&&e.name)for(let r of e.name)n=Math.max(n,GM(Gn(r),t));return n}function GM(e,t){if(!e)return 0;let n=e.toLowerCase().indexOf(t.toLowerCase());return n<0?0:100-n}function Xae(e){let t=Cr(),[n,r]=b.useState(!1);return s.jsx(Hr.Header,{p:8,style:{zIndex:101},children:s.jsxs(se,{justify:"space-between",children:[s.jsxs(se,{gap:"xs",children:[s.jsx(Wn,{className:Yx.logoButton,"aria-expanded":e.navbarOpen,"aria-controls":"navbar",onClick:()=>e.navbarToggle(),children:e.logo}),!e.headerSearchDisabled&&s.jsx(Vae,{pathname:e.pathname,searchParams:e.searchParams})]}),s.jsxs(se,{gap:"lg",pr:"sm",children:[e.notifications,s.jsxs(ye,{width:260,shadow:"xl",position:"bottom-end",transitionProps:{transition:"fade-down"},opened:n,onClose:()=>r(!1),children:[s.jsx(ye.Target,{children:s.jsx(Wn,{className:Yx.user,"aria-label":"User menu","data-active":n||void 0,onClick:()=>r(a=>!a),children:s.jsxs(se,{gap:7,children:[s.jsx(wa,{value:t,radius:"xl",size:24}),s.jsx(W,{size:"sm",className:Yx.userName,children:Gn(t?.name?.[0])}),s.jsx(OR,{size:12,stroke:1.5})]})})}),s.jsx(ye.Dropdown,{children:s.jsx(Xz,{version:e.version})})]})]})]})})}function Zae(e){let t=e,n=!1,r=new Set;return{getState(){return t},updateState(a){t=typeof a=="function"?a(t):a},setState(a){this.updateState(a),r.forEach(i=>i(t))},initialize(a){n||(t=a,n=!0)},subscribe(a){return r.add(a),()=>r.delete(a)}}}function Jae(e){return b.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}var eie=()=>Zae({opened:!1,empty:!1,selected:-1,listId:"",query:"",registeredActions:new Set}),tie=e=>Jae(e);function ud(e,t){let n=t.getState();t.setState({...n,...e(t.getState())})}function Zz(e){ud(()=>({opened:!0,selected:-1}),e)}function Jz(e){ud(()=>({opened:!1}),e)}function e$(e){ud(t=>({opened:!t.opened,selected:t.opened?t.selected:-1}),e)}function t$(e,t){t.updateState(n=>({...n,selected:e}))}function nie(e,t){t.updateState(n=>({...n,listId:e}))}function Xg(e,t=document){let n=t.querySelector(e);if(n)return n;let r=t instanceof ShadowRoot?t.host.children:t.children;for(let a=0;a<r.length;a+=1){let i=r[a];if(i.shadowRoot){let u=Xg(e,i.shadowRoot);if(u)return u}let l=Xg(e,i);if(l)return l}return null}function wy(e,t){let n=t.getState(),r=n.listId?Xg(`#${n.listId}`):null,a=r?.querySelector("[data-selected]"),i=r?.querySelectorAll("[data-action]")??[],l=e===-1?i.length-1:e===i.length?0:e,u=bH(l,0,i.length-1);return a?.removeAttribute("data-selected"),i[u]?.scrollIntoView({block:"nearest"}),i[u]?.setAttribute("data-selected","true"),t$(u,t),u}function rie(e){return wy(e.getState().selected+1,e)}function aie(e){return wy(e.getState().selected-1,e)}function iie(e){let t=e.getState();Xg(`#${t.listId} [data-selected]`)?.click()}function oie(e,t){let n=t.getState();return n.registeredActions.add(e),()=>{n.registeredActions.delete(e)}}function sie(e,t){ud(()=>({query:e}),t),Promise.resolve().then(()=>{wy(0,t),ud(n=>({empty:n.query.trim().length>0&&n.registeredActions.size===0||!1}),t)})}function lie({clearQuery:e},t){t.updateState(n=>({...n,selected:-1,query:e?"":n.query,empty:e?!1:n.empty}))}var po={open:Zz,close:Jz,toggle:e$,updateState:ud,setSelectedAction:t$,setListId:nie,selectAction:wy,selectNextAction:rie,selectPreviousAction:aie,triggerSelectedAction:iie,registerAction:oie,setQuery:sie,clearSpotlightState:lie};function cie(){let e=eie();return[e,{open:()=>Zz(e),close:()=>Jz(e),toggle:()=>e$(e)}]}var[n$,ep]=cie(),{open:SCe,close:wCe,toggle:CCe}=ep;function r$(e){let t=e;return t.group!==void 0&&Array.isArray(t.actions)}function uie(e){return Array.isArray(e)?e.map(t=>t.trim()).join(",").toLowerCase().trim():typeof e=="string"?e.toLowerCase().trim():""}function die(e){return e.reduce((t,n)=>"actions"in n?[...t,...n.actions.map(r=>({...r,group:n.group}))]:[...t,n],[])}function fie(e){let t={},n=[];return e.forEach(r=>{r.group?(t[r.group]||(t[r.group]={pushed:!1,data:{group:r.group,actions:[]}}),t[r.group].data.actions.push(r),t[r.group].pushed||(t[r.group].pushed=!0,n.push(t[r.group].data))):n.push(r)}),n}var hie=(e,t)=>{let n=e.trim().toLowerCase(),r=[[],[]];return die(t).forEach(a=>{a.label?.toLowerCase().includes(n)?r[0].push(a):(a.description?.toLowerCase().includes(n)||uie(a.keywords).includes(n))&&r[1].push(a)}),fie(r.flat())};function a$(e,t){if(!Array.isArray(e))return[];let n=0;return e.reduce((r,a)=>{if(n>=t)return r;if(r$(a)){let i=a$(a.actions,t-n);r.push({group:a.group,actions:i}),n+=i.length}else r.push(a),n+=1;return r},[])}var[pie,Ad]=xr("Spotlight component was not found in tree"),So={root:"m_d2b315db",content:"m_3cd250e0",body:"m_d2abce9b",search:"m_f366a061",actionsList:"m_6e463822",action:"m_d49bb8ef",actionBody:"m_3d475731",actionSection:"m_832642f6",actionLabel:"m_6c2a1345",actionDescription:"m_a6d9d78d",empty:"m_82f78f74",footer:"m_ddcaf054",actionsGroup:"m_5a3e5f7b"},mie={dimmedSections:!0,highlightQuery:!1},dh=xe((e,t)=>{let n=le("SpotlightAction",mie,e),{className:r,style:a,classNames:i,styles:l,id:u,description:d,label:h,leftSection:p,rightSection:m,children:g,dimmedSections:y,highlightQuery:S,highlightColor:x,closeSpotlightOnTrigger:C,onClick:E,onMouseDown:j,keywords:R,vars:_,...A}=n,M=Ad(),D={classNames:i,styles:l},O=S&&typeof h=="string"?s.jsx(xT,{component:"span",highlight:M.query,color:x,...M.getStyles("actionLabel",D),children:h}):s.jsx("span",{...M.getStyles("actionLabel",D),children:h});return s.jsx(Wn,{ref:t,"data-action":!0,...M.getStyles("action",{className:r,style:a,...D}),...A,onMouseDown:k=>{k.preventDefault(),j?.(k)},onClick:k=>{E?.(k),(C??M.closeOnActionTrigger)&&po.close(M.store)},tabIndex:-1,children:g||s.jsxs(s.Fragment,{children:[p&&s.jsx(te,{component:"span",mod:{position:"left",dimmed:y},...M.getStyles("actionSection",D),children:p}),s.jsxs("span",{...M.getStyles("actionBody",D),children:[O,s.jsx("span",{...M.getStyles("actionDescription",D),children:d})]}),m&&s.jsx(te,{component:"span",mod:{position:"right",dimmed:y},...M.getStyles("actionSection",D),children:m})]})})});dh.classes=So;dh.displayName="@mantine/spotlight/SpotlightAction";var Cy=xe((e,t)=>{let{className:n,style:r,styles:a,classNames:i,label:l,children:u,...d}=le("SpotlightActionsGroup",null,e),h=Ad();return s.jsx(te,{...h.getStyles("actionsGroup",{className:n,style:r,classNames:i,styles:a}),ref:t,...d,__vars:{"--spotlight-label":`'${l?.replace(/\\/g,"\\\\").replace(/'/g,"\\'")}'`},children:u})});Cy.classes=So;Cy.displayName="@mantine/core/SpotlightActionsGroup";var jy=xe((e,t)=>{let{className:n,style:r,id:a,children:i,vars:l,classNames:u,styles:d,...h}=le("SpotlightActionsList",null,e),p=Ad(),m=`mantine-${b.useId().replace(/:/g,"")}`,g=a||m;return b.useEffect(()=>(po.setListId(g,p.store),()=>po.setListId("",p.store)),[]),s.jsx(mn.Autosize,{...p.getStyles("actionsList",{className:n,style:r,classNames:u,styles:d}),ref:t,type:"scroll",scrollbarSize:"var(--spotlight-actions-list-padding)",offsetScrollbars:"y",id:g,...h,children:i})});jy.classes=So;jy.displayName="@mantine/spotlight/SpotlightActionsList";var Ey=xe((e,t)=>{let{className:n,style:r,classNames:a,styles:i,...l}=le("SpotlightEmpty",null,e),u=Ad();return s.jsx(te,{ref:t,...u.getStyles("empty",{classNames:a,styles:i,className:n,style:r}),...l})});Ey.classes=So;Ey.displayName="@mantine/spotlight/SpotlightEmpty";var zR=xe((e,t)=>{let{className:n,style:r,classNames:a,styles:i,...l}=le("SpotlightFooter",null,e),u=Ad();return s.jsx(te,{ref:t,...u.getStyles("footer",{className:n,classNames:a,style:r,styles:i}),...l})});zR.classes=So;zR.displayName="@mantine/spotlight/SpotlightFooter";function gie(e,t){if(!e)return[];let n=()=>po.open(t);return Array.isArray(e)?e.map(r=>[r,n]):[[e,n]]}var vie={size:600,yOffset:80,zIndex:Sr("max"),overlayProps:{backgroundOpacity:.35,blur:7},transitionProps:{duration:200,transition:"pop"},store:n$,clearQueryOnClose:!0,closeOnActionTrigger:!0,shortcut:"mod + K",maxHeight:400},Ty=xe((e,t)=>{let n=le("SpotlightRoot",vie,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,store:h,children:p,query:m,onQueryChange:g,transitionProps:y,clearQueryOnClose:S,shortcut:x,tagsToIgnore:C,triggerOnContentEditable:E,disabled:j,onSpotlightOpen:R,onSpotlightClose:_,forceOpened:A,closeOnActionTrigger:M,maxHeight:D,scrollable:O,attributes:k,...I}=n,L=Cn(),{opened:V,query:q}=tie(h),U=typeof m=="string"?m:q,G=z=>{g?.(z),po.setQuery(z,h)},N=Ne({name:"Spotlight",classes:So,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:k});return GH(gie(x,h),C,E),Js(()=>{V?R?.():_?.()},[V]),j?null:s.jsx(pie,{value:{getStyles:N,query:U,setQuery:G,store:h,closeOnActionTrigger:M},children:s.jsx(At,{ref:t,...I,withCloseButton:!1,opened:V||!!A,padding:0,onClose:()=>po.close(h),className:a,style:i,classNames:kh({theme:L,classNames:[So,r],props:n,stylesCtx:void 0}),styles:nh({theme:L,styles:l,props:n,stylesCtx:void 0}),transitionProps:{...y,onExited:()=>{S&&G(""),po.clearSpotlightState({clearQuery:S},h),y?.onExited?.()}},__vars:{"--spotlight-max-height":O?me(D):void 0},__staticSelector:"Spotlight","data-scrollable":O||void 0,children:p})})});Ty.classes=So;Ty.displayName="@mantine/spotlight/SpotlightRoot";var yie={size:"lg"},Ry=xe((e,t)=>{let{classNames:n,styles:r,onKeyDown:a,onChange:i,vars:l,value:u,...d}=le("SpotlightSearch",yie,e),h=Ad(),p=h.getStyles("search"),[m,g]=b.useState(!1),y=S=>{a?.(S),!m&&(S.nativeEvent.code==="ArrowDown"&&(S.preventDefault(),po.selectNextAction(h.store)),S.nativeEvent.code==="ArrowUp"&&(S.preventDefault(),po.selectPreviousAction(h.store)),(S.nativeEvent.code==="Enter"||S.nativeEvent.code==="NumpadEnter")&&(S.preventDefault(),po.triggerSelectedAction(h.store)))};return s.jsx(Gt,{ref:t,classNames:[{input:p.className},n],styles:[{input:p.style},r],...d,value:u??h.query,onChange:S=>{h.setQuery(S.currentTarget.value),i?.(S)},onKeyDown:y,onCompositionStart:()=>g(!0),onCompositionEnd:()=>g(!1)})});Ry.classes=So;Ry.displayName="@mantine/spotlight/SpotlightSearch";var bie={size:600,yOffset:80,limit:1/0,zIndex:Sr("max"),overlayProps:{backgroundOpacity:.35,blur:7},transitionProps:{duration:200,transition:"pop"},store:n$,filter:hie,clearQueryOnClose:!0,closeOnActionTrigger:!0,shortcut:"mod + K"},Ga=xe((e,t)=>{let n=le("Spotlight",bie,e),{searchProps:r,filter:a,query:i,onQueryChange:l,actions:u,nothingFound:d,highlightQuery:h,limit:p,scrollAreaProps:m,...g}=n,[y,S]=sr({value:i,defaultValue:"",finalValue:"",onChange:l}),x=a$(a(y,u),p).map(C=>{if(r$(C)){let E=C.actions.map(({id:j,...R})=>s.jsx(dh,{highlightQuery:h,...R},j));return s.jsx(Cy,{label:C.group,children:E},C.group)}return s.jsx(dh,{highlightQuery:h,...C},C.id)});return s.jsxs(Ty,{...g,query:y,onQueryChange:S,ref:t,children:[s.jsx(Ry,{...r}),s.jsxs(jy,{...m,children:[x,x.length===0&&d&&s.jsx(Ey,{children:d})]})]})});Ga.classes=So;Ga.displayName="@mantine/spotlight/Spotlight";Ga.Search=Ry;Ga.ActionsList=jy;Ga.Action=dh;Ga.Empty=Ey;Ga.ActionsGroup=Cy;Ga.Footer=zR;Ga.Root=Ty;Ga.open=ep.open;Ga.close=ep.close;Ga.toggle=ep.toggle;var $R=b.createContext({submitting:!1});$R.displayName="FormContext";function xie(e){let t={};for(let n of Array.from(e.elements))n instanceof HTMLInputElement?Sie(t,n):n instanceof HTMLTextAreaElement?t[n.name]=n.value:n instanceof HTMLSelectElement&&wie(t,n);return t}function Sie(e,t){t.disabled||(t.type==="checkbox"||t.type==="radio")&&!t.checked||(e[t.name]=t.value)}function wie(e,t){e[t.name]=t.value}function ar(e){let[t,n]=b.useState(!1);return s.jsx($R.Provider,{value:{submitting:t},children:s.jsx("form",{style:e.style,"data-testid":e.testid,onSubmit:r=>{r.preventDefault();let a=xie(r.target);if(e.onSubmit){n(!0);let i=e.onSubmit(a);i?.then?i.catch(console.error).finally(()=>{n(!1)}):n(!1)}},children:e.children})})}function Ir(e){let{children:t,...n}=e,{submitting:r}=b.useContext($R);return s.jsx(Oe,{type:"submit",loading:r,...n,children:t})}function Cie(e){let t=_e(),n=t.getUserConfiguration();function r(a){let{menuname:i,bookmarkname:l}=a,u=`${e.pathname}?${e.searchParams.toString()}`,d=Hi(n);d.menu?.find(({title:h})=>h===i)?.link?.push({name:l,target:u}),t.updateResource(d).then(h=>{n.menu=h.menu,t.dispatchEvent({type:"change"}),bt({color:"green",message:"Success"}),e.onOk()}).catch(h=>{bt({color:"red",message:Wt(h)})})}return s.jsx(At,{title:"Add Bookmark",closeButtonProps:{"aria-label":"Close"},opened:e.visible,onClose:e.onCancel,children:s.jsx(ar,{onSubmit:r,children:s.jsxs(ae,{children:[s.jsx(jie,{config:n}),s.jsx(tt,{label:"Bookmark Name",type:"text",name:"bookmarkname",placeholder:"Bookmark Name",withAsterisk:!0}),s.jsx(se,{justify:"flex-end",children:s.jsx(Ir,{mt:"sm",children:"OK"})})]})})})}function jie(e){function t(r){return r?.menu?.map(a=>a.title)}let n=t(e.config);return s.jsx(Wr,{name:"menuname",defaultValue:n[0],label:"Select Menu Option",data:n,withAsterisk:!0})}function i$(e){return typeof e.code=="string"?e.code:JSON.stringify(e)}function Eie(e){return typeof e.display=="string"?e.display:i$(e)}function Tie(e){return{value:i$(e),label:Eie(e),resource:e}}function Rie(e){return{code:e,display:e}}function bc(e){let t=_e(),{binding:n,creatable:r,clearable:a,expandParams:i,withHelpText:l,...u}=e,d=b.useCallback(async(h,p)=>{if(!n)return[];let m=(await t.valueSetExpand({...i,url:n,filter:h,count:10},{signal:p})).expansion?.contains??[],g=[];for(let y of m)y.code&&!g.some(S=>S.code===y.code)&&g.push(y);return g},[t,i,n]);return s.jsx(qc,{...u,creatable:r??!0,clearable:a??!0,toOption:Tie,loadOptions:d,onCreate:Rie,itemComponent:l?_ie:void 0})}var _ie=b.forwardRef(({label:e,resource:t,active:n,...r},a)=>s.jsx("div",{ref:a,...r,children:s.jsxs(se,{wrap:"nowrap",gap:"xs",children:[n&&s.jsx(Dd,{size:12}),s.jsxs("div",{children:[s.jsx(W,{children:e}),s.jsx(W,{size:"xs",c:"dimmed",children:`${t.system}#${t.code}`})]})]})}));function il(e){let{defaultValue:t,onChange:n,withHelpText:r,...a}=e,[i,l]=b.useState(t);function u(d){let h=d[0],p=Aie(h);l(p),n&&n(p)}return s.jsx(bc,{defaultValue:Die(i),onChange:u,withHelpText:r??!0,...a})}function Die(e){return e?{code:e}:void 0}function Aie(e){return e?.code}function o$(e){let[t,n]=b.useState(e.defaultValue),r=e.onChange,a=b.useCallback(i=>{n(i),r&&r(i)},[r]);return s.jsx(il,{disabled:e.disabled,"data-autofocus":e.autoFocus,"data-testid":e.testId,defaultValue:t,onChange:a,name:e.name,placeholder:e.placeholder,binding:"https://medplum.com/fhir/ValueSet/resource-types",creatable:!1,maxValues:e.maxValues??1,clearable:!1,withHelpText:!1})}var Kl={navbar:"Navbar_navbar",logoButton:"Navbar_logoButton",menuTitle:"Navbar_menuTitle",link:"Navbar_link",toggleButton:"Navbar_toggleButton"};function Oie(){let e=_e(),t=_d(),[n,r]=b.useState("Type to search..."),[a,i]=b.useState([]);return s.jsx(Ga,{actions:a,nothingFound:n,highlightQuery:!0,searchProps:{leftSection:s.jsx(Sy,{size:20,stroke:1.5}),placeholder:"Search..."},onQueryChange:l=>{if(!l){r("Type to search..."),i([]);return}r("Searching...");let u=kie(l);e.graphql(u).then(d=>{let h=Mie(d),p=Nie(h,t);i(p)}).catch(d=>{console.error("GraphQL query failed:",d)}).finally(()=>{r("No results found")})}})}function kie(e){let t=JSON.stringify(e);return rz(e)?`{
      Patients1: PatientList(_id: ${t}, _count: 1) {
        resourceType
        id
        identifier {
          system
          value
        }
        name {
          given
          family
        }
        birthDate
      }
      ServiceRequestList(_id: ${t}, _count: 1) {
        resourceType
        id
        identifier {
          system
          value
        }
        subject {
          display
        }
      }
    }`.replaceAll(/\s+/g," "):`{
    Patients1: PatientList(name: ${t}, _count: 5) {
      resourceType
      id
      identifier {
        system
        value
      }
      name {
        given
        family
      }
      birthDate
    }
    Patients2: PatientList(identifier: ${t}, _count: 5) {
      resourceType
      id
      identifier {
        system
        value
      }
      name {
        given
        family
      }
      birthDate
    }
    ServiceRequestList(identifier: ${t}, _count: 5) {
      resourceType
      id
      identifier {
        system
        value
      }
      subject {
        display
      }
    }
  }`.replaceAll(/\s+/g," ")}function Mie(e){let t=[];return e.data.Patients1&&t.push(...e.data.Patients1),e.data.Patients2&&t.push(...e.data.Patients2),e.data.ServiceRequestList&&t.push(...e.data.ServiceRequestList),Pie(t)}function Pie(e){let t=new Set,n=[];for(let r of e)t.has(r.id)||(t.add(r.id),n.push(r));return n}function Nie(e,t){let n=[],r=[];for(let i of e)i.resourceType==="Patient"?n.push({id:i.id,label:i.name?Gn(i.name[0]):i.id,description:i.birthDate,onClick:()=>t(`/Patient/${i.id}`)}):i.resourceType==="ServiceRequest"&&r.push({id:i.id,label:i.id,description:i.subject?.display,onClick:()=>t(`/ServiceRequest/${i.id}`)});let a=[];return n.length>0&&a.push({group:"Patients",actions:n}),r.length>0&&a.push({group:"Service Requests",actions:r}),a}function YM(e){let t=_d(),n=Cr(),r=Iie(e.pathname,e.searchParams,e.menus),[a,i]=b.useState(!1),[l,u]=b.useState(!1);function d(m,g){m.stopPropagation(),m.preventDefault(),t(g),window.innerWidth<768&&e.closeNavbar()}function h(m){m&&t(`/${m}`)}let p=e.opened??!0;return s.jsxs(s.Fragment,{children:[s.jsxs(Hr.Navbar,{id:"navbar",className:Kl.navbar,children:[e.logo&&s.jsx(Hr.Section,{px:"sm",pt:"xs",children:s.jsx(Wn,{className:Kl.logoButton,onClick:e.navbarToggle,"aria-expanded":p,"aria-controls":"navbar",children:e.logo})}),s.jsx(mn,{px:"sm",pb:"xs",h:"100%",children:s.jsxs(Hr.Section,{grow:!0,children:[e.spotlightEnabled&&s.jsx(QM,{to:"#",active:!1,onClick:ep.open,icon:s.jsx(Sy,{size:"1.2rem"}),label:"Search",opened:p}),e.spotlightEnabled&&s.jsx(Oie,{}),!e.resourceTypeSearchDisabled&&s.jsx(Hr.Section,{mb:"sm",children:s.jsx(o$,{name:"resourceType",placeholder:"Resource Type",maxValues:0,onChange:m=>h(m)},window.location.pathname)}),e.menus?.map(m=>s.jsxs(b.Fragment,{children:[m.title&&p&&s.jsx(W,{className:Kl.menuTitle,children:m.title}),m.title&&!p&&s.jsx(S6,{h:41}),m.links?.map(g=>s.jsx(QM,{to:g.href,active:g.href===r?.href,onClick:y=>d(y,g.href),icon:g.icon,label:g.label??"",opened:p},g.href))]},`menu-${m.title}`)),e.displayAddBookmark&&s.jsx(Oe,{variant:"subtle",size:"xs",mt:"xl",leftSection:s.jsx(Gz,{size:"0.75rem"}),onClick:()=>u(!0),children:"Add Bookmark"})]})}),e.userMenuEnabled&&s.jsxs(Hr.Section,{px:"sm",py:"xs",children:[s.jsx(ba,{label:"Toggle navbar",position:"right",transitionProps:{duration:0},children:s.jsx(Wn,{className:Kl.toggleButton,"aria-label":"Toggle navbar",onClick:e.navbarToggle,"aria-expanded":p,"aria-controls":"navbar",children:s.jsx(rae,{})})}),s.jsx(st,{my:"xs"}),s.jsxs(ye,{width:260,shadow:"xl",position:"top-start",transitionProps:{transition:"fade-up"},opened:a,onClose:()=>i(!1),children:[s.jsx(ye.Target,{children:s.jsxs(Wn,{className:Kl.link,"aria-label":"User menu","data-active":a||void 0,onClick:()=>i(m=>!m),bd:"1px 0 0 0 solid var(--mantine-color-gray-200)",children:[s.jsx(wa,{value:n,radius:"xl",size:18}),p&&s.jsx("span",{children:Gn(n?.name?.[0])})]})}),s.jsx(ye.Dropdown,{children:s.jsx(Xz,{version:e.version})})]})]})]}),e.pathname&&e.searchParams&&s.jsx(Cie,{pathname:e.pathname,searchParams:e.searchParams,visible:l,onOk:()=>u(!1),onCancel:()=>u(!1)})]})}function QM(e){let{to:t,icon:n,label:r,onClick:a,active:i}=e;return e.opened?s.jsxs(Sa,{to:t,onClick:a,className:Kl.link,"data-active":i||void 0,children:[n,s.jsx("span",{children:r})]}):s.jsx(ba,{label:r,position:"right",transitionProps:{duration:0},children:s.jsx(Sa,{to:t,onClick:a,className:Kl.link,"data-active":i||void 0,children:n})})}function Iie(e,t,n){if(!e||!t||!n)return;let r,a=0;for(let i of n)if(i.links)for(let l of i.links){let u=Lie(e,t,l.href);u>a&&(a=u,r=l)}return r}function Lie(e,t,n){let r=new URL(n,"https://example.com");if(e!==r.pathname)return 0;let a=["_count","_offset"];for(let[l,u]of r.searchParams.entries())if(!a.includes(l)&&t.get(l)!==u)return 0;let i=1;for(let[l,u]of t.entries())a.includes(l)||r.searchParams.get(l)===u&&i++;return i}var KM=250,zie=70;function $ie(e){let[t,n]=b.useState(localStorage.navbarOpen==="true"),[r]=b.useState(e.layoutVersion??localStorage.appShellLayoutVersion??"v1"),a=_e(),i=Cr();function l(y){localStorage.navbarOpen=y.toString(),n(y)}function u(){l(!1)}function d(){l(!t)}if(a.isLoading())return s.jsx(Fi,{});let h,p,m,g;return r==="v2"?(h={height:0},p={width:t?KM:zie,breakpoint:0,collapsed:{desktop:!i,mobile:!i}},m=void 0,g=i?s.jsx(YM,{logo:e.logo,pathname:e.pathname,searchParams:e.searchParams,menus:e.menus,navbarToggle:d,closeNavbar:u,displayAddBookmark:e.displayAddBookmark,resourceTypeSearchDisabled:!0,opened:t,spotlightEnabled:!0,userMenuEnabled:!0,version:e.version}):void 0):(h={height:60},p={width:KM,breakpoint:"sm",collapsed:{desktop:!i||!t,mobile:!i||!t}},m=i&&s.jsx(Xae,{pathname:e.pathname,searchParams:e.searchParams,headerSearchDisabled:e.headerSearchDisabled,logo:e.logo,version:e.version,navbarOpen:t,navbarToggle:d,notifications:e.notifications}),g=i&&t?s.jsx(YM,{pathname:e.pathname,searchParams:e.searchParams,menus:e.menus,navbarToggle:d,closeNavbar:u,displayAddBookmark:e.displayAddBookmark,resourceTypeSearchDisabled:e.resourceTypeSearchDisabled}):void 0),s.jsxs(Hr,{header:h,navbar:p,padding:0,children:[m,g,s.jsx(Hr.Main,{className:Aae.main,children:s.jsx(Yz,{children:s.jsx(b.Suspense,{fallback:s.jsx(Fi,{}),children:e.children})})})]})}var qie="https://ccda.medplum.com",Uie="https://ccda-validator.medplum.com/";function Bie(e){let{url:t}=e,[n,r]=b.useState(!1),a=b.useRef(null),[i,l]=b.useState(),[u,d]=b.useState(!1);b.useEffect(()=>{t&&n&&a.current&&(Oae(a.current,{command:"loadCcdaXml",value:t}).catch(console.error),r(!1))},[t,n]);let h=async()=>{if(t)try{d(!0);let g=await(await fetch(t)).text(),y=new FormData;y.append("ccdaFile",new Blob([g],{type:"text/xml"}),"ccda.xml");let S=`${Uie}referenceccdaservice/?validationObjective=C-CDA_IG_Plus_Vocab&referenceFileName=No%20scenario%20File&curesUpdate=true&severityLevel=WARNING`,x=await fetch(S,{method:"POST",body:y,credentials:"omit",redirect:"manual"});if(!x.ok)throw new Error(`Validation failed: ${x.status} ${x.statusText}`);let C=await x.json();l(C)}catch(g){l(void 0),console.error("CCDA validation error:",g)}finally{d(!1)}},p=()=>{if(!i)return;let g=JSON.stringify(i,null,2);kae(g,"ccda-validation-results")},m=()=>i?i.resultsMetaData.resultMetaData.filter(g=>g?.type.includes("Error")).reduce((g,y)=>g+(y.count||0),0):0;return t?s.jsxs("div",{"data-testid":"ccda-iframe",style:{maxWidth:e.maxWidth},children:[s.jsx("div",{style:{minHeight:400},children:s.jsx("iframe",{title:"C-CDA Viewer",width:"100%",height:"400",ref:a,src:qie,allowFullScreen:!0,frameBorder:0,seamless:!0,onLoad:()=>r(!0)})}),s.jsxs("div",{style:{marginTop:"10px",marginBottom:"10px",display:"flex",alignItems:"center"},children:[s.jsx(Oe,{type:"button",onClick:h,disabled:u,children:u?"Validating...":"Validate"}),i&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{marginLeft:"15px"},children:[s.jsx("strong",{children:"Validation Results:"})," ",m()," errors found"]}),s.jsx(Oe,{type:"button",onClick:p,color:"green",style:{marginLeft:"auto"},children:"Download Full Results"})]})]})]}):null}function Xs(e){let{contentType:t,url:n,title:r}=e.value??{},a=_z(n);return a?s.jsxs("div",{"data-testid":"attachment-display",children:[t?.startsWith("image/")&&s.jsx("img",{"data-testid":"attachment-image",style:{maxWidth:e.maxWidth},src:a,alt:r}),t?.startsWith("video/")&&s.jsx("video",{"data-testid":"attachment-video",style:{maxWidth:e.maxWidth},controls:!0,children:s.jsx("source",{type:t,src:a})}),(t?.startsWith("text/")||t==="application/json"||t==="application/pdf")&&s.jsx("div",{"data-testid":"attachment-iframe",style:{maxWidth:e.maxWidth,minHeight:400},children:s.jsx("iframe",{title:"Attachment",width:"100%",height:"400",src:a+"#navpanes=0",allowFullScreen:!0,frameBorder:0,seamless:!0})}),t===Dn.CDA_XML&&s.jsx(Bie,{url:a}),s.jsx("div",{"data-testid":"download-link",style:{padding:"2px 16px 16px 16px"},children:s.jsx(Ba,{href:n,"data-testid":"attachment-details",target:"_blank",rel:"noopener noreferrer",download:Hie(r),children:r||"Download"})})]}):null}function Hie(e){return e?.includes(".")?e:void 0}function s$(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=s$(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Fie(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=s$(e))&&(r&&(r+=" "),r+=t);return r}var Uc=Fie,XM={root:"DescriptionList_root",compact:"DescriptionList_compact"};function Vie(e){let{children:t,compact:n}=e;return s.jsx("dl",{className:Uc(XM.root,{[XM.compact]:n}),children:t})}function Zg(e){return s.jsxs(s.Fragment,{children:[s.jsx("dt",{children:e.term}),s.jsx("dd",{children:e.children})]})}function Wie(e){let t=e.values?.map((r,a)=>s.jsx("div",{children:s.jsx(Xs,{value:r,maxWidth:e.maxWidth})},"attatchment-"+a)),n;if(e.includeDescriptionListEntry){if(e.property===void 0)throw new Error("props.property is required when includeDescriptionListEntry is true");if(!Fn(e.path))throw new Error("props.path is required when includeDescriptionListEntry is true");let r=e.path.split(".").pop();n=s.jsx(Zg,{term:vc(r),children:t})}else n=s.jsx(s.Fragment,{children:t});return n}function qR(e){let t=_e(),n=b.useRef(null);function r(l){xa(l),n.current?.click()}function a(l){xa(l);let u=l.target.files;u&&Array.from(u).forEach(i)}function i(l){!l||!l.name||(e.onUploadStart&&e.onUploadStart(),t.createAttachment({data:l,contentType:l.type||"application/octet-stream",filename:l.name,securityContext:e.securityContext,onProgress:e.onUploadProgress}).then(u=>e.onUpload(u)).catch(u=>{e.onUploadError&&e.onUploadError(kr(u))}))}return s.jsxs(s.Fragment,{children:[s.jsx("input",{disabled:e.disabled,type:"file","data-testid":"upload-file-input",style:{display:"none"},ref:n,onChange:l=>a(l)}),e.children({onClick:r,disabled:e.disabled})]})}function Gie(e){let[t,n]=b.useState(e.defaultValue??[]),r=b.useRef(t);r.current=t;function a(i){n(i),e.onChange&&e.onChange(i)}return s.jsxs("table",{style:{width:"100%"},children:[s.jsxs("colgroup",{children:[s.jsx("col",{width:"97%"}),s.jsx("col",{width:"3%"})]}),s.jsxs("tbody",{children:[t.map((i,l)=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsx(Xs,{value:i,maxWidth:200})}),s.jsx("td",{children:s.jsx(ft,{disabled:e.disabled,title:"Remove",variant:"subtle",size:"sm",color:"gray",onClick:u=>{xa(u);let d=t.slice();d.splice(l,1),a(d)},children:s.jsx(Hz,{})})})]},`${l}-${t.length}`)),s.jsxs("tr",{children:[s.jsx("td",{}),s.jsx("td",{children:s.jsx(qR,{disabled:e.disabled,onUpload:i=>{a([...r.current,i])},children:i=>s.jsx(ft,{...i,title:"Add",variant:"subtle",size:"sm",color:i.disabled?"gray":"green",children:s.jsx(Fz,{})})})})]})]})]})}function l$(e){let[t,n]=b.useState(e.defaultValue);function r(a){n(a),e.onChange&&e.onChange(a)}return t?s.jsxs(s.Fragment,{children:[s.jsx(Xs,{value:t,maxWidth:200}),s.jsx(Oe,{disabled:e.disabled,onClick:a=>{xa(a),r(void 0)},children:"Remove"})]}):s.jsx(qR,{disabled:e.disabled,securityContext:e.securityContext,onUpload:r,children:a=>s.jsx(Oe,{...a,children:"Upload..."})})}function tp(e){return s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 180 180",style:{width:e.size,height:e.size},children:[s.jsx("title",{children:"Medplum Logo"}),s.jsx("path",{fill:e.fill??"#9c36b5",d:"M84 56c-3-15-15-24-23-28l5-10c8 2 14 8 20 14 0-12 1-16 5-21 8-9 13-9 41-9 0 7 1 18-3 24-7 9-16 7-41 8 5 8 7 14 8 22 36-24 74-7 74 39 0 42-40 83-80 83s-80-41-80-83c0-46 38-63 74-39Zm-3 43H65c-4 0-7 3-7 7v4c0 4 3 7 7 7h16v16c0 4 3 7 7 7h4c4 0 7-3 7-7v-16h16c4 0 7-3 7-7v-4c0-4-3-7-7-7H99V83c0-4-3-7-7-7h-4c-4 0-7 3-7 7z"})]})}function ZM(e){let[t,n]=b.useState();return s.jsxs(ar,{onSubmit:r=>{n(void 0),e.onSubmit(r)?.catch(a=>n(Wt(a)))},children:[s.jsxs(yr,{style:{flexDirection:"column"},children:[s.jsx(tp,{size:32}),s.jsx(cr,{order:3,py:"lg",children:e.title}),!e.qrCodeUrl&&e.description&&s.jsx(W,{c:"dimmed",mb:"lg",mt:"-lg",children:e.description})]}),t&&s.jsx(hl,{icon:s.jsx(xy,{size:16}),title:"Error",color:"red",mb:"lg",children:t}),e.qrCodeUrl&&s.jsx(yr,{children:s.jsxs(ae,{mb:"xl",children:[e.description&&s.jsx(W,{c:"dimmed",mb:"md",mt:"-lg",ta:"center",children:e.description}),s.jsx(ST,{src:e.qrCodeUrl,alt:"Multi Factor Auth QR Code",w:"60%",mx:"auto",radius:"md",p:"xs",bg:"var(--mantine-color-white)",style:{border:"1px solid light-dark(var(--mantine-color-gray-2), var(--mantine-color-dark-4))"}})]})}),s.jsx(ae,{gap:"sm",children:s.jsx(tt,{name:"token",label:"MFA code",autoComplete:"one-time-code",required:!0,autoFocus:!0})}),s.jsx(ae,{gap:"xs",pt:"md",children:s.jsx(Ir,{fullWidth:!0,children:e.buttonText})})]})}var Yie={root:"Container_root"};function UR(e){let{children:t,...n}=e;return s.jsx($h,{className:Yie.root,...n,children:t})}var JM={paper:"Panel_paper",fill:"Panel_fill"};function _y(e){let{width:t,fill:n,className:r,children:a,...i}=e,l=t?{maxWidth:t}:void 0;return s.jsx(Lt,{className:Uc(JM.paper,n&&JM.fill,r),style:l,shadow:"sm",radius:"sm",withBorder:!0,...i,children:a})}function ol(e){let{children:t,...n}=e;return s.jsx(UR,{children:s.jsx(_y,{...n,children:t})})}function Bc(e){let{outcome:t,issues:n,...r}=e,a=t?.issue||n;return!a||a.length===0?null:s.jsx(hl,{icon:s.jsx(xy,{size:16}),color:"red",...r,children:a.map(i=>s.jsx("div",{"data-testid":"text-field-error",children:z6(i)},i.details?.text))})}function Fr(e,t){return e?.issue?.filter(n=>c$(n.expression?.[0],t))?.map(n=>n.details?.text)?.join(`
`)}function BR(e,t){return e?.issue?.filter(n=>c$(n.expression?.[0],t))}var Bm=/\[\d+\]/;function c$(e,t){let n=typeof e=="string"&&Bm.test(e),r=typeof t=="string"&&Bm.test(t);if(n!==r&&(e=e?.replace(Bm,""),t=t?.replace(Bm,"")),e===t)return!0;if(!e||!t)return!1;let a=e.indexOf(".");if(a>=0&&e.substring(a+1)===t)return!0;let i=t.indexOf(".");return i>=0&&t.substring(i+1)===e}function Qie(e){let t=_e(),[n,r]=b.useState(),a=BR(n,void 0);return s.jsxs(ar,{onSubmit:async i=>{try{e.handleAuthResponse(await t.startNewProject({login:e.login,projectName:i.projectName}))}catch(l){r(kr(l))}},children:[s.jsxs(yr,{style:{flexDirection:"column"},children:[s.jsx(tp,{size:32}),s.jsx(cr,{order:3,py:"lg",children:"Create a new project"})]}),s.jsx(Bc,{issues:a,mb:"lg"}),s.jsx(ae,{gap:"sm",children:s.jsx(tt,{name:"projectName",label:"Project Name",placeholder:"My Project",required:!0,autoFocus:!0,error:Fr(n,"projectName")})}),s.jsxs(ae,{gap:"xs",mt:"md",children:[s.jsx(Ir,{fullWidth:!0,children:"Create Project"}),s.jsxs(W,{c:"dimmed",size:"xs",pt:"lg",ta:"center",children:['By clicking "Create Project" you agree to the Medplum'," ",s.jsx(Ba,{href:"https://www.medplum.com/privacy",children:"PrivacyÂ Policy"})," and ",s.jsx(Ba,{href:"https://www.medplum.com/terms",children:"TermsÂ ofÂ Service"}),"."]})]})]})}function Kie(e,t){let n=document.getElementsByTagName("head")[0],r=document.createElement("script");r.async=!0,r.src=e,r.onload=t??null,n.appendChild(r)}function Xie(e){let{googleClientId:t,handleGoogleCredential:n}=e,r=b.useRef(null),[a,i]=b.useState(typeof google<"u"),l=b.useRef(!1),u=b.useRef(!1);return b.useEffect(()=>{if(typeof google>"u"){Kie("https://accounts.google.com/gsi/client",()=>i(!0));return}l.current||(google.accounts.id.initialize({client_id:t,callback:n}),l.current=!0),r.current&&!u.current&&(google.accounts.id.renderButton(r.current,{type:"standard",logo_alignment:"center",width:r.current.clientWidth}),u.current=!0)},[t,a,n]),t?s.jsx(te,{ref:r,w:"100%",h:40,display:"flex",style:{justifyContent:"center"}}):null}function Zie(e){if(e)return e;let t=gr.getOrigin();if(t&&("undefined".split(",")??[]).includes(t))return"__GOOGLE_CLIENT_ID__"}function Jie(e){let[t,n]=b.useState();return t?s.jsx(toe,{email:t,resetEmail:()=>n(void 0),...e}):s.jsx(eoe,{setEmail:n,...e})}function eoe(e){let{setEmail:t,onRegister:n,handleAuthResponse:r,children:a,disableEmailAuth:i,...l}=e,u=_e(),d=!e.disableGoogleAuth&&Zie(e.googleClientId),[h,p]=b.useState(),m=BR(h,void 0),g=b.useCallback(async x=>{if(!x.authorizeUrl)return!1;let C=JSON.stringify({...await u.ensureCodeChallenge(l),domain:x.domain}),E=new URL(x.authorizeUrl);return E.searchParams.set("state",C),gr.assign(E.toString()),!0},[u,l]),y=b.useCallback(async x=>{let C=await u.post("auth/method",{email:x.email});await g(C)||t(x.email)},[u,g,t]),S=b.useCallback(async x=>{try{let C=await u.startGoogleLogin({...l,googleCredential:x.credential});await g(C)||r(C)}catch(C){p(kr(C))}},[u,l,g,r]);return s.jsxs(ar,{onSubmit:y,children:[s.jsx(yr,{style:{flexDirection:"column"},children:a}),s.jsx(Bc,{issues:m,mb:"lg"}),d&&s.jsxs(s.Fragment,{children:[s.jsx(te,{style:{minHeight:40},children:s.jsx(Xie,{googleClientId:d,handleGoogleCredential:S})}),!i&&s.jsx(st,{label:"or",labelPosition:"center",my:"lg"})]}),!i&&s.jsx(tt,{name:"email",type:"email",label:"Email",mb:"md",placeholder:"name@domain.com",required:!0,autoFocus:!0,error:Fr(h,"email"),"data-testid":"auth.email"}),s.jsxs(ae,{gap:"xs",children:[!i&&s.jsx(Ir,{fullWidth:!0,children:"Continue"}),n&&s.jsxs(W,{size:"sm",mt:"lg",c:"dimmed",style:{textAlign:"center"},"data-dashlane-ignore":"true","data-lp-ignore":"true","data-no-autofill":"true","data-form-type":"navigation",children:["Donâ€™t have an account? ",s.jsx(Ba,{onClick:n,children:"Register"})]})]})]})}function toe(e){let{onForgotPassword:t,handleAuthResponse:n,children:r,...a}=e,i=_e(),[l,u]=b.useState(),d=BR(l,void 0),h=b.useCallback(p=>{i.startLogin({...a,password:p.password,remember:p.remember==="on"}).then(n).catch(m=>u(kr(m)))},[i,a,n]);return s.jsxs(ar,{onSubmit:h,children:[s.jsx(yr,{style:{flexDirection:"column"},children:r}),s.jsx(Bc,{issues:d,mb:"lg"}),s.jsxs(ae,{gap:"sm",children:[s.jsx(tt,{label:"Email",value:e.email,disabled:!0,rightSectionWidth:36,rightSection:s.jsx(ft,{variant:"subtle",color:"gray",onClick:e.resetEmail,"aria-label":"Change email",children:s.jsx(hae,{size:"1rem",stroke:1.5})})}),s.jsx(IT,{name:"password",label:"Password",autoComplete:"off",required:!0,autoFocus:!0,error:Fr(l,"password"),"data-testid":"auth.password"})]}),s.jsxs(ae,{gap:"xs",children:[s.jsx(mi,{id:"remember",name:"remember",label:"Remember me",size:"xs",style:{lineHeight:1},pt:"md",pb:"xs"}),s.jsx(Ir,{children:"Sign In"}),t&&s.jsx(W,{size:"sm",mt:"lg",c:"dimmed",style:{textAlign:"center"},"data-dashlane-ignore":"true","data-lp-ignore":"true","data-no-autofill":"true","data-form-type":"navigation",children:s.jsx(Ba,{onClick:t,children:"Reset Password"})})]})]})}var u$={option:"ChooseProfileForm_option",iconBox:"ChooseProfileForm_iconBox"};function noe(e){let t=_e(),n=zh(),[r,a]=b.useState(""),[i,l]=b.useState();function u(m){return!!m?.toLowerCase()?.includes(r.toLowerCase())}function d(m){return u(m.profile?.display)||u(m.project?.display)}function h(m){t.post("auth/profile",{login:e.login,profile:m}).then(e.handleAuthResponse).catch(g=>l(kr(g)))}let p=e.memberships.filter(d).slice(0,10).map(m=>s.jsx(lt.Option,{value:m.id,className:u$.option,children:s.jsx(aoe,{...m})},m.id));return s.jsxs(ae,{gap:"0",children:[s.jsxs($e,{justify:"center",align:"center",direction:"column",wrap:"nowrap",children:[s.jsx(tp,{size:32}),s.jsx(cr,{order:3,py:"lg",children:"Choose a Project"})]}),s.jsx(Bc,{outcome:i,mb:"lg"}),s.jsxs(lt,{store:n,onOptionSubmit:h,children:[s.jsx(lt.EventsTarget,{children:s.jsx(tt,{placeholder:"Search",value:r,mb:"md",leftSection:s.jsx(Sy,{size:16}),onChange:m=>{a(m.currentTarget.value),n.updateSelectedOptionIndex()}})}),s.jsx("div",{children:s.jsx(lt.Options,{style:{marginLeft:"-10px",marginRight:"-10px",marginBottom:"-10px"},children:p.length>0?p:s.jsx(lt.Empty,{children:"Nothing found..."})})})]})]})}function roe(e){return e.identifier?.find(t=>t.system==="https://medplum.com/identifier/label")?.value}function aoe(e){let t=roe(e);return s.jsxs(se,{gap:"xs",align:"center",children:[s.jsx(te,{className:u$.iconBox,children:s.jsx(mre,{size:16,stroke:2})}),s.jsxs("div",{children:[s.jsxs(W,{size:"sm",fw:500,children:[e.project?.display," ",t?` - ${t}`:""]}),s.jsx(W,{size:"xs",c:"dimmed",children:e.profile?.display})]})]})}var ioe=/^patient\/Condition\.(?:\*|c?r?u?d?s?)$/,ooe="?category=http://terminology.hl7.org/CodeSystem/condition-category|encounter-diagnosis",soe="?category=http://terminology.hl7.org/CodeSystem/condition-category|problem-list-item",loe="?category=http://hl7.org/fhir/us/core/CodeSystem/condition-category|health-concern",coe=/^patient\/Observation\.(?:\*|c?r?u?d?s?)$/,uoe="?category=http://hl7.org/fhir/us/core/CodeSystem/us-core-observation-category|clinical-test",doe="?category=http://terminology.hl7.org/CodeSystem/observation-category|laboratory",foe="?category=http://terminology.hl7.org/CodeSystem/observation-category|social-history",hoe="?category=http://hl7.org/fhir/us/core/CodeSystem/us-core-category|sdoh",poe="?category=http://terminology.hl7.org/CodeSystem/observation-category|survey",moe="?category=http://terminology.hl7.org/CodeSystem/observation-category|vital-signs";function goe(e){let t=_e();return s.jsx(ar,{onSubmit:n=>{t.post("auth/scope",{login:e.login,scope:Object.keys(n).join(" ")}).then(e.handleAuthResponse).catch(console.log)},children:s.jsxs(ae,{children:[s.jsxs(yr,{style:{flexDirection:"column"},children:[s.jsx(tp,{size:32}),s.jsx(cr,{children:"Choose scope"})]}),s.jsx(ae,{children:(e.scope??"openid").split(" ").map(n=>{let r;return ioe.test(n)?r=[n+ooe,n+soe,n+loe]:coe.test(n)&&(r=[n+uoe,n+doe,n+foe,n+hoe,n+poe,n+moe]),s.jsxs(s.Fragment,{children:[s.jsx(mi,{id:n,name:n,label:n,defaultChecked:!0},n),r?.map(a=>s.jsx(mi,{id:a,name:a,label:a},a))]},n+"_group")})}),s.jsx(se,{justify:"flex-end",mt:"xl",children:s.jsx(Ir,{children:"Set scope"})})]})})}function voe(e){let{login:t,chooseScopes:n,onSuccess:r,onForgotPassword:a,onRegister:i,onCode:l,...u}=e,d=_e(),[h,p]=b.useState(),m=b.useRef(!1),[g,y]=b.useState(!1),[S,x]=b.useState(),[C,E]=b.useState(!1),[j,R]=b.useState(),_=b.useCallback(D=>{l?l(D):d.processCode(D).then(()=>{r&&r()}).catch(O=>bt({color:"red",message:Wt(O)}))},[d,l,r]),A=b.useCallback(D=>{y(!!D.mfaEnrollRequired),x(D.enrollQrCode),E(!!D.mfaRequired),D.login&&p(D.login),D.memberships&&R(D.memberships),D.code&&(n?R(void 0):_(D.code))},[n,_]),M=b.useCallback(D=>{_(D.code)},[_]);return b.useEffect(()=>{t&&!m.current&&!h&&(m.current=!0,d.get("auth/login/"+t).then(A).catch(D=>bt({color:"red",message:Wt(D)})))},[d,t,m,h,A]),s.jsx(ol,{width:400,px:"xl",py:"xl",bdrs:"md",children:h?g&&S?s.jsx(ZM,{title:"Enroll in MFA",description:"Scan this QR code with your authenticator app.",buttonText:"Enroll",qrCodeUrl:S,onSubmit:async D=>{let O=await d.post("auth/mfa/login-enroll",{login:h,token:D.token});A(O)}}):C?s.jsx(ZM,{title:"Enter MFA code",description:"Enter the code from your authenticator app.",buttonText:"Submit Code",onSubmit:async D=>{let O=await d.post("auth/mfa/verify",{login:h,token:D.token});A(O)}}):j?s.jsx(noe,{login:h,memberships:j,handleAuthResponse:A}):e.projectId==="new"?s.jsx(Qie,{login:h,handleAuthResponse:A}):e.chooseScopes?s.jsx(goe,{login:h,scope:e.scope,handleAuthResponse:M}):s.jsx("div",{children:"Success"}):s.jsx(Jie,{onForgotPassword:a,onRegister:i,handleAuthResponse:A,disableGoogleAuth:e.disableGoogleAuth,disableEmailAuth:e.disableEmailAuth,...u,children:e.children})})}function Xf(e){return s.jsx(s.Fragment,{children:rl(e.value)})}function yoe(e){return s.jsx(s.Fragment,{children:gc(e.value)})}function d$(e){let t=e.value;if(!t)return null;let n=[];return t.value&&n.push(t.value),(t.use||t.system)&&(n.push(" ["),t.use&&n.push(t.use),t.use&&t.system&&n.push(" "),t.system&&n.push(t.system),n.push("]")),s.jsx(s.Fragment,{children:n.join("").trim()})}function boe(e){let t=e.value;return t?s.jsxs(s.Fragment,{children:[t.name,t.name&&": ",t.telecom?.map(n=>s.jsx(d$,{value:n},`telecom-${t.name}-${n.value}`))]}):null}function HR(e,t,n){let r=pc(e,t,{profileUrl:n});return r?Array.isArray(r)?[r.map(a=>a.value),r[0].type]:[r.value,r.type]:[void 0,"undefined"]}function xoe(e,t,n){let r=V6(e,t,n);return r?Array.isArray(r)?[r.map(a=>a.value),r[0].type]:[r.value,r.type]:[void 0,"undefined"]}function Soe(e){let{elementDefinitionType:t}=e,n=_e(),r=b.useContext(pn),[a,i]=b.useState(B6("Extension")),l=b.useMemo(()=>{if(Fn(t?.profile))return t.profile[0]},[t]),[u,d]=b.useState(l!==void 0);if(b.useEffect(()=>{l&&(d(!0),n.requestProfileSchema(l).then(()=>{let h=nl(l);d(!1),h&&i(h)}).catch(h=>{d(!1),console.warn(h)}))},[n,l]),l&&(u||!oR(l)))return s.jsx("div",{children:"Loading..."});if(a.elements["value[x]"]?.max!==0){let[h,p]=HR({type:"Extension",value:e.value},"value[x]",l??r.profileUrl);return s.jsx(Vi,{propertyType:p,value:h})}return s.jsx(ev,{path:e.path,value:{type:a.type,value:e.value},compact:e.compact,ignoreMissingValues:e.ignoreMissingValues,link:e.link,profileUrl:l})}function woe(e){return s.jsxs("div",{children:[e.value?.system,": ",e.value?.value]})}function Coe(e){return s.jsx(s.Fragment,{children:HJ(e.value)})}function Jg(e){return s.jsx(s.Fragment,{children:oo(e.value)})}function FR(e){return s.jsx(s.Fragment,{children:BJ(e.value)})}function joe(e){let t=e.value;return t?s.jsxs(s.Fragment,{children:[s.jsx(Jg,{value:t.numerator}),"Â /Â ",s.jsx(Jg,{value:t.denominator})]}):null}function _j(e){if(!e.value)return null;let t=e.value.display||e.value.reference||ld(e.value);return e.link!==!1&&e.value.reference?s.jsx(Sa,{to:e.value,children:t}):s.jsx(s.Fragment,{children:t})}function f$(e,t,n,r){if(!Fn(n?.slices))return[e];let a=new Array(t.length+1);for(let i=0;i<a.length;i++)a[i]=[];for(let i of e){let l=jz(i,t,n.discriminator,r),u=l?t.findIndex(d=>d.name===l):-1;u===-1&&(u=t.length),a[u].push(i)}return a}async function h$({medplum:e,property:t}){return new Promise((n,r)=>{if(!t.slicing){n([]);return}let a=[],i=[],l=[];for(let u of t.slicing.slices){if(!Cz(u)){console.debug("Unsupported slice definition",u);continue}let d;Fn(u.elements)||(d=u.type[0]?.profile?.[0]),a.push(u),i.push(d),d&&l.push(e.requestProfileSchema(d))}Promise.all(l).then(()=>{for(let u=0;u<a.length;u++){let d=a[u],h=i[u];if(h){let p=nl(h);d.typeSchema=p}}n(a)}).catch(r)})}function Dy(e,t,n){return t!==void 0?s.jsx(e,{value:t,children:n}):n}function Eoe(e){let{slice:t,property:n}=e,r=t.typeSchema?.elements??t.elements,a=b.useContext(pn),i=b.useMemo(()=>{if(Fn(r))return cd({parentContext:a,elements:r,path:e.path,profileUrl:t.typeSchema?.url})},[a,e.path,t.typeSchema?.url,r]);return Dy(pn.Provider,i,s.jsx(s.Fragment,{children:e.value.map((l,u)=>s.jsx("div",{children:s.jsx(Vi,{property:n,path:e.path,arrayElement:!0,elementDefinitionType:t.type[0],propertyType:t.type[0].code,value:l,ignoreMissingValues:e.ignoreMissingValues,link:e.link})},`${u}-${e.value.length}`))}))}var eP=50;function Toe(e){let{property:t,propertyType:n}=e,r=_e(),a=b.useMemo(()=>Array.isArray(e.values)?e.values:[],[e.values]),[i,l]=b.useState(!0),[u,d]=b.useState([]),[h,p]=b.useState(()=>[a]),[m,g]=b.useState(0),y=b.useContext(pn);if(b.useEffect(()=>{h$({medplum:r,property:t}).then(x=>{g(a.length),d(x);let C=a.slice(0,eP),E=f$(C,x,t.slicing,y.profileUrl);p(E),l(!1)}).catch(x=>{console.error(x),l(!1)})},[r,t,y.profileUrl,p,a]),i)return s.jsx("div",{children:"Loading..."});let S;if(t.type[0]?.code!=="Extension"){let x=h[u.length],C=x.map((E,j)=>s.jsx("div",{children:s.jsx(Vi,{path:e.path,arrayElement:!0,property:t,propertyType:n,value:E,ignoreMissingValues:e.ignoreMissingValues,link:e.link})},`${j}-${x.length}`));if(e.includeDescriptionListEntry){if(!Fn(e.path))throw new Error("props.path is required when includeDescriptionListEntry is true");let E=e.path.split(".").pop();S=s.jsx(Zg,{term:vc(E),children:C})}else S=s.jsx(s.Fragment,{children:C})}return s.jsxs(s.Fragment,{children:[u.map((x,C)=>{if(!e.path)throw new Error(`Displaying a resource property with slices of type ${e.propertyType} requires path`);let E=s.jsx(Eoe,{path:e.path,slice:x,property:t,value:h[C],ignoreMissingValues:e.ignoreMissingValues,link:e.link},x.name);return e.includeDescriptionListEntry&&(E=s.jsx(Zg,{term:vc(x.name),children:E},x.name)),E}),S,m>eP&&s.jsx(se,{justify:"right",children:s.jsxs(W,{children:["... ",m," total values"]})})]})}function Vi(e){let{property:t,propertyType:n,value:r}=e;if(t?.path?.endsWith(".id"))return s.jsxs($e,{gap:3,align:"center",children:[r,!An(r)&&s.jsx(gT,{value:r,timeout:2e3,children:({copied:a,copy:i})=>s.jsx(ba,{label:a?"Copied":"Copy",withArrow:!0,position:"right",children:s.jsx(ft,{variant:"subtle",color:a?"teal":"gray",onClick:i,children:a?s.jsx(Dd,{size:"1rem"}):s.jsx(kR,{size:"1rem"})})})})]});if(t&&(t.isArray||t.max>1)&&!e.arrayElement)return n===fe.Attachment?s.jsx(Wie,{values:r,maxWidth:e.maxWidth,includeDescriptionListEntry:e.includeArrayDescriptionListEntry,property:t,path:e.path}):s.jsx(Toe,{path:e.path,property:t,propertyType:n,values:r,includeDescriptionListEntry:e.includeArrayDescriptionListEntry,ignoreMissingValues:e.ignoreMissingValues,link:e.link});switch(n){case fe.boolean:return s.jsx(s.Fragment,{children:r===void 0?"":(!!r).toString()});case fe.SystemString:case fe.string:return e.property?.path?.toLowerCase().includes("secret")?s.jsx(Roe,{value:r}):s.jsx("div",{style:{whiteSpace:"pre-wrap"},children:r});case fe.code:case fe.date:case fe.decimal:case fe.id:case fe.integer:case fe.positiveInt:case fe.unsignedInt:case fe.uri:case fe.url:case fe.xhtml:return s.jsx(s.Fragment,{children:r});case fe.canonical:return s.jsx(_j,{value:{reference:r},link:e.link});case fe.dateTime:case fe.instant:return s.jsx(s.Fragment,{children:Gr(r)});case fe.markdown:return s.jsx("pre",{children:r});case fe.Address:return s.jsx(Vne,{value:r});case fe.Annotation:return s.jsx(s.Fragment,{children:r?.text});case fe.Attachment:return s.jsx(Xs,{value:r,maxWidth:e.maxWidth});case fe.CodeableConcept:return s.jsx(Xf,{value:r});case fe.Coding:return s.jsx(yoe,{value:r});case fe.ContactDetail:return s.jsx(boe,{value:r});case fe.ContactPoint:return s.jsx(d$,{value:r});case fe.HumanName:return s.jsx(Kz,{value:r});case fe.Identifier:return s.jsx(woe,{value:r});case fe.Money:return s.jsx(Coe,{value:r});case fe.Period:return s.jsx(s.Fragment,{children:LJ(r)});case fe.Quantity:case fe.Duration:return s.jsx(Jg,{value:r});case fe.Range:return s.jsx(FR,{value:r});case fe.Ratio:return s.jsx(joe,{value:r});case fe.Reference:return s.jsx(_j,{value:r,link:e.link});case fe.Timing:return s.jsx(s.Fragment,{children:cz(r)});case fe.Dosage:case fe.UsageContext:if(!e.path)throw new Error(`Displaying property of type ${e.propertyType} requires path`);return s.jsx(ev,{path:e.path,value:{type:n,value:r},compact:!0,ignoreMissingValues:e.ignoreMissingValues});case fe.Extension:if(!e.path)throw new Error(`Displaying property of type ${e.propertyType} requires path`);return s.jsx(Soe,{path:e.path,value:r,compact:!0,ignoreMissingValues:e.ignoreMissingValues,elementDefinitionType:e.elementDefinitionType});default:if(!t)throw new Error(`Displaying property of type ${e.propertyType} requires element schema`);if(!e.path)throw new Error(`Displaying property of type ${e.propertyType} requires path`);return s.jsx(ev,{path:e.path,value:{type:t.type[0].code,value:r},compact:!0,ignoreMissingValues:e.ignoreMissingValues})}}function Roe(e){let[t,n]=b.useState(!1),r=e.value??"",a=!An(r),i="â€¢".repeat(8);return s.jsxs($e,{gap:3,align:"center",children:[t?s.jsx("div",{style:{whiteSpace:"pre-wrap"},children:r}):s.jsx("div",{style:{whiteSpace:"pre-wrap"},"aria-hidden":"true",children:a?i:""}),a&&s.jsxs(s.Fragment,{children:[s.jsx(gT,{value:e.value,timeout:2e3,children:({copied:l,copy:u})=>s.jsx(ba,{label:l?"Copied":"Copy secret",withArrow:!0,position:"right",children:s.jsx(ft,{variant:"subtle",color:l?"teal":"gray",onClick:u,"aria-label":l?"Copied":"Copy secret",children:l?s.jsx(Dd,{size:"1rem"}):s.jsx(kR,{size:"1rem"})})})}),s.jsx(ba,{label:t?"Hide secret":"Show secret",withArrow:!0,position:"right",children:s.jsx(ft,{variant:"subtle",color:"gray",onClick:()=>n(!t),"aria-label":t?"Hide secret":"Show secret",children:t?s.jsx(Wre,{size:"1rem"}):s.jsx(Yre,{size:"1rem"})})})]})]})}var p$=["extension","modifierExtension"],_oe=Uz.filter(e=>!p$.includes(e));function ev(e){let t=e.value,{value:n,type:r}=t,a=b.useContext(pn),i=e.profileUrl??a?.profileUrl,l=b.useMemo(()=>Wh(r,i),[i,r]),u=b.useMemo(()=>{if(l)return cd({parentContext:a,elements:l.elements,path:e.path,profileUrl:l.url,accessPolicyResource:e.accessPolicyResource})},[l,a,e.path,e.accessPolicyResource]);if(An(n))return null;if(!l)return s.jsxs("div",{children:[r,"Â not implemented"]});if(typeof n=="object"&&"name"in n&&Object.keys(n).length===1&&typeof n.name=="string")return s.jsx("div",{children:n.name});let d=u??a;return Dy(pn.Provider,u,s.jsx(Vie,{compact:e.compact,children:Object.entries(d.elements).map(([h,p])=>{if(p$.includes(h)&&An(p.slicing?.slices)||_oe.includes(h)||Bz.includes(h)&&p.path.split(".").length===2||h.includes("."))return null;let[m,g]=HR(t,h,d.profileUrl);if((e.ignoreMissingValues||p.max===0)&&An(m)||e.path.endsWith(".extension")&&(h==="url"||h==="id"))return null;let y=p.max>1||p.isArray,S=s.jsx(Vi,{property:p,propertyType:g,path:e.path+"."+h,value:m,ignoreMissingValues:e.ignoreMissingValues,includeArrayDescriptionListEntry:y,link:e.link},h);return y?S:s.jsx(Zg,{term:vc(h),children:S},h)})}))}var Dj={dimmed:"FormSection_dimmed",preserveBreaks:"FormSection_preserveBreaks"},m$="Read Only";function g$(e,t){return e?s.jsx(ba.Floating,{label:e,children:t}):t}function v$(e){let{debugMode:t}=b.useContext(pn),n;return t&&e.fhirPath?n=`${e.title} - ${e.fhirPath}`:n=e.title,g$(e?.readonly?m$:void 0,s.jsxs(se,{wrap:"nowrap","data-testid":e.testId,children:[s.jsx("div",{children:e.children}),s.jsx("div",{children:s.jsx(Gt.Wrapper,{id:e.htmlFor,label:n,classNames:{label:e?.readonly?Dj.dimmed:void 0},description:e.description,withAsterisk:e.withAsterisk,children:null})})]}))}function fa(e){let{debugMode:t}=b.useContext(pn),n;return t&&e.fhirPath?n=`${e.title} - ${e.fhirPath}`:n=e.title,g$(e?.readonly?m$:void 0,s.jsx(Gt.Wrapper,{id:e.htmlFor,label:n,classNames:{label:Uc({[Dj.dimmed]:e?.readonly},Dj.preserveBreaks)},description:e.description,withAsterisk:e.withAsterisk,error:Fr(e.outcome,e.errorExpression??e.htmlFor),"data-testid":e.testId,children:e.children}))}function Doe(e,t,n,r,a){let i=r.type;if(i.length>1)for(let l of i){let u=t.replace("[x]",rr(l.code));u in e&&delete e[u]}return An(a)?e[n]=void 0:e[n]=a,e}function vi(e){let{defaultValue:t,onChange:n,withHelpText:r,outcome:a,path:i,valuePath:l,...u}=e,[d,h]=b.useState(t);function p(m){let g=Ooe(m);h(g),n&&n(g)}return s.jsx(bc,{defaultValue:d&&Aoe(d),onChange:p,withHelpText:r??!0,...u})}function Aoe(e){return e.coding?.map(t=>({system:t.system,code:t.code,display:t.display}))}function Ooe(e){if(e.length!==0)return{coding:e.map(t=>({system:t.system,code:t.code,display:t.display}))}}function VR(e){let{defaultValue:t,onChange:n,withHelpText:r,response:a,...i}=e,[l,u]=b.useState(a?.answer?.[0]?.valueCoding??t);function d(h){let p=h[0],m=p&&Moe(p);u(m),n&&n(m)}return s.jsx(bc,{defaultValue:l?koe(l):void 0,maxValues:1,onChange:d,withHelpText:r??!0,...i})}function koe(e){return{system:e.system,code:e.code,display:e.display}}function Moe(e){return{system:e.system,code:e.code,display:e.display}}function y$(e){let{path:t,outcome:n}=e,{elementsByPath:r,getExtendedProps:a}=b.useContext(pn),[i,l]=b.useState(e.defaultValue),u=b.useRef(i);u.current=i;let[d,h,p]=b.useMemo(()=>["system","use","value"].map(R=>r[t+"."+R]),[r,t]),[m,g,y]=b.useMemo(()=>["system","use","value"].map(R=>a(t+"."+R)),[a,t]);function S(R){R&&Object.keys(R).length===0&&(R=void 0),l(R),e.onChange&&e.onChange(R)}function x(R){let _={...u.current,system:R};R||delete _.system,S(_)}function C(R){let _={...u.current,use:R};R||delete _.use,S(_)}function E(R){let _={...u.current,value:R};R||delete _.value,S(_)}let j=e.valuePath??t;return s.jsxs(se,{gap:"xs",grow:!0,wrap:"nowrap",align:"flex-start",children:[s.jsx(Wr,{disabled:e.disabled||m?.readonly,"data-testid":"system",defaultValue:i?.system,required:(d?.min??0)>0,onChange:R=>x(R.currentTarget.value),data:["","email","phone","fax","pager","sms","other"],error:Fr(n,j+".system")}),s.jsx(Wr,{disabled:e.disabled||g?.readonly,"data-testid":"use",defaultValue:i?.use,required:(h?.min??0)>0,onChange:R=>C(R.currentTarget.value),data:["","home","work","temp","old","mobile"],error:Fr(n,j+".use")}),s.jsx(tt,{disabled:e.disabled||y?.readonly,placeholder:"Value",defaultValue:i?.value,required:(p?.min??0)>0,onChange:R=>E(R.currentTarget.value),error:Fr(n,j+".value")})]})}function Poe(e){let[t,n]=b.useState(e.defaultValue),r=b.useRef(t);r.current=t;let{getExtendedProps:a}=b.useContext(pn),[i,l]=b.useMemo(()=>["name","telecom"].map(p=>a(e.path+"."+p)),[a,e.path]);function u(p){n(p),e.onChange&&e.onChange(p)}function d(p){let m={...r.current,name:p};p||delete m.name,u(m)}function h(p){let m={...r.current,telecom:p&&[p]};p||delete m.telecom,u(m)}return s.jsxs(se,{gap:"xs",grow:!0,wrap:"nowrap",children:[s.jsx(tt,{disabled:e.disabled||i?.readonly,"data-testid":e.name+"-name",name:e.name+"-name",placeholder:"Name",style:{width:180},defaultValue:t?.name,onChange:p=>d(p.currentTarget.value)}),s.jsx(y$,{disabled:e.disabled||l?.readonly,name:e.name+"-telecom",path:e.path+".telecom",defaultValue:t?.telecom?.[0],onChange:h,outcome:e.outcome})]})}function Noe(e){if(!e)return"";let t=new Date(e);return Yh(t)?t.toLocaleDateString("sv")+"T"+t.toLocaleTimeString("sv"):""}function WR(e){if(!e)return"";let t=new Date(e);return Yh(t)?t.toISOString():""}function Ln(e){return s.jsx(tt,{id:e.name,name:e.name,label:e.label,"data-autofocus":e.autoFocus,"data-testid":e["data-testid"]??e.name,placeholder:e.placeholder,required:e.required,disabled:e.disabled,type:Ioe(),step:1,defaultValue:Noe(e.defaultValue),autoFocus:e.autoFocus,error:Fr(e.outcome,e.name),onChange:t=>{if(e.onChange){let n=t.currentTarget.value;e.onChange(WR(n))}}})}function Ioe(){return"datetime-local"}function Loe(e){let{propertyType:t}=e,n=_e(),r=b.useMemo(()=>{if(Fn(t.profile))return t.profile[0]},[t]),[a,i]=b.useState(r!==void 0);return b.useEffect(()=>{r&&(i(!0),n.requestProfileSchema(r).then(()=>i(!1)).catch(l=>{i(!1),console.warn(l)}))},[n,r]),r&&(a||!oR(r))?s.jsx("div",{children:"Loading..."}):s.jsx(QR,{profileUrl:r,path:e.path,typeName:"Extension",defaultValue:e.defaultValue,onChange:e.onChange})}function zoe(e){let{outcome:t,path:n}=e,[r,a]=b.useState(e.defaultValue),{getExtendedProps:i}=b.useContext(pn),[l,u,d,h,p]=b.useMemo(()=>["use","prefix","given","family","suffix"].map(j=>i(e.path+"."+j)),[i,e.path]);function m(j){a(j),e.onChange&&e.onChange(j)}function g(j){m({...r,use:j||void 0})}function y(j){m({...r,prefix:j?j.split(" "):void 0})}function S(j){m({...r,given:j?j.split(" "):void 0})}function x(j){m({...r,family:j||void 0})}function C(j){m({...r,suffix:j?j.split(" "):void 0})}let E=e.valuePath??n;return s.jsxs(se,{gap:"xs",grow:!0,wrap:"nowrap",children:[s.jsx(Wr,{disabled:e.disabled||l?.readonly,defaultValue:r?.use,name:e.name+"-use","data-testid":"use",onChange:j=>g(j.currentTarget.value),data:["","temp","old","usual","official","nickname","anonymous","maiden"],error:Fr(t,E+".use")}),s.jsx(tt,{disabled:e.disabled||u?.readonly,placeholder:"Prefix",name:e.name+"-prefix",defaultValue:r?.prefix?.join(" "),onChange:j=>y(j.currentTarget.value),error:Fr(t,E+".prefix")}),s.jsx(tt,{disabled:e.disabled||d?.readonly,placeholder:"Given",name:e.name+"-given",defaultValue:r?.given?.join(" "),onChange:j=>S(j.currentTarget.value),error:Fr(t,E+".given")}),s.jsx(tt,{disabled:e.disabled||h?.readonly,name:e.name+"-family",placeholder:"Family",defaultValue:r?.family,onChange:j=>x(j.currentTarget.value),error:Fr(t,E+".family")}),s.jsx(tt,{disabled:e.disabled||p?.readonly,placeholder:"Suffix",name:e.name+"-suffix",defaultValue:r?.suffix?.join(" "),onChange:j=>C(j.currentTarget.value),error:Fr(t,E+".suffix")})]})}function $oe(e){let[t,n]=b.useState(e.defaultValue),{elementsByPath:r,getExtendedProps:a}=b.useContext(pn),[i,l]=b.useMemo(()=>["system","value"].map(m=>r[e.path+"."+m]),[r,e.path]),[u,d]=b.useMemo(()=>["system","value"].map(m=>a(e.path+"."+m)),[a,e.path]);function h(m){n(m),e.onChange&&e.onChange(m)}let p=e.valuePath??e.path;return s.jsxs(se,{gap:"xs",grow:!0,wrap:"nowrap",align:"flex-start",children:[s.jsx(tt,{disabled:e.disabled||u?.readonly,placeholder:"System",required:(i?.min??0)>0,defaultValue:t?.system,onChange:m=>h({...t,system:m.currentTarget.value}),error:Fr(e.outcome,p+".system")}),s.jsx(tt,{disabled:e.disabled||d?.readonly,placeholder:"Value",required:(l?.min??0)>0,defaultValue:t?.value,onChange:m=>h({...t,value:m.currentTarget.value}),error:Fr(e.outcome,p+".value")})]})}var qoe=["USD","EUR","CAD","GBP","AUD"];function Uoe(e){let{onChange:t}=e,[n,r]=b.useState(e.defaultValue),{getExtendedProps:a}=b.useContext(pn),[i,l]=b.useMemo(()=>["currency","value"].map(m=>a(e.path+"."+m)),[a,e.path]),u=b.useCallback(m=>{r(m),t&&t(m)},[t]),d=b.useCallback(m=>{u({...n,currency:m.currentTarget.value})},[n,u]),h=b.useCallback(m=>{u({...n,value:m.currentTarget.valueAsNumber})},[n,u]),p=s.jsx(Wr,{disabled:e.disabled||i?.readonly,defaultValue:n?.currency,data:qoe,styles:{input:{fontWeight:500,borderTopLeftRadius:0,borderBottomLeftRadius:0,width:92}},onChange:d});return s.jsx(tt,{disabled:e.disabled||l?.readonly,type:"number",name:e.name,label:e.label,placeholder:e.placeholder??"Value",defaultValue:n?.value?.toString()??"USD",leftSection:s.jsx(Ire,{size:14}),rightSection:p,rightSectionWidth:92,onChange:h})}function Boe(e){let[t,n]=b.useState(e.defaultValue),{getExtendedProps:r}=b.useContext(pn),[a,i]=b.useMemo(()=>["start","end"].map(u=>r(e.path+"."+u)),[r,e.path]);function l(u){n(u),e.onChange&&e.onChange(u)}return s.jsxs(se,{gap:"xs",grow:!0,wrap:"nowrap",children:[s.jsx(Ln,{disabled:e.disabled||a?.readonly,name:e.name+".start",placeholder:"Start",defaultValue:t?.start,onChange:u=>l({...t,start:u})}),s.jsx(Ln,{disabled:e.disabled||i?.readonly,name:e.name+".end",placeholder:"End",defaultValue:t?.end,onChange:u=>l({...t,end:u})})]})}function xc(e){let[t,n]=b.useState(e.defaultValue),{getExtendedProps:r}=b.useContext(pn),[a,i,l]=b.useMemo(()=>["comparator","value","unit"].map(d=>r(e.path+"."+d)),[r,e.path]);function u(d){n(d),e.onChange&&e.onChange(d)}return s.jsxs(se,{gap:"xs",grow:!0,wrap:"nowrap",children:[s.jsx(Wr,{disabled:e.disabled||a?.readonly,style:{width:80},"data-testid":e.name+"-comparator",defaultValue:t?.comparator,data:["","<","<=",">=",">"],onChange:d=>u({...t,comparator:d.currentTarget.value})}),s.jsx(tt,{disabled:e.disabled||i?.readonly,id:e.name,name:e.name,required:e.required,"data-autofocus":e.autoFocus,"data-testid":e.name+"-value",type:"number",placeholder:"Value",defaultValue:t?.value,autoFocus:e.autoFocus,step:"any",onWheel:d=>{e.disableWheel&&d.currentTarget.blur()},onChange:d=>{u({...t,value:Hoe(d.currentTarget.value)})}}),s.jsx(tt,{disabled:e.disabled||l?.readonly,placeholder:"Unit","data-testid":e.name+"-unit",defaultValue:t?.unit,onChange:d=>u({...t,unit:d.currentTarget.value})})]})}function Hoe(e){if(e)return Number.parseFloat(e)}function Foe(e){let[t,n]=b.useState(e.defaultValue),{getExtendedProps:r}=b.useContext(pn),[a,i]=b.useMemo(()=>["low","high"].map(u=>r(e.path+"."+u)),[r,e.path]);function l(u){n(u),e.onChange&&e.onChange(u)}return s.jsxs(se,{gap:"xs",grow:!0,wrap:"nowrap",children:[s.jsx(xc,{path:e.path+".low",disabled:e.disabled||a?.readonly,name:e.name+"-low",defaultValue:t?.low,onChange:u=>l({...t,low:u})}),s.jsx(xc,{path:e.path+".high",disabled:e.disabled||i?.readonly,name:e.name+"-high",defaultValue:t?.high,onChange:u=>l({...t,high:u})})]})}function Voe(e){let[t,n]=b.useState(e.defaultValue),{getExtendedProps:r}=b.useContext(pn),[a,i]=b.useMemo(()=>["numerator","denominator"].map(u=>r(e.path+"."+u)),[r,e.path]);function l(u){n(u),e.onChange&&e.onChange(u)}return s.jsxs(se,{gap:"xs",grow:!0,wrap:"nowrap",children:[s.jsx(xc,{path:e.path+".numerator",disabled:e.disabled||a?.readonly,name:e.name+"-numerator",defaultValue:t?.numerator,onChange:u=>l({...t,numerator:u})}),s.jsx(xc,{path:e.path+".denominator",disabled:e.disabled||i?.readonly,name:e.name+"-denominator",defaultValue:t?.denominator,onChange:u=>l({...t,denominator:u})})]})}var Woe={Device:"device-name",Observation:"code",Subscription:"criteria",User:"email:contains"},Goe=["AccessPolicy","Account","ActivityDefinition","Bot","CapabilityStatement","CareTeam","ClientApplication","CodeSystem","CompartmentDefinition","ConceptMap","EffectEvidenceSynthesis","Endpoint","EventDefinition","Evidence","EvidenceVariable","ExampleScenario","GraphDefinition","Group","HealthcareService","ImplementationGuide","InsurancePlan","Library","Location","Measure","MedicinalProduct","MessageDefinition","NamingSystem","OperationDefinition","Organization","Patient","Person","PlanDefinition","Practitioner","Project","Questionnaire","RelatedPerson","ResearchDefinition","ResearchElementDefinition","ResearchStudy","RiskEvidenceSynthesis","SearchParameter","StructureDefinition","StructureMap","TerminologyCapabilities","TestScript","UserConfiguration","ValueSet"];function Yoe(e){return{value:Me(e)??"",label:nr(e),resource:e}}function Mr(e){let t=_e(),{resourceType:n,searchCriteria:r}=e,[a,i]=b.useState(),l=Dt(e.defaultValue,i),u=e.itemComponent??Qoe,d=e.onChange,h=b.useCallback(async(m,g)=>{let y=Koe(n),S=new URLSearchParams({[y]:m??"",_count:"10",...r});return await t.searchResources(n,S,{signal:g})},[t,n,r]),p=b.useCallback(m=>{d&&d(m[0])},[d]);return Fn(e.defaultValue)&&!a&&!l?null:s.jsx(qc,{disabled:e.disabled,name:e.name,label:e.label,error:e.error,required:e.required,itemComponent:u,defaultValue:l,placeholder:e.placeholder,maxValues:1,toOption:Yoe,loadOptions:h,onChange:p,clearable:!0})}var Qoe=b.forwardRef(({label:e,resource:t,active:n,...r},a)=>s.jsx("div",{ref:a,...r,children:s.jsxs(se,{wrap:"nowrap",children:[s.jsx(wa,{value:t}),s.jsxs("div",{children:[s.jsx(W,{children:e}),s.jsx(W,{size:"xs",c:"dimmed",children:t.birthDate||t.id})]})]})}));function Koe(e){return Woe[e]??(Goe.includes(e)?"name":"_id")}function Sc(e){let{onChange:t}=e,n=_e(),[r,a]=b.useState(e.defaultValue),[i,l]=b.useState(()=>Xoe(e.targetTypes)),[u,d]=b.useState(()=>Zoe(e.defaultValue,i)),h=b.useRef(new nR),p=b.useMemo(()=>u?.type==="profile"?{...e.searchCriteria,_profile:u.value}:e.searchCriteria,[e.searchCriteria,u]);b.useEffect(()=>{let y=!1,S=i?.map(x=>{if(!ese(x))return Promise.resolve(x);y=!0;let C=x.value,E=h.current.get(C);if(E)return E;let j=Joe(n,x.value).then(_=>{let A={...x};return _?Fn(_.type)?(A.resourceType=_.type,A.name=_.name,A.title=_.title):(console.error(`StructureDefinition.type missing for ${x.value}`),A.error="StructureDefinition.type missing"):(console.error(`StructureDefinition not found for ${x.value}`),A.error="StructureDefinition not found"),A}).catch(_=>(console.error(_),{...x,error:_})),R=new Pi(j);return h.current.set(C,R),R});!S||!y||Promise.all(S).then(x=>{if(l(x),!u)return;let C=x.findIndex(E=>E.value===u.value||E.resourceType===u.resourceType);if(C===-1){console.debug(`defaultValue had unexpected resourceType: ${u.resourceType}`);return}d(x[C])}).catch(console.error)},[n,u,i]);let m=b.useCallback(y=>{let S=y?ke(y):void 0;a(S),t&&t(S)},[t]),g=b.useMemo(()=>i?i.map(y=>({value:y.value,label:y.type==="profile"?y.title??y.name??y.resourceType??y.value:y.value})):[],[i]);return s.jsxs(s.Fragment,{children:[e.name&&s.jsx("input",{type:"hidden",name:e.name,value:r?.reference??""}),s.jsxs(se,{gap:"xs",grow:!0,wrap:"nowrap",children:[i&&i.length>1&&s.jsx(Wr,{name:e.name+"-resourceType",disabled:e.disabled,"data-autofocus":e.autoFocus,"data-testid":"reference-input-resource-type-select",defaultValue:u?.resourceType,autoFocus:e.autoFocus,onChange:y=>{let S=y.currentTarget.value,x=i.find(C=>C.value===S);d(x)},data:g}),!i&&s.jsx(o$,{disabled:e.disabled,autoFocus:e.autoFocus,testId:"reference-input-resource-type-input",defaultValue:u?.resourceType,onChange:y=>{d(y?{type:"resourceType",value:y,resourceType:y}:void 0)},name:e.name+"-resourceType",placeholder:"Resource Type"}),s.jsx(Mr,{resourceType:u?.resourceType,name:e.name+"-id",required:e.required,placeholder:e.placeholder,defaultValue:r,searchCriteria:p,onChange:m,disabled:e.disabled})]})]})}function Xoe(e){if(!e||e.length===0||e.length===1&&e[0]==="Resource")return;let t=[];for(let n of e)n.includes("/")?t.push({type:"profile",value:n}):t.push({type:"resourceType",value:n,resourceType:n});return t}function Zoe(e,t){let n=e?.reference?.split("/")[0];if(n)return t?.find(a=>a.resourceType===n)||{type:"resourceType",value:n,resourceType:n};if(t&&t.length>0)return t[0]}async function Joe(e,t){let n=nl(t);if(n)return{type:n.type,name:n.name,title:n.title};let r=`{
      StructureDefinitionList(url: "${t}", _sort: "_lastUpdated", _count: 1) {
        type,
        name,
        title,
      }
    }`.replaceAll(/\s+/g," ");return(await e.graphql(r)).data.StructureDefinitionList[0]}function ese(e){return e.type==="profile"&&!e?.error&&An(e.resourceType)}function tse(e,t,n){return t===void 0?e:n===void 0?t:`${t}[${n}]`}var b$={indented:"ResourceArrayInput_indented"};function GR({propertyDisplayName:e,onClick:t,testId:n}){let r=e?`Add ${e}`:"Add";return e?s.jsx(Oe,{title:r,size:"sm",color:"green.6",variant:"subtle","data-testid":n,leftSection:s.jsx(BM,{size:"1.25rem"}),onClick:t,children:r}):s.jsx(ft,{title:r,color:"green.6","data-testid":n,onClick:t,children:s.jsx(BM,{size:"1.25rem"})})}function x$({propertyDisplayName:e,onClick:t,testId:n}){return s.jsx(ft,{title:e?`Remove ${e}`:"Remove",color:"red.5","data-testid":n,variant:"subtle",onClick:t,children:s.jsx(Hz,{size:"1.25rem"})})}function nse(e){let{slice:t,property:n}=e,[r,a]=b.useState(e.defaultValue),i=t.typeSchema?.elements??t.elements,l=b.useContext(pn),u=b.useMemo(()=>{if(Fn(i))return cd({parentContext:l,elements:i,path:e.path,profileUrl:t.typeSchema?.url})},[l,e.path,t.typeSchema?.url,i]);function d(y){a(y),e.onChange&&e.onChange(y)}let h=t.min>0,p=An(t.elements),m=hz(t.name),g=e.property.readonly&&r.length===0;return Dy(pn.Provider,u,s.jsx(fa,{title:m,description:t.definition,withAsterisk:h,fhirPath:`${n.path}:${t.name}`,testId:e.testId,readonly:e.property.readonly,children:g?s.jsx(W,{c:"dimmed",children:"(empty)"}):s.jsxs(ae,{className:p?b$.indented:void 0,children:[r.map((y,S)=>s.jsxs(se,{wrap:"nowrap",children:[s.jsx("div",{style:{flexGrow:1},"data-testid":e.testId&&`${e.testId}-elements-${S}`,children:s.jsx(YR,{elementDefinitionType:t.type[0],name:t.name,defaultValue:y,onChange:x=>{let C=[...r];C[S]=x,d(C)},outcome:e.outcome,min:t.min,max:t.max,binding:t.binding,path:e.path,valuePath:void 0,readOnly:e.property.readonly})}),!e.property.readonly&&r.length>t.min&&s.jsx(x$,{propertyDisplayName:m,testId:e.testId&&`${e.testId}-remove-${S}`,onClick:x=>{xa(x);let C=[...r];C.splice(S,1),d(C)}})]},`${S}-${r.length}`)),!e.property.readonly&&r.length<t.max&&s.jsx(se,{wrap:"nowrap",style:{justifyContent:"flex-start"},children:s.jsx(GR,{propertyDisplayName:m,onClick:y=>{xa(y);let S=[...r,void 0];d(S)},testId:e.testId&&`${e.testId}-add`})})]})}))}function rse(e){let{property:t}=e,n=_e(),[r,a]=b.useState(!0),[i,l]=b.useState([]),[u]=b.useState(()=>Array.isArray(e.defaultValue)?e.defaultValue:[]),[d,h]=b.useState(()=>[u]),p=b.useContext(pn),m=t.type[0]?.code;b.useEffect(()=>{h$({medplum:n,property:t}).then(j=>{l(j);let R=f$(u,j,t.slicing,p.profileUrl);ase(R,j),h(R),a(!1)}).catch(j=>{console.error(j),a(!1)})},[n,t,u,p.profileUrl,h]);function g(j,R){let _=[...d];if(_[R]=j,h(_),e.onChange){let A=_.flat().filter(M=>M!==void 0);e.onChange(A)}}if(r)return s.jsx("div",{children:"Loading..."});let y=i.length,S=d[y],x=!(e.hideNonSliceValues??(m==="Extension"&&i.length>0)),C=vc(t.path),E=e.property.readonly&&i.length===0&&u.length===0;return s.jsxs(ae,{className:e.indent?b$.indented:void 0,children:[E&&s.jsx(W,{c:"dimmed",children:"(empty)"}),i.map((j,R)=>s.jsx(nse,{slice:j,path:e.path,valuePath:e.valuePath,property:t,defaultValue:d[R],onChange:_=>{g(_,R)},testId:`slice-${j.name}`},j.name)),x&&S.map((j,R)=>s.jsxs(se,{wrap:"nowrap",style:{flexGrow:1},children:[s.jsx("div",{style:{flexGrow:1},children:s.jsx(S$,{arrayElement:!0,property:e.property,name:e.name+"."+R,path:e.path,valuePath:tse(e.path,e.valuePath,R),defaultValue:j,onChange:_=>{let A=[...S];A[R]=_,g(A,y)},defaultPropertyType:void 0,outcome:e.outcome})}),!e.property.readonly&&s.jsx(x$,{propertyDisplayName:C,testId:`nonsliced-remove-${R}`,onClick:_=>{xa(_);let A=[...S];A.splice(R,1),g(A,y)}})]},`${R}-${S.length}`)),!e.property.readonly&&x&&d.flat().length<t.max&&s.jsx(se,{wrap:"nowrap",style:{justifyContent:"flex-start"},children:s.jsx(GR,{propertyDisplayName:C,onClick:j=>{xa(j);let R=[...S];R.push(void 0),g(R,y)},testId:"nonsliced-add"})})]})}function ase(e,t){for(let n=0;n<t.length;n++){let r=t[n],a=e[n];for(;a.length<r.min;)a.push(void 0)}}function ise(e){let[t,n]=b.useState(!1),r=r5(),a=b.useRef(null),i={...e.styles};return t||(i.input||(i.input={}),i.input.WebkitTextSecurity="disc"),s.jsxs($e,{gap:"xs",children:[s.jsx(ja,{...e,styles:{...i,root:{...i.root??{},flexGrow:1}},ref:a,autosize:!0,minRows:1,onFocus:()=>n(!0),onBlur:()=>n(!1)}),s.jsx(ft,{title:"Copy secret",onClick:()=>{r.copy(a.current?.value),bt({color:"green",message:"Copied"})},children:s.jsx(kR,{})})]})}var ose=["sun","mon","tue","wed","thu","fri","sat"];function sse(e){let[t,n]=b.useState(e.defaultValue),[r,a]=b.useState(!e.disabled&&(e.defaultModalOpen??!1)),i=b.useRef(t);return i.current=t,s.jsxs(s.Fragment,{children:[s.jsxs(se,{gap:"xs",grow:!0,wrap:"nowrap",children:[s.jsx("span",{children:cz(i.current)||"No repeat"}),s.jsx(Oe,{disabled:e.disabled,onClick:()=>a(!0),children:"Edit"})]}),!e.disabled&&s.jsx(lse,{path:e.path,visible:r,defaultValue:i.current,onOk:l=>{e.onChange&&e.onChange(l),n(l),a(!1)},onCancel:()=>a(!1)})]})}var tP={repeat:{period:1,periodUnit:"d"}};function lse(e){let[t,n]=b.useState(e.defaultValue||tP),{getExtendedProps:r}=b.useContext(pn),[a,i,l,u,d]=b.useMemo(()=>["event","repeat","repeat.period","repeat.periodUnit","repeat.dayOfWeek"].map(x=>r(e.path+"."+x)),[r,e.path]),h=b.useRef(t);h.current=t;function p(x){n({...h.current,event:[x]})}function m(x){n({...h.current,repeat:x})}function g(x){m({...h.current?.repeat,period:x})}function y(x){m({...h.current?.repeat,periodUnit:x})}function S(x){m({...h.current?.repeat,dayOfWeek:x})}return s.jsx(At,{title:"Timing",closeButtonProps:{"aria-label":"Close"},opened:e.visible,onClose:()=>e.onCancel(),children:s.jsxs(ae,{children:[s.jsx(fa,{title:"Starts on",htmlFor:"timing-dialog-start",children:s.jsx(Ln,{disabled:a?.readonly,name:"timing-dialog-start",onChange:x=>p(x)})}),s.jsx(uy,{disabled:i?.readonly,label:"Repeat",checked:!!t.repeat,onChange:x=>m(x.currentTarget.checked?tP.repeat:void 0)}),t.repeat&&s.jsxs(s.Fragment,{children:[s.jsx(fa,{title:"Repeat every",htmlFor:"timing-dialog-period",children:s.jsxs(se,{gap:"xs",grow:!0,wrap:"nowrap",children:[s.jsx(tt,{disabled:l?.readonly,type:"number",step:1,id:"timing-dialog-period",name:"timing-dialog-period",defaultValue:t.repeat.period||1,onChange:x=>g(Number.parseInt(x.currentTarget.value,10)||1)}),s.jsx(Wr,{disabled:u?.readonly,id:"timing-dialog-periodUnit",name:"timing-dialog-periodUnit",defaultValue:t.repeat.periodUnit,onChange:x=>y(x.currentTarget.value),data:[{label:"minute",value:"min"},{label:"hour",value:"h"},{label:"day",value:"d"},{label:"week",value:"wk"},{label:"month",value:"mo"},{label:"year",value:"a"}]})]})}),t.repeat.periodUnit==="wk"&&s.jsx(fa,{title:"Repeat on",children:s.jsx(oh.Group,{multiple:!0,onChange:S,children:s.jsx(se,{justify:"space-between",mt:"md",gap:"xs",children:ose.map(x=>s.jsx(oh,{value:x,size:"xs",radius:"xl",disabled:d?.readonly,children:x.charAt(0).toUpperCase()},x))})})})]}),s.jsx(se,{justify:"flex-end",children:s.jsx(Oe,{onClick:()=>e.onOk(t),children:"OK"})})]})})}function S$(e){let{property:t,name:n,onChange:r,defaultValue:a}=e,i=e.defaultPropertyType&&e.defaultPropertyType!=="undefined"?e.defaultPropertyType:t.type[0].code,l=t.type;if((t.isArray||t.max>1)&&!e.arrayElement){if(i===fe.Attachment)return s.jsx(Gie,{name:n,defaultValue:a,onChange:r,disabled:t.readonly});let u=l[0]?.code!==fe.Extension;return s.jsx(rse,{property:t,name:n,path:e.path,valuePath:e.valuePath,defaultValue:a,indent:u,onChange:r,outcome:e.outcome})}else return l.length>1?s.jsx(cse,{elementDefinitionTypes:l,...e}):s.jsx(YR,{name:n,defaultValue:a,onChange:u=>{if(e.onChange){let d=e.name.replace("[x]",rr(l[0].code));e.onChange(u,d)}},outcome:e.outcome,elementDefinitionType:l[0],min:t.min,max:t.min,binding:t.binding,path:e.path,valuePath:e.valuePath,readOnly:t.readonly})}function cse(e){let t=e.elementDefinitionTypes,n;e.defaultPropertyType&&(n=t.find(i=>i.code===e.defaultPropertyType)),n||(n=t[0]);let[r,a]=b.useState(n);return s.jsxs(se,{gap:"xs",grow:!0,wrap:"nowrap",align:"flex-start",children:[s.jsx(Wr,{disabled:e.property.readonly,style:{width:"200px"},defaultValue:r.code,"data-testid":e.name&&e.name+"-selector",onChange:i=>{a(t.find(l=>l.code===i.currentTarget.value))},data:t.map(i=>({value:i.code,label:i.code}))}),s.jsx(YR,{name:e.name,defaultValue:e.defaultValue,outcome:e.outcome,elementDefinitionType:r,onChange:i=>{e.onChange&&e.onChange(i,e.name.replace("[x]",rr(r.code)))},min:e.property.min,max:e.property.max,binding:e.property.binding,path:e.property.path,valuePath:e.valuePath,readOnly:e.property.readonly})]})}function YR(e){let{name:t,onChange:n,outcome:r,binding:a,path:i,valuePath:l,readOnly:u}=e,d=e.min!==void 0&&e.min>0,h=e.elementDefinitionType.code,p=b.useContext(pn),m=b.useMemo(()=>{if(!uR(h)||!An(e.defaultValue))return e.defaultValue;let S=Object.create(null);if(p.path===e.path)PM(S,p.elements);else{let x=nc(p.path,e.path);if(x===void 0)return e.defaultValue;PM(S,p.elements,x)}return Fn(S)?S:e.defaultValue},[h,p.path,p.elements,e.path,e.defaultValue]);if(!h)return s.jsx("div",{children:"Property type not specified "});function g(){return{name:t,defaultValue:m,onChange:n,outcome:r,path:i,valuePath:l,disabled:u}}function y(){let S=Fr(e.outcome,l??i);return{id:t,name:t,"data-testid":t,defaultValue:m,required:d,error:S,disabled:u}}switch(h){case fe.SystemString:case fe.canonical:case fe.string:case fe.time:case fe.uri:case fe.url:return e.path==="Project.secret.value[x]"?s.jsx(ise,{...y(),onChange:S=>{e.onChange&&e.onChange(S.currentTarget.value)}}):s.jsx(tt,{...y(),onChange:S=>{n&&n(S.currentTarget.value)}});case fe.date:return s.jsx(tt,{...y(),type:"date",onChange:S=>{n&&n(S.currentTarget.value)}});case fe.dateTime:case fe.instant:return s.jsx(Ln,{...y(),onChange:n,outcome:r});case fe.decimal:case fe.integer:case fe.positiveInt:case fe.unsignedInt:return s.jsx(tt,{...y(),type:"number",step:h===fe.decimal?"any":"1",onChange:S=>{if(n){let x=S.currentTarget.valueAsNumber;n(Number.isNaN(x)?void 0:x)}}});case fe.code:return s.jsx(il,{...y(),error:void 0,onChange:n,binding:a?.valueSet,creatable:!0,maxValues:1});case fe.boolean:return s.jsx(mi,{...y(),defaultChecked:!!m,onChange:S=>{n&&n(S.currentTarget.checked)}});case fe.base64Binary:case fe.markdown:case fe.xhtml:return s.jsx(ja,{...y(),spellCheck:h!==fe.base64Binary,onChange:S=>{n&&n(S.currentTarget.value)}});case fe.Address:return s.jsx(Yne,{...g()});case fe.Annotation:return s.jsx(Qne,{...g()});case fe.Attachment:return s.jsx(l$,{...g()});case fe.CodeableConcept:return s.jsx(vi,{binding:a?.valueSet,...g()});case fe.Coding:return s.jsx(VR,{binding:a?.valueSet,...g()});case fe.ContactDetail:return s.jsx(Poe,{...g()});case fe.ContactPoint:return s.jsx(y$,{...g()});case fe.Extension:return s.jsx(Loe,{...g(),propertyType:e.elementDefinitionType});case fe.HumanName:return s.jsx(zoe,{...g()});case fe.Identifier:return s.jsx($oe,{...g()});case fe.Money:return s.jsx(Uoe,{...g()});case fe.Period:return s.jsx(Boe,{...g()});case fe.Duration:case fe.Quantity:return s.jsx(xc,{...g()});case fe.Range:return s.jsx(Foe,{...g()});case fe.Ratio:return s.jsx(Voe,{...g()});case fe.Reference:return s.jsx(Sc,{...g(),targetTypes:dse(e.elementDefinitionType)});case fe.Timing:return s.jsx(sse,{...g()});case fe.Dosage:case fe.UsageContext:default:return s.jsx(QR,{...g(),typeName:h})}}var use=[`${St}/fhir/StructureDefinition/`,"https://medplum.com/fhir/StructureDefinition/"];function dse(e){return e?.targetProfile?.map(t=>{let n=use.find(r=>t.startsWith(r));return n?t.slice(n.length):t})}function fse(e){let[t,n]=b.useState(e.defaultValue??{}),r=b.useContext(pn),a=b.useMemo(()=>Gne(r.elements),[r.elements]);function i(u){n(u),e.onChange&&e.onChange(u)}let l={type:e.type,value:t};return s.jsx(ae,{style:{flexGrow:1},"data-testid":e.testId,children:a.map(([u,d])=>{let[h,p]=xoe(l,u,d),m=d.min!==void 0&&d.min>0,g=e.valuePath?e.valuePath+"."+u:void 0,y=s.jsx(S$,{property:d,name:u,path:e.path+"."+u,valuePath:g,defaultValue:h,defaultPropertyType:p,onChange:(S,x)=>{i(Doe({...t},u,x??u,d,S))},outcome:e.outcome},u);return e.type==="Extension"||AR.includes(u)?y:d.type.length===1&&d.type[0].code==="boolean"?s.jsx(v$,{title:vc(u),description:d.description,htmlFor:u,fhirPath:d.path,withAsterisk:m,readonly:d.readonly,children:y},u):s.jsx(fa,{title:vc(u),description:d.description,withAsterisk:m,htmlFor:u,outcome:e.outcome,fhirPath:d.path,errorExpression:g,readonly:d.readonly,children:y},u)})})}var hse={nested:"BackboneElementInput_nested"};function QR(e){let[t]=b.useState(()=>e.defaultValue??{}),n=b.useContext(pn),r=e.profileUrl??n?.profileUrl,a=b.useMemo(()=>Wh(e.typeName,r),[e.typeName,r]),i=a?.type??e.typeName,l=b.useMemo(()=>{if(a)return cd({parentContext:n,elements:a.elements,path:e.path,profileUrl:a.url,accessPolicyResource:e.accessPolicyResource})},[a,n,e.path,e.accessPolicyResource]);if(!a)return s.jsxs("div",{children:[i,"Â not implemented"]});let u=n.path!=="";return Dy(pn.Provider,l,s.jsx(te,{className:Uc({[hse.nested]:u}),children:s.jsx(fse,{path:e.path,valuePath:e.valuePath,type:i,defaultValue:t,onChange:e.onChange,outcome:e.outcome})}))}var ea={chatPaper:"BaseChat_chatPaper",chatTitle:"BaseChat_chatTitle",chatBody:"BaseChat_chatBody",chatScrollArea:"BaseChat_chatScrollArea",chatInputContainer:"BaseChat_chatInputContainer",chatBubbleOuterWrap:"BaseChat_chatBubbleOuterWrap",chatBubbleRightAlignedInnerWrap:"BaseChat_chatBubbleRightAlignedInnerWrap",chatBubbleLeftAlignedInnerWrap:"BaseChat_chatBubbleLeftAlignedInnerWrap",chatBubble:"BaseChat_chatBubble",chatBubbleNameRight:"BaseChat_chatBubbleNameRight"};function pse(e){bt({color:"red",title:"Error",message:e,autoClose:!1})}function nP(e){return new Date(e.sent??0).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}function rP(e,t,n){let r=[...e],a=!1;for(let i of t){let l=r.findIndex(u=>u.id===i.id);l!==-1?r[l]=i:(r.push(i),a=!0)}a&&r.sort((i,l)=>!i.sent&&!l.sent?0:i.sent?l.sent?i.sent.localeCompare(l.sent):1:-1),n(r)}function mse(e){let{title:t,communications:n,setCommunications:r,query:a,sendMessage:i,onMessageReceived:l,onMessageUpdated:u,inputDisabled:d,onError:h,excludeHeader:p=!1,...m}=e,g=_e(),y=b.useRef(null),S=b.useRef(null),x=b.useRef(!0),C=b.useRef(!0),[E,j]=b.useState(g.getProfile()),[R,_]=b.useState(!1),[A,M]=b.useState(!0);A||(C.current=!1);let D=b.useMemo(()=>E?Me(g.getProfile()):"",[E,g]),O=b.useCallback(async()=>{M(!0);let N=new URLSearchParams(a);N.append("_sort","-sent"),N.append("sent:missing","false");let z=await g.searchResources("Communication",N,{cache:"no-cache"});rP(V.current,z,r),M(!1)},[g,r,a]);b.useEffect(()=>{O().catch(N=>bt({color:"red",message:Wt(N)}))},[O]),Iz(`Communication?${a}`,N=>{let z=N.entry?.[1]?.resource;rP(V.current,[z],r),Me(z.sender)!==D&&(V.current.find($=>$.id===z.id)?u?.(z):l?.(z))},{onWebSocketClose:b.useCallback(()=>{R||_(!0),bt({color:"red",message:"Live chat disconnected. Attempting to reconnect..."})},[R]),onWebSocketOpen:b.useCallback(()=>{R&&bt({color:"green",message:"Live chat reconnected."})},[R]),onSubscriptionConnect:b.useCallback(()=>{R&&(O().catch(N=>bt({color:"red",message:Wt(N)})),_(!1))},[R,O]),onError:b.useCallback(N=>{h?h(N):pse(Wt(N))},[h])});let k=b.useCallback(N=>{d||(y.current&&(y.current.value=""),i(N.message),U.current=!0)},[d,i]);b.useEffect(()=>{let N=g.getProfile();E?.id!==N?.id&&(j(N),r([]))});let[I,L]=zH(),V=b.useRef(n);V.current=n;let q=b.useRef(n),U=b.useRef(!0);b.useEffect(()=>{n!==q.current&&(U.current=!0),q.current=n},[n]),b.useEffect(()=>{U.current&&S.current?.scrollTo&&(S.current.scrollTo({top:S.current.scrollHeight,...x.current?{duration:0}:{behavior:"smooth"}}),x.current=!1,U.current=!1)});let G=b.useMemo(()=>{let N=n.length;for(;N--;){let z=n[N];if(z.sender?.reference===D&&z.received)return z.id}return""},[n,D]);return E?s.jsxs(Lt,{className:ea.chatPaper,p:0,radius:"md",...m,children:[!p&&s.jsx(cr,{order:2,className:ea.chatTitle,children:t}),s.jsx("div",{className:ea.chatBody,ref:I,children:C.current?s.jsxs(ae,{align:"stretch",mt:"lg",children:[s.jsxs(se,{justify:"flex-start",align:"flex-end",gap:"xs",mb:"sm",children:[s.jsx(vt,{height:38,circle:!0,ml:"md"}),s.jsx(Qx,{alignment:"left",parentWidth:L.width})]}),s.jsxs(se,{justify:"flex-end",align:"flex-end",gap:"xs",mb:"sm",children:[s.jsx(Qx,{alignment:"right",parentWidth:L.width}),s.jsx(vt,{height:38,circle:!0,mr:"md"})]}),s.jsxs(se,{justify:"flex-start",align:"flex-end",gap:"xs",mb:"sm",children:[s.jsx(vt,{height:38,circle:!0,ml:"md"}),s.jsx(Qx,{alignment:"left",parentWidth:L.width})]})]},"skeleton-chat-messages"):s.jsxs(mn,{viewportRef:S,className:ea.chatScrollArea,h:L.height,children:[s.jsx(Yv,{visible:A||R,style:{width:L.width,height:L.height,position:"absolute",zIndex:1}}),n.map((N,z)=>{let $=z>0?n[z-1]:void 0,Y=$?nP($):void 0,X=nP(N),H=!!N.received&&N.id===G;return s.jsxs(ae,{align:"stretch",children:[(!Y||X!==Y)&&s.jsx(W,{fz:"xs",ta:"center",children:X}),N.sender?.reference===D?s.jsxs(se,{justify:"flex-end",align:"flex-end",gap:"xs",mb:"sm",children:[s.jsx(aP,{alignment:"right",communication:N,showDelivered:H}),s.jsx(wa,{radius:"xl",color:"orange",value:N.sender,mb:H?void 0:"sm"})]}):s.jsxs(se,{justify:"flex-start",align:"flex-end",gap:"xs",mb:"sm",children:[s.jsx(wa,{radius:"xl",value:N.sender,mb:"sm"}),s.jsx(aP,{alignment:"left",communication:N})]})]},`${N.id}--${N.meta?.versionId??"no-version"}`)})]})}),s.jsx("div",{className:ea.chatInputContainer,children:s.jsx(ar,{onSubmit:k,children:s.jsx(tt,{ref:y,name:"message",placeholder:d?"Replies are disabled":"Type a message...",radius:"xl",rightSectionWidth:42,disabled:d,rightSection:d?void 0:s.jsx(ft,{type:"submit",size:"1.5rem",radius:"xl",color:"blue",variant:"filled","aria-label":"Send message",children:s.jsx(nre,{size:"1rem",stroke:1.5})})})})})]}):null}function aP(e){let{communication:t,alignment:n,showDelivered:r}=e,a=t.payload?.[0]?.contentString||"",i=new Date(t.sent??-1),l=new Date(t.received??-1),u=Dt(t.sender);return s.jsxs("div",{className:ea.chatBubbleOuterWrap,children:[s.jsxs(W,{fz:"xs",mb:"xs",fw:500,className:n==="right"?ea.chatBubbleNameRight:void 0,"aria-label":"Sender name",children:[u?nr(u):"[Unknown sender]","Â Â·Â ",s.jsx(W,{span:!0,c:"dimmed",fz:"xs",children:Number.isNaN(i.getTime())?"":i.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})})]}),s.jsx("div",{className:n==="left"?ea.chatBubbleLeftAlignedInnerWrap:ea.chatBubbleRightAlignedInnerWrap,children:s.jsx("div",{className:ea.chatBubble,children:a})}),r&&s.jsxs("div",{style:{textAlign:"right"},children:["Delivered ",l.getHours(),":",l.getMinutes().toString().length===1?"0":"",l.getMinutes()]})]})}function Qx(e){let{alignment:t,parentWidth:n}=e;return s.jsxs("div",{className:ea.chatBubbleOuterWrap,children:[s.jsx("div",{className:ea.chatBubbleName,"aria-label":"Placeholder sender name",children:s.jsx("div",{style:{position:"relative"},children:s.jsx(vt,{height:14,width:"100px",radius:"l",ml:t==="left"?"sm":void 0,style:t==="right"?{position:"absolute",right:5,top:-15}:void 0})})}),s.jsx("div",{className:t==="left"?ea.chatBubbleLeftAlignedInnerWrap:ea.chatBubbleRightAlignedInnerWrap,children:s.jsx("div",{className:ea.chatBubble,children:s.jsx(vt,{height:14,width:n*.5,radius:"l"})})})]})}function gse(e){let{thread:t,title:n,onMessageSent:r,inputDisabled:a,excludeHeader:i,onError:l}=e,u=_e(),d=Cr(),h=une(t?.id),[p,m]=b.useState([]),g=b.useMemo(()=>d?ke(d):void 0,[d]),y=b.useMemo(()=>ke(t),[t]);b.useEffect(()=>{t?.id!==h&&m([])},[t?.id,h]);let S=b.useCallback(C=>{let E=g?Me(g):void 0;E&&u.createResource({resourceType:"Communication",status:"in-progress",sender:g,recipient:t.recipient?.filter(j=>Me(j)!==E)??[],sent:new Date().toISOString(),payload:[{contentString:C}],partOf:[y]}).then(j=>{m([...p,j]),r?.(j)}).catch(console.error)},[u,g,t,y,p,r]),x=b.useMemo(()=>t.recipient?.length===2?C=>{C.received&&C.status==="completed"||u.updateResource({...C,received:C.received??new Date().toISOString(),status:"completed"}).catch(console.error)}:void 0,[u,t.recipient?.length]);return d?s.jsx(mse,{title:n??(t?.topic?rl(t.topic):"[No thread title]"),communications:p,setCommunications:m,query:`part-of=Communication/${t.id}`,sendMessage:S,onMessageReceived:x,inputDisabled:a,excludeHeader:i,onError:l}):null}var iP={noteCite:"NoteDisplay_noteCite",noteRoot:"NoteDisplay_noteRoot"};function w$({value:e}){return e?s.jsx(ae,{justify:"flex-start",gap:"xs",children:e.map(t=>t.text&&s.jsx(fT,{classNames:{cite:iP.noteCite,root:iP.noteRoot},cite:t.authorReference?.display||t.authorString,icon:null,children:t.text},`note-${t.text}`))}):null}function KR(e){let{value:t,link:n,...r}=e,[a,i]=b.useState(),l=Dt(t,i),u;if(a&&!aR(a))u=`[${Wt(a)}]`;else if(l)u=nr(l);else return null;return n?s.jsx(Sa,{to:t,...r,children:u}):s.jsx(W,{component:"span",...r,children:u})}function oc(e){return s.jsxs(se,{gap:"xs",children:[s.jsx(wa,{size:24,radius:12,value:e.value,link:e.link}),s.jsx(KR,{value:e.value,link:e.link})]})}var vse={draft:"blue",active:"blue","on-hold":"yellow",revoked:"red",completed:"green","entered-in-error":"red",unknown:"gray",retired:"gray",registered:"blue",preliminary:"blue",final:"green",amended:"yellow",corrected:"yellow",cancelled:"red",requested:"blue",received:"blue",accepted:"blue",rejected:"red",ready:"blue","in-progress":"blue",failed:"red",proposed:"blue",pending:"blue",booked:"blue",arrived:"blue",fulfilled:"green",noshow:"red","checked-in":"blue",waitlist:"gray",routine:"gray",urgent:"red",asap:"red",stat:"red","not-done":"red",connected:"green",disconnected:"red",finished:"green",planned:"gray"};function sl(e){let{status:t,...n}=e;return s.jsx(ya,{color:e.color||vse[t],...n,children:t.replaceAll("-"," ")})}var C$={table:"DiagnosticReportDisplay_table",criticalRow:"DiagnosticReportDisplay_criticalRow"};XR.defaultProps={hideObservationNotes:!1,hideSpecimenInfo:!1,hideSubject:!1};function XR(e){let t=_e(),n=Dt(e.value),[r,a]=b.useState();if(b.useEffect(()=>{n?.specimen&&Promise.allSettled(n.specimen.map(l=>t.readReference(l))).then(l=>l.filter(u=>u.status==="fulfilled").map(u=>u.value)).then(a).catch(console.error)},[t,n]),!n)return null;let i=r?.flatMap(l=>l.note||[])||[];if(n.presentedForm&&n.presentedForm.length>0){let l=n.presentedForm[0];l.contentType?.startsWith("text/plain")&&l.data&&i.push({text:window.atob(l.data)})}return s.jsxs(ae,{children:[s.jsx(cr,{children:"Diagnostic Report"}),s.jsx(yse,{value:n,hideSubject:e.hideSubject}),r&&!e.hideSpecimenInfo&&bse(r),n.result&&s.jsx(ZR,{hideObservationNotes:e.hideObservationNotes,value:n.result}),i.length>0&&s.jsx(w$,{value:i})]})}function yse({value:e,hideSubject:t=!1}){return s.jsxs(se,{mt:"md",gap:30,children:[e.subject&&!t&&s.jsxs("div",{children:[s.jsx(W,{size:"xs",tt:"uppercase",c:"dimmed",children:"Subject"}),s.jsx(oc,{value:e.subject,link:!0})]}),e.resultsInterpreter?.map(n=>s.jsxs("div",{children:[s.jsx(W,{size:"xs",tt:"uppercase",c:"dimmed",children:"Interpreter"}),s.jsx(oc,{value:n,link:!0})]},n.reference)),e.performer?.map(n=>s.jsxs("div",{children:[s.jsx(W,{size:"xs",tt:"uppercase",c:"dimmed",children:"Performer"}),s.jsx(oc,{value:n,link:!0})]},n.reference)),e.issued&&s.jsxs("div",{children:[s.jsx(W,{size:"xs",tt:"uppercase",c:"dimmed",children:"Issued"}),s.jsx(W,{children:Gr(e.issued)})]}),e.status&&s.jsxs("div",{children:[s.jsx(W,{size:"xs",tt:"uppercase",c:"dimmed",children:"Status"}),s.jsx(sl,{status:e.status})]})]})}function bse(e){return s.jsxs(ae,{gap:"xs",children:[s.jsx(cr,{order:2,size:"h6",children:"Specimens"}),s.jsx(ad,{type:"ordered",children:e?.map(t=>s.jsx(ad.Item,{ml:"sm",children:s.jsxs(se,{gap:20,children:[s.jsxs(se,{gap:5,children:[s.jsx(W,{fw:500,children:"Collected:"})," ",Gr(t.collection?.collectedDateTime)]}),s.jsxs(se,{gap:5,children:[s.jsx(W,{fw:500,children:"Received:"})," ",Gr(t.receivedTime)]})]})},`specimen-${t.id}`))})]})}function ZR(e){return s.jsxs("table",{className:C$.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Test"}),s.jsx("th",{children:"Value"}),s.jsx("th",{children:"Reference Range"}),s.jsx("th",{children:"Interpretation"}),s.jsx("th",{children:"Category"}),s.jsx("th",{children:"Performer"}),s.jsx("th",{children:"Status"})]})}),s.jsx("tbody",{children:s.jsx(j$,{value:e.value,ancestorIds:e.ancestorIds,hideObservationNotes:e.hideObservationNotes})})]})}function j$(e){return s.jsx(s.Fragment,{children:e.value?.map(t=>s.jsx(xse,{value:t,ancestorIds:e.ancestorIds,hideObservationNotes:e.hideObservationNotes},`obs-${$a(t)?t.reference:t.id}`))})}function xse(e){let t=Dt(e.value);if(!t||e.ancestorIds?.includes(t.id))return null;let n=!e.hideObservationNotes&&t.note,r=Cse(t);return s.jsxs(s.Fragment,{children:[s.jsxs("tr",{className:Uc({[C$.criticalRow]:r}),children:[s.jsx("td",{rowSpan:n?2:1,children:s.jsx(Sa,{to:t,children:s.jsx(Xf,{value:t.code})})}),s.jsx("td",{children:s.jsx(Sse,{value:t})}),s.jsx("td",{children:s.jsx(wse,{value:t.referenceRange})}),s.jsx("td",{children:t.interpretation&&t.interpretation.length>0&&s.jsx(Xf,{value:t.interpretation[0]})}),s.jsx("td",{children:t.category&&t.category.length>0&&s.jsx(s.Fragment,{children:t.category.map(a=>s.jsx("div",{children:s.jsx(Xf,{value:a})},`category-${rl(a)}`))})}),s.jsx("td",{children:t.performer?.map(a=>s.jsx(_j,{value:a},a.reference))}),s.jsx("td",{children:t.status&&s.jsx(sl,{status:t.status})})]}),t.hasMember&&s.jsx(j$,{value:t.hasMember,ancestorIds:e.ancestorIds?[...e.ancestorIds,t.id]:[t.id],hideObservationNotes:e.hideObservationNotes}),n&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,children:s.jsx(w$,{value:t.note})})})]})}function Sse(e){let t=e.value;return s.jsx(s.Fragment,{children:uz(t)})}function wse(e){let t=e.value&&e.value.length>0&&e.value[0];return t?t.text?s.jsx(s.Fragment,{children:t.text}):s.jsx(FR,{value:t}):null}function Cse(e){let t=e.interpretation?.[0]?.coding?.[0]?.code;return t==="AA"||t==="LL"||t==="HH"||t==="A"}var jse=Bne(Fne()),oP={removed:"ResourceDiffRow_removed",added:"ResourceDiffRow_added"};function Ese(e){let{name:t,path:n,property:r,originalValue:a,revisedValue:i}=e,l=!!r?.type?.find(p=>p.code==="Attachment"),[u,d]=b.useState(l),h=()=>d(p=>!p);return s.jsx(s.Fragment,{children:l&&!u||!l?s.jsx(s.Fragment,{children:s.jsxs(Le.Tr,{children:[s.jsx(Le.Td,{children:t}),s.jsx(Le.Td,{className:oP.removed,children:a&&s.jsx(Vi,{path:n,property:r,propertyType:a.type,value:a.value,ignoreMissingValues:!0})}),s.jsx(Le.Td,{className:oP.added,children:i&&s.jsx(Vi,{path:n,property:r,propertyType:i.type,value:i.value,ignoreMissingValues:!0})})]})}):s.jsxs(Le.Tr,{children:[s.jsx(Le.Td,{children:t}),s.jsx(Le.Td,{colSpan:2,style:{textAlign:"right"},children:s.jsx(Oe,{onClick:h,variant:"light",children:"Expand"})})]})})}var Tse={root:"ResourceDiffTable_root"};function Rse(e){let t=_e(),{original:n,revised:r}=e,[a,i]=b.useState(!1);b.useEffect(()=>{t.requestSchema(e.original.resourceType).then(()=>i(!0)).catch(console.log)},[t,e.original.resourceType]);let l=b.useMemo(()=>{if(!a)return null;let u=[Ha(n)],d=[Ha(r)],h=[],p=_se((0,jse.createPatch)(n,r));for(let m of p){let g=m.path,y=Dse(g),S=Ase(n.resourceType,y),x=m.op==="add"?void 0:al(y,u),C=m.op==="remove"?void 0:al(y,d);h.push({key:`op-${m.op}-${m.path}`,name:`${rr(m.op)} ${y}`,path:S?.path??n.resourceType+"."+y,property:S,originalValue:sP(S,x),revisedValue:sP(S,C)})}return h},[a,n,r]);return l?s.jsxs(Le,{className:Tse.root,children:[s.jsx(Le.Thead,{children:s.jsxs(Le.Tr,{children:[s.jsx(Le.Th,{}),s.jsx(Le.Th,{children:"Before"}),s.jsx(Le.Th,{children:"After"})]})}),s.jsx(Le.Tbody,{children:l.map(u=>{let{key:d,...h}=u;return s.jsx(Ese,{...h},d)})})]}):null}function _se(e){let t=[];for(let n of e){let{op:r,path:a}=n;if(a.startsWith("/meta/author")||a.startsWith("/meta/compartment")||a.startsWith("/meta/lastUpdated")||a.startsWith("/meta/versionId"))continue;let i=e.filter(u=>u.op===r&&u.path===a).length,l={op:r,path:a};i>1&&(r==="add"||r==="remove")&&/\/[0-9-]+$/.test(a)&&(l.op="replace",l.path=a.replace(/\/[^/]+$/,"")),t.some(u=>u.op===l.op&&u.path===l.path)||t.push(l)}return t}function Dse(e){let t=e.split("/").filter(Boolean),n="";for(let r=0;r<t.length;r++){let a=t[r];a==="-"?n+=".last()":/^\d+$/.test(a)?n+=`[${a}]`:(r>0&&(n+="."),n+=a)}return n.endsWith(".url")&&(n=n.replace(/\.url$/,"")),n}function Ase(e,t){try{return yy(e,{resourceType:"SearchParameter",base:[e],code:e+"."+t,expression:e+"."+t})?.elementDefinitions?.[0]}catch(n){console.warn("Failed to get element definition",{resourceType:e,fhirPath:t,err:n});return}}function sP(e,t){return t&&{type:Array.isArray(t)?t[0].type:t.type,value:Ose(t,!!e?.isArray)}}function Ose(e,t){let n=sz(e).flatMap(r=>r.value);return t?n:n[0]}function Ay(e){let{profileUrl:t}=e,n=_e(),r=n.getAccessPolicy(),a=Dt(e.value),[i,l]=b.useState(!1);b.useEffect(()=>{if(a)if(t)n.requestProfileSchema(t,{expandProfile:!0}).then(()=>{nl(t)?l(!0):console.error(`Schema not found for ${t}`)}).catch(d=>{console.error("Error in requestProfileSchema",d)});else{let d=a.resourceType;n.requestSchema(d).then(()=>{l(!0)}).catch(console.error)}},[n,t,a]);let u=b.useMemo(()=>a&&gz(a,rc.READ,r),[r,a]);return!i||!a?null:s.jsx(ev,{path:a.resourceType,value:{type:a.resourceType,value:e.forceUseInput?e.value:a},profileUrl:t,ignoreMissingValues:e.ignoreMissingValues,accessPolicyResource:u})}var lP={item:"Timeline_item",itemPadding:"Timeline_itemPadding"};function kse(e){return s.jsx(UR,{children:e.children})}function wc(e){let{resource:t,profile:n,padding:r,popupMenuItems:a,...i}=e,l=n??t.meta?.author,u=e.dateTime??t.meta?.lastUpdated;return s.jsxs(_y,{"data-testid":"timeline-item",fill:!0,...i,children:[s.jsxs(se,{justify:"space-between",gap:8,mx:"xs",my:"sm",children:[s.jsx(wa,{value:l,link:!0,size:"md"}),s.jsxs("div",{style:{flex:1},children:[s.jsx(W,{size:"sm",children:s.jsx(KR,{c:"dark",fw:500,value:l,link:!0})}),s.jsxs(W,{size:"xs",children:[s.jsx(Sa,{c:"dimmed",to:e.resource,children:Gr(u)}),s.jsx(W,{component:"span",c:"dimmed",mx:8,children:"Â·"}),s.jsx(Sa,{c:"dimmed",to:e.resource,children:e.resource.resourceType})]})]}),a&&s.jsxs(ye,{position:"bottom-end",shadow:"md",width:200,children:[s.jsx(ye.Target,{children:s.jsx(ft,{color:"gray",variant:"subtle",radius:"xl","aria-label":`Actions for ${Me(e.resource)}`,children:s.jsx(zre,{})})}),a]})]}),s.jsx(Yz,{children:s.jsx("div",{className:Uc(lP.item,{[lP.itemPadding]:r}),children:e.children})})]})}function Mse(e,t){e.sort((n,r)=>{let a=cP(n,t),i=cP(r,t);return a>i?1:a<i?-1:uP(n,t)-uP(r,t)})}function cP(e,t){if(!E$(e,t)){let n=e.priority;if(typeof n=="string")return{stat:4,asap:3,urgent:2}[n]??0}return 0}function uP(e,t){if(!E$(e,t)){if(e.resourceType==="Communication"&&e.sent)return new Date(e.sent).getTime();if((e.resourceType==="DiagnosticReport"||e.resourceType==="Media"||e.resourceType==="Observation")&&e.issued)return new Date(e.issued).getTime();if(e.resourceType==="DocumentReference"&&e.date)return new Date(e.date).getTime()}let n=e.meta?.lastUpdated;return n?new Date(n).getTime():0}function E$(e,t){return!!t&&e.resourceType===t.resourceType&&e.id===t.id}var Pse={pinnedComment:"ResourceTimeline_pinnedComment"};function T$(e){let t=_e(),n=t.getProfile(),r=b.useRef(null),a=Dt(e.value),[i,l]=b.useState(),[u,d]=b.useState([]),[h,p]=b.useState(10),m=e.loadTimelineResources,g=b.useRef(u);g.current=u;let y=b.useCallback(D=>{Mse(D,a),D.reverse(),d(D)},[a]),S=b.useCallback(D=>{let O=[];for(let k of D){if(k.status!=="fulfilled")continue;let I=k.value;if(I.type==="history"&&l(I),I.entry)for(let L of I.entry)O.push(L.resource)}y(O)},[y]),x=b.useCallback(D=>y([...g.current,D]),[y]),C=b.useCallback(()=>{let D,O;"resourceType"in e.value?(D=e.value.resourceType,O=e.value.id):[D,O]=e.value.reference?.split("/"),m(t,D,O).then(S).catch(console.error)},[t,e.value,m,S]);b.useEffect(()=>C(),[C]);function E(D){!a||!e.createCommunication||t.createResource(e.createCommunication(a,n,D)).then(O=>x(O)).catch(console.error)}function j(D){!a||!e.createMedia||t.createResource(e.createMedia(a,n,D)).then(O=>x(O)).then(()=>Bf({id:"upload-notification",color:"teal",title:"Upload complete",message:"",icon:s.jsx(Dd,{size:16}),autoClose:2e3})).catch(O=>Bf({id:"upload-notification",color:"red",title:"Upload error",message:Wt(O),icon:s.jsx(HM,{size:16}),autoClose:2e3}))}function R(){bt({id:"upload-notification",loading:!0,title:"Initializing upload...",message:"Please wait...",autoClose:!1,withCloseButton:!1})}function _(D){Bf({id:"upload-notification",loading:!0,title:"Uploading...",message:Use(D),autoClose:!1,withCloseButton:!1})}function A(D){Bf({id:"upload-notification",color:"red",title:"Upload error",message:Wt(D),icon:s.jsx(HM,{size:16}),autoClose:2e3})}if(!a)return s.jsx(yr,{style:{width:"100%",height:"100%"},children:s.jsx(tr,{})});let M=u.filter(D=>D).slice(0,h);return s.jsxs(kse,{children:[e.createCommunication&&s.jsx(_y,{children:s.jsx(ar,{testid:"timeline-form",onSubmit:D=>{E(D.text);let O=r.current;O&&(O.value="",O.focus())},children:s.jsxs(se,{gap:"xs",wrap:"nowrap",style:{width:"100%"},children:[s.jsx(wa,{value:n}),s.jsx(tt,{name:"text",ref:r,placeholder:"Add comment",style:{width:"100%",maxWidth:300}}),s.jsx(ft,{type:"submit",radius:"xl",color:"blue",variant:"filled",children:s.jsx(dae,{size:16})}),s.jsx(qR,{securityContext:ke(a),onUpload:j,onUploadStart:R,onUploadProgress:_,onUploadError:A,children:D=>s.jsx(ft,{...D,radius:"xl",color:"blue",variant:"filled",children:s.jsx(Fz,{size:16})})})]})})}),M.map(D=>{let O=`${D.resourceType}/${D.id}/${D.meta?.versionId}`,k=e.getMenu?e.getMenu({primaryResource:a,currentResource:D,reloadTimeline:C}):void 0;if(D.resourceType===a.resourceType&&D.id===a.id)return s.jsx(Nse,{history:i,resource:D,popupMenuItems:k},O);switch(D.resourceType){case"AuditEvent":return s.jsx($se,{resource:D,popupMenuItems:k},O);case"Communication":return s.jsx(Lse,{resource:D,popupMenuItems:k},O);case"DiagnosticReport":return s.jsx(qse,{resource:D,popupMenuItems:k},O);case"Media":return s.jsx(zse,{resource:D,popupMenuItems:k},O);default:return s.jsx(wc,{resource:D,padding:!0,children:s.jsx(Ay,{value:D,ignoreMissingValues:!0})},O)}}),h<u.length&&s.jsx(se,{justify:"center",pb:"lg",children:s.jsx(Oe,{onClick:()=>p(h+10),children:"Show More"})})]})}function Nse(e){let{history:t,resource:n,...r}=e,a=Ise(t,n);return a?s.jsx(wc,{resource:n,padding:!0,...r,children:s.jsx(Rse,{original:a,revised:e.resource})}):s.jsxs(wc,{resource:n,padding:!0,...r,children:[s.jsx("h3",{children:"Created"}),s.jsx(Ay,{value:n,ignoreMissingValues:!0,forceUseInput:!0})]})}function Ise(e,t){let n=e.entry??[],r=n.findIndex(a=>a.resource?.meta?.versionId===t.meta?.versionId);if(!(r>=n.length-1))return n[r+1].resource}function Lse(e){let t=!e.resource.priority||e.resource.priority==="routine"?void 0:Pse.pinnedComment;return s.jsx(wc,{resource:e.resource,profile:e.resource.sender,dateTime:e.resource.sent,padding:!0,className:t,popupMenuItems:e.popupMenuItems,children:s.jsx("p",{children:e.resource.payload?.[0]?.contentString})})}function zse(e){let t=e.resource.content?.contentType,n=t&&!t.startsWith("image/")&&!t.startsWith("video/")&&t!=="application/pdf";return s.jsx(wc,{resource:e.resource,padding:!!n,popupMenuItems:e.popupMenuItems,children:s.jsx(Xs,{value:e.resource.content})})}function $se(e){return s.jsx(wc,{resource:e.resource,padding:!0,popupMenuItems:e.popupMenuItems,children:s.jsx(mn,{children:s.jsx("pre",{children:e.resource.outcomeDesc})})})}function qse(e){return s.jsx(wc,{resource:e.resource,padding:!0,popupMenuItems:e.popupMenuItems,children:s.jsx(XR,{value:e.resource})})}function Use(e){if(e.lengthComputable){let t=100*e.loaded/e.total;return`Uploaded: ${Kx(e.loaded)} / ${Kx(e.total)} ${t.toFixed(2)}%`}return`Uploaded: ${Kx(e.loaded)}`}function Kx(e){if(e===0)return"0.00 B";let t=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,t)).toFixed(2)+" "+" KMGTP".charAt(t)+"B"}function Bse(e){let t;try{t=Cee(e.path,e.resource)}catch(n){return console.warn("FhirPathDisplay:",n),null}if(t.length>1)throw new Error(`Component "path" for "FhirPathDisplay" must resolve to a single element.        Received ${t.length} elements        [${JSON.stringify(t,null,2)}]`);return s.jsx(Vi,{value:t[0]||"",propertyType:e.propertyType})}function Hse(e){return s.jsxs(At,{title:"Export",closeButtonProps:{"aria-label":"Close"},opened:e.visible,onClose:e.onCancel,children:[s.jsxs(te,{display:"flex",style:{justifyContent:"space-between"},children:[e.exportCsv&&s.jsx(dP,{text:"CSV",exportLogic:e.exportCsv,onCancel:e.onCancel}),e.exportTransactionBundle&&s.jsx(dP,{text:"Transaction Bundle",exportLogic:e.exportTransactionBundle,onCancel:e.onCancel})]}),s.jsx(W,{style:{marginTop:"10px",marginLeft:"2px"},children:"Limited to 1000 records"})]})}function dP(e){return s.jsx(Oe,{onClick:()=>{e.exportLogic(),e.onCancel()},children:`Export as ${e.text}`})}var Fse={string:[Ce.EQUALS,Ce.NOT,Ce.CONTAINS,Ce.EXACT],fulltext:[Ce.EQUALS,Ce.NOT,Ce.CONTAINS,Ce.EXACT],token:[Ce.EQUALS,Ce.NOT],reference:[Ce.EQUALS,Ce.NOT],numeric:[Ce.EQUALS,Ce.NOT_EQUALS,Ce.GREATER_THAN,Ce.LESS_THAN,Ce.GREATER_THAN_OR_EQUALS,Ce.LESS_THAN_OR_EQUALS],quantity:[Ce.EQUALS,Ce.NOT_EQUALS,Ce.GREATER_THAN,Ce.LESS_THAN,Ce.GREATER_THAN_OR_EQUALS,Ce.LESS_THAN_OR_EQUALS],date:[Ce.EQUALS,Ce.NOT_EQUALS,Ce.GREATER_THAN,Ce.LESS_THAN,Ce.GREATER_THAN_OR_EQUALS,Ce.LESS_THAN_OR_EQUALS,Ce.STARTS_AFTER,Ce.ENDS_BEFORE,Ce.APPROXIMATELY],datetime:[Ce.EQUALS,Ce.NOT_EQUALS,Ce.GREATER_THAN,Ce.LESS_THAN,Ce.GREATER_THAN_OR_EQUALS,Ce.LESS_THAN_OR_EQUALS,Ce.STARTS_AFTER,Ce.ENDS_BEFORE,Ce.APPROXIMATELY],uri:[Ce.EQUALS,Ce.NOT,Ce.ABOVE,Ce.BELOW]},Vse={eq:"equals",ne:"not equals",gt:"greater than",lt:"less than",ge:"greater than or equals",le:"less than or equals",sa:"starts after",eb:"ends before",ap:"approximately",sw:"starts with",contains:"contains",exact:"exact",text:"text",not:"not",above:"above",below:"below",in:"in","not-in":"not in","of-type":"of type",missing:"missing",present:"present",identifier:"identifier",iterate:"iterate"};function JR(e,t){return{...e,filters:t,offset:0,name:void 0}}function R$(e,t){return JR(e,(e.filters??[]).filter(n=>n.code!==t))}function Oy(e,t,n,r,a){let i=[];return e.filters&&i.push(...e.filters),i.push({code:t,operator:n,value:r??""}),JR(e,i)}function Wse(e,t){if(!e.filters)return e;let n=[...e.filters];return n.splice(t,1),{...e,filters:n,name:void 0}}function Gse(e,t){return e_(e,t,-1)}function Yse(e,t){return e_(e,t,0)}function Qse(e,t){return e_(e,t,1)}function e_(e,t,n){let r=new Date;r.setDate(r.getDate()+n),r.setHours(0,0,0,0);let a=new Date(r.getTime());return a.setDate(a.getDate()+1),a.setTime(a.getTime()-1),ky(e,t,r,a)}function Kse(e,t){let n=new Date,r=new Date(n.getTime()+1440*60*1e3);return ky(e,t,n,r)}function Xse(e,t){return t_(e,t,-1)}function Zse(e,t){return t_(e,t,0)}function Jse(e,t){return t_(e,t,1)}function t_(e,t,n){let r=new Date;r.setMonth(r.getMonth()+n),r.setDate(1),r.setHours(0,0,0,0);let a=new Date(r.getTime());return a.setMonth(a.getMonth()+1),a.setDate(1),a.setHours(0,0,0,0),a.setTime(a.getTime()-1),ky(e,t,r,a)}function ele(e,t){let n=new Date;return n.setMonth(0),n.setDate(1),n.setHours(0,0,0,0),ky(e,t,n,new Date)}function ky(e,t,n,r){return e=R$(e,t),e=fP(e,t,Ce.GREATER_THAN_OR_EQUALS,n),e=fP(e,t,Ce.LESS_THAN_OR_EQUALS,r),e}function fP(e,t,n,r){return Oy(e,t,n,r.toISOString())}function hP(e,t,n=!0){return Oy(e,t,Ce.MISSING,n.toString())}function tle(e,t){return e.offset===t?e:{...e,offset:t,name:void 0}}function nle(e,t){let n=e.count??Kh,r=(t-1)*n;return tle(e,r)}function rle(e,t,n){return t===ale(e)&&n!==void 0&&n===ile(e)?e:{...e,sortRules:[{code:t,descending:!!n}],name:void 0}}function ale(e){let t=e.sortRules;if(!t||t.length===0)return;let n=t[0].code;return n.startsWith("-")?n.substr(1):n}function ile(e){let t=e.sortRules;return!t||t.length===0?!1:!!t[0].descending}function ole(e){return Fse[e.type]}function _$(e){return Vse[e]??""}function Cc(e){let t=e;return t.includes(".")&&(t=t.split(".").pop()),t==="versionId"?"Version ID":(t=t.replace("[x]",""),t=t.replaceAll(/([A-Z])/g," $1"),t=t.replaceAll(/[-_]/g," "),t=t.replaceAll(/\s+/g," "),t=t.trim(),t.toLowerCase()==="id"?"ID":t.split(/\s/).map(rr).join(" "))}function sle(e,t){let n=t.name;return n==="id"?s.jsx(Sa,{to:`/${e.resourceType}/${e.id}`,children:e.id}):n==="meta.versionId"?e.meta?.versionId:n==="_lastUpdated"?Gr(e.meta?.lastUpdated):`${e.resourceType}.${t.name}`===t.elementDefinition?.path?lle(e,t.elementDefinition):t.searchParams?.length===1&&t.name===t.searchParams[0].code?cle(e,t.searchParams[0]):null}function lle(e,t){let n=t.path?.split(".")?.pop()?.replaceAll("[x]","")??"",[r,a]=HR({type:e.resourceType,value:e},n);return r?s.jsx(Vi,{path:t.path,property:t,propertyType:a,value:r,maxWidth:200,ignoreMissingValues:!0,link:!1}):null}function cle(e,t){let n=al(t.expression,[{type:e.resourceType,value:e}]);return!n||n.length===0?null:s.jsx(s.Fragment,{children:n.map((r,a)=>s.jsx(Vi,{propertyType:r.type,value:r.value,maxWidth:200,ignoreMissingValues:!0,link:!1},`${a}-${n.length}`))})}function ule(e){let t=b.useRef(!1),[n,r]=b.useState({search:JSON.parse(ld(e.search))}),[a,i]=b.useState(!1);b.useEffect(()=>{r({search:e.search})},[e.search]);let l=b.useMemo(()=>{if(!e.visible)return[];let d=e.search.resourceType,h=B6(d),p=hR(d);return dR(dle(h,p)).map(m=>({value:m,label:Cc(m)}))},[e.visible,e.search.resourceType]);function u(d){r({search:{...n.search,fields:d}})}return s.jsx(At,{title:"Fields",closeButtonProps:{"aria-label":"Close"},opened:e.visible,onClose:()=>{e.onCancel()},size:"auto",withOverlay:!0,closeOnClickOutside:!1,overlayProps:{onMouseDownCapture:()=>{t.current=a},onClick:()=>{t.current||e.onCancel(),t.current=!1},children:s.jsx("div",{"data-testid":"overlay-child"})},children:s.jsxs(ae,{children:[s.jsx(ay,{style:{width:550},placeholder:"Select fields to display",data:l,value:n.search.fields??[],onChange:u,onDropdownOpen:()=>i(!0),onDropdownClose:()=>i(!1),maxDropdownHeight:"250px",clearButtonProps:{"aria-label":"Clear selection"},clearable:!0,searchable:!0}),s.jsx(se,{justify:"flex-end",children:s.jsx(Oe,{onClick:()=>e.onOk(n.search),children:"OK"})})]})})}function dle(e,t){let n=[],r=new Set,a=new Set;for(let i of Object.keys(e.elements))n.push(i),r.add(i.toLowerCase()),a.add(Cc(i));if(t)for(let i of Object.keys(t)){let l=Cc(i);!r.has(i)&&!a.has(l)&&(n.push(i),r.add(i),a.add(l))}return n}function D$(e){let t=yy(e.resourceType,e.searchParam),n=e.name??"filter-value";switch(t.type){case qr.REFERENCE:return s.jsx(Sc,{name:n,defaultValue:e.defaultValue?{reference:e.defaultValue}:void 0,targetTypes:e.searchParam.target,autoFocus:e.autoFocus,onChange:r=>{r?e.onChange(r.reference):e.onChange("")}});case qr.BOOLEAN:return s.jsx(mi,{name:n,"data-autofocus":e.autoFocus,"data-testid":n,defaultChecked:e.defaultValue==="true",autoFocus:e.autoFocus,onChange:r=>e.onChange(r.currentTarget.checked.toString())});case qr.DATE:return s.jsx(tt,{type:"date",name:n,"data-autofocus":e.autoFocus,"data-testid":n,defaultValue:e.defaultValue,autoFocus:e.autoFocus,onChange:r=>e.onChange(r.currentTarget.value)});case qr.DATETIME:return s.jsx(Ln,{name:n,defaultValue:e.defaultValue,autoFocus:e.autoFocus,onChange:e.onChange});case qr.NUMBER:return s.jsx(tt,{type:"number",name:n,"data-autofocus":e.autoFocus,"data-testid":n,defaultValue:e.defaultValue,autoFocus:e.autoFocus,onChange:r=>e.onChange(r.currentTarget.value)});case qr.QUANTITY:return s.jsx(xc,{name:n,path:"",defaultValue:fle(e.defaultValue),autoFocus:e.autoFocus,onChange:r=>{r?e.onChange(`${r.value}`):e.onChange("")}});default:return s.jsx(tt,{name:n,"data-autofocus":e.autoFocus,"data-testid":n,defaultValue:e.defaultValue,autoFocus:e.autoFocus,onChange:r=>e.onChange(r.currentTarget.value),placeholder:"Search value"})}}function fle(e){if(e){let[t,n,r]=e.split("|");if(t)return{value:Number.parseFloat(t),system:n,unit:r}}}function hle(e){let[t,n]=b.useState(Hi(e.search)),r=b.useRef(t);r.current=t,b.useEffect(()=>{n(Hi(e.search))},[e.search]);function a(d){n(Oy(r.current,d.code,d.operator,d.value))}let i=e.search.resourceType,l=hR(i)??{},u=t.filters||[];return s.jsx(At,{title:"Filters",closeButtonProps:{"aria-label":"Close"},size:900,opened:e.visible,onClose:e.onCancel,children:s.jsxs(ar,{onSubmit:()=>e.onOk(r.current),children:[s.jsxs("div",{children:[s.jsxs("table",{children:[s.jsxs("colgroup",{children:[s.jsx("col",{style:{width:200}}),s.jsx("col",{style:{width:200}}),s.jsx("col",{style:{width:380}}),s.jsx("col",{style:{width:40}})]}),s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Field"}),s.jsx("th",{children:"Operation"}),s.jsx("th",{children:"Value"}),s.jsx("th",{})]})}),s.jsx("tbody",{children:u.map((d,h)=>s.jsx(ple,{id:`filter-${h}-row`,resourceType:i,searchParams:l,value:d,onChange:p=>{let m=[...u];m[h]=p,n(JR(r.current,m))},onDelete:()=>n(Wse(r.current,h))},`filter-${h}-row`))})]}),s.jsx(GR,{propertyDisplayName:"Filter",onClick:()=>a({})})]}),s.jsx(se,{justify:"flex-end",mt:"xl",children:s.jsx(Ir,{children:"OK"})})]})})}function ple(e){let t=e.value,n=b.useRef(t);n.current=t;function r(d){n.current.code=d,n.current.operator=Ce.EQUALS,n.current.value="",e.onChange(n.current)}function a(d){n.current.operator=d,n.current.value="",e.onChange(n.current)}function i(d){n.current.value=d,e.onChange(n.current)}let l=e.searchParams[t.code],u=l&&ole(l);return s.jsxs("tr",{children:[s.jsx("td",{children:s.jsx(Wr,{"data-testid":`${e.id}-filter-field`,defaultValue:e.value.code,onChange:d=>r(d.currentTarget.value),data:["",...Object.keys(e.searchParams).map(d=>({value:d,label:Cc(d)}))]})}),s.jsx("td",{children:u&&s.jsx(Wr,{"data-testid":`${e.id}-filter-operation`,defaultValue:t.operator,onChange:d=>a(d.currentTarget.value),data:["",...u.map(d=>({value:d,label:_$(d)}))]},`${e.id}-filter-value-${e.value.code}`)}),s.jsx("td",{children:l&&t.operator&&s.jsx(D$,{name:`${e.id}-filter-value`,resourceType:e.resourceType,searchParam:l,defaultValue:t.value,onChange:i},`${e.id}-filter-value-${e.value.code}-${e.value.operator}`)}),s.jsx("td",{children:e.onDelete&&s.jsx(ft,{variant:"outline",color:"red",radius:"xl","aria-label":"Delete filter",onClick:e.onDelete,children:s.jsx(IR,{style:{width:"70%",height:"70%"},stroke:1.5})})})]})}function mle(e){let[t,n]=b.useState(e.defaultValue??"");if(!e.searchParam||!e.filter)return null;function r(){e.onOk({...e.filter,value:t})}return s.jsx(At,{title:e.title,size:"xl",opened:e.visible,onClose:e.onCancel,children:s.jsx(ar,{onSubmit:r,children:s.jsxs(br,{children:[s.jsx(br.Col,{span:10,children:s.jsx(D$,{resourceType:e.resourceType,searchParam:e.searchParam,defaultValue:t,autoFocus:!0,onChange:n})}),s.jsx(br.Col,{span:2,children:s.jsx(Oe,{onClick:r,fullWidth:!0,children:"OK"})})]})})})}function gle(e){let{resourceType:t,filter:n}=e,r=bo.types[t].searchParams?.[n.code];if(r){if(r.type==="reference"&&(n.operator===Ce.EQUALS||n.operator===Ce.NOT_EQUALS))return s.jsx(KR,{value:{reference:n.value}});let a=yy(t,r);if(n.code==="_lastUpdated"||a.type===qr.DATETIME)return s.jsx(s.Fragment,{children:Gr(n.value)})}return s.jsx(s.Fragment,{children:n.value})}function vle(e){if(!e.searchParams)return null;function t(i,l){a(rle(e.search,i.code,l))}function n(i){a(R$(e.search,i.code))}function r(i,l){e.onPrompt(i,{code:i.code,operator:l,value:""})}function a(i){e.onChange(i)}return e.searchParams.length===1?s.jsx(yle,{search:e.search,searchParam:e.searchParams[0],onSort:t,onPrompt:r,onChange:a,onClear:n}):s.jsx(ye.Dropdown,{children:e.searchParams.map(i=>s.jsx(ye.Item,{children:Cc(i.code)},i.code))})}function yle(e){switch(e.searchParam.type){case"date":return s.jsx(ble,{...e});case"number":case"quantity":return s.jsx(xle,{...e});case"reference":return s.jsx(Sle,{...e});case"string":return s.jsx(wle,{...e});case"token":case"uri":return s.jsx(Cle,{...e});default:return s.jsxs(s.Fragment,{children:["Unknown search param type: ",e.searchParam.type]})}}function ble(e){let{searchParam:t}=e,n=t.code;return s.jsxs(ye.Dropdown,{children:[s.jsx(ye.Item,{leftSection:s.jsx(MR,{size:14}),onClick:()=>e.onSort(t,!1),children:"Sort Oldest to Newest"}),s.jsx(ye.Item,{leftSection:s.jsx(PR,{size:14}),onClick:()=>e.onSort(t,!0),children:"Sort Newest to Oldest"}),s.jsx(ye.Divider,{}),s.jsx(ye.Item,{leftSection:s.jsx(Jh,{size:14}),onClick:()=>e.onPrompt(t,Ce.EQUALS),children:"Equals..."}),s.jsx(ye.Item,{leftSection:s.jsx(Zh,{size:14}),onClick:()=>e.onPrompt(t,Ce.NOT_EQUALS),children:"Does not equal..."}),s.jsx(ye.Divider,{}),s.jsx(ye.Item,{leftSection:s.jsx(Wz,{size:14}),onClick:()=>e.onPrompt(t,Ce.ENDS_BEFORE),children:"Before..."}),s.jsx(ye.Item,{leftSection:s.jsx(Vz,{size:14}),onClick:()=>e.onPrompt(t,Ce.STARTS_AFTER),children:"After..."}),s.jsx(ye.Item,{leftSection:s.jsx(hre,{size:14}),onClick:()=>e.onPrompt(t,Ce.EQUALS),children:"Between..."}),s.jsx(ye.Divider,{}),s.jsx(ye.Item,{leftSection:s.jsx(Us,{size:14}),onClick:()=>e.onChange(Qse(e.search,n)),children:"Tomorrow"}),s.jsx(ye.Item,{leftSection:s.jsx(Us,{size:14}),onClick:()=>e.onChange(Yse(e.search,n)),children:"Today"}),s.jsx(ye.Item,{leftSection:s.jsx(Us,{size:14}),onClick:()=>e.onChange(Gse(e.search,n)),children:"Yesterday"}),s.jsx(ye.Item,{leftSection:s.jsx(Us,{size:14}),onClick:()=>e.onChange(Kse(e.search,n)),children:"Next 24 Hours"}),s.jsx(ye.Divider,{}),s.jsx(ye.Item,{leftSection:s.jsx(Us,{size:14}),onClick:()=>e.onChange(Jse(e.search,n)),children:"Next Month"}),s.jsx(ye.Item,{leftSection:s.jsx(Us,{size:14}),onClick:()=>e.onChange(Zse(e.search,n)),children:"This Month"}),s.jsx(ye.Item,{leftSection:s.jsx(Us,{size:14}),onClick:()=>e.onChange(Xse(e.search,n)),children:"Last Month"}),s.jsx(ye.Divider,{}),s.jsx(ye.Item,{leftSection:s.jsx(Us,{size:14}),onClick:()=>e.onChange(ele(e.search,n)),children:"Year to date"}),s.jsx(np,{...e})]})}function xle(e){let{searchParam:t}=e;return s.jsxs(ye.Dropdown,{children:[s.jsx(ye.Item,{leftSection:s.jsx(MR,{size:14}),onClick:()=>e.onSort(t,!1),children:"Sort Smallest to Largest"}),s.jsx(ye.Item,{leftSection:s.jsx(PR,{size:14}),onClick:()=>e.onSort(t,!0),children:"Sort Largest to Smallest"}),s.jsx(ye.Divider,{}),s.jsx(ye.Item,{leftSection:s.jsx(Jh,{size:14}),onClick:()=>e.onPrompt(t,Ce.EQUALS),children:"Equals..."}),s.jsx(ye.Item,{leftSection:s.jsx(Zh,{size:14}),onClick:()=>e.onPrompt(t,Ce.NOT_EQUALS),children:"Does not equal..."}),s.jsx(ye.Divider,{}),s.jsx(ye.Item,{leftSection:s.jsx(Vz,{size:14}),onClick:()=>e.onPrompt(t,Ce.GREATER_THAN),children:"Greater than..."}),s.jsx(ye.Item,{leftSection:s.jsx(Rj,{size:14}),onClick:()=>e.onPrompt(t,Ce.GREATER_THAN_OR_EQUALS),children:"Greater than or equal to..."}),s.jsx(ye.Item,{leftSection:s.jsx(Wz,{size:14}),onClick:()=>e.onPrompt(t,Ce.LESS_THAN),children:"Less than..."}),s.jsx(ye.Item,{leftSection:s.jsx(Rj,{size:14}),onClick:()=>e.onPrompt(t,Ce.LESS_THAN_OR_EQUALS),children:"Less than or equal to..."}),s.jsx(np,{...e})]})}function Sle(e){let{searchParam:t}=e;return s.jsxs(ye.Dropdown,{children:[s.jsx(ye.Item,{leftSection:s.jsx(Jh,{size:14}),onClick:()=>e.onPrompt(t,Ce.EQUALS),children:"Equals..."}),s.jsx(ye.Item,{leftSection:s.jsx(Zh,{size:14}),onClick:()=>e.onPrompt(t,Ce.NOT),children:"Does not equal..."}),s.jsx(np,{...e})]})}function wle(e){let{searchParam:t}=e;return s.jsxs(ye.Dropdown,{children:[s.jsx(ye.Item,{leftSection:s.jsx(MR,{size:14}),onClick:()=>e.onSort(t,!1),children:"Sort A to Z"}),s.jsx(ye.Item,{leftSection:s.jsx(PR,{size:14}),onClick:()=>e.onSort(t,!0),children:"Sort Z to A"}),s.jsx(ye.Divider,{}),s.jsx(ye.Item,{leftSection:s.jsx(Jh,{size:14}),onClick:()=>e.onPrompt(t,Ce.EQUALS),children:"Equals..."}),s.jsx(ye.Item,{leftSection:s.jsx(Zh,{size:14}),onClick:()=>e.onPrompt(t,Ce.NOT),children:"Does not equal..."}),s.jsx(ye.Divider,{}),s.jsx(ye.Item,{leftSection:s.jsx(bre,{size:14}),onClick:()=>e.onPrompt(t,Ce.CONTAINS),children:"Contains..."}),s.jsx(ye.Item,{leftSection:s.jsx(vre,{size:14}),onClick:()=>e.onPrompt(t,Ce.EQUALS),children:"Does not contain..."}),s.jsx(np,{...e})]})}function Cle(e){let{searchParam:t}=e;return s.jsxs(ye.Dropdown,{children:[s.jsx(ye.Item,{leftSection:s.jsx(Jh,{size:14}),onClick:()=>e.onPrompt(t,Ce.EQUALS),children:"Equals..."}),s.jsx(ye.Item,{leftSection:s.jsx(Zh,{size:14}),onClick:()=>e.onPrompt(t,Ce.NOT),children:"Does not equal..."}),s.jsx(np,{...e})]})}function np(e){let{searchParam:t}=e,n=t.code;return s.jsxs(s.Fragment,{children:[s.jsx(ye.Divider,{}),s.jsx(ye.Item,{leftSection:s.jsx(cre,{size:14}),onClick:()=>e.onChange(hP(e.search,n)),children:"Missing"}),s.jsx(ye.Item,{leftSection:s.jsx(sre,{size:14}),onClick:()=>e.onChange(hP(e.search,n,!1)),children:"Not missing"}),s.jsx(ye.Divider,{}),s.jsx(ye.Item,{leftSection:s.jsx(IR,{size:14}),onClick:()=>e.onClear(t),children:"Clear filters"})]})}function jle(e){switch(e){case"next":return{"aria-label":"Next page"};case"previous":return{"aria-label":"Previous page"};case"first":return{"aria-label":"First page"};case"last":return{"aria-label":"Last page"};default:return{}}}var kf={root:"SearchControl_root",table:"SearchControl_table",tr:"SearchControl_tr",control:"SearchControl_control",icon:"SearchControl_icon"};function Ele(e){let t=e.resourceType,n=[];for(let r of e.fields||["id","_lastUpdated"])n.push(Tle(t,r));return n}function Tle(e,t){if(t==="_lastUpdated")return{name:"_lastUpdated",searchParams:[{resourceType:"SearchParameter",base:["Resource"],code:"_lastUpdated",name:"_lastUpdated",type:"date",expression:"Resource.meta.lastUpdated"}]};if(t==="meta.versionId")return{name:"meta.versionId",searchParams:[{resourceType:"SearchParameter",base:["Resource"],code:"_versionId",name:"_versionId",type:"token",expression:"Resource.meta.versionId"}]};let n=Qh(e,t),r=QJ(e,t.toLowerCase());if(n&&r)return{name:t,elementDefinition:n,searchParams:[r]};if(n){let a=hR(e),i;if(a){let l=new RegExp(`${e}\\.${t.replaceAll("[x]","")}([^\\w-]|$)`);i=Object.values(a).filter(u=>!!u.expression&&l.test(u?.expression)),i.length===0&&(i=void 0)}return{name:t,elementDefinition:n,searchParams:i}}if(r){let a=yy(e,r);return{name:t,elementDefinition:a.elementDefinitions?.[0],searchParams:[r]}}return{name:t}}var Rle=class extends Event{constructor(e){super("change"),tn(this,"definition"),this.definition=e}},_le=class extends Event{constructor(e){super("load"),tn(this,"response"),this.response=e}},tv=class extends Event{constructor(e,t){super("click"),tn(this,"resource"),tn(this,"browserEvent"),this.resource=e,this.browserEvent=t}};function A$(e){let t=_e(),[n,r]=b.useState(),{search:a,onLoad:i}=e,[l,u]=b.useState(a);gi(a,l)||u(a);let[d,h]=b.useState({selected:{},fieldEditorVisible:!1,filterEditorVisible:!1,exportDialogVisible:!1,filterDialogVisible:!1}),p=b.useRef(d);p.current=d;let m=l.total??"accurate",g=b.useCallback(q=>{r(void 0),t.requestSchema(l.resourceType).then(()=>t.search(l.resourceType,Ks({...l,total:m,fields:void 0}),q)).then(U=>{h({...p.current,searchResponse:U}),i&&i(new _le(U))}).catch(U=>{h({...p.current,searchResponse:void 0}),r(kr(U))})},[t,l,m,i]),y=b.useCallback(()=>{h({...p.current,searchResponse:void 0}),g({cache:"reload"})},[g]);b.useEffect(()=>{g()},[g]);function S(q,U){q.stopPropagation();let G=q.target.checked,N={...p.current.selected};G?N[U]=!0:delete N[U],h({...p.current,selected:N})}function x(q){q.stopPropagation();let U=q.target.checked,G={},N=p.current.searchResponse;U&&N?.entry&&N.entry.forEach(z=>{z.resource?.id&&(G[z.resource.id]=!0)}),h({...p.current,selected:G})}function C(){let q=p.current;if(!q.searchResponse?.entry||q.searchResponse.entry.length===0)return!1;for(let U of q.searchResponse.entry)if(U.resource?.id&&!q.selected[U.resource.id])return!1;return!0}function E(q){e.onChange&&e.onChange(new Rle(q))}function j(q,U){if(Qz(q.target)||q.button===2)return;xa(q);let G=LR(q);!G&&e.onClick&&e.onClick(new tv(U,q)),G&&e.onAuxClick&&e.onAuxClick(new tv(U,q))}function R(){return!!(e.onExport??e.onExportCsv??e.onExportTransactionBundle)}if(n)return s.jsx(Bc,{outcome:n});if(!U6(l.resourceType))return s.jsx(yr,{style:{width:"100%",height:"100%"},children:s.jsx(tr,{})});let _=e.checkboxesEnabled,A=Ele(l),M=l.resourceType,D=d.searchResponse,O=D?.entry?.map(q=>q.resource),k="subtle",I="gray",L=16,V=window.innerWidth<768;return s.jsxs("div",{className:kf.root,"data-testid":"search-control",children:[!e.hideToolbar&&s.jsxs(se,{justify:"space-between",mb:"xl",children:[s.jsxs(se,{gap:2,children:[s.jsx(Oe,{size:"compact-md",variant:k,color:I,leftSection:s.jsx(Mre,{size:L}),onClick:()=>h({...p.current,fieldEditorVisible:!0,dialogOpenTime:Date.now()}),children:"Fields"}),s.jsx(Oe,{size:"compact-md",variant:k,color:I,leftSection:s.jsx(Jre,{size:L}),onClick:()=>h({...p.current,filterEditorVisible:!0,dialogOpenTime:Date.now()}),children:"Filters"}),e.onNew&&s.jsx(Oe,{size:"compact-md",variant:k,color:I,leftSection:s.jsx(Xre,{size:L}),onClick:e.onNew,children:"New..."}),!V&&R()&&s.jsx(Oe,{size:"compact-md",variant:k,color:I,leftSection:s.jsx(Rae,{size:L}),onClick:e.onExport?e.onExport:()=>h({...p.current,exportDialogVisible:!0,dialogOpenTime:Date.now()}),children:"Export..."}),!V&&e.onDelete&&s.jsx(Oe,{size:"compact-md",variant:k,color:I,leftSection:s.jsx(NR,{size:L}),onClick:()=>e.onDelete(Object.keys(d.selected)),children:"Delete..."}),!V&&e.onBulk&&s.jsx(Oe,{size:"compact-md",variant:k,color:I,leftSection:s.jsx(dre,{size:L}),onClick:()=>e.onBulk(Object.keys(d.selected)),children:"Bulk..."})]}),s.jsxs(se,{gap:2,children:[D&&s.jsxs(W,{size:"xs",c:"dimmed","data-testid":"count-display",children:[O$(l,D).toLocaleString(),"-",kle(l,D).toLocaleString(),D.total!==void 0&&` of ${l.total==="estimate"?"~":""}${D.total?.toLocaleString()}`]}),s.jsx(ft,{variant:k,color:I,title:"Refresh",onClick:y,children:s.jsx(gae,{size:L})})]})]}),s.jsxs(Le,{className:kf.table,children:[s.jsxs(Le.Thead,{children:[s.jsxs(Le.Tr,{children:[_&&s.jsx(Le.Th,{children:s.jsx("input",{type:"checkbox",value:"checked","aria-label":"all-checkbox","data-testid":"all-checkbox",checked:C(),onChange:q=>x(q)})}),A.map(q=>s.jsx(Le.Th,{children:s.jsxs(ye,{shadow:"md",width:240,position:"bottom-end",children:[s.jsx(ye.Target,{children:s.jsx(Wn,{className:kf.control,p:2,children:s.jsxs(se,{justify:"space-between",wrap:"nowrap",children:[s.jsx(W,{fw:500,children:Cc(q.name)}),s.jsx(yr,{className:kf.icon,children:s.jsx(Zne,{size:14,stroke:1.5})})]})})}),s.jsx(vle,{search:l,searchParams:q.searchParams,onPrompt:(U,G)=>{h({...p.current,filterDialogVisible:!0,filterDialogSearchParam:U,filterDialogFilter:G,dialogOpenTime:Date.now()})},onChange:U=>{E(U)}})]})},q.name))]}),!e.hideFilters&&s.jsxs(Le.Tr,{children:[_&&s.jsx(Le.Th,{}),A.map(q=>s.jsx(Le.Th,{children:q.searchParams&&s.jsx(Dle,{resourceType:M,searchParams:q.searchParams,filters:l.filters})},q.name))]})]}),s.jsx(Le.Tbody,{children:O?.map(q=>q&&s.jsxs(Le.Tr,{className:kf.tr,"data-testid":"search-control-row",onClick:U=>j(U,q),onAuxClick:U=>j(U,q),children:[_&&s.jsx(Le.Td,{children:s.jsx("input",{type:"checkbox",value:"checked","data-testid":"row-checkbox","aria-label":`Checkbox for ${q.id}`,checked:!!d.selected[q.id],onChange:U=>S(U,q.id)})}),A.map(U=>s.jsx(Le.Td,{children:sle(q,U)},U.name))]},q.id))})]}),!O?.length&&s.jsx(UR,{children:s.jsx(yr,{style:{height:150},children:s.jsx(W,{size:"xl",c:"dimmed",children:"No results"})})}),D&&s.jsx(yr,{m:"md",p:"md",children:s.jsx(Wa,{value:Ale(l),total:Ole(l,D),onChange:q=>E(nle(l,q)),getControlProps:jle})}),s.jsx(ule,{search:l,visible:p.current.fieldEditorVisible,onOk:q=>{E(q),h({...p.current,fieldEditorVisible:!1})},onCancel:()=>{h({...p.current,fieldEditorVisible:!1})}},`search-field-editor-${d.dialogOpenTime}`),s.jsx(hle,{search:l,visible:p.current.filterEditorVisible,onOk:q=>{E(q),h({...p.current,filterEditorVisible:!1})},onCancel:()=>{h({...p.current,filterEditorVisible:!1})}},`search-filter-editor-${d.dialogOpenTime}`),s.jsx(Hse,{visible:p.current.exportDialogVisible,exportCsv:e.onExportCsv,exportTransactionBundle:e.onExportTransactionBundle,onCancel:()=>{h({...p.current,exportDialogVisible:!1})}},`search-export-dialog-${d.dialogOpenTime}`),s.jsx(mle,{visible:p.current.filterDialogVisible,title:d.filterDialogSearchParam?.code?Cc(d.filterDialogSearchParam.code):"",resourceType:M,searchParam:d.filterDialogSearchParam,filter:d.filterDialogFilter,defaultValue:"",onOk:q=>{E(Oy(l,q.code,q.operator,q.value)),h({...p.current,filterDialogVisible:!1})},onCancel:()=>{h({...p.current,filterDialogVisible:!1})}},`search-filter-dialog-${d.dialogOpenTime}`)]})}function Dle(e){let t=(e.filters??[]).filter(n=>e.searchParams.find(r=>r.code===n.code));return t.length===0?s.jsx("span",{children:"no filters"}):s.jsx(s.Fragment,{children:t.map(n=>s.jsxs("div",{children:[_$(n.operator),"Â ",s.jsx(gle,{resourceType:e.resourceType,filter:n})]},`filter-${n.code}-${n.operator}-${n.value}`))})}function Ale(e){return Math.floor((e.offset??0)/(e.count??Kh))+1}function Ole(e,t){let n=e.count??Kh,r=k$(e,t);return Math.ceil(r/n)}function O$(e,t){return Math.min(k$(e,t),(e.offset??0)+1)}function kle(e,t){return Math.max(O$(e,t)+(t.entry?.length??0)-1,0)}function k$(e,t){let n=t.total;return n===void 0&&(n=(e.offset??0)+(t.entry?.length??0)+(t.link?.some(r=>r.relation==="next")?1:0)),n}function Mle(e){let t=_e(),[n,r]=b.useState(!1),[a,i]=b.useState(),{query:l,fields:u}=e,[d,h]=b.useState(),[p,m]=b.useState({}),g=b.useRef(d);g.current=d;let y=b.useRef({});y.current=p,b.useEffect(()=>{i(void 0),t.graphql(l).then(h).catch(R=>i(kr(R)))},[t,l]);function S(R,_){R.stopPropagation();let A=R.target.checked,M={...y.current};A?M[_]=!0:delete M[_],m(M)}function x(R){R.stopPropagation();let _=R.target.checked,A={},M=g.current?.data.ResourceList;_&&M&&M.forEach(D=>{D.id&&(A[D.id]=!0)}),m(A)}function C(){let R=g.current?.data.ResourceList;if(!R||R.length===0)return!1;for(let _ of R)if(_.id&&!y.current[_.id])return!1;return!0}function E(R,_){Qz(R.target)||(xa(R),R.button!==1&&e.onClick&&e.onClick(new tv(_,R)),R.button===1&&e.onAuxClick&&e.onAuxClick(new tv(_,R)))}if(b.useEffect(()=>{t.requestSchema(e.resourceType).then(()=>r(!0)).catch(console.log)},[t,e.resourceType]),!n)return s.jsx(tr,{});let j=e.checkboxesEnabled;return s.jsxs("div",{onContextMenu:R=>xa(R),"data-testid":"search-control",children:[s.jsxs(Le,{children:[s.jsx(Le.Thead,{children:s.jsxs(Le.Tr,{children:[j&&s.jsx(Le.Th,{children:s.jsx("input",{type:"checkbox",value:"checked","aria-label":"all-checkbox","data-testid":"all-checkbox",checked:C(),onChange:R=>x(R)})}),u.map(R=>s.jsx(Le.Th,{children:R.name},R.name))]})}),s.jsx(Le.Tbody,{children:d?.data.ResourceList.map(R=>R&&s.jsxs(Le.Tr,{"data-testid":"search-control-row",onClick:_=>E(_,R),onAuxClick:_=>E(_,R),children:[j&&s.jsx(Le.Td,{children:s.jsx("input",{type:"checkbox",value:"checked","data-testid":"row-checkbox","aria-label":`Checkbox for ${R.id}`,checked:!!p[R.id],onChange:_=>S(_,R.id)})}),u.map(_=>s.jsx(Le.Td,{children:s.jsx(Bse,{propertyType:_.propertyType,path:_.fhirPath,resource:R})},_.name))]},R.id))})]}),d?.data.ResourceList.length===0&&s.jsx("div",{"data-testid":"empty-search",children:"No results"}),a&&s.jsx("div",{"data-testid":"search-error",children:s.jsx("pre",{style:{textAlign:"left"},children:JSON.stringify(a,void 0,2)})}),e.onBulk&&s.jsx(Oe,{onClick:()=>e.onBulk(Object.keys(y.current)),children:"Bulk..."})]})}b.memo(Mle);var pP={list:"LinkTabs_list",link:"LinkTabs_link"};function Ple(e){let{baseUrl:t,tabs:n,children:r,...a}=e,i=Nle(n),l=_d(),[u,d]=b.useState(()=>{let p=gr.getPathname().split("/").pop();return p&&i.some(m=>m.value===p)?p:i[0].value});function h(p){p=p||i[0].value,d(p),l(`${t}/${p}`)}return s.jsxs(zi,{value:u.toLowerCase(),onChange:h,...a,children:[s.jsx(zi.List,{className:pP.list,children:i.map(p=>s.jsx(zi.Tab,{value:p.value,children:s.jsx(Ba,{className:pP.link,href:`${t}/${p.value}`,onClick:Ile,children:p.label})},p.value))}),r]})}function Nle(e){return e.map(t=>az(t)?{label:t,value:t.toLowerCase()}:t)}function Ile(e){LR(e)||e.preventDefault()}function Xx(e){let t=_e(),{resourceType:n,countCriteria:r,subscriptionCriteria:a}=e,[i,l]=b.useState(0),u=b.useCallback(h=>{t.search(n,r,{cache:h}).then(p=>l(p.total)).catch(console.error)},[t,n,r]);b.useEffect(()=>{u("default")},[u]),Iz(a,()=>{u("reload")});let d=e.iconComponent;return e.onClick&&(d=s.jsx(ft,{variant:"subtle",color:"gray",size:"lg","aria-label":e.label,onClick:e.onClick,children:d})),e.tooltip&&(d=s.jsx(ba,{label:e.tooltip,children:d})),i>0&&(d=s.jsx(Wv,{inline:!0,label:i.toLocaleString(),size:16,offset:2,position:"bottom-end",color:"red",children:d})),d}var Zx="patient-export",Jx="Patient Export",Lle={everything:{operation:"$everything",extension:"json",contentType:Dn.FHIR_JSON},summary:{operation:"$summary",extension:"json",contentType:Dn.FHIR_JSON},ccda:{operation:"$ccda-export",extension:"xml",contentType:Dn.CDA_XML},ccdaReferral:{operation:"$ccda-export",type:"referral",extension:"xml",contentType:Dn.CDA_XML}};function zle(e){let t=_e(),{patient:n}=e,r=b.useCallback(async a=>{let i=sd(n),l=a.format,{operation:u,type:d,contentType:h,extension:p}=Lle[l],m=t.fhirUrl("Patient",i,u),g={};d&&(g.type=d),a.author&&(g.author={reference:a.author}),a.authoredOn&&(g.authoredOn=WR(a.authoredOn)),a.startDate&&(g.start=a.startDate),a.endDate&&(g.end=a.endDate),Vr.show({id:Zx,title:Jx,loading:!0,message:"Exporting...",autoClose:!1,withCloseButton:!1});try{let y=await t.post(m,g,void 0,{cache:"no-cache",headers:{Accept:h}}),S=`Patient-export-${i}-${new Date().toISOString().replaceAll(":","-")}.${p}`;$le(y,S,h),Vr.update({id:Zx,title:Jx,color:"green",message:"Done",icon:s.jsx(Dd,{size:"1rem"}),loading:!1,autoClose:!0,withCloseButton:!0})}catch(y){Vr.update({id:Zx,title:Jx,color:"red",message:Wt(y),icon:s.jsx(IR,{size:"1rem"}),loading:!1,autoClose:!1,withCloseButton:!0})}},[t,n]);return s.jsx(ar,{onSubmit:r,children:s.jsxs(ae,{children:[s.jsx(fa,{title:"Export Format",description:"Required",withAsterisk:!0,children:s.jsx(tl,{name:"format",data:[{label:"FHIR Everything",value:"everything"},{label:"Patient Summary",value:"summary"},{label:"C-CDA",value:"ccda"},{label:"C-CDA Referral",value:"ccdaReferral"}],fullWidth:!0})}),s.jsx(fa,{title:"Author",description:"Optional author for composition. Default value is current user.",children:s.jsx(Sc,{name:"author",placeholder:"Author",targetTypes:["Organization","Practitioner","PractitionerRole"]})}),s.jsx(fa,{title:"Authored On",description:"Optional date for composition authored on. Default value is current date.",children:s.jsx(Ln,{name:"authoredOn",placeholder:"Authored on"})}),s.jsx(fa,{title:"Start Date",description:"The start date of care. If no start date is provided, all records prior to the end date are in scope.",children:s.jsx(Ln,{name:"startDate",placeholder:"Start date"})}),s.jsx(fa,{title:"End Date",description:"The end date of care. If no end date is provided, all records subsequent to the start date are in scope.",children:s.jsx(Ln,{name:"endDate",placeholder:"End date"})}),s.jsx(se,{justify:"right",children:s.jsx(Ir,{children:"Request Export"})})]})})}function $le(e,t,n){let r=typeof e=="string"?e:JSON.stringify(e,null,2),a=new Blob([r],{type:n}),i=window.URL.createObjectURL(a),l=document.createElement("a");document.body.appendChild(l),l.style.display="none",l.href=i,l.download=t,l.click(),window.URL.revokeObjectURL(i)}var qle="http://",Ule=St+"/fhir/us/core/StructureDefinition/us-core-allergyintolerance";function Ble(e){let{patient:t,encounter:n,allergy:r,onSubmit:a}=e,[i,l]=b.useState(r?.code),[u,d]=b.useState(r?.clinicalStatus),h=b.useCallback(p=>{a($c({...r,resourceType:"AllergyIntolerance",patient:ke(t),encounter:n?ke(n):void 0,code:i,clinicalStatus:u,onsetDateTime:p.onsetDateTime?p.onsetDateTime:void 0,reaction:p.reaction?[{manifestation:[{text:p.reaction}]}]:void 0},Ule))},[t,n,r,i,u,a]);return s.jsx(ar,{onSubmit:h,children:s.jsxs(ae,{children:[s.jsx(vi,{name:"allergy",label:"Code",path:"AllergyIntolerance.code","data-autofocus":!0,binding:qle+"cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1186.8",maxValues:1,defaultValue:r?.code,onChange:p=>l(p),outcome:void 0}),s.jsx(tt,{name:"reaction",label:"Reaction",defaultValue:r?.reaction?.[0]?.manifestation?.[0]?.text}),s.jsx(vi,{name:"clinicalStatus",label:"Clinical Status",path:"AllergyIntolerance.clinicalStatus",binding:St+"/fhir/ValueSet/allergyintolerance-clinical",maxValues:1,defaultValue:r?.clinicalStatus,onChange:p=>d(p),outcome:void 0}),s.jsx(Ln,{name:"onsetDateTime",label:"Onset",defaultValue:r?.recordedDate}),s.jsx(se,{justify:"flex-end",gap:4,mt:"md",children:s.jsx(Ir,{children:"Save"})})]})},r?.id)}var Mf={root:"CollapsibleSection_root",header:"CollapsibleSection_header",chevron:"CollapsibleSection_chevron",title:"CollapsibleSection_title",addButton:"CollapsibleSection_addButton"};function vl(e){let{title:t,children:n,onAdd:r}=e,[a,i]=b.useState(!1);return s.jsxs(te,{className:Mf.root,children:[s.jsxs(se,{justify:"space-between",className:Mf.header,children:[s.jsxs(se,{gap:8,children:[s.jsx(ft,{variant:"subtle",onClick:()=>i(l=>!l),"aria-label":a?`Show ${t.toLowerCase()}`:`Hide ${t.toLowerCase()}`,className:Mf.chevron,"data-collapsed":a||void 0,size:"md",children:s.jsx(OR,{size:20})}),s.jsx(W,{fz:"md",fw:800,onClick:()=>i(l=>!l),className:Mf.title,children:t})]}),r&&s.jsx(ft,{role:"button","aria-label":"Add item",className:Mf.addButton,variant:"subtle",onClick:l=>{xa(l),r()},size:"md",children:s.jsx(Gz,{size:18})})]}),s.jsx(j5,{in:!a,children:s.jsx(te,{ml:"var(--mantine-spacing-xl)",mt:"xs",mb:"md",pl:4,children:n})})]})}var Yo={gradient:"SummaryItem_gradient",container:"SummaryItem_container",chevron:"SummaryItem_chevron",item:"SummaryItem_item",itemText:"SummaryItem_itemText"};function ll(e){let{children:t,onClick:n}=e;return s.jsxs(te,{className:Yo.item,onClick:n,children:[t,s.jsx("div",{className:Yo.gradient}),s.jsx("div",{className:Yo.container,children:s.jsx(ft,{className:Yo.chevron,size:"md",variant:"transparent",tabIndex:-1,children:s.jsx(Rre,{size:16,stroke:2.5})})})]})}function Hle(e){let t=_e(),{patient:n,encounter:r}=e,[a,i]=b.useState(e.allergies),[l,{open:u,close:d}]=qa(!1),[h,p]=b.useState(),m=b.useMemo(()=>[...a].sort((y,S)=>{let x=y.clinicalStatus?.coding?.[0]?.code,C=S.clinicalStatus?.coding?.[0]?.code;return x==="active"&&C!=="active"?-1:x!=="active"&&C==="active"?1:nr(y).localeCompare(nr(S))}),[a]),g=b.useCallback(async y=>{if(y.id){let S=await t.updateResource(y);i(a.map(x=>x.id===S.id?S:x))}else{let S=await t.createResource(y);i([...a,S])}p(void 0),d()},[t,a,d]);return s.jsxs(s.Fragment,{children:[s.jsx(vl,{title:"Allergies",onAdd:()=>{p(void 0),u()},children:m.length>0?s.jsx(te,{children:s.jsx($e,{direction:"column",gap:8,children:m.map(y=>{let S=y.clinicalStatus?.coding?.[0]?.code||"unknown";return s.jsx(ll,{onClick:()=>{p(y),u()},children:s.jsxs(te,{children:[s.jsx(W,{fw:500,className:Yo.itemText,children:nr(y)}),s.jsx(se,{mt:2,gap:4,children:s.jsx(sl,{color:Fle(S),variant:"light",status:S})})]})},y.id)})})}):s.jsx(W,{children:"(none)"})}),s.jsx(At,{opened:l,onClose:d,title:h?"Edit Allergy":"Add Allergy",children:s.jsx(Ble,{patient:n,encounter:r,allergy:h,onSubmit:g})})]})}function Fle(e){switch(e){case"active":return"red";case"inactive":return"orange";case"resolved":return"blue";default:return"gray"}}var nv={panel:"PatientSummary_panel"};function Vle(e){let{coverage:t,organization:n,onClickResource:r}=e,a=Dt(t),i=Dt(n),l="Unknown Payor";i&&"name"in i&&typeof i.name=="string"&&(l=i.name);let u=`ID: ${a?.subscriberId??"N/A"}${mP(a)?` Â· ${mP(a)}`:""}`;return s.jsx(ll,{onClick:()=>{a&&r?.(a)},children:s.jsxs(te,{children:[s.jsx(W,{fw:500,className:nv.itemText,children:l}),s.jsx(W,{fw:500,className:nv.itemText,children:u}),s.jsxs(se,{mt:2,gap:4,children:[s.jsx(sl,{color:"green",variant:"light",status:"Active"}),s.jsxs(W,{size:"xs",fw:500,color:"gray.6",children:["Ends ",bn(a?.period?.end)]})]})]})})}function Wle(e){let{coverages:t,onClickResource:n}=e,r=t.filter(a=>a.status==="active");return s.jsx(vl,{title:"Insurance",children:r.length>0?s.jsx($e,{direction:"column",gap:8,children:r.map(a=>s.jsx(Vle,{coverage:a,organization:a.payor?.[0],onClickResource:n},a.id))}):s.jsx(W,{children:"(none)"})})}function Gle(e){return e.split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ")}function mP(e){return e?e.class?.filter(t=>t.type?.coding?.[0]?.code!=="plan").map(t=>{let n=t.type?.coding?.[0]?.code??"";return`${Gle(n)}: ${t.value}`}).join(" Â· ")??"":""}function Yle(e){let{serviceRequests:t,diagnosticReports:n,onClickResource:r,onRequestLabs:a}=e,[i,l]=b.useState(),[u,{open:d,close:h}]=qa(!1),p=new Set,m=n.filter(x=>{let C=Kle(x);return C&&x.basedOn&&x.basedOn.forEach(E=>{if(E.reference?.startsWith("ServiceRequest/")){let[,j]=E.reference.split("/");p.add(j)}}),C}),g=new Set,y=t.filter(x=>{if(x.id&&p.has(x.id)||x.basedOn&&x.basedOn.find(E=>{if(E.reference?.startsWith("ServiceRequest/")){let[,j]=E.reference.split("/");return p.has(j)}return!1}))return!1;let C=Xle(x,g);return!C&&x.requisition?.value&&g.add(x.requisition?.value),!C}),S=x=>{l(x),d()};return s.jsxs(s.Fragment,{children:[s.jsx(vl,{title:"Labs",onAdd:()=>a?.(),children:s.jsxs($e,{direction:"column",gap:8,children:[y.map(x=>s.jsx(ll,{onClick:()=>r?.(x),children:s.jsxs(te,{children:[s.jsx(W,{fw:500,className:Yo.itemText,children:nr(x)}),s.jsxs(se,{mt:2,gap:4,children:[x.status&&s.jsx(sl,{color:gP(x.status),variant:"light",status:x.status}),s.jsx(W,{size:"xs",fw:500,c:"dimmed",children:bn(x.authoredOn)})]})]})},x.id)),m.map(x=>s.jsx(ll,{onClick:()=>S(x),children:s.jsxs(te,{children:[s.jsx(W,{fw:500,className:Yo.itemText,children:nr(x)}),s.jsxs(se,{mt:2,gap:4,children:[x.status&&s.jsx(sl,{color:gP(x.status),variant:"light",status:x.status}),s.jsx(W,{size:"xs",fw:500,c:"dimmed",children:bn(x.issued)})]})]})},x.id)),y.length===0&&m.length===0&&s.jsx(W,{children:"(none)"})]})}),s.jsx(At,{opened:u,onClose:h,size:"80%",children:i&&s.jsx(XR,{value:i,hideSubject:!0})})]})}var gP=e=>{switch(e){case"active":return"indigo";case"final":return"teal";case"cancelled":return"red";default:return"gray"}};function Qle(e){if(!e.coding||!Array.isArray(e.coding))return!1;for(let t of e.coding)if(t.code==="LAB")return!0;return!1}function Kle(e){if(!e.category||!Array.isArray(e.category))return!1;for(let t of e.category)if(Qle(t))return!0;return!1}function Xle(e,t){if(["completed","draft","entered-in-error"].includes(e.status))return!0;let n=e.requisition?.value;return!!(n&&t.has(n))}var Zle="http://",Jle=["active","stopped","on-hold","cancelled","completed","entered-in-error","draft","unknown"];function ece(e){let t=Cr(),{patient:n,encounter:r,medication:a,onSubmit:i}=e,[l,u]=b.useState(a?.medicationCodeableConcept),d=b.useCallback(h=>{if(!t)throw new Error("Not signed in");i($c({...a,resourceType:"MedicationRequest",status:h.status,intent:a?.intent??"order",encounter:a?.encounter??(r&&ke(r)),requester:a?.requester??ke(t),medicationCodeableConcept:l,subject:ke(n)},St+"/fhir/us/core/StructureDefinition/us-core-medicationrequest"))},[t,i,a,r,l,n]);return t?s.jsx(ar,{onSubmit:d,children:s.jsxs(ae,{children:[s.jsx(vi,{name:"request",path:"MedicationRequest.medication[x]","data-autofocus":!0,binding:Zle+"cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1010.4",maxValues:1,defaultValue:a?.medicationCodeableConcept,onChange:h=>u(h),outcome:void 0}),s.jsx(Nn.Group,{name:"status",label:"Request Status",required:!0,defaultValue:a?.status,children:Jle.map(h=>s.jsx(Nn,{value:h,label:h,my:"xs",required:!0},h))}),s.jsx(se,{justify:"flex-end",gap:4,children:s.jsx(Ir,{children:"Save"})})]})}):s.jsx(hl,{color:"red",children:"Not signed in"})}function tce(e){let t=_e(),[n,r]=b.useState(e.medicationRequests),[a,i]=b.useState(),[l,{open:u,close:d}]=qa(!1),h=b.useCallback(async p=>{if(p.id){let m=await t.updateResource(p);r(n.map(g=>g.id===m.id?m:g))}else{let m=await t.createResource(p);r([m,...n])}i(void 0),d()},[t,n,d]);return s.jsxs(s.Fragment,{children:[s.jsx(vl,{title:"Medications",onAdd:()=>{i(void 0),u()},children:n.length>0?s.jsx($e,{direction:"column",gap:8,children:n.map(p=>s.jsx(ll,{onClick:()=>{i(p),u()},children:s.jsxs(te,{children:[s.jsx(W,{fw:500,className:Yo.itemText,children:nr(p)}),s.jsx(se,{mt:2,gap:4,children:p.status&&s.jsx(sl,{color:nce(p.status),variant:"light",status:p.status})})]})},p.id))}):s.jsx(W,{children:"(none)"})}),s.jsx(At,{opened:l,onClose:d,title:a?"Edit Medication":"Add Medication",children:s.jsx(ece,{patient:e.patient,encounter:e.encounter,medication:a,onSubmit:h})})]})}function nce(e){if(!e)return"gray";switch(e){case"active":return"green";case"stopped":return"red";case"on-hold":return"yellow";case"cancelled":return"red";case"completed":return"blue";case"entered-in-error":return"red";case"draft":return"gray";default:return"gray"}}var zu=e=>{let{patient:t,value:n,icon:r,placeholder:a,label:i,onClickResource:l}=e,u=n||a;return s.jsx(ll,{onClick:()=>{l?.(t)},children:s.jsx(te,{className:nv.patientSummaryListItem,children:s.jsx(ba,{label:i,position:"top-start",openDelay:650,children:s.jsxs(se,{gap:"sm",align:"center",ml:6,mr:2,style:{cursor:"pointer",flexWrap:"nowrap",minWidth:0},children:[r,s.jsx(W,{fz:"sm",fw:400,truncate:!0,c:n?"inherit":"var(--mantine-color-gray-6)",children:u})]})})})})};function rce(e){return Pr(e,`${St}/fhir/us/core/StructureDefinition/us-core-genderIdentity`)?.valueCodeableConcept?.coding?.[0]?.display}function ace(e){return Pr(e,`${St}/fhir/us/core/StructureDefinition/us-core-birthsex`)?.valueCode}function M$(e){return Pr(e,`${St}/fhir/us/core/StructureDefinition/us-core-race`)?.extension?.find(t=>t.url==="ombCategory")?.valueCoding?.display}function P$(e){return Pr(e,`${St}/fhir/us/core/StructureDefinition/us-core-ethnicity`)?.extension?.find(t=>t.url==="ombCategory")?.valueCoding?.display}function ice(e){return e.generalPractitioner?.[0]?.display}function oce(e){let t=e.gender?rr(e.gender):"",n=rce(e),r=ace(e),a=[];return t&&a.push(t),n&&a.push(n),r&&a.push(`Born as ${r}`),a.join(" Â· ")}function sce(e){let t=M$(e),n=P$(e),r=[];return t&&r.push(t),n&&r.push(n),r.join(" Â· ")}var lce=e=>{if(!e.communication?.length)return;let t=e.communication?.find(n=>n.preferred===!0);return t?.language?.coding?.[0]?.display?t.language.coding[0].display:e.communication[0]?.language?.coding?.[0]?.display};function cce(e){let{patient:t,encounter:n,condition:r,onSubmit:a}=e,[i,l]=b.useState(r?.code),[u,d]=b.useState(r?.clinicalStatus),h=b.useCallback(p=>{let m=$c({...r,resourceType:"Condition",category:[{coding:[{system:ta+"/CodeSystem/condition-category",code:"problem-list-item",display:"Problem List Item"}],text:"Problem List Item"}],subject:ke(t),encounter:n&&ke(n),code:i,clinicalStatus:u,onsetDateTime:p.onsetDateTime?WR(p.onsetDateTime):void 0},St+"/fhir/us/core/StructureDefinition/us-core-condition-problems-health-concerns");a(m)},[t,n,r,i,u,a]);return s.jsx(ar,{onSubmit:h,children:s.jsxs(ae,{children:[s.jsx(vi,{name:"code",label:"Problem",path:"Condition.code","data-autofocus":!0,binding:St+"/fhir/us/core/ValueSet/us-core-condition-code",defaultValue:r?.code,onChange:p=>l(p),outcome:void 0}),s.jsx(vi,{name:"clinicalStatus",label:"Status",path:"Condition.clinicalStatus",binding:St+"/fhir/ValueSet/condition-clinical",defaultValue:r?.clinicalStatus,onChange:p=>d(p),outcome:void 0}),s.jsx(Ln,{name:"onsetDateTime",label:"Dx Date",defaultValue:r?.onsetDateTime,required:!0}),s.jsx(se,{justify:"flex-end",gap:4,mt:"md",children:s.jsx(Ir,{children:"Save"})})]})},r?.id)}function uce(e){let t=_e(),{patient:n,encounter:r}=e,[a,i]=b.useState(e.problems.filter(g=>g.verificationStatus?.coding?.[0]?.code!=="entered-in-error")),[l,u]=b.useState(),[d,{open:h,close:p}]=qa(!1),m=b.useCallback(async g=>{if(g.id){let y=await t.updateResource(g);i(a.map(S=>S.id===y.id?y:S))}else{let y=await t.createResource(g);i([y,...a])}u(void 0),p()},[t,a,p]);return s.jsxs(s.Fragment,{children:[s.jsx(vl,{title:"Problems",onAdd:()=>{u(void 0),h()},children:a.length>0?s.jsx($e,{direction:"column",gap:8,children:a.map(g=>s.jsx(ll,{onClick:()=>{u(g),h()},children:s.jsxs(te,{children:[s.jsx(W,{fw:500,className:Yo.itemText,children:nr(g)}),s.jsxs(se,{mt:2,gap:4,children:[g.clinicalStatus?.coding?.[0]?.code&&s.jsx(sl,{"data-testid":"status-badge",color:dce(g.clinicalStatus?.coding?.[0]?.code),variant:"light",status:g.clinicalStatus?.coding?.[0]?.code}),s.jsx(W,{size:"xs",fw:500,c:"dimmed",children:bn(g.onsetDateTime)})]})]})},g.id))}):s.jsx(W,{children:"(none)"})}),s.jsx(At,{opened:d,onClose:p,title:l?"Edit Problem":"Add Problem",children:s.jsx(cce,{patient:n,encounter:r,condition:l,onSubmit:m})})]})}var dce=e=>{if(!e)return"gray";switch(e){case"active":case"recurrence":case"relapse":return"green";case"inactive":return"orange";case"remission":return"blue";case"resolved":return"teal";default:return"gray"}},eS=ta+"/CodeSystem/v3-NullFlavor",vP={38628009:"Homosexual",20430005:"Heterosexual",42035005:"Bisexual",OTH:"Other",UNK:"Unknown",ASKU:"Asked but no answer"},fce={38628009:Qs,20430005:Qs,42035005:Qs,OTH:eS,UNK:eS,ASKU:eS};function hce(e){let{patient:t,encounter:n}=e,r=_e(),[a,i]=b.useState(e.sexualOrientation),[l,{open:u,close:d}]=qa(!1),[h,p]=b.useState(null),m=b.useCallback(g=>{let y=g.sexualOrientation;r.createResource({resourceType:"Observation",meta:{profile:[St+"/fhir/us/core/ValueSet/us-core-sexual-orientation"]},status:"final",category:[{coding:[{system:ta+"/CodeSystem/observation-category",code:"social-history",display:"Social History"}],text:"Social History"}],code:{coding:[{system:Go,code:"76690-7",display:"Sexual orientation"}],text:"Sexual orientation"},subject:ke(t),encounter:n?ke(n):void 0,effectiveDateTime:new Date().toISOString(),valueCodeableConcept:{coding:[{system:fce[y],code:g.sexualOrientation}],text:vP[y]}}).then(S=>{i(S),d()}).catch(console.error)},[r,t,n,d]);return s.jsxs(s.Fragment,{children:[s.jsx(vl,{title:"Sexual Orientation",onAdd:()=>{u()},children:a?s.jsx($e,{direction:"column",gap:8,children:s.jsx(te,{onMouseEnter:()=>p(0),onMouseLeave:()=>p(null),children:s.jsx(Wn,{"data-testid":"sexual-orientation-button",onClick:g=>{xa(g),e.onClickResource&&e.onClickResource(a)},children:s.jsx(te,{pr:h===0?24:0,children:s.jsx(W,{size:"sm",fw:500,children:a.valueCodeableConcept?.text??"Unknown"})})})})}):s.jsx(W,{children:"(none)"})}),s.jsx(At,{opened:l,onClose:d,title:"Set Sexual Orientation",children:s.jsx(ar,{onSubmit:m,children:s.jsxs(ae,{children:[s.jsx(Nn.Group,{name:"sexualOrientation",label:"Sexual Orientation",required:!0,children:Object.entries(vP).map(([g,y])=>s.jsx(Nn,{value:g,label:y,my:"xs"},g))}),s.jsx(se,{justify:"flex-end",gap:4,mt:"md",children:s.jsx(Ir,{children:"Save"})})]})})})]})}var yP={266919005:"Never smoked tobacco",266927001:"Tobacco smoking consumption unknown","428041000124106":"Occasional tobacco smoker","428061000124105":"Light tobacco smoker","428071000124103":"Heavy tobacco smoker",449868002:"Smokes tobacco daily",77176002:"Smoker",8517006:"Ex-smoker"};function pce(e){let t=_e(),[n,r]=b.useState(e.smokingStatus),[a,{open:i,close:l}]=qa(!1),u=b.useCallback(d=>{t.createResource({resourceType:"Observation",meta:{profile:[St+"/fhir/us/core/StructureDefinition/us-core-smokingstatus"]},status:"final",category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/observation-category",code:"social-history",display:"Social History"}],text:"Social History"}],code:{coding:[{system:Go,code:"72166-2",display:"Tobacco smoking status"}],text:"Tobacco smoking status"},subject:ke(e.patient),encounter:e.encounter?ke(e.encounter):void 0,effectiveDateTime:new Date().toISOString(),valueCodeableConcept:{coding:[{system:Qs,version:Qs+"/731000124108",code:d.smokingStatus}],text:yP[d.smokingStatus]}}).then(h=>{r(h),l()}).catch(console.error)},[t,e.patient,e.encounter,l]);return s.jsxs(s.Fragment,{children:[s.jsx(vl,{title:"Smoking Status",onAdd:()=>{i()},children:n?.valueCodeableConcept?s.jsx(Wn,{"data-testid":"smoking-status-button",onClick:()=>e.onClickResource?.(n),children:s.jsx(W,{children:rl(n.valueCodeableConcept)})}):s.jsx(W,{children:"(none)"})}),s.jsx(At,{opened:a,onClose:l,title:"Set Smoking Status",children:s.jsx(ar,{onSubmit:u,children:s.jsxs(ae,{children:[s.jsx(Nn.Group,{name:"smokingStatus",label:"Smoking Status",required:!0,children:Object.entries(yP).map(([d,h])=>s.jsx(Nn,{value:d,label:h,my:"xs"},d))}),s.jsx(se,{justify:"flex-end",gap:4,mt:"md",children:s.jsx(Ir,{children:"Save"})})]})})})]})}function mce(e,t){return t?e.component?.find(n=>n.code?.coding?.[0].code===t)?.valueQuantity:e.valueQuantity}function gce(e,t,n,r,a){if(I$(a.value))return{...N$(e,t,n,r),valueQuantity:a}}function vce(e,t,n,r,a){let i=a.filter(l=>I$(l.valueQuantity?.value));if(i.length!==0)return{...N$(e,t,n,r),component:i}}function N$(e,t,n,r){return{resourceType:"Observation",status:"preliminary",subject:ke(e),encounter:t?ke(t):void 0,effectiveDateTime:new Date().toISOString(),category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/observation-category",code:"vital-signs",display:"Vital Signs"}]}],code:Aj(n,r)}}function Aj(e,t){return{coding:[{code:e,display:t,system:Go}],text:t}}function tS(e,t){return{value:e,system:zZ,unit:t,code:t}}function I$(e){return e!==void 0&&!Number.isNaN(e)&&Number.isFinite(e)}var Oj="85354-9",L$="8480-6",z$="8462-4",nS=[{name:"systolic",short:"BP Sys",code:Oj,component:L$,title:"Blood Pressure",unit:"mm[Hg]"},{name:"diastolic",short:"BP Dias",code:Oj,component:z$,title:"Blood Pressure",unit:"mm[Hg]"},{name:"heartRate",short:"HR",code:"8867-4",title:"Heart Rate",unit:"/min"},{name:"bodyTemperature",short:"Temp",code:"8310-5",title:"Body Temperature",unit:"Cel"},{name:"respiratoryRate",short:"RR",code:"9279-1",title:"Respiratory Rate",unit:"/min"},{name:"height",short:"Ht",code:"8302-2",title:"Height",unit:"cm"},{name:"weight",short:"Wt",code:"29463-7",title:"Weight",unit:"kg"},{name:"bmi",short:"BMI",code:"39156-5",title:"BMI",unit:"kg/m2"},{name:"oxygen",short:"O2",code:"2708-6",title:"Oxygen",unit:"%"},{name:"headCircumference",short:"HC",code:"9843-4",title:"Head Circumference",unit:"cm"}];function yce(e){let t=_e(),{patient:n,encounter:r}=e,[a,i]=b.useState(e.vitals),[l,{open:u,close:d}]=qa(!1),h=b.useCallback(p=>{let m=[];m.push(vce(n,r,Oj,"Blood pressure",[{code:Aj(L$,"Systolic blood pressure"),valueQuantity:tS(Number.parseFloat(p.systolic),"mm[Hg]")},{code:Aj(z$,"Diastolic blood pressure"),valueQuantity:tS(Number.parseFloat(p.diastolic),"mm[Hg]")}]));for(let g of nS)g.component||m.push(gce(n,r,g.code,g.title,tS(Number.parseFloat(p[g.name]),g.unit)));Promise.all(m.filter(Boolean).map(g=>t.createResource(g))).then(g=>i([...g,...a])).catch(console.error),d()},[t,n,r,a,d]);return s.jsxs(s.Fragment,{children:[s.jsx(vl,{title:"Vitals",onAdd:()=>{u()},children:s.jsx(ae,{children:nS.map(p=>{let m=a.find(g=>g.code?.coding?.[0].code===p.code);return s.jsxs(se,{align:"center",children:[s.jsx(W,{c:"dimmed",children:p.short}),m&&s.jsx(W,{children:oo(mce(m,p.component))})]},p.name)})})}),s.jsx(At,{opened:l,onClose:d,title:"Add Vitals",children:s.jsxs(ar,{onSubmit:h,children:[s.jsx(BT,{cols:2,children:nS.map((p,m)=>s.jsx(tt,{name:p.name,label:p.short,description:`${p.title} (${p.unit})`,"data-autofocus":m===0,autoFocus:m===0},p.name))}),s.jsx(ja,{name:"notes",label:"Notes"}),s.jsx(se,{justify:"flex-end",gap:4,mt:"md",children:s.jsx(Ir,{children:"Save"})})]})})]})}function My(e){let t=_e(),{patient:n,onClickResource:r,onRequestLabs:a}=e,i=Dt(n),[l,u]=b.useState(),[d,h]=b.useState();b.useEffect(()=>{let m=`Patient/${sd(n)}`,g={_count:100,_sort:"-_lastUpdated"};Promise.all([t.searchResources("AllergyIntolerance",{patient:m,...g}),t.searchResources("Condition",{patient:m,...g}),t.searchResources("MedicationRequest",{subject:m,...g}),t.searchResources("Observation",{subject:m,...g}),t.searchResources("Appointment",{patient:m,...g}),t.searchResources("Encounter",{subject:m,...g}),t.searchResources("Coverage",{beneficiary:m,...g}),t.searchResources("Immunization",{patient:m,...g}),t.searchResources("Procedure",{subject:m,...g}),t.searchResources("Device",{patient:m,...g}),t.searchResources("Goal",{subject:m,...g}),t.searchResources("ServiceRequest",{subject:m,...g}),t.searchResources("DiagnosticReport",{subject:m,...g})]).then(y=>{let S=y[3];u({allergies:y[0],problems:y[1],medicationRequests:y[2],sexualOrientation:S.find(x=>x.code?.coding?.[0].code==="76690-7"),smokingStatus:S.find(x=>x.code?.coding?.[0].code==="72166-2"),vitals:S.filter(x=>x.category?.[0]?.coding?.[0].code==="vital-signs"),appointments:y[4],encounters:y[5],coverages:y[6],immunizations:y[7],procedures:y[8],devices:y[9],goals:y[10],serviceRequests:y[11],diagnosticReports:y[12]})}).catch(console.error)},[t,n]),b.useEffect(()=>{i?.id&&t.readHistory("Patient",i.id).then(m=>{let g=m.entry?.[m.entry.length-1]?.resource?.meta?.lastUpdated;h(typeof g=="string"?g:"")}).catch(()=>{})},[i?.id,t]);let p=i?lce(i):void 0;return i?s.jsxs($e,{direction:"column",gap:"xs",w:"100%",h:"100%",className:nv.panel,children:[s.jsxs(ll,{onClick:()=>{r?.(i)},children:[s.jsxs(se,{align:"center",gap:"sm",p:16,children:[s.jsx(wa,{value:i,size:48,radius:48,style:{border:"2px solid white"}}),s.jsxs(ae,{gap:0,style:{flex:1,minWidth:0},children:[s.jsx(ba,{label:Gn(i.name?.[0]),position:"top-start",openDelay:650,children:s.jsx(W,{fz:"h4",fw:800,truncate:!0,style:{minWidth:0},children:Gn(i.name?.[0])})}),(()=>{let m=typeof d=="string"&&d.length>0?d:void 0;if(!m)return null;let g=new Date(m);return s.jsxs(W,{fz:"xs",mt:-2,fw:500,c:"gray.6",truncate:!0,style:{minWidth:0},children:["Patient since ",g.getMonth()+1,"/",g.getDate(),"/",g.getFullYear()]})})()]})]}),s.jsx(st,{})]}),s.jsx(ae,{gap:"xs",px:16,pt:12,pb:16,style:{flex:2,overflowY:"auto",minHeight:0},children:l&&s.jsxs(s.Fragment,{children:[s.jsxs(ae,{gap:"xs",py:8,children:[s.jsx(zu,{patient:i,value:i.birthDate?`${i.birthDate} (${vJ(i.birthDate)})`:void 0,icon:s.jsx(Sre,{size:16,stroke:2,color:"var(--mantine-color-gray-6)"}),placeholder:"Add Birthdate",label:"Birthdate & Age",onClickResource:r}),s.jsx(zu,{patient:i,value:i.gender?oce(i):void 0,icon:s.jsx(Bre,{size:16,stroke:2,color:"var(--mantine-color-gray-6)"}),placeholder:"Add Gender & Identity",label:"Gender & Identity",onClickResource:r}),s.jsx(zu,{patient:i,value:M$(i)||P$(i)?sce(i):void 0,icon:s.jsx(ire,{size:16,stroke:2,color:"var(--mantine-color-gray-6)"}),placeholder:"Add Race & Ethnicity",label:"Race & Ethnicity",onClickResource:r}),s.jsx(zu,{patient:i,value:i.address?.[0]?fR(i.address[0]):void 0,icon:s.jsx(sae,{size:16,stroke:2,color:"var(--mantine-color-gray-6)"}),placeholder:"Add Location",label:"Location",onClickResource:r}),s.jsx(zu,{patient:i,value:p,icon:s.jsx(tae,{size:16,stroke:2,color:"var(--mantine-color-gray-6)"}),placeholder:"Add Language",label:"Language",onClickResource:r}),s.jsx(zu,{patient:i,value:ice(i),icon:s.jsx(Cae,{size:16,stroke:2,color:"var(--mantine-color-gray-6)"}),placeholder:"Add General Practitioner",label:"General Practitioner",onClickResource:r})]}),s.jsx(st,{}),s.jsx(Wle,{coverages:l.coverages||[],onClickResource:r}),s.jsx(st,{}),s.jsx(Hle,{patient:i,allergies:l.allergies,onClickResource:r}),s.jsx(st,{}),s.jsx(uce,{patient:i,problems:l.problems,onClickResource:r}),s.jsx(st,{}),s.jsx(tce,{patient:i,medicationRequests:l.medicationRequests,onClickResource:r}),s.jsx(st,{}),s.jsx(Yle,{patient:i,serviceRequests:l.serviceRequests,diagnosticReports:l.diagnosticReports,onClickResource:r,onRequestLabs:a}),s.jsx(st,{}),s.jsx(hce,{patient:i,sexualOrientation:l.sexualOrientation,onClickResource:r}),s.jsx(st,{}),s.jsx(pce,{patient:i,smokingStatus:l.smokingStatus,onClickResource:r}),s.jsx(st,{}),s.jsx(yce,{patient:i,vitals:l.vitals,onClickResource:r}),s.jsx(st,{})]})})]}):null}function bce(e){let{patient:t,...n}=e,r=b.useCallback((a,i,l)=>{let u=`${i}/${l}`,d=100;return Promise.allSettled([a.readHistory("Patient",l),a.search("Communication",{subject:u,_count:d}),a.search("Device",{patient:u,_count:d}),a.search("DeviceRequest",{patient:u,_count:d}),a.search("DiagnosticReport",{subject:u,_count:d}),a.search("Media",{subject:u,_count:d}),a.search("ServiceRequest",{subject:u,_count:d}),a.search("Task",{subject:u,_count:d})])},[]);return s.jsx(T$,{value:t,loadTimelineResources:r,createCommunication:(a,i,l)=>({resourceType:"Communication",status:"completed",subject:ke(a),sender:ke(i),sent:new Date().toISOString(),payload:[{contentString:l}]}),createMedia:(a,i,l)=>({resourceType:"Media",status:"completed",subject:ke(a),operator:ke(i),issued:new Date().toISOString(),content:l}),...n})}var sc=30,rv=50;function kj(e){let t=e.formState,n=e.item,r=e.responseItem;function a(m){t&&e.context&&t.onChangeAnswer(e.context,e.item,m)}let i=n.type;if(!i)return null;let l=n.linkId;if(!l)return null;let u;n.initial&&n.initial.length>0?u=n.initial[0]:n.answerOption&&n.answerOption.length>0&&(u=n.answerOption.find(m=>m.initialSelected));let d=r_(r,e.index)??_R(u),h=Pr(r,`${St}/fhir/StructureDefinition/questionnaire-validationError`),p=null;switch(i){case Pt.display:p=s.jsx("p",{children:e.item.text},e.item.linkId);break;case Pt.boolean:p=s.jsx(v$,{title:e.item.text,htmlFor:e.item.linkId,children:s.jsx(mi,{id:e.item.linkId,name:e.item.linkId,required:e.required??n.required,defaultChecked:d?.value,onChange:m=>a([{valueBoolean:m.currentTarget.checked}])})},e.item.linkId);break;case Pt.decimal:p=s.jsx(tt,{type:"number",step:"any",id:l,name:l,required:e.required??n.required,defaultValue:d?.value,onChange:m=>a(m.currentTarget.value===""?[]:[{valueDecimal:m.currentTarget.valueAsNumber}])});break;case Pt.integer:p=s.jsx(tt,{type:"number",step:1,id:l,name:l,required:e.required??n.required,defaultValue:d?.value,onChange:m=>a(m.currentTarget.value===""?[]:[{valueInteger:m.currentTarget.valueAsNumber}])});break;case Pt.date:p=s.jsx(tt,{type:"date",id:l,name:l,required:e.required??n.required,defaultValue:d?.value,onChange:m=>a([{valueDate:m.currentTarget.value}])});break;case Pt.dateTime:p=s.jsx(Ln,{name:l,required:e.required??n.required,defaultValue:d?.value,onChange:m=>a([{valueDateTime:m}])});break;case Pt.time:p=s.jsx(tt,{type:"time",id:l,name:l,required:e.required??n.required,defaultValue:d?.value,onChange:m=>a([{valueTime:m.currentTarget.value}])});break;case Pt.string:case Pt.url:p=s.jsx(tt,{id:l,name:l,required:e.required??n.required,defaultValue:d?.value,onChange:m=>{let g=m.currentTarget.value;a(g===""?[]:[{valueString:g}])}});break;case Pt.text:p=s.jsx(ja,{id:l,name:l,required:e.required??n.required,defaultValue:d?.value,onChange:m=>{let g=m.currentTarget.value;a(g===""?[]:[{valueString:g}])}});break;case Pt.attachment:p=s.jsx(se,{py:4,children:s.jsx(l$,{path:"",name:l,defaultValue:d?.value,onChange:m=>a([{valueAttachment:m}])})});break;case Pt.reference:p=s.jsx(Sc,{name:l,required:e.required??n.required,targetTypes:Tne(n),searchCriteria:Rne(n,t?.subject,t?.encounter),defaultValue:d?.value,onChange:m=>a([{valueReference:m}])});break;case Pt.quantity:p=s.jsx(xc,{path:"",name:l,required:e.required??n.required,defaultValue:d?.value,onChange:m=>a([{valueQuantity:m}]),disableWheel:!0});break;case Pt.choice:case Pt.openChoice:Tce(n)?p=s.jsx(Cce,{name:l,item:n,required:e.required??n.required,initial:u,response:r,onChangeAnswer:m=>a(m)}):Ece(n)||n.answerValueSet&&!Rce(n)?p=s.jsx(xce,{name:l,item:n,required:e.required??n.required,initial:u,response:r,onChangeAnswer:m=>a(m)}):p=s.jsx(wce,{name:l,item:n,required:e.required??n.required,initial:u,response:r,onChangeAnswer:m=>a(m)});break;default:return null}return s.jsxs(s.Fragment,{children:[p,h?.valueString&&s.jsx(W,{c:"red",size:"lg",mt:4,children:h.valueString})]})}function xce(e){let{name:t,item:n,required:r,initial:a,onChangeAnswer:i,response:l}=e;if(!n.answerOption?.length&&!n.answerValueSet)return s.jsx(n_,{});let u=_R(a),d=r_(l)??u,h=U$(l),p=n.repeats||_ce(n);if(n.answerValueSet)return s.jsx(bc,{name:t,placeholder:"Select items",binding:n.answerValueSet,maxValues:p?void 0:1,required:r,onChange:m=>{p?m.length===0?i([{}]):i(m.map(g=>({valueCoding:g}))):i([{valueCoding:m[0]}])},defaultValue:d?.value});if(p){let{propertyName:m,data:g}=Dce(n);return s.jsx(ay,{data:g,placeholder:"Select items",searchable:!0,defaultValue:h||[mc(u)],required:r,onChange:y=>{if(y.length===0)i([{}]);else{let S=Oz(y,m,n);i(S)}}})}else{let m=[""];if(n.answerOption)for(let g of n.answerOption){let y=xo(g);m.push(mc(y))}return s.jsx(Wr,{id:t,name:t,required:r,onChange:g=>{let y=g.currentTarget.selectedIndex;if(y===0){i([{}]);return}let S=n.answerOption[y-1],x=xo(S),C="value"+rr(x.type);i([{[C]:x.value}])},defaultValue:gc(d?.value)||d?.value,data:m})}}function Sce(e,t){return e?t.valueSetExpand({url:e,count:sc+1}).then(n=>n.expansion?.contains??[]):Promise.resolve([])}function $$(e){let t=_e(),[n,r]=b.useState([]),[a,i]=b.useState(!1);return b.useEffect(()=>{async function l(){if(e){i(!0);try{let u=await Sce(e,t);r(u)}catch(u){console.error("Error loading value set:",u)}finally{i(!1)}}}l().catch(console.error)},[e,t]),[n,a]}function q$(e,t){return e.map((n,r)=>{let a=`${t}-valueset-${r}`,i={type:"Coding",value:{system:n.system,code:n.code,display:n.display}};return[a,i]})}function wce(e){let{name:t,item:n,required:r,initial:a,onChangeAnswer:i,response:l}=e,u=Qh("QuestionnaireItemAnswerOption","value[x]"),d=_R(a),[h,p]=$$(n.answerValueSet),m=[],g;if(n.answerValueSet)m.push(...q$(h,t));else if(n.answerOption){let C=n.answerOption.slice(0,rv).map((E,j)=>{let R=`${t}-option-${j}`,_=xo(E);return _?.value?(d&&ld(_)===ld(d)&&(g=R),[R,_]):null}).filter(E=>E!==null);m.push(...C)}let y=r_(l),S=jce(m,y);if(p)return s.jsx(W,{children:"Loading options..."});if(m.length===0)return s.jsx(n_,{});let x=m.slice(0,sc);return s.jsxs(s.Fragment,{children:[s.jsx(Nn.Group,{name:t,value:S??g,required:r,onChange:C=>{let E=m.find(j=>j[0]===C);if(E){let j=E[1],R="value"+rr(j.type);i([{[R]:j.value}])}},children:x.map(([C,E])=>s.jsx(Nn,{id:C,value:C,py:4,required:r,label:s.jsx(Vi,{property:u,propertyType:E.type,value:E.value})},C))}),(n.answerValueSet&&m.length>sc||n.answerOption&&m.length>rv)&&s.jsxs(W,{size:"sm",c:"dimmed",mt:"xs",children:["Showing first ",sc," options"]})]})}function Cce(e){let{name:t,item:n,onChangeAnswer:r,response:a}=e,i=Qh("QuestionnaireItemAnswerOption","value[x]"),[l,u]=$$(n.answerValueSet),d=n.answerValueSet?(a?.answer?.map(S=>S.valueCoding)||[]).filter(S=>S!==void 0):U$(a),[h,p]=b.useState(d),m=[];if(n.answerValueSet)m.push(...q$(l,t));else if(n.answerOption){let S=n.answerOption.slice(0,rv).map((x,C)=>{let E=`${t}-option-${C}`,j=xo(x);return j?.value?[E,j]:null}).filter(x=>x!==null);m.push(...S)}if(u)return s.jsx(W,{children:"Loading options..."});if(m.length===0)return s.jsx(n_,{});let g=m.slice(0,sc),y=(S,x)=>{if(n.answerValueSet){let C=h,E;x?E=[...C,S.value]:E=C.filter(j=>!gi(j,S.value)),p(E),E.length===0?r([{}]):r(E.map(j=>({valueCoding:j})))}else{let C=h,E=mc(S),j;if(x?j=[...C,E]:j=C.filter(R=>R!==E),p(j),j.length===0)r([{}]);else{let R=Oz(j,"value"+rr(S.type),n);r(R)}}};return s.jsxs(se,{style:{flexDirection:"column",alignItems:"flex-start"},children:[g.map(([S,x])=>{let C=mc(x),E=n.answerValueSet?h.some(j=>gi(j,x.value)):h.includes(C);return s.jsx(mi,{id:S,label:s.jsx(Vi,{property:i,propertyType:x.type,value:x.value}),checked:E,onChange:j=>y(x,j.currentTarget.checked)},S)}),(n.answerValueSet&&m.length>sc||n.answerOption&&m.length>rv)&&s.jsxs(W,{size:"sm",c:"dimmed",children:["Showing first ",sc," options"]})]})}function n_(){return s.jsx(tt,{disabled:!0,placeholder:"No Answers Defined"})}function r_(e,t=0){return xo(e?.answer?.[t]??{})}function U$(e){let t=e?.answer;return t?t.map(n=>xo(n)).map(n=>gc(n?.value)||n?.value).filter(Boolean):[]}function jce(e,t){return e.find(n=>gi(n[1].value,t?.value))?.[0]}function Py(e,t){return!!e.extension?.some(n=>n.url===Dz&&n.valueCodeableConcept?.coding?.[0]?.code===t)}function Ece(e){return Py(e,"drop-down")}function Tce(e){return Py(e,"check-box")}function Rce(e){return Py(e,"radio-button")}function _ce(e){return Py(e,"multi-select")}function Dce(e){if(e.answerOption?.length===0)return{propertyName:"",data:[]};let t=e.answerOption[0],n=xo(t),r="value"+rr(n.type),a=(e.answerOption??[]).map(i=>{let l=xo(i),u=mc(l);return{value:u,label:u}});return{propertyName:r,data:a}}var av=class{constructor(e,t,n,r){if(tn(this,"x"),tn(this,"y"),tn(this,"pressure"),tn(this,"time"),isNaN(e)||isNaN(t))throw new Error(`Point is invalid: (${e}, ${t})`);this.x=+e,this.y=+t,this.pressure=n||0,this.time=r||Date.now()}distanceTo(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}equals(e){return this.x===e.x&&this.y===e.y&&this.pressure===e.pressure&&this.time===e.time}velocityFrom(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):0}},Ace=class B${constructor(t,n,r,a,i,l){this.startPoint=t,this.control2=n,this.control1=r,this.endPoint=a,this.startWidth=i,this.endWidth=l}static fromPoints(t,n){let r=this.calculateControlPoints(t[0],t[1],t[2]).c2,a=this.calculateControlPoints(t[1],t[2],t[3]).c1;return new B$(t[1],r,a,t[2],n.start,n.end)}static calculateControlPoints(t,n,r){let a=t.x-n.x,i=t.y-n.y,l=n.x-r.x,u=n.y-r.y,d={x:(t.x+n.x)/2,y:(t.y+n.y)/2},h={x:(n.x+r.x)/2,y:(n.y+r.y)/2},p=Math.sqrt(a*a+i*i),m=Math.sqrt(l*l+u*u),g=d.x-h.x,y=d.y-h.y,S=p+m==0?0:m/(p+m),x={x:h.x+g*S,y:h.y+y*S},C=n.x-x.x,E=n.y-x.y;return{c1:new av(d.x+C,d.y+E),c2:new av(h.x+C,h.y+E)}}length(){let t=0,n,r;for(let a=0;a<=10;a+=1){let i=a/10,l=this.point(i,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),u=this.point(i,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(a>0){let d=l-n,h=u-r;t+=Math.sqrt(d*d+h*h)}n=l,r=u}return t}point(t,n,r,a,i){return n*(1-t)*(1-t)*(1-t)+3*r*(1-t)*(1-t)*t+3*a*(1-t)*t*t+i*t*t*t}},Oce=class{constructor(){tn(this,"_et");try{this._et=new EventTarget}catch{this._et=document}}addEventListener(e,t,n){this._et.addEventListener(e,t,n)}dispatchEvent(e){return this._et.dispatchEvent(e)}removeEventListener(e,t,n){this._et.removeEventListener(e,t,n)}};function kce(e,t=250){let n=0,r=null,a,i,l,u=()=>{n=Date.now(),r=null,a=e.apply(i,l),r||(i=null,l=[])};return function(...d){let h=Date.now(),p=t-(h-n);return i=this,l=d,p<=0||p>t?(r&&(clearTimeout(r),r=null),n=h,a=e.apply(i,l),r||(i=null,l=[])):r||(r=window.setTimeout(u,p)),a}}var Mce=class Mj extends Oce{constructor(t,n={}){super(),tn(this,"dotSize"),tn(this,"minWidth"),tn(this,"maxWidth"),tn(this,"penColor"),tn(this,"minDistance"),tn(this,"velocityFilterWeight"),tn(this,"compositeOperation"),tn(this,"backgroundColor"),tn(this,"throttle"),tn(this,"canvasContextOptions"),tn(this,"_ctx"),tn(this,"_drawingStroke",!1),tn(this,"_isEmpty",!0),tn(this,"_dataUrl"),tn(this,"_dataUrlOptions"),tn(this,"_lastPoints",[]),tn(this,"_data",[]),tn(this,"_lastVelocity",0),tn(this,"_lastWidth",0),tn(this,"_strokeMoveUpdate"),tn(this,"_strokePointerId"),this.canvas=t,this.velocityFilterWeight=n.velocityFilterWeight||.7,this.minWidth=n.minWidth||.5,this.maxWidth=n.maxWidth||2.5,this.throttle=n.throttle??16,this.minDistance=n.minDistance??5,this.dotSize=n.dotSize||0,this.penColor=n.penColor||"black",this.backgroundColor=n.backgroundColor||"rgba(0,0,0,0)",this.compositeOperation=n.compositeOperation||"source-over",this.canvasContextOptions=n.canvasContextOptions??{},this._strokeMoveUpdate=this.throttle?kce(Mj.prototype._strokeUpdate,this.throttle):Mj.prototype._strokeUpdate,this._handleMouseDown=this._handleMouseDown.bind(this),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this._handleTouchStart=this._handleTouchStart.bind(this),this._handleTouchMove=this._handleTouchMove.bind(this),this._handleTouchEnd=this._handleTouchEnd.bind(this),this._handlePointerDown=this._handlePointerDown.bind(this),this._handlePointerMove=this._handlePointerMove.bind(this),this._handlePointerUp=this._handlePointerUp.bind(this),this._handlePointerCancel=this._handlePointerCancel.bind(this),this._handleTouchCancel=this._handleTouchCancel.bind(this),this._ctx=t.getContext("2d",this.canvasContextOptions),this.clear(),this.on()}clear(){let{_ctx:t,canvas:n}=this;t.fillStyle=this.backgroundColor,t.clearRect(0,0,n.width,n.height),t.fillRect(0,0,n.width,n.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0,this._dataUrl=void 0,this._dataUrlOptions=void 0,this._strokePointerId=void 0}redraw(){let t=this._data,n=this._dataUrl,r=this._dataUrlOptions;this.clear(),n&&this.fromDataURL(n,r),this.fromData(t,{clear:!1})}fromDataURL(t,n={}){return new Promise((r,a)=>{let i=new Image,l=n.ratio||window.devicePixelRatio||1,u=n.width||this.canvas.width/l,d=n.height||this.canvas.height/l,h=n.xOffset||0,p=n.yOffset||0;this._reset(this._getPointGroupOptions()),i.onload=()=>{this._ctx.drawImage(i,h,p,u,d),r()},i.onerror=m=>{a(m)},i.crossOrigin="anonymous",i.src=t,this._isEmpty=!1,this._dataUrl=t,this._dataUrlOptions={...n}})}toDataURL(t="image/png",n){switch(t){case"image/svg+xml":return typeof n!="object"&&(n=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(n))}`;default:return typeof n!="number"&&(n=void 0),this.canvas.toDataURL(t,n)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none",this.canvas.style.webkitUserSelect="none";let t=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!t?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.style.webkitUserSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerDown),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this._removeMoveUpEventListeners()}_getListenerFunctions(){let t=window.document===this.canvas.ownerDocument?window:this.canvas.ownerDocument.defaultView??this.canvas.ownerDocument;return{addEventListener:t.addEventListener.bind(t),removeEventListener:t.removeEventListener.bind(t)}}_removeMoveUpEventListeners(){let{removeEventListener:t}=this._getListenerFunctions();t("pointermove",this._handlePointerMove),t("pointerup",this._handlePointerUp),t("pointercancel",this._handlePointerCancel),t("mousemove",this._handleMouseMove),t("mouseup",this._handleMouseUp),t("touchmove",this._handleTouchMove),t("touchend",this._handleTouchEnd),t("touchcancel",this._handleTouchCancel)}isEmpty(){return this._isEmpty}fromData(t,{clear:n=!0}={}){n&&this.clear(),this._fromData(t,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(t)}toData(){return this._data}_isLeftButtonPressed(t,n){return n?t.buttons===1:(t.buttons&1)===1}_pointerEventToSignatureEvent(t){return{event:t,type:t.type,x:t.clientX,y:t.clientY,pressure:"pressure"in t?t.pressure:0}}_touchEventToSignatureEvent(t){let n=t.changedTouches[0];return{event:t,type:t.type,x:n.clientX,y:n.clientY,pressure:n.force}}_handleMouseDown(t){!this._isLeftButtonPressed(t,!0)||this._drawingStroke||this._strokeBegin(this._pointerEventToSignatureEvent(t))}_handleMouseMove(t){if(!this._isLeftButtonPressed(t,!0)||!this._drawingStroke){this._strokeEnd(this._pointerEventToSignatureEvent(t),!1);return}this._strokeMoveUpdate(this._pointerEventToSignatureEvent(t))}_handleMouseUp(t){this._isLeftButtonPressed(t)||this._strokeEnd(this._pointerEventToSignatureEvent(t))}_handleTouchStart(t){t.targetTouches.length!==1||this._drawingStroke||(t.cancelable&&t.preventDefault(),this._strokeBegin(this._touchEventToSignatureEvent(t)))}_handleTouchMove(t){if(t.targetTouches.length===1){if(t.cancelable&&t.preventDefault(),!this._drawingStroke){this._strokeEnd(this._touchEventToSignatureEvent(t),!1);return}this._strokeMoveUpdate(this._touchEventToSignatureEvent(t))}}_handleTouchEnd(t){t.targetTouches.length===0&&(t.cancelable&&t.preventDefault(),this._strokeEnd(this._touchEventToSignatureEvent(t)))}_handlePointerCancel(t){this._allowPointerId(t)&&(t.preventDefault(),this._strokeEnd(this._pointerEventToSignatureEvent(t),!1))}_handleTouchCancel(t){t.cancelable&&t.preventDefault(),this._strokeEnd(this._touchEventToSignatureEvent(t),!1)}_getPointerId(t){return t.persistentDeviceId||t.pointerId}_allowPointerId(t,n=!1){return typeof this._strokePointerId>"u"?n:this._getPointerId(t)===this._strokePointerId}_handlePointerDown(t){this._drawingStroke||!this._isLeftButtonPressed(t)||!this._allowPointerId(t,!0)||(this._strokePointerId=this._getPointerId(t),t.preventDefault(),this._strokeBegin(this._pointerEventToSignatureEvent(t)))}_handlePointerMove(t){if(this._allowPointerId(t)){if(!this._isLeftButtonPressed(t,!0)||!this._drawingStroke){this._strokeEnd(this._pointerEventToSignatureEvent(t),!1);return}t.preventDefault(),this._strokeMoveUpdate(this._pointerEventToSignatureEvent(t))}}_handlePointerUp(t){this._isLeftButtonPressed(t)||!this._allowPointerId(t)||(t.preventDefault(),this._strokeEnd(this._pointerEventToSignatureEvent(t)))}_getPointGroupOptions(t){return{penColor:t&&"penColor"in t?t.penColor:this.penColor,dotSize:t&&"dotSize"in t?t.dotSize:this.dotSize,minWidth:t&&"minWidth"in t?t.minWidth:this.minWidth,maxWidth:t&&"maxWidth"in t?t.maxWidth:this.maxWidth,velocityFilterWeight:t&&"velocityFilterWeight"in t?t.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:t&&"compositeOperation"in t?t.compositeOperation:this.compositeOperation}}_strokeBegin(t){if(!this.dispatchEvent(new CustomEvent("beginStroke",{detail:t,cancelable:!0})))return;let{addEventListener:n}=this._getListenerFunctions();switch(t.event.type){case"mousedown":n("mousemove",this._handleMouseMove,{passive:!1}),n("mouseup",this._handleMouseUp,{passive:!1});break;case"touchstart":n("touchmove",this._handleTouchMove,{passive:!1}),n("touchend",this._handleTouchEnd,{passive:!1}),n("touchcancel",this._handleTouchCancel,{passive:!1});break;case"pointerdown":n("pointermove",this._handlePointerMove,{passive:!1}),n("pointerup",this._handlePointerUp,{passive:!1}),n("pointercancel",this._handlePointerCancel,{passive:!1});break}this._drawingStroke=!0;let r=this._getPointGroupOptions(),a={...r,points:[]};this._data.push(a),this._reset(r),this._strokeUpdate(t)}_strokeUpdate(t){if(!this._drawingStroke)return;if(this._data.length===0){this._strokeBegin(t);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:t}));let n=this._createPoint(t.x,t.y,t.pressure),r=this._data[this._data.length-1],a=r.points,i=a.length>0&&a[a.length-1],l=i?n.distanceTo(i)<=this.minDistance:!1,u=this._getPointGroupOptions(r);if(!i||!(i&&l)){let d=this._addPoint(n,u);i?d&&this._drawCurve(d,u):this._drawDot(n,u),a.push({time:n.time,x:n.x,y:n.y,pressure:n.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:t}))}_strokeEnd(t,n=!0){this._removeMoveUpEventListeners(),this._drawingStroke&&(n&&this._strokeUpdate(t),this._drawingStroke=!1,this._strokePointerId=void 0,this.dispatchEvent(new CustomEvent("endStroke",{detail:t})))}_handlePointerEvents(){this._drawingStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerDown,{passive:!1})}_handleMouseEvents(){this._drawingStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown,{passive:!1})}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart,{passive:!1})}_reset(t){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(t.minWidth+t.maxWidth)/2,this._ctx.fillStyle=t.penColor,this._ctx.globalCompositeOperation=t.compositeOperation}_createPoint(t,n,r){let a=this.canvas.getBoundingClientRect();return new av(t-a.left,n-a.top,r,new Date().getTime())}_addPoint(t,n){let{_lastPoints:r}=this;if(r.push(t),r.length>2){r.length===3&&r.unshift(r[0]);let a=this._calculateCurveWidths(r[1],r[2],n),i=Ace.fromPoints(r,a);return r.shift(),i}return null}_calculateCurveWidths(t,n,r){let a=r.velocityFilterWeight*n.velocityFrom(t)+(1-r.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(a,r),l={end:i,start:this._lastWidth};return this._lastVelocity=a,this._lastWidth=i,l}_strokeWidth(t,n){return Math.max(n.maxWidth/(t+1),n.minWidth)}_drawCurveSegment(t,n,r){let a=this._ctx;a.moveTo(t,n),a.arc(t,n,r,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(t,n){let r=this._ctx,a=t.endWidth-t.startWidth,i=Math.ceil(t.length())*2;r.beginPath(),r.fillStyle=n.penColor;for(let l=0;l<i;l+=1){let u=l/i,d=u*u,h=d*u,p=1-u,m=p*p,g=m*p,y=g*t.startPoint.x;y+=3*m*u*t.control1.x,y+=3*p*d*t.control2.x,y+=h*t.endPoint.x;let S=g*t.startPoint.y;S+=3*m*u*t.control1.y,S+=3*p*d*t.control2.y,S+=h*t.endPoint.y;let x=Math.min(t.startWidth+h*a,n.maxWidth);this._drawCurveSegment(y,S,x)}r.closePath(),r.fill()}_drawDot(t,n){let r=this._ctx,a=n.dotSize>0?n.dotSize:(n.minWidth+n.maxWidth)/2;r.beginPath(),this._drawCurveSegment(t.x,t.y,a),r.closePath(),r.fillStyle=n.penColor,r.fill()}_fromData(t,n,r){for(let a of t){let{points:i}=a,l=this._getPointGroupOptions(a);if(i.length>1)for(let u=0;u<i.length;u+=1){let d=i[u],h=new av(d.x,d.y,d.pressure,d.time);u===0&&this._reset(l);let p=this._addPoint(h,l);p&&n(p,l)}else this._reset(l),r(i[0],l)}}toSVG({includeBackgroundColor:t=!1,includeDataUrl:n=!1}={}){let r=this._data,a=Math.max(window.devicePixelRatio||1,1),i=0,l=0,u=this.canvas.width/a,d=this.canvas.height/a,h=document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.setAttribute("xmlns","http://www.w3.org/2000/svg"),h.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),h.setAttribute("viewBox",`${i} ${l} ${u} ${d}`),h.setAttribute("width",u.toString()),h.setAttribute("height",d.toString()),t&&this.backgroundColor){let p=document.createElement("rect");p.setAttribute("width","100%"),p.setAttribute("height","100%"),p.setAttribute("fill",this.backgroundColor),h.appendChild(p)}if(n&&this._dataUrl){let p=this._dataUrlOptions?.ratio||window.devicePixelRatio||1,m=this._dataUrlOptions?.width||this.canvas.width/p,g=this._dataUrlOptions?.height||this.canvas.height/p,y=this._dataUrlOptions?.xOffset||0,S=this._dataUrlOptions?.yOffset||0,x=document.createElement("image");x.setAttribute("x",y.toString()),x.setAttribute("y",S.toString()),x.setAttribute("width",m.toString()),x.setAttribute("height",g.toString()),x.setAttribute("preserveAspectRatio","none"),x.setAttribute("href",this._dataUrl),h.appendChild(x)}return this._fromData(r,(p,{penColor:m})=>{let g=document.createElement("path");if(!isNaN(p.control1.x)&&!isNaN(p.control1.y)&&!isNaN(p.control2.x)&&!isNaN(p.control2.y)){let y=`M ${p.startPoint.x.toFixed(3)},${p.startPoint.y.toFixed(3)} C ${p.control1.x.toFixed(3)},${p.control1.y.toFixed(3)} ${p.control2.x.toFixed(3)},${p.control2.y.toFixed(3)} ${p.endPoint.x.toFixed(3)},${p.endPoint.y.toFixed(3)}`;g.setAttribute("d",y),g.setAttribute("stroke-width",(p.endWidth*2.25).toFixed(3)),g.setAttribute("stroke",m),g.setAttribute("fill","none"),g.setAttribute("stroke-linecap","round"),h.appendChild(g)}},(p,{penColor:m,dotSize:g,minWidth:y,maxWidth:S})=>{let x=document.createElement("circle"),C=g>0?g:(y+S)/2;x.setAttribute("r",C.toString()),x.setAttribute("cx",p.x.toString()),x.setAttribute("cy",p.y.toString()),x.setAttribute("fill",m),h.appendChild(x)}),h.outerHTML}};function Pce(e){let t=_e(),{width:n=500,height:r=200,defaultValue:a,who:i,onChange:l,...u}=e,d=b.useRef(null),h=b.useRef(null),p=b.useRef(l);return p.current=l,b.useEffect(()=>{function m(){p.current?.({type:[{system:St+"/fhir/signature-type",code:"ProofOfOrigin",display:"Proof of Origin"}],when:new Date().toISOString(),who:i??ke(t.getProfile()),data:h.current?.toDataURL().split(",")[1]})}if(d.current){let g=new Mce(d.current);a?.data&&g.fromDataURL(a.data).catch(console.error),g.addEventListener("endStroke",m),h.current=g}return()=>{h.current&&h.current.removeEventListener("beginStroke",m)}},[t,a,i]),s.jsxs(Lt,{withBorder:!0,p:0,w:n,h:r,pos:"relative",...u,children:[s.jsx("canvas",{ref:d,width:n,height:r,"aria-label":"Signature input area"}),s.jsx(Oe,{onClick:()=>{h.current&&h.current.clear(),p.current?.(void 0)},"aria-label":"Clear signature",pos:"absolute",top:0,right:0,size:"xs",leftSection:s.jsx(NR,{size:16}),variant:"subtle",color:"gray",children:"Clear"})]})}function H$(e){let t=[...e.context,e.responseItem];return s.jsxs("div",{children:[e.item.text&&s.jsx(cr,{order:3,mb:"md",children:e.item.text}),s.jsx(Pj,{formState:e.formState,context:t,items:e.item.item??[],responseItems:e.responseItem.item??[]})]},e.item.linkId)}function Nce(e){return s.jsxs(s.Fragment,{children:[e.responseItems.map(t=>s.jsx(H$,{formState:e.formState,context:e.context,item:e.item,responseItem:t},`group-${t.id}`)),s.jsx(Ba,{onClick:()=>e.formState.onAddGroup(e.context,e.item),children:`Add Group: ${e.item.text}`})]})}function Ice(e){let{formState:t,context:n,item:r,responseItem:a}=e,i=r.type!==Pt.choice&&r.type!==Pt.openChoice,l=a.answer&&a.answer.length>0?a.answer:[{}];return s.jsxs(fa,{htmlFor:e.item.linkId,title:e.item.text,withAsterisk:e.item.required,children:[s.jsx(ae,{gap:"xs",children:l?.map((u,d)=>s.jsx(kj,{formState:t,context:n,item:r,responseItem:a,index:d},`${r.linkId}-${d}`))}),i&&s.jsx(Ba,{onClick:()=>t.onAddAnswer(n,r),children:"Add Item"})]},e.item.linkId)}function Pj(e){let{formState:t,context:n,items:r,responseItems:a}=e;return s.jsx(ae,{children:r.map((i,l)=>{if(!vne(i,t.questionnaireResponse))return null;if(i.type===Pt.display)return s.jsx("p",{children:i.text},`display-${i.id}-${l}`);let u=a.filter(d=>d.linkId===i.linkId);return i.type===Pt.group&&i.repeats?s.jsx(Nce,{formState:t,context:n,item:i,responseItems:u},`repeating-group-${i.id}-${l}`):i.type===Pt.group?s.jsx(H$,{formState:t,context:n,item:i,responseItem:u[0]},`group-${i.id}-${l}`):i.type===Pt.boolean?s.jsx(kj,{formState:t,context:n,item:i,responseItem:u[0],index:0},`boolean-item-${i.id}-${l}`):i.repeats?s.jsx(Ice,{formState:t,context:n,item:i,responseItem:u[0]},`repeating-item-${i.id}-${l}`):s.jsx(fa,{htmlFor:i.linkId,title:i.text,withAsterisk:i.required,children:s.jsx(kj,{formState:t,context:n,item:i,responseItem:u[0],index:0})},`repeating-item-${i.id}-${l}`)})})}function Lce(e){let{formState:t,submitButtonText:n,excludeButtons:r,children:a}=e,i=t.pages,l=t.activePage,u=l>0,d=l<i.length-1,h=l===i.length-1;return s.jsxs(s.Fragment,{children:[s.jsx(od,{active:l,allowNextStepsSelect:!1,p:6,children:i.map((p,m)=>s.jsx(od.Step,{label:p.title,children:m===l&&a},p.linkId))}),!r&&s.jsxs(se,{justify:"flex-end",mt:"xl",gap:"xs",children:[u&&s.jsx(Oe,{onClick:t.onPrevPage,children:"Back"}),d&&s.jsx(Oe,{onClick:p=>{p.currentTarget.closest("form").reportValidity()&&t.onNextPage()},children:"Next"}),h&&s.jsx(Ir,{children:n??"Submit"})]})]})}function Ny(e){let t=_e(),[n,r]=b.useState(!1),a=b.useRef(e);a.current=e;let i=b.useCallback(m=>{r(!1),a.current.onChange?.(m)},[]),l=One({questionnaire:e.questionnaire,defaultValue:e.questionnaireResponse,subject:e.subject,encounter:e.encounter,source:e.source,disablePagination:e.disablePagination,onChange:i}),u=b.useRef(l);u.current=l;let d=b.useMemo(()=>l.loading?!1:!!Pr(l.questionnaire,gne),[l]),h=b.useMemo(()=>l.loading?!1:!!l.questionnaireResponse.extension?.find(m=>m.url===gg),[l]),p=b.useCallback(()=>{let m=u.current;if(m.loading)return;let g=a.current.onSubmit;if(!g)return;if(d&&!h){r(!0);return}let y=m.questionnaire,S=m.questionnaireResponse,x=a.current.subject,C=a.current.source;if(!C){let E=t.getProfile();E&&(C=ke(E))}g({...S,questionnaire:y.url??Me(y),subject:x,source:C,authored:new Date().toISOString(),status:"completed"})},[t,d,h]);return l.loading?null:s.jsxs(ar,{testid:"questionnaire-form",onSubmit:p,children:[l.questionnaire.title&&s.jsx(cr,{children:l.questionnaire.title}),l.pagination?s.jsx(Lce,{formState:l,submitButtonText:e.submitButtonText,excludeButtons:e.excludeButtons,children:s.jsx(Pj,{formState:l,context:[],items:l.items,responseItems:l.responseItems})}):s.jsxs(s.Fragment,{children:[s.jsx(Pj,{formState:l,context:[],items:l.items,responseItems:l.responseItems}),d&&s.jsxs(ae,{mt:"md",gap:0,children:[s.jsx(W,{size:"sm",fw:500,children:"Signature"}),s.jsx(Pce,{onChange:l.onChangeSignature}),!h&&n&&s.jsx(W,{c:"red",size:"sm",children:"Signature is required."})]}),!e.excludeButtons&&s.jsx(se,{justify:"flex-end",mt:"xl",gap:"xs",children:s.jsx(Ir,{children:e.submitButtonText??"Submit"})})]})]})}function F$(e){let{item:t}=e,{text:n,answer:r,item:a}=t,i=b.useMemo(()=>r&&r.length>0?s.jsx(s.Fragment,{children:r.map((l,u)=>s.jsx(zce,{answer:l},`answer-${u}`))}):a&&a.length>0?s.jsx(s.Fragment,{children:a.map((l,u)=>s.jsx(F$,{item:l},`nested-${l.id??u}`))}):s.jsx(W,{c:"dimmed",children:"No answer"}),[r,a]);return s.jsxs(ae,{gap:0,pb:"xs",children:[s.jsx(W,{size:"lg",fw:600,id:t.id?`question-${t.id}`:void 0,component:"h3",children:n}),i]})}function zce({answer:e}){if(!e)return s.jsx(W,{c:"dimmed",children:"Invalid answer"});let t=Object.entries(e).filter(([,a])=>a!=null);if(t.length===0)return s.jsx(W,{c:"dimmed",children:"No valid answer data"});let[n,r]=t[0];switch(n){case"valueInteger":return s.jsx(W,{children:r});case"valueQuantity":return s.jsx(Jg,{value:r});case"valueString":return s.jsx(W,{children:r});case"valueCoding":return s.jsx(Xf,{value:{coding:[r]}});case"valueRange":return s.jsx(FR,{value:r});case"valueDateTime":return s.jsx(W,{children:bn(r)});case"valueBoolean":return s.jsx(W,{children:r?"True":"False"});case"valueReference":return s.jsx(W,{children:r.display??r.reference});default:return s.jsx(W,{children:r.toString()})}}function $ce(e){let t=Dt(e.questionnaireResponse);return s.jsx(ae,{gap:0,children:t?.item?.map((n,r)=>s.jsx(F$,{item:n},`item-${n.id??r}`))})}var bP={splitButton:"ResourceForm_splitButton",menuControl:"ResourceForm_menuControl"};function qce(e){let{outcome:t}=e,n=_e(),r=Dt(e.defaultValue),a=r?.resourceType,[i,l]=b.useState(!1),[u,d]=b.useState(),h=n.getAccessPolicy(),p=Cn();b.useEffect(()=>{if(r)if(e.profileUrl){let y=e.profileUrl;n.requestProfileSchema(e.profileUrl,{expandProfile:!0}).then(()=>{let S=nl(y);if(S){l(!0);let x=Xte(r,S);d(x)}else console.error(`Schema not found for ${y}`)}).catch(S=>{console.error("Error in requestProfileSchema",S)})}else n.requestSchema(a).then(()=>{d(r),l(!0)}).catch(console.log)},[n,r,a,e.profileUrl]);let m=b.useMemo(()=>r&&gz(r,rc.READ,h),[h,r]),g=b.useMemo(()=>n.isSuperAdmin()||!h||!Fn(u?.resourceType)?!0:nte(h,u?.resourceType),[n,h,u?.resourceType]);return!i||!u?s.jsx("div",{children:"Loading..."}):g?s.jsxs("form",{noValidate:!0,autoComplete:"off",onSubmit:y=>{y.preventDefault(),e.onSubmit&&e.onSubmit(u)},children:[s.jsxs(ae,{mb:"xl",children:[s.jsx(fa,{title:"Resource Type",htmlFor:"resourceType",outcome:t,children:s.jsx(tt,{name:"resourceType",defaultValue:u.resourceType,disabled:!0})}),s.jsx(fa,{title:"ID",htmlFor:"id",outcome:t,children:s.jsx(tt,{name:"id",defaultValue:u.id,disabled:!0})})]}),s.jsx(QR,{path:u.resourceType,valuePath:u.resourceType,typeName:a,defaultValue:u,outcome:t,onChange:d,profileUrl:e.profileUrl,accessPolicyResource:m}),s.jsxs(se,{justify:"flex-end",mt:"xl",wrap:"nowrap",gap:0,children:[s.jsx(Oe,{type:"submit",className:Uc((e.onPatch||e.onDelete)&&bP.splitButton),children:r?.id?"Update":"Create"}),(e.onPatch||e.onDelete)&&s.jsxs(ye,{transitionProps:{transition:"pop"},position:"bottom-end",withinPortal:!0,children:[s.jsx(ye.Target,{children:s.jsx(ft,{variant:"filled",color:p.primaryColor,size:36,className:bP.menuControl,"aria-label":"More actions",children:s.jsx(OR,{size:14,stroke:1.5})})}),s.jsxs(ye.Dropdown,{children:[e.onPatch&&s.jsx(ye.Item,{leftSection:s.jsx(qre,{size:14,stroke:1.5}),onClick:()=>{e.onPatch(u)},children:"Patch"}),e.onDelete&&s.jsx(ye.Item,{color:"red",leftSection:s.jsx(NR,{size:14,stroke:1.5,color:"red"}),onClick:()=>{e.onDelete(u)},children:"Delete"})]})]})]})]}):s.jsxs(hl,{color:"red",title:"Permission denied",icon:s.jsx(xy,{}),children:["Your access level prevents you from editing and creating ",u.resourceType," resources."]})}function Uce(e){let t=_e(),[n,r]=b.useState(e.history);return b.useEffect(()=>{!e.history&&e.resourceType&&e.id&&t.readHistory(e.resourceType,e.id).then(r).catch(console.log)},[t,e.history,e.resourceType,e.id]),n?s.jsxs(Le,{withTableBorder:!0,withRowBorders:!0,withColumnBorders:!0,children:[s.jsx(Le.Thead,{children:s.jsxs(Le.Tr,{children:[s.jsx(Le.Th,{children:"Author"}),s.jsx(Le.Th,{children:"Date"}),s.jsx(Le.Th,{children:"Version"})]})}),s.jsx(Le.Tbody,{children:n.entry?.map((a,i)=>s.jsx(Bce,{entry:a},"entry-"+i))})]}):s.jsx("div",{children:"Loading..."})}function Bce(e){let{response:t,resource:n}=e.entry;return n?s.jsxs(Le.Tr,{children:[s.jsx(Le.Td,{children:s.jsx(oc,{value:n.meta?.author,link:!0})}),s.jsx(Le.Td,{children:Gr(n.meta?.lastUpdated)}),s.jsx(Le.Td,{children:s.jsx(Sa,{to:Hce(n),children:n.meta?.versionId})})]}):s.jsx(Le.Tr,{children:s.jsx(Le.Td,{colSpan:3,children:Wt(t?.outcome)})})}function Hce(e){return`/${e.resourceType}/${e.id}/_history/${e.meta?.versionId}`}var rS={exports:{}},Pf={},aS={exports:{}},iS={};var xP;function Fce(){return xP||(xP=1,(function(e){function t(N,z){var $=N.length;N.push(z);e:for(;0<$;){var Y=$-1>>>1,X=N[Y];if(0<a(X,z))N[Y]=z,N[$]=X,$=Y;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var z=N[0],$=N.pop();if($!==z){N[0]=$;e:for(var Y=0,X=N.length,H=X>>>1;Y<H;){var F=2*(Y+1)-1,Q=N[F],J=F+1,re=N[J];if(0>a(Q,$))J<X&&0>a(re,Q)?(N[Y]=re,N[J]=$,Y=J):(N[Y]=Q,N[F]=$,Y=F);else if(J<X&&0>a(re,$))N[Y]=re,N[J]=$,Y=J;else break e}}return z}function a(N,z){var $=N.sortIndex-z.sortIndex;return $!==0?$:N.id-z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],h=[],p=1,m=null,g=3,y=!1,S=!1,x=!1,C=!1,E=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function _(N){for(var z=n(h);z!==null;){if(z.callback===null)r(h);else if(z.startTime<=N)r(h),z.sortIndex=z.expirationTime,t(d,z);else break;z=n(h)}}function A(N){if(x=!1,_(N),!S)if(n(d)!==null)S=!0,M||(M=!0,V());else{var z=n(h);z!==null&&G(A,z.startTime-N)}}var M=!1,D=-1,O=5,k=-1;function I(){return C?!0:!(e.unstable_now()-k<O)}function L(){if(C=!1,M){var N=e.unstable_now();k=N;var z=!0;try{e:{S=!1,x&&(x=!1,j(D),D=-1),y=!0;var $=g;try{t:{for(_(N),m=n(d);m!==null&&!(m.expirationTime>N&&I());){var Y=m.callback;if(typeof Y=="function"){m.callback=null,g=m.priorityLevel;var X=Y(m.expirationTime<=N);if(N=e.unstable_now(),typeof X=="function"){m.callback=X,_(N),z=!0;break t}m===n(d)&&r(d),_(N)}else r(d);m=n(d)}if(m!==null)z=!0;else{var H=n(h);H!==null&&G(A,H.startTime-N),z=!1}}break e}finally{m=null,g=$,y=!1}z=void 0}}finally{z?V():M=!1}}}var V;if(typeof R=="function")V=function(){R(L)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,U=q.port2;q.port1.onmessage=L,V=function(){U.postMessage(null)}}else V=function(){E(L,0)};function G(N,z){D=E(function(){N(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(N){switch(g){case 1:case 2:case 3:var z=3;break;default:z=g}var $=g;g=z;try{return N()}finally{g=$}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(N,z){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var $=g;g=N;try{return z()}finally{g=$}},e.unstable_scheduleCallback=function(N,z,$){var Y=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Y+$:Y):$=Y,N){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=$+X,N={id:p++,callback:z,priorityLevel:N,startTime:$,expirationTime:X,sortIndex:-1},$>Y?(N.sortIndex=$,t(h,N),n(d)===null&&N===n(h)&&(x?(j(D),D=-1):x=!0,G(A,$-Y))):(N.sortIndex=X,t(d,N),S||y||(S=!0,M||(M=!0,V()))),N},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(N){var z=g;return function(){var $=g;g=z;try{return N.apply(this,arguments)}finally{g=$}}}})(iS)),iS}var SP;function Vce(){return SP||(SP=1,aS.exports=Fce()),aS.exports}var wP;function Wce(){if(wP)return Pf;wP=1;var e=Vce(),t=aE(),n=C5();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function i(o){var c=o,f=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(f=c.return),o=c.return;while(o)}return c.tag===3?f:null}function l(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function d(o){if(i(o)!==o)throw Error(r(188))}function h(o){var c=o.alternate;if(!c){if(c=i(o),c===null)throw Error(r(188));return c!==o?null:o}for(var f=o,v=c;;){var w=f.return;if(w===null)break;var T=w.alternate;if(T===null){if(v=w.return,v!==null){f=v;continue}break}if(w.child===T.child){for(T=w.child;T;){if(T===f)return d(w),o;if(T===v)return d(w),c;T=T.sibling}throw Error(r(188))}if(f.return!==v.return)f=w,v=T;else{for(var P=!1,B=w.child;B;){if(B===f){P=!0,f=w,v=T;break}if(B===v){P=!0,v=w,f=T;break}B=B.sibling}if(!P){for(B=T.child;B;){if(B===f){P=!0,f=T,v=w;break}if(B===v){P=!0,v=T,f=w;break}B=B.sibling}if(!P)throw Error(r(189))}}if(f.alternate!==v)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:c}function p(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=p(o),c!==null)return c;o=o.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),R=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function V(o){return o===null||typeof o!="object"?null:(o=L&&o[L]||o["@@iterator"],typeof o=="function"?o:null)}var q=Symbol.for("react.client.reference");function U(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===q?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case x:return"Fragment";case E:return"Profiler";case C:return"StrictMode";case A:return"Suspense";case M:return"SuspenseList";case k:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case S:return"Portal";case R:return o.displayName||"Context";case j:return(o._context.displayName||"Context")+".Consumer";case _:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case D:return c=o.displayName||null,c!==null?c:U(o.type)||"Memo";case O:c=o._payload,o=o._init;try{return U(o(c))}catch{}}return null}var G=Array.isArray,N=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},Y=[],X=-1;function H(o){return{current:o}}function F(o){0>X||(o.current=Y[X],Y[X]=null,X--)}function Q(o,c){X++,Y[X]=o.current,o.current=c}var J=H(null),re=H(null),de=H(null),Ee=H(null);function Re(o,c){switch(Q(de,c),Q(re,o),Q(J,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?pO(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=pO(c),o=mO(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}F(J),Q(J,o)}function Se(){F(J),F(re),F(de)}function Ye(o){o.memoizedState!==null&&Q(Ee,o);var c=J.current,f=mO(c,o.type);c!==f&&(Q(re,o),Q(J,f))}function Je(o){re.current===o&&(F(J),F(re)),Ee.current===o&&(F(Ee),Cf._currentValue=$)}var Ve,ze;function mt(o){if(Ve===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);Ve=c&&c[1]||"",ze=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ve+o+ze}var Ze=!1;function Bt(o,c){if(!o||Ze)return"";Ze=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var je=function(){throw Error()};if(Object.defineProperty(je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(je,[])}catch(ge){var he=ge}Reflect.construct(o,[],je)}else{try{je.call()}catch(ge){he=ge}o.call(je.prototype)}}else{try{throw Error()}catch(ge){he=ge}(je=o())&&typeof je.catch=="function"&&je.catch(function(){})}}catch(ge){if(ge&&he&&typeof ge.stack=="string")return[ge.stack,he.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=v.DetermineComponentFrameRoot(),P=T[0],B=T[1];if(P&&B){var Z=P.split(`
`),ue=B.split(`
`);for(w=v=0;v<Z.length&&!Z[v].includes("DetermineComponentFrameRoot");)v++;for(;w<ue.length&&!ue[w].includes("DetermineComponentFrameRoot");)w++;if(v===Z.length||w===ue.length)for(v=Z.length-1,w=ue.length-1;1<=v&&0<=w&&Z[v]!==ue[w];)w--;for(;1<=v&&0<=w;v--,w--)if(Z[v]!==ue[w]){if(v!==1||w!==1)do if(v--,w--,0>w||Z[v]!==ue[w]){var be=`
`+Z[v].replace(" at new "," at ");return o.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",o.displayName)),be}while(1<=v&&0<=w);break}}}finally{Ze=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?mt(f):""}function ot(o,c){switch(o.tag){case 26:case 27:case 5:return mt(o.type);case 16:return mt("Lazy");case 13:return o.child!==c&&c!==null?mt("Suspense Fallback"):mt("Suspense");case 19:return mt("SuspenseList");case 0:case 15:return Bt(o.type,!1);case 11:return Bt(o.type.render,!1);case 1:return Bt(o.type,!0);case 31:return mt("Activity");default:return""}}function Ot(o){try{var c="",f=null;do c+=ot(o,f),f=o,o=o.return;while(o);return c}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var _t=Object.prototype.hasOwnProperty,We=e.unstable_scheduleCallback,ht=e.unstable_cancelCallback,dt=e.unstable_shouldYield,pt=e.unstable_requestPaint,ut=e.unstable_now,xt=e.unstable_getCurrentPriorityLevel,hr=e.unstable_ImmediatePriority,Ft=e.unstable_UserBlockingPriority,kt=e.unstable_NormalPriority,$n=e.unstable_LowPriority,jr=e.unstable_IdlePriority,Qa=e.log,Kn=e.unstable_setDisableYieldValue,Yt=null,jt=null;function Lr(o){if(typeof Qa=="function"&&Kn(o),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Yt,o)}catch{}}var _n=Math.clz32?Math.clz32:qn,ms=Math.log,wl=Math.LN2;function qn(o){return o>>>=0,o===0?32:31-(ms(o)/wl|0)|0}var kn=256,Ta=262144,Ri=4194304;function Ra(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function _i(o,c,f){var v=o.pendingLanes;if(v===0)return 0;var w=0,T=o.suspendedLanes,P=o.pingedLanes;o=o.warmLanes;var B=v&134217727;return B!==0?(v=B&~T,v!==0?w=Ra(v):(P&=B,P!==0?w=Ra(P):f||(f=B&~o,f!==0&&(w=Ra(f))))):(B=v&~T,B!==0?w=Ra(B):P!==0?w=Ra(P):f||(f=v&~o,f!==0&&(w=Ra(f)))),w===0?0:c!==0&&c!==w&&(c&T)===0&&(T=w&-w,f=c&-c,T>=f||T===32&&(f&4194048)!==0)?c:w}function Er(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function Cl(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Un(){var o=Ri;return Ri<<=1,(Ri&62914560)===0&&(Ri=4194304),o}function Ki(o){for(var c=[],f=0;31>f;f++)c.push(o);return c}function To(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Ld(o,c,f,v,w,T){var P=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var B=o.entanglements,Z=o.expirationTimes,ue=o.hiddenUpdates;for(f=P&~f;0<f;){var be=31-_n(f),je=1<<be;B[be]=0,Z[be]=-1;var he=ue[be];if(he!==null)for(ue[be]=null,be=0;be<he.length;be++){var ge=he[be];ge!==null&&(ge.lane&=-536870913)}f&=~je}v!==0&&Gc(o,v,0),T!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=T&~(P&~c))}function Gc(o,c,f){o.pendingLanes|=c,o.suspendedLanes&=~c;var v=31-_n(c);o.entangledLanes|=c,o.entanglements[v]=o.entanglements[v]|1073741824|f&261930}function K(o,c){var f=o.entangledLanes|=c;for(o=o.entanglements;f;){var v=31-_n(f),w=1<<v;w&c|o[v]&c&&(o[v]|=c),f&=~w}}function ie(o,c){var f=c&-c;return f=(f&42)!==0?1:pe(f),(f&(o.suspendedLanes|c))!==0?0:f}function pe(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Te(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function De(){var o=z.p;return o!==0?o:(o=window.event,o===void 0?32:zO(o.type))}function Be(o,c){var f=z.p;try{return z.p=o,c()}finally{z.p=f}}var qe=Math.random().toString(36).slice(2),Pe="__reactFiber$"+qe,Ie="__reactProps$"+qe,He="__reactContainer$"+qe,Qe="__reactEvents$"+qe,Xe="__reactListeners$"+qe,Mt="__reactHandles$"+qe,Ke="__reactResources$"+qe,rn="__reactMarker$"+qe;function jn(o){delete o[Pe],delete o[Ie],delete o[Qe],delete o[Xe],delete o[Mt]}function Vt(o){var c=o[Pe];if(c)return c;for(var f=o.parentNode;f;){if(c=f[He]||f[Pe]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(o=wO(o);o!==null;){if(f=o[Pe])return f;o=wO(o)}return c}o=f,f=o.parentNode}return null}function Qt(o){if(o=o[Pe]||o[He]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function _a(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function Ka(o){var c=o[Ke];return c||(c=o[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function un(o){o[rn]=!0}var Da=new Set,Yc={};function Aa(o,c){aa(o,c),aa(o+"Capture",c)}function aa(o,c){for(Yc[o]=c,o=0;o<c.length;o++)Da.add(c[o])}var Qc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jl={},zt={};function pr(o){return _t.call(zt,o)?!0:_t.call(jl,o)?!1:Qc.test(o)?zt[o]=!0:(jl[o]=!0,!1)}function Di(o,c,f){if(pr(c))if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+f)}}function Xa(o,c,f){if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+f)}}function Kt(o,c,f,v){if(v===null)o.removeAttribute(f);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(c,f,""+v)}}function Tr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function zd(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function d0(o,c,f){var v=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var w=v.get,T=v.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return w.call(this)},set:function(P){f=""+P,T.call(this,P)}}),Object.defineProperty(o,c,{enumerable:v.enumerable}),{getValue:function(){return f},setValue:function(P){f=""+P},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function f0(o){if(!o._valueTracker){var c=zd(o)?"checked":"value";o._valueTracker=d0(o,c,""+o[c])}}function s2(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var f=c.getValue(),v="";return o&&(v=zd(o)?o.checked?"true":"false":o.value),o=v,o!==f?(c.setValue(o),!0):!1}function bp(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var bq=/[\n"\\]/g;function Za(o){return o.replace(bq,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function h0(o,c,f,v,w,T,P,B){o.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?o.type=P:o.removeAttribute("type"),c!=null?P==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Tr(c)):o.value!==""+Tr(c)&&(o.value=""+Tr(c)):P!=="submit"&&P!=="reset"||o.removeAttribute("value"),c!=null?p0(o,P,Tr(c)):f!=null?p0(o,P,Tr(f)):v!=null&&o.removeAttribute("value"),w==null&&T!=null&&(o.defaultChecked=!!T),w!=null&&(o.checked=w&&typeof w!="function"&&typeof w!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?o.name=""+Tr(B):o.removeAttribute("name")}function l2(o,c,f,v,w,T,P,B){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(o.type=T),c!=null||f!=null){if(!(T!=="submit"&&T!=="reset"||c!=null)){f0(o);return}f=f!=null?""+Tr(f):"",c=c!=null?""+Tr(c):f,B||c===o.value||(o.value=c),o.defaultValue=c}v=v??w,v=typeof v!="function"&&typeof v!="symbol"&&!!v,o.checked=B?o.checked:!!v,o.defaultChecked=!!v,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(o.name=P),f0(o)}function p0(o,c,f){c==="number"&&bp(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function Kc(o,c,f,v){if(o=o.options,c){c={};for(var w=0;w<f.length;w++)c["$"+f[w]]=!0;for(f=0;f<o.length;f++)w=c.hasOwnProperty("$"+o[f].value),o[f].selected!==w&&(o[f].selected=w),w&&v&&(o[f].defaultSelected=!0)}else{for(f=""+Tr(f),c=null,w=0;w<o.length;w++){if(o[w].value===f){o[w].selected=!0,v&&(o[w].defaultSelected=!0);return}c!==null||o[w].disabled||(c=o[w])}c!==null&&(c.selected=!0)}}function c2(o,c,f){if(c!=null&&(c=""+Tr(c),c!==o.value&&(o.value=c),f==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=f!=null?""+Tr(f):""}function u2(o,c,f,v){if(c==null){if(v!=null){if(f!=null)throw Error(r(92));if(G(v)){if(1<v.length)throw Error(r(93));v=v[0]}f=v}f==null&&(f=""),c=f}f=Tr(c),o.defaultValue=f,v=o.textContent,v===f&&v!==""&&v!==null&&(o.value=v),f0(o)}function Xc(o,c){if(c){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=c;return}}o.textContent=c}var xq=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function d2(o,c,f){var v=c.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?v?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":v?o.setProperty(c,f):typeof f!="number"||f===0||xq.has(c)?c==="float"?o.cssFloat=f:o[c]=(""+f).trim():o[c]=f+"px"}function f2(o,c,f){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,f!=null){for(var v in f)!f.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?o.setProperty(v,""):v==="float"?o.cssFloat="":o[v]="");for(var w in c)v=c[w],c.hasOwnProperty(w)&&f[w]!==v&&d2(o,w,v)}else for(var T in c)c.hasOwnProperty(T)&&d2(o,T,c[T])}function m0(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sq=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wq=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xp(o){return wq.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Ro(){}var g0=null;function v0(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Zc=null,Jc=null;function h2(o){var c=Qt(o);if(c&&(o=c.stateNode)){var f=o[Ie]||null;e:switch(o=c.stateNode,c.type){case"input":if(h0(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),c=f.name,f.type==="radio"&&c!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Za(""+c)+'"][type="radio"]'),c=0;c<f.length;c++){var v=f[c];if(v!==o&&v.form===o.form){var w=v[Ie]||null;if(!w)throw Error(r(90));h0(v,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(c=0;c<f.length;c++)v=f[c],v.form===o.form&&s2(v)}break e;case"textarea":c2(o,f.value,f.defaultValue);break e;case"select":c=f.value,c!=null&&Kc(o,!!f.multiple,c,!1)}}}var y0=!1;function p2(o,c,f){if(y0)return o(c,f);y0=!0;try{var v=o(c);return v}finally{if(y0=!1,(Zc!==null||Jc!==null)&&(sm(),Zc&&(c=Zc,o=Jc,Jc=Zc=null,h2(c),o)))for(c=0;c<o.length;c++)h2(o[c])}}function $d(o,c){var f=o.stateNode;if(f===null)return null;var v=f[Ie]||null;if(v===null)return null;f=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,c,typeof f));return f}var _o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b0=!1;if(_o)try{var qd={};Object.defineProperty(qd,"passive",{get:function(){b0=!0}}),window.addEventListener("test",qd,qd),window.removeEventListener("test",qd,qd)}catch{b0=!1}var gs=null,x0=null,Sp=null;function m2(){if(Sp)return Sp;var o,c=x0,f=c.length,v,w="value"in gs?gs.value:gs.textContent,T=w.length;for(o=0;o<f&&c[o]===w[o];o++);var P=f-o;for(v=1;v<=P&&c[f-v]===w[T-v];v++);return Sp=w.slice(o,1<v?1-v:void 0)}function wp(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Cp(){return!0}function g2(){return!1}function ia(o){function c(f,v,w,T,P){this._reactName=f,this._targetInst=w,this.type=v,this.nativeEvent=T,this.target=P,this.currentTarget=null;for(var B in o)o.hasOwnProperty(B)&&(f=o[B],this[B]=f?f(T):T[B]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Cp:g2,this.isPropagationStopped=g2,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Cp)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Cp)},persist:function(){},isPersistent:Cp}),c}var El={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jp=ia(El),Ud=m({},El,{view:0,detail:0}),Cq=ia(Ud),S0,w0,Bd,Ep=m({},Ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:j0,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Bd&&(Bd&&o.type==="mousemove"?(S0=o.screenX-Bd.screenX,w0=o.screenY-Bd.screenY):w0=S0=0,Bd=o),S0)},movementY:function(o){return"movementY"in o?o.movementY:w0}}),v2=ia(Ep),jq=m({},Ep,{dataTransfer:0}),Eq=ia(jq),Tq=m({},Ud,{relatedTarget:0}),C0=ia(Tq),Rq=m({},El,{animationName:0,elapsedTime:0,pseudoElement:0}),_q=ia(Rq),Dq=m({},El,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Aq=ia(Dq),Oq=m({},El,{data:0}),y2=ia(Oq),kq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nq(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=Pq[o])?!!c[o]:!1}function j0(){return Nq}var Iq=m({},Ud,{key:function(o){if(o.key){var c=kq[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=wp(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Mq[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:j0,charCode:function(o){return o.type==="keypress"?wp(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?wp(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Lq=ia(Iq),zq=m({},Ep,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b2=ia(zq),$q=m({},Ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:j0}),qq=ia($q),Uq=m({},El,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bq=ia(Uq),Hq=m({},Ep,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Fq=ia(Hq),Vq=m({},El,{newState:0,oldState:0}),Wq=ia(Vq),Gq=[9,13,27,32],E0=_o&&"CompositionEvent"in window,Hd=null;_o&&"documentMode"in document&&(Hd=document.documentMode);var Yq=_o&&"TextEvent"in window&&!Hd,x2=_o&&(!E0||Hd&&8<Hd&&11>=Hd),S2=" ",w2=!1;function C2(o,c){switch(o){case"keyup":return Gq.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j2(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var eu=!1;function Qq(o,c){switch(o){case"compositionend":return j2(c);case"keypress":return c.which!==32?null:(w2=!0,S2);case"textInput":return o=c.data,o===S2&&w2?null:o;default:return null}}function Kq(o,c){if(eu)return o==="compositionend"||!E0&&C2(o,c)?(o=m2(),Sp=x0=gs=null,eu=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return x2&&c.locale!=="ko"?null:c.data;default:return null}}var Xq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E2(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!Xq[o.type]:c==="textarea"}function T2(o,c,f,v){Zc?Jc?Jc.push(v):Jc=[v]:Zc=v,c=pm(c,"onChange"),0<c.length&&(f=new jp("onChange","change",null,f,v),o.push({event:f,listeners:c}))}var Fd=null,Vd=null;function Zq(o){lO(o,0)}function Tp(o){var c=_a(o);if(s2(c))return o}function R2(o,c){if(o==="change")return c}var _2=!1;if(_o){var T0;if(_o){var R0="oninput"in document;if(!R0){var D2=document.createElement("div");D2.setAttribute("oninput","return;"),R0=typeof D2.oninput=="function"}T0=R0}else T0=!1;_2=T0&&(!document.documentMode||9<document.documentMode)}function A2(){Fd&&(Fd.detachEvent("onpropertychange",O2),Vd=Fd=null)}function O2(o){if(o.propertyName==="value"&&Tp(Vd)){var c=[];T2(c,Vd,o,v0(o)),p2(Zq,c)}}function Jq(o,c,f){o==="focusin"?(A2(),Fd=c,Vd=f,Fd.attachEvent("onpropertychange",O2)):o==="focusout"&&A2()}function eU(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Tp(Vd)}function tU(o,c){if(o==="click")return Tp(c)}function nU(o,c){if(o==="input"||o==="change")return Tp(c)}function rU(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Oa=typeof Object.is=="function"?Object.is:rU;function Wd(o,c){if(Oa(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var f=Object.keys(o),v=Object.keys(c);if(f.length!==v.length)return!1;for(v=0;v<f.length;v++){var w=f[v];if(!_t.call(c,w)||!Oa(o[w],c[w]))return!1}return!0}function k2(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function M2(o,c){var f=k2(o);o=0;for(var v;f;){if(f.nodeType===3){if(v=o+f.textContent.length,o<=c&&v>=c)return{node:f,offset:c-o};o=v}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=k2(f)}}function P2(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?P2(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function N2(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=bp(o.document);c instanceof o.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)o=c.contentWindow;else break;c=bp(o.document)}return c}function _0(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var aU=_o&&"documentMode"in document&&11>=document.documentMode,tu=null,D0=null,Gd=null,A0=!1;function I2(o,c,f){var v=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;A0||tu==null||tu!==bp(v)||(v=tu,"selectionStart"in v&&_0(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Gd&&Wd(Gd,v)||(Gd=v,v=pm(D0,"onSelect"),0<v.length&&(c=new jp("onSelect","select",null,c,f),o.push({event:c,listeners:v}),c.target=tu)))}function Tl(o,c){var f={};return f[o.toLowerCase()]=c.toLowerCase(),f["Webkit"+o]="webkit"+c,f["Moz"+o]="moz"+c,f}var nu={animationend:Tl("Animation","AnimationEnd"),animationiteration:Tl("Animation","AnimationIteration"),animationstart:Tl("Animation","AnimationStart"),transitionrun:Tl("Transition","TransitionRun"),transitionstart:Tl("Transition","TransitionStart"),transitioncancel:Tl("Transition","TransitionCancel"),transitionend:Tl("Transition","TransitionEnd")},O0={},L2={};_o&&(L2=document.createElement("div").style,"AnimationEvent"in window||(delete nu.animationend.animation,delete nu.animationiteration.animation,delete nu.animationstart.animation),"TransitionEvent"in window||delete nu.transitionend.transition);function Rl(o){if(O0[o])return O0[o];if(!nu[o])return o;var c=nu[o],f;for(f in c)if(c.hasOwnProperty(f)&&f in L2)return O0[o]=c[f];return o}var z2=Rl("animationend"),$2=Rl("animationiteration"),q2=Rl("animationstart"),iU=Rl("transitionrun"),oU=Rl("transitionstart"),sU=Rl("transitioncancel"),U2=Rl("transitionend"),B2=new Map,k0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");k0.push("scrollEnd");function Ai(o,c){B2.set(o,c),Aa(c,[o])}var Rp=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Ja=[],ru=0,M0=0;function _p(){for(var o=ru,c=M0=ru=0;c<o;){var f=Ja[c];Ja[c++]=null;var v=Ja[c];Ja[c++]=null;var w=Ja[c];Ja[c++]=null;var T=Ja[c];if(Ja[c++]=null,v!==null&&w!==null){var P=v.pending;P===null?w.next=w:(w.next=P.next,P.next=w),v.pending=w}T!==0&&H2(f,w,T)}}function Dp(o,c,f,v){Ja[ru++]=o,Ja[ru++]=c,Ja[ru++]=f,Ja[ru++]=v,M0|=v,o.lanes|=v,o=o.alternate,o!==null&&(o.lanes|=v)}function P0(o,c,f,v){return Dp(o,c,f,v),Ap(o)}function _l(o,c){return Dp(o,null,null,c),Ap(o)}function H2(o,c,f){o.lanes|=f;var v=o.alternate;v!==null&&(v.lanes|=f);for(var w=!1,T=o.return;T!==null;)T.childLanes|=f,v=T.alternate,v!==null&&(v.childLanes|=f),T.tag===22&&(o=T.stateNode,o===null||o._visibility&1||(w=!0)),o=T,T=T.return;return o.tag===3?(T=o.stateNode,w&&c!==null&&(w=31-_n(f),o=T.hiddenUpdates,v=o[w],v===null?o[w]=[c]:v.push(c),c.lane=f|536870912),T):null}function Ap(o){if(50<gf)throw gf=0,Hb=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var au={};function lU(o,c,f,v){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ka(o,c,f,v){return new lU(o,c,f,v)}function N0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Do(o,c){var f=o.alternate;return f===null?(f=ka(o.tag,c,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=c,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,c=o.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function F2(o,c){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,c=f.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Op(o,c,f,v,w,T){var P=0;if(v=o,typeof o=="function")N0(o)&&(P=1);else if(typeof o=="string")P=hB(o,f,J.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case k:return o=ka(31,f,c,w),o.elementType=k,o.lanes=T,o;case x:return Dl(f.children,w,T,c);case C:P=8,w|=24;break;case E:return o=ka(12,f,c,w|2),o.elementType=E,o.lanes=T,o;case A:return o=ka(13,f,c,w),o.elementType=A,o.lanes=T,o;case M:return o=ka(19,f,c,w),o.elementType=M,o.lanes=T,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case R:P=10;break e;case j:P=9;break e;case _:P=11;break e;case D:P=14;break e;case O:P=16,v=null;break e}P=29,f=Error(r(130,o===null?"null":typeof o,"")),v=null}return c=ka(P,f,c,w),c.elementType=o,c.type=v,c.lanes=T,c}function Dl(o,c,f,v){return o=ka(7,o,v,c),o.lanes=f,o}function I0(o,c,f){return o=ka(6,o,null,c),o.lanes=f,o}function V2(o){var c=ka(18,null,null,0);return c.stateNode=o,c}function L0(o,c,f){return c=ka(4,o.children!==null?o.children:[],o.key,c),c.lanes=f,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var W2=new WeakMap;function ei(o,c){if(typeof o=="object"&&o!==null){var f=W2.get(o);return f!==void 0?f:(c={value:o,source:c,stack:Ot(c)},W2.set(o,c),c)}return{value:o,source:c,stack:Ot(c)}}var iu=[],ou=0,kp=null,Yd=0,ti=[],ni=0,vs=null,Xi=1,Zi="";function Ao(o,c){iu[ou++]=Yd,iu[ou++]=kp,kp=o,Yd=c}function G2(o,c,f){ti[ni++]=Xi,ti[ni++]=Zi,ti[ni++]=vs,vs=o;var v=Xi;o=Zi;var w=32-_n(v)-1;v&=~(1<<w),f+=1;var T=32-_n(c)+w;if(30<T){var P=w-w%5;T=(v&(1<<P)-1).toString(32),v>>=P,w-=P,Xi=1<<32-_n(c)+w|f<<w|v,Zi=T+o}else Xi=1<<T|f<<w|v,Zi=o}function z0(o){o.return!==null&&(Ao(o,1),G2(o,1,0))}function $0(o){for(;o===kp;)kp=iu[--ou],iu[ou]=null,Yd=iu[--ou],iu[ou]=null;for(;o===vs;)vs=ti[--ni],ti[ni]=null,Zi=ti[--ni],ti[ni]=null,Xi=ti[--ni],ti[ni]=null}function Y2(o,c){ti[ni++]=Xi,ti[ni++]=Zi,ti[ni++]=vs,Xi=c.id,Zi=c.overflow,vs=o}var Rr=null,vn=null,Ht=!1,ys=null,ri=!1,q0=Error(r(519));function bs(o){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qd(ei(c,o)),q0}function Q2(o){var c=o.stateNode,f=o.type,v=o.memoizedProps;switch(c[Pe]=o,c[Ie]=v,f){case"dialog":It("cancel",c),It("close",c);break;case"iframe":case"object":case"embed":It("load",c);break;case"video":case"audio":for(f=0;f<yf.length;f++)It(yf[f],c);break;case"source":It("error",c);break;case"img":case"image":case"link":It("error",c),It("load",c);break;case"details":It("toggle",c);break;case"input":It("invalid",c),l2(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":It("invalid",c);break;case"textarea":It("invalid",c),u2(c,v.value,v.defaultValue,v.children)}f=v.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||c.textContent===""+f||v.suppressHydrationWarning===!0||fO(c.textContent,f)?(v.popover!=null&&(It("beforetoggle",c),It("toggle",c)),v.onScroll!=null&&It("scroll",c),v.onScrollEnd!=null&&It("scrollend",c),v.onClick!=null&&(c.onclick=Ro),c=!0):c=!1,c||bs(o,!0)}function K2(o){for(Rr=o.return;Rr;)switch(Rr.tag){case 5:case 31:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:Rr=Rr.return}}function su(o){if(o!==Rr)return!1;if(!Ht)return K2(o),Ht=!0,!1;var c=o.tag,f;if((f=c!==3&&c!==27)&&((f=c===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||ax(o.type,o.memoizedProps)),f=!f),f&&vn&&bs(o),K2(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));vn=SO(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));vn=SO(o)}else c===27?(c=vn,Ms(o.type)?(o=cx,cx=null,vn=o):vn=c):vn=Rr?ii(o.stateNode.nextSibling):null;return!0}function Al(){vn=Rr=null,Ht=!1}function U0(){var o=ys;return o!==null&&(ca===null?ca=o:ca.push.apply(ca,o),ys=null),o}function Qd(o){ys===null?ys=[o]:ys.push(o)}var B0=H(null),Ol=null,Oo=null;function xs(o,c,f){Q(B0,c._currentValue),c._currentValue=f}function ko(o){o._currentValue=B0.current,F(B0)}function H0(o,c,f){for(;o!==null;){var v=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),o===f)break;o=o.return}}function F0(o,c,f,v){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var T=w.dependencies;if(T!==null){var P=w.child;T=T.firstContext;e:for(;T!==null;){var B=T;T=w;for(var Z=0;Z<c.length;Z++)if(B.context===c[Z]){T.lanes|=f,B=T.alternate,B!==null&&(B.lanes|=f),H0(T.return,f,o),v||(P=null);break e}T=B.next}}else if(w.tag===18){if(P=w.return,P===null)throw Error(r(341));P.lanes|=f,T=P.alternate,T!==null&&(T.lanes|=f),H0(P,f,o),P=null}else P=w.child;if(P!==null)P.return=w;else for(P=w;P!==null;){if(P===o){P=null;break}if(w=P.sibling,w!==null){w.return=P.return,P=w;break}P=P.return}w=P}}function lu(o,c,f,v){o=null;for(var w=c,T=!1;w!==null;){if(!T){if((w.flags&524288)!==0)T=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var P=w.alternate;if(P===null)throw Error(r(387));if(P=P.memoizedProps,P!==null){var B=w.type;Oa(w.pendingProps.value,P.value)||(o!==null?o.push(B):o=[B])}}else if(w===Ee.current){if(P=w.alternate,P===null)throw Error(r(387));P.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(Cf):o=[Cf])}w=w.return}o!==null&&F0(c,o,f,v),c.flags|=262144}function Mp(o){for(o=o.firstContext;o!==null;){if(!Oa(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function kl(o){Ol=o,Oo=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function _r(o){return X2(Ol,o)}function Pp(o,c){return Ol===null&&kl(o),X2(o,c)}function X2(o,c){var f=c._currentValue;if(c={context:c,memoizedValue:f,next:null},Oo===null){if(o===null)throw Error(r(308));Oo=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Oo=Oo.next=c;return f}var cU=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(f,v){o.push(v)}};this.abort=function(){c.aborted=!0,o.forEach(function(f){return f()})}},uU=e.unstable_scheduleCallback,dU=e.unstable_NormalPriority,Xn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function V0(){return{controller:new cU,data:new Map,refCount:0}}function Kd(o){o.refCount--,o.refCount===0&&uU(dU,function(){o.controller.abort()})}var Xd=null,W0=0,cu=0,uu=null;function fU(o,c){if(Xd===null){var f=Xd=[];W0=0,cu=Qb(),uu={status:"pending",value:void 0,then:function(v){f.push(v)}}}return W0++,c.then(Z2,Z2),c}function Z2(){if(--W0===0&&Xd!==null){uu!==null&&(uu.status="fulfilled");var o=Xd;Xd=null,cu=0,uu=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function hU(o,c){var f=[],v={status:"pending",value:null,reason:null,then:function(w){f.push(w)}};return o.then(function(){v.status="fulfilled",v.value=c;for(var w=0;w<f.length;w++)(0,f[w])(c)},function(w){for(v.status="rejected",v.reason=w,w=0;w<f.length;w++)(0,f[w])(void 0)}),v}var J2=N.S;N.S=function(o,c){IA=ut(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&fU(o,c),J2!==null&&J2(o,c)};var Ml=H(null);function G0(){var o=Ml.current;return o!==null?o:dn.pooledCache}function Np(o,c){c===null?Q(Ml,Ml.current):Q(Ml,c.pool)}function eD(){var o=G0();return o===null?null:{parent:Xn._currentValue,pool:o}}var du=Error(r(460)),Y0=Error(r(474)),Ip=Error(r(542)),Lp={then:function(){}};function tD(o){return o=o.status,o==="fulfilled"||o==="rejected"}function nD(o,c,f){switch(f=o[f],f===void 0?o.push(c):f!==c&&(c.then(Ro,Ro),c=f),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,aD(o),o;default:if(typeof c.status=="string")c.then(Ro,Ro);else{if(o=dn,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(v){if(c.status==="pending"){var w=c;w.status="fulfilled",w.value=v}},function(v){if(c.status==="pending"){var w=c;w.status="rejected",w.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,aD(o),o}throw Nl=c,du}}function Pl(o){try{var c=o._init;return c(o._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(Nl=f,du):f}}var Nl=null;function rD(){if(Nl===null)throw Error(r(459));var o=Nl;return Nl=null,o}function aD(o){if(o===du||o===Ip)throw Error(r(483))}var fu=null,Zd=0;function zp(o){var c=Zd;return Zd+=1,fu===null&&(fu=[]),nD(fu,o,c)}function Jd(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function $p(o,c){throw c.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function iD(o){function c(oe,ee){if(o){var ce=oe.deletions;ce===null?(oe.deletions=[ee],oe.flags|=16):ce.push(ee)}}function f(oe,ee){if(!o)return null;for(;ee!==null;)c(oe,ee),ee=ee.sibling;return null}function v(oe){for(var ee=new Map;oe!==null;)oe.key!==null?ee.set(oe.key,oe):ee.set(oe.index,oe),oe=oe.sibling;return ee}function w(oe,ee){return oe=Do(oe,ee),oe.index=0,oe.sibling=null,oe}function T(oe,ee,ce){return oe.index=ce,o?(ce=oe.alternate,ce!==null?(ce=ce.index,ce<ee?(oe.flags|=67108866,ee):ce):(oe.flags|=67108866,ee)):(oe.flags|=1048576,ee)}function P(oe){return o&&oe.alternate===null&&(oe.flags|=67108866),oe}function B(oe,ee,ce,we){return ee===null||ee.tag!==6?(ee=I0(ce,oe.mode,we),ee.return=oe,ee):(ee=w(ee,ce),ee.return=oe,ee)}function Z(oe,ee,ce,we){var rt=ce.type;return rt===x?be(oe,ee,ce.props.children,we,ce.key):ee!==null&&(ee.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===O&&Pl(rt)===ee.type)?(ee=w(ee,ce.props),Jd(ee,ce),ee.return=oe,ee):(ee=Op(ce.type,ce.key,ce.props,null,oe.mode,we),Jd(ee,ce),ee.return=oe,ee)}function ue(oe,ee,ce,we){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ce.containerInfo||ee.stateNode.implementation!==ce.implementation?(ee=L0(ce,oe.mode,we),ee.return=oe,ee):(ee=w(ee,ce.children||[]),ee.return=oe,ee)}function be(oe,ee,ce,we,rt){return ee===null||ee.tag!==7?(ee=Dl(ce,oe.mode,we,rt),ee.return=oe,ee):(ee=w(ee,ce),ee.return=oe,ee)}function je(oe,ee,ce){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=I0(""+ee,oe.mode,ce),ee.return=oe,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case y:return ce=Op(ee.type,ee.key,ee.props,null,oe.mode,ce),Jd(ce,ee),ce.return=oe,ce;case S:return ee=L0(ee,oe.mode,ce),ee.return=oe,ee;case O:return ee=Pl(ee),je(oe,ee,ce)}if(G(ee)||V(ee))return ee=Dl(ee,oe.mode,ce,null),ee.return=oe,ee;if(typeof ee.then=="function")return je(oe,zp(ee),ce);if(ee.$$typeof===R)return je(oe,Pp(oe,ee),ce);$p(oe,ee)}return null}function he(oe,ee,ce,we){var rt=ee!==null?ee.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return rt!==null?null:B(oe,ee,""+ce,we);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case y:return ce.key===rt?Z(oe,ee,ce,we):null;case S:return ce.key===rt?ue(oe,ee,ce,we):null;case O:return ce=Pl(ce),he(oe,ee,ce,we)}if(G(ce)||V(ce))return rt!==null?null:be(oe,ee,ce,we,null);if(typeof ce.then=="function")return he(oe,ee,zp(ce),we);if(ce.$$typeof===R)return he(oe,ee,Pp(oe,ce),we);$p(oe,ce)}return null}function ge(oe,ee,ce,we,rt){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return oe=oe.get(ce)||null,B(ee,oe,""+we,rt);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case y:return oe=oe.get(we.key===null?ce:we.key)||null,Z(ee,oe,we,rt);case S:return oe=oe.get(we.key===null?ce:we.key)||null,ue(ee,oe,we,rt);case O:return we=Pl(we),ge(oe,ee,ce,we,rt)}if(G(we)||V(we))return oe=oe.get(ce)||null,be(ee,oe,we,rt,null);if(typeof we.then=="function")return ge(oe,ee,ce,zp(we),rt);if(we.$$typeof===R)return ge(oe,ee,ce,Pp(ee,we),rt);$p(ee,we)}return null}function Ue(oe,ee,ce,we){for(var rt=null,Xt=null,Ge=ee,Et=ee=0,qt=null;Ge!==null&&Et<ce.length;Et++){Ge.index>Et?(qt=Ge,Ge=null):qt=Ge.sibling;var Zt=he(oe,Ge,ce[Et],we);if(Zt===null){Ge===null&&(Ge=qt);break}o&&Ge&&Zt.alternate===null&&c(oe,Ge),ee=T(Zt,ee,Et),Xt===null?rt=Zt:Xt.sibling=Zt,Xt=Zt,Ge=qt}if(Et===ce.length)return f(oe,Ge),Ht&&Ao(oe,Et),rt;if(Ge===null){for(;Et<ce.length;Et++)Ge=je(oe,ce[Et],we),Ge!==null&&(ee=T(Ge,ee,Et),Xt===null?rt=Ge:Xt.sibling=Ge,Xt=Ge);return Ht&&Ao(oe,Et),rt}for(Ge=v(Ge);Et<ce.length;Et++)qt=ge(Ge,oe,Et,ce[Et],we),qt!==null&&(o&&qt.alternate!==null&&Ge.delete(qt.key===null?Et:qt.key),ee=T(qt,ee,Et),Xt===null?rt=qt:Xt.sibling=qt,Xt=qt);return o&&Ge.forEach(function(zs){return c(oe,zs)}),Ht&&Ao(oe,Et),rt}function it(oe,ee,ce,we){if(ce==null)throw Error(r(151));for(var rt=null,Xt=null,Ge=ee,Et=ee=0,qt=null,Zt=ce.next();Ge!==null&&!Zt.done;Et++,Zt=ce.next()){Ge.index>Et?(qt=Ge,Ge=null):qt=Ge.sibling;var zs=he(oe,Ge,Zt.value,we);if(zs===null){Ge===null&&(Ge=qt);break}o&&Ge&&zs.alternate===null&&c(oe,Ge),ee=T(zs,ee,Et),Xt===null?rt=zs:Xt.sibling=zs,Xt=zs,Ge=qt}if(Zt.done)return f(oe,Ge),Ht&&Ao(oe,Et),rt;if(Ge===null){for(;!Zt.done;Et++,Zt=ce.next())Zt=je(oe,Zt.value,we),Zt!==null&&(ee=T(Zt,ee,Et),Xt===null?rt=Zt:Xt.sibling=Zt,Xt=Zt);return Ht&&Ao(oe,Et),rt}for(Ge=v(Ge);!Zt.done;Et++,Zt=ce.next())Zt=ge(Ge,oe,Et,Zt.value,we),Zt!==null&&(o&&Zt.alternate!==null&&Ge.delete(Zt.key===null?Et:Zt.key),ee=T(Zt,ee,Et),Xt===null?rt=Zt:Xt.sibling=Zt,Xt=Zt);return o&&Ge.forEach(function(jB){return c(oe,jB)}),Ht&&Ao(oe,Et),rt}function cn(oe,ee,ce,we){if(typeof ce=="object"&&ce!==null&&ce.type===x&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case y:e:{for(var rt=ce.key;ee!==null;){if(ee.key===rt){if(rt=ce.type,rt===x){if(ee.tag===7){f(oe,ee.sibling),we=w(ee,ce.props.children),we.return=oe,oe=we;break e}}else if(ee.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===O&&Pl(rt)===ee.type){f(oe,ee.sibling),we=w(ee,ce.props),Jd(we,ce),we.return=oe,oe=we;break e}f(oe,ee);break}else c(oe,ee);ee=ee.sibling}ce.type===x?(we=Dl(ce.props.children,oe.mode,we,ce.key),we.return=oe,oe=we):(we=Op(ce.type,ce.key,ce.props,null,oe.mode,we),Jd(we,ce),we.return=oe,oe=we)}return P(oe);case S:e:{for(rt=ce.key;ee!==null;){if(ee.key===rt)if(ee.tag===4&&ee.stateNode.containerInfo===ce.containerInfo&&ee.stateNode.implementation===ce.implementation){f(oe,ee.sibling),we=w(ee,ce.children||[]),we.return=oe,oe=we;break e}else{f(oe,ee);break}else c(oe,ee);ee=ee.sibling}we=L0(ce,oe.mode,we),we.return=oe,oe=we}return P(oe);case O:return ce=Pl(ce),cn(oe,ee,ce,we)}if(G(ce))return Ue(oe,ee,ce,we);if(V(ce)){if(rt=V(ce),typeof rt!="function")throw Error(r(150));return ce=rt.call(ce),it(oe,ee,ce,we)}if(typeof ce.then=="function")return cn(oe,ee,zp(ce),we);if(ce.$$typeof===R)return cn(oe,ee,Pp(oe,ce),we);$p(oe,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,ee!==null&&ee.tag===6?(f(oe,ee.sibling),we=w(ee,ce),we.return=oe,oe=we):(f(oe,ee),we=I0(ce,oe.mode,we),we.return=oe,oe=we),P(oe)):f(oe,ee)}return function(oe,ee,ce,we){try{Zd=0;var rt=cn(oe,ee,ce,we);return fu=null,rt}catch(Ge){if(Ge===du||Ge===Ip)throw Ge;var Xt=ka(29,Ge,null,oe.mode);return Xt.lanes=we,Xt.return=oe,Xt}finally{}}}var Il=iD(!0),oD=iD(!1),Ss=!1;function Q0(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function K0(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function ws(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Cs(o,c,f){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(Jt&2)!==0){var w=v.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),v.pending=c,c=Ap(o),H2(o,null,f),c}return Dp(o,v,c,f),Ap(o)}function ef(o,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194048)!==0)){var v=c.lanes;v&=o.pendingLanes,f|=v,c.lanes=f,K(o,f)}}function X0(o,c){var f=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,f===v)){var w=null,T=null;if(f=f.firstBaseUpdate,f!==null){do{var P={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};T===null?w=T=P:T=T.next=P,f=f.next}while(f!==null);T===null?w=T=c:T=T.next=c}else w=T=c;f={baseState:v.baseState,firstBaseUpdate:w,lastBaseUpdate:T,shared:v.shared,callbacks:v.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=c}var Z0=!1;function tf(){if(Z0){var o=uu;if(o!==null)throw o}}function nf(o,c,f,v){Z0=!1;var w=o.updateQueue;Ss=!1;var T=w.firstBaseUpdate,P=w.lastBaseUpdate,B=w.shared.pending;if(B!==null){w.shared.pending=null;var Z=B,ue=Z.next;Z.next=null,P===null?T=ue:P.next=ue,P=Z;var be=o.alternate;be!==null&&(be=be.updateQueue,B=be.lastBaseUpdate,B!==P&&(B===null?be.firstBaseUpdate=ue:B.next=ue,be.lastBaseUpdate=Z))}if(T!==null){var je=w.baseState;P=0,be=ue=Z=null,B=T;do{var he=B.lane&-536870913,ge=he!==B.lane;if(ge?($t&he)===he:(v&he)===he){he!==0&&he===cu&&(Z0=!0),be!==null&&(be=be.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var Ue=o,it=B;he=c;var cn=f;switch(it.tag){case 1:if(Ue=it.payload,typeof Ue=="function"){je=Ue.call(cn,je,he);break e}je=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=it.payload,he=typeof Ue=="function"?Ue.call(cn,je,he):Ue,he==null)break e;je=m({},je,he);break e;case 2:Ss=!0}}he=B.callback,he!==null&&(o.flags|=64,ge&&(o.flags|=8192),ge=w.callbacks,ge===null?w.callbacks=[he]:ge.push(he))}else ge={lane:he,tag:B.tag,payload:B.payload,callback:B.callback,next:null},be===null?(ue=be=ge,Z=je):be=be.next=ge,P|=he;if(B=B.next,B===null){if(B=w.shared.pending,B===null)break;ge=B,B=ge.next,ge.next=null,w.lastBaseUpdate=ge,w.shared.pending=null}}while(!0);be===null&&(Z=je),w.baseState=Z,w.firstBaseUpdate=ue,w.lastBaseUpdate=be,T===null&&(w.shared.lanes=0),_s|=P,o.lanes=P,o.memoizedState=je}}function sD(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function lD(o,c){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)sD(f[o],c)}var hu=H(null),qp=H(0);function cD(o,c){o=Uo,Q(qp,o),Q(hu,c),Uo=o|c.baseLanes}function J0(){Q(qp,Uo),Q(hu,hu.current)}function eb(){Uo=qp.current,F(hu),F(qp)}var Ma=H(null),ai=null;function js(o){var c=o.alternate;Q(Bn,Bn.current&1),Q(Ma,o),ai===null&&(c===null||hu.current!==null||c.memoizedState!==null)&&(ai=o)}function tb(o){Q(Bn,Bn.current),Q(Ma,o),ai===null&&(ai=o)}function uD(o){o.tag===22?(Q(Bn,Bn.current),Q(Ma,o),ai===null&&(ai=o)):Es()}function Es(){Q(Bn,Bn.current),Q(Ma,Ma.current)}function Pa(o){F(Ma),ai===o&&(ai=null),F(Bn)}var Bn=H(0);function Up(o){for(var c=o;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||sx(f)||lx(f)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Mo=0,Ct=null,sn=null,Zn=null,Bp=!1,pu=!1,Ll=!1,Hp=0,rf=0,mu=null,pU=0;function Mn(){throw Error(r(321))}function nb(o,c){if(c===null)return!1;for(var f=0;f<c.length&&f<o.length;f++)if(!Oa(o[f],c[f]))return!1;return!0}function rb(o,c,f,v,w,T){return Mo=T,Ct=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,N.H=o===null||o.memoizedState===null?GD:yb,Ll=!1,T=f(v,w),Ll=!1,pu&&(T=fD(c,f,v,w)),dD(o),T}function dD(o){N.H=sf;var c=sn!==null&&sn.next!==null;if(Mo=0,Zn=sn=Ct=null,Bp=!1,rf=0,mu=null,c)throw Error(r(300));o===null||Jn||(o=o.dependencies,o!==null&&Mp(o)&&(Jn=!0))}function fD(o,c,f,v){Ct=o;var w=0;do{if(pu&&(mu=null),rf=0,pu=!1,25<=w)throw Error(r(301));if(w+=1,Zn=sn=null,o.updateQueue!=null){var T=o.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}N.H=YD,T=c(f,v)}while(pu);return T}function mU(){var o=N.H,c=o.useState()[0];return c=typeof c.then=="function"?af(c):c,o=o.useState()[0],(sn!==null?sn.memoizedState:null)!==o&&(Ct.flags|=1024),c}function ab(){var o=Hp!==0;return Hp=0,o}function ib(o,c,f){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~f}function ob(o){if(Bp){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Bp=!1}Mo=0,Zn=sn=Ct=null,pu=!1,rf=Hp=0,mu=null}function Kr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?Ct.memoizedState=Zn=o:Zn=Zn.next=o,Zn}function Hn(){if(sn===null){var o=Ct.alternate;o=o!==null?o.memoizedState:null}else o=sn.next;var c=Zn===null?Ct.memoizedState:Zn.next;if(c!==null)Zn=c,sn=o;else{if(o===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));sn=o,o={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},Zn===null?Ct.memoizedState=Zn=o:Zn=Zn.next=o}return Zn}function Fp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function af(o){var c=rf;return rf+=1,mu===null&&(mu=[]),o=nD(mu,o,c),c=Ct,(Zn===null?c.memoizedState:Zn.next)===null&&(c=c.alternate,N.H=c===null||c.memoizedState===null?GD:yb),o}function Vp(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return af(o);if(o.$$typeof===R)return _r(o)}throw Error(r(438,String(o)))}function sb(o){var c=null,f=Ct.updateQueue;if(f!==null&&(c=f.memoCache),c==null){var v=Ct.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(w){return w.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),f===null&&(f=Fp(),Ct.updateQueue=f),f.memoCache=c,f=c.data[c.index],f===void 0)for(f=c.data[c.index]=Array(o),v=0;v<o;v++)f[v]=I;return c.index++,f}function Po(o,c){return typeof c=="function"?c(o):c}function Wp(o){var c=Hn();return lb(c,sn,o)}function lb(o,c,f){var v=o.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=f;var w=o.baseQueue,T=v.pending;if(T!==null){if(w!==null){var P=w.next;w.next=T.next,T.next=P}c.baseQueue=w=T,v.pending=null}if(T=o.baseState,w===null)o.memoizedState=T;else{c=w.next;var B=P=null,Z=null,ue=c,be=!1;do{var je=ue.lane&-536870913;if(je!==ue.lane?($t&je)===je:(Mo&je)===je){var he=ue.revertLane;if(he===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),je===cu&&(be=!0);else if((Mo&he)===he){ue=ue.next,he===cu&&(be=!0);continue}else je={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Z===null?(B=Z=je,P=T):Z=Z.next=je,Ct.lanes|=he,_s|=he;je=ue.action,Ll&&f(T,je),T=ue.hasEagerState?ue.eagerState:f(T,je)}else he={lane:je,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Z===null?(B=Z=he,P=T):Z=Z.next=he,Ct.lanes|=je,_s|=je;ue=ue.next}while(ue!==null&&ue!==c);if(Z===null?P=T:Z.next=B,!Oa(T,o.memoizedState)&&(Jn=!0,be&&(f=uu,f!==null)))throw f;o.memoizedState=T,o.baseState=P,o.baseQueue=Z,v.lastRenderedState=T}return w===null&&(v.lanes=0),[o.memoizedState,v.dispatch]}function cb(o){var c=Hn(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var v=f.dispatch,w=f.pending,T=c.memoizedState;if(w!==null){f.pending=null;var P=w=w.next;do T=o(T,P.action),P=P.next;while(P!==w);Oa(T,c.memoizedState)||(Jn=!0),c.memoizedState=T,c.baseQueue===null&&(c.baseState=T),f.lastRenderedState=T}return[T,v]}function hD(o,c,f){var v=Ct,w=Hn(),T=Ht;if(T){if(f===void 0)throw Error(r(407));f=f()}else f=c();var P=!Oa((sn||w).memoizedState,f);if(P&&(w.memoizedState=f,Jn=!0),w=w.queue,fb(gD.bind(null,v,w,o),[o]),w.getSnapshot!==c||P||Zn!==null&&Zn.memoizedState.tag&1){if(v.flags|=2048,gu(9,{destroy:void 0},mD.bind(null,v,w,f,c),null),dn===null)throw Error(r(349));T||(Mo&127)!==0||pD(v,c,f)}return f}function pD(o,c,f){o.flags|=16384,o={getSnapshot:c,value:f},c=Ct.updateQueue,c===null?(c=Fp(),Ct.updateQueue=c,c.stores=[o]):(f=c.stores,f===null?c.stores=[o]:f.push(o))}function mD(o,c,f,v){c.value=f,c.getSnapshot=v,vD(c)&&yD(o)}function gD(o,c,f){return f(function(){vD(c)&&yD(o)})}function vD(o){var c=o.getSnapshot;o=o.value;try{var f=c();return!Oa(o,f)}catch{return!0}}function yD(o){var c=_l(o,2);c!==null&&ua(c,o,2)}function ub(o){var c=Kr();if(typeof o=="function"){var f=o;if(o=f(),Ll){Lr(!0);try{f()}finally{Lr(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:o},c}function bD(o,c,f,v){return o.baseState=f,lb(o,sn,typeof v=="function"?v:Po)}function gU(o,c,f,v,w){if(Qp(o))throw Error(r(485));if(o=c.action,o!==null){var T={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){T.listeners.push(P)}};N.T!==null?f(!0):T.isTransition=!1,v(T),f=c.pending,f===null?(T.next=c.pending=T,xD(c,T)):(T.next=f.next,c.pending=f.next=T)}}function xD(o,c){var f=c.action,v=c.payload,w=o.state;if(c.isTransition){var T=N.T,P={};N.T=P;try{var B=f(w,v),Z=N.S;Z!==null&&Z(P,B),SD(o,c,B)}catch(ue){db(o,c,ue)}finally{T!==null&&P.types!==null&&(T.types=P.types),N.T=T}}else try{T=f(w,v),SD(o,c,T)}catch(ue){db(o,c,ue)}}function SD(o,c,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(v){wD(o,c,v)},function(v){return db(o,c,v)}):wD(o,c,f)}function wD(o,c,f){c.status="fulfilled",c.value=f,CD(c),o.state=f,c=o.pending,c!==null&&(f=c.next,f===c?o.pending=null:(f=f.next,c.next=f,xD(o,f)))}function db(o,c,f){var v=o.pending;if(o.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=f,CD(c),c=c.next;while(c!==v)}o.action=null}function CD(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function jD(o,c){return c}function ED(o,c){if(Ht){var f=dn.formState;if(f!==null){e:{var v=Ct;if(Ht){if(vn){t:{for(var w=vn,T=ri;w.nodeType!==8;){if(!T){w=null;break t}if(w=ii(w.nextSibling),w===null){w=null;break t}}T=w.data,w=T==="F!"||T==="F"?w:null}if(w){vn=ii(w.nextSibling),v=w.data==="F!";break e}}bs(v)}v=!1}v&&(c=f[0])}}return f=Kr(),f.memoizedState=f.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jD,lastRenderedState:c},f.queue=v,f=FD.bind(null,Ct,v),v.dispatch=f,v=ub(!1),T=vb.bind(null,Ct,!1,v.queue),v=Kr(),w={state:c,dispatch:null,action:o,pending:null},v.queue=w,f=gU.bind(null,Ct,w,T,f),w.dispatch=f,v.memoizedState=o,[c,f,!1]}function TD(o){var c=Hn();return RD(c,sn,o)}function RD(o,c,f){if(c=lb(o,c,jD)[0],o=Wp(Po)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=af(c)}catch(P){throw P===du?Ip:P}else v=c;c=Hn();var w=c.queue,T=w.dispatch;return f!==c.memoizedState&&(Ct.flags|=2048,gu(9,{destroy:void 0},vU.bind(null,w,f),null)),[v,T,o]}function vU(o,c){o.action=c}function _D(o){var c=Hn(),f=sn;if(f!==null)return RD(c,f,o);Hn(),c=c.memoizedState,f=Hn();var v=f.queue.dispatch;return f.memoizedState=o,[c,v,!1]}function gu(o,c,f,v){return o={tag:o,create:f,deps:v,inst:c,next:null},c=Ct.updateQueue,c===null&&(c=Fp(),Ct.updateQueue=c),f=c.lastEffect,f===null?c.lastEffect=o.next=o:(v=f.next,f.next=o,o.next=v,c.lastEffect=o),o}function DD(){return Hn().memoizedState}function Gp(o,c,f,v){var w=Kr();Ct.flags|=o,w.memoizedState=gu(1|c,{destroy:void 0},f,v===void 0?null:v)}function Yp(o,c,f,v){var w=Hn();v=v===void 0?null:v;var T=w.memoizedState.inst;sn!==null&&v!==null&&nb(v,sn.memoizedState.deps)?w.memoizedState=gu(c,T,f,v):(Ct.flags|=o,w.memoizedState=gu(1|c,T,f,v))}function AD(o,c){Gp(8390656,8,o,c)}function fb(o,c){Yp(2048,8,o,c)}function yU(o){Ct.flags|=4;var c=Ct.updateQueue;if(c===null)c=Fp(),Ct.updateQueue=c,c.events=[o];else{var f=c.events;f===null?c.events=[o]:f.push(o)}}function OD(o){var c=Hn().memoizedState;return yU({ref:c,nextImpl:o}),function(){if((Jt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function kD(o,c){return Yp(4,2,o,c)}function MD(o,c){return Yp(4,4,o,c)}function PD(o,c){if(typeof c=="function"){o=o();var f=c(o);return function(){typeof f=="function"?f():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function ND(o,c,f){f=f!=null?f.concat([o]):null,Yp(4,4,PD.bind(null,c,o),f)}function hb(){}function ID(o,c){var f=Hn();c=c===void 0?null:c;var v=f.memoizedState;return c!==null&&nb(c,v[1])?v[0]:(f.memoizedState=[o,c],o)}function LD(o,c){var f=Hn();c=c===void 0?null:c;var v=f.memoizedState;if(c!==null&&nb(c,v[1]))return v[0];if(v=o(),Ll){Lr(!0);try{o()}finally{Lr(!1)}}return f.memoizedState=[v,c],v}function pb(o,c,f){return f===void 0||(Mo&1073741824)!==0&&($t&261930)===0?o.memoizedState=c:(o.memoizedState=f,o=zA(),Ct.lanes|=o,_s|=o,f)}function zD(o,c,f,v){return Oa(f,c)?f:hu.current!==null?(o=pb(o,f,v),Oa(o,c)||(Jn=!0),o):(Mo&42)===0||(Mo&1073741824)!==0&&($t&261930)===0?(Jn=!0,o.memoizedState=f):(o=zA(),Ct.lanes|=o,_s|=o,c)}function $D(o,c,f,v,w){var T=z.p;z.p=T!==0&&8>T?T:8;var P=N.T,B={};N.T=B,vb(o,!1,c,f);try{var Z=w(),ue=N.S;if(ue!==null&&ue(B,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var be=hU(Z,v);of(o,c,be,La(o))}else of(o,c,v,La(o))}catch(je){of(o,c,{then:function(){},status:"rejected",reason:je},La())}finally{z.p=T,P!==null&&B.types!==null&&(P.types=B.types),N.T=P}}function bU(){}function mb(o,c,f,v){if(o.tag!==5)throw Error(r(476));var w=qD(o).queue;$D(o,w,c,$,f===null?bU:function(){return UD(o),f(v)})}function qD(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:$},next:null};var f={};return c.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:f},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function UD(o){var c=qD(o);c.next===null&&(c=o.alternate.memoizedState),of(o,c.next.queue,{},La())}function gb(){return _r(Cf)}function BD(){return Hn().memoizedState}function HD(){return Hn().memoizedState}function xU(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var f=La();o=ws(f);var v=Cs(c,o,f);v!==null&&(ua(v,c,f),ef(v,c,f)),c={cache:V0()},o.payload=c;return}c=c.return}}function SU(o,c,f){var v=La();f={lane:v,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Qp(o)?VD(c,f):(f=P0(o,c,f,v),f!==null&&(ua(f,o,v),WD(f,c,v)))}function FD(o,c,f){var v=La();of(o,c,f,v)}function of(o,c,f,v){var w={lane:v,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(Qp(o))VD(c,w);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=c.lastRenderedReducer,T!==null))try{var P=c.lastRenderedState,B=T(P,f);if(w.hasEagerState=!0,w.eagerState=B,Oa(B,P))return Dp(o,c,w,0),dn===null&&_p(),!1}catch{}finally{}if(f=P0(o,c,w,v),f!==null)return ua(f,o,v),WD(f,c,v),!0}return!1}function vb(o,c,f,v){if(v={lane:2,revertLane:Qb(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},Qp(o)){if(c)throw Error(r(479))}else c=P0(o,f,v,2),c!==null&&ua(c,o,2)}function Qp(o){var c=o.alternate;return o===Ct||c!==null&&c===Ct}function VD(o,c){pu=Bp=!0;var f=o.pending;f===null?c.next=c:(c.next=f.next,f.next=c),o.pending=c}function WD(o,c,f){if((f&4194048)!==0){var v=c.lanes;v&=o.pendingLanes,f|=v,c.lanes=f,K(o,f)}}var sf={readContext:_r,use:Vp,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useLayoutEffect:Mn,useInsertionEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useSyncExternalStore:Mn,useId:Mn,useHostTransitionStatus:Mn,useFormState:Mn,useActionState:Mn,useOptimistic:Mn,useMemoCache:Mn,useCacheRefresh:Mn};sf.useEffectEvent=Mn;var GD={readContext:_r,use:Vp,useCallback:function(o,c){return Kr().memoizedState=[o,c===void 0?null:c],o},useContext:_r,useEffect:AD,useImperativeHandle:function(o,c,f){f=f!=null?f.concat([o]):null,Gp(4194308,4,PD.bind(null,c,o),f)},useLayoutEffect:function(o,c){return Gp(4194308,4,o,c)},useInsertionEffect:function(o,c){Gp(4,2,o,c)},useMemo:function(o,c){var f=Kr();c=c===void 0?null:c;var v=o();if(Ll){Lr(!0);try{o()}finally{Lr(!1)}}return f.memoizedState=[v,c],v},useReducer:function(o,c,f){var v=Kr();if(f!==void 0){var w=f(c);if(Ll){Lr(!0);try{f(c)}finally{Lr(!1)}}}else w=c;return v.memoizedState=v.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},v.queue=o,o=o.dispatch=SU.bind(null,Ct,o),[v.memoizedState,o]},useRef:function(o){var c=Kr();return o={current:o},c.memoizedState=o},useState:function(o){o=ub(o);var c=o.queue,f=FD.bind(null,Ct,c);return c.dispatch=f,[o.memoizedState,f]},useDebugValue:hb,useDeferredValue:function(o,c){var f=Kr();return pb(f,o,c)},useTransition:function(){var o=ub(!1);return o=$D.bind(null,Ct,o.queue,!0,!1),Kr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,f){var v=Ct,w=Kr();if(Ht){if(f===void 0)throw Error(r(407));f=f()}else{if(f=c(),dn===null)throw Error(r(349));($t&127)!==0||pD(v,c,f)}w.memoizedState=f;var T={value:f,getSnapshot:c};return w.queue=T,AD(gD.bind(null,v,T,o),[o]),v.flags|=2048,gu(9,{destroy:void 0},mD.bind(null,v,T,f,c),null),f},useId:function(){var o=Kr(),c=dn.identifierPrefix;if(Ht){var f=Zi,v=Xi;f=(v&~(1<<32-_n(v)-1)).toString(32)+f,c="_"+c+"R_"+f,f=Hp++,0<f&&(c+="H"+f.toString(32)),c+="_"}else f=pU++,c="_"+c+"r_"+f.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:gb,useFormState:ED,useActionState:ED,useOptimistic:function(o){var c=Kr();c.memoizedState=c.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=f,c=vb.bind(null,Ct,!0,f),f.dispatch=c,[o,c]},useMemoCache:sb,useCacheRefresh:function(){return Kr().memoizedState=xU.bind(null,Ct)},useEffectEvent:function(o){var c=Kr(),f={impl:o};return c.memoizedState=f,function(){if((Jt&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},yb={readContext:_r,use:Vp,useCallback:ID,useContext:_r,useEffect:fb,useImperativeHandle:ND,useInsertionEffect:kD,useLayoutEffect:MD,useMemo:LD,useReducer:Wp,useRef:DD,useState:function(){return Wp(Po)},useDebugValue:hb,useDeferredValue:function(o,c){var f=Hn();return zD(f,sn.memoizedState,o,c)},useTransition:function(){var o=Wp(Po)[0],c=Hn().memoizedState;return[typeof o=="boolean"?o:af(o),c]},useSyncExternalStore:hD,useId:BD,useHostTransitionStatus:gb,useFormState:TD,useActionState:TD,useOptimistic:function(o,c){var f=Hn();return bD(f,sn,o,c)},useMemoCache:sb,useCacheRefresh:HD};yb.useEffectEvent=OD;var YD={readContext:_r,use:Vp,useCallback:ID,useContext:_r,useEffect:fb,useImperativeHandle:ND,useInsertionEffect:kD,useLayoutEffect:MD,useMemo:LD,useReducer:cb,useRef:DD,useState:function(){return cb(Po)},useDebugValue:hb,useDeferredValue:function(o,c){var f=Hn();return sn===null?pb(f,o,c):zD(f,sn.memoizedState,o,c)},useTransition:function(){var o=cb(Po)[0],c=Hn().memoizedState;return[typeof o=="boolean"?o:af(o),c]},useSyncExternalStore:hD,useId:BD,useHostTransitionStatus:gb,useFormState:_D,useActionState:_D,useOptimistic:function(o,c){var f=Hn();return sn!==null?bD(f,sn,o,c):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:sb,useCacheRefresh:HD};YD.useEffectEvent=OD;function bb(o,c,f,v){c=o.memoizedState,f=f(v,c),f=f==null?c:m({},c,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var xb={enqueueSetState:function(o,c,f){o=o._reactInternals;var v=La(),w=ws(v);w.payload=c,f!=null&&(w.callback=f),c=Cs(o,w,v),c!==null&&(ua(c,o,v),ef(c,o,v))},enqueueReplaceState:function(o,c,f){o=o._reactInternals;var v=La(),w=ws(v);w.tag=1,w.payload=c,f!=null&&(w.callback=f),c=Cs(o,w,v),c!==null&&(ua(c,o,v),ef(c,o,v))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var f=La(),v=ws(f);v.tag=2,c!=null&&(v.callback=c),c=Cs(o,v,f),c!==null&&(ua(c,o,f),ef(c,o,f))}};function QD(o,c,f,v,w,T,P){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,T,P):c.prototype&&c.prototype.isPureReactComponent?!Wd(f,v)||!Wd(w,T):!0}function KD(o,c,f,v){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,v),c.state!==o&&xb.enqueueReplaceState(c,c.state,null)}function zl(o,c){var f=c;if("ref"in c){f={};for(var v in c)v!=="ref"&&(f[v]=c[v])}if(o=o.defaultProps){f===c&&(f=m({},f));for(var w in o)f[w]===void 0&&(f[w]=o[w])}return f}function XD(o){Rp(o)}function ZD(o){console.error(o)}function JD(o){Rp(o)}function Kp(o,c){try{var f=o.onUncaughtError;f(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function eA(o,c,f){try{var v=o.onCaughtError;v(f.value,{componentStack:f.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Sb(o,c,f){return f=ws(f),f.tag=3,f.payload={element:null},f.callback=function(){Kp(o,c)},f}function tA(o){return o=ws(o),o.tag=3,o}function nA(o,c,f,v){var w=f.type.getDerivedStateFromError;if(typeof w=="function"){var T=v.value;o.payload=function(){return w(T)},o.callback=function(){eA(c,f,v)}}var P=f.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(o.callback=function(){eA(c,f,v),typeof w!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var B=v.stack;this.componentDidCatch(v.value,{componentStack:B!==null?B:""})})}function wU(o,c,f,v,w){if(f.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=f.alternate,c!==null&&lu(c,f,w,!0),f=Ma.current,f!==null){switch(f.tag){case 31:case 13:return ai===null?lm():f.alternate===null&&Pn===0&&(Pn=3),f.flags&=-257,f.flags|=65536,f.lanes=w,v===Lp?f.flags|=16384:(c=f.updateQueue,c===null?f.updateQueue=new Set([v]):c.add(v),Wb(o,v,w)),!1;case 22:return f.flags|=65536,v===Lp?f.flags|=16384:(c=f.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},f.updateQueue=c):(f=c.retryQueue,f===null?c.retryQueue=new Set([v]):f.add(v)),Wb(o,v,w)),!1}throw Error(r(435,f.tag))}return Wb(o,v,w),lm(),!1}if(Ht)return c=Ma.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=w,v!==q0&&(o=Error(r(422),{cause:v}),Qd(ei(o,f)))):(v!==q0&&(c=Error(r(423),{cause:v}),Qd(ei(c,f))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,v=ei(v,f),w=Sb(o.stateNode,v,w),X0(o,w),Pn!==4&&(Pn=2)),!1;var T=Error(r(520),{cause:v});if(T=ei(T,f),mf===null?mf=[T]:mf.push(T),Pn!==4&&(Pn=2),c===null)return!0;v=ei(v,f),f=c;do{switch(f.tag){case 3:return f.flags|=65536,o=w&-w,f.lanes|=o,o=Sb(f.stateNode,v,o),X0(f,o),!1;case 1:if(c=f.type,T=f.stateNode,(f.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Ds===null||!Ds.has(T))))return f.flags|=65536,w&=-w,f.lanes|=w,w=tA(w),nA(w,o,f,v),X0(f,w),!1}f=f.return}while(f!==null);return!1}var wb=Error(r(461)),Jn=!1;function Dr(o,c,f,v){c.child=o===null?oD(c,null,f,v):Il(c,o.child,f,v)}function rA(o,c,f,v,w){f=f.render;var T=c.ref;if("ref"in v){var P={};for(var B in v)B!=="ref"&&(P[B]=v[B])}else P=v;return kl(c),v=rb(o,c,f,P,T,w),B=ab(),o!==null&&!Jn?(ib(o,c,w),No(o,c,w)):(Ht&&B&&z0(c),c.flags|=1,Dr(o,c,v,w),c.child)}function aA(o,c,f,v,w){if(o===null){var T=f.type;return typeof T=="function"&&!N0(T)&&T.defaultProps===void 0&&f.compare===null?(c.tag=15,c.type=T,iA(o,c,T,v,w)):(o=Op(f.type,null,v,c,c.mode,w),o.ref=c.ref,o.return=c,c.child=o)}if(T=o.child,!Ab(o,w)){var P=T.memoizedProps;if(f=f.compare,f=f!==null?f:Wd,f(P,v)&&o.ref===c.ref)return No(o,c,w)}return c.flags|=1,o=Do(T,v),o.ref=c.ref,o.return=c,c.child=o}function iA(o,c,f,v,w){if(o!==null){var T=o.memoizedProps;if(Wd(T,v)&&o.ref===c.ref)if(Jn=!1,c.pendingProps=v=T,Ab(o,w))(o.flags&131072)!==0&&(Jn=!0);else return c.lanes=o.lanes,No(o,c,w)}return Cb(o,c,f,v,w)}function oA(o,c,f,v){var w=v.children,T=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((c.flags&128)!==0){if(T=T!==null?T.baseLanes|f:f,o!==null){for(v=c.child=o.child,w=0;v!==null;)w=w|v.lanes|v.childLanes,v=v.sibling;v=w&~T}else v=0,c.child=null;return sA(o,c,T,f,v)}if((f&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Np(c,T!==null?T.cachePool:null),T!==null?cD(c,T):J0(),uD(c);else return v=c.lanes=536870912,sA(o,c,T!==null?T.baseLanes|f:f,f,v)}else T!==null?(Np(c,T.cachePool),cD(c,T),Es(),c.memoizedState=null):(o!==null&&Np(c,null),J0(),Es());return Dr(o,c,w,f),c.child}function lf(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function sA(o,c,f,v,w){var T=G0();return T=T===null?null:{parent:Xn._currentValue,pool:T},c.memoizedState={baseLanes:f,cachePool:T},o!==null&&Np(c,null),J0(),uD(c),o!==null&&lu(o,c,v,!0),c.childLanes=w,null}function Xp(o,c){return c=Jp({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function lA(o,c,f){return Il(c,o.child,null,f),o=Xp(c,c.pendingProps),o.flags|=2,Pa(c),c.memoizedState=null,o}function CU(o,c,f){var v=c.pendingProps,w=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(Ht){if(v.mode==="hidden")return o=Xp(c,v),c.lanes=536870912,lf(null,o);if(tb(c),(o=vn)?(o=xO(o,ri),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:vs!==null?{id:Xi,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},f=V2(o),f.return=c,c.child=f,Rr=c,vn=null)):o=null,o===null)throw bs(c);return c.lanes=536870912,null}return Xp(c,v)}var T=o.memoizedState;if(T!==null){var P=T.dehydrated;if(tb(c),w)if(c.flags&256)c.flags&=-257,c=lA(o,c,f);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(r(558));else if(Jn||lu(o,c,f,!1),w=(f&o.childLanes)!==0,Jn||w){if(v=dn,v!==null&&(P=ie(v,f),P!==0&&P!==T.retryLane))throw T.retryLane=P,_l(o,P),ua(v,o,P),wb;lm(),c=lA(o,c,f)}else o=T.treeContext,vn=ii(P.nextSibling),Rr=c,Ht=!0,ys=null,ri=!1,o!==null&&Y2(c,o),c=Xp(c,v),c.flags|=4096;return c}return o=Do(o.child,{mode:v.mode,children:v.children}),o.ref=c.ref,c.child=o,o.return=c,o}function Zp(o,c){var f=c.ref;if(f===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(c.flags|=4194816)}}function Cb(o,c,f,v,w){return kl(c),f=rb(o,c,f,v,void 0,w),v=ab(),o!==null&&!Jn?(ib(o,c,w),No(o,c,w)):(Ht&&v&&z0(c),c.flags|=1,Dr(o,c,f,w),c.child)}function cA(o,c,f,v,w,T){return kl(c),c.updateQueue=null,f=fD(c,v,f,w),dD(o),v=ab(),o!==null&&!Jn?(ib(o,c,T),No(o,c,T)):(Ht&&v&&z0(c),c.flags|=1,Dr(o,c,f,T),c.child)}function uA(o,c,f,v,w){if(kl(c),c.stateNode===null){var T=au,P=f.contextType;typeof P=="object"&&P!==null&&(T=_r(P)),T=new f(v,T),c.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=xb,c.stateNode=T,T._reactInternals=c,T=c.stateNode,T.props=v,T.state=c.memoizedState,T.refs={},Q0(c),P=f.contextType,T.context=typeof P=="object"&&P!==null?_r(P):au,T.state=c.memoizedState,P=f.getDerivedStateFromProps,typeof P=="function"&&(bb(c,f,P,v),T.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(P=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),P!==T.state&&xb.enqueueReplaceState(T,T.state,null),nf(c,v,T,w),tf(),T.state=c.memoizedState),typeof T.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(o===null){T=c.stateNode;var B=c.memoizedProps,Z=zl(f,B);T.props=Z;var ue=T.context,be=f.contextType;P=au,typeof be=="object"&&be!==null&&(P=_r(be));var je=f.getDerivedStateFromProps;be=typeof je=="function"||typeof T.getSnapshotBeforeUpdate=="function",B=c.pendingProps!==B,be||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(B||ue!==P)&&KD(c,T,v,P),Ss=!1;var he=c.memoizedState;T.state=he,nf(c,v,T,w),tf(),ue=c.memoizedState,B||he!==ue||Ss?(typeof je=="function"&&(bb(c,f,je,v),ue=c.memoizedState),(Z=Ss||QD(c,f,Z,v,he,ue,P))?(be||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(c.flags|=4194308)):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=ue),T.props=v,T.state=ue,T.context=P,v=Z):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{T=c.stateNode,K0(o,c),P=c.memoizedProps,be=zl(f,P),T.props=be,je=c.pendingProps,he=T.context,ue=f.contextType,Z=au,typeof ue=="object"&&ue!==null&&(Z=_r(ue)),B=f.getDerivedStateFromProps,(ue=typeof B=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P!==je||he!==Z)&&KD(c,T,v,Z),Ss=!1,he=c.memoizedState,T.state=he,nf(c,v,T,w),tf();var ge=c.memoizedState;P!==je||he!==ge||Ss||o!==null&&o.dependencies!==null&&Mp(o.dependencies)?(typeof B=="function"&&(bb(c,f,B,v),ge=c.memoizedState),(be=Ss||QD(c,f,be,v,he,ge,Z)||o!==null&&o.dependencies!==null&&Mp(o.dependencies))?(ue||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(v,ge,Z),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(v,ge,Z)),typeof T.componentDidUpdate=="function"&&(c.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof T.componentDidUpdate!="function"||P===o.memoizedProps&&he===o.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===o.memoizedProps&&he===o.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=ge),T.props=v,T.state=ge,T.context=Z,v=be):(typeof T.componentDidUpdate!="function"||P===o.memoizedProps&&he===o.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===o.memoizedProps&&he===o.memoizedState||(c.flags|=1024),v=!1)}return T=v,Zp(o,c),v=(c.flags&128)!==0,T||v?(T=c.stateNode,f=v&&typeof f.getDerivedStateFromError!="function"?null:T.render(),c.flags|=1,o!==null&&v?(c.child=Il(c,o.child,null,w),c.child=Il(c,null,f,w)):Dr(o,c,f,w),c.memoizedState=T.state,o=c.child):o=No(o,c,w),o}function dA(o,c,f,v){return Al(),c.flags|=256,Dr(o,c,f,v),c.child}var jb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Eb(o){return{baseLanes:o,cachePool:eD()}}function Tb(o,c,f){return o=o!==null?o.childLanes&~f:0,c&&(o|=Ia),o}function fA(o,c,f){var v=c.pendingProps,w=!1,T=(c.flags&128)!==0,P;if((P=T)||(P=o!==null&&o.memoizedState===null?!1:(Bn.current&2)!==0),P&&(w=!0,c.flags&=-129),P=(c.flags&32)!==0,c.flags&=-33,o===null){if(Ht){if(w?js(c):Es(),(o=vn)?(o=xO(o,ri),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:vs!==null?{id:Xi,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},f=V2(o),f.return=c,c.child=f,Rr=c,vn=null)):o=null,o===null)throw bs(c);return lx(o)?c.lanes=32:c.lanes=536870912,null}var B=v.children;return v=v.fallback,w?(Es(),w=c.mode,B=Jp({mode:"hidden",children:B},w),v=Dl(v,w,f,null),B.return=c,v.return=c,B.sibling=v,c.child=B,v=c.child,v.memoizedState=Eb(f),v.childLanes=Tb(o,P,f),c.memoizedState=jb,lf(null,v)):(js(c),Rb(c,B))}var Z=o.memoizedState;if(Z!==null&&(B=Z.dehydrated,B!==null)){if(T)c.flags&256?(js(c),c.flags&=-257,c=_b(o,c,f)):c.memoizedState!==null?(Es(),c.child=o.child,c.flags|=128,c=null):(Es(),B=v.fallback,w=c.mode,v=Jp({mode:"visible",children:v.children},w),B=Dl(B,w,f,null),B.flags|=2,v.return=c,B.return=c,v.sibling=B,c.child=v,Il(c,o.child,null,f),v=c.child,v.memoizedState=Eb(f),v.childLanes=Tb(o,P,f),c.memoizedState=jb,c=lf(null,v));else if(js(c),lx(B)){if(P=B.nextSibling&&B.nextSibling.dataset,P)var ue=P.dgst;P=ue,v=Error(r(419)),v.stack="",v.digest=P,Qd({value:v,source:null,stack:null}),c=_b(o,c,f)}else if(Jn||lu(o,c,f,!1),P=(f&o.childLanes)!==0,Jn||P){if(P=dn,P!==null&&(v=ie(P,f),v!==0&&v!==Z.retryLane))throw Z.retryLane=v,_l(o,v),ua(P,o,v),wb;sx(B)||lm(),c=_b(o,c,f)}else sx(B)?(c.flags|=192,c.child=o.child,c=null):(o=Z.treeContext,vn=ii(B.nextSibling),Rr=c,Ht=!0,ys=null,ri=!1,o!==null&&Y2(c,o),c=Rb(c,v.children),c.flags|=4096);return c}return w?(Es(),B=v.fallback,w=c.mode,Z=o.child,ue=Z.sibling,v=Do(Z,{mode:"hidden",children:v.children}),v.subtreeFlags=Z.subtreeFlags&65011712,ue!==null?B=Do(ue,B):(B=Dl(B,w,f,null),B.flags|=2),B.return=c,v.return=c,v.sibling=B,c.child=v,lf(null,v),v=c.child,B=o.child.memoizedState,B===null?B=Eb(f):(w=B.cachePool,w!==null?(Z=Xn._currentValue,w=w.parent!==Z?{parent:Z,pool:Z}:w):w=eD(),B={baseLanes:B.baseLanes|f,cachePool:w}),v.memoizedState=B,v.childLanes=Tb(o,P,f),c.memoizedState=jb,lf(o.child,v)):(js(c),f=o.child,o=f.sibling,f=Do(f,{mode:"visible",children:v.children}),f.return=c,f.sibling=null,o!==null&&(P=c.deletions,P===null?(c.deletions=[o],c.flags|=16):P.push(o)),c.child=f,c.memoizedState=null,f)}function Rb(o,c){return c=Jp({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Jp(o,c){return o=ka(22,o,null,c),o.lanes=0,o}function _b(o,c,f){return Il(c,o.child,null,f),o=Rb(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function hA(o,c,f){o.lanes|=c;var v=o.alternate;v!==null&&(v.lanes|=c),H0(o.return,c,f)}function Db(o,c,f,v,w,T){var P=o.memoizedState;P===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:f,tailMode:w,treeForkCount:T}:(P.isBackwards=c,P.rendering=null,P.renderingStartTime=0,P.last=v,P.tail=f,P.tailMode=w,P.treeForkCount=T)}function pA(o,c,f){var v=c.pendingProps,w=v.revealOrder,T=v.tail;v=v.children;var P=Bn.current,B=(P&2)!==0;if(B?(P=P&1|2,c.flags|=128):P&=1,Q(Bn,P),Dr(o,c,v,f),v=Ht?Yd:0,!B&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&hA(o,f,c);else if(o.tag===19)hA(o,f,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(w){case"forwards":for(f=c.child,w=null;f!==null;)o=f.alternate,o!==null&&Up(o)===null&&(w=f),f=f.sibling;f=w,f===null?(w=c.child,c.child=null):(w=f.sibling,f.sibling=null),Db(c,!1,w,f,T,v);break;case"backwards":case"unstable_legacy-backwards":for(f=null,w=c.child,c.child=null;w!==null;){if(o=w.alternate,o!==null&&Up(o)===null){c.child=w;break}o=w.sibling,w.sibling=f,f=w,w=o}Db(c,!0,f,null,T,v);break;case"together":Db(c,!1,null,null,void 0,v);break;default:c.memoizedState=null}return c.child}function No(o,c,f){if(o!==null&&(c.dependencies=o.dependencies),_s|=c.lanes,(f&c.childLanes)===0)if(o!==null){if(lu(o,c,f,!1),(f&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,f=Do(o,o.pendingProps),c.child=f,f.return=c;o.sibling!==null;)o=o.sibling,f=f.sibling=Do(o,o.pendingProps),f.return=c;f.sibling=null}return c.child}function Ab(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Mp(o)))}function jU(o,c,f){switch(c.tag){case 3:Re(c,c.stateNode.containerInfo),xs(c,Xn,o.memoizedState.cache),Al();break;case 27:case 5:Ye(c);break;case 4:Re(c,c.stateNode.containerInfo);break;case 10:xs(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,tb(c),null;break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(js(c),c.flags|=128,null):(f&c.child.childLanes)!==0?fA(o,c,f):(js(c),o=No(o,c,f),o!==null?o.sibling:null);js(c);break;case 19:var w=(o.flags&128)!==0;if(v=(f&c.childLanes)!==0,v||(lu(o,c,f,!1),v=(f&c.childLanes)!==0),w){if(v)return pA(o,c,f);c.flags|=128}if(w=c.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Q(Bn,Bn.current),v)break;return null;case 22:return c.lanes=0,oA(o,c,f,c.pendingProps);case 24:xs(c,Xn,o.memoizedState.cache)}return No(o,c,f)}function mA(o,c,f){if(o!==null)if(o.memoizedProps!==c.pendingProps)Jn=!0;else{if(!Ab(o,f)&&(c.flags&128)===0)return Jn=!1,jU(o,c,f);Jn=(o.flags&131072)!==0}else Jn=!1,Ht&&(c.flags&1048576)!==0&&G2(c,Yd,c.index);switch(c.lanes=0,c.tag){case 16:e:{var v=c.pendingProps;if(o=Pl(c.elementType),c.type=o,typeof o=="function")N0(o)?(v=zl(o,v),c.tag=1,c=uA(null,c,o,v,f)):(c.tag=0,c=Cb(null,c,o,v,f));else{if(o!=null){var w=o.$$typeof;if(w===_){c.tag=11,c=rA(null,c,o,v,f);break e}else if(w===D){c.tag=14,c=aA(null,c,o,v,f);break e}}throw c=U(o)||o,Error(r(306,c,""))}}return c;case 0:return Cb(o,c,c.type,c.pendingProps,f);case 1:return v=c.type,w=zl(v,c.pendingProps),uA(o,c,v,w,f);case 3:e:{if(Re(c,c.stateNode.containerInfo),o===null)throw Error(r(387));v=c.pendingProps;var T=c.memoizedState;w=T.element,K0(o,c),nf(c,v,null,f);var P=c.memoizedState;if(v=P.cache,xs(c,Xn,v),v!==T.cache&&F0(c,[Xn],f,!0),tf(),v=P.element,T.isDehydrated)if(T={element:v,isDehydrated:!1,cache:P.cache},c.updateQueue.baseState=T,c.memoizedState=T,c.flags&256){c=dA(o,c,v,f);break e}else if(v!==w){w=ei(Error(r(424)),c),Qd(w),c=dA(o,c,v,f);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(vn=ii(o.firstChild),Rr=c,Ht=!0,ys=null,ri=!0,f=oD(c,null,v,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Al(),v===w){c=No(o,c,f);break e}Dr(o,c,v,f)}c=c.child}return c;case 26:return Zp(o,c),o===null?(f=TO(c.type,null,c.pendingProps,null))?c.memoizedState=f:Ht||(f=c.type,o=c.pendingProps,v=mm(de.current).createElement(f),v[Pe]=c,v[Ie]=o,Ar(v,f,o),un(v),c.stateNode=v):c.memoizedState=TO(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Ye(c),o===null&&Ht&&(v=c.stateNode=CO(c.type,c.pendingProps,de.current),Rr=c,ri=!0,w=vn,Ms(c.type)?(cx=w,vn=ii(v.firstChild)):vn=w),Dr(o,c,c.pendingProps.children,f),Zp(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Ht&&((w=v=vn)&&(v=eB(v,c.type,c.pendingProps,ri),v!==null?(c.stateNode=v,Rr=c,vn=ii(v.firstChild),ri=!1,w=!0):w=!1),w||bs(c)),Ye(c),w=c.type,T=c.pendingProps,P=o!==null?o.memoizedProps:null,v=T.children,ax(w,T)?v=null:P!==null&&ax(w,P)&&(c.flags|=32),c.memoizedState!==null&&(w=rb(o,c,mU,null,null,f),Cf._currentValue=w),Zp(o,c),Dr(o,c,v,f),c.child;case 6:return o===null&&Ht&&((o=f=vn)&&(f=tB(f,c.pendingProps,ri),f!==null?(c.stateNode=f,Rr=c,vn=null,o=!0):o=!1),o||bs(c)),null;case 13:return fA(o,c,f);case 4:return Re(c,c.stateNode.containerInfo),v=c.pendingProps,o===null?c.child=Il(c,null,v,f):Dr(o,c,v,f),c.child;case 11:return rA(o,c,c.type,c.pendingProps,f);case 7:return Dr(o,c,c.pendingProps,f),c.child;case 8:return Dr(o,c,c.pendingProps.children,f),c.child;case 12:return Dr(o,c,c.pendingProps.children,f),c.child;case 10:return v=c.pendingProps,xs(c,c.type,v.value),Dr(o,c,v.children,f),c.child;case 9:return w=c.type._context,v=c.pendingProps.children,kl(c),w=_r(w),v=v(w),c.flags|=1,Dr(o,c,v,f),c.child;case 14:return aA(o,c,c.type,c.pendingProps,f);case 15:return iA(o,c,c.type,c.pendingProps,f);case 19:return pA(o,c,f);case 31:return CU(o,c,f);case 22:return oA(o,c,f,c.pendingProps);case 24:return kl(c),v=_r(Xn),o===null?(w=G0(),w===null&&(w=dn,T=V0(),w.pooledCache=T,T.refCount++,T!==null&&(w.pooledCacheLanes|=f),w=T),c.memoizedState={parent:v,cache:w},Q0(c),xs(c,Xn,w)):((o.lanes&f)!==0&&(K0(o,c),nf(c,null,null,f),tf()),w=o.memoizedState,T=c.memoizedState,w.parent!==v?(w={parent:v,cache:v},c.memoizedState=w,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=w),xs(c,Xn,v)):(v=T.cache,xs(c,Xn,v),v!==w.cache&&F0(c,[Xn],f,!0))),Dr(o,c,c.pendingProps.children,f),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Io(o){o.flags|=4}function Ob(o,c,f,v,w){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(w&335544128)===w)if(o.stateNode.complete)o.flags|=8192;else if(BA())o.flags|=8192;else throw Nl=Lp,Y0}else o.flags&=-16777217}function gA(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!OO(c))if(BA())o.flags|=8192;else throw Nl=Lp,Y0}function em(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?Un():536870912,o.lanes|=c,xu|=c)}function cf(o,c){if(!Ht)switch(o.tailMode){case"hidden":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function yn(o){var c=o.alternate!==null&&o.alternate.child===o.child,f=0,v=0;if(c)for(var w=o.child;w!==null;)f|=w.lanes|w.childLanes,v|=w.subtreeFlags&65011712,v|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)f|=w.lanes|w.childLanes,v|=w.subtreeFlags,v|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=v,o.childLanes=f,c}function EU(o,c,f){var v=c.pendingProps;switch($0(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(c),null;case 1:return yn(c),null;case 3:return f=c.stateNode,v=null,o!==null&&(v=o.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),ko(Xn),Se(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(su(c)?Io(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,U0())),yn(c),null;case 26:var w=c.type,T=c.memoizedState;return o===null?(Io(c),T!==null?(yn(c),gA(c,T)):(yn(c),Ob(c,w,null,v,f))):T?T!==o.memoizedState?(Io(c),yn(c),gA(c,T)):(yn(c),c.flags&=-16777217):(o=o.memoizedProps,o!==v&&Io(c),yn(c),Ob(c,w,o,v,f)),null;case 27:if(Je(c),f=de.current,w=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==v&&Io(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return yn(c),null}o=J.current,su(c)?Q2(c):(o=CO(w,v,f),c.stateNode=o,Io(c))}return yn(c),null;case 5:if(Je(c),w=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==v&&Io(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return yn(c),null}if(T=J.current,su(c))Q2(c);else{var P=mm(de.current);switch(T){case 1:T=P.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:T=P.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":T=P.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":T=P.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":T=P.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof v.is=="string"?P.createElement("select",{is:v.is}):P.createElement("select"),v.multiple?T.multiple=!0:v.size&&(T.size=v.size);break;default:T=typeof v.is=="string"?P.createElement(w,{is:v.is}):P.createElement(w)}}T[Pe]=c,T[Ie]=v;e:for(P=c.child;P!==null;){if(P.tag===5||P.tag===6)T.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===c)break e;for(;P.sibling===null;){if(P.return===null||P.return===c)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}c.stateNode=T;e:switch(Ar(T,w,v),w){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Io(c)}}return yn(c),Ob(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,f),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==v&&Io(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(r(166));if(o=de.current,su(c)){if(o=c.stateNode,f=c.memoizedProps,v=null,w=Rr,w!==null)switch(w.tag){case 27:case 5:v=w.memoizedProps}o[Pe]=c,o=!!(o.nodeValue===f||v!==null&&v.suppressHydrationWarning===!0||fO(o.nodeValue,f)),o||bs(c,!0)}else o=mm(o).createTextNode(v),o[Pe]=c,c.stateNode=o}return yn(c),null;case 31:if(f=c.memoizedState,o===null||o.memoizedState!==null){if(v=su(c),f!==null){if(o===null){if(!v)throw Error(r(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[Pe]=c}else Al(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;yn(c),o=!1}else f=U0(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=f),o=!0;if(!o)return c.flags&256?(Pa(c),c):(Pa(c),null);if((c.flags&128)!==0)throw Error(r(558))}return yn(c),null;case 13:if(v=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=su(c),v!==null&&v.dehydrated!==null){if(o===null){if(!w)throw Error(r(318));if(w=c.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[Pe]=c}else Al(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;yn(c),w=!1}else w=U0(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return c.flags&256?(Pa(c),c):(Pa(c),null)}return Pa(c),(c.flags&128)!==0?(c.lanes=f,c):(f=v!==null,o=o!==null&&o.memoizedState!==null,f&&(v=c.child,w=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(w=v.alternate.memoizedState.cachePool.pool),T=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(T=v.memoizedState.cachePool.pool),T!==w&&(v.flags|=2048)),f!==o&&f&&(c.child.flags|=8192),em(c,c.updateQueue),yn(c),null);case 4:return Se(),o===null&&Jb(c.stateNode.containerInfo),yn(c),null;case 10:return ko(c.type),yn(c),null;case 19:if(F(Bn),v=c.memoizedState,v===null)return yn(c),null;if(w=(c.flags&128)!==0,T=v.rendering,T===null)if(w)cf(v,!1);else{if(Pn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(T=Up(o),T!==null){for(c.flags|=128,cf(v,!1),o=T.updateQueue,c.updateQueue=o,em(c,o),c.subtreeFlags=0,o=f,f=c.child;f!==null;)F2(f,o),f=f.sibling;return Q(Bn,Bn.current&1|2),Ht&&Ao(c,v.treeForkCount),c.child}o=o.sibling}v.tail!==null&&ut()>im&&(c.flags|=128,w=!0,cf(v,!1),c.lanes=4194304)}else{if(!w)if(o=Up(T),o!==null){if(c.flags|=128,w=!0,o=o.updateQueue,c.updateQueue=o,em(c,o),cf(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!Ht)return yn(c),null}else 2*ut()-v.renderingStartTime>im&&f!==536870912&&(c.flags|=128,w=!0,cf(v,!1),c.lanes=4194304);v.isBackwards?(T.sibling=c.child,c.child=T):(o=v.last,o!==null?o.sibling=T:c.child=T,v.last=T)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=ut(),o.sibling=null,f=Bn.current,Q(Bn,w?f&1|2:f&1),Ht&&Ao(c,v.treeForkCount),o):(yn(c),null);case 22:case 23:return Pa(c),eb(),v=c.memoizedState!==null,o!==null?o.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(f&536870912)!==0&&(c.flags&128)===0&&(yn(c),c.subtreeFlags&6&&(c.flags|=8192)):yn(c),f=c.updateQueue,f!==null&&em(c,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==f&&(c.flags|=2048),o!==null&&F(Ml),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),c.memoizedState.cache!==f&&(c.flags|=2048),ko(Xn),yn(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function TU(o,c){switch($0(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return ko(Xn),Se(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Je(c),null;case 31:if(c.memoizedState!==null){if(Pa(c),c.alternate===null)throw Error(r(340));Al()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Pa(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Al()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return F(Bn),null;case 4:return Se(),null;case 10:return ko(c.type),null;case 22:case 23:return Pa(c),eb(),o!==null&&F(Ml),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return ko(Xn),null;case 25:return null;default:return null}}function vA(o,c){switch($0(c),c.tag){case 3:ko(Xn),Se();break;case 26:case 27:case 5:Je(c);break;case 4:Se();break;case 31:c.memoizedState!==null&&Pa(c);break;case 13:Pa(c);break;case 19:F(Bn);break;case 10:ko(c.type);break;case 22:case 23:Pa(c),eb(),o!==null&&F(Ml);break;case 24:ko(Xn)}}function uf(o,c){try{var f=c.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var w=v.next;f=w;do{if((f.tag&o)===o){v=void 0;var T=f.create,P=f.inst;v=T(),P.destroy=v}f=f.next}while(f!==w)}}catch(B){on(c,c.return,B)}}function Ts(o,c,f){try{var v=c.updateQueue,w=v!==null?v.lastEffect:null;if(w!==null){var T=w.next;v=T;do{if((v.tag&o)===o){var P=v.inst,B=P.destroy;if(B!==void 0){P.destroy=void 0,w=c;var Z=f,ue=B;try{ue()}catch(be){on(w,Z,be)}}}v=v.next}while(v!==T)}}catch(be){on(c,c.return,be)}}function yA(o){var c=o.updateQueue;if(c!==null){var f=o.stateNode;try{lD(c,f)}catch(v){on(o,o.return,v)}}}function bA(o,c,f){f.props=zl(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(v){on(o,c,v)}}function df(o,c){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var v=o.stateNode;break;case 30:v=o.stateNode;break;default:v=o.stateNode}typeof f=="function"?o.refCleanup=f(v):f.current=v}}catch(w){on(o,c,w)}}function Ji(o,c){var f=o.ref,v=o.refCleanup;if(f!==null)if(typeof v=="function")try{v()}catch(w){on(o,c,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(w){on(o,c,w)}else f.current=null}function xA(o){var c=o.type,f=o.memoizedProps,v=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":f.autoFocus&&v.focus();break e;case"img":f.src?v.src=f.src:f.srcSet&&(v.srcset=f.srcSet)}}catch(w){on(o,o.return,w)}}function kb(o,c,f){try{var v=o.stateNode;YU(v,o.type,f,c),v[Ie]=c}catch(w){on(o,o.return,w)}}function SA(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Ms(o.type)||o.tag===4}function Mb(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||SA(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Ms(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Pb(o,c,f){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,c):(c=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,c.appendChild(o),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=Ro));else if(v!==4&&(v===27&&Ms(o.type)&&(f=o.stateNode,c=null),o=o.child,o!==null))for(Pb(o,c,f),o=o.sibling;o!==null;)Pb(o,c,f),o=o.sibling}function tm(o,c,f){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?f.insertBefore(o,c):f.appendChild(o);else if(v!==4&&(v===27&&Ms(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(tm(o,c,f),o=o.sibling;o!==null;)tm(o,c,f),o=o.sibling}function wA(o){var c=o.stateNode,f=o.memoizedProps;try{for(var v=o.type,w=c.attributes;w.length;)c.removeAttributeNode(w[0]);Ar(c,v,f),c[Pe]=o,c[Ie]=f}catch(T){on(o,o.return,T)}}var Lo=!1,er=!1,Nb=!1,CA=typeof WeakSet=="function"?WeakSet:Set,mr=null;function RU(o,c){if(o=o.containerInfo,nx=wm,o=N2(o),_0(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var v=f.getSelection&&f.getSelection();if(v&&v.rangeCount!==0){f=v.anchorNode;var w=v.anchorOffset,T=v.focusNode;v=v.focusOffset;try{f.nodeType,T.nodeType}catch{f=null;break e}var P=0,B=-1,Z=-1,ue=0,be=0,je=o,he=null;t:for(;;){for(var ge;je!==f||w!==0&&je.nodeType!==3||(B=P+w),je!==T||v!==0&&je.nodeType!==3||(Z=P+v),je.nodeType===3&&(P+=je.nodeValue.length),(ge=je.firstChild)!==null;)he=je,je=ge;for(;;){if(je===o)break t;if(he===f&&++ue===w&&(B=P),he===T&&++be===v&&(Z=P),(ge=je.nextSibling)!==null)break;je=he,he=je.parentNode}je=ge}f=B===-1||Z===-1?null:{start:B,end:Z}}else f=null}f=f||{start:0,end:0}}else f=null;for(rx={focusedElem:o,selectionRange:f},wm=!1,mr=c;mr!==null;)if(c=mr,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,mr=o;else for(;mr!==null;){switch(c=mr,T=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(f=0;f<o.length;f++)w=o[f],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&T!==null){o=void 0,f=c,w=T.memoizedProps,T=T.memoizedState,v=f.stateNode;try{var Ue=zl(f.type,w);o=v.getSnapshotBeforeUpdate(Ue,T),v.__reactInternalSnapshotBeforeUpdate=o}catch(it){on(f,f.return,it)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,f=o.nodeType,f===9)ox(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":ox(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,mr=o;break}mr=c.return}}function jA(o,c,f){var v=f.flags;switch(f.tag){case 0:case 11:case 15:$o(o,f),v&4&&uf(5,f);break;case 1:if($o(o,f),v&4)if(o=f.stateNode,c===null)try{o.componentDidMount()}catch(P){on(f,f.return,P)}else{var w=zl(f.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(w,c,o.__reactInternalSnapshotBeforeUpdate)}catch(P){on(f,f.return,P)}}v&64&&yA(f),v&512&&df(f,f.return);break;case 3:if($o(o,f),v&64&&(o=f.updateQueue,o!==null)){if(c=null,f.child!==null)switch(f.child.tag){case 27:case 5:c=f.child.stateNode;break;case 1:c=f.child.stateNode}try{lD(o,c)}catch(P){on(f,f.return,P)}}break;case 27:c===null&&v&4&&wA(f);case 26:case 5:$o(o,f),c===null&&v&4&&xA(f),v&512&&df(f,f.return);break;case 12:$o(o,f);break;case 31:$o(o,f),v&4&&RA(o,f);break;case 13:$o(o,f),v&4&&_A(o,f),v&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=IU.bind(null,f),nB(o,f))));break;case 22:if(v=f.memoizedState!==null||Lo,!v){c=c!==null&&c.memoizedState!==null||er,w=Lo;var T=er;Lo=v,(er=c)&&!T?qo(o,f,(f.subtreeFlags&8772)!==0):$o(o,f),Lo=w,er=T}break;case 30:break;default:$o(o,f)}}function EA(o){var c=o.alternate;c!==null&&(o.alternate=null,EA(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&jn(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var En=null,oa=!1;function zo(o,c,f){for(f=f.child;f!==null;)TA(o,c,f),f=f.sibling}function TA(o,c,f){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Yt,f)}catch{}switch(f.tag){case 26:er||Ji(f,c),zo(o,c,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:er||Ji(f,c);var v=En,w=oa;Ms(f.type)&&(En=f.stateNode,oa=!1),zo(o,c,f),xf(f.stateNode),En=v,oa=w;break;case 5:er||Ji(f,c);case 6:if(v=En,w=oa,En=null,zo(o,c,f),En=v,oa=w,En!==null)if(oa)try{(En.nodeType===9?En.body:En.nodeName==="HTML"?En.ownerDocument.body:En).removeChild(f.stateNode)}catch(T){on(f,c,T)}else try{En.removeChild(f.stateNode)}catch(T){on(f,c,T)}break;case 18:En!==null&&(oa?(o=En,yO(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),_u(o)):yO(En,f.stateNode));break;case 4:v=En,w=oa,En=f.stateNode.containerInfo,oa=!0,zo(o,c,f),En=v,oa=w;break;case 0:case 11:case 14:case 15:Ts(2,f,c),er||Ts(4,f,c),zo(o,c,f);break;case 1:er||(Ji(f,c),v=f.stateNode,typeof v.componentWillUnmount=="function"&&bA(f,c,v)),zo(o,c,f);break;case 21:zo(o,c,f);break;case 22:er=(v=er)||f.memoizedState!==null,zo(o,c,f),er=v;break;default:zo(o,c,f)}}function RA(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{_u(o)}catch(f){on(c,c.return,f)}}}function _A(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{_u(o)}catch(f){on(c,c.return,f)}}function _U(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new CA),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new CA),c;default:throw Error(r(435,o.tag))}}function nm(o,c){var f=_U(o);c.forEach(function(v){if(!f.has(v)){f.add(v);var w=LU.bind(null,o,v);v.then(w,w)}})}function sa(o,c){var f=c.deletions;if(f!==null)for(var v=0;v<f.length;v++){var w=f[v],T=o,P=c,B=P;e:for(;B!==null;){switch(B.tag){case 27:if(Ms(B.type)){En=B.stateNode,oa=!1;break e}break;case 5:En=B.stateNode,oa=!1;break e;case 3:case 4:En=B.stateNode.containerInfo,oa=!0;break e}B=B.return}if(En===null)throw Error(r(160));TA(T,P,w),En=null,oa=!1,T=w.alternate,T!==null&&(T.return=null),w.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)DA(c,o),c=c.sibling}var Oi=null;function DA(o,c){var f=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:sa(c,o),la(o),v&4&&(Ts(3,o,o.return),uf(3,o),Ts(5,o,o.return));break;case 1:sa(c,o),la(o),v&512&&(er||f===null||Ji(f,f.return)),v&64&&Lo&&(o=o.updateQueue,o!==null&&(v=o.callbacks,v!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?v:f.concat(v))));break;case 26:var w=Oi;if(sa(c,o),la(o),v&512&&(er||f===null||Ji(f,f.return)),v&4){var T=f!==null?f.memoizedState:null;if(v=o.memoizedState,f===null)if(v===null)if(o.stateNode===null){e:{v=o.type,f=o.memoizedProps,w=w.ownerDocument||w;t:switch(v){case"title":T=w.getElementsByTagName("title")[0],(!T||T[rn]||T[Pe]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=w.createElement(v),w.head.insertBefore(T,w.querySelector("head > title"))),Ar(T,v,f),T[Pe]=o,un(T),v=T;break e;case"link":var P=DO("link","href",w).get(v+(f.href||""));if(P){for(var B=0;B<P.length;B++)if(T=P[B],T.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&T.getAttribute("rel")===(f.rel==null?null:f.rel)&&T.getAttribute("title")===(f.title==null?null:f.title)&&T.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){P.splice(B,1);break t}}T=w.createElement(v),Ar(T,v,f),w.head.appendChild(T);break;case"meta":if(P=DO("meta","content",w).get(v+(f.content||""))){for(B=0;B<P.length;B++)if(T=P[B],T.getAttribute("content")===(f.content==null?null:""+f.content)&&T.getAttribute("name")===(f.name==null?null:f.name)&&T.getAttribute("property")===(f.property==null?null:f.property)&&T.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&T.getAttribute("charset")===(f.charSet==null?null:f.charSet)){P.splice(B,1);break t}}T=w.createElement(v),Ar(T,v,f),w.head.appendChild(T);break;default:throw Error(r(468,v))}T[Pe]=o,un(T),v=T}o.stateNode=v}else AO(w,o.type,o.stateNode);else o.stateNode=_O(w,v,o.memoizedProps);else T!==v?(T===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):T.count--,v===null?AO(w,o.type,o.stateNode):_O(w,v,o.memoizedProps)):v===null&&o.stateNode!==null&&kb(o,o.memoizedProps,f.memoizedProps)}break;case 27:sa(c,o),la(o),v&512&&(er||f===null||Ji(f,f.return)),f!==null&&v&4&&kb(o,o.memoizedProps,f.memoizedProps);break;case 5:if(sa(c,o),la(o),v&512&&(er||f===null||Ji(f,f.return)),o.flags&32){w=o.stateNode;try{Xc(w,"")}catch(Ue){on(o,o.return,Ue)}}v&4&&o.stateNode!=null&&(w=o.memoizedProps,kb(o,w,f!==null?f.memoizedProps:w)),v&1024&&(Nb=!0);break;case 6:if(sa(c,o),la(o),v&4){if(o.stateNode===null)throw Error(r(162));v=o.memoizedProps,f=o.stateNode;try{f.nodeValue=v}catch(Ue){on(o,o.return,Ue)}}break;case 3:if(ym=null,w=Oi,Oi=gm(c.containerInfo),sa(c,o),Oi=w,la(o),v&4&&f!==null&&f.memoizedState.isDehydrated)try{_u(c.containerInfo)}catch(Ue){on(o,o.return,Ue)}Nb&&(Nb=!1,AA(o));break;case 4:v=Oi,Oi=gm(o.stateNode.containerInfo),sa(c,o),la(o),Oi=v;break;case 12:sa(c,o),la(o);break;case 31:sa(c,o),la(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,nm(o,v)));break;case 13:sa(c,o),la(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(am=ut()),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,nm(o,v)));break;case 22:w=o.memoizedState!==null;var Z=f!==null&&f.memoizedState!==null,ue=Lo,be=er;if(Lo=ue||w,er=be||Z,sa(c,o),er=be,Lo=ue,la(o),v&8192)e:for(c=o.stateNode,c._visibility=w?c._visibility&-2:c._visibility|1,w&&(f===null||Z||Lo||er||$l(o)),f=null,c=o;;){if(c.tag===5||c.tag===26){if(f===null){Z=f=c;try{if(T=Z.stateNode,w)P=T.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{B=Z.stateNode;var je=Z.memoizedProps.style,he=je!=null&&je.hasOwnProperty("display")?je.display:null;B.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(Ue){on(Z,Z.return,Ue)}}}else if(c.tag===6){if(f===null){Z=c;try{Z.stateNode.nodeValue=w?"":Z.memoizedProps}catch(Ue){on(Z,Z.return,Ue)}}}else if(c.tag===18){if(f===null){Z=c;try{var ge=Z.stateNode;w?bO(ge,!0):bO(Z.stateNode,!1)}catch(Ue){on(Z,Z.return,Ue)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=o.updateQueue,v!==null&&(f=v.retryQueue,f!==null&&(v.retryQueue=null,nm(o,f))));break;case 19:sa(c,o),la(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,nm(o,v)));break;case 30:break;case 21:break;default:sa(c,o),la(o)}}function la(o){var c=o.flags;if(c&2){try{for(var f,v=o.return;v!==null;){if(SA(v)){f=v;break}v=v.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var w=f.stateNode,T=Mb(o);tm(o,T,w);break;case 5:var P=f.stateNode;f.flags&32&&(Xc(P,""),f.flags&=-33);var B=Mb(o);tm(o,B,P);break;case 3:case 4:var Z=f.stateNode.containerInfo,ue=Mb(o);Pb(o,ue,Z);break;default:throw Error(r(161))}}catch(be){on(o,o.return,be)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function AA(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;AA(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function $o(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)jA(o,c.alternate,c),c=c.sibling}function $l(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Ts(4,c,c.return),$l(c);break;case 1:Ji(c,c.return);var f=c.stateNode;typeof f.componentWillUnmount=="function"&&bA(c,c.return,f),$l(c);break;case 27:xf(c.stateNode);case 26:case 5:Ji(c,c.return),$l(c);break;case 22:c.memoizedState===null&&$l(c);break;case 30:$l(c);break;default:$l(c)}o=o.sibling}}function qo(o,c,f){for(f=f&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,w=o,T=c,P=T.flags;switch(T.tag){case 0:case 11:case 15:qo(w,T,f),uf(4,T);break;case 1:if(qo(w,T,f),v=T,w=v.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(ue){on(v,v.return,ue)}if(v=T,w=v.updateQueue,w!==null){var B=v.stateNode;try{var Z=w.shared.hiddenCallbacks;if(Z!==null)for(w.shared.hiddenCallbacks=null,w=0;w<Z.length;w++)sD(Z[w],B)}catch(ue){on(v,v.return,ue)}}f&&P&64&&yA(T),df(T,T.return);break;case 27:wA(T);case 26:case 5:qo(w,T,f),f&&v===null&&P&4&&xA(T),df(T,T.return);break;case 12:qo(w,T,f);break;case 31:qo(w,T,f),f&&P&4&&RA(w,T);break;case 13:qo(w,T,f),f&&P&4&&_A(w,T);break;case 22:T.memoizedState===null&&qo(w,T,f),df(T,T.return);break;case 30:break;default:qo(w,T,f)}c=c.sibling}}function Ib(o,c){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&Kd(f))}function Lb(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Kd(o))}function ki(o,c,f,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)OA(o,c,f,v),c=c.sibling}function OA(o,c,f,v){var w=c.flags;switch(c.tag){case 0:case 11:case 15:ki(o,c,f,v),w&2048&&uf(9,c);break;case 1:ki(o,c,f,v);break;case 3:ki(o,c,f,v),w&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Kd(o)));break;case 12:if(w&2048){ki(o,c,f,v),o=c.stateNode;try{var T=c.memoizedProps,P=T.id,B=T.onPostCommit;typeof B=="function"&&B(P,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(Z){on(c,c.return,Z)}}else ki(o,c,f,v);break;case 31:ki(o,c,f,v);break;case 13:ki(o,c,f,v);break;case 23:break;case 22:T=c.stateNode,P=c.alternate,c.memoizedState!==null?T._visibility&2?ki(o,c,f,v):ff(o,c):T._visibility&2?ki(o,c,f,v):(T._visibility|=2,vu(o,c,f,v,(c.subtreeFlags&10256)!==0||!1)),w&2048&&Ib(P,c);break;case 24:ki(o,c,f,v),w&2048&&Lb(c.alternate,c);break;default:ki(o,c,f,v)}}function vu(o,c,f,v,w){for(w=w&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var T=o,P=c,B=f,Z=v,ue=P.flags;switch(P.tag){case 0:case 11:case 15:vu(T,P,B,Z,w),uf(8,P);break;case 23:break;case 22:var be=P.stateNode;P.memoizedState!==null?be._visibility&2?vu(T,P,B,Z,w):ff(T,P):(be._visibility|=2,vu(T,P,B,Z,w)),w&&ue&2048&&Ib(P.alternate,P);break;case 24:vu(T,P,B,Z,w),w&&ue&2048&&Lb(P.alternate,P);break;default:vu(T,P,B,Z,w)}c=c.sibling}}function ff(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var f=o,v=c,w=v.flags;switch(v.tag){case 22:ff(f,v),w&2048&&Ib(v.alternate,v);break;case 24:ff(f,v),w&2048&&Lb(v.alternate,v);break;default:ff(f,v)}c=c.sibling}}var hf=8192;function yu(o,c,f){if(o.subtreeFlags&hf)for(o=o.child;o!==null;)kA(o,c,f),o=o.sibling}function kA(o,c,f){switch(o.tag){case 26:yu(o,c,f),o.flags&hf&&o.memoizedState!==null&&pB(f,Oi,o.memoizedState,o.memoizedProps);break;case 5:yu(o,c,f);break;case 3:case 4:var v=Oi;Oi=gm(o.stateNode.containerInfo),yu(o,c,f),Oi=v;break;case 22:o.memoizedState===null&&(v=o.alternate,v!==null&&v.memoizedState!==null?(v=hf,hf=16777216,yu(o,c,f),hf=v):yu(o,c,f));break;default:yu(o,c,f)}}function MA(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function pf(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var v=c[f];mr=v,NA(v,o)}MA(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)PA(o),o=o.sibling}function PA(o){switch(o.tag){case 0:case 11:case 15:pf(o),o.flags&2048&&Ts(9,o,o.return);break;case 3:pf(o);break;case 12:pf(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,rm(o)):pf(o);break;default:pf(o)}}function rm(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var v=c[f];mr=v,NA(v,o)}MA(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Ts(8,c,c.return),rm(c);break;case 22:f=c.stateNode,f._visibility&2&&(f._visibility&=-3,rm(c));break;default:rm(c)}o=o.sibling}}function NA(o,c){for(;mr!==null;){var f=mr;switch(f.tag){case 0:case 11:case 15:Ts(8,f,c);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var v=f.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Kd(f.memoizedState.cache)}if(v=f.child,v!==null)v.return=f,mr=v;else e:for(f=o;mr!==null;){v=mr;var w=v.sibling,T=v.return;if(EA(v),v===f){mr=null;break e}if(w!==null){w.return=T,mr=w;break e}mr=T}}}var DU={getCacheForType:function(o){var c=_r(Xn),f=c.data.get(o);return f===void 0&&(f=o(),c.data.set(o,f)),f},cacheSignal:function(){return _r(Xn).controller.signal}},AU=typeof WeakMap=="function"?WeakMap:Map,Jt=0,dn=null,Nt=null,$t=0,an=0,Na=null,Rs=!1,bu=!1,zb=!1,Uo=0,Pn=0,_s=0,ql=0,$b=0,Ia=0,xu=0,mf=null,ca=null,qb=!1,am=0,IA=0,im=1/0,om=null,Ds=null,ir=0,As=null,Su=null,Bo=0,Ub=0,Bb=null,LA=null,gf=0,Hb=null;function La(){return(Jt&2)!==0&&$t!==0?$t&-$t:N.T!==null?Qb():De()}function zA(){if(Ia===0)if(($t&536870912)===0||Ht){var o=Ta;Ta<<=1,(Ta&3932160)===0&&(Ta=262144),Ia=o}else Ia=536870912;return o=Ma.current,o!==null&&(o.flags|=32),Ia}function ua(o,c,f){(o===dn&&(an===2||an===9)||o.cancelPendingCommit!==null)&&(wu(o,0),Os(o,$t,Ia,!1)),To(o,f),((Jt&2)===0||o!==dn)&&(o===dn&&((Jt&2)===0&&(ql|=f),Pn===4&&Os(o,$t,Ia,!1)),eo(o))}function $A(o,c,f){if((Jt&6)!==0)throw Error(r(327));var v=!f&&(c&127)===0&&(c&o.expiredLanes)===0||Er(o,c),w=v?MU(o,c):Vb(o,c,!0),T=v;do{if(w===0){bu&&!v&&Os(o,c,0,!1);break}else{if(f=o.current.alternate,T&&!OU(f)){w=Vb(o,c,!1),T=!1;continue}if(w===2){if(T=c,o.errorRecoveryDisabledLanes&T)var P=0;else P=o.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){c=P;e:{var B=o;w=mf;var Z=B.current.memoizedState.isDehydrated;if(Z&&(wu(B,P).flags|=256),P=Vb(B,P,!1),P!==2){if(zb&&!Z){B.errorRecoveryDisabledLanes|=T,ql|=T,w=4;break e}T=ca,ca=w,T!==null&&(ca===null?ca=T:ca.push.apply(ca,T))}w=P}if(T=!1,w!==2)continue}}if(w===1){wu(o,0),Os(o,c,0,!0);break}e:{switch(v=o,T=w,T){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Os(v,c,Ia,!Rs);break e;case 2:ca=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(w=am+300-ut(),10<w)){if(Os(v,c,Ia,!Rs),_i(v,0,!0)!==0)break e;Bo=c,v.timeoutHandle=gO(qA.bind(null,v,f,ca,om,qb,c,Ia,ql,xu,Rs,T,"Throttled",-0,0),w);break e}qA(v,f,ca,om,qb,c,Ia,ql,xu,Rs,T,null,-0,0)}}break}while(!0);eo(o)}function qA(o,c,f,v,w,T,P,B,Z,ue,be,je,he,ge){if(o.timeoutHandle=-1,je=c.subtreeFlags,je&8192||(je&16785408)===16785408){je={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ro},kA(c,T,je);var Ue=(T&62914560)===T?am-ut():(T&4194048)===T?IA-ut():0;if(Ue=mB(je,Ue),Ue!==null){Bo=T,o.cancelPendingCommit=Ue(YA.bind(null,o,c,T,f,v,w,P,B,Z,be,je,null,he,ge)),Os(o,T,P,!ue);return}}YA(o,c,T,f,v,w,P,B,Z)}function OU(o){for(var c=o;;){var f=c.tag;if((f===0||f===11||f===15)&&c.flags&16384&&(f=c.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var v=0;v<f.length;v++){var w=f[v],T=w.getSnapshot;w=w.value;try{if(!Oa(T(),w))return!1}catch{return!1}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Os(o,c,f,v){c&=~$b,c&=~ql,o.suspendedLanes|=c,o.pingedLanes&=~c,v&&(o.warmLanes|=c),v=o.expirationTimes;for(var w=c;0<w;){var T=31-_n(w),P=1<<T;v[T]=-1,w&=~P}f!==0&&Gc(o,f,c)}function sm(){return(Jt&6)===0?(vf(0),!1):!0}function Fb(){if(Nt!==null){if(an===0)var o=Nt.return;else o=Nt,Oo=Ol=null,ob(o),fu=null,Zd=0,o=Nt;for(;o!==null;)vA(o.alternate,o),o=o.return;Nt=null}}function wu(o,c){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,XU(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),Bo=0,Fb(),dn=o,Nt=f=Do(o.current,null),$t=c,an=0,Na=null,Rs=!1,bu=Er(o,c),zb=!1,xu=Ia=$b=ql=_s=Pn=0,ca=mf=null,qb=!1,(c&8)!==0&&(c|=c&32);var v=o.entangledLanes;if(v!==0)for(o=o.entanglements,v&=c;0<v;){var w=31-_n(v),T=1<<w;c|=o[w],v&=~T}return Uo=c,_p(),f}function UA(o,c){Ct=null,N.H=sf,c===du||c===Ip?(c=rD(),an=3):c===Y0?(c=rD(),an=4):an=c===wb?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Na=c,Nt===null&&(Pn=1,Kp(o,ei(c,o.current)))}function BA(){var o=Ma.current;return o===null?!0:($t&4194048)===$t?ai===null:($t&62914560)===$t||($t&536870912)!==0?o===ai:!1}function HA(){var o=N.H;return N.H=sf,o===null?sf:o}function FA(){var o=N.A;return N.A=DU,o}function lm(){Pn=4,Rs||($t&4194048)!==$t&&Ma.current!==null||(bu=!0),(_s&134217727)===0&&(ql&134217727)===0||dn===null||Os(dn,$t,Ia,!1)}function Vb(o,c,f){var v=Jt;Jt|=2;var w=HA(),T=FA();(dn!==o||$t!==c)&&(om=null,wu(o,c)),c=!1;var P=Pn;e:do try{if(an!==0&&Nt!==null){var B=Nt,Z=Na;switch(an){case 8:Fb(),P=6;break e;case 3:case 2:case 9:case 6:Ma.current===null&&(c=!0);var ue=an;if(an=0,Na=null,Cu(o,B,Z,ue),f&&bu){P=0;break e}break;default:ue=an,an=0,Na=null,Cu(o,B,Z,ue)}}kU(),P=Pn;break}catch(be){UA(o,be)}while(!0);return c&&o.shellSuspendCounter++,Oo=Ol=null,Jt=v,N.H=w,N.A=T,Nt===null&&(dn=null,$t=0,_p()),P}function kU(){for(;Nt!==null;)VA(Nt)}function MU(o,c){var f=Jt;Jt|=2;var v=HA(),w=FA();dn!==o||$t!==c?(om=null,im=ut()+500,wu(o,c)):bu=Er(o,c);e:do try{if(an!==0&&Nt!==null){c=Nt;var T=Na;t:switch(an){case 1:an=0,Na=null,Cu(o,c,T,1);break;case 2:case 9:if(tD(T)){an=0,Na=null,WA(c);break}c=function(){an!==2&&an!==9||dn!==o||(an=7),eo(o)},T.then(c,c);break e;case 3:an=7;break e;case 4:an=5;break e;case 7:tD(T)?(an=0,Na=null,WA(c)):(an=0,Na=null,Cu(o,c,T,7));break;case 5:var P=null;switch(Nt.tag){case 26:P=Nt.memoizedState;case 5:case 27:var B=Nt;if(P?OO(P):B.stateNode.complete){an=0,Na=null;var Z=B.sibling;if(Z!==null)Nt=Z;else{var ue=B.return;ue!==null?(Nt=ue,cm(ue)):Nt=null}break t}}an=0,Na=null,Cu(o,c,T,5);break;case 6:an=0,Na=null,Cu(o,c,T,6);break;case 8:Fb(),Pn=6;break e;default:throw Error(r(462))}}PU();break}catch(be){UA(o,be)}while(!0);return Oo=Ol=null,N.H=v,N.A=w,Jt=f,Nt!==null?0:(dn=null,$t=0,_p(),Pn)}function PU(){for(;Nt!==null&&!dt();)VA(Nt)}function VA(o){var c=mA(o.alternate,o,Uo);o.memoizedProps=o.pendingProps,c===null?cm(o):Nt=c}function WA(o){var c=o,f=c.alternate;switch(c.tag){case 15:case 0:c=cA(f,c,c.pendingProps,c.type,void 0,$t);break;case 11:c=cA(f,c,c.pendingProps,c.type.render,c.ref,$t);break;case 5:ob(c);default:vA(f,c),c=Nt=F2(c,Uo),c=mA(f,c,Uo)}o.memoizedProps=o.pendingProps,c===null?cm(o):Nt=c}function Cu(o,c,f,v){Oo=Ol=null,ob(c),fu=null,Zd=0;var w=c.return;try{if(wU(o,w,c,f,$t)){Pn=1,Kp(o,ei(f,o.current)),Nt=null;return}}catch(T){if(w!==null)throw Nt=w,T;Pn=1,Kp(o,ei(f,o.current)),Nt=null;return}c.flags&32768?(Ht||v===1?o=!0:bu||($t&536870912)!==0?o=!1:(Rs=o=!0,(v===2||v===9||v===3||v===6)&&(v=Ma.current,v!==null&&v.tag===13&&(v.flags|=16384))),GA(c,o)):cm(c)}function cm(o){var c=o;do{if((c.flags&32768)!==0){GA(c,Rs);return}o=c.return;var f=EU(c.alternate,c,Uo);if(f!==null){Nt=f;return}if(c=c.sibling,c!==null){Nt=c;return}Nt=c=o}while(c!==null);Pn===0&&(Pn=5)}function GA(o,c){do{var f=TU(o.alternate,o);if(f!==null){f.flags&=32767,Nt=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!c&&(o=o.sibling,o!==null)){Nt=o;return}Nt=o=f}while(o!==null);Pn=6,Nt=null}function YA(o,c,f,v,w,T,P,B,Z){o.cancelPendingCommit=null;do um();while(ir!==0);if((Jt&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(T=c.lanes|c.childLanes,T|=M0,Ld(o,f,T,P,B,Z),o===dn&&(Nt=dn=null,$t=0),Su=c,As=o,Bo=f,Ub=T,Bb=w,LA=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,zU(kt,function(){return JA(),null})):(o.callbackNode=null,o.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=N.T,N.T=null,w=z.p,z.p=2,P=Jt,Jt|=4;try{RU(o,c,f)}finally{Jt=P,z.p=w,N.T=v}}ir=1,QA(),KA(),XA()}}function QA(){if(ir===1){ir=0;var o=As,c=Su,f=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||f){f=N.T,N.T=null;var v=z.p;z.p=2;var w=Jt;Jt|=4;try{DA(c,o);var T=rx,P=N2(o.containerInfo),B=T.focusedElem,Z=T.selectionRange;if(P!==B&&B&&B.ownerDocument&&P2(B.ownerDocument.documentElement,B)){if(Z!==null&&_0(B)){var ue=Z.start,be=Z.end;if(be===void 0&&(be=ue),"selectionStart"in B)B.selectionStart=ue,B.selectionEnd=Math.min(be,B.value.length);else{var je=B.ownerDocument||document,he=je&&je.defaultView||window;if(he.getSelection){var ge=he.getSelection(),Ue=B.textContent.length,it=Math.min(Z.start,Ue),cn=Z.end===void 0?it:Math.min(Z.end,Ue);!ge.extend&&it>cn&&(P=cn,cn=it,it=P);var oe=M2(B,it),ee=M2(B,cn);if(oe&&ee&&(ge.rangeCount!==1||ge.anchorNode!==oe.node||ge.anchorOffset!==oe.offset||ge.focusNode!==ee.node||ge.focusOffset!==ee.offset)){var ce=je.createRange();ce.setStart(oe.node,oe.offset),ge.removeAllRanges(),it>cn?(ge.addRange(ce),ge.extend(ee.node,ee.offset)):(ce.setEnd(ee.node,ee.offset),ge.addRange(ce))}}}}for(je=[],ge=B;ge=ge.parentNode;)ge.nodeType===1&&je.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<je.length;B++){var we=je[B];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}wm=!!nx,rx=nx=null}finally{Jt=w,z.p=v,N.T=f}}o.current=c,ir=2}}function KA(){if(ir===2){ir=0;var o=As,c=Su,f=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||f){f=N.T,N.T=null;var v=z.p;z.p=2;var w=Jt;Jt|=4;try{jA(o,c.alternate,c)}finally{Jt=w,z.p=v,N.T=f}}ir=3}}function XA(){if(ir===4||ir===3){ir=0,pt();var o=As,c=Su,f=Bo,v=LA;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?ir=5:(ir=0,Su=As=null,ZA(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(Ds=null),Te(f),c=c.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Yt,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=N.T,w=z.p,z.p=2,N.T=null;try{for(var T=o.onRecoverableError,P=0;P<v.length;P++){var B=v[P];T(B.value,{componentStack:B.stack})}}finally{N.T=c,z.p=w}}(Bo&3)!==0&&um(),eo(o),w=o.pendingLanes,(f&261930)!==0&&(w&42)!==0?o===Hb?gf++:(gf=0,Hb=o):gf=0,vf(0)}}function ZA(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Kd(c)))}function um(){return QA(),KA(),XA(),JA()}function JA(){if(ir!==5)return!1;var o=As,c=Ub;Ub=0;var f=Te(Bo),v=N.T,w=z.p;try{z.p=32>f?32:f,N.T=null,f=Bb,Bb=null;var T=As,P=Bo;if(ir=0,Su=As=null,Bo=0,(Jt&6)!==0)throw Error(r(331));var B=Jt;if(Jt|=4,PA(T.current),OA(T,T.current,P,f),Jt=B,vf(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Yt,T)}catch{}return!0}finally{z.p=w,N.T=v,ZA(o,c)}}function eO(o,c,f){c=ei(f,c),c=Sb(o.stateNode,c,2),o=Cs(o,c,2),o!==null&&(To(o,2),eo(o))}function on(o,c,f){if(o.tag===3)eO(o,o,f);else for(;c!==null;){if(c.tag===3){eO(c,o,f);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Ds===null||!Ds.has(v))){o=ei(f,o),f=tA(2),v=Cs(c,f,2),v!==null&&(nA(f,v,c,o),To(v,2),eo(v));break}}c=c.return}}function Wb(o,c,f){var v=o.pingCache;if(v===null){v=o.pingCache=new AU;var w=new Set;v.set(c,w)}else w=v.get(c),w===void 0&&(w=new Set,v.set(c,w));w.has(f)||(zb=!0,w.add(f),o=NU.bind(null,o,c,f),c.then(o,o))}function NU(o,c,f){var v=o.pingCache;v!==null&&v.delete(c),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,dn===o&&($t&f)===f&&(Pn===4||Pn===3&&($t&62914560)===$t&&300>ut()-am?(Jt&2)===0&&wu(o,0):$b|=f,xu===$t&&(xu=0)),eo(o)}function tO(o,c){c===0&&(c=Un()),o=_l(o,c),o!==null&&(To(o,c),eo(o))}function IU(o){var c=o.memoizedState,f=0;c!==null&&(f=c.retryLane),tO(o,f)}function LU(o,c){var f=0;switch(o.tag){case 31:case 13:var v=o.stateNode,w=o.memoizedState;w!==null&&(f=w.retryLane);break;case 19:v=o.stateNode;break;case 22:v=o.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(c),tO(o,f)}function zU(o,c){return We(o,c)}var dm=null,ju=null,Gb=!1,fm=!1,Yb=!1,ks=0;function eo(o){o!==ju&&o.next===null&&(ju===null?dm=ju=o:ju=ju.next=o),fm=!0,Gb||(Gb=!0,qU())}function vf(o,c){if(!Yb&&fm){Yb=!0;do for(var f=!1,v=dm;v!==null;){if(o!==0){var w=v.pendingLanes;if(w===0)var T=0;else{var P=v.suspendedLanes,B=v.pingedLanes;T=(1<<31-_n(42|o)+1)-1,T&=w&~(P&~B),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(f=!0,iO(v,T))}else T=$t,T=_i(v,v===dn?T:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(T&3)===0||Er(v,T)||(f=!0,iO(v,T));v=v.next}while(f);Yb=!1}}function $U(){nO()}function nO(){fm=Gb=!1;var o=0;ks!==0&&KU()&&(o=ks);for(var c=ut(),f=null,v=dm;v!==null;){var w=v.next,T=rO(v,c);T===0?(v.next=null,f===null?dm=w:f.next=w,w===null&&(ju=f)):(f=v,(o!==0||(T&3)!==0)&&(fm=!0)),v=w}ir!==0&&ir!==5||vf(o),ks!==0&&(ks=0)}function rO(o,c){for(var f=o.suspendedLanes,v=o.pingedLanes,w=o.expirationTimes,T=o.pendingLanes&-62914561;0<T;){var P=31-_n(T),B=1<<P,Z=w[P];Z===-1?((B&f)===0||(B&v)!==0)&&(w[P]=Cl(B,c)):Z<=c&&(o.expiredLanes|=B),T&=~B}if(c=dn,f=$t,f=_i(o,o===c?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v=o.callbackNode,f===0||o===c&&(an===2||an===9)||o.cancelPendingCommit!==null)return v!==null&&v!==null&&ht(v),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||Er(o,f)){if(c=f&-f,c===o.callbackPriority)return c;switch(v!==null&&ht(v),Te(f)){case 2:case 8:f=Ft;break;case 32:f=kt;break;case 268435456:f=jr;break;default:f=kt}return v=aO.bind(null,o),f=We(f,v),o.callbackPriority=c,o.callbackNode=f,c}return v!==null&&v!==null&&ht(v),o.callbackPriority=2,o.callbackNode=null,2}function aO(o,c){if(ir!==0&&ir!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(um()&&o.callbackNode!==f)return null;var v=$t;return v=_i(o,o===dn?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v===0?null:($A(o,v,c),rO(o,ut()),o.callbackNode!=null&&o.callbackNode===f?aO.bind(null,o):null)}function iO(o,c){if(um())return null;$A(o,c,!0)}function qU(){ZU(function(){(Jt&6)!==0?We(hr,$U):nO()})}function Qb(){if(ks===0){var o=cu;o===0&&(o=kn,kn<<=1,(kn&261888)===0&&(kn=256)),ks=o}return ks}function oO(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:xp(""+o)}function sO(o,c){var f=c.ownerDocument.createElement("input");return f.name=c.name,f.value=c.value,o.id&&f.setAttribute("form",o.id),c.parentNode.insertBefore(f,c),o=new FormData(o),f.parentNode.removeChild(f),o}function UU(o,c,f,v,w){if(c==="submit"&&f&&f.stateNode===w){var T=oO((w[Ie]||null).action),P=v.submitter;P&&(c=(c=P[Ie]||null)?oO(c.formAction):P.getAttribute("formAction"),c!==null&&(T=c,P=null));var B=new jp("action","action",null,v,w);o.push({event:B,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(ks!==0){var Z=P?sO(w,P):new FormData(w);mb(f,{pending:!0,data:Z,method:w.method,action:T},null,Z)}}else typeof T=="function"&&(B.preventDefault(),Z=P?sO(w,P):new FormData(w),mb(f,{pending:!0,data:Z,method:w.method,action:T},T,Z))},currentTarget:w}]})}}for(var Kb=0;Kb<k0.length;Kb++){var Xb=k0[Kb],BU=Xb.toLowerCase(),HU=Xb[0].toUpperCase()+Xb.slice(1);Ai(BU,"on"+HU)}Ai(z2,"onAnimationEnd"),Ai($2,"onAnimationIteration"),Ai(q2,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(iU,"onTransitionRun"),Ai(oU,"onTransitionStart"),Ai(sU,"onTransitionCancel"),Ai(U2,"onTransitionEnd"),aa("onMouseEnter",["mouseout","mouseover"]),aa("onMouseLeave",["mouseout","mouseover"]),aa("onPointerEnter",["pointerout","pointerover"]),aa("onPointerLeave",["pointerout","pointerover"]),Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yf));function lO(o,c){c=(c&4)!==0;for(var f=0;f<o.length;f++){var v=o[f],w=v.event;v=v.listeners;e:{var T=void 0;if(c)for(var P=v.length-1;0<=P;P--){var B=v[P],Z=B.instance,ue=B.currentTarget;if(B=B.listener,Z!==T&&w.isPropagationStopped())break e;T=B,w.currentTarget=ue;try{T(w)}catch(be){Rp(be)}w.currentTarget=null,T=Z}else for(P=0;P<v.length;P++){if(B=v[P],Z=B.instance,ue=B.currentTarget,B=B.listener,Z!==T&&w.isPropagationStopped())break e;T=B,w.currentTarget=ue;try{T(w)}catch(be){Rp(be)}w.currentTarget=null,T=Z}}}}function It(o,c){var f=c[Qe];f===void 0&&(f=c[Qe]=new Set);var v=o+"__bubble";f.has(v)||(cO(c,o,2,!1),f.add(v))}function Zb(o,c,f){var v=0;c&&(v|=4),cO(f,o,v,c)}var hm="_reactListening"+Math.random().toString(36).slice(2);function Jb(o){if(!o[hm]){o[hm]=!0,Da.forEach(function(f){f!=="selectionchange"&&(FU.has(f)||Zb(f,!1,o),Zb(f,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[hm]||(c[hm]=!0,Zb("selectionchange",!1,c))}}function cO(o,c,f,v){switch(zO(c)){case 2:var w=yB;break;case 8:w=bB;break;default:w=px}f=w.bind(null,c,f,o),w=void 0,!b0||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(w=!0),v?w!==void 0?o.addEventListener(c,f,{capture:!0,passive:w}):o.addEventListener(c,f,!0):w!==void 0?o.addEventListener(c,f,{passive:w}):o.addEventListener(c,f,!1)}function ex(o,c,f,v,w){var T=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var P=v.tag;if(P===3||P===4){var B=v.stateNode.containerInfo;if(B===w)break;if(P===4)for(P=v.return;P!==null;){var Z=P.tag;if((Z===3||Z===4)&&P.stateNode.containerInfo===w)return;P=P.return}for(;B!==null;){if(P=Vt(B),P===null)return;if(Z=P.tag,Z===5||Z===6||Z===26||Z===27){v=T=P;continue e}B=B.parentNode}}v=v.return}p2(function(){var ue=T,be=v0(f),je=[];e:{var he=B2.get(o);if(he!==void 0){var ge=jp,Ue=o;switch(o){case"keypress":if(wp(f)===0)break e;case"keydown":case"keyup":ge=Lq;break;case"focusin":Ue="focus",ge=C0;break;case"focusout":Ue="blur",ge=C0;break;case"beforeblur":case"afterblur":ge=C0;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=v2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Eq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=qq;break;case z2:case $2:case q2:ge=_q;break;case U2:ge=Bq;break;case"scroll":case"scrollend":ge=Cq;break;case"wheel":ge=Fq;break;case"copy":case"cut":case"paste":ge=Aq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=b2;break;case"toggle":case"beforetoggle":ge=Wq}var it=(c&4)!==0,cn=!it&&(o==="scroll"||o==="scrollend"),oe=it?he!==null?he+"Capture":null:he;it=[];for(var ee=ue,ce;ee!==null;){var we=ee;if(ce=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||ce===null||oe===null||(we=$d(ee,oe),we!=null&&it.push(bf(ee,we,ce))),cn)break;ee=ee.return}0<it.length&&(he=new ge(he,Ue,null,f,be),je.push({event:he,listeners:it}))}}if((c&7)===0){e:{if(he=o==="mouseover"||o==="pointerover",ge=o==="mouseout"||o==="pointerout",he&&f!==g0&&(Ue=f.relatedTarget||f.fromElement)&&(Vt(Ue)||Ue[He]))break e;if((ge||he)&&(he=be.window===be?be:(he=be.ownerDocument)?he.defaultView||he.parentWindow:window,ge?(Ue=f.relatedTarget||f.toElement,ge=ue,Ue=Ue?Vt(Ue):null,Ue!==null&&(cn=i(Ue),it=Ue.tag,Ue!==cn||it!==5&&it!==27&&it!==6)&&(Ue=null)):(ge=null,Ue=ue),ge!==Ue)){if(it=v2,we="onMouseLeave",oe="onMouseEnter",ee="mouse",(o==="pointerout"||o==="pointerover")&&(it=b2,we="onPointerLeave",oe="onPointerEnter",ee="pointer"),cn=ge==null?he:_a(ge),ce=Ue==null?he:_a(Ue),he=new it(we,ee+"leave",ge,f,be),he.target=cn,he.relatedTarget=ce,we=null,Vt(be)===ue&&(it=new it(oe,ee+"enter",Ue,f,be),it.target=ce,it.relatedTarget=cn,we=it),cn=we,ge&&Ue)t:{for(it=VU,oe=ge,ee=Ue,ce=0,we=oe;we;we=it(we))ce++;we=0;for(var rt=ee;rt;rt=it(rt))we++;for(;0<ce-we;)oe=it(oe),ce--;for(;0<we-ce;)ee=it(ee),we--;for(;ce--;){if(oe===ee||ee!==null&&oe===ee.alternate){it=oe;break t}oe=it(oe),ee=it(ee)}it=null}else it=null;ge!==null&&uO(je,he,ge,it,!1),Ue!==null&&cn!==null&&uO(je,cn,Ue,it,!0)}}e:{if(he=ue?_a(ue):window,ge=he.nodeName&&he.nodeName.toLowerCase(),ge==="select"||ge==="input"&&he.type==="file")var Xt=R2;else if(E2(he))if(_2)Xt=nU;else{Xt=eU;var Ge=Jq}else ge=he.nodeName,!ge||ge.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?ue&&m0(ue.elementType)&&(Xt=R2):Xt=tU;if(Xt&&(Xt=Xt(o,ue))){T2(je,Xt,f,be);break e}Ge&&Ge(o,he,ue),o==="focusout"&&ue&&he.type==="number"&&ue.memoizedProps.value!=null&&p0(he,"number",he.value)}switch(Ge=ue?_a(ue):window,o){case"focusin":(E2(Ge)||Ge.contentEditable==="true")&&(tu=Ge,D0=ue,Gd=null);break;case"focusout":Gd=D0=tu=null;break;case"mousedown":A0=!0;break;case"contextmenu":case"mouseup":case"dragend":A0=!1,I2(je,f,be);break;case"selectionchange":if(aU)break;case"keydown":case"keyup":I2(je,f,be)}var Et;if(E0)e:{switch(o){case"compositionstart":var qt="onCompositionStart";break e;case"compositionend":qt="onCompositionEnd";break e;case"compositionupdate":qt="onCompositionUpdate";break e}qt=void 0}else eu?C2(o,f)&&(qt="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(qt="onCompositionStart");qt&&(x2&&f.locale!=="ko"&&(eu||qt!=="onCompositionStart"?qt==="onCompositionEnd"&&eu&&(Et=m2()):(gs=be,x0="value"in gs?gs.value:gs.textContent,eu=!0)),Ge=pm(ue,qt),0<Ge.length&&(qt=new y2(qt,o,null,f,be),je.push({event:qt,listeners:Ge}),Et?qt.data=Et:(Et=j2(f),Et!==null&&(qt.data=Et)))),(Et=Yq?Qq(o,f):Kq(o,f))&&(qt=pm(ue,"onBeforeInput"),0<qt.length&&(Ge=new y2("onBeforeInput","beforeinput",null,f,be),je.push({event:Ge,listeners:qt}),Ge.data=Et)),UU(je,o,ue,f,be)}lO(je,c)})}function bf(o,c,f){return{instance:o,listener:c,currentTarget:f}}function pm(o,c){for(var f=c+"Capture",v=[];o!==null;){var w=o,T=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||T===null||(w=$d(o,f),w!=null&&v.unshift(bf(o,w,T)),w=$d(o,c),w!=null&&v.push(bf(o,w,T))),o.tag===3)return v;o=o.return}return[]}function VU(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function uO(o,c,f,v,w){for(var T=c._reactName,P=[];f!==null&&f!==v;){var B=f,Z=B.alternate,ue=B.stateNode;if(B=B.tag,Z!==null&&Z===v)break;B!==5&&B!==26&&B!==27||ue===null||(Z=ue,w?(ue=$d(f,T),ue!=null&&P.unshift(bf(f,ue,Z))):w||(ue=$d(f,T),ue!=null&&P.push(bf(f,ue,Z)))),f=f.return}P.length!==0&&o.push({event:c,listeners:P})}var WU=/\r\n?/g,GU=/\u0000|\uFFFD/g;function dO(o){return(typeof o=="string"?o:""+o).replace(WU,`
`).replace(GU,"")}function fO(o,c){return c=dO(c),dO(o)===c}function ln(o,c,f,v,w,T){switch(f){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||Xc(o,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&Xc(o,""+v);break;case"className":Xa(o,"class",v);break;case"tabIndex":Xa(o,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Xa(o,f,v);break;case"style":f2(o,v,T);break;case"data":if(c!=="object"){Xa(o,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||f!=="href")){o.removeAttribute(f);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(f);break}v=xp(""+v),o.setAttribute(f,v);break;case"action":case"formAction":if(typeof v=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(f==="formAction"?(c!=="input"&&ln(o,c,"name",w.name,w,null),ln(o,c,"formEncType",w.formEncType,w,null),ln(o,c,"formMethod",w.formMethod,w,null),ln(o,c,"formTarget",w.formTarget,w,null)):(ln(o,c,"encType",w.encType,w,null),ln(o,c,"method",w.method,w,null),ln(o,c,"target",w.target,w,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(f);break}v=xp(""+v),o.setAttribute(f,v);break;case"onClick":v!=null&&(o.onclick=Ro);break;case"onScroll":v!=null&&It("scroll",o);break;case"onScrollEnd":v!=null&&It("scrollend",o);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(f=v.__html,f!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":o.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){o.removeAttribute("xlink:href");break}f=xp(""+v),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(f,""+v):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":v===!0?o.setAttribute(f,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(f,v):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?o.setAttribute(f,v):o.removeAttribute(f);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?o.removeAttribute(f):o.setAttribute(f,v);break;case"popover":It("beforetoggle",o),It("toggle",o),Di(o,"popover",v);break;case"xlinkActuate":Kt(o,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Kt(o,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Kt(o,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Kt(o,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Kt(o,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Kt(o,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Kt(o,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Kt(o,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Kt(o,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Di(o,"is",v);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=Sq.get(f)||f,Di(o,f,v))}}function tx(o,c,f,v,w,T){switch(f){case"style":f2(o,v,T);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(f=v.__html,f!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof v=="string"?Xc(o,v):(typeof v=="number"||typeof v=="bigint")&&Xc(o,""+v);break;case"onScroll":v!=null&&It("scroll",o);break;case"onScrollEnd":v!=null&&It("scrollend",o);break;case"onClick":v!=null&&(o.onclick=Ro);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yc.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(w=f.endsWith("Capture"),c=f.slice(2,w?f.length-7:void 0),T=o[Ie]||null,T=T!=null?T[f]:null,typeof T=="function"&&o.removeEventListener(c,T,w),typeof v=="function")){typeof T!="function"&&T!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(c,v,w);break e}f in o?o[f]=v:v===!0?o.setAttribute(f,""):Di(o,f,v)}}}function Ar(o,c,f){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",o),It("load",o);var v=!1,w=!1,T;for(T in f)if(f.hasOwnProperty(T)){var P=f[T];if(P!=null)switch(T){case"src":v=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:ln(o,c,T,P,f,null)}}w&&ln(o,c,"srcSet",f.srcSet,f,null),v&&ln(o,c,"src",f.src,f,null);return;case"input":It("invalid",o);var B=T=P=w=null,Z=null,ue=null;for(v in f)if(f.hasOwnProperty(v)){var be=f[v];if(be!=null)switch(v){case"name":w=be;break;case"type":P=be;break;case"checked":Z=be;break;case"defaultChecked":ue=be;break;case"value":T=be;break;case"defaultValue":B=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,c));break;default:ln(o,c,v,be,f,null)}}l2(o,T,B,Z,ue,P,w,!1);return;case"select":It("invalid",o),v=P=T=null;for(w in f)if(f.hasOwnProperty(w)&&(B=f[w],B!=null))switch(w){case"value":T=B;break;case"defaultValue":P=B;break;case"multiple":v=B;default:ln(o,c,w,B,f,null)}c=T,f=P,o.multiple=!!v,c!=null?Kc(o,!!v,c,!1):f!=null&&Kc(o,!!v,f,!0);return;case"textarea":It("invalid",o),T=w=v=null;for(P in f)if(f.hasOwnProperty(P)&&(B=f[P],B!=null))switch(P){case"value":v=B;break;case"defaultValue":w=B;break;case"children":T=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(91));break;default:ln(o,c,P,B,f,null)}u2(o,v,w,T);return;case"option":for(Z in f)if(f.hasOwnProperty(Z)&&(v=f[Z],v!=null))switch(Z){case"selected":o.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:ln(o,c,Z,v,f,null)}return;case"dialog":It("beforetoggle",o),It("toggle",o),It("cancel",o),It("close",o);break;case"iframe":case"object":It("load",o);break;case"video":case"audio":for(v=0;v<yf.length;v++)It(yf[v],o);break;case"image":It("error",o),It("load",o);break;case"details":It("toggle",o);break;case"embed":case"source":case"link":It("error",o),It("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in f)if(f.hasOwnProperty(ue)&&(v=f[ue],v!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:ln(o,c,ue,v,f,null)}return;default:if(m0(c)){for(be in f)f.hasOwnProperty(be)&&(v=f[be],v!==void 0&&tx(o,c,be,v,f,void 0));return}}for(B in f)f.hasOwnProperty(B)&&(v=f[B],v!=null&&ln(o,c,B,v,f,null))}function YU(o,c,f,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,T=null,P=null,B=null,Z=null,ue=null,be=null;for(ge in f){var je=f[ge];if(f.hasOwnProperty(ge)&&je!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":Z=je;default:v.hasOwnProperty(ge)||ln(o,c,ge,null,v,je)}}for(var he in v){var ge=v[he];if(je=f[he],v.hasOwnProperty(he)&&(ge!=null||je!=null))switch(he){case"type":T=ge;break;case"name":w=ge;break;case"checked":ue=ge;break;case"defaultChecked":be=ge;break;case"value":P=ge;break;case"defaultValue":B=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,c));break;default:ge!==je&&ln(o,c,he,ge,v,je)}}h0(o,P,B,Z,ue,be,T,w);return;case"select":ge=P=B=he=null;for(T in f)if(Z=f[T],f.hasOwnProperty(T)&&Z!=null)switch(T){case"value":break;case"multiple":ge=Z;default:v.hasOwnProperty(T)||ln(o,c,T,null,v,Z)}for(w in v)if(T=v[w],Z=f[w],v.hasOwnProperty(w)&&(T!=null||Z!=null))switch(w){case"value":he=T;break;case"defaultValue":B=T;break;case"multiple":P=T;default:T!==Z&&ln(o,c,w,T,v,Z)}c=B,f=P,v=ge,he!=null?Kc(o,!!f,he,!1):!!v!=!!f&&(c!=null?Kc(o,!!f,c,!0):Kc(o,!!f,f?[]:"",!1));return;case"textarea":ge=he=null;for(B in f)if(w=f[B],f.hasOwnProperty(B)&&w!=null&&!v.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:ln(o,c,B,null,v,w)}for(P in v)if(w=v[P],T=f[P],v.hasOwnProperty(P)&&(w!=null||T!=null))switch(P){case"value":he=w;break;case"defaultValue":ge=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==T&&ln(o,c,P,w,v,T)}c2(o,he,ge);return;case"option":for(var Ue in f)if(he=f[Ue],f.hasOwnProperty(Ue)&&he!=null&&!v.hasOwnProperty(Ue))switch(Ue){case"selected":o.selected=!1;break;default:ln(o,c,Ue,null,v,he)}for(Z in v)if(he=v[Z],ge=f[Z],v.hasOwnProperty(Z)&&he!==ge&&(he!=null||ge!=null))switch(Z){case"selected":o.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:ln(o,c,Z,he,v,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var it in f)he=f[it],f.hasOwnProperty(it)&&he!=null&&!v.hasOwnProperty(it)&&ln(o,c,it,null,v,he);for(ue in v)if(he=v[ue],ge=f[ue],v.hasOwnProperty(ue)&&he!==ge&&(he!=null||ge!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,c));break;default:ln(o,c,ue,he,v,ge)}return;default:if(m0(c)){for(var cn in f)he=f[cn],f.hasOwnProperty(cn)&&he!==void 0&&!v.hasOwnProperty(cn)&&tx(o,c,cn,void 0,v,he);for(be in v)he=v[be],ge=f[be],!v.hasOwnProperty(be)||he===ge||he===void 0&&ge===void 0||tx(o,c,be,he,v,ge);return}}for(var oe in f)he=f[oe],f.hasOwnProperty(oe)&&he!=null&&!v.hasOwnProperty(oe)&&ln(o,c,oe,null,v,he);for(je in v)he=v[je],ge=f[je],!v.hasOwnProperty(je)||he===ge||he==null&&ge==null||ln(o,c,je,he,v,ge)}function hO(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QU(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,f=performance.getEntriesByType("resource"),v=0;v<f.length;v++){var w=f[v],T=w.transferSize,P=w.initiatorType,B=w.duration;if(T&&B&&hO(P)){for(P=0,B=w.responseEnd,v+=1;v<f.length;v++){var Z=f[v],ue=Z.startTime;if(ue>B)break;var be=Z.transferSize,je=Z.initiatorType;be&&hO(je)&&(Z=Z.responseEnd,P+=be*(Z<B?1:(B-ue)/(Z-ue)))}if(--v,c+=8*(T+P)/(w.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var nx=null,rx=null;function mm(o){return o.nodeType===9?o:o.ownerDocument}function pO(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mO(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function ax(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var ix=null;function KU(){var o=window.event;return o&&o.type==="popstate"?o===ix?!1:(ix=o,!0):(ix=null,!1)}var gO=typeof setTimeout=="function"?setTimeout:void 0,XU=typeof clearTimeout=="function"?clearTimeout:void 0,vO=typeof Promise=="function"?Promise:void 0,ZU=typeof queueMicrotask=="function"?queueMicrotask:typeof vO<"u"?function(o){return vO.resolve(null).then(o).catch(JU)}:gO;function JU(o){setTimeout(function(){throw o})}function Ms(o){return o==="head"}function yO(o,c){var f=c,v=0;do{var w=f.nextSibling;if(o.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"||f==="/&"){if(v===0){o.removeChild(w),_u(c);return}v--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")v++;else if(f==="html")xf(o.ownerDocument.documentElement);else if(f==="head"){f=o.ownerDocument.head,xf(f);for(var T=f.firstChild;T;){var P=T.nextSibling,B=T.nodeName;T[rn]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&T.rel.toLowerCase()==="stylesheet"||f.removeChild(T),T=P}}else f==="body"&&xf(o.ownerDocument.body);f=w}while(f);_u(c)}function bO(o,c){var f=o;o=0;do{var v=f.nextSibling;if(f.nodeType===1?c?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(c?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),v&&v.nodeType===8)if(f=v.data,f==="/$"){if(o===0)break;o--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||o++;f=v}while(f)}function ox(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var f=c;switch(c=c.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":ox(f),jn(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function eB(o,c,f,v){for(;o.nodeType===1;){var w=f;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(v){if(!o[rn])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(T=o.getAttribute("rel"),T==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(T!==w.rel||o.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||o.getAttribute("title")!==(w.title==null?null:w.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(T=o.getAttribute("src"),(T!==(w.src==null?null:w.src)||o.getAttribute("type")!==(w.type==null?null:w.type)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&T&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var T=w.name==null?null:""+w.name;if(w.type==="hidden"&&o.getAttribute("name")===T)return o}else return o;if(o=ii(o.nextSibling),o===null)break}return null}function tB(o,c,f){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=ii(o.nextSibling),o===null))return null;return o}function xO(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=ii(o.nextSibling),o===null))return null;return o}function sx(o){return o.data==="$?"||o.data==="$~"}function lx(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function nB(o,c){var f=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||f.readyState!=="loading")c();else{var v=function(){c(),f.removeEventListener("DOMContentLoaded",v)};f.addEventListener("DOMContentLoaded",v),o._reactRetry=v}}function ii(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var cx=null;function SO(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"||f==="/&"){if(c===0)return ii(o.nextSibling);c--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||c++}o=o.nextSibling}return null}function wO(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(c===0)return o;c--}else f!=="/$"&&f!=="/&"||c++}o=o.previousSibling}return null}function CO(o,c,f){switch(c=mm(f),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function xf(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);jn(o)}var oi=new Map,jO=new Set;function gm(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ho=z.d;z.d={f:rB,r:aB,D:iB,C:oB,L:sB,m:lB,X:uB,S:cB,M:dB};function rB(){var o=Ho.f(),c=sm();return o||c}function aB(o){var c=Qt(o);c!==null&&c.tag===5&&c.type==="form"?UD(c):Ho.r(o)}var Eu=typeof document>"u"?null:document;function EO(o,c,f){var v=Eu;if(v&&typeof c=="string"&&c){var w=Za(c);w='link[rel="'+o+'"][href="'+w+'"]',typeof f=="string"&&(w+='[crossorigin="'+f+'"]'),jO.has(w)||(jO.add(w),o={rel:o,crossOrigin:f,href:c},v.querySelector(w)===null&&(c=v.createElement("link"),Ar(c,"link",o),un(c),v.head.appendChild(c)))}}function iB(o){Ho.D(o),EO("dns-prefetch",o,null)}function oB(o,c){Ho.C(o,c),EO("preconnect",o,c)}function sB(o,c,f){Ho.L(o,c,f);var v=Eu;if(v&&o&&c){var w='link[rel="preload"][as="'+Za(c)+'"]';c==="image"&&f&&f.imageSrcSet?(w+='[imagesrcset="'+Za(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(w+='[imagesizes="'+Za(f.imageSizes)+'"]')):w+='[href="'+Za(o)+'"]';var T=w;switch(c){case"style":T=Tu(o);break;case"script":T=Ru(o)}oi.has(T)||(o=m({rel:"preload",href:c==="image"&&f&&f.imageSrcSet?void 0:o,as:c},f),oi.set(T,o),v.querySelector(w)!==null||c==="style"&&v.querySelector(Sf(T))||c==="script"&&v.querySelector(wf(T))||(c=v.createElement("link"),Ar(c,"link",o),un(c),v.head.appendChild(c)))}}function lB(o,c){Ho.m(o,c);var f=Eu;if(f&&o){var v=c&&typeof c.as=="string"?c.as:"script",w='link[rel="modulepreload"][as="'+Za(v)+'"][href="'+Za(o)+'"]',T=w;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Ru(o)}if(!oi.has(T)&&(o=m({rel:"modulepreload",href:o},c),oi.set(T,o),f.querySelector(w)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(wf(T)))return}v=f.createElement("link"),Ar(v,"link",o),un(v),f.head.appendChild(v)}}}function cB(o,c,f){Ho.S(o,c,f);var v=Eu;if(v&&o){var w=Ka(v).hoistableStyles,T=Tu(o);c=c||"default";var P=w.get(T);if(!P){var B={loading:0,preload:null};if(P=v.querySelector(Sf(T)))B.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":c},f),(f=oi.get(T))&&ux(o,f);var Z=P=v.createElement("link");un(Z),Ar(Z,"link",o),Z._p=new Promise(function(ue,be){Z.onload=ue,Z.onerror=be}),Z.addEventListener("load",function(){B.loading|=1}),Z.addEventListener("error",function(){B.loading|=2}),B.loading|=4,vm(P,c,v)}P={type:"stylesheet",instance:P,count:1,state:B},w.set(T,P)}}}function uB(o,c){Ho.X(o,c);var f=Eu;if(f&&o){var v=Ka(f).hoistableScripts,w=Ru(o),T=v.get(w);T||(T=f.querySelector(wf(w)),T||(o=m({src:o,async:!0},c),(c=oi.get(w))&&dx(o,c),T=f.createElement("script"),un(T),Ar(T,"link",o),f.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},v.set(w,T))}}function dB(o,c){Ho.M(o,c);var f=Eu;if(f&&o){var v=Ka(f).hoistableScripts,w=Ru(o),T=v.get(w);T||(T=f.querySelector(wf(w)),T||(o=m({src:o,async:!0,type:"module"},c),(c=oi.get(w))&&dx(o,c),T=f.createElement("script"),un(T),Ar(T,"link",o),f.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},v.set(w,T))}}function TO(o,c,f,v){var w=(w=de.current)?gm(w):null;if(!w)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(c=Tu(f.href),f=Ka(w).hoistableStyles,v=f.get(c),v||(v={type:"style",instance:null,count:0,state:null},f.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=Tu(f.href);var T=Ka(w).hoistableStyles,P=T.get(o);if(P||(w=w.ownerDocument||w,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(o,P),(T=w.querySelector(Sf(o)))&&!T._p&&(P.instance=T,P.state.loading=5),oi.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},oi.set(o,f),T||fB(w,o,f,P.state))),c&&v===null)throw Error(r(528,""));return P}if(c&&v!==null)throw Error(r(529,""));return null;case"script":return c=f.async,f=f.src,typeof f=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Ru(f),f=Ka(w).hoistableScripts,v=f.get(c),v||(v={type:"script",instance:null,count:0,state:null},f.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Tu(o){return'href="'+Za(o)+'"'}function Sf(o){return'link[rel="stylesheet"]['+o+"]"}function RO(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function fB(o,c,f,v){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=o.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),Ar(c,"link",f),un(c),o.head.appendChild(c))}function Ru(o){return'[src="'+Za(o)+'"]'}function wf(o){return"script[async]"+o}function _O(o,c,f){if(c.count++,c.instance===null)switch(c.type){case"style":var v=o.querySelector('style[data-href~="'+Za(f.href)+'"]');if(v)return c.instance=v,un(v),v;var w=m({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return v=(o.ownerDocument||o).createElement("style"),un(v),Ar(v,"style",w),vm(v,f.precedence,o),c.instance=v;case"stylesheet":w=Tu(f.href);var T=o.querySelector(Sf(w));if(T)return c.state.loading|=4,c.instance=T,un(T),T;v=RO(f),(w=oi.get(w))&&ux(v,w),T=(o.ownerDocument||o).createElement("link"),un(T);var P=T;return P._p=new Promise(function(B,Z){P.onload=B,P.onerror=Z}),Ar(T,"link",v),c.state.loading|=4,vm(T,f.precedence,o),c.instance=T;case"script":return T=Ru(f.src),(w=o.querySelector(wf(T)))?(c.instance=w,un(w),w):(v=f,(w=oi.get(T))&&(v=m({},f),dx(v,w)),o=o.ownerDocument||o,w=o.createElement("script"),un(w),Ar(w,"link",v),o.head.appendChild(w),c.instance=w);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,vm(v,f.precedence,o));return c.instance}function vm(o,c,f){for(var v=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=v.length?v[v.length-1]:null,T=w,P=0;P<v.length;P++){var B=v[P];if(B.dataset.precedence===c)T=B;else if(T!==w)break}T?T.parentNode.insertBefore(o,T.nextSibling):(c=f.nodeType===9?f.head:f,c.insertBefore(o,c.firstChild))}function ux(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function dx(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var ym=null;function DO(o,c,f){if(ym===null){var v=new Map,w=ym=new Map;w.set(f,v)}else w=ym,v=w.get(f),v||(v=new Map,w.set(f,v));if(v.has(o))return v;for(v.set(o,null),f=f.getElementsByTagName(o),w=0;w<f.length;w++){var T=f[w];if(!(T[rn]||T[Pe]||o==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var P=T.getAttribute(c)||"";P=o+P;var B=v.get(P);B?B.push(T):v.set(P,[T])}}return v}function AO(o,c,f){o=o.ownerDocument||o,o.head.insertBefore(f,c==="title"?o.querySelector("head > title"):null)}function hB(o,c,f){if(f===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function OO(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function pB(o,c,f,v){if(f.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var w=Tu(v.href),T=c.querySelector(Sf(w));if(T){c=T._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=bm.bind(o),c.then(o,o)),f.state.loading|=4,f.instance=T,un(T);return}T=c.ownerDocument||c,v=RO(v),(w=oi.get(w))&&ux(v,w),T=T.createElement("link"),un(T);var P=T;P._p=new Promise(function(B,Z){P.onload=B,P.onerror=Z}),Ar(T,"link",v),f.instance=T}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(f,c),(c=f.state.preload)&&(f.state.loading&3)===0&&(o.count++,f=bm.bind(o),c.addEventListener("load",f),c.addEventListener("error",f))}}var fx=0;function mB(o,c){return o.stylesheets&&o.count===0&&Sm(o,o.stylesheets),0<o.count||0<o.imgCount?function(f){var v=setTimeout(function(){if(o.stylesheets&&Sm(o,o.stylesheets),o.unsuspend){var T=o.unsuspend;o.unsuspend=null,T()}},6e4+c);0<o.imgBytes&&fx===0&&(fx=62500*QU());var w=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Sm(o,o.stylesheets),o.unsuspend)){var T=o.unsuspend;o.unsuspend=null,T()}},(o.imgBytes>fx?50:800)+c);return o.unsuspend=f,function(){o.unsuspend=null,clearTimeout(v),clearTimeout(w)}}:null}function bm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sm(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var xm=null;function Sm(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,xm=new Map,c.forEach(gB,o),xm=null,bm.call(o))}function gB(o,c){if(!(c.state.loading&4)){var f=xm.get(o);if(f)var v=f.get(null);else{f=new Map,xm.set(o,f);for(var w=o.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<w.length;T++){var P=w[T];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(f.set(P.dataset.precedence,P),v=P)}v&&f.set(null,v)}w=c.instance,P=w.getAttribute("data-precedence"),T=f.get(P)||v,T===v&&f.set(null,w),f.set(P,w),this.count++,v=bm.bind(this),w.addEventListener("load",v),w.addEventListener("error",v),T?T.parentNode.insertBefore(w,T.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(w,o.firstChild)),c.state.loading|=4}}var Cf={$$typeof:R,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function vB(o,c,f,v,w,T,P,B,Z){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.hiddenUpdates=Ki(null),this.identifierPrefix=v,this.onUncaughtError=w,this.onCaughtError=T,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function kO(o,c,f,v,w,T,P,B,Z,ue,be,je){return o=new vB(o,c,f,P,Z,ue,be,je,B),c=1,T===!0&&(c|=24),T=ka(3,null,null,c),o.current=T,T.stateNode=o,c=V0(),c.refCount++,o.pooledCache=c,c.refCount++,T.memoizedState={element:v,isDehydrated:f,cache:c},Q0(T),o}function MO(o){return o?(o=au,o):au}function PO(o,c,f,v,w,T){w=MO(w),v.context===null?v.context=w:v.pendingContext=w,v=ws(c),v.payload={element:f},T=T===void 0?null:T,T!==null&&(v.callback=T),f=Cs(o,v,c),f!==null&&(ua(f,o,c),ef(f,o,c))}function NO(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<c?f:c}}function hx(o,c){NO(o,c),(o=o.alternate)&&NO(o,c)}function IO(o){if(o.tag===13||o.tag===31){var c=_l(o,67108864);c!==null&&ua(c,o,67108864),hx(o,67108864)}}function LO(o){if(o.tag===13||o.tag===31){var c=La();c=pe(c);var f=_l(o,c);f!==null&&ua(f,o,c),hx(o,c)}}var wm=!0;function yB(o,c,f,v){var w=N.T;N.T=null;var T=z.p;try{z.p=2,px(o,c,f,v)}finally{z.p=T,N.T=w}}function bB(o,c,f,v){var w=N.T;N.T=null;var T=z.p;try{z.p=8,px(o,c,f,v)}finally{z.p=T,N.T=w}}function px(o,c,f,v){if(wm){var w=mx(v);if(w===null)ex(o,c,v,Cm,f),$O(o,v);else if(SB(w,o,c,f,v))v.stopPropagation();else if($O(o,v),c&4&&-1<xB.indexOf(o)){for(;w!==null;){var T=Qt(w);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var P=Ra(T.pendingLanes);if(P!==0){var B=T;for(B.pendingLanes|=2,B.entangledLanes|=2;P;){var Z=1<<31-_n(P);B.entanglements[1]|=Z,P&=~Z}eo(T),(Jt&6)===0&&(im=ut()+500,vf(0))}}break;case 31:case 13:B=_l(T,2),B!==null&&ua(B,T,2),sm(),hx(T,2)}if(T=mx(v),T===null&&ex(o,c,v,Cm,f),T===w)break;w=T}w!==null&&v.stopPropagation()}else ex(o,c,v,null,f)}}function mx(o){return o=v0(o),gx(o)}var Cm=null;function gx(o){if(Cm=null,o=Vt(o),o!==null){var c=i(o);if(c===null)o=null;else{var f=c.tag;if(f===13){if(o=l(c),o!==null)return o;o=null}else if(f===31){if(o=u(c),o!==null)return o;o=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return Cm=o,null}function zO(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xt()){case hr:return 2;case Ft:return 8;case kt:case $n:return 32;case jr:return 268435456;default:return 32}default:return 32}}var vx=!1,Ps=null,Ns=null,Is=null,jf=new Map,Ef=new Map,Ls=[],xB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $O(o,c){switch(o){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":jf.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ef.delete(c.pointerId)}}function Tf(o,c,f,v,w,T){return o===null||o.nativeEvent!==T?(o={blockedOn:c,domEventName:f,eventSystemFlags:v,nativeEvent:T,targetContainers:[w]},c!==null&&(c=Qt(c),c!==null&&IO(c)),o):(o.eventSystemFlags|=v,c=o.targetContainers,w!==null&&c.indexOf(w)===-1&&c.push(w),o)}function SB(o,c,f,v,w){switch(c){case"focusin":return Ps=Tf(Ps,o,c,f,v,w),!0;case"dragenter":return Ns=Tf(Ns,o,c,f,v,w),!0;case"mouseover":return Is=Tf(Is,o,c,f,v,w),!0;case"pointerover":var T=w.pointerId;return jf.set(T,Tf(jf.get(T)||null,o,c,f,v,w)),!0;case"gotpointercapture":return T=w.pointerId,Ef.set(T,Tf(Ef.get(T)||null,o,c,f,v,w)),!0}return!1}function qO(o){var c=Vt(o.target);if(c!==null){var f=i(c);if(f!==null){if(c=f.tag,c===13){if(c=l(f),c!==null){o.blockedOn=c,Be(o.priority,function(){LO(f)});return}}else if(c===31){if(c=u(f),c!==null){o.blockedOn=c,Be(o.priority,function(){LO(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function jm(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var f=mx(o.nativeEvent);if(f===null){f=o.nativeEvent;var v=new f.constructor(f.type,f);g0=v,f.target.dispatchEvent(v),g0=null}else return c=Qt(f),c!==null&&IO(c),o.blockedOn=f,!1;c.shift()}return!0}function UO(o,c,f){jm(o)&&f.delete(c)}function wB(){vx=!1,Ps!==null&&jm(Ps)&&(Ps=null),Ns!==null&&jm(Ns)&&(Ns=null),Is!==null&&jm(Is)&&(Is=null),jf.forEach(UO),Ef.forEach(UO)}function Em(o,c){o.blockedOn===c&&(o.blockedOn=null,vx||(vx=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wB)))}var Tm=null;function BO(o){Tm!==o&&(Tm=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Tm===o&&(Tm=null);for(var c=0;c<o.length;c+=3){var f=o[c],v=o[c+1],w=o[c+2];if(typeof v!="function"){if(gx(v||f)===null)continue;break}var T=Qt(f);T!==null&&(o.splice(c,3),c-=3,mb(T,{pending:!0,data:w,method:f.method,action:v},v,w))}}))}function _u(o){function c(Z){return Em(Z,o)}Ps!==null&&Em(Ps,o),Ns!==null&&Em(Ns,o),Is!==null&&Em(Is,o),jf.forEach(c),Ef.forEach(c);for(var f=0;f<Ls.length;f++){var v=Ls[f];v.blockedOn===o&&(v.blockedOn=null)}for(;0<Ls.length&&(f=Ls[0],f.blockedOn===null);)qO(f),f.blockedOn===null&&Ls.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(v=0;v<f.length;v+=3){var w=f[v],T=f[v+1],P=w[Ie]||null;if(typeof T=="function")P||BO(f);else if(P){var B=null;if(T&&T.hasAttribute("formAction")){if(w=T,P=T[Ie]||null)B=P.formAction;else if(gx(w)!==null)continue}else B=P.action;typeof B=="function"?f[v+1]=B:(f.splice(v,3),v-=3),BO(f)}}}function HO(){function o(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(P){return w=P})},focusReset:"manual",scroll:"manual"})}function c(){w!==null&&(w(),w=null),v||setTimeout(f,20)}function f(){if(!v&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,w=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(f,100),function(){v=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),w!==null&&(w(),w=null)}}}function yx(o){this._internalRoot=o}Rm.prototype.render=yx.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var f=c.current,v=La();PO(f,v,o,c,null,null)},Rm.prototype.unmount=yx.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;PO(o.current,2,null,o,null,null),sm(),c[He]=null}};function Rm(o){this._internalRoot=o}Rm.prototype.unstable_scheduleHydration=function(o){if(o){var c=De();o={blockedOn:null,target:o,priority:c};for(var f=0;f<Ls.length&&c!==0&&c<Ls[f].priority;f++);Ls.splice(f,0,o),f===0&&qO(o)}};var FO=t.version;if(FO!=="19.2.3")throw Error(r(527,FO,"19.2.3"));z.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=h(c),o=o!==null?p(o):null,o=o===null?null:o.stateNode,o};var CB={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_m.isDisabled&&_m.supportsFiber)try{Yt=_m.inject(CB),jt=_m}catch{}}return Pf.createRoot=function(o,c){if(!a(o))throw Error(r(299));var f=!1,v="",w=XD,T=ZD,P=JD;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),c=kO(o,1,!1,null,null,f,v,null,w,T,P,HO),o[He]=c.current,Jb(o),new yx(c)},Pf.hydrateRoot=function(o,c,f){if(!a(o))throw Error(r(299));var v=!1,w="",T=XD,P=ZD,B=JD,Z=null;return f!=null&&(f.unstable_strictMode===!0&&(v=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onUncaughtError!==void 0&&(T=f.onUncaughtError),f.onCaughtError!==void 0&&(P=f.onCaughtError),f.onRecoverableError!==void 0&&(B=f.onRecoverableError),f.formState!==void 0&&(Z=f.formState)),c=kO(o,1,!0,c,f??null,v,w,Z,T,P,B,HO),c.context=MO(null),f=c.current,v=La(),v=pe(v),w=ws(v),w.callback=null,Cs(f,w,v),f=v,c.current.lanes=f,To(c,f),eo(c),o[He]=c.current,Jb(o),new Rm(c)},Pf.version="19.2.3",Pf}var CP;function Gce(){if(CP)return rS.exports;CP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),rS.exports=Wce(),rS.exports}var Yce=Gce();var V$=e=>{throw TypeError(e)},Qce=(e,t,n)=>t.has(e)||V$("Cannot "+n),oS=(e,t,n)=>(Qce(e,t,"read from private field"),n?n.call(e):t.get(e)),Kce=(e,t,n)=>t.has(e)?V$("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),jP="popstate";function Xce(e={}){function t(r,a){let{pathname:i,search:l,hash:u}=r.location;return fh("",{pathname:i,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:wo(a)}return Jce(t,n,null,e)}function wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function On(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Zce(){return Math.random().toString(36).substring(2,10)}function EP(e,t){return{usr:e.state,key:e.key,idx:t}}function fh(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?hs(t):t,state:n,key:t&&t.key||r||Zce()}}function wo({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function hs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Jce(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:i=!1}=r,l=a.history,u="POP",d=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function m(){u="POP";let C=p(),E=C==null?null:C-h;h=C,d&&d({action:u,location:x.location,delta:E})}function g(C,E){u="PUSH";let j=fh(x.location,C,E);h=p()+1;let R=EP(j,h),_=x.createHref(j);try{l.pushState(R,"",_)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;a.location.assign(_)}i&&d&&d({action:u,location:x.location,delta:1})}function y(C,E){u="REPLACE";let j=fh(x.location,C,E);h=p();let R=EP(j,h),_=x.createHref(j);l.replaceState(R,"",_),i&&d&&d({action:u,location:x.location,delta:0})}function S(C){return W$(C)}let x={get action(){return u},get location(){return e(a,l)},listen(C){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(jP,m),d=C,()=>{a.removeEventListener(jP,m),d=null}},createHref(C){return t(a,C)},createURL:S,encodeLocation(C){let E=S(C);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:y,go(C){return l.go(C)}};return x}function W$(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),wt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:wo(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Ff,TP=class{constructor(e){if(Kce(this,Ff,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(oS(this,Ff).has(e))return oS(this,Ff).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){oS(this,Ff).set(e,t)}};Ff=new WeakMap;var eue=new Set(["lazy","caseSensitive","path","id","index","children"]);function tue(e){return eue.has(e)}var nue=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function rue(e){return nue.has(e)}function aue(e){return e.index===!0}function hh(e,t,n=[],r={},a=!1){return e.map((i,l)=>{let u=[...n,String(l)],d=typeof i.id=="string"?i.id:u.join("-");if(wt(i.index!==!0||!i.children,"Cannot specify children on an index route"),wt(a||!r[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),aue(i)){let h={...i,id:d};return r[d]=RP(h,t(h)),h}else{let h={...i,id:d,children:void 0};return r[d]=RP(h,t(h)),i.children&&(h.children=hh(i.children,t,u,r,a)),h}})}function RP(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function Vs(e,t,n="/"){return Vf(e,t,n,!1)}function Vf(e,t,n,r){let a=typeof t=="string"?hs(t):t,i=yi(a.pathname||"/",n);if(i==null)return null;let l=G$(e);oue(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=vue(i);u=mue(l[d],h,r)}return u}function iue(e,t){let{route:n,pathname:r,params:a}=e;return{id:n.id,pathname:r,params:a,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function G$(e,t=[],n=[],r="",a=!1){let i=(l,u,d=a,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;wt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let m=mo([r,p.relativePath]),g=n.concat(p);l.children&&l.children.length>0&&(wt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),G$(l.children,t,g,m,d)),!(l.path==null&&!l.index)&&t.push({path:m,score:hue(m,l.index),routesMeta:g})};return e.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))i(l,u);else for(let d of Y$(l.path))i(l,u,!0,d)}),t}function Y$(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let l=Y$(r.join("/")),u=[];return u.push(...l.map(d=>d===""?i:[i,d].join("/"))),a&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function oue(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:pue(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var sue=/^:[\w-]+$/,lue=3,cue=2,uue=1,due=10,fue=-2,_P=e=>e==="*";function hue(e,t){let n=e.split("/"),r=n.length;return n.some(_P)&&(r+=fue),t&&(r+=cue),n.filter(a=>!_P(a)).reduce((a,i)=>a+(sue.test(i)?lue:i===""?uue:due),r)}function pue(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function mue(e,t,n=!1){let{routesMeta:r}=e,a={},i="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,p=i==="/"?t:t.slice(i.length)||"/",m=iv({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),g=d.route;if(!m&&h&&n&&!r[r.length-1].route.index&&(m=iv({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(a,m.params),l.push({params:a,pathname:mo([i,m.pathname]),pathnameBase:Sue(mo([i,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(i=mo([i,m.pathnameBase]))}return l}function iv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=gue(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:m},g)=>{if(p==="*"){let S=u[g]||"";l=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const y=u[g];return m&&!y?h[p]=void 0:h[p]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:l,pattern:e}}function gue(e,t=!1,n=!0){On(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function vue(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return On(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function yi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function yue({basename:e,pathname:t}){return t==="/"?e:mo([e,t])}var bue=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Iy=e=>bue.test(e);function xue(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?hs(e):e,i;if(n)if(Iy(n))i=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),On(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?i=DP(n.substring(1),"/"):i=DP(n,t)}else i=t;return{pathname:i,search:wue(r),hash:Cue(a)}}function DP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function sS(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Q$(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ly(e){let t=Q$(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function zy(e,t,n,r=!1){let a;typeof e=="string"?a=hs(e):(a={...e},wt(!a.pathname||!a.pathname.includes("?"),sS("?","pathname","search",a)),wt(!a.pathname||!a.pathname.includes("#"),sS("#","pathname","hash",a)),wt(!a.search||!a.search.includes("#"),sS("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,u;if(l==null)u=n;else{let m=t.length-1;if(!r&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;a.pathname=g.join("/")}u=m>=0?t[m]:"/"}let d=xue(a,u),h=l&&l!=="/"&&l.endsWith("/"),p=(i||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var mo=e=>e.join("/").replace(/\/\/+/g,"/"),Sue=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),wue=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Cue=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,$y=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ph(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function rp(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ys=Symbol("Uninstrumented");function jue(e,t){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(a=>a({id:t.id,index:t.index,path:t.path,instrument(i){let l=Object.keys(n);for(let u of l)i[u]&&n[u].push(i[u])}}));let r={};if(typeof t.lazy=="function"&&n.lazy.length>0){let a=Gu(n.lazy,t.lazy,()=>{});a&&(r.lazy=a)}if(typeof t.lazy=="object"){let a=t.lazy;["middleware","loader","action"].forEach(i=>{let l=a[i],u=n[`lazy.${i}`];if(typeof l=="function"&&u.length>0){let d=Gu(u,l,()=>{});d&&(r.lazy=Object.assign(r.lazy||{},{[i]:d}))}})}return["loader","action"].forEach(a=>{let i=t[a];if(typeof i=="function"&&n[a].length>0){let l=i[Ys]??i,u=Gu(n[a],l,(...d)=>AP(d[0]));u&&(u[Ys]=l,r[a]=u)}}),t.middleware&&t.middleware.length>0&&n.middleware.length>0&&(r.middleware=t.middleware.map(a=>{let i=a[Ys]??a,l=Gu(n.middleware,i,(...u)=>AP(u[0]));return l?(l[Ys]=i,l):a})),r}function Eue(e,t){let n={navigate:[],fetch:[]};if(t.forEach(r=>r({instrument(a){let i=Object.keys(a);for(let l of i)a[l]&&n[l].push(a[l])}})),n.navigate.length>0){let r=e.navigate[Ys]??e.navigate,a=Gu(n.navigate,r,(...i)=>{let[l,u]=i;return{to:typeof l=="number"||typeof l=="string"?l:l?wo(l):".",...OP(e,u??{})}});a&&(a[Ys]=r,e.navigate=a)}if(n.fetch.length>0){let r=e.fetch[Ys]??e.fetch,a=Gu(n.fetch,r,(...i)=>{let[l,,u,d]=i;return{href:u??".",fetcherKey:l,...OP(e,d??{})}});a&&(a[Ys]=r,e.fetch=a)}return e}function Gu(e,t,n){return e.length===0?null:async(...r)=>{let a=await K$(e,n(...r),()=>t(...r),e.length-1);if(a.type==="error")throw a.value;return a.value}}async function K$(e,t,n,r){let a=e[r],i;if(a){let l,u=async()=>(l?console.error("You cannot call instrumented handlers more than once"):l=K$(e,t,n,r-1),i=await l,wt(i,"Expected a result"),i.type==="error"&&i.value instanceof Error?{status:"error",error:i.value}:{status:"success",error:void 0});try{await a(u,t)}catch(d){console.error("An instrumentation function threw an error:",d)}l||await u(),await l}else try{i={type:"success",value:await n()}}catch(l){i={type:"error",value:l}}return i||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function AP(e){let{request:t,context:n,params:r,unstable_pattern:a}=e;return{request:Tue(t),params:{...r},unstable_pattern:a,context:Rue(n)}}function OP(e,t){return{currentUrl:wo(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function Tue(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function Rue(e){if(Due(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var _ue=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Due(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===_ue}var X$=["POST","PUT","PATCH","DELETE"],Aue=new Set(X$),Oue=["GET",...X$],kue=new Set(Oue),Mue=new Set([301,302,303,307,308]),Pue=new Set([307,308]),lS={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Nue={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Nf={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Iue=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Z$="remix-router-transitions",J$=Symbol("ResetLoaderData");function Lue(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";wt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],a=e.mapRouteProperties||Iue,i=a;if(e.unstable_instrumentations){let K=e.unstable_instrumentations;i=ie=>({...a(ie),...jue(K.map(pe=>pe.route).filter(Boolean),ie)})}let l={},u=hh(e.routes,i,void 0,l),d,h=e.basename||"/";h.startsWith("/")||(h=`/${h}`);let p=e.dataStrategy||Bue,m={...e.future},g=null,y=new Set,S=null,x=null,C=null,E=e.hydrationData!=null,j=Vs(u,e.history.location,h),R=!1,_=null,A;if(j==null&&!e.patchRoutesOnNavigation){let K=ui(404,{pathname:e.history.location.pathname}),{matches:ie,route:pe}=Hm(u);A=!0,j=ie,_={[pe.id]:K}}else if(j&&!e.hydrationData&&Un(j,u,e.history.location.pathname).active&&(j=null),j)if(j.some(K=>K.route.lazy))A=!1;else if(!j.some(K=>a_(K.route)))A=!0;else{let K=e.hydrationData?e.hydrationData.loaderData:null,ie=e.hydrationData?e.hydrationData.errors:null;if(ie){let pe=j.findIndex(Te=>ie[Te.route.id]!==void 0);A=j.slice(0,pe+1).every(Te=>!Ij(Te.route,K,ie))}else A=j.every(pe=>!Ij(pe.route,K,ie))}else{A=!1,j=[];let K=Un(null,u,e.history.location.pathname);K.active&&K.matches&&(R=!0,j=K.matches)}let M,D={historyAction:e.history.action,location:e.history.location,matches:j,initialized:A,navigation:lS,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||_,fetchers:new Map,blockers:new Map},O="POP",k=null,I=!1,L,V=!1,q=new Map,U=null,G=!1,N=!1,z=new Set,$=new Map,Y=0,X=-1,H=new Map,F=new Set,Q=new Map,J=new Map,re=new Set,de=new Map,Ee,Re=null;function Se(){if(g=e.history.listen(({action:K,location:ie,delta:pe})=>{if(Ee){Ee(),Ee=void 0;return}On(de.size===0||pe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Te=Ta({currentLocation:D.location,nextLocation:ie,historyAction:K});if(Te&&pe!=null){let De=new Promise(Be=>{Ee=Be});e.history.go(pe*-1),kn(Te,{state:"blocked",location:ie,proceed(){kn(Te,{state:"proceeding",proceed:void 0,reset:void 0,location:ie}),De.then(()=>e.history.go(pe))},reset(){let Be=new Map(D.blockers);Be.set(Te,Nf),Ve({blockers:Be})}}),k?.resolve(),k=null;return}return Bt(K,ie)}),n){ade(t,q);let K=()=>ide(t,q);t.addEventListener("pagehide",K),U=()=>t.removeEventListener("pagehide",K)}return D.initialized||Bt("POP",D.location,{initialHydration:!0}),M}function Ye(){g&&g(),U&&U(),y.clear(),L&&L.abort(),D.fetchers.forEach((K,ie)=>Kn(ie)),D.blockers.forEach((K,ie)=>qn(ie))}function Je(K){return y.add(K),()=>y.delete(K)}function Ve(K,ie={}){K.matches&&(K.matches=K.matches.map(De=>{let Be=l[De.route.id],qe=De.route;return qe.element!==Be.element||qe.errorElement!==Be.errorElement||qe.hydrateFallbackElement!==Be.hydrateFallbackElement?{...De,route:Be}:De})),D={...D,...K};let pe=[],Te=[];D.fetchers.forEach((De,Be)=>{De.state==="idle"&&(re.has(Be)?pe.push(Be):Te.push(Be))}),re.forEach(De=>{!D.fetchers.has(De)&&!$.has(De)&&pe.push(De)}),[...y].forEach(De=>De(D,{deletedFetchers:pe,newErrors:K.errors??null,viewTransitionOpts:ie.viewTransitionOpts,flushSync:ie.flushSync===!0})),pe.forEach(De=>Kn(De)),Te.forEach(De=>D.fetchers.delete(De))}function ze(K,ie,{flushSync:pe}={}){let Te=D.actionData!=null&&D.navigation.formMethod!=null&&Zr(D.navigation.formMethod)&&D.navigation.state==="loading"&&K.state?._isRedirect!==!0,De;ie.actionData?Object.keys(ie.actionData).length>0?De=ie.actionData:De=null:Te?De=D.actionData:De=null;let Be=ie.loaderData?UP(D.loaderData,ie.loaderData,ie.matches||[],ie.errors):D.loaderData,qe=D.blockers;qe.size>0&&(qe=new Map(qe),qe.forEach((Qe,Xe)=>qe.set(Xe,Nf)));let Pe=G?!1:Cl(K,ie.matches||D.matches),Ie=I===!0||D.navigation.formMethod!=null&&Zr(D.navigation.formMethod)&&K.state?._isRedirect!==!0;d&&(u=d,d=void 0),G||O==="POP"||(O==="PUSH"?e.history.push(K,K.state):O==="REPLACE"&&e.history.replace(K,K.state));let He;if(O==="POP"){let Qe=q.get(D.location.pathname);Qe&&Qe.has(K.pathname)?He={currentLocation:D.location,nextLocation:K}:q.has(K.pathname)&&(He={currentLocation:K,nextLocation:D.location})}else if(V){let Qe=q.get(D.location.pathname);Qe?Qe.add(K.pathname):(Qe=new Set([K.pathname]),q.set(D.location.pathname,Qe)),He={currentLocation:D.location,nextLocation:K}}Ve({...ie,actionData:De,loaderData:Be,historyAction:O,location:K,initialized:!0,navigation:lS,revalidation:"idle",restoreScrollPosition:Pe,preventScrollReset:Ie,blockers:qe},{viewTransitionOpts:He,flushSync:pe===!0}),O="POP",I=!1,V=!1,G=!1,N=!1,k?.resolve(),k=null,Re?.resolve(),Re=null}async function mt(K,ie){if(k?.resolve(),k=null,typeof K=="number"){k||(k=VP());let Ke=k.promise;return e.history.go(K),Ke}let pe=Nj(D.location,D.matches,h,K,ie?.fromRouteId,ie?.relative),{path:Te,submission:De,error:Be}=kP(!1,pe,ie),qe=D.location,Pe=fh(D.location,Te,ie&&ie.state);Pe={...Pe,...e.history.encodeLocation(Pe)};let Ie=ie&&ie.replace!=null?ie.replace:void 0,He="PUSH";Ie===!0?He="REPLACE":Ie===!1||De!=null&&Zr(De.formMethod)&&De.formAction===D.location.pathname+D.location.search&&(He="REPLACE");let Qe=ie&&"preventScrollReset"in ie?ie.preventScrollReset===!0:void 0,Xe=(ie&&ie.flushSync)===!0,Mt=Ta({currentLocation:qe,nextLocation:Pe,historyAction:He});if(Mt){kn(Mt,{state:"blocked",location:Pe,proceed(){kn(Mt,{state:"proceeding",proceed:void 0,reset:void 0,location:Pe}),mt(K,ie)},reset(){let Ke=new Map(D.blockers);Ke.set(Mt,Nf),Ve({blockers:Ke})}});return}await Bt(He,Pe,{submission:De,pendingError:Be,preventScrollReset:Qe,replace:ie&&ie.replace,enableViewTransition:ie&&ie.viewTransition,flushSync:Xe})}function Ze(){Re||(Re=VP()),Ft(),Ve({revalidation:"loading"});let K=Re.promise;return D.navigation.state==="submitting"?K:D.navigation.state==="idle"?(Bt(D.historyAction,D.location,{startUninterruptedRevalidation:!0}),K):(Bt(O||D.historyAction,D.navigation.location,{overrideNavigation:D.navigation,enableViewTransition:V===!0}),K)}async function Bt(K,ie,pe){L&&L.abort(),L=null,O=K,G=(pe&&pe.startUninterruptedRevalidation)===!0,Er(D.location,D.matches),I=(pe&&pe.preventScrollReset)===!0,V=(pe&&pe.enableViewTransition)===!0;let Te=d||u,De=pe&&pe.overrideNavigation,Be=pe?.initialHydration&&D.matches&&D.matches.length>0&&!R?D.matches:Vs(Te,ie,h),qe=(pe&&pe.flushSync)===!0;if(Be&&D.initialized&&!N&&Kue(D.location,ie)&&!(pe&&pe.submission&&Zr(pe.submission.formMethod))){ze(ie,{matches:Be},{flushSync:qe});return}let Pe=Un(Be,Te,ie.pathname);if(Pe.active&&Pe.matches&&(Be=Pe.matches),!Be){let{error:jn,notFoundMatches:Vt,route:Qt}=Ri(ie.pathname);ze(ie,{matches:Vt,loaderData:{},errors:{[Qt.id]:jn}},{flushSync:qe});return}L=new AbortController;let Ie=Vu(e.history,ie,L.signal,pe&&pe.submission),He=e.getContext?await e.getContext():new TP,Qe;if(pe&&pe.pendingError)Qe=[Ws(Be).route.id,{type:"error",error:pe.pendingError}];else if(pe&&pe.submission&&Zr(pe.submission.formMethod)){let jn=await ot(Ie,ie,pe.submission,Be,He,Pe.active,pe&&pe.initialHydration===!0,{replace:pe.replace,flushSync:qe});if(jn.shortCircuited)return;if(jn.pendingActionResult){let[Vt,Qt]=jn.pendingActionResult;if(za(Qt)&&ph(Qt.error)&&Qt.error.status===404){L=null,ze(ie,{matches:jn.matches,loaderData:{},errors:{[Vt]:Qt.error}});return}}Be=jn.matches||Be,Qe=jn.pendingActionResult,De=cS(ie,pe.submission),qe=!1,Pe.active=!1,Ie=Vu(e.history,Ie.url,Ie.signal)}let{shortCircuited:Xe,matches:Mt,loaderData:Ke,errors:rn}=await Ot(Ie,ie,Be,He,Pe.active,De,pe&&pe.submission,pe&&pe.fetcherSubmission,pe&&pe.replace,pe&&pe.initialHydration===!0,qe,Qe);Xe||(L=null,ze(ie,{matches:Mt||Be,...BP(Qe),loaderData:Ke,errors:rn}))}async function ot(K,ie,pe,Te,De,Be,qe,Pe={}){Ft();let Ie=nde(ie,pe);if(Ve({navigation:Ie},{flushSync:Pe.flushSync===!0}),Be){let Xe=await Ki(Te,ie.pathname,K.signal);if(Xe.type==="aborted")return{shortCircuited:!0};if(Xe.type==="error"){if(Xe.partialMatches.length===0){let{matches:Ke,route:rn}=Hm(u);return{matches:Ke,pendingActionResult:[rn.id,{type:"error",error:Xe.error}]}}let Mt=Ws(Xe.partialMatches).route.id;return{matches:Xe.partialMatches,pendingActionResult:[Mt,{type:"error",error:Xe.error}]}}else if(Xe.matches)Te=Xe.matches;else{let{notFoundMatches:Mt,error:Ke,route:rn}=Ri(ie.pathname);return{matches:Mt,pendingActionResult:[rn.id,{type:"error",error:Ke}]}}}let He,Qe=vg(Te,ie);if(!Qe.route.action&&!Qe.route.lazy)He={type:"error",error:ui(405,{method:K.method,pathname:ie.pathname,routeId:Qe.route.id})};else{let Xe=Zu(i,l,K,Te,Qe,qe?[]:r,De),Mt=await xt(K,Xe,De,null);if(He=Mt[Qe.route.id],!He){for(let Ke of Te)if(Mt[Ke.route.id]){He=Mt[Ke.route.id];break}}if(K.signal.aborted)return{shortCircuited:!0}}if(ac(He)){let Xe;return Pe&&Pe.replace!=null?Xe=Pe.replace:Xe=zP(He.response.headers.get("Location"),new URL(K.url),h)===D.location.pathname+D.location.search,await ut(K,He,!0,{submission:pe,replace:Xe}),{shortCircuited:!0}}if(za(He)){let Xe=Ws(Te,Qe.route.id);return(Pe&&Pe.replace)!==!0&&(O="PUSH"),{matches:Te,pendingActionResult:[Xe.route.id,He,Qe.route.id]}}return{matches:Te,pendingActionResult:[Qe.route.id,He]}}async function Ot(K,ie,pe,Te,De,Be,qe,Pe,Ie,He,Qe,Xe){let Mt=Be||cS(ie,qe),Ke=qe||Pe||FP(Mt),rn=!G&&!He;if(De){if(rn){let pr=_t(Xe);Ve({navigation:Mt,...pr!==void 0?{actionData:pr}:{}},{flushSync:Qe})}let zt=await Ki(pe,ie.pathname,K.signal);if(zt.type==="aborted")return{shortCircuited:!0};if(zt.type==="error"){if(zt.partialMatches.length===0){let{matches:Di,route:Xa}=Hm(u);return{matches:Di,loaderData:{},errors:{[Xa.id]:zt.error}}}let pr=Ws(zt.partialMatches).route.id;return{matches:zt.partialMatches,loaderData:{},errors:{[pr]:zt.error}}}else if(zt.matches)pe=zt.matches;else{let{error:pr,notFoundMatches:Di,route:Xa}=Ri(ie.pathname);return{matches:Di,loaderData:{},errors:{[Xa.id]:pr}}}}let jn=d||u,{dsMatches:Vt,revalidatingFetchers:Qt}=MP(K,Te,i,l,e.history,D,pe,Ke,ie,He?[]:r,He===!0,N,z,re,Q,F,jn,h,e.patchRoutesOnNavigation!=null,Xe);if(X=++Y,!e.dataStrategy&&!Vt.some(zt=>zt.shouldLoad)&&!Vt.some(zt=>zt.route.middleware&&zt.route.middleware.length>0)&&Qt.length===0){let zt=_n();return ze(ie,{matches:pe,loaderData:{},errors:Xe&&za(Xe[1])?{[Xe[0]]:Xe[1].error}:null,...BP(Xe),...zt?{fetchers:new Map(D.fetchers)}:{}},{flushSync:Qe}),{shortCircuited:!0}}if(rn){let zt={};if(!De){zt.navigation=Mt;let pr=_t(Xe);pr!==void 0&&(zt.actionData=pr)}Qt.length>0&&(zt.fetchers=We(Qt)),Ve(zt,{flushSync:Qe})}Qt.forEach(zt=>{jt(zt.key),zt.controller&&$.set(zt.key,zt.controller)});let _a=()=>Qt.forEach(zt=>jt(zt.key));L&&L.signal.addEventListener("abort",_a);let{loaderResults:Ka,fetcherResults:un}=await hr(Vt,Qt,K,Te);if(K.signal.aborted)return{shortCircuited:!0};L&&L.signal.removeEventListener("abort",_a),Qt.forEach(zt=>$.delete(zt.key));let Da=Fm(Ka);if(Da)return await ut(K,Da.result,!0,{replace:Ie}),{shortCircuited:!0};if(Da=Fm(un),Da)return F.add(Da.key),await ut(K,Da.result,!0,{replace:Ie}),{shortCircuited:!0};let{loaderData:Yc,errors:Aa}=qP(D,pe,Ka,Xe,Qt,un);He&&D.errors&&(Aa={...D.errors,...Aa});let aa=_n(),Qc=ms(X),jl=aa||Qc||Qt.length>0;return{matches:pe,loaderData:Yc,errors:Aa,...jl?{fetchers:new Map(D.fetchers)}:{}}}function _t(K){if(K&&!za(K[1]))return{[K[0]]:K[1].data};if(D.actionData)return Object.keys(D.actionData).length===0?null:D.actionData}function We(K){return K.forEach(ie=>{let pe=D.fetchers.get(ie.key),Te=If(void 0,pe?pe.data:void 0);D.fetchers.set(ie.key,Te)}),new Map(D.fetchers)}async function ht(K,ie,pe,Te){jt(K);let De=(Te&&Te.flushSync)===!0,Be=d||u,qe=Nj(D.location,D.matches,h,pe,ie,Te?.relative),Pe=Vs(Be,qe,h),Ie=Un(Pe,Be,qe);if(Ie.active&&Ie.matches&&(Pe=Ie.matches),!Pe){$n(K,ie,ui(404,{pathname:qe}),{flushSync:De});return}let{path:He,submission:Qe,error:Xe}=kP(!0,qe,Te);if(Xe){$n(K,ie,Xe,{flushSync:De});return}let Mt=e.getContext?await e.getContext():new TP,Ke=(Te&&Te.preventScrollReset)===!0;if(Qe&&Zr(Qe.formMethod)){await dt(K,ie,He,Pe,Mt,Ie.active,De,Ke,Qe);return}Q.set(K,{routeId:ie,path:He}),await pt(K,ie,He,Pe,Mt,Ie.active,De,Ke,Qe)}async function dt(K,ie,pe,Te,De,Be,qe,Pe,Ie){Ft(),Q.delete(K);let He=D.fetchers.get(K);kt(K,rde(Ie,He),{flushSync:qe});let Qe=new AbortController,Xe=Vu(e.history,pe,Qe.signal,Ie);if(Be){let Kt=await Ki(Te,new URL(Xe.url).pathname,Xe.signal,K);if(Kt.type==="aborted")return;if(Kt.type==="error"){$n(K,ie,Kt.error,{flushSync:qe});return}else if(Kt.matches)Te=Kt.matches;else{$n(K,ie,ui(404,{pathname:pe}),{flushSync:qe});return}}let Mt=vg(Te,pe);if(!Mt.route.action&&!Mt.route.lazy){let Kt=ui(405,{method:Ie.formMethod,pathname:pe,routeId:ie});$n(K,ie,Kt,{flushSync:qe});return}$.set(K,Qe);let Ke=Y,rn=Zu(i,l,Xe,Te,Mt,r,De),jn=await xt(Xe,rn,De,K),Vt=jn[Mt.route.id];if(!Vt){for(let Kt of rn)if(jn[Kt.route.id]){Vt=jn[Kt.route.id];break}}if(Xe.signal.aborted){$.get(K)===Qe&&$.delete(K);return}if(re.has(K)){if(ac(Vt)||za(Vt)){kt(K,Wo(void 0));return}}else{if(ac(Vt))if($.delete(K),X>Ke){kt(K,Wo(void 0));return}else return F.add(K),kt(K,If(Ie)),ut(Xe,Vt,!1,{fetcherSubmission:Ie,preventScrollReset:Pe});if(za(Vt)){$n(K,ie,Vt.error);return}}let Qt=D.navigation.location||D.location,_a=Vu(e.history,Qt,Qe.signal),Ka=d||u,un=D.navigation.state!=="idle"?Vs(Ka,D.navigation.location,h):D.matches;wt(un,"Didn't find any matches after fetcher action");let Da=++Y;H.set(K,Da);let Yc=If(Ie,Vt.data);D.fetchers.set(K,Yc);let{dsMatches:Aa,revalidatingFetchers:aa}=MP(_a,De,i,l,e.history,D,un,Ie,Qt,r,!1,N,z,re,Q,F,Ka,h,e.patchRoutesOnNavigation!=null,[Mt.route.id,Vt]);aa.filter(Kt=>Kt.key!==K).forEach(Kt=>{let Tr=Kt.key,zd=D.fetchers.get(Tr),d0=If(void 0,zd?zd.data:void 0);D.fetchers.set(Tr,d0),jt(Tr),Kt.controller&&$.set(Tr,Kt.controller)}),Ve({fetchers:new Map(D.fetchers)});let Qc=()=>aa.forEach(Kt=>jt(Kt.key));Qe.signal.addEventListener("abort",Qc);let{loaderResults:jl,fetcherResults:zt}=await hr(Aa,aa,_a,De);if(Qe.signal.aborted)return;if(Qe.signal.removeEventListener("abort",Qc),H.delete(K),$.delete(K),aa.forEach(Kt=>$.delete(Kt.key)),D.fetchers.has(K)){let Kt=Wo(Vt.data);D.fetchers.set(K,Kt)}let pr=Fm(jl);if(pr)return ut(_a,pr.result,!1,{preventScrollReset:Pe});if(pr=Fm(zt),pr)return F.add(pr.key),ut(_a,pr.result,!1,{preventScrollReset:Pe});let{loaderData:Di,errors:Xa}=qP(D,un,jl,void 0,aa,zt);ms(Da),D.navigation.state==="loading"&&Da>X?(wt(O,"Expected pending action"),L&&L.abort(),ze(D.navigation.location,{matches:un,loaderData:Di,errors:Xa,fetchers:new Map(D.fetchers)})):(Ve({errors:Xa,loaderData:UP(D.loaderData,Di,un,Xa),fetchers:new Map(D.fetchers)}),N=!1)}async function pt(K,ie,pe,Te,De,Be,qe,Pe,Ie){let He=D.fetchers.get(K);kt(K,If(Ie,He?He.data:void 0),{flushSync:qe});let Qe=new AbortController,Xe=Vu(e.history,pe,Qe.signal);if(Be){let Qt=await Ki(Te,new URL(Xe.url).pathname,Xe.signal,K);if(Qt.type==="aborted")return;if(Qt.type==="error"){$n(K,ie,Qt.error,{flushSync:qe});return}else if(Qt.matches)Te=Qt.matches;else{$n(K,ie,ui(404,{pathname:pe}),{flushSync:qe});return}}let Mt=vg(Te,pe);$.set(K,Qe);let Ke=Y,rn=Zu(i,l,Xe,Te,Mt,r,De),Vt=(await xt(Xe,rn,De,K))[Mt.route.id];if($.get(K)===Qe&&$.delete(K),!Xe.signal.aborted){if(re.has(K)){kt(K,Wo(void 0));return}if(ac(Vt))if(X>Ke){kt(K,Wo(void 0));return}else{F.add(K),await ut(Xe,Vt,!1,{preventScrollReset:Pe});return}if(za(Vt)){$n(K,ie,Vt.error);return}kt(K,Wo(Vt.data))}}async function ut(K,ie,pe,{submission:Te,fetcherSubmission:De,preventScrollReset:Be,replace:qe}={}){pe||(k?.resolve(),k=null),ie.response.headers.has("X-Remix-Revalidate")&&(N=!0);let Pe=ie.response.headers.get("Location");wt(Pe,"Expected a Location header on the redirect Response"),Pe=zP(Pe,new URL(K.url),h);let Ie=fh(D.location,Pe,{_isRedirect:!0});if(n){let rn=!1;if(ie.response.headers.has("X-Remix-Reload-Document"))rn=!0;else if(Iy(Pe)){const jn=W$(Pe,!0);rn=jn.origin!==t.location.origin||yi(jn.pathname,h)==null}if(rn){qe?t.location.replace(Pe):t.location.assign(Pe);return}}L=null;let He=qe===!0||ie.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Qe,formAction:Xe,formEncType:Mt}=D.navigation;!Te&&!De&&Qe&&Xe&&Mt&&(Te=FP(D.navigation));let Ke=Te||De;if(Pue.has(ie.response.status)&&Ke&&Zr(Ke.formMethod))await Bt(He,Ie,{submission:{...Ke,formAction:Pe},preventScrollReset:Be||I,enableViewTransition:pe?V:void 0});else{let rn=cS(Ie,Te);await Bt(He,Ie,{overrideNavigation:rn,fetcherSubmission:De,preventScrollReset:Be||I,enableViewTransition:pe?V:void 0})}}async function xt(K,ie,pe,Te){let De,Be={};try{De=await Fue(p,K,ie,Te,pe,!1)}catch(qe){return ie.filter(Pe=>Pe.shouldLoad).forEach(Pe=>{Be[Pe.route.id]={type:"error",error:qe}}),Be}if(K.signal.aborted)return Be;for(let[qe,Pe]of Object.entries(De))if(ede(Pe)){let Ie=Pe.result;Be[qe]={type:"redirect",response:Yue(Ie,K,qe,ie,h)}}else Be[qe]=await Gue(Pe);return Be}async function hr(K,ie,pe,Te){let De=xt(pe,K,Te,null),Be=Promise.all(ie.map(async Ie=>{if(Ie.matches&&Ie.match&&Ie.request&&Ie.controller){let Qe=(await xt(Ie.request,Ie.matches,Te,Ie.key))[Ie.match.route.id];return{[Ie.key]:Qe}}else return Promise.resolve({[Ie.key]:{type:"error",error:ui(404,{pathname:Ie.path})}})})),qe=await De,Pe=(await Be).reduce((Ie,He)=>Object.assign(Ie,He),{});return{loaderResults:qe,fetcherResults:Pe}}function Ft(){N=!0,Q.forEach((K,ie)=>{$.has(ie)&&z.add(ie),jt(ie)})}function kt(K,ie,pe={}){D.fetchers.set(K,ie),Ve({fetchers:new Map(D.fetchers)},{flushSync:(pe&&pe.flushSync)===!0})}function $n(K,ie,pe,Te={}){let De=Ws(D.matches,ie);Kn(K),Ve({errors:{[De.route.id]:pe},fetchers:new Map(D.fetchers)},{flushSync:(Te&&Te.flushSync)===!0})}function jr(K){return J.set(K,(J.get(K)||0)+1),re.has(K)&&re.delete(K),D.fetchers.get(K)||Nue}function Qa(K,ie){jt(K,ie?.reason),kt(K,Wo(null))}function Kn(K){let ie=D.fetchers.get(K);$.has(K)&&!(ie&&ie.state==="loading"&&H.has(K))&&jt(K),Q.delete(K),H.delete(K),F.delete(K),re.delete(K),z.delete(K),D.fetchers.delete(K)}function Yt(K){let ie=(J.get(K)||0)-1;ie<=0?(J.delete(K),re.add(K)):J.set(K,ie),Ve({fetchers:new Map(D.fetchers)})}function jt(K,ie){let pe=$.get(K);pe&&(pe.abort(ie),$.delete(K))}function Lr(K){for(let ie of K){let pe=jr(ie),Te=Wo(pe.data);D.fetchers.set(ie,Te)}}function _n(){let K=[],ie=!1;for(let pe of F){let Te=D.fetchers.get(pe);wt(Te,`Expected fetcher: ${pe}`),Te.state==="loading"&&(F.delete(pe),K.push(pe),ie=!0)}return Lr(K),ie}function ms(K){let ie=[];for(let[pe,Te]of H)if(Te<K){let De=D.fetchers.get(pe);wt(De,`Expected fetcher: ${pe}`),De.state==="loading"&&(jt(pe),H.delete(pe),ie.push(pe))}return Lr(ie),ie.length>0}function wl(K,ie){let pe=D.blockers.get(K)||Nf;return de.get(K)!==ie&&de.set(K,ie),pe}function qn(K){D.blockers.delete(K),de.delete(K)}function kn(K,ie){let pe=D.blockers.get(K)||Nf;wt(pe.state==="unblocked"&&ie.state==="blocked"||pe.state==="blocked"&&ie.state==="blocked"||pe.state==="blocked"&&ie.state==="proceeding"||pe.state==="blocked"&&ie.state==="unblocked"||pe.state==="proceeding"&&ie.state==="unblocked",`Invalid blocker state transition: ${pe.state} -> ${ie.state}`);let Te=new Map(D.blockers);Te.set(K,ie),Ve({blockers:Te})}function Ta({currentLocation:K,nextLocation:ie,historyAction:pe}){if(de.size===0)return;de.size>1&&On(!1,"A router only supports one blocker at a time");let Te=Array.from(de.entries()),[De,Be]=Te[Te.length-1],qe=D.blockers.get(De);if(!(qe&&qe.state==="proceeding")&&Be({currentLocation:K,nextLocation:ie,historyAction:pe}))return De}function Ri(K){let ie=ui(404,{pathname:K}),pe=d||u,{matches:Te,route:De}=Hm(pe);return{notFoundMatches:Te,route:De,error:ie}}function Ra(K,ie,pe){if(S=K,C=ie,x=pe||null,!E&&D.navigation===lS){E=!0;let Te=Cl(D.location,D.matches);Te!=null&&Ve({restoreScrollPosition:Te})}return()=>{S=null,C=null,x=null}}function _i(K,ie){return x&&x(K,ie.map(Te=>iue(Te,D.loaderData)))||K.key}function Er(K,ie){if(S&&C){let pe=_i(K,ie);S[pe]=C()}}function Cl(K,ie){if(S){let pe=_i(K,ie),Te=S[pe];if(typeof Te=="number")return Te}return null}function Un(K,ie,pe){if(e.patchRoutesOnNavigation)if(K){if(Object.keys(K[0].params).length>0)return{active:!0,matches:Vf(ie,pe,h,!0)}}else return{active:!0,matches:Vf(ie,pe,h,!0)||[]};return{active:!1,matches:null}}async function Ki(K,ie,pe,Te){if(!e.patchRoutesOnNavigation)return{type:"success",matches:K};let De=K;for(;;){let Be=d==null,qe=d||u,Pe=l;try{await e.patchRoutesOnNavigation({signal:pe,path:ie,matches:De,fetcherKey:Te,patch:(Qe,Xe)=>{pe.aborted||PP(Qe,Xe,qe,Pe,i,!1)}})}catch(Qe){return{type:"error",error:Qe,partialMatches:De}}finally{Be&&!pe.aborted&&(u=[...u])}if(pe.aborted)return{type:"aborted"};let Ie=Vs(qe,ie,h),He=null;if(Ie){if(Object.keys(Ie[0].params).length===0)return{type:"success",matches:Ie};if(He=Vf(qe,ie,h,!0),!(He&&De.length<He.length&&To(De,He.slice(0,De.length))))return{type:"success",matches:Ie}}if(He||(He=Vf(qe,ie,h,!0)),!He||To(De,He))return{type:"success",matches:null};De=He}}function To(K,ie){return K.length===ie.length&&K.every((pe,Te)=>pe.route.id===ie[Te].route.id)}function Ld(K){l={},d=hh(K,i,void 0,l)}function Gc(K,ie,pe=!1){let Te=d==null;PP(K,ie,d||u,l,i,pe),Te&&(u=[...u],Ve({}))}return M={get basename(){return h},get future(){return m},get state(){return D},get routes(){return u},get window(){return t},initialize:Se,subscribe:Je,enableScrollRestoration:Ra,navigate:mt,fetch:ht,revalidate:Ze,createHref:K=>e.history.createHref(K),encodeLocation:K=>e.history.encodeLocation(K),getFetcher:jr,resetFetcher:Qa,deleteFetcher:Yt,dispose:Ye,getBlocker:wl,deleteBlocker:qn,patchRoutes:Gc,_internalFetchControllers:$,_internalSetRoutes:Ld,_internalSetStateDoNotUseOrYouWillBreakYourApp(K){Ve(K)}},e.unstable_instrumentations&&(M=Eue(M,e.unstable_instrumentations.map(K=>K.router).filter(Boolean))),M}function zue(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Nj(e,t,n,r,a,i){let l,u;if(a){l=[];for(let h of t)if(l.push(h),h.route.id===a){u=h;break}}else l=t,u=t[t.length-1];let d=zy(r||".",Ly(l),yi(e.pathname,n)||e.pathname,i==="path");if(r==null&&(d.search=e.search,d.hash=e.hash),(r==null||r===""||r===".")&&u){let h=i_(d.search);if(u.route.index&&!h)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let p=new URLSearchParams(d.search),m=p.getAll("index");p.delete("index"),m.filter(y=>y).forEach(y=>p.append("index",y));let g=p.toString();d.search=g?`?${g}`:""}}return n!=="/"&&(d.pathname=yue({basename:n,pathname:d.pathname})),wo(d)}function kP(e,t,n){if(!n||!zue(n))return{path:t};if(n.formMethod&&!tde(n.formMethod))return{path:t,error:ui(405,{method:n.formMethod})};let r=()=>({path:t,error:ui(400,{type:"invalid-body"})}),i=(n.formMethod||"get").toUpperCase(),l=i7(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Zr(i))return r();let m=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,[y,S])=>`${g}${y}=${S}
`,""):String(n.body);return{path:t,submission:{formMethod:i,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:m}}}else if(n.formEncType==="application/json"){if(!Zr(i))return r();try{let m=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:i,formAction:l,formEncType:n.formEncType,formData:void 0,json:m,text:void 0}}}catch{return r()}}}wt(typeof FormData=="function","FormData is not available in this environment");let u,d;if(n.formData)u=zj(n.formData),d=n.formData;else if(n.body instanceof FormData)u=zj(n.body),d=n.body;else if(n.body instanceof URLSearchParams)u=n.body,d=$P(u);else if(n.body==null)u=new URLSearchParams,d=new FormData;else try{u=new URLSearchParams(n.body),d=$P(u)}catch{return r()}let h={formMethod:i,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Zr(h.formMethod))return{path:t,submission:h};let p=hs(t);return e&&p.search&&i_(p.search)&&u.append("index",""),p.search=`?${u}`,{path:wo(p),submission:h}}function MP(e,t,n,r,a,i,l,u,d,h,p,m,g,y,S,x,C,E,j,R){let _=R?za(R[1])?R[1].error:R[1].data:void 0,A=a.createURL(i.location),M=a.createURL(d),D;if(p&&i.errors){let U=Object.keys(i.errors)[0];D=l.findIndex(G=>G.route.id===U)}else if(R&&za(R[1])){let U=R[0];D=l.findIndex(G=>G.route.id===U)-1}let O=R?R[1].statusCode:void 0,k=O&&O>=400,I={currentUrl:A,currentParams:i.matches[0]?.params||{},nextUrl:M,nextParams:l[0].params,...u,actionResult:_,actionStatus:O},L=rp(l),V=l.map((U,G)=>{let{route:N}=U,z=null;if(D!=null&&G>D?z=!1:N.lazy?z=!0:a_(N)?p?z=Ij(N,i.loaderData,i.errors):$ue(i.loaderData,i.matches[G],U)&&(z=!0):z=!1,z!==null)return Lj(n,r,e,L,U,h,t,z);let $=k?!1:m||A.pathname+A.search===M.pathname+M.search||A.search!==M.search||que(i.matches[G],U),Y={...I,defaultShouldRevalidate:$},X=ov(U,Y);return Lj(n,r,e,L,U,h,t,X,Y)}),q=[];return S.forEach((U,G)=>{if(p||!l.some(Q=>Q.route.id===U.routeId)||y.has(G))return;let N=i.fetchers.get(G),z=N&&N.state!=="idle"&&N.data===void 0,$=Vs(C,U.path,E);if(!$){if(j&&z)return;q.push({key:G,routeId:U.routeId,path:U.path,matches:null,match:null,request:null,controller:null});return}if(x.has(G))return;let Y=vg($,U.path),X=new AbortController,H=Vu(a,U.path,X.signal),F=null;if(g.has(G))g.delete(G),F=Zu(n,r,H,$,Y,h,t);else if(z)m&&(F=Zu(n,r,H,$,Y,h,t));else{let Q={...I,defaultShouldRevalidate:k?!1:m};ov(Y,Q)&&(F=Zu(n,r,H,$,Y,h,t,Q))}F&&q.push({key:G,routeId:U.routeId,path:U.path,matches:F,match:Y,request:H,controller:X})}),{dsMatches:V,revalidatingFetchers:q}}function a_(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function Ij(e,t,n){if(e.lazy)return!0;if(!a_(e))return!1;let r=t!=null&&e.id in t,a=n!=null&&n[e.id]!==void 0;return!r&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!a}function $ue(e,t,n){let r=!t||n.route.id!==t.route.id,a=!e.hasOwnProperty(n.route.id);return r||a}function que(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function ov(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function PP(e,t,n,r,a,i){let l;if(e){let h=r[e];wt(h,`No route found to patch children into: routeId = ${e}`),h.children||(h.children=[]),l=h.children}else l=n;let u=[],d=[];if(t.forEach(h=>{let p=l.find(m=>e7(h,m));p?d.push({existingRoute:p,newRoute:h}):u.push(h)}),u.length>0){let h=hh(u,a,[e||"_","patch",String(l?.length||"0")],r);l.push(...h)}if(i&&d.length>0)for(let h=0;h<d.length;h++){let{existingRoute:p,newRoute:m}=d[h],g=p,[y]=hh([m],a,[],{},!0);Object.assign(g,{element:y.element?y.element:g.element,errorElement:y.errorElement?y.errorElement:g.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:g.hydrateFallbackElement})}}function e7(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>t.children?.some(a=>e7(n,a))):!1}var NP=new WeakMap,t7=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let a=n[t.id];if(wt(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let i=a.lazy[e];if(!i)return;let l=NP.get(a);l||(l={},NP.set(a,l));let u=l[e];if(u)return u;let d=(async()=>{let h=tue(e),m=a[e]!==void 0&&e!=="hasErrorBoundary";if(h)On(!h,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),l[e]=Promise.resolve();else if(m)On(!1,`Route "${a.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let g=await i();g!=null&&(Object.assign(a,{[e]:g}),Object.assign(a,r(a)))}typeof a.lazy=="object"&&(a.lazy[e]=void 0,Object.values(a.lazy).every(g=>g===void 0)&&(a.lazy=void 0))})();return l[e]=d,d},IP=new WeakMap;function Uue(e,t,n,r,a){let i=n[e.id];if(wt(i,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let p=IP.get(i);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let m=(async()=>{wt(typeof e.lazy=="function","No lazy route function found");let g=await e.lazy(),y={};for(let S in g){let x=g[S];if(x===void 0)continue;let C=rue(S),j=i[S]!==void 0&&S!=="hasErrorBoundary";C?On(!C,"Route property "+S+" is not a supported property to be returned from a lazy route function. This property will be ignored."):j?On(!j,`Route "${i.id}" has a static property "${S}" defined but its lazy function is also returning a value for this property. The lazy route property "${S}" will be ignored.`):y[S]=x}Object.assign(i,y),Object.assign(i,{...r(i),lazy:void 0})})();return IP.set(i,m),m.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:m}}let l=Object.keys(e.lazy),u=[],d;for(let p of l){if(a&&a.includes(p))continue;let m=t7({key:p,route:e,manifest:n,mapRouteProperties:r});m&&(u.push(m),p===t&&(d=m))}let h=u.length>0?Promise.all(u).then(()=>{}):void 0;return h?.catch(()=>{}),d?.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:d}}async function LP(e){let t=e.matches.filter(a=>a.shouldLoad),n={};return(await Promise.all(t.map(a=>a.resolve()))).forEach((a,i)=>{n[t[i].route.id]=a}),n}async function Bue(e){return e.matches.some(t=>t.route.middleware)?n7(e,()=>LP(e)):LP(e)}function n7(e,t){return Hue(e,t,r=>r,Zue,n);function n(r,a,i){if(i)return Promise.resolve(Object.assign(i.value,{[a]:{type:"error",result:r}}));{let{matches:l}=e,u=Math.min(Math.max(l.findIndex(h=>h.route.id===a),0),Math.max(l.findIndex(h=>h.shouldCallHandler()),0)),d=Ws(l,l[u].route.id).route.id;return Promise.resolve({[d]:{type:"error",result:r}})}}}async function Hue(e,t,n,r,a){let{matches:i,request:l,params:u,context:d,unstable_pattern:h}=e,p=i.flatMap(g=>g.route.middleware?g.route.middleware.map(y=>[g.route.id,y]):[]);return await r7({request:l,params:u,context:d,unstable_pattern:h},p,t,n,r,a)}async function r7(e,t,n,r,a,i,l=0){let{request:u}=e;if(u.signal.aborted)throw u.signal.reason??new Error(`Request aborted: ${u.method} ${u.url}`);let d=t[l];if(!d)return await n();let[h,p]=d,m,g=async()=>{if(m)throw new Error("You may only call `next()` once per middleware");try{return m={value:await r7(e,t,n,r,a,i,l+1)},m.value}catch(y){return m={value:await i(y,h,m)},m.value}};try{let y=await p(e,g),S=y!=null?r(y):void 0;return a(S)?S:m?S??m.value:(m={value:await g()},m.value)}catch(y){return await i(y,h,m)}}function a7(e,t,n,r,a){let i=t7({key:"middleware",route:r.route,manifest:t,mapRouteProperties:e}),l=Uue(r.route,Zr(n.method)?"action":"loader",t,e,a);return{middleware:i,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function Lj(e,t,n,r,a,i,l,u,d=null){let h=!1,p=a7(e,t,n,a,i);return{...a,_lazyPromises:p,shouldLoad:u,shouldRevalidateArgs:d,shouldCallHandler(m){return h=!0,d?typeof m=="boolean"?ov(a,{...d,defaultShouldRevalidate:m}):ov(a,d):u},resolve(m){let{lazy:g,loader:y,middleware:S}=a.route,x=h||u||m&&!Zr(n.method)&&(g||y),C=S&&S.length>0&&!y&&!g;return x&&(Zr(n.method)||!C)?Vue({request:n,unstable_pattern:r,match:a,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:m,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function Zu(e,t,n,r,a,i,l,u=null){return r.map(d=>d.route.id!==a.route.id?{...d,shouldLoad:!1,shouldRevalidateArgs:u,shouldCallHandler:()=>!1,_lazyPromises:a7(e,t,n,d,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Lj(e,t,n,rp(r),d,i,l,!0,u))}async function Fue(e,t,n,r,a,i){n.some(h=>h._lazyPromises?.middleware)&&await Promise.all(n.map(h=>h._lazyPromises?.middleware));let l={request:t,unstable_pattern:rp(n),params:n[0].params,context:a,matches:n},d=await e({...l,fetcherKey:r,runClientMiddleware:h=>{let p=l;return n7(p,()=>h({...p,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(h=>[h._lazyPromises?.handler,h._lazyPromises?.route]))}catch{}return d}async function Vue({request:e,unstable_pattern:t,match:n,lazyHandlerPromise:r,lazyRoutePromise:a,handlerOverride:i,scopedContext:l}){let u,d,h=Zr(e.method),p=h?"action":"loader",m=g=>{let y,S=new Promise((E,j)=>y=j);d=()=>y(),e.signal.addEventListener("abort",d);let x=E=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${n.route.id}]`)):g({request:e,unstable_pattern:t,params:n.params,context:l},...E!==void 0?[E]:[]),C=(async()=>{try{return{type:"data",result:await(i?i(j=>x(j)):x())}}catch(E){return{type:"error",result:E}}})();return Promise.race([C,S])};try{let g=h?n.route.action:n.route.loader;if(r||a)if(g){let y,[S]=await Promise.all([m(g).catch(x=>{y=x}),r,a]);if(y!==void 0)throw y;u=S}else{await r;let y=h?n.route.action:n.route.loader;if(y)[u]=await Promise.all([m(y),a]);else if(p==="action"){let S=new URL(e.url),x=S.pathname+S.search;throw ui(405,{method:e.method,pathname:x,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(g)u=await m(g);else{let y=new URL(e.url),S=y.pathname+y.search;throw ui(404,{pathname:S})}}catch(g){return{type:"error",result:g}}finally{d&&e.signal.removeEventListener("abort",d)}return u}async function Wue(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function Gue(e){let{result:t,type:n}=e;if(o7(t)){let r;try{r=await Wue(t)}catch(a){return{type:"error",error:a}}return n==="error"?{type:"error",error:new $y(t.status,t.statusText,r),statusCode:t.status,headers:t.headers}:{type:"data",data:r,statusCode:t.status,headers:t.headers}}return n==="error"?HP(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:Xue(t),statusCode:ph(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:ph(t)?t.status:void 0}:HP(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function Yue(e,t,n,r,a){let i=e.headers.get("Location");if(wt(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!Iy(i)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);i=Nj(new URL(t.url),l,a,i),e.headers.set("Location",i)}return e}function zP(e,t,n){if(Iy(e)){let r=e,a=r.startsWith("//")?new URL(t.protocol+r):new URL(r),i=yi(a.pathname,n)!=null;if(a.origin===t.origin&&i)return a.pathname+a.search+a.hash}return e}function Vu(e,t,n,r){let a=e.createURL(i7(t)).toString(),i={signal:n};if(r&&Zr(r.formMethod)){let{formMethod:l,formEncType:u}=r;i.method=l.toUpperCase(),u==="application/json"?(i.headers=new Headers({"Content-Type":u}),i.body=JSON.stringify(r.json)):u==="text/plain"?i.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?i.body=zj(r.formData):i.body=r.formData}return new Request(a,i)}function zj(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function $P(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Que(e,t,n,r=!1,a=!1){let i={},l=null,u,d=!1,h={},p=n&&za(n[1])?n[1].error:void 0;return e.forEach(m=>{if(!(m.route.id in t))return;let g=m.route.id,y=t[g];if(wt(!ac(y),"Cannot handle redirect results in processLoaderData"),za(y)){let S=y.error;if(p!==void 0&&(S=p,p=void 0),l=l||{},a)l[g]=S;else{let x=Ws(e,g);l[x.route.id]==null&&(l[x.route.id]=S)}r||(i[g]=J$),d||(d=!0,u=ph(y.error)?y.error.status:500),y.headers&&(h[g]=y.headers)}else i[g]=y.data,y.statusCode&&y.statusCode!==200&&!d&&(u=y.statusCode),y.headers&&(h[g]=y.headers)}),p!==void 0&&n&&(l={[n[0]]:p},n[2]&&(i[n[2]]=void 0)),{loaderData:i,errors:l,statusCode:u||200,loaderHeaders:h}}function qP(e,t,n,r,a,i){let{loaderData:l,errors:u}=Que(t,n,r);return a.filter(d=>!d.matches||d.matches.some(h=>h.shouldLoad)).forEach(d=>{let{key:h,match:p,controller:m}=d;if(m&&m.signal.aborted)return;let g=i[h];if(wt(g,"Did not find corresponding fetcher result"),za(g)){let y=Ws(e.matches,p?.route.id);u&&u[y.route.id]||(u={...u,[y.route.id]:g.error}),e.fetchers.delete(h)}else if(ac(g))wt(!1,"Unhandled fetcher revalidation redirect");else{let y=Wo(g.data);e.fetchers.set(h,y)}}),{loaderData:l,errors:u}}function UP(e,t,n,r){let a=Object.entries(t).filter(([,i])=>i!==J$).reduce((i,[l,u])=>(i[l]=u,i),{});for(let i of n){let l=i.route.id;if(!t.hasOwnProperty(l)&&e.hasOwnProperty(l)&&i.route.loader&&(a[l]=e[l]),r&&r.hasOwnProperty(l))break}return a}function BP(e){return e?za(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Ws(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Hm(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function ui(e,{pathname:t,routeId:n,method:r,type:a,message:i}={}){let l="Unknown Server Error",u="Unknown @remix-run/router error";return e===400?(l="Bad Request",r&&t&&n?u=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(u="Unable to encode submission body")):e===403?(l="Forbidden",u=`Route "${n}" does not match URL "${t}"`):e===404?(l="Not Found",u=`No route matches URL "${t}"`):e===405&&(l="Method Not Allowed",r&&t&&n?u=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(u=`Invalid request method "${r.toUpperCase()}"`)),new $y(e||500,l,new Error(u),!0)}function Fm(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,a]=t[n];if(ac(a))return{key:r,result:a}}}function i7(e){let t=typeof e=="string"?hs(e):e;return wo({...t,hash:""})}function Kue(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Xue(e){return new $y(e.init?.status??500,e.init?.statusText??"Internal Server Error",e.data)}function Zue(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,n])=>typeof t=="string"&&Jue(n))}function Jue(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function ede(e){return o7(e.result)&&Mue.has(e.result.status)}function za(e){return e.type==="error"}function ac(e){return(e&&e.type)==="redirect"}function HP(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function o7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function tde(e){return kue.has(e.toUpperCase())}function Zr(e){return Aue.has(e.toUpperCase())}function i_(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function vg(e,t){let n=typeof t=="string"?hs(t).search:t.search;if(e[e.length-1].route.index&&i_(n||""))return e[e.length-1];let r=Q$(e);return r[r.length-1]}function FP(e){let{formMethod:t,formAction:n,formEncType:r,text:a,formData:i,json:l}=e;if(!(!t||!n||!r)){if(a!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(l!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function cS(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function nde(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function If(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function rde(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Wo(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ade(e,t){try{let n=e.sessionStorage.getItem(Z$);if(n){let r=JSON.parse(n);for(let[a,i]of Object.entries(r||{}))i&&Array.isArray(i)&&t.set(a,new Set(i||[]))}}catch{}}function ide(e,t){if(t.size>0){let n={};for(let[r,a]of t)n[r]=[...a];try{e.sessionStorage.setItem(Z$,JSON.stringify(n))}catch(r){On(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function VP(){let e,t,n=new Promise((r,a)=>{e=async i=>{r(i);try{await n}catch{}},t=async i=>{a(i);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var Hc=b.createContext(null);Hc.displayName="DataRouter";var ap=b.createContext(null);ap.displayName="DataRouterState";b.createContext(!1);var o_=b.createContext({isTransitioning:!1});o_.displayName="ViewTransition";var s7=b.createContext(new Map);s7.displayName="Fetchers";var ode=b.createContext(null);ode.displayName="Await";var ji=b.createContext(null);ji.displayName="Navigation";var ip=b.createContext(null);ip.displayName="Location";var Ei=b.createContext({outlet:null,matches:[],isDataRoute:!1});Ei.displayName="Route";var s_=b.createContext(null);s_.displayName="RouteError";function sde(e,{relative:t}={}){wt(Od(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(ji),{hash:a,pathname:i,search:l}=op(e,{relative:t}),u=i;return n!=="/"&&(u=i==="/"?n:mo([n,i])),r.createHref({pathname:u,search:l,hash:a})}function Od(){return b.useContext(ip)!=null}function Ya(){return wt(Od(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(ip).location}var l7="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function c7(e){b.useContext(ji).static||b.useLayoutEffect(e)}function gn(){let{isDataRoute:e}=b.useContext(Ei);return e?wde():lde()}function lde(){wt(Od(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(Hc),{basename:t,navigator:n}=b.useContext(ji),{matches:r}=b.useContext(Ei),{pathname:a}=Ya(),i=JSON.stringify(Ly(r)),l=b.useRef(!1);return c7(()=>{l.current=!0}),b.useCallback((d,h={})=>{if(On(l.current,l7),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=zy(d,JSON.parse(i),a,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:mo([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,i,a,e])}var cde=b.createContext(null);function ude(e){let t=b.useContext(Ei).outlet;return b.useMemo(()=>t&&b.createElement(cde.Provider,{value:e},t),[t,e])}function ur(){let{matches:e}=b.useContext(Ei),t=e[e.length-1];return t?t.params:{}}function op(e,{relative:t}={}){let{matches:n}=b.useContext(Ei),{pathname:r}=Ya(),a=JSON.stringify(Ly(n));return b.useMemo(()=>zy(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function dde(e,t){return u7(e,t)}function u7(e,t,n,r,a){wt(Od(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=b.useContext(ji),{matches:l}=b.useContext(Ei),u=l[l.length-1],d=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let j=m&&m.path||"";d7(h,!m||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let g=Ya(),y;if(t){let j=typeof t=="string"?hs(t):t;wt(p==="/"||j.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${j.pathname}" was given in the \`location\` prop.`),y=j}else y=g;let S=y.pathname||"/",x=S;if(p!=="/"){let j=p.replace(/^\//,"").split("/");x="/"+S.replace(/^\//,"").split("/").slice(j.length).join("/")}let C=Vs(e,{pathname:x});On(m||C!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),On(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=gde(C&&C.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:mo([p,i.encodeLocation?i.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:mo([p,i.encodeLocation?i.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),l,n,r,a);return t&&E?b.createElement(ip.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},E):E}function fde(){let e=Sde(),t=ph(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=b.createElement(b.Fragment,null,b.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:i},"ErrorBoundary")," or"," ",b.createElement("code",{style:i},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:a},n):null,l)}var hde=b.createElement(fde,null),pde=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(Ei.Provider,{value:this.props.routeContext},b.createElement(s_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mde({routeContext:e,match:t,children:n}){let r=b.useContext(Hc);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Ei.Provider,{value:e},n)}function gde(e,t=[],n=null,r=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=n?.errors;if(l!=null){let p=i.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);wt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,p+1))}let u=!1,d=-1;if(n)for(let p=0;p<i.length;p++){let m=i[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:g,errors:y}=n,S=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||S){u=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}let h=n&&r?(p,m)=>{r(p,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:rp(n.matches),errorInfo:m})}:void 0;return i.reduceRight((p,m,g)=>{let y,S=!1,x=null,C=null;n&&(y=l&&m.route.id?l[m.route.id]:void 0,x=m.route.errorElement||hde,u&&(d<0&&g===0?(d7("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,C=null):d===g&&(S=!0,C=m.route.hydrateFallbackElement||null)));let E=t.concat(i.slice(0,g+1)),j=()=>{let R;return y?R=x:S?R=C:m.route.Component?R=b.createElement(m.route.Component,null):m.route.element?R=m.route.element:R=p,b.createElement(mde,{match:m,routeContext:{outlet:p,matches:E,isDataRoute:n!=null},children:R})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?b.createElement(pde,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:j(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:h}):j()},null)}function l_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vde(e){let t=b.useContext(Hc);return wt(t,l_(e)),t}function yde(e){let t=b.useContext(ap);return wt(t,l_(e)),t}function bde(e){let t=b.useContext(Ei);return wt(t,l_(e)),t}function c_(e){let t=bde(e),n=t.matches[t.matches.length-1];return wt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function xde(){return c_("useRouteId")}function Sde(){let e=b.useContext(s_),t=yde("useRouteError"),n=c_("useRouteError");return e!==void 0?e:t.errors?.[n]}function wde(){let{router:e}=vde("useNavigate"),t=c_("useNavigate"),n=b.useRef(!1);return c7(()=>{n.current=!0}),b.useCallback(async(a,i={})=>{On(n.current,l7),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var WP={};function d7(e,t,n){!t&&!WP[e]&&(WP[e]=!0,On(!1,n))}var GP={};function YP(e,t){!e&&!GP[t]&&(GP[t]=!0,console.warn(t))}var Cde="useOptimistic",QP=iE[Cde],jde=()=>{};function Ede(e){return QP?QP(e):[e,jde]}function Tde(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&On(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:b.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&On(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:b.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&On(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:b.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var Rde=["HydrateFallback","hydrateFallbackElement"],_de=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function Dde({router:e,flushSync:t,unstable_onError:n,unstable_useTransitions:r}){let[a,i]=b.useState(e.state),[l,u]=Ede(a),[d,h]=b.useState(),[p,m]=b.useState({isTransitioning:!1}),[g,y]=b.useState(),[S,x]=b.useState(),[C,E]=b.useState(),j=b.useRef(new Map),R=b.useCallback((D,{deletedFetchers:O,newErrors:k,flushSync:I,viewTransitionOpts:L})=>{k&&n&&Object.values(k).forEach(q=>n(q,{location:D.location,params:D.matches[0]?.params??{},unstable_pattern:rp(D.matches)})),D.fetchers.forEach((q,U)=>{q.data!==void 0&&j.current.set(U,q.data)}),O.forEach(q=>j.current.delete(q)),YP(I===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let V=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(YP(L==null||V,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!L||!V){t&&I?t(()=>i(D)):r===!1?i(D):b.startTransition(()=>{r===!0&&u(q=>KP(q,D)),i(D)});return}if(t&&I){t(()=>{S&&(g?.resolve(),S.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let q=e.window.document.startViewTransition(()=>{t(()=>i(D))});q.finished.finally(()=>{t(()=>{y(void 0),x(void 0),h(void 0),m({isTransitioning:!1})})}),t(()=>x(q));return}S?(g?.resolve(),S.skipTransition(),E({state:D,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(h(D),m({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[e.window,t,S,g,r,u,n]);b.useLayoutEffect(()=>e.subscribe(R),[e,R]),b.useEffect(()=>{p.isTransitioning&&!p.flushSync&&y(new _de)},[p]),b.useEffect(()=>{if(g&&d&&e.window){let D=d,O=g.promise,k=e.window.document.startViewTransition(async()=>{r===!1?i(D):b.startTransition(()=>{r===!0&&u(I=>KP(I,D)),i(D)}),await O});k.finished.finally(()=>{y(void 0),x(void 0),h(void 0),m({isTransitioning:!1})}),x(k)}},[d,g,e.window,r,u]),b.useEffect(()=>{g&&d&&l.location.key===d.location.key&&g.resolve()},[g,S,l.location,d]),b.useEffect(()=>{!p.isTransitioning&&C&&(h(C.state),m({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),E(void 0))},[p.isTransitioning,C]);let _=b.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:D=>e.navigate(D),push:(D,O,k)=>e.navigate(D,{state:O,preventScrollReset:k?.preventScrollReset}),replace:(D,O,k)=>e.navigate(D,{replace:!0,state:O,preventScrollReset:k?.preventScrollReset})}),[e]),A=e.basename||"/",M=b.useMemo(()=>({router:e,navigator:_,static:!1,basename:A,unstable_onError:n}),[e,_,A,n]);return b.createElement(b.Fragment,null,b.createElement(Hc.Provider,{value:M},b.createElement(ap.Provider,{value:l},b.createElement(s7.Provider,{value:j.current},b.createElement(o_.Provider,{value:p},b.createElement(kde,{basename:A,location:l.location,navigationType:l.historyAction,navigator:_,unstable_useTransitions:r===!0},b.createElement(Ade,{routes:e.routes,future:e.future,state:l,unstable_onError:n})))))),null)}function KP(e,t){return{...e,navigation:t.navigation.state!=="idle"?t.navigation:e.navigation,revalidation:t.revalidation!=="idle"?t.revalidation:e.revalidation,actionData:t.navigation.state!=="submitting"?t.actionData:e.actionData,fetchers:t.fetchers}}var Ade=b.memo(Ode);function Ode({routes:e,future:t,state:n,unstable_onError:r}){return u7(e,void 0,n,r,t)}function XP({to:e,replace:t,state:n,relative:r}){wt(Od(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=b.useContext(ji);On(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=b.useContext(Ei),{pathname:l}=Ya(),u=gn(),d=zy(e,Ly(i),l,r==="path"),h=JSON.stringify(d);return b.useEffect(()=>{u(JSON.parse(h),{replace:t,state:n,relative:r})},[u,h,r,t,n]),null}function u_(e){return ude(e.context)}function ct(e){wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kde({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:i=!1,unstable_useTransitions:l}){wt(!Od(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:u,navigator:a,static:i,unstable_useTransitions:l,future:{}}),[u,a,i,l]);typeof n=="string"&&(n=hs(n));let{pathname:h="/",search:p="",hash:m="",state:g=null,key:y="default"}=n,S=b.useMemo(()=>{let x=yi(h,u);return x==null?null:{location:{pathname:x,search:p,hash:m,state:g,key:y},navigationType:r}},[u,h,p,m,g,y,r]);return On(S!=null,`<Router basename="${u}"> is not able to match the URL "${h}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:b.createElement(ji.Provider,{value:d},b.createElement(ip.Provider,{children:t,value:S}))}function Mde({children:e,location:t}){return dde($j(e),t)}function $j(e,t=[]){let n=[];return b.Children.forEach(e,(r,a)=>{if(!b.isValidElement(r))return;let i=[...t,a];if(r.type===b.Fragment){n.push.apply(n,$j(r.props.children,i));return}wt(r.type===ct,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=$j(r.props.children,i)),n.push(l)}),n}var yg="get",bg="application/x-www-form-urlencoded";function qy(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Pde(e){return qy(e)&&e.tagName.toLowerCase()==="button"}function Nde(e){return qy(e)&&e.tagName.toLowerCase()==="form"}function Ide(e){return qy(e)&&e.tagName.toLowerCase()==="input"}function Lde(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zde(e,t){return e.button===0&&(!t||t==="_self")&&!Lde(e)}function qj(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function $de(e,t){let n=qj(e);return t&&t.forEach((r,a)=>{n.has(a)||t.getAll(a).forEach(i=>{n.append(a,i)})}),n}var Vm=null;function qde(){if(Vm===null)try{new FormData(document.createElement("form"),0),Vm=!1}catch{Vm=!0}return Vm}var Ude=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uS(e){return e!=null&&!Ude.has(e)?(On(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bg}"`),null):e}function Bde(e,t){let n,r,a,i,l;if(Nde(e)){let u=e.getAttribute("action");r=u?yi(u,t):null,n=e.getAttribute("method")||yg,a=uS(e.getAttribute("enctype"))||bg,i=new FormData(e)}else if(Pde(e)||Ide(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(r=d?yi(d,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||yg,a=uS(e.getAttribute("formenctype"))||uS(u.getAttribute("enctype"))||bg,i=new FormData(u,e),!qde()){let{name:h,type:p,value:m}=e;if(p==="image"){let g=h?`${h}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else h&&i.append(h,m)}}else{if(qy(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=yg,r=null,a=bg,l=e}return i&&a==="text/plain"&&(l=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function d_(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hde(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&yi(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Fde(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Vde(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Wde(e,t,n){let r=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let l=await Fde(i,n);return l.links?l.links():[]}return[]}));return Kde(r.flat(1).filter(Vde).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function ZP(e,t,n,r,a,i){let l=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,u=(d,h)=>n[h].pathname!==d.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==d.params["*"];return i==="assets"?t.filter((d,h)=>l(d,h)||u(d,h)):i==="data"?t.filter((d,h)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Gde(e,t,{includeHydrateFallback:n}={}){return Yde(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function Yde(e){return[...new Set(e)]}function Qde(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Kde(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let i=JSON.stringify(Qde(a));return n.has(i)||(n.add(i),r.push({key:i,link:a})),r},[])}function f7(){let e=b.useContext(Hc);return d_(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Xde(){let e=b.useContext(ap);return d_(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var f_=b.createContext(void 0);f_.displayName="FrameworkContext";function h7(){let e=b.useContext(f_);return d_(e,"You must render this element inside a <HydratedRouter> element"),e}function Zde(e,t){let n=b.useContext(f_),[r,a]=b.useState(!1),[i,l]=b.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:m}=t,g=b.useRef(null);b.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let x=E=>{E.forEach(j=>{l(j.isIntersecting)})},C=new IntersectionObserver(x,{threshold:.5});return g.current&&C.observe(g.current),()=>{C.disconnect()}}},[e]),b.useEffect(()=>{if(r){let x=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(x)}}},[r]);let y=()=>{a(!0)},S=()=>{a(!1),l(!1)};return n?e!=="intent"?[i,g,{}]:[i,g,{onFocus:Lf(u,y),onBlur:Lf(d,S),onMouseEnter:Lf(h,y),onMouseLeave:Lf(p,S),onTouchStart:Lf(m,y)}]:[!1,g,{}]}function Lf(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Jde({page:e,...t}){let{router:n}=f7(),r=b.useMemo(()=>Vs(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?b.createElement(tfe,{page:e,matches:r,...t}):null}function efe(e){let{manifest:t,routeModules:n}=h7(),[r,a]=b.useState([]);return b.useEffect(()=>{let i=!1;return Wde(e,t,n).then(l=>{i||a(l)}),()=>{i=!0}},[e,t,n]),r}function tfe({page:e,matches:t,...n}){let r=Ya(),{manifest:a,routeModules:i}=h7(),{basename:l}=f7(),{loaderData:u,matches:d}=Xde(),h=b.useMemo(()=>ZP(e,t,d,a,r,"data"),[e,t,d,a,r]),p=b.useMemo(()=>ZP(e,t,d,a,r,"assets"),[e,t,d,a,r]),m=b.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let S=new Set,x=!1;if(t.forEach(E=>{let j=a.routes[E.route.id];!j||!j.hasLoader||(!h.some(R=>R.route.id===E.route.id)&&E.route.id in u&&i[E.route.id]?.shouldRevalidate||j.hasClientLoader?x=!0:S.add(E.route.id))}),S.size===0)return[];let C=Hde(e,l,"data");return x&&S.size>0&&C.searchParams.set("_routes",t.filter(E=>S.has(E.route.id)).map(E=>E.route.id).join(",")),[C.pathname+C.search]},[l,u,r,a,h,t,e,i]),g=b.useMemo(()=>Gde(p,a),[p,a]),y=efe(p);return b.createElement(b.Fragment,null,m.map(S=>b.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),g.map(S=>b.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),y.map(({key:S,link:x})=>b.createElement("link",{key:S,nonce:n.nonce,...x})))}function nfe(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var p7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{p7&&(window.__reactRouterVersion="7.10.1")}catch{}function rfe(e,t){return Lue({basename:t?.basename,getContext:t?.getContext,future:t?.future,history:Xce({window:t?.window}),hydrationData:afe(),routes:e,mapRouteProperties:Tde,hydrationRouteProperties:Rde,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window,unstable_instrumentations:t?.unstable_instrumentations}).initialize()}function afe(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:ife(e.errors)}),e}function ife(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,a]of t)if(a&&a.__type==="RouteErrorResponse")n[r]=new $y(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let i=window[a.__subType];if(typeof i=="function")try{let l=new i(a.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let i=new Error(a.message);i.stack="",n[r]=i}}else n[r]=a;return n}var m7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,h_=b.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:i,replace:l,state:u,target:d,to:h,preventScrollReset:p,viewTransition:m,...g},y){let{basename:S,unstable_useTransitions:x}=b.useContext(ji),C=typeof h=="string"&&m7.test(h),E,j=!1;if(typeof h=="string"&&C&&(E=h,p7))try{let I=new URL(window.location.href),L=h.startsWith("//")?new URL(I.protocol+h):new URL(h),V=yi(L.pathname,S);L.origin===I.origin&&V!=null?h=V+L.search+L.hash:j=!0}catch{On(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=sde(h,{relative:a}),[_,A,M]=Zde(r,g),D=cfe(h,{replace:l,state:u,target:d,preventScrollReset:p,relative:a,viewTransition:m,unstable_useTransitions:x});function O(I){t&&t(I),I.defaultPrevented||D(I)}let k=b.createElement("a",{...g,...M,href:E||R,onClick:j||i?t:O,ref:nfe(y,A),target:d,"data-discover":!C&&n==="render"?"true":void 0});return _&&!C?b.createElement(b.Fragment,null,k,b.createElement(Jde,{page:R})):k});h_.displayName="Link";var ofe=b.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:i,to:l,viewTransition:u,children:d,...h},p){let m=op(l,{relative:h.relative}),g=Ya(),y=b.useContext(ap),{navigator:S,basename:x}=b.useContext(ji),C=y!=null&&mfe(m)&&u===!0,E=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,j=g.pathname,R=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(j=j.toLowerCase(),R=R?R.toLowerCase():null,E=E.toLowerCase()),R&&x&&(R=yi(R,x)||R);const _=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let A=j===E||!a&&j.startsWith(E)&&j.charAt(_)==="/",M=R!=null&&(R===E||!a&&R.startsWith(E)&&R.charAt(E.length)==="/"),D={isActive:A,isPending:M,isTransitioning:C},O=A?t:void 0,k;typeof r=="function"?k=r(D):k=[r,A?"active":null,M?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let I=typeof i=="function"?i(D):i;return b.createElement(h_,{...h,"aria-current":O,className:k,ref:p,style:I,to:l,viewTransition:u},typeof d=="function"?d(D):d)});ofe.displayName="NavLink";var sfe=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:i,method:l=yg,action:u,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:m,...g},y)=>{let{unstable_useTransitions:S}=b.useContext(ji),x=hfe(),C=pfe(u,{relative:h}),E=l.toLowerCase()==="get"?"get":"post",j=typeof u=="string"&&m7.test(u),R=_=>{if(d&&d(_),_.defaultPrevented)return;_.preventDefault();let A=_.nativeEvent.submitter,M=A?.getAttribute("formmethod")||l,D=()=>x(A||_.currentTarget,{fetcherKey:t,method:M,navigate:n,replace:a,state:i,relative:h,preventScrollReset:p,viewTransition:m});S&&n!==!1?b.startTransition(()=>D()):D()};return b.createElement("form",{ref:y,method:E,action:C,onSubmit:r?d:R,...g,"data-discover":!j&&e==="render"?"true":void 0})});sfe.displayName="Form";function lfe(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g7(e){let t=b.useContext(Hc);return wt(t,lfe(e)),t}function cfe(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:i,viewTransition:l,unstable_useTransitions:u}={}){let d=gn(),h=Ya(),p=op(e,{relative:i});return b.useCallback(m=>{if(zde(m,t)){m.preventDefault();let g=n!==void 0?n:wo(h)===wo(p),y=()=>d(e,{replace:g,state:r,preventScrollReset:a,relative:i,viewTransition:l});u?b.startTransition(()=>y()):y()}},[h,d,p,n,r,t,e,a,i,l,u])}function ufe(e){On(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=b.useRef(qj(e)),n=b.useRef(!1),r=Ya(),a=b.useMemo(()=>$de(r.search,n.current?null:t.current),[r.search]),i=gn(),l=b.useCallback((u,d)=>{const h=qj(typeof u=="function"?u(new URLSearchParams(a)):u);n.current=!0,i("?"+h,d)},[i,a]);return[a,l]}var dfe=0,ffe=()=>`__${String(++dfe)}__`;function hfe(){let{router:e}=g7("useSubmit"),{basename:t}=b.useContext(ji),n=xde(),r=e.fetch,a=e.navigate;return b.useCallback(async(i,l={})=>{let{action:u,method:d,encType:h,formData:p,body:m}=Bde(i,t);if(l.navigate===!1){let g=l.fetcherKey||ffe();await r(g,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||d,formEncType:l.encType||h,flushSync:l.flushSync})}else await a(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||d,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,a,t,n])}function pfe(e,{relative:t}={}){let{basename:n}=b.useContext(ji),r=b.useContext(Ei);wt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i={...op(e||".",{relative:t})},l=Ya();if(e==null){i.search=l.search;let u=new URLSearchParams(i.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();i.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:mo([n,i.pathname])),wo(i)}function mfe(e,{relative:t}={}){let n=b.useContext(o_);wt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=g7("useViewTransitionState"),a=op(e,{relative:t});if(!n.isTransitioning)return!1;let i=yi(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=yi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return iv(a.pathname,l)!=null||iv(a.pathname,i)!=null}var gfe={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};const Tt=(e,t,n,r)=>{const a=b.forwardRef(({color:i="currentColor",size:l=24,stroke:u=2,title:d,className:h,children:p,...m},g)=>b.createElement("svg",{ref:g,...gfe[e],width:l,height:l,className:["tabler-icon",`tabler-icon-${t}`,h].join(" "),strokeWidth:u,stroke:i,...m},[d&&b.createElement("title",{key:"svg-title"},d),...r.map(([y,S])=>b.createElement(y,S)),...Array.isArray(p)?p:[p]]));return a.displayName=`${n}`,a};const vfe=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],yfe=Tt("outline","alert-circle","AlertCircle",vfe);const bfe=[["path",{d:"M12 3c7.2 0 9 1.8 9 9s-1.8 9 -9 9s-9 -1.8 -9 -9s1.8 -9 9 -9z",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],v7=Tt("outline","alert-square-rounded","AlertSquareRounded",bfe);const xfe=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 13l-6 6",key:"svg-1"}],["path",{d:"M6 13l6 6",key:"svg-2"}]],Sfe=Tt("outline","arrow-down","ArrowDown",xfe);const wfe=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 11l-6 -6",key:"svg-1"}],["path",{d:"M6 11l6 -6",key:"svg-2"}]],Cfe=Tt("outline","arrow-up","ArrowUp",wfe);const jfe=[["path",{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M8 14v4",key:"svg-4"}],["path",{d:"M12 14v4",key:"svg-5"}],["path",{d:"M16 14v4",key:"svg-6"}]],Efe=Tt("outline","calendar-month","CalendarMonth",jfe);const Tfe=[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]],mh=Tt("outline","check","Check",Tfe);const Rfe=[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]],p_=Tt("outline","chevron-down","ChevronDown",Rfe);const _fe=[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]],Dfe=Tt("outline","chevron-left","ChevronLeft",_fe);const Afe=[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]],Uj=Tt("outline","chevron-right","ChevronRight",Afe);const Ofe=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-1"}]],Uy=Tt("outline","circle-check","CircleCheck",Ofe);const kfe=[["path",{d:"M20.042 16.045a9 9 0 0 0 -12.087 -12.087m-2.318 1.677a9 9 0 1 0 12.725 12.73",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]],jc=Tt("outline","circle-off","CircleOff",kfe);const Mfe=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M9 12h6",key:"svg-1"}],["path",{d:"M12 9v6",key:"svg-2"}]],Pfe=Tt("outline","circle-plus","CirclePlus",Mfe);const Nfe=[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M9 14l2 2l4 -4",key:"svg-2"}]],Bj=Tt("outline","clipboard-check","ClipboardCheck",Nfe);const Ife=[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M9 12l.01 0",key:"svg-2"}],["path",{d:"M13 12l2 0",key:"svg-3"}],["path",{d:"M9 16l.01 0",key:"svg-4"}],["path",{d:"M13 16l2 0",key:"svg-5"}]],y7=Tt("outline","clipboard-list","ClipboardList",Ife);const Lfe=[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]],zfe=Tt("outline","device-floppy","DeviceFloppy",Lfe);const $fe=[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]],qfe=Tt("outline","download","Download",$fe);const Ufe=[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]],Bfe=Tt("outline","edit","Edit",Ufe);const Hfe=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M9 9l1 0",key:"svg-2"}],["path",{d:"M9 13l6 0",key:"svg-3"}],["path",{d:"M9 17l6 0",key:"svg-4"}]],xg=Tt("outline","file-text","FileText",Hfe);const Ffe=[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]],Vfe=Tt("outline","filter","Filter",Ffe);const Wfe=[["path",{d:"M9 3l6 0",key:"svg-0"}],["path",{d:"M10 9l4 0",key:"svg-1"}],["path",{d:"M10 3v6l-4 11a.7 .7 0 0 0 .5 1h11a.7 .7 0 0 0 .5 -1l-4 -11v-6",key:"svg-2"}]],Gfe=Tt("outline","flask","Flask",Wfe);const Yfe=[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 4v16",key:"svg-1"}],["path",{d:"M15 10l-2 2l2 2",key:"svg-2"}]],b7=Tt("outline","layout-sidebar-left-collapse","LayoutSidebarLeftCollapse",Yfe);const Qfe=[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 4v16",key:"svg-1"}],["path",{d:"M14 10l2 2l-2 2",key:"svg-2"}]],x7=Tt("outline","layout-sidebar-left-expand","LayoutSidebarLeftExpand",Qfe);const Kfe=[["path",{d:"M5 11m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M12 16m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M8 11v-5a4 4 0 0 1 8 0",key:"svg-2"}]],Xfe=Tt("outline","lock-open","LockOpen",Kfe);const Zfe=[["path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z",key:"svg-0"}],["path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M8 11v-4a4 4 0 1 1 8 0v4",key:"svg-2"}]],sv=Tt("outline","lock","Lock",Zfe);const Jfe=[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]],ehe=Tt("outline","mail","Mail",Jfe);const the=[["path",{d:"M3 20l1.3 -3.9c-2.324 -3.437 -1.426 -7.872 2.1 -10.374c3.526 -2.501 8.59 -2.296 11.845 .48c3.255 2.777 3.695 7.266 1.029 10.501c-2.666 3.235 -7.615 4.215 -11.574 2.293l-4.7 1",key:"svg-0"}]],S7=Tt("outline","message-circle","MessageCircle",the);const nhe=[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]],lv=Tt("outline","pencil","Pencil",nhe);const rhe=[["path",{d:"M4.5 12.5l8 -8a4.94 4.94 0 0 1 7 7l-8 8a4.94 4.94 0 0 1 -7 -7",key:"svg-0"}],["path",{d:"M8.5 8.5l7 7",key:"svg-1"}]],ahe=Tt("outline","pill","Pill",rhe);const ihe=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]],yl=Tt("outline","plus","Plus",ihe);const ohe=[["path",{d:"M4 7h3a1 1 0 0 0 1 -1v-1a2 2 0 0 1 4 0v1a1 1 0 0 0 1 1h3a1 1 0 0 1 1 1v3a1 1 0 0 0 1 1h1a2 2 0 0 1 0 4h-1a1 1 0 0 0 -1 1v3a1 1 0 0 1 -1 1h-3a1 1 0 0 1 -1 -1v-1a2 2 0 0 0 -4 0v1a1 1 0 0 1 -1 1h-3a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1h1a2 2 0 0 0 0 -4h-1a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1",key:"svg-0"}]],she=Tt("outline","puzzle","Puzzle",ohe);const lhe=[["path",{d:"M6 4m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v4a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M12 2v2",key:"svg-1"}],["path",{d:"M9 12v9",key:"svg-2"}],["path",{d:"M15 12v9",key:"svg-3"}],["path",{d:"M5 16l4 -2",key:"svg-4"}],["path",{d:"M15 14l4 2",key:"svg-5"}],["path",{d:"M9 18h6",key:"svg-6"}],["path",{d:"M10 8v.01",key:"svg-7"}],["path",{d:"M14 8v.01",key:"svg-8"}]],dS=Tt("outline","robot","Robot",lhe);const che=[["path",{d:"M10 14l11 -11",key:"svg-0"}],["path",{d:"M21 3l-6.5 18a.55 .55 0 0 1 -1 0l-3.5 -7l-7 -3.5a.55 .55 0 0 1 0 -1l18 -6.5",key:"svg-1"}]],m_=Tt("outline","send","Send",che);const uhe=[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]],dhe=Tt("outline","settings","Settings",uhe);const fhe=[["path",{d:"M3 17c3.333 -3.333 5 -6 5 -8c0 -3 -1 -3 -2 -3s-2.032 1.085 -2 3c.034 2.048 1.658 4.877 2.5 6c1.5 2 2.5 2.5 3.5 1l2 -3c.333 2.667 1.333 4 3 4c.53 0 2.639 -2 3 -2c.517 0 1.517 .667 3 2",key:"svg-0"}]],w7=Tt("outline","signature","Signature",fhe);const hhe=[["path",{d:"M6 4h-1a2 2 0 0 0 -2 2v3.5h0a5.5 5.5 0 0 0 11 0v-3.5a2 2 0 0 0 -2 -2h-1",key:"svg-0"}],["path",{d:"M8 15a6 6 0 1 0 12 0v-3",key:"svg-1"}],["path",{d:"M11 3v2",key:"svg-2"}],["path",{d:"M6 3v2",key:"svg-3"}],["path",{d:"M20 10m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-4"}]],C7=Tt("outline","stethoscope","Stethoscope",hhe);const phe=[["path",{d:"M3 3m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M3 17m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M17 3m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-2"}],["path",{d:"M17 17m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-3"}],["path",{d:"M11 5h2",key:"svg-4"}],["path",{d:"M5 11v2",key:"svg-5"}],["path",{d:"M19 11v2",key:"svg-6"}],["path",{d:"M11 19h2",key:"svg-7"}]],JP=Tt("outline","transform-point","TransformPoint",phe);const mhe=[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]],Hj=Tt("outline","trash","Trash",mhe);const ghe=[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-1"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-2"}]],vhe=Tt("outline","user-check","UserCheck",ghe);const yhe=[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]],bhe=Tt("outline","user","User",yhe);const xhe=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M3.6 9h16.8",key:"svg-1"}],["path",{d:"M3.6 15h16.8",key:"svg-2"}],["path",{d:"M11.5 3a17 17 0 0 0 0 18",key:"svg-3"}],["path",{d:"M12.5 3a17 17 0 0 1 0 18",key:"svg-4"}]],She=Tt("outline","world","World",xhe);const whe=[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]],Che=Tt("outline","x","X",whe);var Fc="https://www.medplum.com/bots",jhe="https://dosespot.com/clinic-favorite-medication-id",j7={system:Fc,value:"dosespot-patient-sync-bot"},Ehe={system:Fc,value:"dosespot-iframe-bot"},The={system:Fc,value:"dosespot-add-favorite-medication-bot"},Rhe={system:Fc,value:"dosespot-search-medication-bot"},_he={system:Fc,value:"dosespot-medication-history-bot"},Dhe={system:Fc,value:"dosespot-prescriptions-sync-bot"},Ahe={system:Fc,value:"dosespot-notification-counts-bot"};function Ohe(){let[e,t]=b.useState(void 0),[n,r]=b.useState(void 0),a=_e(),i={selectedMedication:n,directions:e},l=b.useCallback(async()=>{if(!n)throw new Error("Must select a medication before adding a favorite medication");let d={resourceType:"MedicationKnowledge",code:{...n},administrationGuidelines:[{dosage:[{dosage:[{patientInstruction:e||""}],type:{coding:[{system:"https://dosespot.com/patient-instructions"}]}}]}]};return a.executeBot(The,d)},[n,e,a]),u=b.useCallback(async d=>await a.executeBot(Rhe,{name:d}),[a]);return{state:i,searchMedications:u,setSelectedMedication:d=>{let h;hy(d)?h={...d}:fy(d)&&(h={text:d.display||"",coding:[d]}),r(h)},setSelectedMedicationDirections:d=>{t(d)},saveFavoriteMedication:l,clear:()=>{r(void 0),t(void 0)}}}function khe(e){let t=_e(),{patientId:n,onPatientSyncSuccess:r,onIframeSuccess:a,onError:i}=e,l=b.useRef(!1),[u,d]=b.useState(void 0),h=b.useRef(r);h.current=r;let p=b.useRef(a);p.current=a;let m=b.useRef(i);m.current=i;let g=b.useCallback(async()=>{if(!l.current){l.current=!0;try{n&&(await t.executeBot(j7,{patientId:n}),h.current?.());let y=await t.executeBot(Ehe,{patientId:n});y.url&&(d(y.url),p.current?.(y.url))}catch(y){m.current?.(y)}}},[t,n]);return b.useEffect(()=>{g().catch(console.error)},[g]),u}var Mhe=1e4;function Phe(e){let t=_e(),{onChange:n,onError:r}={},a=t.getProjectMembership()?.identifier?.some(g=>g.system?.includes("dosespot")),i=Mhe,l=b.useRef(void 0),[u,d]=b.useState(void 0),h=b.useCallback(()=>{let g=l.current;g&&clearInterval(g)},[]),p=b.useCallback(async()=>{try{let g=await t.executeBot(Ahe,{}),y=0;g.PendingPrescriptionsCount&&(y+=g.PendingPrescriptionsCount),g.PendingRxChangeCount&&(y+=g.PendingRxChangeCount),g.RefillRequestsCount&&(y+=g.RefillRequestsCount),g.TransactionErrorsCount&&(y+=g.TransactionErrorsCount),y!==u&&(d(y),n?.(y))}catch(g){r?.(g),h()}},[t,u,n,r,h]),m=b.useCallback(()=>{l.current=setInterval(()=>{p().catch(console.error)},i)},[p,i]);return b.useEffect(()=>(a&&m(),h),[a,m,h]),u}var Nhe=e=>e?.code?.text||"";function eN(){const e=Phe(),t=s.jsx(ahe,{size:20,color:"gray"});return e?s.jsx(Wv,{inline:!0,label:e.toLocaleString(),size:16,offset:2,position:"bottom-end",color:"red",children:t}):t}function Vc(e){const{patientId:t}=ur();if(!t&&!e?.ignoreMissingPatientId)throw new Error("Patient ID not found");return Dt({reference:`Patient/${t}`},e?.setOutcome)}const Ihe="_footer_67of4_1",Lhe="_taskDetails_67of4_8",tN={footer:Ihe,taskDetails:Lhe},zhe=()=>{const{patientId:e,encounterId:t,taskId:n}=ur(),r=Vc(),a=_e(),i=gn(),l=Cr(),[u,d]=b.useState(void 0),[h,p]=b.useState(!0),[m,g]=b.useState(),[y,S]=b.useState(),[x,C]=b.useState(),[E,j]=b.useState("");b.useEffect(()=>{(async()=>{const A=await a.readResource("Task",n);C(A.status),d(A),S(A.restriction?.period?.end)})().catch(A=>{Vr.show({color:"red",icon:s.jsx(jc,{}),title:"Error",message:Wt(A)})})},[a,n]);const R=async()=>{if(!u)return;const _={...u},A=E.trim();A!==""&&(_.note=[...u.note||[],{text:A,authorReference:l&&ke(l),time:new Date().toISOString()}]),x&&(_.status=x),y&&(_.restriction={..._.restriction,period:{..._.restriction?.period,end:y}}),m&&(_.owner={reference:Me(m)});try{await a.updateResource(_),Vr.show({icon:s.jsx(Uy,{}),title:"Success",message:"Task updated"}),d(_),i(`/Patient/${e}/Encounter/${t}`)?.catch(console.error)}catch{Vr.show({color:"red",icon:s.jsx(jc,{}),title:"Error",message:"Failed to update the task."})}};return u?s.jsx(At,{opened:h,onClose:()=>{i(-1)?.catch(console.error),p(!1)},size:"xl",styles:{body:{padding:0,height:"60vh"}},children:s.jsxs(ae,{h:"100%",justify:"space-between",gap:0,children:[s.jsx(te,{flex:1,miw:0,children:s.jsxs(br,{p:"md",h:"100%",children:[s.jsx(br.Col,{span:6,pr:"lg",children:s.jsxs(ae,{gap:"sm",children:[s.jsx(lr,{p:"md",radius:"md",className:tN.taskDetails,children:s.jsxs(ae,{gap:"sm",children:[s.jsx(W,{fz:"lg",fw:700,children:u?.code?.text}),u?.description&&s.jsx(W,{children:u.description}),r?.name&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(W,{children:"View Patient"}),s.jsx(Oe,{variant:"subtle",component:h_,to:`/Patient/${r.id}`,children:Gn(r.name?.[0])})]})]})}),s.jsx(Mr,{name:"practitioner",resourceType:"Practitioner",label:"Assigned to",defaultValue:u?.owner?{reference:u.owner.reference}:void 0,onChange:_=>{g(_)}}),s.jsx(Ln,{name:"Due Date",placeholder:"End",label:"Due Date",defaultValue:y,onChange:S}),u?.status&&s.jsx(il,{name:"status",label:"Status",binding:"http://hl7.org/fhir/ValueSet/task-status|4.0.1",maxValues:1,defaultValue:x,onChange:_=>{_&&C(_)}})]})}),s.jsx(br.Col,{span:6,pr:"md",children:s.jsxs(ae,{gap:"sm",children:[s.jsx(W,{children:"Note"}),s.jsx(W,{c:"dimmed",children:"Optional free form details about this task"}),s.jsx(ja,{placeholder:"Add note to this task",minRows:3,value:E,onChange:_=>j(_.currentTarget.value)})]})})]})}),s.jsx(te,{className:tN.footer,h:70,p:"md",children:s.jsx(Oe,{variant:"filled",onClick:R,children:"Save Changes"})})]})}):s.jsx(Fi,{})};function E7(e){return!!e?.identifier?.some(t=>t.system?.includes("dosespot"))}const gh=1500;async function g_(e,t){if(!t.definitionCanonical||t.definitionCanonical.length===0)return t;const n=await e.searchResources("ChargeItemDefinition",`url=${t.definitionCanonical[0]}`);if(n.length===0)return t;const r=n[0];return await e.post(e.fhirUrl("ChargeItemDefinition",r.id,"$apply"),{resourceType:"Parameters",parameter:[{name:"chargeItem",valueReference:{reference:Me(t)}}]})}async function $he(e,t){if(!t)return[];const n=await e.searchResources("ChargeItem",`context=${Me(t)}`);return await Promise.all(n.map(a=>g_(e,a)))}function v_(e){return e.reduce((t,n)=>t+(n.priceOverride?.value||0),0)}async function T7(e,t){return e.createResource({resourceType:"Coverage",status:"active",type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActCode",code:"SELFPAY",display:"Self Pay"}],text:"Self Pay"},subscriber:{reference:`Patient/${t}`},beneficiary:{reference:`Patient/${t}`},payor:[{reference:`Patient/${t}`}],period:{start:new Date().toISOString()}})}async function R7(e,t,n,r,a){let l=(await e.searchResources("Coverage",`patient=Patient/${t}&status=active`))[0];l||(l=await T7(e,t));const u={resourceType:"Claim",status:"draft",type:{coding:[{code:"professional"}]},use:"claim",created:new Date().toISOString(),patient:{reference:`Patient/${t}`},provider:{reference:`Practitioner/${r}`,type:"Practitioner"},priority:{coding:[{code:"normal"}]},insurance:[{sequence:1,focal:!0,coverage:{reference:Me(l)}}],item:_7(a,{reference:`Encounter/${n}`}),total:{value:v_(a)}};return e.createResource(u)}function _7(e,t){return e.filter(r=>r.code?.coding?.some(a=>a.system===lM)).map((r,a)=>{const i=r.extension?.filter(l=>l.url==="http://hl7.org/fhir/StructureDefinition/chargeitem-modifier").map(l=>l.valueCodeableConcept).filter(l=>l!==void 0);return{sequence:a+1,encounter:[t],productOrService:{coding:r.code.coding?.filter(l=>l.system===lM),text:r.code.text},net:r.priceOverride,...i&&i.length>0?{modifier:i}:{}}})}const Fe=e=>{Vr.show({color:"red",icon:ne.createElement(jc),title:"Error",message:Wt(e)})};function qhe(e,t){const n=_e(),r=Dt(e),a=Dt(t),[i,l]=b.useState(r),[u,d]=b.useState(),[h,p]=b.useState(),[m,g]=b.useState([]),[y,S]=b.useState(),[x,C]=b.useState([]),[E,j]=b.useState(),R=r??i;b.useEffect(()=>{async function M(){if(r){const O=await $he(n,r);C(O)}}async function D(){if(!r?.id)return;const O=await n.searchResources("Claim",`encounter=${Me(r)}`);O.length!==0&&d(O[0])}M().catch(Fe),D().catch(Fe)},[r,n]);const _=b.useCallback(async()=>{if(!r)return;const M=await n.searchResources("Task",`encounter=${Me(r)}`,{cache:"no-cache"});M.sort((D,O)=>{const k=new Date(D.authoredOn||"").getTime(),I=new Date(O.authoredOn||"").getTime();return k-I}),g(M)},[n,r]),A=b.useCallback(async()=>{if(!r)return;const D=(await n.searchResources("ClinicalImpression",`encounter=${Me(r)}`))?.[0];S(D)},[n,r]);return b.useEffect(()=>{r&&(_().catch(M=>Fe(M)),A().catch(M=>Fe(M)))},[r,_,A]),b.useEffect(()=>{r&&(async()=>{if(r?.participant?.[0]?.individual){const D=await n.readReference(r.participant[0].individual);p(D)}})().catch(D=>Fe(D))},[r,n]),b.useEffect(()=>{r&&(async()=>{const D=r?.appointment?.at(-1);if(D){const O=await n.readReference(D);j(O)}})().catch(D=>Fe(D))},[r,n]),b.useEffect(()=>{(async()=>{if(u)return;const D=a?.id;if(!D||!r?.id||!h?.id||x.length===0)return;const O=await R7(n,D,r.id,h.id,x);O&&d(O)})().catch(D=>Fe(D))},[a,r,n,u,h,x]),{encounter:R,claim:u,practitioner:h,tasks:m,clinicalImpression:y,chargeItems:x,appointment:E,setEncounter:l,setClaim:d,setPractitioner:p,setTasks:g,setClinicalImpression:S,setChargeItems:C,setAppointment:j}}const Uhe=500;function By(e,t=Uhe){const n=Zo(async r=>await e.updateResource(r),t);return async r=>(n(r),r)}var Ur=(e=>(e.Unsigned="unsigned",e.Signed="signed",e.SignedAndLocked="signedAndLocked",e))(Ur||{});async function D7(e,t,n,r,a,i){const l=await e.createResource({resourceType:"Appointment",status:"booked",start:t.toISOString(),end:n.toISOString(),participant:[{actor:{reference:Me(a),display:Gn(a.name?.[0])},status:"accepted"},{actor:{reference:Me(e.getProfile()),display:Gn(e.getProfile()?.name)},status:"accepted"}]}),u=await e.createResource({resourceType:"Encounter",status:"planned",statusHistory:[],classHistory:[],class:r,subject:ke(a),appointment:[ke(l)],participant:[{individual:{reference:Me(e.getProfile())}}]}),d={resourceType:"ClinicalImpression",status:"in-progress",description:"Initial clinical impression",subject:ke(a),encounter:ke(u),date:new Date().toISOString()};return await e.createResource(d),await e.post(e.fhirUrl("PlanDefinition",i.id,"$apply"),{resourceType:"Parameters",parameter:[{name:"subject",valueString:Me(a)},{name:"encounter",valueString:Me(u)},{name:"practitioner",valueString:Me(e.getProfile())}]}),await Bhe(e,u,a,i),await Hhe(e,u,a),u}async function Bhe(e,t,n,r){const a=Pr(r,`${St}/fhir/uv/order-catalog/StructureDefinition/ServiceBillingCode`),i=Pr(r,"http://medplum.com/fhir/StructureDefinition/applicable-charge-definition");if(!a?.valueCodeableConcept||!i?.valueCanonical){console.log("PlanDefinition missing required extensions for charge item creation");return}if(!a.valueCodeableConcept.coding?.find(d=>d.system==="http://www.ama-assn.org/go/cpt"))return;const u={resourceType:"ChargeItem",status:"planned",subject:ke(n),context:ke(t),occurrenceDateTime:new Date().toISOString(),code:a.valueCodeableConcept,extension:[a],quantity:{value:1},definitionCanonical:[i.valueCanonical]};await e.createResource(u)}async function Hhe(e,t,n){const r=await e.search("Task",{encounter:Me(t)});r.entry?.length&&await Promise.all(r.entry.map(async a=>{const l=a.resource.focus?.reference;if(l?.startsWith("ServiceRequest/"))try{const u=await e.readReference({reference:l});await Fhe(e,n,u)}catch(u){console.error(`Error processing ServiceRequest ${l}:`,u)}}))}async function Fhe(e,t,n){const r=Pr(n,"http://medplum.com/fhir/StructureDefinition/applicable-charge-definition");if(!r?.valueCanonical||!n.code?.coding?.find(u=>u.system==="http://www.ama-assn.org/go/cpt"))return;const a=r?.valueCanonical,i=a?[a]:[],l={resourceType:"ChargeItem",status:"planned",supportingInformation:[{reference:`ServiceRequest/${n.id}`}],subject:ke(t),context:n.encounter,occurrenceDateTime:n.occurrenceDateTime||new Date().toISOString(),code:n.code||{coding:[]},quantity:{value:1},definitionCanonical:i};await e.createResource(l)}async function Vhe(e,t,n,r){const a={...t,status:r,...r==="in-progress"&&!t.period?.start&&{period:{...t.period,start:new Date().toISOString()}},...r==="finished"&&!t.period?.end&&{period:{...t.period,end:new Date().toISOString()}}};if(n){const i=n;switch(r){case"cancelled":i.status="cancelled";break;case"finished":i.status="fulfilled";break;case"in-progress":i.status="checked-in";break;case"arrived":i.status="arrived";break}await e.updateResource(i)}return e.updateResource(a)}const Whe=e=>{const{onSign:t}=e,n=Cr(),r=n?ke(n):void 0,a=i=>{if(!r){Fe("No author information found");return}t(r,i)};return s.jsxs(ae,{gap:"md",children:[s.jsx(Lt,{p:"sm",withBorder:!0,radius:"md",children:s.jsxs(se,{gap:"sm",children:[s.jsx(wa,{value:r,radius:"xl",size:36}),s.jsx(W,{size:"sm",fw:500,children:r?.display})]})}),s.jsxs(ae,{gap:0,children:[s.jsx(Oe,{fullWidth:!0,leftSection:s.jsx(sv,{size:18}),onClick:()=>a(!0),mt:"md",children:"Sign & Lock Note"}),s.jsx(Oe,{variant:"outline",fullWidth:!0,leftSection:s.jsx(w7,{size:18}),onClick:()=>a(!1),mt:"md",children:"Just Sign"})]})]})},Ghe=e=>{const{encounter:t,practitioner:n,chartNoteStatus:r=Ur.Unsigned,onStatusChange:a,onTabChange:i,onSign:l}=e,[u,d]=b.useState(t.status),[h,p]=b.useState("notes"),[m,{open:g,close:y}]=qa(!1),[S,{open:x,close:C}]=qa(!1),E=I=>{if(I==="cancelled"){g();return}d(I),a?.(I)},j=()=>{d("cancelled"),a?.("cancelled"),y()},R=(I,L)=>{l?.(I,L),C()},_=I=>{p(I),i?.(I)},A=()=>{r!==Ur.SignedAndLocked&&x()},M=n?.name?.[0]?Gn(n.name[0]):"Unknown Provider",D=bn(t.period?.start),O=D?`${D} Â· ${M}`:M,k=()=>u==="planned"?s.jsxs(s.Fragment,{children:[s.jsx(ye.Item,{onClick:()=>E("arrived"),children:"Arrived"}),s.jsx(ye.Item,{onClick:()=>E("in-progress"),children:"In Progress"}),s.jsx(ye.Item,{onClick:()=>E("finished"),children:"Finished"}),s.jsx(ye.Item,{onClick:()=>E("cancelled"),children:"Cancelled"}),s.jsx(ye.Divider,{})]}):u==="arrived"?s.jsxs(s.Fragment,{children:[s.jsx(ye.Item,{onClick:()=>E("in-progress"),children:"In Progress"}),s.jsx(ye.Item,{onClick:()=>E("finished"),children:"Finished"}),s.jsx(ye.Item,{onClick:()=>E("cancelled"),children:"Cancelled"}),s.jsx(ye.Divider,{})]}):u==="in-progress"?s.jsxs(s.Fragment,{children:[s.jsx(ye.Item,{onClick:()=>E("finished"),children:"Finished"}),s.jsx(ye.Item,{onClick:()=>E("cancelled"),children:"Cancelled"})]}):null;return s.jsxs(s.Fragment,{children:[s.jsxs(Lt,{shadow:"sm",p:0,children:[s.jsxs($e,{justify:"space-between",align:"center",p:"lg",children:[s.jsxs(ae,{gap:0,children:[s.jsx(W,{fw:800,size:"lg",children:t.basedOn?.[0]?.display||"Visit"}),s.jsx(W,{fw:500,size:"xs",c:"dimmed",children:O})]}),s.jsx(se,{children:u==="cancelled"||u==="finished"?s.jsxs(s.Fragment,{children:[u==="finished"&&r===Ur.Unsigned&&s.jsx(ft,{radius:"50%",variant:"outline",color:"gray",onClick:A,children:s.jsx(sv,{size:16})}),u==="finished"&&r===Ur.Signed&&s.jsx(ft,{radius:"50%",variant:"outline",color:"gray",onClick:A,children:s.jsx(Xfe,{size:16})}),u==="finished"&&r===Ur.SignedAndLocked&&s.jsx(ft,{radius:"50%",variant:"filled",color:"blue",onClick:A,children:s.jsx(sv,{size:16})}),s.jsx(Oe,{variant:"light",color:nN(u),radius:"xl",size:"sm",children:rN(u)})]}):s.jsxs(ye,{position:"bottom-end",shadow:"md",children:[s.jsx(ye.Target,{children:s.jsx(Oe,{variant:"light",color:nN(u),rightSection:s.jsx(p_,{size:16}),radius:"xl",size:"sm",children:rN(u)})}),s.jsx(ye.Dropdown,{children:k()})]})})]}),s.jsx(te,{px:"md",pb:"md",children:s.jsx(tl,{value:h,onChange:I=>_(I),data:[{label:"Note & Tasks",value:"notes"},{label:"Details & Billing",value:"details"}],fullWidth:!0,radius:"md",color:"gray",size:"md",styles:I=>({root:{backgroundColor:I.colors.gray[1],borderRadius:I.radius.md},indicator:{backgroundColor:I.white},label:{fontWeight:500,color:I.colors.dark[9],padding:`${I.spacing.xs} ${I.spacing.md}`}})})})]}),s.jsxs(At,{opened:m,onClose:y,children:[s.jsx(W,{size:"lg",fw:500,children:"Are you sure you want to cancel this encounter?"}),s.jsx(W,{size:"sm",c:"dimmed",mt:"xs",children:"This action cannot be undone."}),s.jsxs(se,{justify:"flex-end",mt:"xl",gap:"xs",children:[s.jsx(Oe,{onClick:y,color:"red",variant:"outline",children:"No, keep it"}),s.jsx(Oe,{onClick:j,color:"red",children:"Yes, cancel it"})]})]}),s.jsx(At,{opened:S,onClose:C,title:"Signing As",children:s.jsx(Whe,{onSign:R})})]})},nN=e=>e==="finished"?"green":e==="cancelled"?"red":e==="arrived"||e==="in-progress"||e==="planned"?"blue":"gray",rN=e=>e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),Yhe=({provenances:e,chartNoteStatus:t,encounter:n})=>{const r=_e(),a=Cr(),i=a?ke(a):void 0,[l,u]=b.useState([]),[d,h]=b.useState([]),[p,m]=b.useState(""),[g,y]=b.useState(!1);b.useEffect(()=>{(async()=>{const C=e.map(E=>({practitionerName:E.agent?.[0]?.who?.display||"Unknown Practitioner",timestamp:bn(E.recorded)}));u(C)})().catch(Fe)},[e,r]),b.useEffect(()=>{const x=async()=>{try{const E=(await r.searchResources("DocumentReference",{encounter:`Encounter/${n.id}`,type:"55107-7",_sort:"-date"})).map(j=>{const R=j.author?.[0]?.display||"Unknown Author",_=j.date?bn(j.date):"Unknown Date",A=j.content?.[0]?.attachment?.data,M=A?atob(A):"";return{authorName:R,timestamp:_,text:M}});h(E)}catch(C){Fe(C)}};n.id&&x().catch(console.error)},[n.id,r]);const S=async()=>{y(!0);try{const x=await r.createResource({resourceType:"DocumentReference",status:"current",type:{coding:[{system:"http://loinc.org",code:"55107-7",display:"Addendum Document"}]},subject:n.subject,author:[{reference:i?.reference,display:i?.display}],context:{encounter:[{reference:`Encounter/${n.id}`}]},date:new Date().toISOString(),content:[{attachment:{contentType:"text/plain",data:btoa(p),title:"Addendum"}}]});h([...d,{authorName:i?.display||"Unknown Author",timestamp:bn(x.date),text:p}]),m("")}catch(x){Fe(x)}finally{y(!1)}};return l.length===0?null:s.jsx(lr,{withBorder:!0,shadow:"sm",children:s.jsxs(ae,{gap:"md",children:[l.map((x,C)=>s.jsxs(ae,{children:[s.jsxs(se,{gap:"sm",children:[l.length-1===C&&t===Ur.SignedAndLocked?s.jsx(sv,{size:20}):s.jsx(w7,{size:20}),s.jsxs(W,{fw:500,children:[l.length-1===C&&t===Ur.SignedAndLocked?"Signed and Locked by ":"Signed by ",x.practitionerName]}),s.jsx(W,{c:"dimmed",size:"sm",children:x.timestamp})]}),s.jsx(st,{})]},`prov-${C}`)),d.map((x,C)=>s.jsxs(ae,{children:[s.jsxs(se,{gap:"sm",align:"flex-start",children:[s.jsx(lv,{size:20}),s.jsxs(ae,{gap:"xs",style:{flex:1},children:[s.jsxs(se,{gap:"sm",children:[s.jsxs(W,{fw:500,children:["Addendum by ",x.authorName]}),s.jsx(W,{c:"dimmed",size:"sm",children:x.timestamp})]}),s.jsx(W,{size:"sm",style:{whiteSpace:"pre-wrap"},children:x.text})]})]}),s.jsx(st,{})]},`addendum-${C}`)),s.jsx(W,{fw:600,mt:"sm",children:"Add Addendum"}),s.jsx(ja,{placeholder:"Add an addendum to this Visit...",value:p,onChange:x=>m(x.target.value),autosize:!0,minRows:3,maxRows:6}),s.jsx(se,{justify:"flex-end",children:s.jsx(Oe,{leftSection:s.jsx(lv,{size:16}),onClick:S,disabled:!p.trim()||g,loading:g,children:"Add Addendum"})})]})})},Qhe=({task:e})=>s.jsx(te,{p:"md",children:s.jsxs(ae,{gap:"xs",children:[e.code?.text&&s.jsx(W,{fw:500,size:"lg",children:e.code.text}),s.jsx(W,{children:e.description}),e.focus?.reference?.startsWith("ServiceRequest/")&&s.jsx(Oe,{component:"a",href:`/${e.focus.reference}`,target:"_blank",children:"View Service Request"})]})}),A7=({task:e,onChangeResponse:t})=>{const n=_e(),r=Cr(),[a,i]=b.useState(void 0),[l,u]=b.useState(void 0),[d,h]=b.useState(!1),[p,m]=b.useState(void 0);b.useEffect(()=>{(async()=>{if(l&&e.status==="completed"&&l?.status!=="completed"){const S={...l,status:"completed"};await n.updateResource(S)}})().catch(Fe)},[e,l,n]);const g=y=>{const x={...l||y,item:y.item,status:"in-progress",authored:new Date().toISOString(),source:r&&ke(r),encounter:e.encounter};t?.(x)};return b.useEffect(()=>{const y=async()=>{const S=e.input?.[0]?.valueReference,x=e.output?.[0]?.valueReference;if(x){const C=await n.readReference(x);u(C)}if(S){const C=await n.readReference(S);i(C)}};m(void 0),h(!0),y().catch(S=>{m(kr(S))}).finally(()=>h(!1))},[n,e]),d?s.jsx(Khe,{}):s.jsxs(te,{p:0,children:[e.status!=="completed"&&a&&s.jsx(Ny,{questionnaire:a,questionnaireResponse:l,excludeButtons:!0,onChange:g}),e.status==="completed"&&l&&s.jsx($ce,{questionnaireResponse:l}),p&&s.jsx(Bc,{outcome:p})]})},Khe=()=>s.jsxs(ae,{gap:"lg",children:[s.jsxs(ae,{gap:"xs",children:[s.jsx(vt,{height:24,width:"60%"}),s.jsx(vt,{height:16,width:"85%"})]}),s.jsxs(ae,{gap:"sm",children:[s.jsx(vt,{height:18,width:"45%"}),s.jsxs(se,{gap:"md",children:[s.jsx(vt,{height:20,width:20,radius:"xl"}),s.jsx(vt,{height:16,width:"15%"}),s.jsx(vt,{height:20,width:20,radius:"xl"}),s.jsx(vt,{height:16,width:"12%"})]})]}),s.jsxs(ae,{gap:"sm",children:[s.jsx(vt,{height:18,width:"38%"}),s.jsx(vt,{height:36,width:"100%",radius:"md"})]}),s.jsxs(ae,{gap:"sm",children:[s.jsx(vt,{height:18,width:"52%"}),s.jsxs(ae,{gap:"xs",children:[s.jsxs(se,{gap:"sm",children:[s.jsx(vt,{height:16,width:16,radius:"sm"}),s.jsx(vt,{height:14,width:"25%"})]}),s.jsxs(se,{gap:"sm",children:[s.jsx(vt,{height:16,width:16,radius:"sm"}),s.jsx(vt,{height:14,width:"30%"})]}),s.jsxs(se,{gap:"sm",children:[s.jsx(vt,{height:16,width:16,radius:"sm"}),s.jsx(vt,{height:14,width:"22%"})]})]})]}),s.jsxs(ae,{gap:"sm",children:[s.jsx(vt,{height:18,width:"42%"}),s.jsx(vt,{height:80,width:"100%",radius:"md"})]}),s.jsxs(ae,{gap:"sm",children:[s.jsx(vt,{height:18,width:"48%"}),s.jsxs(se,{gap:"md",children:[s.jsx(vt,{height:20,width:20,radius:"xl"}),s.jsx(vt,{height:16,width:"18%"}),s.jsx(vt,{height:20,width:20,radius:"xl"}),s.jsx(vt,{height:16,width:"20%"}),s.jsx(vt,{height:20,width:20,radius:"xl"}),s.jsx(vt,{height:16,width:"16%"})]})]})]}),Xhe=e=>{const{task:t,enabled:n=!0,onActionButtonClicked:r,onChangeStatus:a}=e,i=Jhe(t.status);return s.jsx(te,{p:"md",style:{borderTop:"1px solid #eee",margin:0},children:s.jsxs($e,{justify:"space-between",align:"center",w:"100%",m:0,children:[s.jsxs($e,{align:"center",gap:8,children:[s.jsx(W,{children:"Task Status:"}),n?s.jsxs(ye,{position:"bottom-start",children:[s.jsx(ye.Target,{children:s.jsx(ya,{variant:"light",color:i,size:"lg",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:0},rightSection:s.jsx(p_,{size:16}),children:t.status.replaceAll("-"," ").replaceAll(/\b\w/g,l=>l.toUpperCase())})}),s.jsx(ye.Dropdown,{style:{width:140},children:Zhe.map(l=>s.jsx(ye.Item,{rightSection:t.status===l.value?s.jsx("div",{style:{marginLeft:4,display:"flex",alignItems:"center"},children:s.jsx(mh,{size:16,color:"gray"})}):null,onClick:()=>a(l.value),children:l.label},l.value))})]}):s.jsx(ya,{variant:"light",color:i,size:"lg",children:t.status.replaceAll("-"," ").replaceAll(/\b\w/g,l=>l.toUpperCase())})]}),n&&s.jsx(ba,{label:"Edit Task",openDelay:500,children:s.jsx(ft,{onClick:r,color:"gray",variant:"subtle","aria-label":"Edit Task",size:"lg",children:s.jsx(lv,{size:20})})})]})})},Zhe=[{value:"completed",label:"Completed"},{value:"ready",label:"Ready"},{value:"in-progress",label:"In Progress"},{value:"on-hold",label:"On Hold"},{value:"cancelled",label:"Cancelled"}],Jhe=e=>({completed:"green",cancelled:"red"})[e]??"blue";var epe=Object.defineProperty,tpe=(e,t,n)=>t in e?epe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,npe=(e,t,n)=>tpe(e,t+"",n);function O7(e){if(e.item)for(let t of e.item)t.linkId=t.linkId??t.id,t.initial=t.answerOption?void 0:t.initial;return e}function rpe(e,t,n){let r=[],a=t&&bJ(t);for(let i of cv(O7(e).item))if(i.required||n&&Sj(i,"https://www.healthgorilla.com/fhir/StructureDefinition/questionnaire-requiredwhenspecimen")===!0){let l=a?.[i.linkId];if(l&&l.length>0){let u=!1;for(let d of l)if(sz(pc({type:"QuestionnaireResponseItemAnswer",value:d},"value[x]"))?.some(h=>h.value)){u=!0;continue}if(u)continue}r.push(i.linkId)}return r}function*cv(e){if(e)for(let t of e)yield t,t.item&&(yield*cv(t.item))}var k7="https://medplum.com/profiles/integrations/health-gorilla/StructureDefinition/MedplumHealthGorillaOrder",ape="billTo",ipe="performingLabAccountNumber",M7="https://www.healthgorilla.com",ope=M7+"/fhir/StructureDefinition/requestgroup-authorizedBy",spe=St+"/fhir/sid/us-npi",lpe=["patient","insurance","customer-account","self"];function cpe(e){return e==="patient"||e==="insurance"||e==="customer-account"||e==="self"}var P7=["routine","urgent","asap","stat"];function upe(e){return P7.includes(e)}function Wm(e,t){return $a(t)&&t.reference.startsWith(e+"/")}function Gm(){return"urn:uuid:"+bz()}function dpe(e){let t=N7(e);if(t)throw new fpe(t)}function N7(e){let t={};if(e.patient||(t.patient={message:"Patient is required"}),e.requester||(t.requester={message:"Requesting Practitioner is required"}),e.performingLab||(t.performingLab={message:"Performing Lab is required"}),!e.selectedTests||e.selectedTests.length===0)t.selectedTests={message:"At least one test must be selected"};else for(let n of e.selectedTests){let r=e.testMetadata?.[n.code];r?.priority&&!upe(r.priority)&&(t.testMetadata??={},t.testMetadata[n.code]??={},t.testMetadata[n.code].priority={message:`Priority for ${gc(n,!0)} must be one of ${P7.join(", ")}`});let a=r?.aoeQuestionnaire;if(a){let i=rpe(a,r.aoeResponses,!!e.specimenCollectedDateTime);i.length>0&&(t.testMetadata??={},t.testMetadata[n.code]??={},t.testMetadata[n.code].aoeResponses={message:`Missing required AOE responses for ${gc(n,!0)}: ${i.join(", ")}`})}}if(!cpe(e.billingInformation?.billTo))t.billingInformation??={},e.billingInformation?.billTo?t.billingInformation.billTo={message:`Bill to must be one of: ${lpe.join(", ")}`}:t.billingInformation.billTo={message:"Bill to is required"};else if(e.billingInformation.billTo==="insurance"){let n=e.billingInformation.patientCoverage?.length??0;(n<1||n>3)&&(t.billingInformation??={},t.billingInformation.patientCoverage={message:"BillingInformation.patientCoverage must contain 1-3 Coverage resources when billing to insurance"})}if(Object.keys(t).length>0)return t}var fpe=class extends Error{constructor(e){super(`Invalid lab order inputs: ${JSON.stringify(e)}`),npe(this,"errors"),this.errors=e}};function hpe(e){dpe(e);let{patient:t,requester:n,requestingLocation:r,performingLab:a,performingLabAccountNumber:i,selectedTests:l,testMetadata:u,diagnoses:d,specimenCollectedDateTime:h,billingInformation:p,orderNotes:m}=e,g={resourceType:"Bundle",type:"transaction"},y=Gm(),S=[],x=[],C=$a(t)?t:ke(t),E=$a(n)?n:ke(n),j=ke(a),R=[];for(let D of l){let O=u[D.code],k;O?.aoeResponses&&(k=Hi(O.aoeResponses),k.id=Gm(),x.push({fullUrl:k.id,resource:k,request:{method:"POST",url:"QuestionnaireResponse"}}));let I={resourceType:"ServiceRequest",id:Gm(),status:"draft",intent:"order",basedOn:[{reference:y}],subject:C,requester:E,performer:[j],category:[{coding:[{system:Qs,code:"103693007",display:"Diagnostic procedure"}]}],code:{coding:[D]},priority:O?.priority??"routine",note:O?.notes?[{authorReference:E,time:new Date().toISOString(),text:O.notes}]:void 0,supportingInfo:k?[{reference:k.id}]:void 0};R.push({fullUrl:I.id,resource:I,request:{method:"POST",url:"ServiceRequest"}})}let _;if(h&&(_={resourceType:"Specimen",id:Gm(),subject:C,collection:{collectedDateTime:h.toISOString()}},x.push({fullUrl:_.id,resource:_,request:{method:"POST",url:"Specimen"}})),S.push({url:ape,valueString:p.billTo}),i&&S.push({url:ipe,valueString:i}),r){let D=$a(r)?r:ke(r);S.push({url:ope,valueReference:D})}let A;p.billTo==="insurance"&&(A=(p.patientCoverage??[]).map(D=>ke(D)));let M={resourceType:"ServiceRequest",id:y,meta:{profile:[k7]},extension:S,status:"draft",intent:"order",subject:C,requester:E,performer:[j],reasonCode:d,category:[{coding:[{system:Qs,code:"108252007",display:"Laboratory procedure"}]}],code:{coding:l},insurance:A,specimen:_?[{reference:_.id}]:void 0,note:m?[{authorReference:E,time:new Date().toISOString(),text:m}]:void 0};x.push({fullUrl:M.id,resource:M,request:{method:"POST",url:"ServiceRequest"}}),x.push(...R);for(let D of x)D.resource&&delete D.resource.id;return g.entry=x,g}function ppe(e,t){return async n=>{let r=await e.executeBot(t,n,Dn.JSON);if(r.type==="error")throw new Error("Error executing autocomplete bot",{cause:r});let{result:a}=r;switch(r.type){case"lab":{if(Array.isArray(a)&&a.every(i=>$i(i,"Organization")))return{type:"lab",result:a};break}case"test":{let{result:i}=r;if(Array.isArray(i)&&i.every(l=>fy(l)))return{type:"test",result:i};break}case"aoe":{let{result:i}=r;if(i===void 0||i.resourceType==="Questionnaire")return{type:"aoe",result:i};break}}throw new Error(`Invalid bot response for ${JSON.stringify(n)}`)}}var I7=b.createContext(void 0);function mpe(e){let{children:t,...n}=e;return s.jsx(I7.Provider,{value:n,children:t})}var gpe=["priority","notes","aoeResponses"],vpe=[],ype=[],bpe={},xpe={};function Spe(e,t){switch(t.type){case"add":return wpe(e,t);case"remove":return Cpe(e,t);case"set":return jpe(e,t);case"updateMetadata":return Epe(e,t);case"aoeLoaded":return Tpe(e,t);case"aoeError":return Rpe(e,t);case"specimenCollectionDateChange":return _pe(e,t);default:return e}}function wpe(e,t){return e.selectedTests.some(n=>n.code===t.test.code)?e:{...e,selectedTests:[...e.selectedTests,t.test],testMetadata:{...e.testMetadata,[t.test.code]:{aoeStatus:"loading"}}}}function Cpe(e,t){return{...e,selectedTests:e.selectedTests.filter(n=>n.code!==t.test.code),testMetadata:Object.fromEntries(Object.entries(e.testMetadata).filter(([n])=>n!==t.test.code))}}function jpe(e,t){return{...e,selectedTests:t.tests,testMetadata:Object.fromEntries(t.tests.map(n=>[n.code,e.testMetadata[n.code]??{aoeStatus:"loading"}]))}}function Epe(e,t){let{test:n,partialMetadata:r}=t,a=e.testMetadata[n.code];if(!e.selectedTests.some(u=>u.code===n.code)||!a)return console.warn(`Cannot update metadata for test ${n.code} since it is not a selected tests`),e;let i=r,l=Object.keys(r).filter(u=>!gpe.includes(u));return l.length>0&&(console.warn(`Cannot update test metadata fields: ${l.join(", ")}`),i=Object.fromEntries(Object.entries(r).filter(([u])=>!l.includes(u)))),{...e,testMetadata:{...e.testMetadata,[n.code]:{...a,...i}}}}function Tpe(e,t){let n;for(let[r,a]of t.testAoes){let i=e.testMetadata[r.code];i&&(n??={...e.testMetadata},n[r.code]={...i,aoeStatus:a?"loaded":"none",aoeQuestionnaire:a&&(L7(a,e.specimenCollectedDateTime)??a)})}return n?{...e,testMetadata:n}:e}function Rpe(e,t){let n;for(let r of t.tests){let a=e.testMetadata[r.code];!a||a.aoeStatus!=="loading"||(n??={...e.testMetadata},n[r.code]={...a,aoeStatus:"error"})}return n?{...e,testMetadata:n}:e}function _pe(e,t){let n;for(let r of e.selectedTests){let a=e.testMetadata[r.code];if(a&&a.aoeQuestionnaire){let i=L7(a.aoeQuestionnaire,t.newDate);i&&(n??={...e.testMetadata},n[r.code]={...a,aoeQuestionnaire:i})}}return{...e,testMetadata:n??e.testMetadata,specimenCollectedDateTime:t.newDate}}function Dpe(e){let t=_e(),[n,r]=b.useState(),[a,i]=b.useState(),[l,u]=b.useReducer(Spe,{specimenCollectedDateTime:void 0,selectedTests:vpe,testMetadata:bpe}),[d,h]=b.useState(ype),[p,m]=b.useState(xpe),[g,y]=b.useState(),S=b.useMemo(()=>ppe(t,{system:"https://www.medplum.com/integrations/bot-identifier",value:"health-gorilla-labs/autocomplete"}),[t]),x=b.useCallback(async D=>{let O=await S({type:"aoe",testCode:D}),k=O.result;return k&&O7(k),O.result},[S]),C=b.useRef([]);b.useEffect(()=>{if(C.current===l.selectedTests)return;C.current=l.selectedTests;let D=[];async function O(){let k=[];for(let I of l.selectedTests)l.testMetadata[I.code]?.aoeStatus==="loading"&&(D.push(I),k.push(new Promise((L,V)=>{x(I).then(q=>{L([I,q])}).catch(V)})));return Promise.all(k)}O().then(k=>{k.length!==0&&u({type:"aoeLoaded",testAoes:k})}).catch(k=>{console.error("Error fetching AOE questions",k),u({type:"aoeError",tests:D})})},[x,l]);let E=b.useMemo(()=>Wm("Patient",e.patient)?e.patient:$i(e.patient)?ke(e.patient):void 0,[e.patient]),j=b.useMemo(()=>{if(Wm("Practitioner",e.requester))return e.requester;if($i(e.requester))return ke(e.requester)},[e.requester]),R=b.useMemo(()=>Wm("Location",e.requestingLocation)||Wm("Organization",e.requestingLocation)?e.requestingLocation:$i(e.requestingLocation)?ke(e.requestingLocation):void 0,[e.requestingLocation]),_=b.useMemo(()=>{let D=Hi({performingLab:n,performingLabAccountNumber:a,selectedTests:l.selectedTests,testMetadata:l.testMetadata,diagnoses:d,billingInformation:p,specimenCollectedDateTime:l.specimenCollectedDateTime,orderNotes:g});return D.specimenCollectedDateTime&&(D.specimenCollectedDateTime=new Date(D.specimenCollectedDateTime)),D},[n,a,l.selectedTests,l.testMetadata,l.specimenCollectedDateTime,d,p,g]),A=b.useCallback(async()=>{if(!E)return Object.assign([],{bundle:{resourceType:"Bundle",type:"searchset",entry:[],total:0}});let D=new URLSearchParams({patient:E.reference,status:"active"});return(await t.searchResources("Coverage",D)).sort((O,k)=>(O.order??Number.POSITIVE_INFINITY)-(k.order??Number.POSITIVE_INFINITY))},[t,E]),M=b.useCallback(D=>{m(O=>({...O,...D}))},[]);return b.useMemo(()=>({state:_,searchAvailableLabs:async D=>(await S({type:"lab",query:D})).result,searchAvailableTests:async D=>{if(!n)return[];let O=xJ(n,M7);if(!O)throw new Error("No Health Gorilla identifier found for performing lab");return D.length===0?[]:(await S({type:"test",query:D,labId:O})).result},setPerformingLab:D=>{r(D)},setPerformingLabAccountNumber:D=>{i(D)},addTest:D=>{u({type:"add",test:D})},removeTest:D=>{u({type:"remove",test:D})},setTests:D=>{u({type:"set",tests:D})},updateTestMetadata:(D,O)=>{u({type:"updateMetadata",test:D,partialMetadata:O})},addDiagnosis(D){h(O=>O.some(k=>Ym(k)===Ym(D))?O:[...O,D])},removeDiagnosis(D){h(O=>{let k=O.findIndex(L=>Ym(L)===Ym(D));if(k===-1)return O;let I=[...O];return I.splice(k,1),I})},setDiagnoses:D=>{h(D)},getActivePatientCoverages:A,updateBillingInformation:M,setSpecimenCollectedDateTime:D=>{u({type:"specimenCollectionDateChange",newDate:D})},setOrderNotes:D=>{y(D||void 0)},validateOrder:()=>N7({patient:E,requester:j,performingLab:_.performingLab,performingLabAccountNumber:_.performingLabAccountNumber,selectedTests:_.selectedTests,testMetadata:_.testMetadata,diagnoses:_.diagnoses,billingInformation:_.billingInformation,specimenCollectedDateTime:_.specimenCollectedDateTime,orderNotes:_.orderNotes}),createOrderBundle:async()=>{let D=hpe({patient:E,requester:j,requestingLocation:R,performingLab:_.performingLab,performingLabAccountNumber:_.performingLabAccountNumber,selectedTests:_.selectedTests,testMetadata:_.testMetadata,diagnoses:_.diagnoses,billingInformation:_.billingInformation,specimenCollectedDateTime:_.specimenCollectedDateTime,orderNotes:_.orderNotes}),O=await t.executeBatch(D),k;for(let I of O?.entry??[]){if(!I.response?.status.startsWith("2"))throw new Error("Error creating lab order: Non-2XX status code in response entry",{cause:O});I.resource?.meta?.profile?.includes(k7)&&(k=I.resource)}if(!k)throw new Error("Error creating lab order: Lab Order Service Request not found in response entries",{cause:O});return{transactionResponse:O,serviceRequest:k}}}),[A,S,t,E,n,R,j,_,M])}function Ym(e){return e.coding[0].code}var aN="https://www.healthgorilla.com/fhir/StructureDefinition/questionnaire-requiredwhenspecimen";function L7(e,t){let n,r=!!t;for(let a of cv(e.item))if(Sj(a,aN)===!0&&!!a.required!==r){n=Hi(e);break}if(n){for(let a of cv(n.item))Sj(a,aN)===!0&&!!a.required!==r&&(a.required=r);return n}}function y_(){let e=b.useContext(I7);if(e===void 0)throw new Error("useHealthGorillaLabOrderContext must be used within a HealthGorillaLabOrderProvider");return e}function Ape({patient:e,performingLab:t,error:n}){const{searchAvailableLabs:r,setPerformingLab:a}=y_();return b.useEffect(()=>{t&&a(t)},[t,a]),s.jsx(qc,{required:!0,error:n?.message,label:"Performing lab",disabled:!e,maxValues:1,defaultValue:t,loadOptions:r,toOption:Ope,onChange:i=>{i.length>0?a(i[0]):a(void 0)}})}function Ope(e){return{value:Me(e)??"",label:nr(e),resource:e}}function kpe({test:e,metadata:t,error:n}){const{updateTestMetadata:r}=y_();return t?s.jsx(lr,{withBorder:!0,shadow:"none",children:s.jsxs(ae,{gap:"xs",children:[s.jsx(W,{fw:500,children:e.display}),t?s.jsxs(s.Fragment,{children:[s.jsx(Nn.Group,{value:t.priority,error:n?.priority?.message,onChange:a=>{if(!a){console.warn("New value for priority unexpectedly falsey",a);return}r(e,{priority:a})},label:"Priority",withAsterisk:!0,children:s.jsxs(ae,{gap:4,children:[s.jsx(Nn,{value:"routine",label:"Routine"}),s.jsx(Nn,{value:"urgent",label:"Urgent"}),s.jsx(Nn,{value:"asap",label:"ASAP"}),s.jsx(Nn,{value:"stat",label:"Stat"})]})}),s.jsx(tt,{label:"Notes",value:t.notes??"",onChange:a=>{r(e,{notes:a.currentTarget.value})},placeholder:"Test notes"}),t.aoeStatus==="loading"&&s.jsx(W,{children:"Loading AoE..."}),t.aoeStatus==="error"&&s.jsx(W,{children:"Error fetching AoE"}),t.aoeStatus==="loaded"&&t.aoeQuestionnaire&&s.jsxs(s.Fragment,{children:[n?.aoeResponses?.message&&s.jsx(W,{c:"red",children:n.aoeResponses.message}),s.jsx(Ny,{questionnaire:t.aoeQuestionnaire,disablePagination:!0,excludeButtons:!0,onChange:a=>{r(e,{aoeResponses:a})}})]})]}):s.jsx("div",{children:"Missing metadata"})]})},e.code):s.jsxs(lr,{withBorder:!0,shadow:"none",children:[s.jsx(W,{fw:500,children:e.display}),s.jsx("div",{children:"Missing metadata"})]},e.code)}const Mpe=[],Ppe=3;function Npe({patient:e,error:t}){const{getActivePatientCoverages:n,updateBillingInformation:r,state:a}=y_(),[i,l]=b.useState(Mpe),u=a.billingInformation.billTo!=="insurance";return b.useEffect(()=>{n().then(d=>{l(d.map((h,p)=>({coverage:h,selected:p<=2})))}).catch(console.error)},[n,e]),b.useEffect(()=>{const d=i?.filter(h=>h.selected).map(h=>h.coverage).slice(0,3);r({patientCoverage:Lpe(d)})},[i,r]),s.jsx(Gt.Wrapper,{c:u?"dimmed":void 0,label:"Patient coverages (max 3)",error:t?.message,children:i?.length?s.jsx(ad,{type:"ordered",listStyleType:"none",spacing:4,children:i.map(({coverage:d},h)=>{const p=d.payor?.find(g=>g.display)?.display||"Unknown",m=s.jsx(Gv,{c:u||h>=Ppe?"dimmed":void 0,children:s.jsxs(se,{align:"center",gap:4,children:[Ipe(h),s.jsxs(ft.Group,{children:[s.jsx(ft,{disabled:u||h===0,variant:"default",size:"sm","aria-label":"Move up",onClick:()=>{const g=[...i],y=g[h];g[h]=g[h-1],g[h-1]=y,l(g)},children:s.jsx(Cfe,{style:{width:me(16)},stroke:1.5})}),s.jsx(ft,{disabled:u||h===i.length-1,variant:"default",size:"sm","aria-label":"Move down",onClick:()=>{const g=[...i],y=g[h];g[h]=g[h+1],g[h+1]=y,l(g)},children:s.jsx(Sfe,{style:{width:me(16)},stroke:1.5})})]}),s.jsx(W,{children:p})]})},d.id);return h===3?[s.jsx(st,{label:"Additional coverages that will not be submitted",labelPosition:"center",my:"xs"},"more-divider"),m]:m})}):s.jsx(W,{children:"No coverages found"})})}function Ipe(e){return s.jsx(W,{fw:500,display:"inline-block",w:16,h:16,lh:1,ta:"center",children:e<3?`${e+1}.`:""})}function Lpe(e){if(e.length===0)return e;if(e.length===1)return e;if(e.length===2)return e;if(e.length===3)return e;throw new Error("Invalid number of coverages")}async function zpe(e,t){return e.executeBot({system:"https://www.medplum.com/integrations/bot-identifier",value:"health-gorilla-labs/send-to-health-gorilla"},t,Dn.FHIR_JSON)}function b_(e){const{encounter:t,task:n,tests:r,performingLab:a,onSubmitLabOrder:i}=e,l=_e(),{patientId:u}=ur(),[d,h]=b.useState(),[p,m]=b.useState(l.getProfile()),g=Dt(t),y=Dt(n),S=Dpe({patient:d,requester:p}),{state:x,searchAvailableTests:C,setTests:E,setDiagnoses:j,updateBillingInformation:R,setSpecimenCollectedDateTime:_,setOrderNotes:A,createOrderBundle:M}=S,[D,O]=b.useState(!1),[k,I]=b.useState(),L=b.useRef(void 0);b.useEffect(()=>{r&&(L.current===void 0||L.current.length!==r.length||L.current.some((U,G)=>U.code!==r[G]?.code))&&(E(r),L.current=r)},[r,E]),b.useEffect(()=>{u&&l.readResource("Patient",u).then(q=>{h(q)}).catch(q=>{Fe(q)})},[u,l]);const V=async()=>{try{O(!0),I(void 0);let{serviceRequest:q}=await M();g&&(q={...q,encounter:ke(g)}),y&&await l.updateResource({...y,output:[...y.output||[],{type:{text:"ServiceRequest"},valueReference:ke(q)}],focus:ke(q)}),await zpe(l,q),bt({title:"Lab Order Submitted",message:"The lab order has been successfully submitted.",color:"green"}),i({...q,status:"active"})}catch(q){I({generic:q}),Fe(q)}finally{O(!1)}};return s.jsx(mpe,{...S,children:s.jsx($h,{size:"md",children:s.jsx(_y,{children:s.jsxs(ae,{gap:"md",children:[s.jsx(Gt.Wrapper,{label:"Requester",required:!0,error:k?.validation?.requester?.message,children:s.jsx(Mr,{resourceType:"Practitioner",name:"Requester",onChange:m,defaultValue:p,searchCriteria:{identifier:`${spe}|`}})}),s.jsx(Gt.Wrapper,{label:"Patient",required:!0,error:k?.validation?.patient?.message,children:s.jsx(Mr,{resourceType:"Patient",name:"patient",defaultValue:d,onChange:h})}),s.jsx(Ape,{patient:d,performingLab:a,error:k?.validation?.performingLab}),s.jsxs("div",{children:[s.jsx(qc,{required:!0,error:k?.validation?.selectedTests?.message,label:"Selected tests",disabled:!x.performingLab,maxValues:10,defaultValue:r,loadOptions:C,toOption:$pe,onChange:E}),x.selectedTests.length>0&&s.jsx(se,{mt:"md",gap:"md",align:"flex-start",wrap:"wrap",children:x.selectedTests.map(q=>s.jsx(kpe,{test:q,metadata:x.testMetadata[q.code],error:k?.validation?.testMetadata?.[q.code]},q.code))})]}),s.jsx("div",{children:s.jsx(bc,{label:"Diagnoses",binding:"http://hl7.org/fhir/sid/icd-10-cm",name:"diagnoses",maxValues:10,onChange:q=>{const U=q.map(G=>({coding:[G]}));j(U)}})}),s.jsxs(se,{align:"flex-start",gap:48,children:[s.jsx("div",{children:s.jsx(Nn.Group,{value:x.billingInformation.billTo,error:k?.validation?.billingInformation?.billTo?.message,onChange:q=>{R({billTo:q})},label:"Bill to",withAsterisk:!0,children:s.jsxs(ae,{gap:4,children:[s.jsx(Nn,{value:"patient",label:"Patient"}),s.jsx(Nn,{value:"insurance",label:"Insurance"}),s.jsx(Nn,{value:"customer-account",label:"Customer"})]})})}),d&&s.jsx(Npe,{patient:d,error:k?.validation?.billingInformation?.patientCoverage})]}),s.jsx(tt,{label:"Order notes",onChange:q=>A(q.currentTarget.value)}),s.jsx(Ln,{label:"Specimen collection time",name:"",onChange:q=>{_(q?new Date(q):void 0)}}),s.jsx(se,{children:s.jsx(Oe,{onClick:V,loading:D,disabled:D,children:"Submit Order"})})]})})})})}function $pe(e){return{value:z7(e),label:qpe(e),resource:e}}function z7(e){return typeof e.code=="string"?e.code:JSON.stringify(e)}function qpe(e){return typeof e.display=="string"?e.display:z7(e)}const Upe="http://snomed.info/sct",Bpe="108252007",Hpe=e=>{const{task:t}=e,n=_e(),r=Dt(t.focus),[a,i]=b.useState(!1),[l,u]=b.useState(void 0),d={resourceType:"Organization",id:"258a1dbb-ccec-4cb3-b9ff-4dc28f8f28a0",name:"HGDX LabCorp",identifier:[{system:"https://www.healthgorilla.com",value:"f-388554647b89801ea5e8320b"}]},h=r?.code?.coding?.filter(m=>m.system===Upe&&m.code!==Bpe).map(m=>({system:"urn:uuid:f:388554647b89801ea5e8320b",code:m.code,display:m.display}));b.useEffect(()=>{(async()=>{const g=await n.readReference(t.focus);u(g)})().catch(Fe)},[n,t.focus]);const p=async m=>{i(!1),u(m)};return r?s.jsxs(s.Fragment,{children:[s.jsxs(ae,{p:0,children:[s.jsx(ae,{gap:0,children:s.jsx(cr,{children:nr(t)})}),(l?.status==="draft"||l?.status==="on-hold")&&s.jsx(se,{children:s.jsx(Oe,{onClick:()=>i(!0),variant:"outline",leftSection:s.jsx(yl,{size:16}),children:"Request Labs"})}),l?.status!=="draft"&&l?.status!=="on-hold"&&s.jsxs(s.Fragment,{children:[s.jsxs(W,{children:[" âœ… Order Sent | Requisition: ",l?.requisition?.value," "]}),s.jsx(se,{children:s.jsx(Oe,{component:"a",target:"_blank",href:`/${t.for?.reference}/labs/${l?.id}`,children:"View in Labs"})})]})]}),s.jsx(At,{opened:a,onClose:()=>i(!1),size:"xl",centered:!0,title:"Order Labs",children:s.jsx(b_,{encounter:t.encounter,task:t,tests:h,performingLab:d,onSubmitLabOrder:p})})]}):s.jsx("div",{children:"Loading..."})},Fpe=e=>{const{task:t,enabled:n=!0,onUpdateTask:r}=e,a=gn(),i=_e(),l=async()=>{a(`Task/${t.id}`)?.catch(console.error)},u=g=>{h(t,g)},d=g=>{p(t,g)},h=Zo(async(g,y)=>{try{if(y.id)await i.updateResource(y);else{const S=await i.createResource(y),x=await i.updateResource({...g,output:[{type:{text:"QuestionnaireResponse"},valueReference:{reference:Me(S)}}]});r(x)}}catch(S){console.error(S)}},gh),p=Zo(async(g,y)=>{const S=await i.updateResource({...g,output:[{type:{text:"DiagnosticReport"},valueReference:{reference:Me(y)}}]});r(S)},gh),m=async g=>{const y={...t,status:g};await Vpe(y,i,r)};return s.jsx(lr,{withBorder:!0,shadow:"sm",p:0,children:s.jsxs(ae,{gap:"xs",children:[s.jsxs(ae,{p:"md",children:[t.focus?.reference?.startsWith("Questionnaire/")&&s.jsx(A7,{task:t,onChangeResponse:u},t.id),t.focus?.reference?.startsWith("ServiceRequest/")&&s.jsx(Hpe,{task:t,saveDiagnosticReport:d},t.id),!t.focus?.reference?.startsWith("ServiceRequest/")&&!t.focus?.reference?.startsWith("Questionnaire/")&&s.jsx(Qhe,{task:t},t.id)]}),s.jsx(Xhe,{task:t,enabled:n,onActionButtonClicked:l,onChangeStatus:m})]})})},Vpe=async(e,t,n)=>{try{const r=await t.updateResource(e);n(r)}catch(r){bt({color:"red",icon:s.jsx(jc,{}),title:"Error",message:Wt(r)})}},Wpe=e=>{const{practitioner:t,encounter:n,onEncounterChange:r}=e,a=async u=>{if(!n||!u)return;const d={...n,participant:[{individual:{reference:Me(u)}}]};r(d)},i=async u=>{if(!n||!u)return;const d={...n,period:{start:u}};r(d)},l=async u=>{if(!n||!u)return;const d={...n,period:{end:u}};r(d)};return s.jsxs(ae,{gap:0,children:[s.jsx(W,{fw:600,size:"lg",mb:"md",children:"Visit Details"}),s.jsx(lr,{withBorder:!0,shadow:"sm",p:"md",children:s.jsxs(ae,{gap:"md",children:[s.jsx(Mr,{resourceType:"Practitioner",name:"practitioner",label:"Practitioner",defaultValue:t,onChange:a}),s.jsx(Ln,{name:"checkin",label:"Check in",defaultValue:n.period?.start,onChange:i}),s.jsx(Ln,{name:"checkout",label:"Check out",defaultValue:n.period?.end,onChange:l})]})})]})};function Gpe(e){const{condition:t,rank:n,total:r,onChange:a,onRemove:i}=e;return s.jsxs($e,{justify:"space-between",children:[s.jsx(se,{children:s.jsxs(se,{children:[s.jsx(hc,{w:80,value:n.toString(),data:Array.from({length:r},(l,u)=>(u+1).toString()),onChange:l=>{l&&a?.(t,l)}}),s.jsx(W,{children:t?.code?.coding?.[0]?.display||""})]})}),s.jsx(ft,{variant:"subtle",color:"gray",onClick:()=>{i?.(t)},children:s.jsx(Che,{size:16})})]})}function Ype(e){const{patient:t,encounter:n,onSubmit:r}=e,[a,i]=b.useState(),[l,u]=b.useState(),d=b.useCallback(()=>{if(!a){Fe("Please select a diagnosis");return}const h=$c({resourceType:"Condition",category:[{coding:[{system:ta+"/CodeSystem/condition-category",code:"problem-list-item",display:"Problem List Item"}],text:"Problem List Item"}],subject:ke(t),encounter:n&&ke(n),code:{coding:a.coding?[...a.coding]:[]},clinicalStatus:l},St+"/fhir/us/core/StructureDefinition/us-core-condition-problems-health-concerns");r(h)},[t,n,a,l,r]);return s.jsx(ar,{onSubmit:d,children:s.jsxs(ae,{children:[s.jsx(vi,{binding:"http://hl7.org/fhir/sid/icd-10-cm/vs",label:"ICD-10 Code",name:"diagnosis",path:"Condition.code",required:!0,onChange:h=>i(h)}),s.jsx(vi,{name:"clinicalStatus",label:"Status",path:"Condition.clinicalStatus",binding:St+"/fhir/ValueSet/condition-clinical",onChange:h=>u(h),required:!0}),s.jsx(se,{justify:"flex-end",gap:4,mt:"md",children:s.jsx(Ir,{children:"Save"})})]})})}const Qpe=e=>{const{patient:t,encounter:n,conditions:r,setConditions:a,onDiagnosisChange:i}=e,l=_e(),[u,d]=b.useState(!1);b.useEffect(()=>{(async()=>{if(!n)return;const y=n.diagnosis?.map(x=>x.condition?.reference).filter(Boolean)||[],S=await Promise.all(y.map(x=>l.readReference({reference:x})));if(S.length>0&&n?.diagnosis){const x=new Map,C=n.diagnosis?.map(j=>j.condition?.reference)||[],E=S.filter(j=>C.includes(Me(j)));n.diagnosis.forEach((j,R)=>{j.condition?.reference&&x.set(j.condition.reference,j.rank||R)}),E.sort((j,R)=>{const _=Me(j),A=Me(R);if(x.has(_)&&x.has(A)){const M=x.get(_)??0,D=x.get(A)??0;return M-D}return x.has(_)?-1:x.has(A)?1:0}),a(E)}})().catch(y=>Fe(y))},[n,l,a]);const h=async(g,y)=>{if(!r||r.length===0||!n)return;const S=Number(y),x=r.length,C=Math.max(1,Math.min(S,x)),E=[...r],j=E.findIndex(_=>Me(_)===Me(g));if(j===-1)return;const R=E.splice(j,1)[0];E.splice(C-1,0,R),a(E),i(E.map((_,A)=>({condition:{reference:`Condition/${_.id}`},rank:A+1})))},p=async g=>{if(r)try{await l.deleteResource("Condition",g.id),a(r?.filter(x=>x.id!==g.id));const S=n.diagnosis?.filter(x=>x.condition?.reference!==Me(g))?.map((x,C)=>({...x,rank:C+1}));a(r?.filter(x=>x.id!==g.id)||[]),i(S||[])}catch(y){Fe(y)}},m=async g=>{try{const y=await l.createResource(g);if(n){const S=[...n.diagnosis||[],{condition:{reference:`Condition/${y.id}`},rank:n.diagnosis?.length?n.diagnosis.length+1:1}];a([...r||[],y]),i(S)}}catch(y){Fe(y)}finally{d(!1)}};return s.jsxs(s.Fragment,{children:[s.jsxs(ae,{gap:0,children:[s.jsx(W,{fw:600,size:"lg",mb:"md",children:"Diagnosis"}),s.jsx(lr,{withBorder:!0,shadow:"sm",children:s.jsxs(ae,{gap:"md",children:[r&&r.length>0&&r.map((g,y)=>s.jsx(Gpe,{condition:g,rank:y+1,total:r.length,onChange:h,onRemove:p},g.id??y)),s.jsx($e,{children:s.jsx(Oe,{onClick:()=>d(!0),children:"Add Diagnosis"})})]})})]}),s.jsx(At,{opened:u,onClose:()=>d(!1),title:"Add Diagnosis",children:s.jsx(Ype,{patient:t,encounter:n,onSubmit:m})})]})},fS=`${St}/fhir/StructureDefinition/chargeitem-modifier`,iN="http://www.ama-assn.org/go/cpt";function Kpe(e){const{chargeItem:t,onChange:n,onDelete:r}=e,a=_e(),[i,l]=b.useState(),[u,d]=b.useState(),[h,p]=b.useState();b.useEffect(()=>{p(t.priceOverride),l(x(t));const j=t?.code?.coding?.filter(R=>R.system===iN)??[];d({coding:j})},[t]);const m=j=>{const R={...t},_=t.code?.coding?.filter(A=>A.system!==iN)??[];R.code={...j??{},coding:[...j?.coding??[],..._]},n(R)},g=async j=>{if(!j){const M={...t};M.extension=void 0,await y(M);return}const R={...t};R.extension=R.extension?[...R.extension]:[];const _={url:fS,valueCodeableConcept:j},A=R.extension.findIndex(M=>M.url===fS);A>=0?R.extension[A]=_:R.extension.push(_),await y(R)},y=async j=>{await a.updateResource(j);const R=await g_(a,j);n(R)},S=async()=>{await a.deleteResource("ChargeItem",t.id),r(t)},x=j=>{if(j?.extension)return j.extension.find(_=>_.url===fS)?.valueCodeableConcept},C=`cpt-${t.id}-${JSON.stringify(u?.coding)}`,E=`modifier-${t.id}-${JSON.stringify(i)}`;return s.jsx(lr,{withBorder:!0,shadow:"sm",p:0,children:s.jsxs(ae,{gap:"xs",p:"md",children:[s.jsxs($e,{justify:"space-between",align:"flex-start",children:[s.jsx(te,{flex:1,mr:"md",maw:"calc(100% - 60px)",children:s.jsx(vi,{binding:"http://www.ama-assn.org/go/cpt/vs",label:"CPT Code",name:"cptCode",path:"cptCode",defaultValue:u,onChange:m,readOnly:!0,disabled:!0},C)}),s.jsxs(ye,{shadow:"md",width:200,position:"bottom-end",children:[s.jsx(ye.Target,{children:s.jsx(ft,{variant:"subtle",children:s.jsx(Hj,{size:24})})}),s.jsx(ye.Dropdown,{children:s.jsx(ye.Item,{color:"red",leftSection:s.jsx(Hj,{size:16}),onClick:S,children:"Delete"})})]})]}),s.jsx(vi,{binding:"http://hl7.org/fhir/ValueSet/claim-modifiers",label:"Modifiers",name:"modifiers",path:"modifiers",defaultValue:i,onChange:g},E),s.jsxs(br,{columns:12,mt:"md",children:[s.jsx(br.Col,{span:7,children:s.jsx($e,{h:"100%",direction:"column",justify:"flex-end",pt:4,children:s.jsx(W,{size:"sm",c:"dimmed",children:"Price calculated from Price chart, taking into account applied modifiers and patient's selected insurance plan."})})}),s.jsxs(br.Col,{span:5,children:[s.jsx(W,{size:"sm",fw:500,mb:8,children:"Calculated Price"}),s.jsx(tt,{value:h?.value?`$${h.value.toFixed(2)}`:"N/A",readOnly:!0})]})]})]})})}const Xpe=e=>{const{chargeItems:t,updateChargeItems:n,patient:r,encounter:a}=e,[i,l]=b.useState(t),[u,{open:d,close:h}]=qa(!1),p=_e();b.useEffect(()=>{l(t)},[t]);const m=b.useCallback(async x=>{const C=i.map(E=>E.id===x.id?x:E);n(C)},[i,n]),g=b.useCallback(async x=>{const C=i.filter(E=>E.id!==x.id);n(C)},[i,n]),y=b.useCallback(async()=>{d()},[d]),S=b.useCallback(async(x,C)=>{if(!x||!C){Fe("Please select both CPT code and charge item definition");return}try{const E={resourceType:"ChargeItem",status:"planned",subject:ke(r),context:ke(a),occurrenceDateTime:new Date().toISOString(),extension:[{url:`${St}/fhir/uv/order-catalog/StructureDefinition/ServiceBillingCode`,valueCodeableConcept:x}],code:x,quantity:{value:1},definitionCanonical:C.url?[C.url]:[]},j=await p.createResource(E),R=await g_(p,j);n([...i,R]),h()}catch(E){Fe(E)}},[r,a,i,n,p,h]);return s.jsxs(ae,{gap:0,children:[s.jsxs($e,{justify:"space-between",align:"center",mb:"md",children:[s.jsx(W,{fw:600,size:"lg",children:"Charge Items"}),s.jsx(Oe,{leftSection:s.jsx(yl,{size:16}),onClick:y,children:"Add Charge Item"})]}),t.length>0?s.jsxs(ae,{gap:"md",children:[t.map(x=>s.jsx(Kpe,{chargeItem:x,onChange:m,onDelete:g},x.id)),s.jsx(lr,{withBorder:!0,shadow:"sm",children:s.jsxs($e,{justify:"space-between",align:"center",children:[s.jsx(W,{size:"lg",fw:500,children:"Total Calculated Price to Bill"}),s.jsx(te,{children:s.jsx(tt,{w:300,value:`$${v_(t)}`,readOnly:!0})})]})})]}):s.jsx(lr,{withBorder:!0,shadow:"sm",children:s.jsx(ae,{gap:"md",align:"center",children:s.jsx(W,{c:"dimmed",children:"No charge items available"})})}),s.jsx(Zpe,{opened:u,onClose:h,onSubmit:S})]})};function Zpe({opened:e,onClose:t,onSubmit:n}){const r=_e(),[a,i]=b.useState(),[l,u]=b.useState(),d=b.useCallback(async(g,y)=>{const S=new URLSearchParams({title:g,_count:"10",status:"active"});try{return await r.searchResources("ChargeItemDefinition",S,{signal:y})}catch(x){return y.aborted||console.error("Error searching ChargeItemDefinition:",x),[]}},[r]),h=b.useCallback(g=>{g.length>0&&u(g[0])},[]),p=b.useCallback(()=>{n(a,l),i(void 0),u(void 0)},[a,l,n]),m=b.useCallback(()=>{i(void 0),u(void 0),t()},[t]);return s.jsx(At,{opened:e,onClose:m,title:"Add Charge Item",size:"md",children:s.jsxs(ae,{gap:"md",children:[s.jsx(vi,{binding:"http://www.ama-assn.org/go/cpt/vs",label:"CPT Code",name:"cptCode",path:"ChargeItem.code",placeholder:"Search for CPT code...",required:!0,onChange:i}),s.jsxs(te,{children:[s.jsxs(W,{size:"sm",fw:500,mb:5,children:["Charge Item Definition"," ",s.jsx(W,{span:!0,c:"red",children:"*"})]}),s.jsx(qc,{placeholder:"Search for charge item definition...",onChange:h,toOption:g=>{const y=g;return{value:y.id||"",label:y.title||y.id||"Untitled",resource:y}},maxValues:1,loadOptions:d})]}),s.jsxs($e,{justify:"flex-end",gap:"sm",mt:"md",children:[s.jsx(Oe,{variant:"subtle",onClick:m,children:"Cancel"}),s.jsx(Oe,{onClick:p,disabled:!a||!l,children:"Add Charge Item"})]})]})})}const Jpe=e=>{const{encounter:t,setEncounter:n,claim:r,patient:a,practitioner:i,setPractitioner:l,chargeItems:u,setChargeItems:d,setClaim:h}=e,p=_e(),[m,g]=b.useState([]),[y,S]=b.useState(),x=By(p);b.useEffect(()=>{(async()=>{if(!a)return;const A=await p.searchResources("Coverage",`patient=${Me(a)}`);A.length>0&&S(A[0])})().catch(A=>Fe(A))},[p,a]);const C=async()=>{if(!r?.id||!a?.id)return;let _=y;if(!_){const O=await p.searchResources("Coverage",`patient=${Me(a)}&status=active`);if(O===void 0){Fe("Failed to fetch coverage information");return}O.length>0?_=O[0]:_=await T7(p,a.id)}const A=eme(m||[]),M={...r,insurance:[{sequence:1,focal:!0,coverage:{reference:Me(_)}}],diagnosis:A},D=await p.post(p.fhirUrl("Claim","$export"),{resourceType:"Parameters",parameter:[{name:"resource",resource:M}]});if(D.resourceType==="Media"&&D.content?.url){const O=D.content.url;window.open(O,"_blank")}else Fe("Failed to download PDF")},E=b.useCallback(async _=>{const A={...t,diagnosis:_};n(A),await x(A)},[t,n,x]),j=Zo(async _=>{try{const A=await p.updateResource(_);if(n(A),A?.participant?.[0]?.individual){const M=await p.readReference(A.participant[0].individual);l(M)}if(!a?.id||!t?.id||!i?.id||!u?.length)return;if(r){if(r.provider?.reference!==Me(i)){const D=await p.updateResource({...r,provider:{reference:Me(i)}});h(D)}}else{const M=await R7(p,a.id,t.id,i.id,u);M&&h(M)}}catch(A){Fe(A)}},gh),R=b.useCallback(async _=>{if(d(_),r?.id&&_.length>0&&t){const A={...r,item:_7(_,{reference:Me(t)}),total:{value:v_(_)}};h(A),await x(A)}},[d,r,t,h,x]);return s.jsxs(ae,{gap:"md",children:[r&&s.jsx(lr,{withBorder:!0,shadow:"sm",children:s.jsxs($e,{justify:"space-between",children:[s.jsxs(ye,{shadow:"md",width:200,children:[s.jsx(ye.Target,{children:s.jsx(Oe,{variant:"outline",leftSection:s.jsx(qfe,{size:16}),children:"Export Claim"})}),s.jsxs(ye.Dropdown,{children:[s.jsx(ye.Label,{children:"Export Options"}),s.jsx(ye.Item,{leftSection:s.jsx(xg,{size:14}),onClick:async()=>{await C()},children:"CMS 1500 Form"}),s.jsx(ye.Item,{leftSection:s.jsx(xg,{size:14}),onClick:()=>{bt({title:"EDI X12",message:"Please contact sales to enable EDI X12 export",color:"blue"})},children:"EDI X12"}),s.jsx(ye.Item,{leftSection:s.jsx(xg,{size:14}),onClick:()=>{bt({title:"NUCC Crosswalk",message:"Please contact sales to enable NUCC Crosswalk export",color:"blue"})},children:"NUCC Crosswalk CSV"})]})]}),s.jsx(Oe,{variant:"outline",leftSection:s.jsx(m_,{size:16}),children:"Request to connect a billing service"})]})}),s.jsx(se,{grow:!0,align:"flex-start",children:s.jsx(Wpe,{practitioner:i,encounter:t,onEncounterChange:j})}),t&&s.jsx(Qpe,{patient:a,encounter:t,conditions:m,setConditions:g,onDiagnosisChange:E}),u&&s.jsx(Xpe,{patient:a,encounter:t,chargeItems:u,updateChargeItems:R})]})},eme=e=>e.map((t,n)=>{const r=t.code?.coding?.find(a=>a.system===`${St}/fhir/sid/icd-10-cm`);return{diagnosisCodeableConcept:{coding:r?[{...r,system:`${St}/fhir/sid/icd-10`}]:[]},sequence:n+1,type:[{coding:[{code:n===0?"principal":"secondary"}]}]}}),tme="http://terminology.hl7.org/CodeSystem/v3-ActReason",nme="http://terminology.hl7.org/CodeSystem/provenance-participant-type",rme="http://terminology.hl7.org/CodeSystem/v3-DocumentCompletion",ame=new Set(["completed","cancelled","failed","rejected","entered-in-error"]),$7=e=>{const{encounter:t}=e,n=_e(),a=Dt(t)?.subject,i=Dt(a),[l,u]=b.useState("notes"),{encounter:d,claim:h,practitioner:p,tasks:m,clinicalImpression:g,chargeItems:y,appointment:S,setEncounter:x,setClaim:C,setPractitioner:E,setTasks:j,setChargeItems:R}=qhe(t,a),[_,A]=b.useState(g?.note?.[0]?.text),M=By(n,gh),[D,O]=b.useState([]),[k,I]=b.useState(Ur.Unsigned);b.useEffect(()=>{if(!d)return;(async()=>{const z=await n.searchResources("Provenance",`target=${Me(d)}`);O(z),z.length>0&&g?.status==="completed"?I(Ur.SignedAndLocked):z.length>0?I(Ur.Signed):I(Ur.Unsigned)})().catch(z=>Fe(z))},[g,d,n]);const L=b.useCallback(N=>{j(z=>z.map($=>$.id===N.id?N:$))},[j]),V=b.useCallback(async N=>{if(d)try{const z=await Vhe(n,d,S,N);x(z)}catch(z){Fe(z)}},[d,n,x,S]),q=N=>{u(N)},U=async N=>{if(A(N.target.value),!!g)try{if(!N.target.value||N.target.value===""){const{note:z,...$}=g;await M($)}else{const z={...g,note:[{text:N.target.value}]};await M(z)}}catch(z){Fe(z)}},G=async(N,z)=>{if(!d)return;if(z){const Y=m.filter(H=>!ame.has(H.status)),X=await Promise.all(Y.map(H=>n.updateResource({...H,status:"completed"})));j(m.map(H=>X.find(Q=>Q.id===H.id)||H))}const $=await n.createResource({resourceType:"Provenance",target:[ke(d)],recorded:new Date().toISOString(),reason:[{coding:[{system:tme,code:"SIGN",display:"Signed"}]}],agent:[{type:{coding:[{system:nme,code:"author"}]},who:N}],signature:[{type:[{system:rme,code:"LA",display:"legally authenticated"}],when:new Date().toISOString(),who:N}]});O([...D,$]),I(z?Ur.SignedAndLocked:Ur.Signed)};return!i||!d?s.jsx(Fi,{}):s.jsx(s.Fragment,{children:s.jsxs(ae,{justify:"space-between",gap:0,children:[s.jsx(Ghe,{encounter:d,chartNoteStatus:k,practitioner:p,onStatusChange:V,onTabChange:q,onSign:G}),s.jsxs(te,{p:"md",children:[l==="notes"&&s.jsxs(ae,{gap:"md",children:[s.jsx(Yhe,{encounter:d,provenances:D,chartNoteStatus:k}),g&&s.jsxs(lr,{withBorder:!0,shadow:"sm",mt:"md",children:[s.jsx(cr,{children:"Fill chart note"}),s.jsx(ja,{defaultValue:g.note?.[0]?.text,value:_,onChange:U,autosize:!0,minRows:4,maxRows:8,disabled:k===Ur.SignedAndLocked})]}),m.map(N=>s.jsx(Fpe,{task:N,onUpdateTask:L,enabled:k!==Ur.SignedAndLocked},N.id))]}),l==="details"&&s.jsx(Jpe,{encounter:d,setEncounter:x,claim:h,patient:i,practitioner:p,setPractitioner:E,chargeItems:y,setChargeItems:R,setClaim:C})]})]})})},ime=()=>{const{encounterId:e}=ur();if(!e)return Fe("Encounter ID not found"),null;const t={reference:`Encounter/${e}`};return s.jsxs(s.Fragment,{children:[s.jsx($7,{encounter:t}),s.jsx(u_,{})]})},ome="_footer_k50sx_1",sme="_planDefinition_k50sx_8",oN={footer:ome,planDefinition:sme},lme=()=>{const e=gn(),t=_e(),n=Vc(),[r,a]=b.useState(!0),[i,l]=b.useState(),[u,d]=b.useState(),[h,p]=b.useState(),[m,g]=b.useState(),[y,S]=b.useState(),[x,C]=b.useState(!1),E=async()=>{if(!n||!h||!i||!u||!y||!m){bt({color:"yellow",icon:s.jsx(v7,{}),title:"Error",message:"Please fill out required fields."});return}C(!0);try{const j=await D7(t,i,u,h,n,m);bt({icon:s.jsx(Uy,{}),title:"Success",message:"Encounter created"}),e(`/Patient/${n.id}/Encounter/${j.id}`)?.catch(console.error)}catch(j){bt({color:"red",icon:s.jsx(jc,{}),title:"Error",message:Wt(j)})}finally{C(!1)}};return s.jsx(At,{opened:r,onClose:()=>{e(-1)?.catch(console.error),a(!1)},size:"60%",title:"New encounter",styles:{title:{fontSize:"1.125rem",fontWeight:600},body:{padding:0,height:"60vh"}},children:s.jsxs(ae,{h:"100%",justify:"space-between",gap:0,children:[s.jsx(te,{flex:1,miw:0,children:s.jsxs(br,{p:"md",h:"100%",children:[s.jsx(br.Col,{span:6,pr:"md",children:s.jsxs(ae,{gap:"md",children:[s.jsx(Mr,{resourceType:"Patient",name:"Patient-id",defaultValue:n,disabled:!0,required:!0}),s.jsx(Ln,{name:"start",label:"Start Time",required:!0,onChange:j=>{l(new Date(j))}}),s.jsx(Ln,{name:"end",label:"End Time",required:!0,onChange:j=>{d(new Date(j))}}),s.jsx(VR,{name:"class",label:"Class",binding:"http://terminology.hl7.org/ValueSet/v3-ActEncounterCode",required:!0,onChange:p,path:"Encounter.type"}),s.jsx(il,{name:"status",label:"Status",binding:"http://hl7.org/fhir/ValueSet/encounter-status|4.0.1",maxValues:1,required:!0,onChange:j=>{j&&S(j)}})]})}),s.jsx(br.Col,{span:6,children:s.jsxs(lr,{padding:"lg",radius:"md",className:oN.planDefinition,children:[s.jsx(W,{size:"md",fw:500,mb:"xs",children:"Apply care template"}),s.jsxs(W,{size:"sm",color:"dimmed",mb:"lg",children:["You can select template for new encounter. Tasks from the template will be automatically added to the encounter. Administrators can create and edit templates in the"," ",s.jsx(W,{component:"a",href:"#",variant:"link",children:"Medplum app"}),"."]}),s.jsx(Mr,{name:"plandefinition",resourceType:"PlanDefinition",onChange:j=>g(j),required:!0})]})})]})}),s.jsx(te,{className:oN.footer,h:70,p:"md",children:s.jsx(Oe,{fullWidth:!1,onClick:E,loading:x,disabled:x,children:"Create Encounter"})})]})})};function cme({clinicFavoriteMedications:e,loadingFavorites:t}){return t?s.jsx(lr,{withBorder:!0,p:"xl",children:s.jsx(Yv,{visible:!0})}):!e||e.length===0?s.jsx(W,{c:"dimmed",ta:"center",py:"xl",children:"No favorite medications found"}):s.jsxs(Le,{children:[s.jsx(Le.Thead,{children:s.jsxs(Le.Tr,{children:[s.jsx(Le.Th,{children:"Medication"}),s.jsx(Le.Th,{children:"NDC"}),s.jsx(Le.Th,{children:"RxNorm"}),s.jsx(Le.Th,{children:"Directions"})]})}),s.jsx(Le.Tbody,{children:e.map((n,r)=>s.jsxs(Le.Tr,{children:[s.jsx(Le.Td,{children:s.jsx(W,{fw:500,children:Nhe(n)})}),s.jsx(Le.Td,{children:n.code?yM(n.code,qZ):""}),s.jsx(Le.Td,{children:n.code?yM(n.code,$Z):""}),s.jsx(Le.Td,{children:n.administrationGuidelines?.[0]?.dosage?.[0]?.dosage?.[0]?.patientInstruction||""})]},n.id||r))})]})}const Or=[];for(let e=0;e<256;++e)Or.push((e+256).toString(16).slice(1));function ume(e,t=0){return(Or[e[t+0]]+Or[e[t+1]]+Or[e[t+2]]+Or[e[t+3]]+"-"+Or[e[t+4]]+Or[e[t+5]]+"-"+Or[e[t+6]]+Or[e[t+7]]+"-"+Or[e[t+8]]+Or[e[t+9]]+"-"+Or[e[t+10]]+Or[e[t+11]]+Or[e[t+12]]+Or[e[t+13]]+Or[e[t+14]]+Or[e[t+15]]).toLowerCase()}let hS;const dme=new Uint8Array(16);function fme(){if(!hS){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");hS=crypto.getRandomValues.bind(crypto)}return hS(dme)}const hme=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),sN={randomUUID:hme};function pme(e,t,n){if(sN.randomUUID&&!e)return sN.randomUUID();e=e||{};const r=e.random??e.rng?.()??fme();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,ume(r)}function mme(){const[e,t]=b.useState(!1),[n,r]=b.useState(!1),[a,i]=b.useState(!0),[l,u]=b.useState(),{state:d,saveFavoriteMedication:h,searchMedications:p,setSelectedMedicationDirections:m,setSelectedMedication:g,clear:y}=Ohe(),S=_e();b.useEffect(()=>{(async()=>{try{i(!0);const j={resourceType:"MedicationKnowledge",filters:[{code:"code",operator:"eq",value:`${jhe}|`}]},R=Ks(j),_=await S.search("MedicationKnowledge",R);u(_.entry?.map(A=>A.resource)||[])}catch(j){Fe(j)}finally{i(!1)}})().catch(Fe)},[S]);const x=async()=>{try{r(!0);const E=await h();u(j=>[E,...j||[]]),t(!1),bt({title:"Medication added to favorites",message:"The medication has been added to your favorites",color:"green"})}catch(E){Fe({title:"Error adding medication to favorites",message:Wt(E),color:"red"})}finally{y(),r(!1)}},C=E=>({value:pme(),label:E.text||"Unknown Medication",resource:E});return s.jsxs($h,{size:"xl",py:"xl",children:[s.jsxs(Lt,{mb:"lg",p:"md",withBorder:!0,shadow:"sm",children:[s.jsxs(se,{justify:"space-between",mb:"md",children:[s.jsx(cr,{order:2,children:"DoseSpot Medication Favorites"}),s.jsx(Oe,{leftSection:s.jsx(yl,{size:16}),onClick:()=>t(!0),children:"Add Favorite Medication"})]}),s.jsx(cme,{clinicFavoriteMedications:l,loadingFavorites:a})]}),s.jsx(At,{opened:e,onClose:()=>{t(!1),y()},title:"Medication",size:"lg",withCloseButton:!0,children:s.jsxs(te,{children:[s.jsx(qc,{placeholder:"Search medications...",loadOptions:p,toOption:C,onChange:E=>{E.length>0?g(E[0]):g(void 0)},minInputLength:3,clearable:!0,maxValues:1}),d.selectedMedication&&hy(d.selectedMedication)&&s.jsxs(ae,{gap:"md",mt:"lg",children:[s.jsx(st,{}),s.jsx(tt,{label:"Directions",placeholder:"e.g., Take 1 tablet by mouth daily",value:d.directions,onChange:E=>m(E.target.value),required:!0})]}),s.jsx(se,{justify:"flex-end",gap:"md",mt:"md",children:s.jsx(Oe,{onClick:()=>x(),disabled:!d.directions||!d.selectedMedication||n,loading:n,children:"Add Favorite"})})]})})]})}const gme="_icon_zqlev_1",vme={icon:gme};function yme(e){return s.jsxs(Lt,{radius:"md",withBorder:!0,shadow:"md",p:"md",bg:"var(--mantine-color-body)",maw:300,children:[s.jsxs(se,{wrap:"nowrap",children:[s.jsx(es,{src:e.imageUrl,size:48,radius:"md",style:{border:"1px solid var(--mantine-color-gray-2)"}}),s.jsxs("div",{children:[s.jsx(W,{fz:"xl",fw:800,children:e.name}),s.jsxs(se,{wrap:"nowrap",gap:4,mt:-2,children:[s.jsx(She,{stroke:2,size:12,color:"var(--mantine-primary-color-6)",className:vme.icon}),s.jsx(W,{fz:"xs",c:"dimmed",children:s.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--mantine-primary-color-6)",textDecoration:"none"},children:e.displayUrl})})]})]})]}),s.jsx(se,{mt:"sm",gap:4,children:e.tags.map(t=>s.jsx(ya,{variant:"light",color:"gray",size:"sm",children:t},t))}),s.jsx(W,{fz:"sm",mt:"sm",h:80,children:e.description}),s.jsx(Oe,{variant:"default",fullWidth:!0,mt:"md",onClick:e.onClick,children:"Request Integration"})]})}const bme=[{name:"Okta",tags:["Authentication"],description:"Implement SSO for healthcare staff with HIPAA-compliant authentication protocols.",displayUrl:"okta.com",url:"https://www.okta.com",imageUrl:"okta.png"},{name:"Auth0",tags:["Authentication"],description:"Manage identity access for patient portals and provider applications across multiple platforms.",displayUrl:"auth0.com",url:"https://auth0.com",imageUrl:"auth0.png"},{name:"Google Authentication",tags:["Authentication"],description:"Add Google's authentication system to your EHR for standardized sign-in.",displayUrl:"cloud.google.com",url:"https://cloud.google.com/identity",imageUrl:"google.png"},{name:"Microsoft Entra SSO",tags:["Authentication"],description:"Integrate Microsoft's identity platform with clinical systems for centralized access management.",displayUrl:"microsoft.com",url:"https://learn.microsoft.com/en-us/entra/identity-platform",imageUrl:"entra.png"},{name:"Labcorp",tags:["Diagnostics"],description:"Place orders and receive lab results directly in your EHR from Labcorp.",displayUrl:"labcorp.com",url:"https://www.labcorp.com",imageUrl:"labcorp.png"},{name:"Quest Diagnostics",tags:["Diagnostics"],description:"Place orders and receive lab results directly in your EHR from Quest.",displayUrl:"questdiagnostics.com",url:"https://www.questdiagnostics.com",imageUrl:"quest.png"},{name:"Health Gorilla",tags:["HIE","Diagnostics"],description:"Access nationwide clinical data networks for patient records diagnostic reports and ADT notifications.",displayUrl:"healthgorilla.com",url:"https://www.healthgorilla.com",imageUrl:"healthgorilla.png"},{name:"Candid Health",tags:["Billing"],description:"Integrate automated eligibility verification and claims processing with your practice management system.",displayUrl:"candidhealth.com",url:"https://www.candidhealth.com",imageUrl:"candid.png"},{name:"Particle",tags:["HIE"],description:"Import and export clinical data with other healthcare organizations through standardized models.",displayUrl:"particlehealth.com",url:"https://www.particlehealth.com",imageUrl:"particle.png"},{name:"Epic Systems",tags:["EHR"],description:"Connect to your existing Epic EHR through FHIR APIs to exchange clinical data.",displayUrl:"epic.com",url:"https://www.epic.com",imageUrl:"epic.png"},{name:"reCAPTCHA",tags:["Security"],description:"Implement bot protection for online patient registration forms while maintaining usability.",displayUrl:"google.com/recaptcha",url:"https://www.google.com/recaptcha",imageUrl:"recaptcha.png"},{name:"Datadog",tags:["Observability"],description:"Monitor healthcare application performance to identify issues before they impact clinical workflows.",displayUrl:"datadog.com",url:"https://www.datadog.com",imageUrl:"datadog.png"},{name:"Sumo Logic",tags:["Observability"],description:"Analyze system logs and user activities across healthcare IT systems for compliance verification.",displayUrl:"sumologic.com",url:"https://www.sumologic.com",imageUrl:"sumo.png"},{name:"Snowflake",tags:["Data warehouse"],description:"Store clinical and operational data in a cloud database with access controls, allowing for analysis and reporting without managing physical servers.",displayUrl:"snowflake.com",url:"https://www.snowflake.com",imageUrl:"snowflake.png"},{name:"OpenAI",tags:["AI"],description:"Implement AI-powered features for clinical documentation and workflow management.",displayUrl:"openai.com",url:"https://openai.com",imageUrl:"openai.png"},{name:"Stripe",tags:["Billing"],description:"Send invoices, process payments, and automate reconciliation to complement your revenue cycle management.",displayUrl:"stripe.com",url:"https://stripe.com",imageUrl:"stripe.png"},{name:"Acuity Scheduling",tags:["Scheduling"],description:"Manage your clinical availability and appointments with comprehensive scheduling tools.",displayUrl:"acuityscheduling.com",url:"https://www.acuityscheduling.com",imageUrl:"acuity.png"},{name:"Cal.com",tags:["Scheduling"],description:"Open source scheduling platform for managing availability and appointments.",displayUrl:"cal.com",url:"https://cal.com",imageUrl:"calcom.png"},{name:"Claude",tags:["AI"],description:"Implement AI-powered features for clinical documentation and workflow management.",displayUrl:"anthropic.com/claude",url:"https://www.anthropic.com/claude",imageUrl:"claude.png"},{name:"DeepSeek",tags:["AI"],description:"Implement AI-powered features for clinical documentation and workflow management.",displayUrl:"deepseek.com",url:"https://www.deepseek.com",imageUrl:"deepseek.png"},{name:"Azure",tags:["Cloud Services"],description:"Deploy HIPAA-compliant applications with specialized services for protected health information.",displayUrl:"azure.microsoft.com",url:"https://azure.microsoft.com",imageUrl:"azure.png"},{name:"Healthie",tags:["EHR","Practice Management"],description:"Connect to your existing Healthie account to exchange clinical data.",displayUrl:"gethealthie.com",url:"https://gethealthie.com",imageUrl:"healthie.png"}];function xme(){function e(t){const n=`Integration Request: ${t.name}`,r=`Hello Medplum team,

I would like to request an integration with ${t.name}.

Here are the details:

Name: ${t.name}
Description: ${t.description}
URL: ${t.url}

Thank you!`;window.location.href=`mailto:hello@medplum.com?subject=${encodeURIComponent(n)}&body=${encodeURIComponent(r)}`}return s.jsx($e,{mih:50,gap:"md",justify:"center",align:"flex-end",direction:"row",wrap:"wrap",m:"xl",children:bme.map(t=>s.jsx(yme,{name:t.name,displayUrl:t.displayUrl,url:t.url,tags:t.tags,description:t.description,imageUrl:`/img/integrations/${t.imageUrl}`,onClick:()=>e(t)},t.name))})}const Sme="_content_1vkzb_1",wme="_contentContainer_1vkzb_8",Cme="_selected_1vkzb_13",pS={content:Sme,contentContainer:wme,selected:Cme},jme=e=>{const{topic:t,lastCommunication:n,isSelected:r,onSelectedItem:a}=e,i=Dt(t.subject),l=Gn(i?.name?.[0]),u=n?.payload?.[0]?.contentString,d=u?.length&&u.length>100?u.slice(0,100)+"...":u,h=n?.sender?.display?`${n?.sender?.display}: `:"",p=d?`${h} ${d}`:"No messages available",m=t.topic?.text??p;return s.jsx(Sa,{to:a(t),c:"dark",children:s.jsxs(se,{p:"xs",align:"center",wrap:"nowrap",className:Rt(pS.contentContainer,{[pS.selected]:r}),children:[s.jsx(wa,{value:t.subject,radius:"xl",size:36}),s.jsxs(ae,{gap:0,children:[s.jsx(W,{size:"sm",fw:700,truncate:"end",children:l}),s.jsx(W,{size:"sm",fw:400,c:"gray.7",lineClamp:2,className:pS.content,children:m}),s.jsx(W,{size:"xs",c:"gray.6",style:{marginTop:2},children:n?Gr(n.sent):""})]})]})})},Eme=e=>{const{threads:t,selectedCommunication:n,onSelectedItem:r}=e;return s.jsx(ae,{gap:0,children:t.map(a=>{const i=a[0],l=a[1],u=n?.id===i.id;return s.jsxs(b.Fragment,{children:[s.jsx(jme,{topic:i,lastCommunication:l,isSelected:u,onSelectedItem:r}),s.jsx(st,{})]},i.id)})})},Tme=e=>{const{subject:t,opened:n,onClose:r,onSubmit:a}=e,i=_e(),[l,u]=b.useState(""),[d,h]=b.useState([]),[p,m]=b.useState(t?ke(t):void 0),g=Cr(),y=b.useMemo(()=>g?ke(g):void 0,[g]),S=async()=>{if(!p){bt({title:"Error",message:"Please select a patient",color:"red"});return}const x={resourceType:"Communication",status:"in-progress",subject:p,sender:y,recipient:[p,...d.map(C=>({reference:C.reference}))],topic:{text:l}};try{const C=await i.createResource(x);a?.(C),r()}catch(C){Fe(C)}};return s.jsx(At,{opened:n,onClose:r,title:"New Message",size:"md",children:s.jsxs(ae,{gap:"xl",children:[s.jsxs(ae,{gap:0,children:[s.jsx(W,{fw:500,children:"Patient"}),s.jsx(W,{c:"dimmed",children:"Select a patient"}),s.jsx(Mr,{resourceType:"Patient",name:"patient",required:!0,defaultValue:p,onChange:x=>{m(x?ke(x):void 0)}})]}),s.jsxs(ae,{gap:0,children:[s.jsx(W,{fw:500,children:"Practitioner (optional)"}),s.jsx(W,{c:"dimmed",children:"Select one or more practitioners"}),s.jsx(Ny,{questionnaire:Rme,excludeButtons:!0,onChange:x=>{const C=x.item?.[0].answer?.map(E=>E.valueReference).filter(E=>E!==void 0)??[];h(C)}})]}),s.jsxs(ae,{gap:0,children:[s.jsx(W,{fw:500,children:"Topic (optional)"}),s.jsx(W,{c:"dimmed",children:"Enter a topic for the message"}),s.jsx(tt,{placeholder:"Enter your topic",value:l,onChange:x=>u(x.target.value)})]}),s.jsx(Oe,{onClick:S,children:"Next"})]})})},Rme={resourceType:"Questionnaire",status:"active",item:[{linkId:"q1",type:"reference",repeats:!0,extension:[{url:"http://hl7.org/fhir/StructureDefinition/questionnaire-referenceResource",valueCodeableConcept:{coding:[{system:"http://hl7.org/fhir/fhir-types",display:"Practitioner",code:"Practitioner"}]}}]}]};function _me({query:e,threadId:t,offset:n,count:r}){const a=_e(),[i,l]=b.useState(!1),[u,d]=b.useState([]),[h,p]=b.useState(void 0),[m,g]=b.useState(null),[y,S]=b.useState(void 0);return b.useEffect(()=>{const E=async()=>{const j=new URLSearchParams(e);j.append("identifier:not","ai-message-topic"),j.append("part-of:missing","true"),n!==void 0&&j.append("_offset",n.toString()),j.append("_count",r.toString()),j.append("_total","accurate");const R=await a.search("Communication",j.toString(),{cache:"no-cache"}),_=R.entry?.map(k=>k.resource).filter(k=>k!==void 0)||[];if(R.total!==void 0&&S(R.total),_.length===0){d([]);return}const M=`
        query {
          ${_.map(k=>{const L=`thread_${k.id?.replace(/-/g,"")||""}`,V=Me(k);return`
          ${L}: CommunicationList(
            part_of: "${V}"
            _sort: "-sent"
            _count: 1
          ) {
            id
            meta {
              lastUpdated
            }
            partOf {
              reference
            }
            sender {
              display
              reference
            }
            payload {
              contentString
            }
            sent
            status
          }
        `}).join(`
`)}
        }
      `,D=await a.graphql(M),O=_.map(k=>{const L=`thread_${k.id?.replace(/-/g,"")||""}`,V=D.data[L],q=V&&V.length>0?V[0]:void 0;return[k,q]}).filter(k=>k[1]!==void 0);d(O)};l(!0),E().catch(j=>{console.error("Error fetching inbox threads:",j),g(j)}).finally(()=>{l(!1)})},[a,e,n,r]),b.useEffect(()=>{(async()=>{if(t){const j=u.find(R=>R[0].id===t);if(j)p(j[0]);else try{const R=await a.readResource("Communication",t);if(R.partOf===void 0)p(R);else{const _=R.partOf[0].reference;if(_){const A=await a.readReference({reference:_});p(A)}}}catch(R){g(R)}}else p(void 0)})().catch(j=>{g(j)})},[t,u,a]),{loading:i,error:m,threadMessages:u,selectedThread:h,total:y,addThreadMessage:E=>{d(j=>[[E,void 0],...j])},handleThreadStatusChange:async E=>{if(h)try{const j=await a.updateResource({...h,status:E});p(j),d(R=>R.map(([_,A])=>_.id===j.id?[j,A]:[_,A]))}catch(j){g(j)}}}}const Dme="_container_273ev_1",Ame="_rightBorder_273ev_9",Ome="_button_273ev_13",kme="_selected_273ev_20",Hl={container:Dme,rightBorder:Ame,button:Ome,selected:kme};function q7(e){const{query:t,threadId:n,subject:r,showPatientSummary:a=!1,handleNewThread:i,onSelectedItem:l}=e,[u,{open:d,close:h}]=qa(!1),[p,m]=b.useState("in-progress"),[g,y]=b.useState(1),S=20,x=b.useMemo(()=>`${t}&status=${p}`,[t,p]),C=(g-1)*S,{loading:E,error:j,threadMessages:R,selectedThread:_,total:A,handleThreadStatusChange:M,addThreadMessage:D}=_me({query:x,threadId:n,offset:C,count:S});b.useEffect(()=>{j&&Fe(j)},[j]);const O=L=>{m(L),y(1)},k=async L=>{try{await M(L)}catch(V){Fe(V)}},I=L=>{D(L),i(L)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Hl.container,children:s.jsxs($e,{direction:"row",h:"100%",w:"100%",children:[s.jsx($e,{direction:"column",w:300,h:"100%",className:Hl.rightBorder,children:s.jsxs(Lt,{h:"100%",style:{display:"flex",flexDirection:"column"},children:[s.jsxs(mn,{style:{flex:1},scrollbarSize:10,type:"hover",scrollHideDelay:250,children:[s.jsxs($e,{h:64,align:"center",justify:"space-between",p:"md",children:[s.jsx(W,{fz:"h4",fw:800,truncate:!0,children:"Messages"}),s.jsx(ft,{radius:"50%",variant:"filled",color:"blue",onClick:d,children:s.jsx(yl,{size:16})})]}),s.jsx(st,{}),s.jsxs($e,{p:"md",gap:"xs",children:[s.jsx(Oe,{className:Rt(Hl.button,{[Hl.selected]:p==="in-progress"}),h:32,radius:"xl",onClick:()=>O("in-progress"),children:"In progress"}),s.jsx(Oe,{className:Rt(Hl.button,{[Hl.selected]:p==="completed"}),h:32,radius:"xl",onClick:()=>O("completed"),children:"Completed"})]}),s.jsx(st,{}),E?s.jsx(ae,{gap:"md",p:"md",children:Array.from({length:10}).map((L,V)=>s.jsxs($e,{gap:"sm",align:"flex-start",children:[s.jsx(vt,{height:40,width:40,radius:"50%"}),s.jsx(te,{style:{flex:1},children:s.jsxs($e,{direction:"column",gap:"xs",children:[s.jsx(vt,{height:16,width:`${Math.random()*40+60}%`}),s.jsx(vt,{height:14,width:`${Math.random()*50+40}%`})]})})]},V))}):R.length>0&&s.jsx(Eme,{threads:R,selectedCommunication:_,onSelectedItem:l}),R.length===0&&!E&&s.jsx(Nme,{})]}),!E&&A!==void 0&&A>S&&s.jsx(te,{p:"md",children:s.jsx(yr,{children:s.jsx(Wa,{value:g,total:Math.ceil(A/S),onChange:y,size:"sm",siblings:1,boundaries:1})})})]})}),_?s.jsxs(s.Fragment,{children:[s.jsx($e,{direction:"column",style:{flex:1},h:"100%",className:Hl.rightBorder,children:s.jsx(Lt,{h:"100%",children:s.jsxs(ae,{h:"100%",gap:0,children:[s.jsxs($e,{h:64,align:"center",justify:"space-between",p:"md",children:[s.jsx(W,{fw:800,truncate:!0,fz:"lg",children:_.topic?.text??"Messages"}),s.jsxs(ye,{position:"bottom-end",shadow:"md",children:[s.jsx(ye.Target,{children:s.jsx(Oe,{variant:"light",color:Pme(_.status),rightSection:_.status==="completed"?void 0:s.jsx(p_,{size:16}),radius:"xl",size:"sm",children:_.status.split("-").map(L=>L.charAt(0).toUpperCase()+L.slice(1)).join(" ")})}),_.status!=="completed"&&s.jsx(s.Fragment,{children:s.jsx(ye.Dropdown,{children:s.jsx(ye.Item,{onClick:()=>k("completed"),children:"Completed"})})})]})]}),s.jsx(st,{}),s.jsx($e,{direction:"column",style:{flex:1},h:"100%",children:s.jsx(gse,{title:"Messages",thread:_,excludeHeader:!0},`${Me(_)}`)})]})})}),_.subject&&a&&s.jsx($e,{direction:"column",w:300,h:"100%",children:s.jsx(mn,{p:0,h:"100%",scrollbarSize:10,type:"hover",scrollHideDelay:250,children:s.jsx(My,{patient:_.subject},_.id)})})]}):s.jsx($e,{direction:"column",style:{flex:1},h:"100%",children:s.jsx(Mme,{})})]})}),s.jsx(Tme,{subject:r,opened:u,onClose:h,onSubmit:I})]})}function Mme(){return s.jsx(yr,{h:"100%",w:"100%",children:s.jsxs(ae,{align:"center",gap:"md",children:[s.jsx(Lc,{size:64,variant:"light",color:"gray",children:s.jsx(S7,{size:32})}),s.jsx(ae,{align:"center",gap:"xs",children:s.jsx(W,{size:"sm",c:"dimmed",ta:"center",children:"Select a message from the list to view details"})})]})})}function Pme(e){return e==="completed"?"green":e==="stopped"?"red":"blue"}function Nme(){return s.jsx($e,{direction:"column",h:"100%",justify:"center",align:"center",children:s.jsxs(ae,{align:"center",gap:"md",pt:"xl",children:[s.jsx(S7,{size:64,color:"var(--mantine-color-gray-4)"}),s.jsx(W,{size:"lg",c:"dimmed",fw:500,children:"No messages found"})]})})}const Ime="_container_n1ott_1",Lme={container:Ime};function mS(){const{messageId:e}=ur(),t=gn(),n=a=>{t(`/Communication/${a.id}`)?.catch(console.error)},r=a=>`/Communication/${a.id}`;return s.jsx("div",{className:Lme.container,children:s.jsx(q7,{threadId:e,query:"_sort=-_lastUpdated",showPatientSummary:!0,handleNewThread:n,onSelectedItem:r})})}function lN(){const{patientId:e,messageId:t}=ur(),n=gn(),r=i=>`/Patient/${e}/Communication/${i.id}`,a=i=>{n(`/Patient/${e}/Communication/${i.id}`)?.catch(console.error)};return s.jsx("div",{style:{height:"calc(100vh - 98px)"},children:s.jsx(q7,{threadId:t,query:`subject=${`Patient/${e}`}&_sort=-_lastUpdated`,subject:{reference:`Patient/${e}`},showPatientSummary:!1,handleNewThread:a,onSelectedItem:r})})}function zme({patientId:e}){const t=_e(),[n,r]=b.useState(new Date().toISOString().split("T")[0]),[a,i]=b.useState(new Date().toISOString().split("T")[0]),[l,u]=b.useState(new Date().toISOString().split("T")[0]),[d,h]=b.useState(new Date().toISOString().split("T")[0]),[p,m]=b.useState(!1),g=b.useCallback(async()=>{if(!n||!a){bt({color:"red",title:"Error",message:"Please select both start and end dates"});return}try{await t.executeBot(Dhe,{patientId:e,start:n,end:a}),bt({color:"green",title:"Success",message:"Prescriptions synced successfully"})}catch(x){bt({color:"red",title:"Error",message:Wt(x)})}},[t,e,n,a]),y=b.useCallback(async()=>{try{await t.executeBot(_he,{patientId:e,start:l,end:d}),bt({color:"green",title:"Success",message:"History synced successfully"})}catch(x){bt({color:"red",title:"Error",message:Wt(x)})}},[t,e,l,d]),S=b.useCallback(async()=>{try{await t.executeBot(j7,{patientId:e}),bt({color:"green",title:"Success",message:"Patient sync success"})}catch(x){bt({color:"red",title:"Error",message:Wt(x)})}},[t,e]);return s.jsxs(s.Fragment,{children:[s.jsx(se,{style:{position:"absolute",top:8,right:8,zIndex:100},children:s.jsxs(Oe,{variant:"subtle",size:"sm",onClick:()=>m(!0),children:[s.jsx(dhe,{size:16,style:{marginRight:8}}),"Advanced Options"]})}),s.jsx(At,{opened:p,onClose:()=>m(!1),size:"lg",title:"Advanced DoseSpot Options",styles:{title:{fontSize:"1.5rem",fontWeight:600}},children:s.jsx(te,{children:s.jsxs(ae,{children:[s.jsxs(te,{children:[s.jsx(W,{mb:"sm",children:"Prescriptions Sync"}),s.jsx(W,{c:"dimmed",mb:"md",children:"Fetches recently completed and active prescriptions from DoseSpot for the specified date range and patient. This will create or update MedicationRequest resources."}),s.jsxs(se,{align:"flex-end",children:[s.jsx(tt,{label:"Start Date",type:"date",value:n,onChange:x=>r(x.target.value)}),s.jsx(tt,{label:"End Date",type:"date",value:a,onChange:x=>i(x.target.value)}),s.jsx(Oe,{onClick:g,children:"Sync Prescriptions"})]})]}),s.jsxs(te,{mt:"md",children:[s.jsx(W,{mb:"sm",children:"Medication History Sync"}),s.jsx(W,{c:"dimmed",mb:"md",children:"Retrieves medication history from DoseSpot for this patient and adds MedicationRequest resources to Medplum."}),s.jsxs(se,{align:"flex-end",children:[s.jsx(tt,{label:"Start Date",type:"date",value:l,onChange:x=>u(x.target.value)}),s.jsx(tt,{label:"End Date",type:"date",value:d,onChange:x=>h(x.target.value)}),s.jsx(Oe,{onClick:y,children:"Sync History"})]})]}),s.jsxs(te,{mt:"md",children:[s.jsx(W,{mb:"sm",children:"Patient Information Sync"}),s.jsx(W,{c:"dimmed",mb:"md",children:"Syncs patient between Medplum and DoseSpot. It creates an identifier for the patient in Medplum to link it to the patient's record in DoseSpot. It also adds MedicationRequest and AllergyIntolerance resources from Medplum to that patient's record in DoseSpot."}),s.jsx(Oe,{onClick:S,children:"Sync Patient"})]})]})})})]})}function cN(){const{patientId:e}=ur(),t=khe({patientId:e,onPatientSyncSuccess:()=>bt({color:"green",title:"Success",message:"Patient sync success"}),onIframeSuccess:()=>bt({color:"green",title:"Success",message:"DoseSpot iframe success"}),onError:n=>bt({color:"red",title:"Error",message:Wt(n)})});return s.jsxs(te,{pos:"relative",children:[e&&s.jsx(zme,{patientId:e}),s.jsx("div",{children:t&&s.jsx("iframe",{id:"dosespot-iframe",name:"dosespot-iframe",frameBorder:0,src:t,style:{width:"100%",height:"100%",minHeight:"calc(100vh)",border:"none"}})})]})}function x_(e){const{missingProfileMessage:t,onSubmit:n,...r}=e,a=e.profileUrl,i=_e(),[l,u]=b.useState(!0),[d,h]=b.useState(),[p,m]=b.useState();b.useEffect(()=>{if(!a){u(!1);return}i.requestProfileSchema(a,{expandProfile:!0}).then(()=>{const S=nl(a);S?(m(S),u(!1)):y(a)}).catch(S=>{console.warn("Profile not found in Medplum project, attempting to fetch from HL7 registry:",S),y(a)});async function y(S){try{let x;S.includes("http://hl7.org/fhir/us/core/StructureDefinition/")?x=`https://build.fhir.org/ig/HL7/US-Core/StructureDefinition-${S.split("/").pop()}.json`:x=S.replace("http://","https://")+".json";const C=await fetch(x);if(C.ok){const E=await C.json();await i.createResource(E),await i.requestProfileSchema(S,{expandProfile:!0});const j=nl(S);j&&m(j)}else throw new Error(`Failed to fetch profile from HL7 registry: ${C.statusText}`)}catch(x){console.error("Failed to fetch and upload profile:",x),h(x)}finally{u(!1)}}},[i,a]);const g=b.useCallback(y=>{n&&(a&&$c(y,a),n(y))},[n,a]);if(a&&l)return s.jsx(Fi,{});if(a&&!p){const y=s.jsxs(s.Fragment,{children:[t&&s.jsx("p",{children:t}),d&&s.jsxs("p",{children:["Server error: ",Wt(d)]})]});return s.jsx(hl,{icon:s.jsx(yfe,{size:16}),title:"Not found",color:"red",children:y})}return s.jsx(qce,{onSubmit:g,...r})}const Hy={Patient:"http://hl7.org/fhir/us/core/StructureDefinition/us-core-patient",ServiceRequest:"http://medplum.com/StructureDefinition/medplum-provider-lab-procedure-servicerequest",Device:"http://hl7.org/fhir/us/core/StructureDefinition/us-core-implantable-device"},$me=s.jsxs("p",{children:["Could not find the"," ",s.jsx(Ba,{href:Hy.Patient,target:"_blank",children:"US Core Patient Profile"})]});function qme(){const e=_e(),{patientId:t}=ur(),[n,r]=b.useState(),a=gn(),[i,l]=b.useState();b.useEffect(()=>{e.readResource("Patient",t).then(d=>r(Hi(d))).catch(d=>{l(kr(d)),bt({color:"red",message:Wt(d),autoClose:!1})})},[e,t]);const u=b.useCallback(d=>{l(void 0),e.updateResource(d).then(()=>{a(`/Patient/${t}/timeline`)?.catch(console.error),bt({color:"green",message:"Success"})}).catch(h=>{l(kr(h)),bt({color:"red",message:Wt(h),autoClose:!1})})},[e,a,t]);return n?s.jsx(ol,{children:s.jsx(x_,{missingProfileMessage:$me,defaultValue:n,onSubmit:u,outcome:i,profileUrl:Hy.Patient})}):null}function Ume(){const{patientId:e}=ur();return s.jsx(ol,{maw:600,children:s.jsx(zle,{patient:{reference:`Patient/${e}`}})})}const Zs={AllergyIntolerance:`${St}/fhir/us/core/StructureDefinition/us-core-allergyintolerance`,CareTeam:`${St}/fhir/us/core/StructureDefinition/us-core-careteam`,Coverage:`${St}/fhir/us/core/StructureDefinition/us-core-coverage`,Immunization:`${St}/fhir/us/core/StructureDefinition/us-core-immunization`,MedicationRequest:`${St}/fhir/us/core/StructureDefinition/us-core-medicationrequest`,Patient:`${St}/fhir/us/core/StructureDefinition/us-core-patient`,ObservationSexualOrientation:`${St}/fhir/us/core/StructureDefinition/us-core-observation-sexual-orientation`,ObservationSmokingStatus:`${St}/fhir/us/core/StructureDefinition/us-core-smokingstatus`},gS={race:St+"/fhir/us/core/StructureDefinition/us-core-race",ethnicity:St+"/fhir/us/core/StructureDefinition/us-core-ethnicity",veteran:St+"/fhir/us/military-service/StructureDefinition/military-service-veteran-status"},$u={housingStatus:{coding:[{code:"71802-3",system:Go,display:"Housing status"}]},educationLevel:{coding:[{code:"82589-3",system:Go,display:"Highest Level of Education"}]},smokingStatus:{coding:[{code:"72166-2",system:Go,display:"Tobacco smoking status"}]},sexualOrientation:{coding:[{code:"76690-7",system:Go,display:"Sexual orientation"}]},pregnancyStatus:{coding:[{code:"82810-3",system:Go,display:"Pregnancy status"}]},estimatedDeliveryDate:{coding:[{code:"11778-8",system:Go,display:"Estimated date of delivery"}]}},qu={socialHistory:{coding:[{system:ta+"/CodeSystem/observation-category",code:"social-history",display:"Social History"}]},sdoh:{coding:[{system:St+"/fhir/us/core/CodeSystem/us-core-tags",code:"sdoh",display:"SDOH"}]}},Qm={adr:{coding:[{system:ta+"/CodeSystem/consentscope",code:"adr",display:"Advanced Care Directive"}]},patientPrivacy:{coding:[{system:ta+"/CodeSystem/consentscope",code:"patient-privacy",display:"Patient Privacy"}]},treatment:{coding:[{system:ta+"/CodeSystem/consentscope",code:"treatment",display:"Treatment"}]}},Km={acd:{coding:[{system:ta+"/CodeSystem/consentcategorycodes",code:"acd",display:"Advanced Care Directive"}]},nopp:{coding:[{system:ta+"/CodeSystem/v3-ActCode",code:"nopp",display:"Notice of Privacy Practices"}]},pay:{coding:[{system:ta+"/CodeSystem/v3-ActCode",code:"pay",display:"Payment"}]},med:{coding:[{system:ta+"/CodeSystem/v3-ActCode",code:"med",display:"Medical"}]}},Xm={hipaaNpp:{coding:[{system:ta+"/CodeSystem/consentpolicycodes",code:"hipaa-npp",display:"HIPAA Notice of Privacy Practices"}]},hipaaSelfPay:{coding:[{system:ta+"/CodeSystem/consentpolicycodes",code:"hipaa-self-pay",display:"HIPAA Self-Pay Restriction"}]},cric:{coding:[{system:ta+"/CodeSystem/consentpolicycodes",code:"cric",display:"Common Rule Informed Consent"}]},adr:{coding:[{system:"http://medplum.com",code:"BasicADR",display:"Advanced Care Directive"}]}};async function Uu(e,t,n,r,a,i,l){if(!i||!n)return;let u={resourceType:"Observation",status:"final",subject:ke(t),code:n,category:[r],effectiveDateTime:new Date().toISOString()};l&&(u=$c(u,l)),a==="valueCodeableConcept"?u.valueCodeableConcept={coding:[i]}:a==="valueDateTime"&&(u.valueDateTime=i.valueDateTime);const d=n.coding?.[0];await e.upsertResource(u,{code:`${d.system}|${d.code}`,subject:Me(t)})}function vS(e,t,n,r,a){let i=r?.[n];if(n==="valueBoolean"&&(i=!!i),i!==void 0)if(e.extension||=[],a){const l=[{url:a,[n]:i}];n==="valueCoding"&&i.display&&l.push({url:"text",valueString:i.display}),e.extension.push({url:t,extension:l})}else e.extension.push({url:t,[n]:i})}function uN(e,t,n=!1){if(!t)return;const r=e.communication??[];let a=r.find(i=>i.language.coding?.[0].code===t?.code);a||(a={language:{coding:[t]}},r.push(a)),n&&(a.preferred=n),e.communication=r}async function Bme(e,t,n){const r=n["allergy-substance"]?.valueCoding;if(!r)return;const a=n["allergy-reaction"]?.valueString,i=n["allergy-onset"]?.valueDateTime;await e.upsertResource({resourceType:"AllergyIntolerance",meta:{profile:[Zs.AllergyIntolerance]},clinicalStatus:{text:"Active",coding:[{system:"http://hl7.org/fhir/ValueSet/allergyintolerance-clinical",code:"active",display:"Active"}]},verificationStatus:{text:"Unconfirmed",coding:[{system:"http://hl7.org/fhir/ValueSet/allergyintolerance-verification",code:"unconfirmed",display:"Unconfirmed"}]},patient:ke(t),code:{coding:[r]},reaction:a?[{manifestation:[{text:a}]}]:void 0,onsetDateTime:i},{patient:Me(t),code:`${r.system}|${r.code}`})}async function Hme(e,t,n){const r=n["medication-code"]?.valueCoding;if(!r)return;const a=n["medication-note"]?.valueString;await e.upsertResource({resourceType:"MedicationRequest",meta:{profile:[Zs.MedicationRequest]},subject:ke(t),status:"active",intent:"order",requester:ke(t),medicationCodeableConcept:{coding:[r]},note:a?[{text:a}]:void 0},{subject:Me(t),code:`${r.system}|${r.code}`})}async function Fme(e,t,n){const r=n["medical-history-problem"]?.valueCoding;if(!r)return;const a=n["medical-history-clinical-status"]?.valueCoding,i=n["medical-history-onset"]?.valueDateTime;await e.upsertResource({resourceType:"Condition",subject:ke(t),code:{coding:[r]},clinicalStatus:a?{coding:[a]}:void 0,onsetDateTime:i},{subject:Me(t),code:`${r?.system}|${r?.code}`})}async function Vme(e,t,n){const r=n["family-member-history-problem"]?.valueCoding,a=n["family-member-history-relationship"]?.valueCoding;if(!r||!a)return;const i=n["family-member-history-deceased"]?.valueBoolean;await e.upsertResource({resourceType:"FamilyMemberHistory",patient:ke(t),status:"completed",relationship:{coding:[a]},condition:[{code:{coding:[r]}}],deceasedBoolean:i},{patient:Me(t),code:`${r.system}|${r.code}`,relationship:`${a.system}|${a.code}`})}async function Wme(e,t,n){const r=n["immunization-vaccine"]?.valueCoding,a=n["immunization-date"]?.valueDateTime;!r||!a||await e.upsertResource({resourceType:"Immunization",meta:{profile:[Zs.Immunization]},status:"completed",vaccineCode:{coding:[r]},patient:ke(t),occurrenceDateTime:a},{status:"completed","vaccine-code":`${r.system}|${r.code}`,patient:Me(t),date:a})}async function Gme(e,t,n){await e.upsertResource({resourceType:"CareTeam",meta:{profile:[Zs.CareTeam]},status:"proposed",name:"Patient Preferred Pharmacy",subject:ke(t),participant:[{member:n,role:[{coding:[{system:Qs,code:"76166008",display:"Practical aid (pharmacy) (occupation)"}]}]}]},{name:"Patient Preferred Pharmacy",subject:Me(t)})}async function Yme(e,t,n){const r=n["insurance-provider"].valueReference,a=n["subscriber-id"].valueString,i=n["relationship-to-subscriber"].valueCoding,l=n["related-person"];if(i.code&&!["other","self","injured"].includes(i.code)&&l){const u=Fj(l,"related-person-"),d=Kme(i);await e.createResource({resourceType:"RelatedPerson",patient:ke(t),relationship:d?[{coding:[d]}]:void 0,name:u?[u]:void 0,birthDate:l["related-person-dob"]?.valueDate,gender:l["related-person-gender-identity"]?.valueCoding?.code??void 0})}await e.upsertResource({resourceType:"Coverage",meta:{profile:[Zs.Coverage]},status:"active",beneficiary:ke(t),subscriberId:a,relationship:{coding:[i]},payor:[r]},{beneficiary:Me(t),payor:Me(r)})}async function Zm(e,t,n,r,a,i,l){await e.createResource({resourceType:"Consent",patient:ke(t),status:n?"active":"rejected",scope:r,category:[a],policyRule:i,dateTime:l})}function U7(e,t){if(e)return e.reduce((n,r)=>{if(n||!r)return n;if(r.linkId===t)return r;if(r.item)return U7(r.item,t)},void 0)}function Fl(e,t,n){const r=U7(e.item,n);if(r.type!=="group"||!r?.item)return[];const a=t.item?.filter(l=>l.linkId===n);return!a||a?.length===0?[]:a.map(l=>{const u={};return(h=>{h.forEach(({linkId:p,answer:m,item:g})=>{if(g){const y={};g.forEach(S=>{S.answer&&(y[S.linkId]=S.answer?.[0]??{})}),u[p]=y}else u[p]=m?.[0]??{}})})(l.item||[]),u})}function zf(e){if(e)return new Date(e).toISOString()}function Fj(e,t=""){const n={},r=[];return e[`${t}first-name`]?.valueString&&r.push(e[`${t}first-name`].valueString),e[`${t}middle-name`]?.valueString&&r.push(e[`${t}middle-name`].valueString),r.length>0&&(n.given=r),e[`${t}last-name`]?.valueString&&(n.family=e[`${t}last-name`].valueString),Object.keys(n).length>0?n:void 0}function Qme(e){const t={};return e.street?.valueString&&(t.line=[e.street.valueString]),e.city?.valueString&&(t.city=e.city.valueString),e.state?.valueCoding?.code&&(t.state=e.state.valueCoding.code),e.zip?.valueString&&(t.postalCode=e.zip.valueString),Object.keys(t).length>0?{use:"home",type:"physical",...t}:void 0}function Kme(e){switch(e.code){case"child":return{system:"http://terminology.hl7.org/CodeSystem/v3-RoleCode",code:"PRN",display:"parent"};case"parent":return{system:"http://terminology.hl7.org/CodeSystem/v3-RoleCode",code:"CHILD",display:"child"};case"spouse":case"common":return{system:"http://terminology.hl7.org/CodeSystem/v3-RoleCode",code:"SPS",display:"spouse"};default:return}}async function Xme(e,t,n){const r=yJ(n);let a={resourceType:"Patient"};a=$c(a,Zs.Patient);const i=Fj(r);i&&(a.name=[i]),r.dob?.valueDate&&(a.birthDate=r.dob.valueDate);const l=Qme(r);l&&(a.address=[l]),r["gender-identity"]?.valueCoding?.code&&(a.gender=r["gender-identity"].valueCoding.code),r.phone?.valueString&&(a.telecom=[{system:"phone",value:r.phone.valueString}]),r.ssn?.valueString&&(a.identifier=[{type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/v2-0203",code:"SS"}]},system:"http://hl7.org/fhir/sid/us-ssn",value:r.ssn.valueString}]);const u=Fl(t,n,"emergency-contact");if(u){a.contact=[];for(const C of u)a.contact.push({relationship:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/v2-0131",code:"EP",display:"Emergency contact person"}]}],name:Fj(C,"emergency-contact-"),telecom:[{system:"phone",value:C["emergency-contact-phone"]?.valueString}]})}vS(a,gS.race,"valueCoding",r.race,"ombCategory"),vS(a,gS.ethnicity,"valueCoding",r.ethnicity,"ombCategory"),vS(a,gS.veteran,"valueBoolean",r["veteran-status"]),uN(a,r["languages-spoken"]?.valueCoding),uN(a,r["preferred-language"]?.valueCoding,!0),a=await e.createResource(a),n.subject=ke(a),await e.createResource(n),await Uu(e,a,$u.sexualOrientation,qu.socialHistory,"valueCodeableConcept",r["sexual-orientation"]?.valueCoding,Zs.ObservationSexualOrientation),await Uu(e,a,$u.housingStatus,qu.sdoh,"valueCodeableConcept",r["housing-status"]?.valueCoding),await Uu(e,a,$u.educationLevel,qu.sdoh,"valueCodeableConcept",r["education-level"]?.valueCoding),await Uu(e,a,$u.smokingStatus,qu.socialHistory,"valueCodeableConcept",r["smoking-status"]?.valueCoding,Zs.ObservationSmokingStatus),await Uu(e,a,$u.pregnancyStatus,qu.socialHistory,"valueCodeableConcept",r["pregnancy-status"]?.valueCoding);const d=zf(r["estimated-delivery-date"]?.valueDate);await Uu(e,a,$u.estimatedDeliveryDate,qu.socialHistory,"valueDateTime",d?{valueDateTime:d}:void 0);const h=Fl(t,n,"allergies");for(const C of h)await Bme(e,a,C);const p=Fl(t,n,"medications");for(const C of p)await Hme(e,a,C);const m=Fl(t,n,"medical-history");for(const C of m)await Fme(e,a,C);const g=Fl(t,n,"family-member-history");for(const C of g)await Vme(e,a,C);const y=Fl(t,n,"vaccination-history");for(const C of y)await Wme(e,a,C);const S=Fl(t,n,"coverage-information");for(const C of S)await Yme(e,a,C);const x=r["preferred-pharmacy-reference"]?.valueReference;return x&&await Gme(e,a,x),await Zm(e,a,!!r["consent-for-treatment-signature"]?.valueBoolean,Qm.treatment,Km.med,Xm.cric,zf(r["consent-for-treatment-date"]?.valueDate)),await Zm(e,a,!!r["agreement-to-pay-for-treatment-help"]?.valueBoolean,Qm.treatment,Km.pay,Xm.hipaaSelfPay,zf(r["agreement-to-pay-for-treatment-date"]?.valueDate)),await Zm(e,a,!!r["notice-of-privacy-practices-signature"]?.valueBoolean,Qm.patientPrivacy,Km.nopp,Xm.hipaaNpp,zf(r["notice-of-privacy-practices-date"]?.valueDate)),await Zm(e,a,!!r["acknowledgement-for-advance-directives-signature"]?.valueBoolean,Qm.adr,Km.acd,Xm.adr,zf(r["acknowledgement-for-advance-directives-date"]?.valueDate)),a}function Zme(){const e=gn(),t=_e(),n=Cr(),r=b.useCallback(async a=>{if(!(!Jm||!n))try{const i=await Xme(t,Jm,a);e(`/Patient/${i.id}/timeline`)?.catch(console.error)}catch(i){bt({color:"red",message:Wt(i),autoClose:!1})}},[t,e,n]);return Jm?s.jsx(ol,{width:800,children:s.jsx(Ny,{questionnaire:Jm,onSubmit:r})}):s.jsx(Fi,{})}const Jm={resourceType:"Questionnaire",status:"active",title:"Patient Intake Questionnaire",url:"https://medplum.com/Questionnaire/patient-intake-questionnaire-example",name:"patient-intake",item:[{linkId:"patient-demographics",text:"Demographics",type:"group",item:[{linkId:"first-name",text:"First Name",type:"string",required:!0},{linkId:"middle-name",text:"Middle Name",type:"string"},{linkId:"last-name",text:"Last Name",type:"string",required:!0},{linkId:"dob",text:"Date of Birth",type:"date"},{linkId:"street",text:"Street",type:"string"},{linkId:"city",text:"City",type:"string"},{linkId:"state",text:"State",type:"choice",answerValueSet:"http://hl7.org/fhir/us/core/ValueSet/us-core-usps-state"},{linkId:"zip",text:"Zip",type:"string"},{linkId:"phone",text:"Phone",type:"string"},{linkId:"ssn",text:"Social Security Number",type:"string",required:!0},{linkId:"race",text:"Race",type:"choice",answerValueSet:"http://hl7.org/fhir/us/core/ValueSet/omb-race-category"},{linkId:"ethnicity",text:"Ethnicity",type:"choice",answerValueSet:"http://hl7.org/fhir/us/core/ValueSet/omb-ethnicity-category"},{linkId:"gender-identity",text:"Gender Identity",type:"choice",answerValueSet:"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1021.32",required:!0},{linkId:"sexual-orientation",text:"Sexual Orientation",type:"choice",answerValueSet:"http://hl7.org/fhir/us/core/ValueSet/us-core-sexual-orientation"}]},{linkId:"emergency-contact",text:"Emergency Contact",type:"group",repeats:!0,item:[{linkId:"emergency-contact-first-name",text:"First Name",type:"string"},{linkId:"emergency-contact-middle-name",text:"Middle Name",type:"string"},{linkId:"emergency-contact-last-name",text:"Last Name",type:"string"},{linkId:"emergency-contact-phone",text:"Phone",type:"string"}]},{linkId:"allergies",text:"Allergies",type:"group",repeats:!0,item:[{linkId:"allergy-substance",text:"Substance",type:"choice",answerValueSet:"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1186.8"},{linkId:"allergy-reaction",text:"Reaction",type:"string"},{linkId:"allergy-onset",text:"Onset",type:"dateTime"}]},{linkId:"medications",text:"Current medications",type:"group",repeats:!0,item:[{linkId:"medication-code",text:"Medication Name",type:"choice",answerValueSet:"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1010.4"},{linkId:"medication-note",text:"Note",type:"string"}]},{linkId:"medical-history",text:"Medical History",type:"group",repeats:!0,item:[{linkId:"medical-history-problem",text:"Problem",type:"choice",answerValueSet:"http://hl7.org/fhir/us/core/ValueSet/us-core-condition-code"},{linkId:"medical-history-clinical-status",text:"Status",type:"choice",answerValueSet:"http://hl7.org/fhir/ValueSet/condition-clinical"},{linkId:"medical-history-onset",text:"Onset",type:"dateTime"}]},{linkId:"family-member-history",text:"Family Member History",type:"group",repeats:!0,item:[{linkId:"family-member-history-problem",text:"Problem",type:"choice",answerValueSet:"http://hl7.org/fhir/us/core/ValueSet/us-core-condition-code"},{linkId:"family-member-history-relationship",text:"Relationship",type:"choice",answerValueSet:"http://terminology.hl7.org/ValueSet/v3-FamilyMember"},{linkId:"family-member-history-deceased",text:"Deceased",type:"boolean"}]},{linkId:"vaccination-history",text:"Vaccination History",type:"group",repeats:!0,item:[{linkId:"immunization-vaccine",text:"Vaccine",type:"choice",answerValueSet:"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1010.6"},{linkId:"immunization-date",text:"Administration Date",type:"dateTime"}]},{linkId:"preferred-pharmacy",text:"Preferred Pharmacy",type:"group",item:[{linkId:"preferred-pharmacy-reference",text:"Pharmacy",type:"reference",extension:[{id:"reference-pharmacy",url:"http://hl7.org/fhir/StructureDefinition/questionnaire-referenceResource",valueCodeableConcept:{coding:[{system:"http://hl7.org/fhir/fhir-types",display:"Organizations",code:"Organization"}]}}]}]},{linkId:"coverage-information",text:"Coverage Information",type:"group",repeats:!0,item:[{linkId:"insurance-provider",text:"Insurance Provider",type:"reference",required:!0,extension:[{id:"reference-insurance",url:"http://hl7.org/fhir/StructureDefinition/questionnaire-referenceResource",valueCodeableConcept:{coding:[{system:"http://hl7.org/fhir/fhir-types",display:"Organizations",code:"Organization"}]}}]},{linkId:"subscriber-id",text:"Subscriber ID",type:"string",required:!0},{linkId:"relationship-to-subscriber",text:"Relationship to Subscriber",type:"choice",answerValueSet:"http://hl7.org/fhir/ValueSet/subscriber-relationship",required:!0},{linkId:"related-person",text:"Subscriber Information",type:"group",enableBehavior:"all",enableWhen:[{question:"relationship-to-subscriber",operator:"!=",answerCoding:{system:"http://terminology.hl7.org/CodeSystem/subscriber-relationship",code:"other",display:"Other"}},{question:"relationship-to-subscriber",operator:"!=",answerCoding:{system:"http://terminology.hl7.org/CodeSystem/subscriber-relationship",code:"self",display:"Self"}},{question:"relationship-to-subscriber",operator:"!=",answerCoding:{system:"http://terminology.hl7.org/CodeSystem/subscriber-relationship",code:"injured",display:"Injured Party"}}],item:[{linkId:"related-person-first-name",text:"First Name",type:"string"},{linkId:"related-person-middle-name",text:"Middle Name",type:"string"},{linkId:"related-person-last-name",text:"Last Name",type:"string"},{linkId:"related-person-dob",text:"Date of Birth",type:"date"},{linkId:"related-person-gender-identity",text:"Gender Identity",type:"choice",answerValueSet:"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1021.32"}]}]},{linkId:"social-determinants-of-health",text:"Social Determinants of Health",type:"group",item:[{linkId:"housing-status",text:"Housing Status",type:"choice",answerValueSet:"http://terminology.hl7.org/ValueSet/v3-LivingArrangement"},{linkId:"education-level",text:"Education Level",type:"choice",answerValueSet:"http://terminology.hl7.org/ValueSet/v3-EducationLevel"},{linkId:"smoking-status",text:"Smoking Status",type:"choice",answerValueSet:"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.11.20.9.38"},{linkId:"veteran-status",text:"Veteran Status",type:"boolean"},{linkId:"pregnancy-status",text:"Pregnancy Status",type:"choice",code:[{code:"82810-3",display:"Pregnancy status",system:"http://loinc.org"}],answerValueSet:"http://example.com/pregnancy-status"},{linkId:"estimated-delivery-date",text:"Estimated Delivery Date",type:"date",code:[{code:"11778-8",display:"Estimated date of delivery",system:"http://loinc.org"}],enableWhen:[{question:"pregnancy-status",operator:"=",answerCoding:{system:"http://snomed.info/sct",code:"77386006",display:"Pregnancy"}}]}]},{linkId:"languages-spoken",text:"Languages Spoken",type:"choice",answerValueSet:"http://hl7.org/fhir/ValueSet/languages",repeats:!0},{linkId:"preferred-language",text:"Preferred Language",type:"choice",answerValueSet:"http://hl7.org/fhir/ValueSet/languages"},{linkId:"consent-for-treatment",text:"Consent for Treatment",type:"group",item:[{linkId:"consent-for-treatment-signature",text:"I the undersigned patient (or authorized representative, or parent/guardian), consent to and authorize the performance of any treatments, examinations, medical services, surgical or diagnostic procedures, including lab and radiographic studies, as ordered by this office and itâ€™s healthcare providers.",type:"boolean"},{linkId:"consent-for-treatment-date",text:"Date",type:"date"}]},{linkId:"agreement-to-pay-for-treatment",text:"Agreement to Pay for Treatment",type:"group",item:[{linkId:"agreement-to-pay-for-treatment-help",text:"I, the responsible party, hereby agree to pay all the charges submitted by this office during the course of treatment for the patient. If the patient has insurance coverage with a managed care organization, with which this office has a contractual agreement, I agree to pay all applicable coâ€payments, coâ€insurance and deductibles, which arise during the course of treatment for the patient. The responsible party also agrees to pay for treatment rendered to the patient, which is not considered to be a covered service by my insurer and/or a third party insurer or other payor. I understand that Sample Hospital provides charges on a sliding fee; based on family size and household annual income, and that services will not be refused due to inability to pay at the time of the visit.",type:"boolean"},{linkId:"agreement-to-pay-for-treatment-date",text:"Date",type:"date"}]},{linkId:"notice-of-privacy-practices",text:"Notice of Privacy Practices",type:"group",item:[{linkId:"notice-of-privacy-practices-help",text:`Sample Hospital Notice of Privacy Practices gives information about how Sample Hospital may use and release protected health information (PHI) about you. I understand that:
- I have the right to receive a copy of Sample Hospitalâ€™s Notice of Privacy Practices.
- I may request a copy at any time.
- Sample Hospitalâ€˜s Notice of Privacy Practices may be revised.`,type:"display"},{linkId:"notice-of-privacy-practices-signature",text:"I acknowledge the above and that I have received a copy of Sample Hospitalâ€™s Notice of Privacy Practices.",type:"boolean"},{linkId:"notice-of-privacy-practices-date",text:"Date",type:"date"}]},{linkId:"acknowledgement-for-advance-directives",text:"Acknowledgement for Advance Directives",type:"group",item:[{linkId:"acknowledgement-for-advance-directives-help",text:"An Advance Medical Directive is a document by which a person makes provision for health care decisions in the event that, in the future, he/she becomes unable to make those decisions.",type:"display"},{linkId:"acknowledgement-for-advance-directives-signature",text:"I acknowledge I have received information about Advance Directives.",type:"boolean"},{linkId:"acknowledgement-for-advance-directives-date",text:"Date",type:"date"}]}]},Jme="_title_y95po_8",ege="_contentContainer_y95po_16",tge="_selected_y95po_28",yS={title:Jme,contentContainer:ege,selected:tge};function nge(e){const{item:t,selectedItem:n,activeTab:r,onItemSelect:a}=e,i=n?.id===t.id,l=Dt(t.requester);return s.jsx(Sa,{to:a(t),c:"dark",children:s.jsx(se,{align:"center",wrap:"nowrap",className:Rt(yS.contentContainer,{[yS.selected]:i}),children:s.jsxs(ae,{gap:0,style:{flex:1,minWidth:0},children:[s.jsxs(se,{justify:"space-between",align:"flex-start",style:{minWidth:0},children:[s.jsx(W,{fw:700,className:yS.title,style:{flex:1,minWidth:0},children:ige(t)}),r!=="completed"&&s.jsx(ya,{size:"sm",color:rge(t.status),variant:"light",children:age(t.status)})]}),sge(t,r).map((u,d)=>s.jsx(W,{size:"sm",c:"#2E2E2E",children:u},d)),s.jsx(W,{size:"sm",c:"dimmed",children:oge(t,l)})]})})})}const rge=e=>{switch(e){case"active":return"blue";case"draft":case"requested":return"yellow";case"on-hold":return"orange";case"revoked":case"cancelled":case"entered-in-error":return"red";case"completed":return"green";case"unknown":return"gray";default:return"gray"}},age=e=>{switch(e){case"active":return"Active";case"draft":return"Draft";case"requested":return"Requested";case"on-hold":return"On Hold";case"revoked":return"Revoked";case"cancelled":return"Cancelled";case"entered-in-error":return"Error";case"completed":return"Completed";case"unknown":return"Unknown";default:return e||"Unknown"}},ige=e=>e.code?.coding&&e.code.coding.length>=2?e.code.coding.map(t=>t.display).join(", "):e.code?.text?e.code.text:e.code?.coding?.[0]?.display||"Lab Order",oge=(e,t)=>{const n=bn(e.authoredOn||e.meta?.lastUpdated);return t?.resourceType==="Practitioner"?`Ordered ${n} by ${Gn(t.name?.[0])}`:`Ordered ${n}`},sge=(e,t)=>{const n=[];if(t==="completed"){const r=e.meta?.lastUpdated?bn(e.meta.lastUpdated):"Unknown date";n.push(`Completed ${r}`)}else e.requisition?.value&&n.push(`REQ #${e.requisition.value}`);return n};function dN({activeTab:e}){return s.jsx($e,{direction:"column",h:"100%",justify:"center",align:"center",children:s.jsx(ae,{align:"center",gap:"md",pt:"xl",children:s.jsx(W,{size:"md",c:"dimmed",fw:400,children:"Lab details will appear here when selected."})})})}const Vj="https://www.healthgorilla.com";async function lge(e,t){const n=B7(t);if(!n)return[];const r=new URLSearchParams({category:"LabOrderRequisition",identifier:`${Vj}|${n}`,_sort:"-_lastUpdated"});return await e.searchResources("DocumentReference",r,{cache:"no-cache"})}function B7(e){if(e.requisition?.system===Vj)return e.requisition.value;if(e.identifier){const t=e.identifier.find(n=>n.system===Vj);if(t?.value)return t.value}}const cge="_button_16d85_1",uge="_selected_16d85_8",eg={button:cge,selected:uge};function H7(e){const{order:t}=e,n=_e(),r=Dt(t.subject),a=Dt(t.requester),[i,l]=b.useState([]),[u,d]=b.useState([]),[h,p]=b.useState(!1),[m,g]=b.useState([]),[y,S]=b.useState(!1),[x,C]=b.useState(null),[E,j]=b.useState(!1),[R,_]=b.useState(t.status!=="completed"?"progress":"report");b.useEffect(()=>{(async()=>{const k=await n.searchResources("DiagnosticReport",{"based-on":`ServiceRequest/${t.id}`,_sort:"-_lastUpdated",_count:1});l(k)})().catch(Fe)},[n,t.id]);const A=i.length>0?i[0]:void 0,M=b.useMemo(()=>{const O=[{id:"order-sent",title:"Order Sent",description:"Lab order has been submitted",icon:s.jsx(m_,{size:16}),status:"completed",timestamp:t.authoredOn||t.meta?.lastUpdated?bn(t.authoredOn||t.meta?.lastUpdated):void 0},{id:"lab-acknowledged",title:"Order Acknowledged",description:"Lab has received and acknowledged the order",icon:s.jsx(mh,{size:16}),status:"pending"},{id:"testing",title:"Testing",description:"Lab is processing the sample",icon:s.jsx(Gfe,{size:16}),status:"pending"},{id:"final",title:"Final",description:"Results are ready",icon:s.jsx(Bj,{size:16}),status:"pending"}];let k=0;return t.authoredOn&&(k=1),(t.requisition?.value||u.length>0)&&(O[1].status="completed",O[1].timestamp=t.requisition?.value?"Acknowledged":void 0,k=2),A?.effectiveDateTime&&(O[2].status="completed",O[2].timestamp=bn(A.effectiveDateTime),k=3),A?.issued&&A.status==="final"&&(O[3].status="completed",O[3].timestamp=bn(A.issued),k=4),k<O.length&&(O[k].status="current"),O},[t,A,u]),D=O=>O==="completed"?"green":O==="current"?"blue":"gray.2";return b.useEffect(()=>((async()=>{if(!t.id){d([]);return}p(!0),d([]);try{const k=await lge(n,t);d(k)}catch(k){console.error("Error fetching lab order requisition documents:",k),d([])}finally{p(!1)}})().catch(console.error),()=>{d([]),p(!1)}),[n,t]),b.useEffect(()=>((async()=>{if(!t.id){g([]);return}S(!0),g([]);try{const k=B7(t);if(!k){g([]);return}const I=new URLSearchParams({category:"SpecimenLabel",identifier:`https://www.healthgorilla.com|${k}`,_sort:"-_lastUpdated"}),L=await n.searchResources("DocumentReference",I,{cache:"no-cache"});g(L)}catch(k){console.error("Error fetching specimen label documents:",k),g([])}finally{S(!1)}})().catch(console.error),()=>{g([]),S(!1)}),[n,t]),b.useEffect(()=>((async()=>{if(C(null),t.supportingInfo&&t.supportingInfo.length>0){const k=t.supportingInfo.find(I=>I.reference?.startsWith("QuestionnaireResponse/"));if(k?.reference)try{j(!0);const I=await n.readResource("QuestionnaireResponse",k.reference.split("/")[1]);C(I);return}catch(I){console.error("Error fetching questionnaire response from current order:",I)}finally{j(!1)}}if(t.id)try{j(!0);const k=await n.searchResources("ServiceRequest",{subject:t.subject?.reference,code:t.code?.coding?.[0]?.code,_count:50});if(k&&k.length>0){const I=k.find(L=>L.basedOn&&L.basedOn.length>0&&L.basedOn.some(q=>q.reference===`ServiceRequest/${t.id}`)?L.supportingInfo?.some(q=>q.reference?.startsWith("QuestionnaireResponse/"))??!1:!1);if(I){if(I.supportingInfo&&I.supportingInfo.length>0){const L=I.supportingInfo.find(V=>V.reference?.startsWith("QuestionnaireResponse/"));if(L?.reference){const V=await n.readResource("QuestionnaireResponse",L.reference.split("/")[1]);C(V)}}}else{const L=k.find(V=>V.supportingInfo?.some(q=>q.reference?.startsWith("QuestionnaireResponse/")));if(L){const V=L.supportingInfo?.find(q=>q.reference?.startsWith("QuestionnaireResponse/"));if(V?.reference){const q=await n.readResource("QuestionnaireResponse",V.reference.split("/")[1]);C(q)}}}}}catch(k){console.error("Error fetching questionnaire response from original order:",k)}finally{j(!1)}})().catch(console.error),()=>{C(null),j(!1)}),[n,t]),s.jsx(mn,{h:"100%",children:s.jsx(Lt,{h:"100%",children:s.jsxs(ae,{gap:"0",children:[s.jsx(ae,{gap:"md",p:"md",children:s.jsxs(ae,{gap:"md",children:[s.jsxs(ae,{gap:"0",children:[s.jsx(W,{size:"xl",fw:800,children:t.code?.coding&&t.code.coding.length>=2?t.code.coding.map(O=>O.display).join(", "):t.code?.text?t.code.text:t.code?.coding?.[0]?.display||"Lab Order"}),s.jsx(W,{size:"sm",c:"gray.7",children:t.status==="completed"&&t.meta?.lastUpdated?`Completed ${bn(t.meta.lastUpdated)} â€¢ Ordered ${bn(t.authoredOn||t.meta?.lastUpdated)}`:`Ordered ${bn(t.authoredOn||t.meta?.lastUpdated)}`})]}),s.jsx(st,{}),s.jsxs(se,{justify:"space-between",align:"center",children:[s.jsxs(se,{gap:"xs",children:[s.jsx(Oe,{className:Rt(eg.button,{[eg.selected]:R===(t.status!=="completed"?"progress":"report")}),h:32,radius:"xl",onClick:()=>_(t.status!=="completed"?"progress":"report"),children:t.status!=="completed"?"Progress Tracker":"Report"}),s.jsx(Oe,{className:Rt(eg.button,{[eg.selected]:R==="order"}),h:32,radius:"xl",onClick:()=>_("order"),children:"Order Details"})]}),s.jsx(ya,{size:"lg",color:dge(t.status),variant:"light",children:fge(t.status)})]})]})}),s.jsxs(ae,{gap:"xs",p:"md",children:[R==="order"&&s.jsxs(ae,{gap:"md",children:[s.jsxs(ae,{gap:"sm",mb:"xl",children:[s.jsxs(se,{align:"flex-start",gap:"lg",children:[s.jsx(W,{fw:500,size:"sm",style:{width:"150px"},c:"dimmed",children:"Order Date"}),s.jsx(W,{size:"sm",children:bn(t.authoredOn||t.meta?.lastUpdated)})]}),t.code?.coding&&s.jsxs(se,{align:"flex-start",gap:"lg",children:[s.jsx(W,{fw:500,size:"sm",style:{width:"150px"},c:"dimmed",children:"Test Code"}),s.jsx(ae,{gap:"xs",children:t.code.coding.map((O,k)=>s.jsxs(W,{size:"sm",children:[O.display," (",O.code,")"]},k))})]}),a?.resourceType==="Practitioner"&&s.jsxs(se,{align:"flex-start",gap:"lg",children:[s.jsx(W,{fw:500,size:"sm",style:{width:"150px"},c:"dimmed",children:"Ordering provider"}),s.jsx(W,{size:"sm",children:Gn(a.name?.[0])})]}),t.performer?.[0]?.display&&s.jsxs(se,{align:"flex-start",gap:"lg",children:[s.jsx(W,{fw:500,size:"sm",style:{width:"150px"},c:"dimmed",children:"Performing lab"}),s.jsx(W,{size:"sm",children:t.performer[0].display})]}),t.requisition?.value&&s.jsxs(se,{align:"flex-start",gap:"lg",children:[s.jsx(W,{fw:500,size:"sm",style:{width:"150px"},c:"dimmed",children:"Requisition ID"}),s.jsx(W,{size:"sm",children:t.requisition.value})]}),r?.resourceType==="Patient"&&s.jsxs(se,{align:"flex-start",gap:"lg",children:[s.jsx(W,{fw:500,size:"sm",style:{width:"150px"},c:"dimmed",children:"Patient"}),s.jsx(W,{size:"sm",children:Gn(r.name?.[0])})]}),t.priority&&s.jsxs(se,{align:"flex-start",gap:"lg",children:[s.jsx(W,{fw:500,size:"sm",style:{width:"150px"},c:"dimmed",children:"Priority"}),s.jsx(W,{size:"sm",children:t.priority})]}),t.reasonCode&&s.jsxs(se,{align:"flex-start",gap:"lg",children:[s.jsx(W,{fw:500,size:"sm",style:{width:"150px"},c:"dimmed",children:"Reason"}),s.jsx(ae,{gap:"xs",children:t.reasonCode.map((O,k)=>s.jsx(W,{size:"sm",children:O.text||O.coding?.[0]?.display},k))})]}),t.note&&s.jsxs(se,{align:"flex-start",gap:"lg",children:[s.jsx(W,{fw:500,size:"sm",style:{width:"150px"},c:"dimmed",children:"Notes"}),s.jsx(ae,{gap:"xs",children:t.note.map((O,k)=>s.jsx(W,{size:"sm",children:O.text},k))})]}),t.orderDetail&&s.jsxs(s.Fragment,{children:[s.jsx(st,{}),s.jsxs(ae,{gap:"sm",children:[s.jsx(W,{fw:800,size:"lg",children:"Order Details"}),t.orderDetail.map((O,k)=>s.jsxs(se,{align:"flex-start",children:[s.jsxs(W,{fw:500,size:"sm",children:["Detail ",k+1,":"]}),s.jsx(W,{size:"sm",children:O.text||O.coding?.[0]?.display})]},k))]})]})]}),s.jsx(st,{}),s.jsxs(ae,{gap:"lg",mb:"xl",children:[s.jsx(W,{fw:800,size:"md",pb:"0",children:"Requisition Document"}),h&&s.jsxs(se,{children:[s.jsx(tr,{size:"sm"}),s.jsx(W,{size:"sm",c:"dimmed",children:"Loading requisition documents..."})]}),!h&&u.length>0&&s.jsx(ae,{gap:"md",children:u.map((O,k)=>s.jsx(ae,{gap:"xs",children:O.content&&O.content.length>0&&s.jsx(ae,{gap:"xs",children:O.content.map((I,L)=>s.jsxs("div",{style:{height:"600px",borderRadius:"4px",overflow:"hidden",border:"1px solid #3C3C3C"},children:[s.jsx("style",{children:`
                                  div[data-testid="attachment-iframe"] {
                                    height: 600px !important;
                                  }
                                  div[data-testid="attachment-iframe"] iframe {
                                    height: 600px !important;
                                  }
                                `}),s.jsx(Xs,{value:I.attachment})]},L))})},O.id||k))}),!h&&u.length===0&&s.jsx(ae,{gap:"xs",children:s.jsx(W,{size:"sm",c:"dimmed",children:"No lab order requisition documents found."})})]}),x&&s.jsxs(s.Fragment,{children:[s.jsx(st,{}),s.jsxs(ae,{gap:"md",mb:"xl",children:[s.jsx(W,{fw:800,size:"md",children:"Order Entry Questions"}),E&&s.jsxs(se,{children:[s.jsx(tr,{size:"sm"}),s.jsx(W,{size:"sm",c:"dimmed",children:"Loading questionnaire response..."})]}),!E&&x&&s.jsx(ae,{gap:"sm",children:x.item&&x.item.length>0?x.item.map((O,k)=>s.jsxs(se,{align:"flex-start",style:{alignItems:"flex-start"},gap:"lg",children:[s.jsx("div",{style:{width:"150px",flexShrink:0},children:s.jsx(W,{fw:500,size:"sm",c:"dimmed",children:O.text||O.linkId||`Question ${k+1}`})}),s.jsx("div",{style:{flex:1},children:O.answer&&O.answer.length>0?s.jsx(ae,{gap:"xs",children:O.answer.map((I,L)=>{let V="No answer provided";return I.valueString?V=I.valueString:I.valueCoding?.display?V=I.valueCoding.display:I.valueCoding?.code?V=`${I.valueCoding.code}${I.valueCoding.display?` - ${I.valueCoding.display}`:""}`:I.valueBoolean!==void 0?V=I.valueBoolean.toString():I.valueInteger!==void 0?V=I.valueInteger.toString():I.valueDecimal!==void 0?V=I.valueDecimal.toString():I.valueDate?V=I.valueDate:I.valueDateTime?V=I.valueDateTime:I.valueTime?V=I.valueTime:I.valueUri?V=I.valueUri:I.valueQuantity?V=`${I.valueQuantity.value}${I.valueQuantity.unit?` ${I.valueQuantity.unit}`:""}`:I.valueReference?.display?V=I.valueReference.display:I.valueReference?.reference?V=I.valueReference.reference:I.valueAttachment?.title?V=I.valueAttachment.title:I.valueAttachment?.url&&(V=I.valueAttachment.url),s.jsx(W,{size:"sm",children:V},L)})}):s.jsx(W,{size:"sm",c:"dimmed",children:"No answer provided"})})]},k)):s.jsx(W,{size:"sm",c:"dimmed",children:"No questionnaire items found."})})]})]}),s.jsx(st,{}),s.jsxs(ae,{gap:"lg",mb:"xl",children:[s.jsx(W,{fw:800,size:"md",pb:"0",children:"Specimen Label"}),y&&s.jsxs(se,{children:[s.jsx(tr,{size:"sm"}),s.jsx(W,{size:"sm",c:"dimmed",children:"Loading specimen label documents..."})]}),!y&&m.length>0&&s.jsx(ae,{gap:"md",children:m.map((O,k)=>s.jsx(ae,{gap:"xs",children:O.content&&O.content.length>0&&s.jsx(ae,{gap:"xs",children:O.content.map((I,L)=>s.jsxs("div",{style:{height:"600px",borderRadius:"4px",overflow:"hidden",border:"1px solid #3C3C3C"},children:[s.jsx("style",{children:`
                                  div[data-testid="attachment-iframe"] {
                                    height: 600px !important;
                                  }
                                  div[data-testid="attachment-iframe"] iframe {
                                    height: 600px !important;
                                  }
                                `}),s.jsx(Xs,{value:I.attachment})]},L))})},O.id||k))}),!y&&m.length===0&&s.jsx(W,{size:"sm",c:"dimmed",children:"No specimen label documents found."})]})]}),R==="progress"&&s.jsx(ae,{gap:"md",children:s.jsx(ae,{p:"xl",align:"center",children:s.jsx(sh,{active:M.findIndex(O=>O.status==="current"),bulletSize:24,lineWidth:2,color:"green",styles:{root:{maxWidth:"400px"}},children:M.map((O,k)=>{const I=M[k+1],L=O.status==="current"&&I,V=O.status==="completed"&&I?.status==="completed",q=O.status==="completed"&&I?.status==="current",U=O.status==="pending"&&I?.status==="pending";return s.jsx(sh.Item,{lineVariant:L||U?"dotted":"solid",bullet:s.jsx(Lc,{size:32,radius:"xl",color:D(O.status),variant:"filled",style:{color:O.status==="pending"?"var(--mantine-color-gray-8)":void 0},"data-completed-to-completed":V?"true":void 0,"data-completed-to-current":q?"true":void 0,children:O.icon}),title:s.jsxs(se,{gap:"xs",align:"center",children:[s.jsx(W,{fw:O.status==="current"?600:500,size:"sm",children:O.title}),O.timestamp&&s.jsx(ya,{size:"xs",variant:"light",color:"gray",children:O.timestamp})]}),children:s.jsx(W,{size:"sm",c:"dimmed",children:O.description})},O.id)})})})}),R==="report"&&A&&s.jsxs(ae,{gap:"sm",mb:"xl",children:[A.result&&A.result.length>0&&s.jsx(ae,{pt:"md",children:s.jsx(ZR,{value:A.result,hideObservationNotes:!1})}),s.jsxs(ae,{mt:"md",children:[s.jsxs(se,{align:"flex-start",children:[s.jsx(W,{fw:500,size:"sm",style:{minWidth:"150px"},c:"dimmed",children:"Report Status"}),s.jsx(W,{size:"sm",style:{textTransform:"capitalize"},children:A.status})]}),A.issued&&s.jsxs(se,{align:"flex-start",children:[s.jsx(W,{fw:500,size:"sm",style:{minWidth:"150px"},c:"dimmed",children:"Issue Date"}),s.jsx(W,{size:"sm",children:bn(A.issued)})]}),A.conclusion&&s.jsxs(se,{align:"flex-start",children:[s.jsx(W,{fw:500,size:"sm",style:{minWidth:"150px"},c:"dimmed",children:"Interpretation"}),s.jsx(W,{size:"sm",children:A.conclusion})]})]}),A?.presentedForm&&A.presentedForm.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(st,{mt:"xl"}),s.jsxs(ae,{gap:"lg",mb:"xl",children:[s.jsx(W,{fw:800,size:"md",pb:"0",children:"Lab Document"}),s.jsx(ae,{gap:"md",children:A.presentedForm.map((O,k)=>s.jsx(ae,{gap:"xs",children:s.jsxs("div",{style:{height:"600px",borderRadius:"4px",overflow:"hidden",border:"1px solid #3C3C3C"},children:[s.jsx("style",{children:`
                              div[data-testid="attachment-iframe"] {
                                height: 600px !important;
                              }
                              div[data-testid="attachment-iframe"] iframe {
                                height: 600px !important;
                              }
                            `}),s.jsx(Xs,{value:O})]})},k))})]})]})]})]})]})})})}const dge=e=>{switch(e){case"active":return"blue";case"draft":case"requested":return"yellow";case"on-hold":return"orange";case"revoked":case"cancelled":case"entered-in-error":return"red";case"completed":return"green";case"unknown":return"gray";default:return"gray"}},fge=e=>{switch(e){case"active":return"Active";case"draft":return"Draft";case"requested":return"Requested";case"on-hold":return"On Hold";case"revoked":return"Revoked";case"cancelled":return"Cancelled";case"entered-in-error":return"Error";case"completed":return"Completed";case"unknown":return"Unknown";default:return e||"Unknown"}},hge="_borderRight_69kh1_1",pge="_button_69kh1_27",mge="_selected_69kh1_34",Bu={borderRight:hge,button:pge,selected:mge};function fN(){const{patientId:e,serviceRequestId:t}=ur(),n=gn(),r=_e(),[a,i]=b.useState("completed"),[l,u]=b.useState([]),[d,h]=b.useState([]),[p,m]=b.useState(!1),[g,y]=b.useState(!1),S=Vc(),x=b.useMemo(()=>S?Me(S):void 0,[S]),[C,E]=b.useState(),j=b.useCallback(async()=>{if(!x){Fe("Patient not found");return}try{const O=new URLSearchParams({subject:x,_count:"100",_sort:"-_lastUpdated",_fields:"_lastUpdated,code,status,orderDetail,category,subject,requester,performer,requisition,identifier,authoredOn,priority,reasonCode,note,supportingInfo,basedOn"}),k=await r.searchResources("ServiceRequest",O,{cache:"no-cache"});u(gge(k)),h(vge(k))}catch(O){Fe(O)}},[r,x]),R=b.useCallback(async()=>{m(!0);try{await j()}finally{m(!1)}},[j]);b.useEffect(()=>{e&&R().catch(Fe)},[e,R]);const _=b.useCallback(O=>`/Patient/${e}/ServiceRequest/${O.id}`,[e]);b.useEffect(()=>{(async()=>{if(t){const I=(a==="open"?l:d).find(L=>L.id===t);if(I)E(I);else{const L=await r.readResource("ServiceRequest",t);L&&E(L)}}else E(void 0)})().catch(Fe)},[a,l,d,t,r]);const A=O=>{i(O)},M=()=>{y(!1),R().then(()=>{i("open"),n(`/Patient/${e}/ServiceRequest`)?.catch(console.error)}).catch(Fe)},D=a==="completed"?d:l;return s.jsxs(te,{w:"100%",h:"100%",children:[s.jsxs($e,{h:"100%",children:[s.jsx(te,{w:350,h:"100%",children:s.jsxs($e,{direction:"column",h:"100%",className:Bu.borderRight,children:[s.jsx(Lt,{children:s.jsxs($e,{h:64,align:"center",justify:"space-between",p:"md",children:[s.jsxs(se,{gap:"xs",children:[s.jsx(Oe,{className:Rt(Bu.button,{[Bu.selected]:a==="completed"}),h:32,radius:"xl",onClick:()=>A("completed"),children:"Completed"}),s.jsx(Oe,{className:Rt(Bu.button,{[Bu.selected]:a==="open"}),h:32,radius:"xl",onClick:()=>A("open"),children:"Open"})]}),s.jsx(ft,{radius:"50%",variant:"filled",color:"blue",onClick:()=>y(!0),children:s.jsx(yl,{size:16})})]})}),s.jsx(st,{}),s.jsx(Lt,{style:{flex:1,overflow:"hidden"},children:s.jsxs(mn,{h:"100%",id:"lab-list-scrollarea",p:"0.5rem",children:[p&&s.jsx(bge,{}),!p&&D.length===0&&s.jsx(yge,{activeTab:a}),!p&&D.length>0&&D.map((O,k)=>s.jsxs(ne.Fragment,{children:[s.jsx(nge,{item:O,selectedItem:C,activeTab:a,onItemSelect:_}),k<D.length-1&&s.jsx(te,{px:"0.5rem",children:s.jsx(st,{})})]},O.id))]})})]})}),D.length>0?s.jsx(s.Fragment,{children:s.jsx(te,{h:"100%",style:{flex:1},className:Bu.borderRight,children:C?s.jsx(H7,{order:C},C.id):s.jsx(dN,{activeTab:"open"})})}):s.jsx($e,{direction:"column",h:"100%",style:{flex:1},children:s.jsx(dN,{activeTab:a})})]}),s.jsx(At,{opened:g,onClose:()=>y(!1),size:"xl",centered:!0,title:"Order Labs",children:s.jsx(b_,{onSubmitLabOrder:M})})]})}function gge(e){const t=["completed","draft","entered-in-error"],n=new Set;e.forEach(i=>{i.status==="completed"&&i.id&&n.add(i.id)});const r=new Set;return e.filter(i=>{if(t.includes(i.status||"")||i.basedOn&&i.basedOn.find(d=>{if(d.reference?.startsWith("ServiceRequest/")){const[,h]=d.reference.split("/");return n.has(h)}return!1}))return!1;const l=i.requisition?.value;return l&&r.has(l)?!1:(l&&r.add(l),!0)}).sort((i,l)=>{const u=i.meta?.lastUpdated||i.authoredOn,d=l.meta?.lastUpdated||l.authoredOn;return new Date(d||0).getTime()-new Date(u||0).getTime()})}function vge(e){const t=new Set;return e.filter(r=>{if(r.status!=="completed")return!1;const a=r.requisition?.value;return a&&t.has(a)?!1:(a&&t.add(a),!0)}).sort((r,a)=>{const i=r.meta?.lastUpdated||r.authoredOn,l=a.meta?.lastUpdated||a.authoredOn;return new Date(l||0).getTime()-new Date(i||0).getTime()})}function yge({activeTab:e}){return s.jsx($e,{direction:"column",h:"100%",justify:"center",align:"center",children:s.jsx(ae,{align:"center",gap:"md",pt:"xl",children:s.jsxs(W,{size:"md",c:"dimmed",fw:400,children:["No ",e," labs to display."]})})})}function bge(){return s.jsx(ae,{gap:"md",p:"md",children:Array.from({length:6}).map((e,t)=>s.jsxs(ae,{children:[s.jsxs($e,{direction:"column",gap:"xs",align:"flex-start",children:[s.jsx(vt,{height:16,width:`${Math.random()*40+60}%`}),s.jsx(vt,{height:14,width:`${Math.random()*50+40}%`}),s.jsx(vt,{height:14,width:`${Math.random()*50+40}%`})]}),s.jsx(st,{})]},t))})}const xge="_container_2xqhj_1",Sge="_sidebar_2xqhj_9",wge="_scrollArea_2xqhj_15",Cge="_content_2xqhj_19",tg={container:xge,sidebar:Sge,scrollArea:wge,content:Cge};function F7(e){return`/Patient/${e}`}function V7(e,t){return e?.id?`${F7(e.id)}${t.startsWith("/")?"":"/"}${t}`:t}function jge(e,t){return`${F7(e)}/${t.url.replace("%patient.id",e)}`}function Ege(e){const t=E7(e);return Tge.filter(n=>n.id!=="dosespot"||t)}const Tge=[{id:"timeline",url:"",label:"Timeline"},{id:"edit",url:"edit",label:"Edit"},{id:"encounter",url:"Encounter?_count=20&_fields=_lastUpdated,period,status,serviceType&_sort=-_lastUpdated&patient=%patient.id",label:"Visits"},{id:"tasks",url:"Task",label:"Tasks"},{id:"meds",url:"MedicationRequest?_fields=medication[x],intent,status&_offset=0&_sort=-_lastUpdated&patient=%patient.id",label:"Meds"},{id:"labs",url:"ServiceRequest",label:"Labs"},{id:"devices",url:"Device?_fields=manufacturer,deviceName,status,distinctIdentifier,serialNumber&_offset=0&_sort=-_lastUpdated&patient=%patient.id",label:"Devices"},{id:"documentreference",url:"DocumentReference?_fields=_lastUpdated,category,type,status,author&_offset=0&_sort=-_lastUpdated&patient=%patient.id",label:"Documents"},{id:"careplan",url:"CarePlan?_fields=_lastUpdated,status,intent,category,period&_sort=-_lastUpdated&patient=%patient.id",label:"Care Plans"},{id:"message",url:"Communication",label:"Messages"},{id:"dosespot",url:"dosespot",label:"DoseSpot"},{id:"export",url:"export",label:"Export"}];function Rge({tabs:e,currentTab:t,onTabChange:n}){return s.jsx(Lt,{w:"100%",children:s.jsx(zi,{value:t.toLowerCase(),onChange:n,children:s.jsx(zi.List,{style:{display:"flex",width:"100%",overflowX:"auto",overflowY:"hidden",flexWrap:"nowrap"},children:e.map(r=>s.jsx(zi.Tab,{value:r.id,children:r.label},r.id))})})})}function hN(e,t){const n=e.pathname.split("/")[3]??"";return n?t.find(a=>a.id===n||a.url.toLowerCase().startsWith(n.toLowerCase())):void 0}function _ge(){const e=gn(),t=Ya(),r=_e().getProjectMembership(),[a,i]=b.useState(),l=Vc({setOutcome:i}),[u,d]=b.useState(!1),h=Ege(r),[p,m]=b.useState(()=>(hN(t,h)??h[0]).id),g=b.useCallback(x=>{if(!l?.id){console.error("Not within a patient context");return}const C=x?h.find(E=>E.id===x):h[0];C&&(m(C.id),e(jge(l.id,C))?.catch(console.error))},[e,l?.id,h]);b.useEffect(()=>{const x=hN(t,h);x&&x.id!==p&&m(x.id)},[p,t,h]);const y=b.useCallback(()=>{d(!1)},[]);if(a&&!aR(a))return s.jsx(ol,{children:s.jsx(Bc,{outcome:a})});const S=l?.id;return S?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:tg.container,children:[s.jsx("div",{className:tg.sidebar,children:s.jsx(mn,{className:tg.scrollArea,children:s.jsx(My,{patient:l,onClickResource:x=>e(`/Patient/${S}/${x.resourceType}/${x.id}`)?.catch(console.error),onRequestLabs:()=>{d(!0)}})})}),s.jsxs("div",{className:tg.content,children:[s.jsx(Rge,{tabs:h,currentTab:p,onTabChange:g}),s.jsx(u_,{})]})]},Me(l)),s.jsx(At,{opened:u,onClose:y,size:"xl",centered:!0,title:"Order Labs",children:s.jsx(b_,{onSubmitLabOrder:y})})]}):s.jsx(ol,{children:s.jsx(tr,{})})}function S_(e,t){const n=_e(),r=b.useRef(e),[a,i]=b.useState();return b.useEffect(()=>{e!==r.current&&(r.current=e,i(void 0),e&&n.requestSchema(e).then(()=>{Wh(e)?i(e):(i(void 0),t?.onInvalidResourceType&&t.onInvalidResourceType(e))}).catch(console.error))},[n,t,e]),a}function Dge(){const e=_e(),t=Vc(),n=gn(),r=Ya(),[a,i]=b.useState();return S_(a?.resourceType,{onInvalidResourceType:()=>n("..")?.catch(console.error)}),b.useEffect(()=>{if(!t)return;const l=CR(r.pathname+r.search),u=Age(l);r.pathname===`/Patient/${t.id}/${u.resourceType}`&&r.search===Ks(u)?i(u):n(`/Patient/${t.id}/${u.resourceType}${Ks(u)}`)?.catch(console.error)},[e,t,n,r]),!t||!a?.resourceType||!a.fields||a.fields.length===0?s.jsx(Fi,{}):s.jsx(Lt,{shadow:"xs",m:"md",p:"xs",children:s.jsx(A$,{checkboxesEnabled:!0,search:a,onClick:l=>n(`/Patient/${t.id}/${l.resource.resourceType}/${l.resource.id}`)?.catch(console.error),onAuxClick:l=>window.open(`/Patient/${t.id}/${l.resource.resourceType}/${l.resource.id}`,"_blank"),onNew:()=>{n(V7(t,`/${a.resourceType}/new`))?.catch(console.error)},onChange:l=>{n(`/Patient/${t.id}/${a.resourceType}${Ks(l.definition)}`)?.catch(console.error)}})})}function Age(e){const t=e.fields??["_id","_lastUpdated"],n=e.offset??0,r=e.count??Kh;return{...e,fields:t,offset:n,count:r}}const Oge="_container_1q736_1",W7={container:Oge},kge="_borderRight_13sw5_9",Mge="_segmentedControl_13sw5_13",Pge="_button_13sw5_35",Nge="_selected_13sw5_42",Xl={borderRight:kge,segmentedControl:Mge,button:Pge,selected:Nge};var vh=(e=>(e.STATUS="status",e.OWNER="owner",e.PERFORMER_TYPE="performerType",e.PRIORITY="priority",e.PATIENT="patient",e))(vh||{});const Ige=["draft","requested","received","accepted","rejected","ready","cancelled","in-progress","on-hold","failed","completed"];function Lge(e){const{status:t,performerType:n,performerTypes:r,onFilterChange:a}=e,i=r?.filter((l,u,d)=>{const h=l.coding?.[0]?.code||l.text;return h&&d.findIndex(p=>(p.coding?.[0]?.code||p.text)===h)===u})||[];return s.jsxs(ye,{shadow:"md",width:200,position:"bottom-start",children:[s.jsx(ye.Target,{children:s.jsx(ft,{variant:"light",color:"gray",size:32,radius:"xl","aria-label":"Filter tasks",children:s.jsx(Vfe,{size:16})})}),s.jsxs(ye.Dropdown,{children:[s.jsx(ye.Label,{children:"Filters"}),s.jsx(ye.Item,{children:s.jsxs(ye,{trigger:"hover",openDelay:100,closeDelay:400,position:"right-start",offset:5,children:[s.jsx(ye.Target,{children:s.jsxs($e,{align:"center",justify:"space-between",w:"100%",children:[s.jsxs($e,{align:"center",gap:"xs",children:[s.jsx(C7,{size:16}),s.jsx(W,{size:"sm",children:"Status"})]}),s.jsx(Uj,{size:16})]})}),s.jsxs(ye.Dropdown,{children:[s.jsx(ye.Label,{children:"Task Status"}),Ige.map(l=>s.jsx(ye.Item,{onClick:()=>a?.(vh.STATUS,l),rightSection:t===l?s.jsx(mh,{size:16}):null,children:s.jsx(W,{size:"sm",children:l})},l))]})]})}),s.jsx(ye.Item,{children:s.jsxs(ye,{trigger:"hover",openDelay:100,closeDelay:400,position:"right-start",offset:5,children:[s.jsx(ye.Target,{children:s.jsxs($e,{align:"center",justify:"space-between",w:"100%",children:[s.jsxs($e,{align:"center",gap:"xs",children:[s.jsx(vhe,{size:16}),s.jsx(W,{size:"sm",children:"Performer Type"})]}),s.jsx(Uj,{size:16})]})}),s.jsxs(ye.Dropdown,{children:[s.jsx(ye.Label,{children:"Performer Types"}),i.length>0?i.map((l,u)=>s.jsx(ye.Item,{onClick:()=>a?.(vh.PERFORMER_TYPE,l),rightSection:n?.coding?.[0]?.code===l.coding?.[0]?.code?s.jsx(mh,{size:16}):null,children:s.jsx(W,{size:"sm",children:l.coding?.[0]?.display??l.coding?.[0]?.code??"Unknown"})},`${l.coding?.[0]?.code??u}`)):s.jsx(ye.Item,{disabled:!0,children:s.jsx(W,{size:"sm",c:"dimmed",children:"No performer types available"})})]})]})})]})]})}const zge="_content_1vkzb_1",$ge="_contentContainer_1vkzb_8",qge="_selected_1vkzb_13",bS={content:zge,contentContainer:$ge,selected:qge};function Uge(e){const{task:t,selectedTask:n,onSelectedItem:r}=e,a=n?.id===t.id,i=Dt(t.for),l=Dt(t.owner),u=t?.authoredOn?`from ${bn(t?.authoredOn)}`:"",d=r(t);return s.jsx(Sa,{to:d,c:"dark",children:s.jsx(se,{p:"xs",align:"center",wrap:"nowrap",className:Rt(bS.contentContainer,{[bS.selected]:a}),children:s.jsxs(ae,{gap:0,children:[s.jsx(W,{fw:700,className:bS.content,children:t.code?.text??`Task ${u}`}),t.restriction?.period&&s.jsxs(W,{fw:500,children:["Due ",bn(t.restriction?.period?.end)]}),i?.resourceType==="Patient"&&s.jsxs(W,{children:["For: ",Gn(i.name?.[0])]}),l?.resourceType==="Practitioner"&&s.jsxs(W,{size:"sm",children:["Assigned to ",Gn(l.name?.[0])]})]})})})}function Bge(e){const{notFound:t=!1}=e;return s.jsx($e,{direction:"row",h:"100%",w:"100%",children:s.jsx(yr,{h:"100%",w:"100%",children:s.jsxs(ae,{align:"center",gap:"md",children:[s.jsx(Lc,{size:64,variant:"light",color:"gray",children:s.jsx(y7,{size:32})}),s.jsxs(ae,{align:"center",gap:"xs",children:[s.jsx(W,{size:"lg",fw:500,c:"dimmed",children:t?"Task not found":"No task selected"}),!t&&s.jsx(W,{size:"sm",c:"dimmed",ta:"center",children:"Select a task from the list to view details, add notes, and manage properties"})]})]})})})}function Hge(e){const{opened:t,onClose:n,onTaskCreated:r}=e,a=_e(),i=Cr(),[l,u]=b.useState(""),[d,h]=b.useState(""),[p,m]=b.useState("order"),[g,y]=b.useState("draft"),[S,x]=b.useState("routine"),[C,E]=b.useState(),[j,R]=b.useState(),[_,A]=b.useState(),[M,D]=b.useState(),[O,k]=b.useState(),[I,L]=b.useState(!1),V=async()=>{if(!l.trim()){Vr.show({color:"red",icon:s.jsx(jc,{}),title:"Validation Error",message:"Task title is required"});return}L(!0);try{const U={resourceType:"Task",status:g,intent:p,priority:S,code:M||{text:l},description:d.trim()||void 0,for:_,authoredOn:new Date().toISOString(),requester:i?ke(i):void 0,owner:C,performerType:O?[O]:void 0,restriction:j?{period:{end:j}}:void 0},G=await a.createResource(U);Vr.show({icon:s.jsx(Uy,{}),title:"Success",message:"Task created successfully"}),r?.(G),q()}catch(U){Vr.show({color:"red",icon:s.jsx(jc,{}),title:"Error",message:Wt(U)})}finally{L(!1)}},q=()=>{u(""),h(""),m("order"),y("draft"),x("routine"),E(void 0),R(void 0),D(void 0),k(void 0),A(void 0),L(!1),n()};return s.jsx(At,{opened:t,onClose:q,size:"xl",title:"Create New Task",styles:{body:{padding:0,height:"70vh"}},children:s.jsxs(ae,{h:"100%",justify:"space-between",gap:0,children:[s.jsx(te,{flex:1,miw:0,children:s.jsxs(br,{p:"md",h:"100%",children:[s.jsx(br.Col,{span:6,pr:"lg",children:s.jsx(ae,{gap:"md",h:"100%",children:s.jsx(te,{children:s.jsxs(ae,{gap:"sm",children:[s.jsx(tt,{label:"Title",placeholder:"Enter task title",value:l,onChange:U=>u(U.currentTarget.value),required:!0,size:"md"}),s.jsx(ja,{label:"Description",placeholder:"Enter task description (optional)",value:d,onChange:U=>h(U.currentTarget.value),minRows:4,autosize:!0,maxRows:8})]})})})}),s.jsx(br.Col,{span:6,pl:"lg",children:s.jsx(ae,{gap:"md",h:"100%",children:s.jsx(te,{children:s.jsxs(ae,{gap:"sm",children:[s.jsx(il,{name:"status",label:"Status",binding:"http://hl7.org/fhir/ValueSet/task-status",maxValues:1,defaultValue:g,onChange:U=>y(U||"draft"),required:!0}),s.jsx(Ln,{name:"dueDate",label:"Due Date",placeholder:"Select due date (optional)",defaultValue:j,onChange:R}),s.jsx(il,{name:"priority",label:"Priority",binding:"http://hl7.org/fhir/ValueSet/request-priority",maxValues:1,defaultValue:S,onChange:U=>x(U||"routine")}),s.jsx(Mr,{resourceType:"Patient",name:"patient",label:"Patient",placeholder:"Select patient",defaultValue:_,onChange:U=>A(U?ke(U):void 0)}),s.jsxs(te,{children:[s.jsx(W,{size:"sm",fw:500,mb:"xs",children:"Assignee"}),s.jsx(Sc,{name:"assignee",targetTypes:["Practitioner","Organization"],placeholder:"Select assignee (optional)",onChange:U=>E(U)})]}),s.jsx(vi,{name:"performerType",label:"Performer Type",placeholder:"Select performer type (optional)",binding:"http://hl7.org/fhir/ValueSet/performer-role",maxValues:1,onChange:U=>k(U),path:"Task.performerType"})]})})})})]})}),s.jsxs(ae,{p:"md",children:[s.jsx(st,{}),s.jsx(Oe,{variant:"filled",w:"100%",onClick:V,loading:I,children:"Create Task"})]})]})})}function Fge(e){const t=/(https?:\/\/[^\s]+)/g;return e.split(t).map((r,a)=>t.test(r)?s.jsx(Ba,{href:r,target:"_blank",rel:"noopener noreferrer",children:r},a):r)}function Vge(e){const{note:t}=e,n=Dt(t.authorReference);return s.jsxs(ae,{gap:"md",pt:"sm",pb:"sm",children:[s.jsxs(se,{align:"center",gap:"xs",children:[s.jsx(wa,{value:t.authorReference,radius:"xl",size:36}),s.jsx(W,{fw:500,children:n&&nr(n)}),s.jsx(W,{children:Gr(t.time??"")})]}),s.jsx(W,{children:t.text?Fge(t.text):""}),s.jsx(st,{})]})}function Wge(e){const{task:t,allowEdit:n=!0,onTaskChange:r,onDeleteTask:a}=e,i=_e(),l=By(i),u=Cr(),d=Dt(t),[h,p]=b.useState(""),[m,g]=b.useState(!1),y=async()=>{if(!d)return;const j={text:h,authorReference:u&&ke(u),time:new Date().toISOString()},R=[...d.note||[],j];try{const _={...d,note:R};r?.(_),p("")}catch(_){Fe(_)}},S=()=>{g(!0)},x=async()=>{d&&(a?.(d),g(!1))},C=async()=>{if(d)try{const j={...d,status:"completed"};r?.(j),await l(j)}catch(j){Fe(j)}},E=Zo(async(j,R)=>{try{if(R.id)await i.updateResource(R);else{const _=await i.createResource(R),A=await i.updateResource({...j,output:[{type:{text:"QuestionnaireResponse"},valueReference:{reference:Me(_)}}]});r?.(A)}}catch(_){Fe(_)}},gh);return d?s.jsx($e,{direction:"column",h:"100%",children:s.jsxs(Lt,{h:"100%",children:[s.jsxs($e,{justify:"space-between",p:"lg",h:72,children:[s.jsx($e,{justify:"left",align:"center",direction:"row",pr:"md",children:s.jsxs(W,{size:"xl",fw:600,lh:1.2,children:[d.code?.text??"Task",d?.authoredOn&&` from ${bn(d?.authoredOn)}`]})}),n&&s.jsxs($e,{align:"center",gap:"md",children:[a&&s.jsx(ft,{variant:"outline",c:"dimmed",color:"gray","aria-label":"Delete Task",radius:"xl",w:36,h:36,onClick:()=>S(),children:s.jsx(Hj,{size:24})}),s.jsx(ft,{variant:d.status==="completed"?"filled":"outline",color:d.status==="completed"?"blue":"gray","aria-label":"Mark as Completed",radius:"xl",w:36,h:36,onClick:()=>C(),children:s.jsx(mh,{size:24})})]})]}),s.jsxs(mn,{w:"100%",h:"calc(100% - 70px)",p:"lg",children:[d.description&&s.jsxs(ae,{mb:"lg",children:[s.jsx(W,{size:"lg",children:d.description}),s.jsx(st,{})]}),s.jsxs(ae,{children:[d?.focus?.reference?.startsWith("Questionnaire/")&&s.jsxs(s.Fragment,{children:[s.jsxs(ae,{gap:0,children:[s.jsx(W,{size:"lg",fw:600,mb:"lg",children:"Related Questionnaire"}),s.jsx(lr,{withBorder:!0,shadow:"sm",p:"md",children:s.jsx(A7,{task:d,onChangeResponse:j=>E(d,j)},d.focus.reference)})]}),s.jsx(st,{})]}),s.jsxs(ae,{gap:0,children:[s.jsx(W,{size:"lg",fw:600,mb:"md",children:"Notes"}),d.note?.map((j,R)=>s.jsx(Vge,{note:j,index:R},j.id||R)),n&&s.jsxs(ae,{gap:"xs",children:[s.jsx(ja,{placeholder:"Add a note...",minRows:4,value:h??"",onChange:j=>p(j.currentTarget.value),autosize:!0}),s.jsx($e,{justify:"flex-end",children:s.jsx(Oe,{type:"submit",disabled:!h||h.trim()==="",onClick:y,children:"Submit"})})]})]})]})]}),s.jsx(At,{opened:m,onClose:()=>g(!1),title:"Delete Task",size:"md",centered:!0,children:s.jsxs(ae,{gap:"md",children:[s.jsx(W,{children:"Are you sure you want to delete this task? This action cannot be undone."}),s.jsxs(W,{fw:500,c:"dimmed",children:["Task: ",nr(d)]}),s.jsxs($e,{justify:"flex-end",gap:"sm",children:[s.jsx(Oe,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),s.jsx(Oe,{color:"red",onClick:x,children:"Delete"})]})]})})]})}):s.jsx(Fi,{})}function Gge(e){const{task:t,onTaskChange:n,...r}=e,[a,i]=b.useState(t),[l,u]=b.useState(a?.restriction?.period?.end);b.useEffect(()=>{i(t)},[t]);const d=async S=>{u(S),await y({...a,restriction:{...a?.restriction,period:{end:S}}})},h=async S=>{await y({...a,for:S})},p=async S=>{await y({...a,priority:S})},m=async S=>{await y({...a,owner:S})},g=async S=>{S&&await y({...a,status:S})},y=async S=>{n(S)};return s.jsx(Lt,{...r,children:s.jsxs($e,{direction:"column",gap:"lg",children:[s.jsxs(ae,{gap:"xs",children:[s.jsx(il,{name:"status",label:"Status",binding:"http://hl7.org/fhir/ValueSet/task-status",maxValues:1,defaultValue:a?.status,onChange:g},`${a?.status}-${a?.id}`),s.jsx(Ln,{name:"Due Date",placeholder:"End",label:"Due Date",defaultValue:l,onChange:d}),s.jsxs(ae,{gap:0,children:[s.jsx(W,{size:"sm",fw:500,children:"Assignee"}),s.jsx(Sc,{name:"owner",targetTypes:["Practitioner","Organization"],defaultValue:a?.owner?{reference:a.owner.reference}:void 0,onChange:async S=>{await m(S?{reference:S.reference}:void 0)}})]}),s.jsx(il,{name:"priority",label:"Priority",binding:"http://hl7.org/fhir/ValueSet/request-priority",maxValues:1,defaultValue:a?.priority?.toString(),onChange:S=>p(S??"")}),a?.basedOn&&a.basedOn.length>0?s.jsx(Mr,{label:"Based On",resourceType:a.basedOn[0].reference?.split("/").pop(),name:"basedOn-0",defaultValue:a.basedOn[0],disabled:!0}):s.jsxs(ae,{gap:0,children:[s.jsx(W,{size:"sm",fw:500,children:"Based On"}),s.jsx(Sc,{name:"basedOn",placeholder:"Select any resource...",onChange:async S=>{if(S?.reference){const x=[...a?.basedOn||[],S];await y({...a,basedOn:x})}}})]})]}),s.jsx(st,{}),s.jsxs(ae,{gap:"xs",pt:"md",children:[s.jsx(Mr,{label:"Patient",resourceType:"Patient",name:"patient",defaultValue:a?.for,onChange:async S=>{await h(S?{reference:Me(S)}:void 0)}}),a?.encounter&&s.jsx(Mr,{label:"Encounter",resourceType:"Encounter",name:"encounter",defaultValue:a.encounter})]})]})})}function G7(e){const{task:t,onTaskChange:n,onDeleteTask:r}=e,a=_e(),i=Dt(t),[l,u]=b.useState(i),[d,h]=b.useState("properties");b.useEffect(()=>{i&&u(i)},[i]);const p=l?.for,m=Dt(p),g=By(a);if(!l)return s.jsx(te,{h:"100%",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(W,{c:"dimmed",children:"No task selected"})});const y=async E=>{u(E),n?.(E),await g(E)},S=async E=>{try{await a.deleteResource("Task",E.id),r?.(E)}catch(j){Fe(j)}},x=E=>{h(E)},C=()=>{const E=[{label:"Properties",value:"properties"},{label:"Activity Log",value:"activity-log"}];return m&&E.push({label:"Patient Summary",value:"patient-summary"}),E};return s.jsxs(s.Fragment,{children:[s.jsx(te,{h:"100%",style:{flex:1},className:Xl.borderRight,children:s.jsx(Wge,{task:l,onTaskChange:y,onDeleteTask:r?S:void 0})}),s.jsx(te,{h:"100%",w:"400px",children:s.jsxs(Lt,{h:"100%",style:{overflow:"hidden"},children:[s.jsx(te,{px:"md",pb:"md",pt:"md",children:s.jsx(tl,{value:d,onChange:x,data:C(),fullWidth:!0,radius:"md",color:"gray",size:"sm",className:Xl.segmentedControl})}),s.jsxs(te,{children:[d==="properties"&&s.jsx(mn,{h:"calc(100vh - 120px)",children:s.jsx(Gge,{p:"md",task:l,onTaskChange:y},l.id)}),d==="activity-log"&&s.jsx(mn,{h:"calc(100vh - 120px)",children:s.jsx(T$,{value:l,loadTimelineResources:async(E,j,R)=>Promise.allSettled([E.readHistory("Task",R)])})}),d==="patient-summary"&&m?.resourceType==="Patient"&&s.jsx(mn,{h:"calc(100vh - 120px)",children:s.jsx(My,{patient:m})})]})]})})]})}function Y7(e){const{query:t,selectedTaskId:n,onTaskChange:r,onDeleteTask:a,onSelectedItem:i}=e,l=_e(),u=Cr(),d=gn(),[h,p]=b.useState([]),[m,g]=b.useState(void 0),[y,S]=b.useState(!1),x=b.useMemo(()=>u?ke(u):void 0,[u]),[C,E]=b.useState([]),[j,R]=b.useState(!1),[_,A]=b.useState(1),[M,D]=b.useState(void 0),[O,k]=b.useState({showMyTasks:!0,status:void 0,performerType:void 0}),I=20,L=b.useCallback(async()=>{const $=new URLSearchParams(t);x&&O.showMyTasks&&$.append("owner",Me(x)),O.status&&$.append("status",O.status);const Y=(_-1)*I;$.append("_offset",Y.toString()),$.append("_count",I.toString()),$.append("_total","accurate");const X=await l.search("Task",$.toString(),{cache:"no-cache"});let H=[];X.entry&&(H=X.entry.map(Q=>Q.resource).filter(Q=>Q!==void 0)),X.total!==void 0&&D(X.total);const F=H.flatMap(Q=>Q.performerType||[]);O.performerType&&(H=H.filter(Q=>Q.performerType?.[0]?.coding?.[0]?.code===O.performerType?.coding?.[0]?.code)),E(F),p(H)},[l,x,O,t,_,I]);b.useEffect(()=>{S(!0),L().catch(Fe).finally(()=>S(!1))},[l,x,O,t,L]),b.useEffect(()=>{(async()=>{if(n){const Y=h.find(X=>X.id===n);if(Y)g(Y);else{const X=await l.readResource("Task",n);g(X)}}else g(void 0)})().catch(()=>{g(void 0)})},[n,h,l,d]);const V=$=>{L().catch(Fe),q($).catch(Fe)},q=async $=>{p(h.map(Y=>Y.id===$.id?$:Y)),r($),g($)},U=async $=>{p(h.filter(Y=>Y.id!==$.id)),a($)},G=($,Y)=>{switch(A(1),$){case vh.STATUS:k(X=>({...X,status:X.status!==Y?Y:void 0}));break;case vh.PERFORMER_TYPE:{const X=O.performerType?.coding?.[0]?.code,H=Y?.coding?.[0]?.code;k(F=>({...F,performerType:X!==H?Y:void 0}));break}}},N=$=>{A(1),k({showMyTasks:$,status:void 0,performerType:void 0})},z=M!==void 0?Math.ceil(M/I):1;return s.jsxs(te,{w:"100%",h:"100%",children:[s.jsxs($e,{h:"100%",children:[s.jsx(te,{w:350,h:"100%",children:s.jsxs($e,{direction:"column",h:"100%",className:Xl.borderRight,children:[s.jsx(Lt,{children:s.jsxs($e,{h:64,align:"center",justify:"space-between",p:"md",children:[s.jsxs(se,{gap:"xs",children:[s.jsx(Oe,{className:Rt(Xl.button,{[Xl.selected]:O.showMyTasks}),h:32,radius:"xl",onClick:()=>N(!0),children:"My Tasks"}),s.jsx(Oe,{className:Rt(Xl.button,{[Xl.selected]:!O.showMyTasks}),h:32,radius:"xl",onClick:()=>N(!1),children:"All Tasks"}),s.jsx(Lge,{status:O.status,performerType:O.performerType,performerTypes:C,onFilterChange:G})]}),s.jsx(ft,{radius:"50%",variant:"filled",color:"blue",onClick:()=>R(!0),children:s.jsx(yl,{size:16})})]})}),s.jsx(st,{}),s.jsxs(Lt,{style:{flex:1,overflow:"hidden",display:"flex",flexDirection:"column"},children:[s.jsxs(mn,{style:{flex:1},id:"task-list-scrollarea",children:[y&&s.jsx(Qge,{}),!y&&h.length===0&&s.jsx(Yge,{}),!y&&h.length>0&&h.map(($,Y)=>s.jsxs(ne.Fragment,{children:[s.jsx(Uge,{task:$,selectedTask:m,onSelectedItem:i}),Y<h.length-1&&s.jsx(st,{})]},$.id))]}),!y&&M!==void 0&&M>I&&s.jsx(te,{p:"md",children:s.jsx(yr,{children:s.jsx(Wa,{value:_,total:z,onChange:A,size:"sm",siblings:1,boundaries:1})})})]})]})}),m?s.jsx(G7,{task:m,onTaskChange:q,onDeleteTask:U}):s.jsx($e,{direction:"column",h:"100%",style:{flex:1},children:s.jsx(Bge,{})})]}),s.jsx(Hge,{opened:j,onClose:()=>R(!1),onTaskCreated:V})]})}function Yge(){return s.jsx($e,{direction:"column",h:"100%",justify:"center",align:"center",children:s.jsxs(ae,{align:"center",gap:"md",pt:"xl",children:[s.jsx(y7,{size:64,color:"var(--mantine-color-gray-4)"}),s.jsx(W,{size:"lg",c:"dimmed",fw:500,children:"No tasks found"})]})})}function Qge(){return s.jsx(ae,{gap:"md",p:"md",children:Array.from({length:6}).map((e,t)=>s.jsxs(ae,{children:[s.jsxs($e,{direction:"column",gap:"xs",align:"flex-start",children:[s.jsx(vt,{height:16,width:`${Math.random()*40+60}%`}),s.jsx(vt,{height:14,width:`${Math.random()*50+40}%`}),s.jsx(vt,{height:14,width:`${Math.random()*50+40}%`})]}),s.jsx(st,{})]},t))})}function pN(){const{patientId:e,taskId:t}=ur(),n=gn(),r=l=>`/Patient/${e}/Task/${l.id}`,a=l=>{n(r(l))?.catch(console.error)},i=l=>{n(`/Patient/${e}/Task`)?.catch(console.error)};return s.jsx("div",{className:W7.container,children:s.jsx(Y7,{query:`patient=Patient/${e}&_sort=-_lastUpdated`,selectedTaskId:t,onTaskChange:a,onDeleteTask:i,onSelectedItem:r})})}function mN(){const e=Vc();return e?s.jsx(bce,{patient:e}):s.jsx(tr,{})}const Kge={Task:["for"],MedicationRequest:["subject"],ServiceRequest:["subject"],Device:["patient"],DiagnosticReport:["subject"],DocumentReference:["subject"],Appointment:["participant.actor"],CarePlan:["subject"]};function gN(e,t){const n={resourceType:e},r=Kge[e];if(t&&r)for(const a of r){const i=a.split(".");if(i.length===1)n[a]=ke(t);else if(i.length===2){const[l,u]=i;n[l]=[{[u]:ke(t)}]}else throw new Error("Can only process keys with one or two parts")}return n}function Xge(e){const t=e.split("/");if(t.length>=3&&t[2]==="new")return t[1]}function xS(){const e=_e(),[t,n]=b.useState(),r=Vc({ignoreMissingPatientId:!0,setOutcome:n}),a=gn(),i=ur(),l=i.resourceType||Xge(location.pathname),u=i.patientId,[d,h]=b.useState(!!u),[p,m]=b.useState(()=>l?gN(l,r):{}),g=l&&Hy[l];b.useEffect(()=>{r&&l&&m(gN(l,r)),h(!1)},[r,l]);const y=S=>{t&&n(void 0),e.createResource(S).then(x=>a(V7(r,"/"+x.resourceType+"/"+x.id))).catch(x=>{n&&n(kr(x)),bt({color:"red",message:Wt(x),autoClose:!1,styles:{description:{whiteSpace:"pre-line"}}})})};return d?s.jsx(Fi,{}):s.jsx(ol,{shadow:"xs",children:s.jsxs(ae,{children:[s.jsxs(W,{fw:500,children:["NewÂ ",l]}),s.jsx(x_,{defaultValue:p,onSubmit:y,outcome:t,profileUrl:g})]})})}function vN(){const{resourceType:e,id:t}=ur(),n=Dt({reference:e+"/"+t});return n?s.jsxs(ae,{children:[s.jsx(cr,{children:nr(n)}),s.jsx(Ay,{value:n},`${e}/${t}`)]}):null}function yN(){const e=_e(),{resourceType:t,id:n}=ur(),[r,a]=b.useState(),i=gn(),[l,u]=b.useState(),d=t&&Hy[t];b.useEffect(()=>{t&&n&&e.readResource(t,n).then(m=>a(Hi(m))).catch(m=>{u(kr(m)),bt({color:"red",message:Wt(m),autoClose:!1})})},[e,t,n]);const h=b.useCallback(m=>{u(void 0),e.updateResource(m).then(()=>{i("..")?.catch(console.error),bt({color:"green",message:"Success"})}).catch(g=>{u(kr(g)),bt({color:"red",message:Wt(g),autoClose:!1})})},[e,i]),p=b.useCallback(()=>i("..")?.catch(console.error),[i]);return r?s.jsx(x_,{defaultValue:r,onSubmit:h,onDelete:p,outcome:l,profileUrl:d}):null}function bN(){const{resourceType:e,id:t}=ur();return!e||!t?null:s.jsx(Uce,{resourceType:e,id:t},`${e}/${t}`)}const Zge="_tab_1897b_1",Jge={tab:Zge},eve=["Details","Edit","History"];function xN(){const e=gn(),t=_e(),{resourceType:n,id:r}=ur(),[a,i]=b.useState(void 0);return S_(n,{onInvalidResourceType:()=>e("..")?.catch(console.error)}),b.useEffect(()=>{n&&r&&t.readResource(n,r).then(i).catch(console.error)},[t,n,r,e]),a?s.jsx(ol,{children:s.jsxs(ae,{children:[s.jsx(Ple,{variant:"pills",baseUrl:`/${n}/${r}`,tabs:eve,classNames:Jge}),s.jsx(u_,{})]})},Me(a)):null}var Sg={exports:{}},tve=Sg.exports,SN;function nve(){return SN||(SN=1,(function(e,t){(function(n,r){e.exports=r()})(tve,(function(){var n=1e3,r=6e4,a=36e5,i="millisecond",l="second",u="minute",d="hour",h="day",p="week",m="month",g="quarter",y="year",S="date",x="Invalid Date",C=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,E=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,j={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(U){var G=["th","st","nd","rd"],N=U%100;return"["+U+(G[(N-20)%10]||G[N]||G[0])+"]"}},R=function(U,G,N){var z=String(U);return!z||z.length>=G?U:""+Array(G+1-z.length).join(N)+U},_={s:R,z:function(U){var G=-U.utcOffset(),N=Math.abs(G),z=Math.floor(N/60),$=N%60;return(G<=0?"+":"-")+R(z,2,"0")+":"+R($,2,"0")},m:function U(G,N){if(G.date()<N.date())return-U(N,G);var z=12*(N.year()-G.year())+(N.month()-G.month()),$=G.clone().add(z,m),Y=N-$<0,X=G.clone().add(z+(Y?-1:1),m);return+(-(z+(N-$)/(Y?$-X:X-$))||0)},a:function(U){return U<0?Math.ceil(U)||0:Math.floor(U)},p:function(U){return{M:m,y,w:p,d:h,D:S,h:d,m:u,s:l,ms:i,Q:g}[U]||String(U||"").toLowerCase().replace(/s$/,"")},u:function(U){return U===void 0}},A="en",M={};M[A]=j;var D="$isDayjsObject",O=function(U){return U instanceof V||!(!U||!U[D])},k=function U(G,N,z){var $;if(!G)return A;if(typeof G=="string"){var Y=G.toLowerCase();M[Y]&&($=Y),N&&(M[Y]=N,$=Y);var X=G.split("-");if(!$&&X.length>1)return U(X[0])}else{var H=G.name;M[H]=G,$=H}return!z&&$&&(A=$),$||!z&&A},I=function(U,G){if(O(U))return U.clone();var N=typeof G=="object"?G:{};return N.date=U,N.args=arguments,new V(N)},L=_;L.l=k,L.i=O,L.w=function(U,G){return I(U,{locale:G.$L,utc:G.$u,x:G.$x,$offset:G.$offset})};var V=(function(){function U(N){this.$L=k(N.locale,null,!0),this.parse(N),this.$x=this.$x||N.x||{},this[D]=!0}var G=U.prototype;return G.parse=function(N){this.$d=(function(z){var $=z.date,Y=z.utc;if($===null)return new Date(NaN);if(L.u($))return new Date;if($ instanceof Date)return new Date($);if(typeof $=="string"&&!/Z$/i.test($)){var X=$.match(C);if(X){var H=X[2]-1||0,F=(X[7]||"0").substring(0,3);return Y?new Date(Date.UTC(X[1],H,X[3]||1,X[4]||0,X[5]||0,X[6]||0,F)):new Date(X[1],H,X[3]||1,X[4]||0,X[5]||0,X[6]||0,F)}}return new Date($)})(N),this.init()},G.init=function(){var N=this.$d;this.$y=N.getFullYear(),this.$M=N.getMonth(),this.$D=N.getDate(),this.$W=N.getDay(),this.$H=N.getHours(),this.$m=N.getMinutes(),this.$s=N.getSeconds(),this.$ms=N.getMilliseconds()},G.$utils=function(){return L},G.isValid=function(){return this.$d.toString()!==x},G.isSame=function(N,z){var $=I(N);return this.startOf(z)<=$&&$<=this.endOf(z)},G.isAfter=function(N,z){return I(N)<this.startOf(z)},G.isBefore=function(N,z){return this.endOf(z)<I(N)},G.$g=function(N,z,$){return L.u(N)?this[z]:this.set($,N)},G.unix=function(){return Math.floor(this.valueOf()/1e3)},G.valueOf=function(){return this.$d.getTime()},G.startOf=function(N,z){var $=this,Y=!!L.u(z)||z,X=L.p(N),H=function(Se,Ye){var Je=L.w($.$u?Date.UTC($.$y,Ye,Se):new Date($.$y,Ye,Se),$);return Y?Je:Je.endOf(h)},F=function(Se,Ye){return L.w($.toDate()[Se].apply($.toDate("s"),(Y?[0,0,0,0]:[23,59,59,999]).slice(Ye)),$)},Q=this.$W,J=this.$M,re=this.$D,de="set"+(this.$u?"UTC":"");switch(X){case y:return Y?H(1,0):H(31,11);case m:return Y?H(1,J):H(0,J+1);case p:var Ee=this.$locale().weekStart||0,Re=(Q<Ee?Q+7:Q)-Ee;return H(Y?re-Re:re+(6-Re),J);case h:case S:return F(de+"Hours",0);case d:return F(de+"Minutes",1);case u:return F(de+"Seconds",2);case l:return F(de+"Milliseconds",3);default:return this.clone()}},G.endOf=function(N){return this.startOf(N,!1)},G.$set=function(N,z){var $,Y=L.p(N),X="set"+(this.$u?"UTC":""),H=($={},$[h]=X+"Date",$[S]=X+"Date",$[m]=X+"Month",$[y]=X+"FullYear",$[d]=X+"Hours",$[u]=X+"Minutes",$[l]=X+"Seconds",$[i]=X+"Milliseconds",$)[Y],F=Y===h?this.$D+(z-this.$W):z;if(Y===m||Y===y){var Q=this.clone().set(S,1);Q.$d[H](F),Q.init(),this.$d=Q.set(S,Math.min(this.$D,Q.daysInMonth())).$d}else H&&this.$d[H](F);return this.init(),this},G.set=function(N,z){return this.clone().$set(N,z)},G.get=function(N){return this[L.p(N)]()},G.add=function(N,z){var $,Y=this;N=Number(N);var X=L.p(z),H=function(J){var re=I(Y);return L.w(re.date(re.date()+Math.round(J*N)),Y)};if(X===m)return this.set(m,this.$M+N);if(X===y)return this.set(y,this.$y+N);if(X===h)return H(1);if(X===p)return H(7);var F=($={},$[u]=r,$[d]=a,$[l]=n,$)[X]||1,Q=this.$d.getTime()+N*F;return L.w(Q,this)},G.subtract=function(N,z){return this.add(-1*N,z)},G.format=function(N){var z=this,$=this.$locale();if(!this.isValid())return $.invalidDate||x;var Y=N||"YYYY-MM-DDTHH:mm:ssZ",X=L.z(this),H=this.$H,F=this.$m,Q=this.$M,J=$.weekdays,re=$.months,de=$.meridiem,Ee=function(Ye,Je,Ve,ze){return Ye&&(Ye[Je]||Ye(z,Y))||Ve[Je].slice(0,ze)},Re=function(Ye){return L.s(H%12||12,Ye,"0")},Se=de||function(Ye,Je,Ve){var ze=Ye<12?"AM":"PM";return Ve?ze.toLowerCase():ze};return Y.replace(E,(function(Ye,Je){return Je||(function(Ve){switch(Ve){case"YY":return String(z.$y).slice(-2);case"YYYY":return L.s(z.$y,4,"0");case"M":return Q+1;case"MM":return L.s(Q+1,2,"0");case"MMM":return Ee($.monthsShort,Q,re,3);case"MMMM":return Ee(re,Q);case"D":return z.$D;case"DD":return L.s(z.$D,2,"0");case"d":return String(z.$W);case"dd":return Ee($.weekdaysMin,z.$W,J,2);case"ddd":return Ee($.weekdaysShort,z.$W,J,3);case"dddd":return J[z.$W];case"H":return String(H);case"HH":return L.s(H,2,"0");case"h":return Re(1);case"hh":return Re(2);case"a":return Se(H,F,!0);case"A":return Se(H,F,!1);case"m":return String(F);case"mm":return L.s(F,2,"0");case"s":return String(z.$s);case"ss":return L.s(z.$s,2,"0");case"SSS":return L.s(z.$ms,3,"0");case"Z":return X}return null})(Ye)||X.replace(":","")}))},G.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},G.diff=function(N,z,$){var Y,X=this,H=L.p(z),F=I(N),Q=(F.utcOffset()-this.utcOffset())*r,J=this-F,re=function(){return L.m(X,F)};switch(H){case y:Y=re()/12;break;case m:Y=re();break;case g:Y=re()/3;break;case p:Y=(J-Q)/6048e5;break;case h:Y=(J-Q)/864e5;break;case d:Y=J/a;break;case u:Y=J/r;break;case l:Y=J/n;break;default:Y=J}return $?Y:L.a(Y)},G.daysInMonth=function(){return this.endOf(m).$D},G.$locale=function(){return M[this.$L]},G.locale=function(N,z){if(!N)return this.$L;var $=this.clone(),Y=k(N,z,!0);return Y&&($.$L=Y),$},G.clone=function(){return L.w(this.$d,this)},G.toDate=function(){return new Date(this.valueOf())},G.toJSON=function(){return this.isValid()?this.toISOString():null},G.toISOString=function(){return this.$d.toISOString()},G.toString=function(){return this.$d.toUTCString()},U})(),q=V.prototype;return I.prototype=q,[["$ms",i],["$s",l],["$m",u],["$H",d],["$W",h],["$M",m],["$y",y],["$D",S]].forEach((function(U){q[U[1]]=function(G){return this.$g(G,U[0],U[1])}})),I.extend=function(U,G){return U.$i||(U(G,V,I),U.$i=!0),I},I.locale=k,I.isDayjs=O,I.unix=function(U){return I(1e3*U)},I.en=M[A],I.Ls=M,I.p={},I}))})(Sg)),Sg.exports}var rve=nve();const Vl=Rn(rve);var wg={exports:{}},ave=wg.exports,wN;function ive(){return wN||(wN=1,(function(e,t){(function(n,r){e.exports=r()})(ave,(function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function(a,i,l){var u,d=function(g,y,S){S===void 0&&(S={});var x=new Date(g),C=(function(E,j){j===void 0&&(j={});var R=j.timeZoneName||"short",_=E+"|"+R,A=r[_];return A||(A=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:E,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:R}),r[_]=A),A})(y,S);return C.formatToParts(x)},h=function(g,y){for(var S=d(g,y),x=[],C=0;C<S.length;C+=1){var E=S[C],j=E.type,R=E.value,_=n[j];_>=0&&(x[_]=parseInt(R,10))}var A=x[3],M=A===24?0:A,D=x[0]+"-"+x[1]+"-"+x[2]+" "+M+":"+x[4]+":"+x[5]+":000",O=+g;return(l.utc(D).valueOf()-(O-=O%1e3))/6e4},p=i.prototype;p.tz=function(g,y){g===void 0&&(g=u);var S,x=this.utcOffset(),C=this.toDate(),E=C.toLocaleString("en-US",{timeZone:g}),j=Math.round((C-new Date(E))/1e3/60),R=15*-Math.round(C.getTimezoneOffset()/15)-j;if(!Number(R))S=this.utcOffset(0,y);else if(S=l(E,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(R,!0),y){var _=S.utcOffset();S=S.add(x-_,"minute")}return S.$x.$timezone=g,S},p.offsetName=function(g){var y=this.$x.$timezone||l.tz.guess(),S=d(this.valueOf(),y,{timeZoneName:g}).find((function(x){return x.type.toLowerCase()==="timezonename"}));return S&&S.value};var m=p.startOf;p.startOf=function(g,y){if(!this.$x||!this.$x.$timezone)return m.call(this,g,y);var S=l(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return m.call(S,g,y).tz(this.$x.$timezone,!0)},l.tz=function(g,y,S){var x=S&&y,C=S||y||u,E=h(+l(),C);if(typeof g!="string")return l(g).tz(C);var j=(function(M,D,O){var k=M-60*D*1e3,I=h(k,O);if(D===I)return[k,D];var L=h(k-=60*(I-D)*1e3,O);return I===L?[k,I]:[M-60*Math.min(I,L)*1e3,Math.max(I,L)]})(l.utc(g,x).valueOf(),E,C),R=j[0],_=j[1],A=l(R).utcOffset(_);return A.$x.$timezone=C,A},l.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},l.tz.setDefault=function(g){u=g}}}))})(wg)),wg.exports}var ove=ive();const sve=Rn(ove);var Cg={exports:{}},lve=Cg.exports,CN;function cve(){return CN||(CN=1,(function(e,t){(function(n,r){e.exports=r()})(lve,(function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(i,l,u){var d=l.prototype;u.utc=function(x){var C={date:x,utc:!0,args:arguments};return new l(C)},d.utc=function(x){var C=u(this.toDate(),{locale:this.$L,utc:!0});return x?C.add(this.utcOffset(),n):C},d.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var h=d.parse;d.parse=function(x){x.utc&&(this.$u=!0),this.$utils().u(x.$offset)||(this.$offset=x.$offset),h.call(this,x)};var p=d.init;d.init=function(){if(this.$u){var x=this.$d;this.$y=x.getUTCFullYear(),this.$M=x.getUTCMonth(),this.$D=x.getUTCDate(),this.$W=x.getUTCDay(),this.$H=x.getUTCHours(),this.$m=x.getUTCMinutes(),this.$s=x.getUTCSeconds(),this.$ms=x.getUTCMilliseconds()}else p.call(this)};var m=d.utcOffset;d.utcOffset=function(x,C){var E=this.$utils().u;if(E(x))return this.$u?0:E(this.$offset)?m.call(this):this.$offset;if(typeof x=="string"&&(x=(function(A){A===void 0&&(A="");var M=A.match(r);if(!M)return null;var D=(""+M[0]).match(a)||["-",0,0],O=D[0],k=60*+D[1]+ +D[2];return k===0?0:O==="+"?k:-k})(x),x===null))return this;var j=Math.abs(x)<=16?60*x:x;if(j===0)return this.utc(C);var R=this.clone();if(C)return R.$offset=j,R.$u=!1,R;var _=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(R=this.local().add(j+_,n)).$offset=j,R.$x.$localOffset=_,R};var g=d.format;d.format=function(x){var C=x||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return g.call(this,C)},d.valueOf=function(){var x=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*x},d.isUTC=function(){return!!this.$u},d.toISOString=function(){return this.toDate().toISOString()},d.toString=function(){return this.toDate().toUTCString()};var y=d.toDate;d.toDate=function(x){return x==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():y.call(this)};var S=d.diff;d.diff=function(x,C,E){if(x&&this.$u===x.$u)return S.call(this,x,C,E);var j=this.local(),R=u(x).local();return S.call(j,R,C,E)}}}))})(Cg)),Cg.exports}var uve=cve();const Q7=Rn(uve);function ns(e){"@babel/helpers - typeof";return ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ns(e)}function dve(e,t){if(ns(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ns(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K7(e){var t=dve(e,"string");return ns(t)=="symbol"?t:t+""}function Zl(e,t,n){return(t=K7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(n),!0).forEach(function(r){Zl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Co(e,t){if(e==null)return{};var n,r,a=Nc(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function dr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,K7(r.key),r)}}function fr(e,t,n){return t&&EN(e.prototype,t),n&&EN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function uv(e){return uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uv(e)}function X7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X7=function(){return!!e})()}function fve(e,t){if(t&&(ns(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M6(e)}function Yr(e,t,n){return t=uv(t),fve(e,X7()?Reflect.construct(t,n||[],uv(e).constructor):t.apply(e,n))}function Qr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fg(e,t)}function Z7(e){if(Array.isArray(e))return e}function hve(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,l,u=[],d=!0,h=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw a}}return u}}function Wj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function w_(e,t){if(e){if(typeof e=="string")return Wj(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wj(e,t):void 0}}function J7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fi(e,t){return Z7(e)||hve(e,t)||w_(e,t)||J7()}function e8(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=e8(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function zn(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=e8(e))&&(r&&(r+=" "),r+=t);return r}var SS,TN;function pve(){if(TN)return SS;TN=1;var e=function(t,n,r,a,i,l,u,d){if(!t){var h;if(n===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[r,a,i,l,u,d],m=0;h=new Error(n.replace(/%s/g,function(){return p[m++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}};return SS=e,SS}var mve=pve();const yh=Rn(mve);var gve=function(){};function vve(e,t){var n={};return Object.keys(e).forEach(function(r){n[jg(r)]=gve}),n}function RN(e,t){return e[t]!==void 0}function jg(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function yve(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function t8(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function n8(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function r8(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}t8.__suppressDeprecationWarning=!0;n8.__suppressDeprecationWarning=!0;r8.__suppressDeprecationWarning=!0;function bve(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,a=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),n!==null||r!==null||a!==null){var i=e.displayName||e.name,l=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+l+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=t8,t.componentWillReceiveProps=n8),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=r8;var u=t.componentDidUpdate;t.componentDidUpdate=function(h,p,m){var g=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:m;u.call(this,h,p,g)}}return e}var xve="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function a8(e,t,n){n===void 0&&(n=[]);var r=e.displayName||e.name||"Component",a=yve(e),i=Object.keys(t),l=i.map(jg);a||!n.length||yh(!1);var u=(function(h){eR(p,h);function p(){for(var g,y=arguments.length,S=new Array(y),x=0;x<y;x++)S[x]=arguments[x];g=h.call.apply(h,[this].concat(S))||this,g.handlers=Object.create(null),i.forEach(function(E){var j=t[E],R=function(A){if(g.props[j]){var M;g._notifying=!0;for(var D=arguments.length,O=new Array(D>1?D-1:0),k=1;k<D;k++)O[k-1]=arguments[k];(M=g.props)[j].apply(M,[A].concat(O)),g._notifying=!1}g.unmounted||g.setState(function(I){var L,V=I.values;return{values:Tn(Object.create(null),V,(L={},L[E]=A,L))}})};g.handlers[j]=R}),n.length&&(g.attachRef=function(E){g.inner=E});var C=Object.create(null);return i.forEach(function(E){C[E]=g.props[jg(E)]}),g.state={values:C,prevProps:{}},g}var m=p.prototype;return m.shouldComponentUpdate=function(){return!this._notifying},p.getDerivedStateFromProps=function(y,S){var x=S.values,C=S.prevProps,E={values:Tn(Object.create(null),x),prevProps:{}};return i.forEach(function(j){E.prevProps[j]=y[j],!RN(y,j)&&RN(C,j)&&(E.values[j]=y[jg(j)])}),E},m.componentWillUnmount=function(){this.unmounted=!0},m.render=function(){var y=this,S=this.props,x=S.innerRef,C=Nc(S,["innerRef"]);l.forEach(function(j){delete C[j]});var E={};return i.forEach(function(j){var R=y.props[j];E[j]=R!==void 0?R:y.state.values[j]}),ne.createElement(e,Tn({},C,E,this.handlers,{ref:x||this.attachRef}))},p})(ne.Component);bve(u),u.displayName="Uncontrolled("+r+")",u.propTypes=Tn({innerRef:function(){}},vve(t)),n.forEach(function(h){u.prototype[h]=function(){var m;return(m=this.inner)[h].apply(m,arguments)}});var d=u;return ne.forwardRef&&(d=ne.forwardRef(function(h,p){return ne.createElement(u,Tn({},h,{innerRef:p,__source:{fileName:xve,lineNumber:128},__self:this}))}),d.propTypes=u.propTypes),d.ControlledComponent=e,d.deferControlTo=function(h,p,m){return p===void 0&&(p={}),a8(h,Tn({},t,p),m)},d}var dv="milliseconds",bh="seconds",xh="minutes",Sh="hours",Ec="day",dd="week",wh="month",Tc="year",Rc="decade",_c="century",i8={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:3600*1e3,day:1440*60*1e3,week:10080*60*1e3},Sve={month:1,year:12,decade:120,century:1200};function wve(e){return[31,Cve(e),31,30,31,30,31,31,30,31,30,31]}function Cve(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Wi(e,t,n){switch(e=new Date(e),n){case dv:case bh:case xh:case Sh:case Ec:case dd:return jve(e,t*i8[n]);case wh:case Tc:case Rc:case _c:return Eve(e,t*Sve[n])}throw new TypeError('Invalid units: "'+n+'"')}function jve(e,t){var n=new Date(+e+t);return Tve(e,n)}function Eve(e,t){var n=e.getFullYear(),r=e.getMonth(),a=e.getDate(),i=n*12+r+t,l=Math.trunc(i/12),u=i%12,d=Math.min(a,wve(l)[u]),h=new Date(e);return h.setFullYear(l),h.setDate(1),h.setMonth(u),h.setDate(d),h}function Tve(e,t){var n=e.getTimezoneOffset(),r=t.getTimezoneOffset(),a=r-n;return new Date(+t+a*i8.minutes)}function Ch(e,t,n){return Wi(e,-t,n)}function Nr(e,t,n){switch(e=new Date(e),t){case _c:case Rc:case Tc:e=hv(e,0);case wh:e=u8(e,1);case dd:case Ec:e=Th(e,0);case Sh:e=fd(e,0);case xh:e=Eh(e,0);case bh:e=jh(e,0)}return t===Rc&&(e=Ch(e,Dc(e)%10,"year")),t===_c&&(e=Ch(e,Dc(e)%100,"year")),t===dd&&(e=d8(e,0,n)),e}function fv(e,t,n){switch(e=new Date(e),e=Nr(e,t,n),t){case _c:case Rc:case Tc:case wh:case dd:e=Wi(e,1,t),e=Ch(e,1,Ec),e.setHours(23,59,59,999);break;case Ec:e.setHours(23,59,59,999);break;case Sh:case xh:case bh:e=Wi(e,1,t),e=Ch(e,1,dv)}return e}var sp=Md(function(e,t){return e===t}),C_=Md(function(e,t){return e!==t}),Fy=Md(function(e,t){return e>t}),lp=Md(function(e,t){return e>=t}),j_=Md(function(e,t){return e<t}),kd=Md(function(e,t){return e<=t});function o8(){return new Date(Math.min.apply(Math,arguments))}function s8(){return new Date(Math.max.apply(Math,arguments))}function l8(e,t,n,r){return r=r||"day",(!t||lp(e,t,r))&&(!n||kd(e,n,r))}var jh=bl("Milliseconds"),Eh=bl("Seconds"),fd=bl("Minutes"),Th=bl("Hours"),c8=bl("Day"),u8=bl("Date"),hv=bl("Month"),Dc=bl("FullYear");function Rve(e,t){return t===void 0?Dc(Nr(e,Rc)):Wi(e,t+10,Tc)}function _ve(e,t){return t===void 0?Dc(Nr(e,_c)):Wi(e,t+100,Tc)}function d8(e,t,n){var r=(c8(e)+7-(n||0))%7;return t===void 0?r:Wi(e,t-r,Ec)}function Dve(e,t,n,r){var a,i,l;switch(n){case dv:case bh:case xh:case Sh:case Ec:case dd:a=t.getTime()-e.getTime();break;case wh:case Tc:case Rc:case _c:a=(Dc(t)-Dc(e))*12+hv(t)-hv(e);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case dv:i=1;break;case bh:i=1e3;break;case xh:i=1e3*60;break;case Sh:i=1e3*60*60;break;case Ec:i=1e3*60*60*24;break;case dd:i=1e3*60*60*24*7;break;case wh:i=1;break;case Tc:i=12;break;case Rc:i=120;break;case _c:i=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return l=a/i,r?l:Math.round(l)}function bl(e){var t=(function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}})(e);return function(n,r){if(r===void 0)return n["get"+e]();var a=new Date(n);return a["set"+e](r),t&&a["get"+e]()!=r&&(e==="Hours"||r>=t&&a.getHours()-n.getHours()<Math.floor(r/t))&&a["set"+e](r+t),a}}function Md(e){return function(t,n,r){return e(+Nr(t,r),+Nr(n,r))}}const _N=Object.freeze(Object.defineProperty({__proto__:null,add:Wi,century:_ve,date:u8,day:c8,decade:Rve,diff:Dve,endOf:fv,eq:sp,gt:Fy,gte:lp,hours:Th,inRange:l8,lt:j_,lte:kd,max:s8,milliseconds:jh,min:o8,minutes:fd,month:hv,neq:C_,seconds:Eh,startOf:Nr,subtract:Ch,weekday:d8,year:Dc},Symbol.toStringTag,{value:"Module"}));function Ave(e){if(Array.isArray(e))return Wj(e)}function f8(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ove(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eg(e){return Ave(e)||f8(e)||w_(e)||Ove()}var wS,DN;function h8(){if(DN)return wS;DN=1;function e(t,n,r){var a=-1,i=t.length;n<0&&(n=-n>i?0:i+n),r=r>i?i:r,r<0&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var l=Array(i);++a<i;)l[a]=t[a+n];return l}return wS=e,wS}var CS,AN;function cp(){if(AN)return CS;AN=1;function e(t,n){return t===n||t!==t&&n!==n}return CS=e,CS}var jS,ON;function p8(){if(ON)return jS;ON=1;var e=typeof Dm=="object"&&Dm&&Dm.Object===Object&&Dm;return jS=e,jS}var ES,kN;function Eo(){if(kN)return ES;kN=1;var e=p8(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return ES=n,ES}var TS,MN;function Pd(){if(MN)return TS;MN=1;var e=Eo(),t=e.Symbol;return TS=t,TS}var RS,PN;function kve(){if(PN)return RS;PN=1;var e=Pd(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,a=e?e.toStringTag:void 0;function i(l){var u=n.call(l,a),d=l[a];try{l[a]=void 0;var h=!0}catch{}var p=r.call(l);return h&&(u?l[a]=d:delete l[a]),p}return RS=i,RS}var _S,NN;function Mve(){if(NN)return _S;NN=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return _S=n,_S}var DS,IN;function Nd(){if(IN)return DS;IN=1;var e=Pd(),t=kve(),n=Mve(),r="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function l(u){return u==null?u===void 0?a:r:i&&i in Object(u)?t(u):n(u)}return DS=l,DS}var AS,LN;function ps(){if(LN)return AS;LN=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return AS=e,AS}var OS,zN;function E_(){if(zN)return OS;zN=1;var e=Nd(),t=ps(),n="[object AsyncFunction]",r="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function l(u){if(!t(u))return!1;var d=e(u);return d==r||d==a||d==n||d==i}return OS=l,OS}var kS,$N;function T_(){if($N)return kS;$N=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return kS=t,kS}var MS,qN;function up(){if(qN)return MS;qN=1;var e=E_(),t=T_();function n(r){return r!=null&&t(r.length)&&!e(r)}return MS=n,MS}var PS,UN;function R_(){if(UN)return PS;UN=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,a){var i=typeof r;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<a}return PS=n,PS}var NS,BN;function Vy(){if(BN)return NS;BN=1;var e=cp(),t=up(),n=R_(),r=ps();function a(i,l,u){if(!r(u))return!1;var d=typeof l;return(d=="number"?t(u)&&n(l,u.length):d=="string"&&l in u)?e(u[l],i):!1}return NS=a,NS}var IS,HN;function Pve(){if(HN)return IS;HN=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return IS=t,IS}var LS,FN;function Nve(){if(FN)return LS;FN=1;var e=Pve(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return LS=n,LS}var zS,VN;function xl(){if(VN)return zS;VN=1;function e(t){return t!=null&&typeof t=="object"}return zS=e,zS}var $S,WN;function dp(){if(WN)return $S;WN=1;var e=Nd(),t=xl(),n="[object Symbol]";function r(a){return typeof a=="symbol"||t(a)&&e(a)==n}return $S=r,$S}var qS,GN;function Ive(){if(GN)return qS;GN=1;var e=Nve(),t=ps(),n=dp(),r=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(h){if(typeof h=="number")return h;if(n(h))return r;if(t(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=t(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=e(h);var m=i.test(h);return m||l.test(h)?u(h.slice(2),m?2:8):a.test(h)?r:+h}return qS=d,qS}var US,YN;function m8(){if(YN)return US;YN=1;var e=Ive(),t=1/0,n=17976931348623157e292;function r(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var i=a<0?-1:1;return i*n}return a===a?a:0}return US=r,US}var BS,QN;function g8(){if(QN)return BS;QN=1;var e=m8();function t(n){var r=e(n),a=r%1;return r===r?a?r-a:r:0}return BS=t,BS}var HS,KN;function Lve(){if(KN)return HS;KN=1;var e=h8(),t=Vy(),n=g8(),r=Math.ceil,a=Math.max;function i(l,u,d){(d?t(l,u,d):u===void 0)?u=1:u=a(n(u),0);var h=l==null?0:l.length;if(!h||u<1)return[];for(var p=0,m=0,g=Array(r(h/u));p<h;)g[m++]=e(l,p,p+=u);return g}return HS=i,HS}var zve=Lve();const $ve=Rn(zve);function fp(e){return e&&e.ownerDocument||document}function qve(e){var t=fp(e);return t&&t.defaultView||window}function Uve(e,t){return qve(e).getComputedStyle(e,t)}var Bve=/([A-Z])/g;function Hve(e){return e.replace(Bve,"-$1").toLowerCase()}var Fve=/^ms-/;function ng(e){return Hve(e).replace(Fve,"-ms-")}var Vve=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Wve(e){return!!(e&&Vve.test(e))}function Wu(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(ng(t))||Uve(e).getPropertyValue(ng(t));Object.keys(t).forEach(function(a){var i=t[a];!i&&i!==0?e.style.removeProperty(ng(a)):Wve(a)?r+=a+"("+i+") ":n+=ng(a)+": "+i+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}function Rh(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function Gve(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function __(e){return"window"in e&&e.window===e?e:Gve(e)&&e.defaultView||!1}function v8(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function n(r,a){var i=__(r);if(a===void 0)return i?i[e]:r[t];i?i.scrollTo(i[e],a):r[t]=a}return n}const y8=v8("pageXOffset"),b8=v8("pageYOffset");function lc(e){var t=fp(e),n={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return!r||!Rh(r,e)||(e.getBoundingClientRect!==void 0&&(n=e.getBoundingClientRect()),n={top:n.top+b8(r)-(r.clientTop||0),left:n.left+y8(r)-(r.clientLeft||0),width:n.width,height:n.height}),n}var Yve=function(t){return!!t&&"offsetParent"in t};function Qve(e){for(var t=fp(e),n=e&&e.offsetParent;Yve(n)&&n.nodeName!=="HTML"&&Wu(n,"position")==="static";)n=n.offsetParent;return n||t.documentElement}var Kve=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function x8(e,t){var n={top:0,left:0},r;if(Wu(e,"position")==="fixed")r=e.getBoundingClientRect();else{var a=t||Qve(e);r=lc(e),Kve(a)!=="html"&&(n=lc(a));var i=String(Wu(a,"borderTopWidth")||0);n.top+=parseInt(i,10)-b8(a)||0;var l=String(Wu(a,"borderLeftWidth")||0);n.left+=parseInt(l,10)-y8(a)||0}var u=String(Wu(e,"marginTop")||0),d=String(Wu(e,"marginLeft")||0);return Tn({},r,{top:r.top-n.top-(parseInt(u,10)||0),left:r.left-n.left-(parseInt(d,10)||0)})}const D_=!!(typeof window<"u"&&window.document&&window.document.createElement);var XN=new Date().getTime();function Xve(e){var t=new Date().getTime(),n=Math.max(0,16-(t-XN)),r=setTimeout(e,n);return XN=t,r}var Zve=["","webkit","moz","o","ms"],Gj="clearTimeout",Yj=Xve,ZN=function(t,n){return t+(t?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};D_&&Zve.some(function(e){var t=ZN(e,"request");return t in window&&(Gj=ZN(e,"cancel"),Yj=function(r){return window[t](r)}),!!Yj});var JN=function(t){typeof window[Gj]=="function"&&window[Gj](t)},S8=Yj,FS;function Jve(e,t){if(!FS){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;FS=function(i,l){return r.call(i,l)}}return FS(e,t)}var eye=Function.prototype.bind.call(Function.prototype.call,[].slice);function tye(e,t){return eye(e.querySelectorAll(t))}var Qj=!1,Kj=!1;try{var VS={get passive(){return Qj=!0},get once(){return Kj=Qj=!0}};D_&&(window.addEventListener("test",VS,VS),window.removeEventListener("test",VS,!0))}catch{}function nye(e,t,n,r){if(r&&typeof r!="boolean"&&!Kj){var a=r.once,i=r.capture,l=n;!Kj&&a&&(l=n.__once||function u(d){this.removeEventListener(t,u,i),n.call(this,d)},n.__once=l),e.addEventListener(t,l,Qj?r:i)}e.addEventListener(t,n,r)}function rye(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e},[e]),t}function e4(e){const t=rye(e);return b.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function t4(){return b.useState(null)}function aye(){const e=b.useRef(!0),t=b.useRef(()=>e.current);return b.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function iye(e){const t=aye();return[e[0],b.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}var pa="top",bi="bottom",xi="right",ma="left",A_="auto",hp=[pa,bi,xi,ma],hd="start",_h="end",oye="clippingParents",w8="viewport",$f="popper",sye="reference",n4=hp.reduce(function(e,t){return e.concat([t+"-"+hd,t+"-"+_h])},[]),O_=[].concat(hp,[A_]).reduce(function(e,t){return e.concat([t,t+"-"+hd,t+"-"+_h])},[]),lye="beforeRead",cye="read",uye="afterRead",dye="beforeMain",fye="main",hye="afterMain",pye="beforeWrite",mye="write",gye="afterWrite",vye=[lye,cye,uye,dye,fye,hye,pye,mye,gye];function go(e){return e.split("-")[0]}function Fa(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ac(e){var t=Fa(e).Element;return e instanceof t||e instanceof Element}function vo(e){var t=Fa(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function k_(e){if(typeof ShadowRoot>"u")return!1;var t=Fa(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var cc=Math.max,pv=Math.min,pd=Math.round;function Xj(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function C8(){return!/^((?!chrome|android).)*safari/i.test(Xj())}function md(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),a=1,i=1;t&&vo(e)&&(a=e.offsetWidth>0&&pd(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&pd(r.height)/e.offsetHeight||1);var l=Ac(e)?Fa(e):window,u=l.visualViewport,d=!C8()&&n,h=(r.left+(d&&u?u.offsetLeft:0))/a,p=(r.top+(d&&u?u.offsetTop:0))/i,m=r.width/a,g=r.height/i;return{width:m,height:g,top:p,right:h+m,bottom:p+g,left:h,x:h,y:p}}function M_(e){var t=md(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function j8(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&k_(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function cl(e){return e?(e.nodeName||"").toLowerCase():null}function rs(e){return Fa(e).getComputedStyle(e)}function yye(e){return["table","td","th"].indexOf(cl(e))>=0}function Sl(e){return((Ac(e)?e.ownerDocument:e.document)||window.document).documentElement}function Wy(e){return cl(e)==="html"?e:e.assignedSlot||e.parentNode||(k_(e)?e.host:null)||Sl(e)}function r4(e){return!vo(e)||rs(e).position==="fixed"?null:e.offsetParent}function bye(e){var t=/firefox/i.test(Xj()),n=/Trident/i.test(Xj());if(n&&vo(e)){var r=rs(e);if(r.position==="fixed")return null}var a=Wy(e);for(k_(a)&&(a=a.host);vo(a)&&["html","body"].indexOf(cl(a))<0;){var i=rs(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function pp(e){for(var t=Fa(e),n=r4(e);n&&yye(n)&&rs(n).position==="static";)n=r4(n);return n&&(cl(n)==="html"||cl(n)==="body"&&rs(n).position==="static")?t:n||bye(e)||t}function P_(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Zf(e,t,n){return cc(e,pv(t,n))}function xye(e,t,n){var r=Zf(e,t,n);return r>n?n:r}function E8(){return{top:0,right:0,bottom:0,left:0}}function T8(e){return Object.assign({},E8(),e)}function R8(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var Sye=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,T8(typeof t!="number"?t:R8(t,hp))};function wye(e){var t,n=e.state,r=e.name,a=e.options,i=n.elements.arrow,l=n.modifiersData.popperOffsets,u=go(n.placement),d=P_(u),h=[ma,xi].indexOf(u)>=0,p=h?"height":"width";if(!(!i||!l)){var m=Sye(a.padding,n),g=M_(i),y=d==="y"?pa:ma,S=d==="y"?bi:xi,x=n.rects.reference[p]+n.rects.reference[d]-l[d]-n.rects.popper[p],C=l[d]-n.rects.reference[d],E=pp(i),j=E?d==="y"?E.clientHeight||0:E.clientWidth||0:0,R=x/2-C/2,_=m[y],A=j-g[p]-m[S],M=j/2-g[p]/2+R,D=Zf(_,M,A),O=d;n.modifiersData[r]=(t={},t[O]=D,t.centerOffset=D-M,t)}}function Cye(e){var t=e.state,n=e.options,r=n.element,a=r===void 0?"[data-popper-arrow]":r;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||j8(t.elements.popper,a)&&(t.elements.arrow=a))}const jye={name:"arrow",enabled:!0,phase:"main",fn:wye,effect:Cye,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function gd(e){return e.split("-")[1]}var Eye={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Tye(e,t){var n=e.x,r=e.y,a=t.devicePixelRatio||1;return{x:pd(n*a)/a||0,y:pd(r*a)/a||0}}function a4(e){var t,n=e.popper,r=e.popperRect,a=e.placement,i=e.variation,l=e.offsets,u=e.position,d=e.gpuAcceleration,h=e.adaptive,p=e.roundOffsets,m=e.isFixed,g=l.x,y=g===void 0?0:g,S=l.y,x=S===void 0?0:S,C=typeof p=="function"?p({x:y,y:x}):{x:y,y:x};y=C.x,x=C.y;var E=l.hasOwnProperty("x"),j=l.hasOwnProperty("y"),R=ma,_=pa,A=window;if(h){var M=pp(n),D="clientHeight",O="clientWidth";if(M===Fa(n)&&(M=Sl(n),rs(M).position!=="static"&&u==="absolute"&&(D="scrollHeight",O="scrollWidth")),M=M,a===pa||(a===ma||a===xi)&&i===_h){_=bi;var k=m&&M===A&&A.visualViewport?A.visualViewport.height:M[D];x-=k-r.height,x*=d?1:-1}if(a===ma||(a===pa||a===bi)&&i===_h){R=xi;var I=m&&M===A&&A.visualViewport?A.visualViewport.width:M[O];y-=I-r.width,y*=d?1:-1}}var L=Object.assign({position:u},h&&Eye),V=p===!0?Tye({x:y,y:x},Fa(n)):{x:y,y:x};if(y=V.x,x=V.y,d){var q;return Object.assign({},L,(q={},q[_]=j?"0":"",q[R]=E?"0":"",q.transform=(A.devicePixelRatio||1)<=1?"translate("+y+"px, "+x+"px)":"translate3d("+y+"px, "+x+"px, 0)",q))}return Object.assign({},L,(t={},t[_]=j?x+"px":"",t[R]=E?y+"px":"",t.transform="",t))}function Rye(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=r===void 0?!0:r,i=n.adaptive,l=i===void 0?!0:i,u=n.roundOffsets,d=u===void 0?!0:u,h={placement:go(t.placement),variation:gd(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,a4(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:d})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,a4(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const _ye={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Rye,data:{}};var rg={passive:!0};function Dye(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,i=a===void 0?!0:a,l=r.resize,u=l===void 0?!0:l,d=Fa(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&h.forEach(function(p){p.addEventListener("scroll",n.update,rg)}),u&&d.addEventListener("resize",n.update,rg),function(){i&&h.forEach(function(p){p.removeEventListener("scroll",n.update,rg)}),u&&d.removeEventListener("resize",n.update,rg)}}const Aye={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Dye,data:{}};var Oye={left:"right",right:"left",bottom:"top",top:"bottom"};function Tg(e){return e.replace(/left|right|bottom|top/g,function(t){return Oye[t]})}var kye={start:"end",end:"start"};function i4(e){return e.replace(/start|end/g,function(t){return kye[t]})}function N_(e){var t=Fa(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function I_(e){return md(Sl(e)).left+N_(e).scrollLeft}function Mye(e,t){var n=Fa(e),r=Sl(e),a=n.visualViewport,i=r.clientWidth,l=r.clientHeight,u=0,d=0;if(a){i=a.width,l=a.height;var h=C8();(h||!h&&t==="fixed")&&(u=a.offsetLeft,d=a.offsetTop)}return{width:i,height:l,x:u+I_(e),y:d}}function Pye(e){var t,n=Sl(e),r=N_(e),a=(t=e.ownerDocument)==null?void 0:t.body,i=cc(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),l=cc(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),u=-r.scrollLeft+I_(e),d=-r.scrollTop;return rs(a||n).direction==="rtl"&&(u+=cc(n.clientWidth,a?a.clientWidth:0)-i),{width:i,height:l,x:u,y:d}}function L_(e){var t=rs(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function _8(e){return["html","body","#document"].indexOf(cl(e))>=0?e.ownerDocument.body:vo(e)&&L_(e)?e:_8(Wy(e))}function Jf(e,t){var n;t===void 0&&(t=[]);var r=_8(e),a=r===((n=e.ownerDocument)==null?void 0:n.body),i=Fa(r),l=a?[i].concat(i.visualViewport||[],L_(r)?r:[]):r,u=t.concat(l);return a?u:u.concat(Jf(Wy(l)))}function Zj(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Nye(e,t){var n=md(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function o4(e,t,n){return t===w8?Zj(Mye(e,n)):Ac(t)?Nye(t,n):Zj(Pye(Sl(e)))}function Iye(e){var t=Jf(Wy(e)),n=["absolute","fixed"].indexOf(rs(e).position)>=0,r=n&&vo(e)?pp(e):e;return Ac(r)?t.filter(function(a){return Ac(a)&&j8(a,r)&&cl(a)!=="body"}):[]}function Lye(e,t,n,r){var a=t==="clippingParents"?Iye(e):[].concat(t),i=[].concat(a,[n]),l=i[0],u=i.reduce(function(d,h){var p=o4(e,h,r);return d.top=cc(p.top,d.top),d.right=pv(p.right,d.right),d.bottom=pv(p.bottom,d.bottom),d.left=cc(p.left,d.left),d},o4(e,l,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function D8(e){var t=e.reference,n=e.element,r=e.placement,a=r?go(r):null,i=r?gd(r):null,l=t.x+t.width/2-n.width/2,u=t.y+t.height/2-n.height/2,d;switch(a){case pa:d={x:l,y:t.y-n.height};break;case bi:d={x:l,y:t.y+t.height};break;case xi:d={x:t.x+t.width,y:u};break;case ma:d={x:t.x-n.width,y:u};break;default:d={x:t.x,y:t.y}}var h=a?P_(a):null;if(h!=null){var p=h==="y"?"height":"width";switch(i){case hd:d[h]=d[h]-(t[p]/2-n[p]/2);break;case _h:d[h]=d[h]+(t[p]/2-n[p]/2);break}}return d}function Dh(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=r===void 0?e.placement:r,i=n.strategy,l=i===void 0?e.strategy:i,u=n.boundary,d=u===void 0?oye:u,h=n.rootBoundary,p=h===void 0?w8:h,m=n.elementContext,g=m===void 0?$f:m,y=n.altBoundary,S=y===void 0?!1:y,x=n.padding,C=x===void 0?0:x,E=T8(typeof C!="number"?C:R8(C,hp)),j=g===$f?sye:$f,R=e.rects.popper,_=e.elements[S?j:g],A=Lye(Ac(_)?_:_.contextElement||Sl(e.elements.popper),d,p,l),M=md(e.elements.reference),D=D8({reference:M,element:R,placement:a}),O=Zj(Object.assign({},R,D)),k=g===$f?O:M,I={top:A.top-k.top+E.top,bottom:k.bottom-A.bottom+E.bottom,left:A.left-k.left+E.left,right:k.right-A.right+E.right},L=e.modifiersData.offset;if(g===$f&&L){var V=L[a];Object.keys(I).forEach(function(q){var U=[xi,bi].indexOf(q)>=0?1:-1,G=[pa,bi].indexOf(q)>=0?"y":"x";I[q]+=V[G]*U})}return I}function zye(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=n.boundary,i=n.rootBoundary,l=n.padding,u=n.flipVariations,d=n.allowedAutoPlacements,h=d===void 0?O_:d,p=gd(r),m=p?u?n4:n4.filter(function(S){return gd(S)===p}):hp,g=m.filter(function(S){return h.indexOf(S)>=0});g.length===0&&(g=m);var y=g.reduce(function(S,x){return S[x]=Dh(e,{placement:x,boundary:a,rootBoundary:i,padding:l})[go(x)],S},{});return Object.keys(y).sort(function(S,x){return y[S]-y[x]})}function $ye(e){if(go(e)===A_)return[];var t=Tg(e);return[i4(e),t,i4(t)]}function qye(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,i=a===void 0?!0:a,l=n.altAxis,u=l===void 0?!0:l,d=n.fallbackPlacements,h=n.padding,p=n.boundary,m=n.rootBoundary,g=n.altBoundary,y=n.flipVariations,S=y===void 0?!0:y,x=n.allowedAutoPlacements,C=t.options.placement,E=go(C),j=E===C,R=d||(j||!S?[Tg(C)]:$ye(C)),_=[C].concat(R).reduce(function(J,re){return J.concat(go(re)===A_?zye(t,{placement:re,boundary:p,rootBoundary:m,padding:h,flipVariations:S,allowedAutoPlacements:x}):re)},[]),A=t.rects.reference,M=t.rects.popper,D=new Map,O=!0,k=_[0],I=0;I<_.length;I++){var L=_[I],V=go(L),q=gd(L)===hd,U=[pa,bi].indexOf(V)>=0,G=U?"width":"height",N=Dh(t,{placement:L,boundary:p,rootBoundary:m,altBoundary:g,padding:h}),z=U?q?xi:ma:q?bi:pa;A[G]>M[G]&&(z=Tg(z));var $=Tg(z),Y=[];if(i&&Y.push(N[V]<=0),u&&Y.push(N[z]<=0,N[$]<=0),Y.every(function(J){return J})){k=L,O=!1;break}D.set(L,Y)}if(O)for(var X=S?3:1,H=function(re){var de=_.find(function(Ee){var Re=D.get(Ee);if(Re)return Re.slice(0,re).every(function(Se){return Se})});if(de)return k=de,"break"},F=X;F>0;F--){var Q=H(F);if(Q==="break")break}t.placement!==k&&(t.modifiersData[r]._skip=!0,t.placement=k,t.reset=!0)}}const Uye={name:"flip",enabled:!0,phase:"main",fn:qye,requiresIfExists:["offset"],data:{_skip:!1}};function s4(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function l4(e){return[pa,xi,bi,ma].some(function(t){return e[t]>=0})}function Bye(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,l=Dh(t,{elementContext:"reference"}),u=Dh(t,{altBoundary:!0}),d=s4(l,r),h=s4(u,a,i),p=l4(d),m=l4(h);t.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:h,isReferenceHidden:p,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":m})}const Hye={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Bye};function Fye(e,t,n){var r=go(e),a=[ma,pa].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,l=i[0],u=i[1];return l=l||0,u=(u||0)*a,[ma,xi].indexOf(r)>=0?{x:u,y:l}:{x:l,y:u}}function Vye(e){var t=e.state,n=e.options,r=e.name,a=n.offset,i=a===void 0?[0,0]:a,l=O_.reduce(function(p,m){return p[m]=Fye(m,t.rects,i),p},{}),u=l[t.placement],d=u.x,h=u.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=h),t.modifiersData[r]=l}const Wye={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Vye};function Gye(e){var t=e.state,n=e.name;t.modifiersData[n]=D8({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const Yye={name:"popperOffsets",enabled:!0,phase:"read",fn:Gye,data:{}};function Qye(e){return e==="x"?"y":"x"}function Kye(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,i=a===void 0?!0:a,l=n.altAxis,u=l===void 0?!1:l,d=n.boundary,h=n.rootBoundary,p=n.altBoundary,m=n.padding,g=n.tether,y=g===void 0?!0:g,S=n.tetherOffset,x=S===void 0?0:S,C=Dh(t,{boundary:d,rootBoundary:h,padding:m,altBoundary:p}),E=go(t.placement),j=gd(t.placement),R=!j,_=P_(E),A=Qye(_),M=t.modifiersData.popperOffsets,D=t.rects.reference,O=t.rects.popper,k=typeof x=="function"?x(Object.assign({},t.rects,{placement:t.placement})):x,I=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),L=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,V={x:0,y:0};if(M){if(i){var q,U=_==="y"?pa:ma,G=_==="y"?bi:xi,N=_==="y"?"height":"width",z=M[_],$=z+C[U],Y=z-C[G],X=y?-O[N]/2:0,H=j===hd?D[N]:O[N],F=j===hd?-O[N]:-D[N],Q=t.elements.arrow,J=y&&Q?M_(Q):{width:0,height:0},re=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:E8(),de=re[U],Ee=re[G],Re=Zf(0,D[N],J[N]),Se=R?D[N]/2-X-Re-de-I.mainAxis:H-Re-de-I.mainAxis,Ye=R?-D[N]/2+X+Re+Ee+I.mainAxis:F+Re+Ee+I.mainAxis,Je=t.elements.arrow&&pp(t.elements.arrow),Ve=Je?_==="y"?Je.clientTop||0:Je.clientLeft||0:0,ze=(q=L?.[_])!=null?q:0,mt=z+Se-ze-Ve,Ze=z+Ye-ze,Bt=Zf(y?pv($,mt):$,z,y?cc(Y,Ze):Y);M[_]=Bt,V[_]=Bt-z}if(u){var ot,Ot=_==="x"?pa:ma,_t=_==="x"?bi:xi,We=M[A],ht=A==="y"?"height":"width",dt=We+C[Ot],pt=We-C[_t],ut=[pa,ma].indexOf(E)!==-1,xt=(ot=L?.[A])!=null?ot:0,hr=ut?dt:We-D[ht]-O[ht]-xt+I.altAxis,Ft=ut?We+D[ht]+O[ht]-xt-I.altAxis:pt,kt=y&&ut?xye(hr,We,Ft):Zf(y?hr:dt,We,y?Ft:pt);M[A]=kt,V[A]=kt-We}t.modifiersData[r]=V}}const Xye={name:"preventOverflow",enabled:!0,phase:"main",fn:Kye,requiresIfExists:["offset"]};function Zye(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Jye(e){return e===Fa(e)||!vo(e)?N_(e):Zye(e)}function e0e(e){var t=e.getBoundingClientRect(),n=pd(t.width)/e.offsetWidth||1,r=pd(t.height)/e.offsetHeight||1;return n!==1||r!==1}function t0e(e,t,n){n===void 0&&(n=!1);var r=vo(t),a=vo(t)&&e0e(t),i=Sl(t),l=md(e,a,n),u={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!n)&&((cl(t)!=="body"||L_(i))&&(u=Jye(t)),vo(t)?(d=md(t,!0),d.x+=t.clientLeft,d.y+=t.clientTop):i&&(d.x=I_(i))),{x:l.left+u.scrollLeft-d.x,y:l.top+u.scrollTop-d.y,width:l.width,height:l.height}}function n0e(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function a(i){n.add(i.name);var l=[].concat(i.requires||[],i.requiresIfExists||[]);l.forEach(function(u){if(!n.has(u)){var d=t.get(u);d&&a(d)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||a(i)}),r}function r0e(e){var t=n0e(e);return vye.reduce(function(n,r){return n.concat(t.filter(function(a){return a.phase===r}))},[])}function a0e(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function i0e(e){var t=e.reduce(function(n,r){var a=n[r.name];return n[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var c4={placement:"bottom",modifiers:[],strategy:"absolute"};function u4(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function o0e(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,a=t.defaultOptions,i=a===void 0?c4:a;return function(u,d,h){h===void 0&&(h=i);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},c4,i),modifiersData:{},elements:{reference:u,popper:d},attributes:{},styles:{}},m=[],g=!1,y={state:p,setOptions:function(E){var j=typeof E=="function"?E(p.options):E;x(),p.options=Object.assign({},i,p.options,j),p.scrollParents={reference:Ac(u)?Jf(u):u.contextElement?Jf(u.contextElement):[],popper:Jf(d)};var R=r0e(i0e([].concat(r,p.options.modifiers)));return p.orderedModifiers=R.filter(function(_){return _.enabled}),S(),y.update()},forceUpdate:function(){if(!g){var E=p.elements,j=E.reference,R=E.popper;if(u4(j,R)){p.rects={reference:t0e(j,pp(R),p.options.strategy==="fixed"),popper:M_(R)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(I){return p.modifiersData[I.name]=Object.assign({},I.data)});for(var _=0;_<p.orderedModifiers.length;_++){if(p.reset===!0){p.reset=!1,_=-1;continue}var A=p.orderedModifiers[_],M=A.fn,D=A.options,O=D===void 0?{}:D,k=A.name;typeof M=="function"&&(p=M({state:p,options:O,name:k,instance:y})||p)}}}},update:a0e(function(){return new Promise(function(C){y.forceUpdate(),C(p)})}),destroy:function(){x(),g=!0}};if(!u4(u,d))return y;y.setOptions(h).then(function(C){!g&&h.onFirstUpdate&&h.onFirstUpdate(C)});function S(){p.orderedModifiers.forEach(function(C){var E=C.name,j=C.options,R=j===void 0?{}:j,_=C.effect;if(typeof _=="function"){var A=_({state:p,name:E,instance:y,options:R}),M=function(){};m.push(A||M)}})}function x(){m.forEach(function(C){return C()}),m=[]}return y}}var s0e=o0e({defaultModifiers:[Hye,Yye,_ye,Aye,Wye,Uye,Xye,jye]}),d4=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},l0e={name:"applyStyles",enabled:!1},c0e={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var n=t.state;return function(){var r=n.elements,a=r.reference,i=r.popper;if("removeAttribute"in a){var l=(a.getAttribute("aria-describedby")||"").split(",").filter(function(u){return u.trim()!==i.id});l.length?a.setAttribute("aria-describedby",l.join(",")):a.removeAttribute("aria-describedby")}}},fn:function(t){var n,r=t.state,a=r.elements,i=a.popper,l=a.reference,u=(n=i.getAttribute("role"))==null?void 0:n.toLowerCase();if(i.id&&u==="tooltip"&&"setAttribute"in l){var d=l.getAttribute("aria-describedby");if(d&&d.split(",").indexOf(i.id)!==-1)return;l.setAttribute("aria-describedby",d?d+","+i.id:i.id)}}},u0e=[];function d0e(e,t,n){var r=n===void 0?{}:n,a=r.enabled,i=a===void 0?!0:a,l=r.placement,u=l===void 0?"bottom":l,d=r.strategy,h=d===void 0?"absolute":d,p=r.modifiers,m=p===void 0?u0e:p,g=Nc(r,["enabled","placement","strategy","modifiers"]),y=b.useRef(),S=b.useCallback(function(){var _;(_=y.current)==null||_.update()},[]),x=b.useCallback(function(){var _;(_=y.current)==null||_.forceUpdate()},[]),C=iye(b.useState({placement:u,update:S,forceUpdate:x,attributes:{},styles:{popper:d4(h),arrow:{}}})),E=C[0],j=C[1],R=b.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(A){var M=A.state,D={},O={};Object.keys(M.elements).forEach(function(k){D[k]=M.styles[k],O[k]=M.attributes[k]}),j({state:M,styles:D,attributes:O,update:S,forceUpdate:x,placement:M.placement})}}},[S,x,j]);return b.useEffect(function(){!y.current||!i||y.current.setOptions({placement:u,strategy:h,modifiers:[].concat(m,[R,l0e])})},[h,u,R,i]),b.useEffect(function(){if(!(!i||e==null||t==null))return y.current=s0e(e,t,Tn({},g,{placement:u,strategy:h,modifiers:[].concat(m,[c0e,R])})),function(){y.current!=null&&(y.current.destroy(),y.current=void 0,j(function(_){return Tn({},_,{attributes:{},styles:{popper:d4(h)}})}))}},[i,e,t]),E}function f0e(e,t,n,r){var a=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,a),n.__once&&e.removeEventListener(t,n.__once,a)}function Wf(e,t,n,r){return nye(e,t,n,r),function(){f0e(e,t,n,r)}}var WS,f4;function h0e(){if(f4)return WS;f4=1;var e=function(){};return WS=e,WS}var p0e=h0e();const m0e=Rn(p0e);function g0e(e){return e&&"setState"in e?Jl.findDOMNode(e):e??null}const v0e=(function(e){return fp(g0e(e))});var y0e=27,h4=function(){};function b0e(e){return e.button===0}function x0e(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var p4=function(t){return t&&("current"in t?t.current:t)};function S0e(e,t,n){var r=n===void 0?{}:n,a=r.disabled,i=r.clickTrigger,l=i===void 0?"click":i,u=b.useRef(!1),d=t||h4,h=b.useCallback(function(g){var y,S=p4(e);m0e(!!S,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),u.current=!S||x0e(g)||!b0e(g)||!!Rh(S,(y=g.composedPath==null?void 0:g.composedPath()[0])!=null?y:g.target)},[e]),p=e4(function(g){u.current||d(g)}),m=e4(function(g){g.keyCode===y0e&&d(g)});b.useEffect(function(){if(!(a||e==null)){var g=window.event,y=v0e(p4(e)),S=Wf(y,l,h,!0),x=Wf(y,l,function(j){if(j===g){g=void 0;return}p(j)}),C=Wf(y,"keyup",function(j){if(j===g){g=void 0;return}m(j)}),E=[];return"ontouchstart"in y.documentElement&&(E=[].slice.call(y.body.children).map(function(j){return Wf(j,"mousemove",h4)})),function(){S(),x(),C(),E.forEach(function(j){return j()})}}},[e,a,l,h,p,m])}function w0e(e){var t={};return Array.isArray(e)?(e?.forEach(function(n){t[n.name]=n}),t):e||t}function C0e(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function j0e(e){var t,n,r,a,i=e.enabled,l=e.enableEvents,u=e.placement,d=e.flip,h=e.offset,p=e.fixed,m=e.containerPadding,g=e.arrowElement,y=e.popperConfig,S=y===void 0?{}:y,x=w0e(S.modifiers);return Tn({},S,{placement:u,enabled:i,strategy:p?"fixed":S.strategy,modifiers:C0e(Tn({},x,{eventListeners:{enabled:l},preventOverflow:Tn({},x.preventOverflow,{options:m?Tn({padding:m},(t=x.preventOverflow)==null?void 0:t.options):(n=x.preventOverflow)==null?void 0:n.options}),offset:{options:Tn({offset:h},(r=x.offset)==null?void 0:r.options)},arrow:Tn({},x.arrow,{enabled:!!g,options:Tn({},(a=x.arrow)==null?void 0:a.options,{element:g})}),flip:Tn({enabled:!!d},x.flip)}))})}var ag;function z_(e){if((!ag&&ag!==0||e)&&D_){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),ag=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return ag}var GS=function(t){var n;return typeof document>"u"?null:t==null?fp().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(n=t)!=null&&n.nodeType&&t||null)};function m4(e,t){var n=b.useState(function(){return GS(e)}),r=n[0],a=n[1];if(!r){var i=GS(e);i&&a(i)}return b.useEffect(function(){},[t,r]),b.useEffect(function(){var l=GS(e);l!==r&&a(l)},[e,r]),r}const g4=e=>!e||typeof e=="function"?e:t=>{e.current=t};function E0e(e,t){const n=g4(e),r=g4(t);return a=>{n&&n(a),r&&r(a)}}function T0e(e,t){return b.useMemo(()=>E0e(e,t),[e,t])}var $_=ne.forwardRef(function(e,t){var n=e.flip,r=e.offset,a=e.placement,i=e.containerPadding,l=i===void 0?5:i,u=e.popperConfig,d=u===void 0?{}:u,h=e.transition,p=t4(),m=p[0],g=p[1],y=t4(),S=y[0],x=y[1],C=T0e(g,t),E=m4(e.container),j=m4(e.target),R=b.useState(!e.show),_=R[0],A=R[1],M=d0e(j,m,j0e({placement:a,enableEvents:!!e.show,containerPadding:l||5,flip:n,offset:r,arrowElement:S,popperConfig:d})),D=M.styles,O=M.attributes,k=Nc(M,["styles","attributes"]);e.show?_&&A(!1):!e.transition&&!_&&A(!0);var I=function(){A(!0),e.onExited&&e.onExited.apply(e,arguments)},L=e.show||h&&!_;if(S0e(m,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!L)return null;var V=e.children(Tn({},k,{show:!!e.show,props:Tn({},O.popper,{style:D.popper,ref:C}),arrowProps:Tn({},O.arrow,{style:D.arrow,ref:x})}));if(h){var q=e.onExit,U=e.onExiting,G=e.onEnter,N=e.onEntering,z=e.onEntered;V=ne.createElement(h,{in:e.show,appear:!0,onExit:q,onExiting:U,onExited:I,onEnter:G,onEntering:N,onEntered:z},V)}return E?Jl.createPortal(V,E):null});$_.displayName="Overlay";$_.propTypes={show:Ae.bool,placement:Ae.oneOf(O_),target:Ae.any,container:Ae.any,flip:Ae.bool,children:Ae.func.isRequired,containerPadding:Ae.number,popperConfig:Ae.object,rootClose:Ae.bool,rootCloseEvent:Ae.oneOf(["click","mousedown"]),rootCloseDisabled:Ae.bool,onHide:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];if(t.rootClose){var i;return(i=Ae.func).isRequired.apply(i,[t].concat(r))}return Ae.func.apply(Ae,[t].concat(r))},transition:Ae.elementType,onEnter:Ae.func,onEntering:Ae.func,onEntered:Ae.func,onExit:Ae.func,onExiting:Ae.func,onExited:Ae.func};var YS,v4;function R0e(){if(v4)return YS;v4=1;function e(){this.__data__=[],this.size=0}return YS=e,YS}var QS,y4;function Gy(){if(y4)return QS;y4=1;var e=cp();function t(n,r){for(var a=n.length;a--;)if(e(n[a][0],r))return a;return-1}return QS=t,QS}var KS,b4;function _0e(){if(b4)return KS;b4=1;var e=Gy(),t=Array.prototype,n=t.splice;function r(a){var i=this.__data__,l=e(i,a);if(l<0)return!1;var u=i.length-1;return l==u?i.pop():n.call(i,l,1),--this.size,!0}return KS=r,KS}var XS,x4;function D0e(){if(x4)return XS;x4=1;var e=Gy();function t(n){var r=this.__data__,a=e(r,n);return a<0?void 0:r[a][1]}return XS=t,XS}var ZS,S4;function A0e(){if(S4)return ZS;S4=1;var e=Gy();function t(n){return e(this.__data__,n)>-1}return ZS=t,ZS}var JS,w4;function O0e(){if(w4)return JS;w4=1;var e=Gy();function t(n,r){var a=this.__data__,i=e(a,n);return i<0?(++this.size,a.push([n,r])):a[i][1]=r,this}return JS=t,JS}var e1,C4;function Yy(){if(C4)return e1;C4=1;var e=R0e(),t=_0e(),n=D0e(),r=A0e(),a=O0e();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,e1=i,e1}var t1,j4;function k0e(){if(j4)return t1;j4=1;var e=Yy();function t(){this.__data__=new e,this.size=0}return t1=t,t1}var n1,E4;function M0e(){if(E4)return n1;E4=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return n1=e,n1}var r1,T4;function P0e(){if(T4)return r1;T4=1;function e(t){return this.__data__.get(t)}return r1=e,r1}var a1,R4;function N0e(){if(R4)return a1;R4=1;function e(t){return this.__data__.has(t)}return a1=e,a1}var i1,_4;function I0e(){if(_4)return i1;_4=1;var e=Eo(),t=e["__core-js_shared__"];return i1=t,i1}var o1,D4;function L0e(){if(D4)return o1;D4=1;var e=I0e(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return o1=n,o1}var s1,A4;function A8(){if(A4)return s1;A4=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return s1=n,s1}var l1,O4;function z0e(){if(O4)return l1;O4=1;var e=E_(),t=L0e(),n=ps(),r=A8(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,h=u.hasOwnProperty,p=RegExp("^"+d.call(h).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!n(g)||t(g))return!1;var y=e(g)?p:i;return y.test(r(g))}return l1=m,l1}var c1,k4;function $0e(){if(k4)return c1;k4=1;function e(t,n){return t?.[n]}return c1=e,c1}var u1,M4;function Wc(){if(M4)return u1;M4=1;var e=z0e(),t=$0e();function n(r,a){var i=t(r,a);return e(i)?i:void 0}return u1=n,u1}var d1,P4;function q_(){if(P4)return d1;P4=1;var e=Wc(),t=Eo(),n=e(t,"Map");return d1=n,d1}var f1,N4;function Qy(){if(N4)return f1;N4=1;var e=Wc(),t=e(Object,"create");return f1=t,f1}var h1,I4;function q0e(){if(I4)return h1;I4=1;var e=Qy();function t(){this.__data__=e?e(null):{},this.size=0}return h1=t,h1}var p1,L4;function U0e(){if(L4)return p1;L4=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return p1=e,p1}var m1,z4;function B0e(){if(z4)return m1;z4=1;var e=Qy(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function a(i){var l=this.__data__;if(e){var u=l[i];return u===t?void 0:u}return r.call(l,i)?l[i]:void 0}return m1=a,m1}var g1,$4;function H0e(){if($4)return g1;$4=1;var e=Qy(),t=Object.prototype,n=t.hasOwnProperty;function r(a){var i=this.__data__;return e?i[a]!==void 0:n.call(i,a)}return g1=r,g1}var v1,q4;function F0e(){if(q4)return v1;q4=1;var e=Qy(),t="__lodash_hash_undefined__";function n(r,a){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=e&&a===void 0?t:a,this}return v1=n,v1}var y1,U4;function V0e(){if(U4)return y1;U4=1;var e=q0e(),t=U0e(),n=B0e(),r=H0e(),a=F0e();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,y1=i,y1}var b1,B4;function W0e(){if(B4)return b1;B4=1;var e=V0e(),t=Yy(),n=q_();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return b1=r,b1}var x1,H4;function G0e(){if(H4)return x1;H4=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return x1=e,x1}var S1,F4;function Ky(){if(F4)return S1;F4=1;var e=G0e();function t(n,r){var a=n.__data__;return e(r)?a[typeof r=="string"?"string":"hash"]:a.map}return S1=t,S1}var w1,V4;function Y0e(){if(V4)return w1;V4=1;var e=Ky();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return w1=t,w1}var C1,W4;function Q0e(){if(W4)return C1;W4=1;var e=Ky();function t(n){return e(this,n).get(n)}return C1=t,C1}var j1,G4;function K0e(){if(G4)return j1;G4=1;var e=Ky();function t(n){return e(this,n).has(n)}return j1=t,j1}var E1,Y4;function X0e(){if(Y4)return E1;Y4=1;var e=Ky();function t(n,r){var a=e(this,n),i=a.size;return a.set(n,r),this.size+=a.size==i?0:1,this}return E1=t,E1}var T1,Q4;function U_(){if(Q4)return T1;Q4=1;var e=W0e(),t=Y0e(),n=Q0e(),r=K0e(),a=X0e();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,T1=i,T1}var R1,K4;function Z0e(){if(K4)return R1;K4=1;var e=Yy(),t=q_(),n=U_(),r=200;function a(i,l){var u=this.__data__;if(u instanceof e){var d=u.__data__;if(!t||d.length<r-1)return d.push([i,l]),this.size=++u.size,this;u=this.__data__=new n(d)}return u.set(i,l),this.size=u.size,this}return R1=a,R1}var _1,X4;function B_(){if(X4)return _1;X4=1;var e=Yy(),t=k0e(),n=M0e(),r=P0e(),a=N0e(),i=Z0e();function l(u){var d=this.__data__=new e(u);this.size=d.size}return l.prototype.clear=t,l.prototype.delete=n,l.prototype.get=r,l.prototype.has=a,l.prototype.set=i,_1=l,_1}var D1,Z4;function J0e(){if(Z4)return D1;Z4=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return D1=t,D1}var A1,J4;function ebe(){if(J4)return A1;J4=1;function e(t){return this.__data__.has(t)}return A1=e,A1}var O1,e3;function tbe(){if(e3)return O1;e3=1;var e=U_(),t=J0e(),n=ebe();function r(a){var i=-1,l=a==null?0:a.length;for(this.__data__=new e;++i<l;)this.add(a[i])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,O1=r,O1}var k1,t3;function nbe(){if(t3)return k1;t3=1;function e(t,n){for(var r=-1,a=t==null?0:t.length;++r<a;)if(n(t[r],r,t))return!0;return!1}return k1=e,k1}var M1,n3;function rbe(){if(n3)return M1;n3=1;function e(t,n){return t.has(n)}return M1=e,M1}var P1,r3;function O8(){if(r3)return P1;r3=1;var e=tbe(),t=nbe(),n=rbe(),r=1,a=2;function i(l,u,d,h,p,m){var g=d&r,y=l.length,S=u.length;if(y!=S&&!(g&&S>y))return!1;var x=m.get(l),C=m.get(u);if(x&&C)return x==u&&C==l;var E=-1,j=!0,R=d&a?new e:void 0;for(m.set(l,u),m.set(u,l);++E<y;){var _=l[E],A=u[E];if(h)var M=g?h(A,_,E,u,l,m):h(_,A,E,l,u,m);if(M!==void 0){if(M)continue;j=!1;break}if(R){if(!t(u,function(D,O){if(!n(R,O)&&(_===D||p(_,D,d,h,m)))return R.push(O)})){j=!1;break}}else if(!(_===A||p(_,A,d,h,m))){j=!1;break}}return m.delete(l),m.delete(u),j}return P1=i,P1}var N1,a3;function k8(){if(a3)return N1;a3=1;var e=Eo(),t=e.Uint8Array;return N1=t,N1}var I1,i3;function abe(){if(i3)return I1;i3=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(a,i){r[++n]=[i,a]}),r}return I1=e,I1}var L1,o3;function ibe(){if(o3)return L1;o3=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(a){r[++n]=a}),r}return L1=e,L1}var z1,s3;function obe(){if(s3)return z1;s3=1;var e=Pd(),t=k8(),n=cp(),r=O8(),a=abe(),i=ibe(),l=1,u=2,d="[object Boolean]",h="[object Date]",p="[object Error]",m="[object Map]",g="[object Number]",y="[object RegExp]",S="[object Set]",x="[object String]",C="[object Symbol]",E="[object ArrayBuffer]",j="[object DataView]",R=e?e.prototype:void 0,_=R?R.valueOf:void 0;function A(M,D,O,k,I,L,V){switch(O){case j:if(M.byteLength!=D.byteLength||M.byteOffset!=D.byteOffset)return!1;M=M.buffer,D=D.buffer;case E:return!(M.byteLength!=D.byteLength||!L(new t(M),new t(D)));case d:case h:case g:return n(+M,+D);case p:return M.name==D.name&&M.message==D.message;case y:case x:return M==D+"";case m:var q=a;case S:var U=k&l;if(q||(q=i),M.size!=D.size&&!U)return!1;var G=V.get(M);if(G)return G==D;k|=u,V.set(M,D);var N=r(q(M),q(D),k,I,L,V);return V.delete(M),N;case C:if(_)return _.call(M)==_.call(D)}return!1}return z1=A,z1}var $1,l3;function H_(){if(l3)return $1;l3=1;function e(t,n){for(var r=-1,a=n.length,i=t.length;++r<a;)t[i+r]=n[r];return t}return $1=e,$1}var q1,c3;function Ti(){if(c3)return q1;c3=1;var e=Array.isArray;return q1=e,q1}var U1,u3;function M8(){if(u3)return U1;u3=1;var e=H_(),t=Ti();function n(r,a,i){var l=a(r);return t(r)?l:e(l,i(r))}return U1=n,U1}var B1,d3;function sbe(){if(d3)return B1;d3=1;function e(t,n){for(var r=-1,a=t==null?0:t.length,i=0,l=[];++r<a;){var u=t[r];n(u,r,t)&&(l[i++]=u)}return l}return B1=e,B1}var H1,f3;function P8(){if(f3)return H1;f3=1;function e(){return[]}return H1=e,H1}var F1,h3;function F_(){if(h3)return F1;h3=1;var e=sbe(),t=P8(),n=Object.prototype,r=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(l){return l==null?[]:(l=Object(l),e(a(l),function(u){return r.call(l,u)}))}:t;return F1=i,F1}var V1,p3;function lbe(){if(p3)return V1;p3=1;function e(t,n){for(var r=-1,a=Array(t);++r<t;)a[r]=n(r);return a}return V1=e,V1}var W1,m3;function cbe(){if(m3)return W1;m3=1;var e=Nd(),t=xl(),n="[object Arguments]";function r(a){return t(a)&&e(a)==n}return W1=r,W1}var G1,g3;function V_(){if(g3)return G1;g3=1;var e=cbe(),t=xl(),n=Object.prototype,r=n.hasOwnProperty,a=n.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(l){return t(l)&&r.call(l,"callee")&&!a.call(l,"callee")};return G1=i,G1}var Gf={exports:{}},Y1,v3;function ube(){if(v3)return Y1;v3=1;function e(){return!1}return Y1=e,Y1}Gf.exports;var y3;function Xy(){return y3||(y3=1,(function(e,t){var n=Eo(),r=ube(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,l=i&&i.exports===a,u=l?n.Buffer:void 0,d=u?u.isBuffer:void 0,h=d||r;e.exports=h})(Gf,Gf.exports)),Gf.exports}var Q1,b3;function dbe(){if(b3)return Q1;b3=1;var e=Nd(),t=T_(),n=xl(),r="[object Arguments]",a="[object Array]",i="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",h="[object Map]",p="[object Number]",m="[object Object]",g="[object RegExp]",y="[object Set]",S="[object String]",x="[object WeakMap]",C="[object ArrayBuffer]",E="[object DataView]",j="[object Float32Array]",R="[object Float64Array]",_="[object Int8Array]",A="[object Int16Array]",M="[object Int32Array]",D="[object Uint8Array]",O="[object Uint8ClampedArray]",k="[object Uint16Array]",I="[object Uint32Array]",L={};L[j]=L[R]=L[_]=L[A]=L[M]=L[D]=L[O]=L[k]=L[I]=!0,L[r]=L[a]=L[C]=L[i]=L[E]=L[l]=L[u]=L[d]=L[h]=L[p]=L[m]=L[g]=L[y]=L[S]=L[x]=!1;function V(q){return n(q)&&t(q.length)&&!!L[e(q)]}return Q1=V,Q1}var K1,x3;function Zy(){if(x3)return K1;x3=1;function e(t){return function(n){return t(n)}}return K1=e,K1}var Yf={exports:{}};Yf.exports;var S3;function W_(){return S3||(S3=1,(function(e,t){var n=p8(),r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,l=i&&n.process,u=(function(){try{var d=a&&a.require&&a.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();e.exports=u})(Yf,Yf.exports)),Yf.exports}var X1,w3;function G_(){if(w3)return X1;w3=1;var e=dbe(),t=Zy(),n=W_(),r=n&&n.isTypedArray,a=r?t(r):e;return X1=a,X1}var Z1,C3;function N8(){if(C3)return Z1;C3=1;var e=lbe(),t=V_(),n=Ti(),r=Xy(),a=R_(),i=G_(),l=Object.prototype,u=l.hasOwnProperty;function d(h,p){var m=n(h),g=!m&&t(h),y=!m&&!g&&r(h),S=!m&&!g&&!y&&i(h),x=m||g||y||S,C=x?e(h.length,String):[],E=C.length;for(var j in h)(p||u.call(h,j))&&!(x&&(j=="length"||y&&(j=="offset"||j=="parent")||S&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||a(j,E)))&&C.push(j);return C}return Z1=d,Z1}var J1,j3;function Y_(){if(j3)return J1;j3=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,a=typeof r=="function"&&r.prototype||e;return n===a}return J1=t,J1}var ew,E3;function I8(){if(E3)return ew;E3=1;function e(t,n){return function(r){return t(n(r))}}return ew=e,ew}var tw,T3;function fbe(){if(T3)return tw;T3=1;var e=I8(),t=e(Object.keys,Object);return tw=t,tw}var nw,R3;function hbe(){if(R3)return nw;R3=1;var e=Y_(),t=fbe(),n=Object.prototype,r=n.hasOwnProperty;function a(i){if(!e(i))return t(i);var l=[];for(var u in Object(i))r.call(i,u)&&u!="constructor"&&l.push(u);return l}return nw=a,nw}var rw,_3;function mp(){if(_3)return rw;_3=1;var e=N8(),t=hbe(),n=up();function r(a){return n(a)?e(a):t(a)}return rw=r,rw}var aw,D3;function L8(){if(D3)return aw;D3=1;var e=M8(),t=F_(),n=mp();function r(a){return e(a,n,t)}return aw=r,aw}var iw,A3;function pbe(){if(A3)return iw;A3=1;var e=L8(),t=1,n=Object.prototype,r=n.hasOwnProperty;function a(i,l,u,d,h,p){var m=u&t,g=e(i),y=g.length,S=e(l),x=S.length;if(y!=x&&!m)return!1;for(var C=y;C--;){var E=g[C];if(!(m?E in l:r.call(l,E)))return!1}var j=p.get(i),R=p.get(l);if(j&&R)return j==l&&R==i;var _=!0;p.set(i,l),p.set(l,i);for(var A=m;++C<y;){E=g[C];var M=i[E],D=l[E];if(d)var O=m?d(D,M,E,l,i,p):d(M,D,E,i,l,p);if(!(O===void 0?M===D||h(M,D,u,d,p):O)){_=!1;break}A||(A=E=="constructor")}if(_&&!A){var k=i.constructor,I=l.constructor;k!=I&&"constructor"in i&&"constructor"in l&&!(typeof k=="function"&&k instanceof k&&typeof I=="function"&&I instanceof I)&&(_=!1)}return p.delete(i),p.delete(l),_}return iw=a,iw}var ow,O3;function mbe(){if(O3)return ow;O3=1;var e=Wc(),t=Eo(),n=e(t,"DataView");return ow=n,ow}var sw,k3;function gbe(){if(k3)return sw;k3=1;var e=Wc(),t=Eo(),n=e(t,"Promise");return sw=n,sw}var lw,M3;function vbe(){if(M3)return lw;M3=1;var e=Wc(),t=Eo(),n=e(t,"Set");return lw=n,lw}var cw,P3;function ybe(){if(P3)return cw;P3=1;var e=Wc(),t=Eo(),n=e(t,"WeakMap");return cw=n,cw}var uw,N3;function Jy(){if(N3)return uw;N3=1;var e=mbe(),t=q_(),n=gbe(),r=vbe(),a=ybe(),i=Nd(),l=A8(),u="[object Map]",d="[object Object]",h="[object Promise]",p="[object Set]",m="[object WeakMap]",g="[object DataView]",y=l(e),S=l(t),x=l(n),C=l(r),E=l(a),j=i;return(e&&j(new e(new ArrayBuffer(1)))!=g||t&&j(new t)!=u||n&&j(n.resolve())!=h||r&&j(new r)!=p||a&&j(new a)!=m)&&(j=function(R){var _=i(R),A=_==d?R.constructor:void 0,M=A?l(A):"";if(M)switch(M){case y:return g;case S:return u;case x:return h;case C:return p;case E:return m}return _}),uw=j,uw}var dw,I3;function bbe(){if(I3)return dw;I3=1;var e=B_(),t=O8(),n=obe(),r=pbe(),a=Jy(),i=Ti(),l=Xy(),u=G_(),d=1,h="[object Arguments]",p="[object Array]",m="[object Object]",g=Object.prototype,y=g.hasOwnProperty;function S(x,C,E,j,R,_){var A=i(x),M=i(C),D=A?p:a(x),O=M?p:a(C);D=D==h?m:D,O=O==h?m:O;var k=D==m,I=O==m,L=D==O;if(L&&l(x)){if(!l(C))return!1;A=!0,k=!1}if(L&&!k)return _||(_=new e),A||u(x)?t(x,C,E,j,R,_):n(x,C,D,E,j,R,_);if(!(E&d)){var V=k&&y.call(x,"__wrapped__"),q=I&&y.call(C,"__wrapped__");if(V||q){var U=V?x.value():x,G=q?C.value():C;return _||(_=new e),R(U,G,E,j,_)}}return L?(_||(_=new e),r(x,C,E,j,R,_)):!1}return dw=S,dw}var fw,L3;function Q_(){if(L3)return fw;L3=1;var e=bbe(),t=xl();function n(r,a,i,l,u){return r===a?!0:r==null||a==null||!t(r)&&!t(a)?r!==r&&a!==a:e(r,a,i,l,n,u)}return fw=n,fw}var hw,z3;function xbe(){if(z3)return hw;z3=1;var e=Q_();function t(n,r){return e(n,r)}return hw=t,hw}var Sbe=xbe();const wbe=Rn(Sbe);function pw(e,t){var n=__(e);return n?n.innerHeight:lc(e).height}function z8(e,t,n){e.closest&&!n&&e.closest(t);var r=e;do{if(Jve(r,t))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}var mw,$3;function Cbe(){if($3)return mw;$3=1;function e(t,n,r,a){for(var i=t.length,l=r+(a?1:-1);a?l--:++l<i;)if(n(t[l],l,t))return l;return-1}return mw=e,mw}var gw,q3;function jbe(){if(q3)return gw;q3=1;var e=B_(),t=Q_(),n=1,r=2;function a(i,l,u,d){var h=u.length,p=h,m=!d;if(i==null)return!p;for(i=Object(i);h--;){var g=u[h];if(m&&g[2]?g[1]!==i[g[0]]:!(g[0]in i))return!1}for(;++h<p;){g=u[h];var y=g[0],S=i[y],x=g[1];if(m&&g[2]){if(S===void 0&&!(y in i))return!1}else{var C=new e;if(d)var E=d(S,x,y,i,l,C);if(!(E===void 0?t(x,S,n|r,d,C):E))return!1}}return!0}return gw=a,gw}var vw,U3;function $8(){if(U3)return vw;U3=1;var e=ps();function t(n){return n===n&&!e(n)}return vw=t,vw}var yw,B3;function Ebe(){if(B3)return yw;B3=1;var e=$8(),t=mp();function n(r){for(var a=t(r),i=a.length;i--;){var l=a[i],u=r[l];a[i]=[l,u,e(u)]}return a}return yw=n,yw}var bw,H3;function q8(){if(H3)return bw;H3=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return bw=e,bw}var xw,F3;function Tbe(){if(F3)return xw;F3=1;var e=jbe(),t=Ebe(),n=q8();function r(a){var i=t(a);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(l){return l===a||e(l,a,i)}}return xw=r,xw}var Sw,V3;function K_(){if(V3)return Sw;V3=1;var e=Ti(),t=dp(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,l){if(e(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||t(i)?!0:r.test(i)||!n.test(i)||l!=null&&i in Object(l)}return Sw=a,Sw}var ww,W3;function Rbe(){if(W3)return ww;W3=1;var e=U_(),t="Expected a function";function n(r,a){if(typeof r!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var l=arguments,u=a?a.apply(this,l):l[0],d=i.cache;if(d.has(u))return d.get(u);var h=r.apply(this,l);return i.cache=d.set(u,h)||d,h};return i.cache=new(n.Cache||e),i}return n.Cache=e,ww=n,ww}var Cw,G3;function _be(){if(G3)return Cw;G3=1;var e=Rbe(),t=500;function n(r){var a=e(r,function(l){return i.size===t&&i.clear(),l}),i=a.cache;return a}return Cw=n,Cw}var jw,Y3;function Dbe(){if(Y3)return jw;Y3=1;var e=_be(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(l,u,d,h){i.push(d?h.replace(n,"$1"):u||l)}),i});return jw=r,jw}var Ew,Q3;function X_(){if(Q3)return Ew;Q3=1;function e(t,n){for(var r=-1,a=t==null?0:t.length,i=Array(a);++r<a;)i[r]=n(t[r],r,t);return i}return Ew=e,Ew}var Tw,K3;function Abe(){if(K3)return Tw;K3=1;var e=Pd(),t=X_(),n=Ti(),r=dp(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function l(u){if(typeof u=="string")return u;if(n(u))return t(u,l)+"";if(r(u))return i?i.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return Tw=l,Tw}var Rw,X3;function Obe(){if(X3)return Rw;X3=1;var e=Abe();function t(n){return n==null?"":e(n)}return Rw=t,Rw}var _w,Z3;function e0(){if(Z3)return _w;Z3=1;var e=Ti(),t=K_(),n=Dbe(),r=Obe();function a(i,l){return e(i)?i:t(i,l)?[i]:n(r(i))}return _w=a,_w}var Dw,J3;function gp(){if(J3)return Dw;J3=1;var e=dp();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Dw=t,Dw}var Aw,eI;function t0(){if(eI)return Aw;eI=1;var e=e0(),t=gp();function n(r,a){a=e(a,r);for(var i=0,l=a.length;r!=null&&i<l;)r=r[t(a[i++])];return i&&i==l?r:void 0}return Aw=n,Aw}var Ow,tI;function kbe(){if(tI)return Ow;tI=1;var e=t0();function t(n,r,a){var i=n==null?void 0:e(n,r);return i===void 0?a:i}return Ow=t,Ow}var kw,nI;function Mbe(){if(nI)return kw;nI=1;function e(t,n){return t!=null&&n in Object(t)}return kw=e,kw}var Mw,rI;function Pbe(){if(rI)return Mw;rI=1;var e=e0(),t=V_(),n=Ti(),r=R_(),a=T_(),i=gp();function l(u,d,h){d=e(d,u);for(var p=-1,m=d.length,g=!1;++p<m;){var y=i(d[p]);if(!(g=u!=null&&h(u,y)))break;u=u[y]}return g||++p!=m?g:(m=u==null?0:u.length,!!m&&a(m)&&r(y,m)&&(n(u)||t(u)))}return Mw=l,Mw}var Pw,aI;function Nbe(){if(aI)return Pw;aI=1;var e=Mbe(),t=Pbe();function n(r,a){return r!=null&&t(r,a,e)}return Pw=n,Pw}var Nw,iI;function Ibe(){if(iI)return Nw;iI=1;var e=Q_(),t=kbe(),n=Nbe(),r=K_(),a=$8(),i=q8(),l=gp(),u=1,d=2;function h(p,m){return r(p)&&a(m)?i(l(p),m):function(g){var y=t(g,p);return y===void 0&&y===m?n(g,p):e(m,y,u|d)}}return Nw=h,Nw}var Iw,oI;function n0(){if(oI)return Iw;oI=1;function e(t){return t}return Iw=e,Iw}var Lw,sI;function Lbe(){if(sI)return Lw;sI=1;function e(t){return function(n){return n?.[t]}}return Lw=e,Lw}var zw,lI;function zbe(){if(lI)return zw;lI=1;var e=t0();function t(n){return function(r){return e(r,n)}}return zw=t,zw}var $w,cI;function $be(){if(cI)return $w;cI=1;var e=Lbe(),t=zbe(),n=K_(),r=gp();function a(i){return n(i)?e(r(i)):t(i)}return $w=a,$w}var qw,uI;function r0(){if(uI)return qw;uI=1;var e=Tbe(),t=Ibe(),n=n0(),r=Ti(),a=$be();function i(l){return typeof l=="function"?l:l==null?n:typeof l=="object"?r(l)?t(l[0],l[1]):e(l):a(l)}return qw=i,qw}var Uw,dI;function qbe(){if(dI)return Uw;dI=1;var e=Cbe(),t=r0(),n=g8(),r=Math.max;function a(i,l,u){var d=i==null?0:i.length;if(!d)return-1;var h=u==null?0:n(u);return h<0&&(h=r(d+h,0)),e(i,t(l,3),h)}return Uw=a,Uw}var Ube=qbe();const Bbe=Rn(Ube);var Bw,fI;function Hbe(){if(fI)return Bw;fI=1;var e=Math.ceil,t=Math.max;function n(r,a,i,l){for(var u=-1,d=t(e((a-r)/(i||1)),0),h=Array(d);d--;)h[l?d:++u]=r,r+=i;return h}return Bw=n,Bw}var Hw,hI;function Fbe(){if(hI)return Hw;hI=1;var e=Hbe(),t=Vy(),n=m8();function r(a){return function(i,l,u){return u&&typeof u!="number"&&t(i,l,u)&&(l=u=void 0),i=n(i),l===void 0?(l=i,i=0):l=n(l),u=u===void 0?i<l?1:-1:n(u),e(i,l,u,a)}}return Hw=r,Hw}var Fw,pI;function Vbe(){if(pI)return Fw;pI=1;var e=Fbe(),t=e();return Fw=t,Fw}var Wbe=Vbe();const Gbe=Rn(Wbe);var mI=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Ybe(e,t){return!!(e===t||mI(e)&&mI(t))}function Qbe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Ybe(e[n],t[n]))return!1;return!0}function U8(e,t){t===void 0&&(t=Qbe);var n=null;function r(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(n&&n.lastThis===this&&t(a,n.lastArgs))return n.lastResult;var l=e.apply(this,a);return n={lastResult:l,lastArgs:a,lastThis:this},l}return r.clear=function(){n=null},r}function Jj(e,t){var n=__(e);return n?n.innerWidth:lc(e).width}var Vw,gI;function Kbe(){if(gI)return Vw;gI=1;var e=Pd(),t=V_(),n=Ti(),r=e?e.isConcatSpreadable:void 0;function a(i){return n(i)||t(i)||!!(r&&i&&i[r])}return Vw=a,Vw}var Ww,vI;function B8(){if(vI)return Ww;vI=1;var e=H_(),t=Kbe();function n(r,a,i,l,u){var d=-1,h=r.length;for(i||(i=t),u||(u=[]);++d<h;){var p=r[d];a>0&&i(p)?a>1?n(p,a-1,i,l,u):e(u,p):l||(u[u.length]=p)}return u}return Ww=n,Ww}var Gw,yI;function Xbe(){if(yI)return Gw;yI=1;function e(t){return function(n,r,a){for(var i=-1,l=Object(n),u=a(n),d=u.length;d--;){var h=u[t?d:++i];if(r(l[h],h,l)===!1)break}return n}}return Gw=e,Gw}var Yw,bI;function Zbe(){if(bI)return Yw;bI=1;var e=Xbe(),t=e();return Yw=t,Yw}var Qw,xI;function Z_(){if(xI)return Qw;xI=1;var e=Zbe(),t=mp();function n(r,a){return r&&e(r,a,t)}return Qw=n,Qw}var Kw,SI;function Jbe(){if(SI)return Kw;SI=1;var e=up();function t(n,r){return function(a,i){if(a==null)return a;if(!e(a))return n(a,i);for(var l=a.length,u=r?l:-1,d=Object(a);(r?u--:++u<l)&&i(d[u],u,d)!==!1;);return a}}return Kw=t,Kw}var Xw,wI;function exe(){if(wI)return Xw;wI=1;var e=Z_(),t=Jbe(),n=t(e);return Xw=n,Xw}var Zw,CI;function txe(){if(CI)return Zw;CI=1;var e=exe(),t=up();function n(r,a){var i=-1,l=t(r)?Array(r.length):[];return e(r,function(u,d,h){l[++i]=a(u,d,h)}),l}return Zw=n,Zw}var Jw,jI;function nxe(){if(jI)return Jw;jI=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return Jw=e,Jw}var eC,EI;function rxe(){if(EI)return eC;EI=1;var e=dp();function t(n,r){if(n!==r){var a=n!==void 0,i=n===null,l=n===n,u=e(n),d=r!==void 0,h=r===null,p=r===r,m=e(r);if(!h&&!m&&!u&&n>r||u&&d&&p&&!h&&!m||i&&d&&p||!a&&p||!l)return 1;if(!i&&!u&&!m&&n<r||m&&a&&l&&!i&&!u||h&&a&&l||!d&&l||!p)return-1}return 0}return eC=t,eC}var tC,TI;function axe(){if(TI)return tC;TI=1;var e=rxe();function t(n,r,a){for(var i=-1,l=n.criteria,u=r.criteria,d=l.length,h=a.length;++i<d;){var p=e(l[i],u[i]);if(p){if(i>=h)return p;var m=a[i];return p*(m=="desc"?-1:1)}}return n.index-r.index}return tC=t,tC}var nC,RI;function ixe(){if(RI)return nC;RI=1;var e=X_(),t=t0(),n=r0(),r=txe(),a=nxe(),i=Zy(),l=axe(),u=n0(),d=Ti();function h(p,m,g){m.length?m=e(m,function(x){return d(x)?function(C){return t(C,x.length===1?x[0]:x)}:x}):m=[u];var y=-1;m=e(m,i(n));var S=r(p,function(x,C,E){var j=e(m,function(R){return R(x)});return{criteria:j,index:++y,value:x}});return a(S,function(x,C){return l(x,C,g)})}return nC=h,nC}var rC,_I;function oxe(){if(_I)return rC;_I=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return rC=e,rC}var aC,DI;function H8(){if(DI)return aC;DI=1;var e=oxe(),t=Math.max;function n(r,a,i){return a=t(a===void 0?r.length-1:a,0),function(){for(var l=arguments,u=-1,d=t(l.length-a,0),h=Array(d);++u<d;)h[u]=l[a+u];u=-1;for(var p=Array(a+1);++u<a;)p[u]=l[u];return p[a]=i(h),e(r,this,p)}}return aC=n,aC}var iC,AI;function sxe(){if(AI)return iC;AI=1;function e(t){return function(){return t}}return iC=e,iC}var oC,OI;function F8(){if(OI)return oC;OI=1;var e=Wc(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return oC=t,oC}var sC,kI;function lxe(){if(kI)return sC;kI=1;var e=sxe(),t=F8(),n=n0(),r=t?function(a,i){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:n;return sC=r,sC}var lC,MI;function cxe(){if(MI)return lC;MI=1;var e=800,t=16,n=Date.now;function r(a){var i=0,l=0;return function(){var u=n(),d=t-(u-l);if(l=u,d>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return lC=r,lC}var cC,PI;function V8(){if(PI)return cC;PI=1;var e=lxe(),t=cxe(),n=t(e);return cC=n,cC}var uC,NI;function W8(){if(NI)return uC;NI=1;var e=n0(),t=H8(),n=V8();function r(a,i){return n(t(a,i,e),a+"")}return uC=r,uC}var dC,II;function uxe(){if(II)return dC;II=1;var e=B8(),t=ixe(),n=W8(),r=Vy(),a=n(function(i,l){if(i==null)return[];var u=l.length;return u>1&&r(i,l[0],l[1])?l=[]:u>2&&r(l[0],l[1],l[2])&&(l=[l[0]]),t(i,e(l,1),[])});return dC=a,dC}var dxe=uxe();const fxe=Rn(dxe);function G8(e){return Z7(e)||f8(e)||w_(e)||J7()}var fC,LI;function hxe(){if(LI)return fC;LI=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return fC=e,fC}var hC,zI;function pxe(){if(zI)return hC;zI=1;var e=ps(),t=Y_(),n=hxe(),r=Object.prototype,a=r.hasOwnProperty;function i(l){if(!e(l))return n(l);var u=t(l),d=[];for(var h in l)h=="constructor"&&(u||!a.call(l,h))||d.push(h);return d}return hC=i,hC}var pC,$I;function a0(){if($I)return pC;$I=1;var e=N8(),t=pxe(),n=up();function r(a){return n(a)?e(a,!0):t(a)}return pC=r,pC}var mC,qI;function mxe(){if(qI)return mC;qI=1;var e=W8(),t=cp(),n=Vy(),r=a0(),a=Object.prototype,i=a.hasOwnProperty,l=e(function(u,d){u=Object(u);var h=-1,p=d.length,m=p>2?d[2]:void 0;for(m&&n(d[0],d[1],m)&&(p=1);++h<p;)for(var g=d[h],y=r(g),S=-1,x=y.length;++S<x;){var C=y[S],E=u[C];(E===void 0||t(E,a[C])&&!i.call(u,C))&&(u[C]=g[C])}return u});return mC=l,mC}var gxe=mxe();const vxe=Rn(gxe);var gC,UI;function J_(){if(UI)return gC;UI=1;var e=F8();function t(n,r,a){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[r]=a}return gC=t,gC}var vC,BI;function yxe(){if(BI)return vC;BI=1;var e=J_(),t=Z_(),n=r0();function r(a,i){var l={};return i=n(i,3),t(a,function(u,d,h){e(l,d,i(u,d,h))}),l}return vC=r,vC}var bxe=yxe();const xxe=Rn(bxe);var yC,HI;function Y8(){if(HI)return yC;HI=1;function e(t,n){for(var r=-1,a=t==null?0:t.length;++r<a&&n(t[r],r,t)!==!1;);return t}return yC=e,yC}var bC,FI;function Q8(){if(FI)return bC;FI=1;var e=J_(),t=cp(),n=Object.prototype,r=n.hasOwnProperty;function a(i,l,u){var d=i[l];(!(r.call(i,l)&&t(d,u))||u===void 0&&!(l in i))&&e(i,l,u)}return bC=a,bC}var xC,VI;function vp(){if(VI)return xC;VI=1;var e=Q8(),t=J_();function n(r,a,i,l){var u=!i;i||(i={});for(var d=-1,h=a.length;++d<h;){var p=a[d],m=l?l(i[p],r[p],p,i,r):void 0;m===void 0&&(m=r[p]),u?t(i,p,m):e(i,p,m)}return i}return xC=n,xC}var SC,WI;function Sxe(){if(WI)return SC;WI=1;var e=vp(),t=mp();function n(r,a){return r&&e(a,t(a),r)}return SC=n,SC}var wC,GI;function wxe(){if(GI)return wC;GI=1;var e=vp(),t=a0();function n(r,a){return r&&e(a,t(a),r)}return wC=n,wC}var Qf={exports:{}};Qf.exports;var YI;function Cxe(){return YI||(YI=1,(function(e,t){var n=Eo(),r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,l=i?n.Buffer:void 0,u=l?l.allocUnsafe:void 0;function d(h,p){if(p)return h.slice();var m=h.length,g=u?u(m):new h.constructor(m);return h.copy(g),g}e.exports=d})(Qf,Qf.exports)),Qf.exports}var CC,QI;function jxe(){if(QI)return CC;QI=1;function e(t,n){var r=-1,a=t.length;for(n||(n=Array(a));++r<a;)n[r]=t[r];return n}return CC=e,CC}var jC,KI;function Exe(){if(KI)return jC;KI=1;var e=vp(),t=F_();function n(r,a){return e(r,t(r),a)}return jC=n,jC}var EC,XI;function i0(){if(XI)return EC;XI=1;var e=I8(),t=e(Object.getPrototypeOf,Object);return EC=t,EC}var TC,ZI;function K8(){if(ZI)return TC;ZI=1;var e=H_(),t=i0(),n=F_(),r=P8(),a=Object.getOwnPropertySymbols,i=a?function(l){for(var u=[];l;)e(u,n(l)),l=t(l);return u}:r;return TC=i,TC}var RC,JI;function Txe(){if(JI)return RC;JI=1;var e=vp(),t=K8();function n(r,a){return e(r,t(r),a)}return RC=n,RC}var _C,eL;function X8(){if(eL)return _C;eL=1;var e=M8(),t=K8(),n=a0();function r(a){return e(a,n,t)}return _C=r,_C}var DC,tL;function Rxe(){if(tL)return DC;tL=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var a=r.length,i=new r.constructor(a);return a&&typeof r[0]=="string"&&t.call(r,"index")&&(i.index=r.index,i.input=r.input),i}return DC=n,DC}var AC,nL;function e2(){if(nL)return AC;nL=1;var e=k8();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return AC=t,AC}var OC,rL;function _xe(){if(rL)return OC;rL=1;var e=e2();function t(n,r){var a=r?e(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.byteLength)}return OC=t,OC}var kC,aL;function Dxe(){if(aL)return kC;aL=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return kC=t,kC}var MC,iL;function Axe(){if(iL)return MC;iL=1;var e=Pd(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(a){return n?Object(n.call(a)):{}}return MC=r,MC}var PC,oL;function Oxe(){if(oL)return PC;oL=1;var e=e2();function t(n,r){var a=r?e(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.length)}return PC=t,PC}var NC,sL;function kxe(){if(sL)return NC;sL=1;var e=e2(),t=_xe(),n=Dxe(),r=Axe(),a=Oxe(),i="[object Boolean]",l="[object Date]",u="[object Map]",d="[object Number]",h="[object RegExp]",p="[object Set]",m="[object String]",g="[object Symbol]",y="[object ArrayBuffer]",S="[object DataView]",x="[object Float32Array]",C="[object Float64Array]",E="[object Int8Array]",j="[object Int16Array]",R="[object Int32Array]",_="[object Uint8Array]",A="[object Uint8ClampedArray]",M="[object Uint16Array]",D="[object Uint32Array]";function O(k,I,L){var V=k.constructor;switch(I){case y:return e(k);case i:case l:return new V(+k);case S:return t(k,L);case x:case C:case E:case j:case R:case _:case A:case M:case D:return a(k,L);case u:return new V;case d:case m:return new V(k);case h:return n(k);case p:return new V;case g:return r(k)}}return NC=O,NC}var IC,lL;function Z8(){if(lL)return IC;lL=1;var e=ps(),t=Object.create,n=(function(){function r(){}return function(a){if(!e(a))return{};if(t)return t(a);r.prototype=a;var i=new r;return r.prototype=void 0,i}})();return IC=n,IC}var LC,cL;function Mxe(){if(cL)return LC;cL=1;var e=Z8(),t=i0(),n=Y_();function r(a){return typeof a.constructor=="function"&&!n(a)?e(t(a)):{}}return LC=r,LC}var zC,uL;function Pxe(){if(uL)return zC;uL=1;var e=Jy(),t=xl(),n="[object Map]";function r(a){return t(a)&&e(a)==n}return zC=r,zC}var $C,dL;function Nxe(){if(dL)return $C;dL=1;var e=Pxe(),t=Zy(),n=W_(),r=n&&n.isMap,a=r?t(r):e;return $C=a,$C}var qC,fL;function Ixe(){if(fL)return qC;fL=1;var e=Jy(),t=xl(),n="[object Set]";function r(a){return t(a)&&e(a)==n}return qC=r,qC}var UC,hL;function Lxe(){if(hL)return UC;hL=1;var e=Ixe(),t=Zy(),n=W_(),r=n&&n.isSet,a=r?t(r):e;return UC=a,UC}var BC,pL;function zxe(){if(pL)return BC;pL=1;var e=B_(),t=Y8(),n=Q8(),r=Sxe(),a=wxe(),i=Cxe(),l=jxe(),u=Exe(),d=Txe(),h=L8(),p=X8(),m=Jy(),g=Rxe(),y=kxe(),S=Mxe(),x=Ti(),C=Xy(),E=Nxe(),j=ps(),R=Lxe(),_=mp(),A=a0(),M=1,D=2,O=4,k="[object Arguments]",I="[object Array]",L="[object Boolean]",V="[object Date]",q="[object Error]",U="[object Function]",G="[object GeneratorFunction]",N="[object Map]",z="[object Number]",$="[object Object]",Y="[object RegExp]",X="[object Set]",H="[object String]",F="[object Symbol]",Q="[object WeakMap]",J="[object ArrayBuffer]",re="[object DataView]",de="[object Float32Array]",Ee="[object Float64Array]",Re="[object Int8Array]",Se="[object Int16Array]",Ye="[object Int32Array]",Je="[object Uint8Array]",Ve="[object Uint8ClampedArray]",ze="[object Uint16Array]",mt="[object Uint32Array]",Ze={};Ze[k]=Ze[I]=Ze[J]=Ze[re]=Ze[L]=Ze[V]=Ze[de]=Ze[Ee]=Ze[Re]=Ze[Se]=Ze[Ye]=Ze[N]=Ze[z]=Ze[$]=Ze[Y]=Ze[X]=Ze[H]=Ze[F]=Ze[Je]=Ze[Ve]=Ze[ze]=Ze[mt]=!0,Ze[q]=Ze[U]=Ze[Q]=!1;function Bt(ot,Ot,_t,We,ht,dt){var pt,ut=Ot&M,xt=Ot&D,hr=Ot&O;if(_t&&(pt=ht?_t(ot,We,ht,dt):_t(ot)),pt!==void 0)return pt;if(!j(ot))return ot;var Ft=x(ot);if(Ft){if(pt=g(ot),!ut)return l(ot,pt)}else{var kt=m(ot),$n=kt==U||kt==G;if(C(ot))return i(ot,ut);if(kt==$||kt==k||$n&&!ht){if(pt=xt||$n?{}:S(ot),!ut)return xt?d(ot,a(pt,ot)):u(ot,r(pt,ot))}else{if(!Ze[kt])return ht?ot:{};pt=y(ot,kt,ut)}}dt||(dt=new e);var jr=dt.get(ot);if(jr)return jr;dt.set(ot,pt),R(ot)?ot.forEach(function(Yt){pt.add(Bt(Yt,Ot,_t,Yt,ot,dt))}):E(ot)&&ot.forEach(function(Yt,jt){pt.set(jt,Bt(Yt,Ot,_t,jt,ot,dt))});var Qa=hr?xt?p:h:xt?A:_,Kn=Ft?void 0:Qa(ot);return t(Kn||ot,function(Yt,jt){Kn&&(jt=Yt,Yt=ot[jt]),n(pt,jt,Bt(Yt,Ot,_t,jt,ot,dt))}),pt}return BC=Bt,BC}var HC,mL;function $xe(){if(mL)return HC;mL=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return HC=e,HC}var FC,gL;function qxe(){if(gL)return FC;gL=1;var e=t0(),t=h8();function n(r,a){return a.length<2?r:e(r,t(a,0,-1))}return FC=n,FC}var VC,vL;function Uxe(){if(vL)return VC;vL=1;var e=e0(),t=$xe(),n=qxe(),r=gp();function a(i,l){return l=e(l,i),i=n(i,l),i==null||delete i[r(t(l))]}return VC=a,VC}var WC,yL;function Bxe(){if(yL)return WC;yL=1;var e=Nd(),t=i0(),n=xl(),r="[object Object]",a=Function.prototype,i=Object.prototype,l=a.toString,u=i.hasOwnProperty,d=l.call(Object);function h(p){if(!n(p)||e(p)!=r)return!1;var m=t(p);if(m===null)return!0;var g=u.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&l.call(g)==d}return WC=h,WC}var GC,bL;function Hxe(){if(bL)return GC;bL=1;var e=Bxe();function t(n){return e(n)?void 0:n}return GC=t,GC}var YC,xL;function Fxe(){if(xL)return YC;xL=1;var e=B8();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return YC=t,YC}var QC,SL;function Vxe(){if(SL)return QC;SL=1;var e=Fxe(),t=H8(),n=V8();function r(a){return n(t(a,void 0,e),a+"")}return QC=r,QC}var KC,wL;function Wxe(){if(wL)return KC;wL=1;var e=X_(),t=zxe(),n=Uxe(),r=e0(),a=vp(),i=Hxe(),l=Vxe(),u=X8(),d=1,h=2,p=4,m=l(function(g,y){var S={};if(g==null)return S;var x=!1;y=e(y,function(E){return E=r(E,g),x||(x=E.length>1),E}),a(g,u(g),S),x&&(S=t(S,d|h|p,i));for(var C=y.length;C--;)n(S,y[C]);return S});return KC=m,KC}var Gxe=Wxe();const Yxe=Rn(Gxe);var XC,CL;function Qxe(){if(CL)return XC;CL=1;var e=Y8(),t=Z8(),n=Z_(),r=r0(),a=i0(),i=Ti(),l=Xy(),u=E_(),d=ps(),h=G_();function p(m,g,y){var S=i(m),x=S||l(m)||h(m);if(g=r(g,4),y==null){var C=m&&m.constructor;x?y=S?new C:[]:d(m)?y=u(C)?t(a(m)):{}:y={}}return(x?e:n)(m,function(E,j,R){return g(y,E,j,R)}),y}return XC=p,XC}var Kxe=Qxe();const Xxe=Rn(Kxe);var Rg={exports:{}},Zxe=Rg.exports,jL;function Jxe(){return jL||(jL=1,(function(e,t){(function(n,r){e.exports=r()})(Zxe,(function(){return function(n,r,a){r.prototype.isBetween=function(i,l,u,d){var h=a(i),p=a(l),m=(d=d||"()")[0]==="(",g=d[1]===")";return(m?this.isAfter(h,u):!this.isBefore(h,u))&&(g?this.isBefore(p,u):!this.isAfter(p,u))||(m?this.isBefore(h,u):!this.isAfter(h,u))&&(g?this.isAfter(p,u):!this.isBefore(p,u))}}}))})(Rg)),Rg.exports}var eSe=Jxe();const tSe=Rn(eSe);var _g={exports:{}},nSe=_g.exports,EL;function rSe(){return EL||(EL=1,(function(e,t){(function(n,r){e.exports=r()})(nSe,(function(){return function(n,r){r.prototype.isSameOrAfter=function(a,i){return this.isSame(a,i)||this.isAfter(a,i)}}}))})(_g)),_g.exports}var aSe=rSe();const iSe=Rn(aSe);var Dg={exports:{}},oSe=Dg.exports,TL;function sSe(){return TL||(TL=1,(function(e,t){(function(n,r){e.exports=r()})(oSe,(function(){return function(n,r){r.prototype.isSameOrBefore=function(a,i){return this.isSame(a,i)||this.isBefore(a,i)}}}))})(Dg)),Dg.exports}var lSe=sSe();const cSe=Rn(lSe);var Ag={exports:{}},uSe=Ag.exports,RL;function dSe(){return RL||(RL=1,(function(e,t){(function(n,r){e.exports=r()})(uSe,(function(){return function(n,r,a){var i=r.prototype,l=function(m){return m&&(m.indexOf?m:m.s)},u=function(m,g,y,S,x){var C=m.name?m:m.$locale(),E=l(C[g]),j=l(C[y]),R=E||j.map((function(A){return A.slice(0,S)}));if(!x)return R;var _=C.weekStart;return R.map((function(A,M){return R[(M+(_||0))%7]}))},d=function(){return a.Ls[a.locale()]},h=function(m,g){return m.formats[g]||(function(y){return y.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(S,x,C){return x||C.slice(1)}))})(m.formats[g.toUpperCase()])},p=function(){var m=this;return{months:function(g){return g?g.format("MMMM"):u(m,"months")},monthsShort:function(g){return g?g.format("MMM"):u(m,"monthsShort","months",3)},firstDayOfWeek:function(){return m.$locale().weekStart||0},weekdays:function(g){return g?g.format("dddd"):u(m,"weekdays")},weekdaysMin:function(g){return g?g.format("dd"):u(m,"weekdaysMin","weekdays",2)},weekdaysShort:function(g){return g?g.format("ddd"):u(m,"weekdaysShort","weekdays",3)},longDateFormat:function(g){return h(m.$locale(),g)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return p.bind(this)()},a.localeData=function(){var m=d();return{firstDayOfWeek:function(){return m.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(g){return h(m,g)},meridiem:m.meridiem,ordinal:m.ordinal}},a.months=function(){return u(d(),"months")},a.monthsShort=function(){return u(d(),"monthsShort","months",3)},a.weekdays=function(m){return u(d(),"weekdays",null,null,m)},a.weekdaysShort=function(m){return u(d(),"weekdaysShort","weekdays",3,m)},a.weekdaysMin=function(m){return u(d(),"weekdaysMin","weekdays",2,m)}}}))})(Ag)),Ag.exports}var fSe=dSe();const hSe=Rn(fSe);var Og={exports:{}},pSe=Og.exports,_L;function mSe(){return _L||(_L=1,(function(e,t){(function(n,r){e.exports=r()})(pSe,(function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,a,i){var l=a.prototype,u=l.format;i.en.formats=n,l.format=function(d){d===void 0&&(d="YYYY-MM-DDTHH:mm:ssZ");var h=this.$locale().formats,p=(function(m,g){return m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(y,S,x){var C=x&&x.toUpperCase();return S||g[x]||n[x]||g[C].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(E,j,R){return j||R.slice(1)}))}))})(d,h===void 0?{}:h);return u.call(this,p)}}}))})(Og)),Og.exports}var gSe=mSe();const vSe=Rn(gSe);var kg={exports:{}},ySe=kg.exports,DL;function bSe(){return DL||(DL=1,(function(e,t){(function(n,r){e.exports=r()})(ySe,(function(){return function(n,r,a){var i=function(l,u){if(!u||!u.length||u.length===1&&!u[0]||u.length===1&&Array.isArray(u[0])&&!u[0].length)return null;var d;u.length===1&&u[0].length>0&&(u=u[0]),d=(u=u.filter((function(p){return p})))[0];for(var h=1;h<u.length;h+=1)u[h].isValid()&&!u[h][l](d)||(d=u[h]);return d};a.max=function(){var l=[].slice.call(arguments,0);return i("isAfter",l)},a.min=function(){var l=[].slice.call(arguments,0);return i("isBefore",l)}}}))})(kg)),kg.exports}var xSe=bSe();const SSe=Rn(xSe);var Mg={exports:{}},wSe=Mg.exports,AL;function CSe(){return AL||(AL=1,(function(e,t){(function(n,r){e.exports=r()})(wSe,(function(){return function(n,r){r.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}}))})(Mg)),Mg.exports}var jSe=CSe();const ESe=Rn(jSe);function io(e){return e.children}var ga={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},Jr={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},OL=Object.keys(Jr).map(function(e){return Jr[e]});Ae.oneOfType([Ae.string,Ae.func]);Ae.any;Ae.func;Ae.oneOfType([Ae.arrayOf(Ae.oneOf(OL)),Ae.objectOf(function(e,t){var n=OL.indexOf(t)!==-1&&typeof e[t]=="boolean";if(n)return null;for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];return Ae.elementType.apply(Ae,[e,t].concat(a))})]);Ae.oneOfType([Ae.oneOf(["overlap","no-overlap"]),Ae.func]);var kL={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function J8(e,t){var n=Nr(e,"month");return Nr(n,"week",t.startOfWeek())}function eq(e,t){var n=fv(e,"month");return fv(n,"week",t.startOfWeek())}function TSe(e,t){for(var n=J8(e,t),r=eq(e,t),a=[];kd(n,r,"day");)a.push(n),n=Wi(n,1,"day");return a}function RSe(e,t){var n=Nr(e,t);return sp(n,e)?n:Wi(n,1,t)}function _Se(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=e,a=[];kd(r,t,n);)a.push(r),r=Wi(r,1,n);return a}function DSe(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=Nr(e,"day"),e=Th(e,Th(t)),e=fd(e,fd(t)),e=Eh(e,Eh(t)),jh(e,jh(t)))}function ML(e){return Th(e)===0&&fd(e)===0&&Eh(e)===0&&jh(e)===0}function ASe(e,t,n,r){return n==="day"&&(n="date"),Math.abs(_N[n](e,void 0,r)-_N[n](t,void 0,r))}function t2(e,t,n){return!n||n==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+Nr(e,n)/kL[n]-+Nr(t,n)/kL[n]))}var OSe=Ae.oneOfType([Ae.string,Ae.func]);function kSe(e,t,n,r,a){var i=typeof r=="function"?r(n,a,e):t.call(e,n,r,a);return yh(i==null||typeof i=="string","`localizer format(..)` must return a string, null, or undefined"),i}function MSe(e,t,n){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+n,0,0)}function n2(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function PSe(e,t){return t2(e,t,"minutes")+n2(e,t)}function NSe(e){var t=Nr(e,"day");return t2(t,e,"minutes")+n2(t,e)}function ISe(e,t){return j_(e,t,"day")}function LSe(e,t,n){var r=sp(e,t,"minutes");return r?lp(t,n,"minutes"):Fy(t,n,"minutes")}function eE(e,t){return ASe(e,t,"day")}function zSe(e){var t=e.evtA,n=t.start,r=t.end,a=t.allDay,i=e.evtB,l=i.start,u=i.end,d=i.allDay,h=+Nr(n,"day")-+Nr(l,"day"),p=eE(n,r),m=eE(l,u);return h||m-p||!!d-!!a||+n-+l||+r-+u}function $Se(e){var t=e.event,n=t.start,r=t.end,a=e.range,i=a.start,l=a.end,u=Nr(n,"day"),d=kd(u,l,"day"),h=C_(u,r,"minutes"),p=h?Fy(r,i,"minutes"):lp(r,i,"minutes");return d&&p}function qSe(e,t){return sp(e,t,"day")}function USe(e,t){return ML(e)&&ML(t)}var BSe=fr(function e(t){var n=this;dr(this,e),yh(typeof t.format=="function","date localizer `format(..)` must be a function"),yh(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||OSe,this.formats=t.formats,this.format=function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return kSe.apply(void 0,[n,t.format].concat(a))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||DSe,this.inRange=t.inRange||l8,this.lt=t.lt||j_,this.lte=t.lte||kd,this.gt=t.gt||Fy,this.gte=t.gte||lp,this.eq=t.eq||sp,this.neq=t.neq||C_,this.startOf=t.startOf||Nr,this.endOf=t.endOf||fv,this.add=t.add||Wi,this.range=t.range||_Se,this.diff=t.diff||t2,this.ceil=t.ceil||RSe,this.min=t.min||o8,this.max=t.max||s8,this.minutes=t.minutes||fd,this.daySpan=t.daySpan||eE,this.firstVisibleDay=t.firstVisibleDay||J8,this.lastVisibleDay=t.lastVisibleDay||eq,this.visibleDays=t.visibleDays||TSe,this.getSlotDate=t.getSlotDate||MSe,this.getTimezoneOffset=t.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||n2,this.getTotalMin=t.getTotalMin||PSe,this.getMinutesFromMidnight=t.getMinutesFromMidnight||NSe,this.continuesPrior=t.continuesPrior||ISe,this.continuesAfter=t.continuesAfter||LSe,this.sortEvents=t.sortEvents||zSe,this.inEventRange=t.inEventRange||$Se,this.isSameDate=t.isSameDate||qSe,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||USe,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function HSe(e,t,n,r){var a=fn(fn({},e.formats),n);return fn(fn({},e),{},{messages:r,startOfWeek:function(){return e.startOfWeek(t)},format:function(l,u){return e.format(l,a[u]||u,t)}})}var FSe=(function(e){function t(){var n;dr(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Yr(this,t,[].concat(a)),n.navigate=function(l){n.props.onNavigate(l)},n.view=function(l){n.props.onView(l)},n}return Qr(t,e),fr(t,[{key:"render",value:function(){var r=this.props,a=r.localizer.messages,i=r.label;return ne.createElement("div",{className:"rbc-toolbar"},ne.createElement("span",{className:"rbc-btn-group"},ne.createElement("button",{type:"button",onClick:this.navigate.bind(null,ga.TODAY)},a.today),ne.createElement("button",{type:"button",onClick:this.navigate.bind(null,ga.PREVIOUS)},a.previous),ne.createElement("button",{type:"button",onClick:this.navigate.bind(null,ga.NEXT)},a.next)),ne.createElement("span",{className:"rbc-toolbar-label"},i),ne.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(a)))}},{key:"viewNamesGroup",value:function(r){var a=this,i=this.props.views,l=this.props.view;if(i.length>1)return i.map(function(u){return ne.createElement("button",{type:"button",key:u,className:zn({"rbc-active":l===u}),onClick:a.view.bind(null,u)},r[u])})}}])})(ne.Component);function xn(e,t){e&&e.apply(null,[].concat(t))}var VSe={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function WSe(e){return fn(fn({},VSe),e)}function GSe(e){var t=e.ref,n=e.callback;b.useEffect(function(){var r=function(i){t.current&&!t.current.contains(i.target)&&n()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[t,n])}var YSe=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],tq=(function(e){function t(){return dr(this,t),Yr(this,t,arguments)}return Qr(t,e),fr(t,[{key:"render",value:function(){var r=this.props,a=r.style,i=r.className,l=r.event,u=r.selected,d=r.isAllDay,h=r.onSelect,p=r.onDoubleClick,m=r.onKeyPress,g=r.localizer,y=r.continuesPrior,S=r.continuesAfter,x=r.accessors,C=r.getters,E=r.children,j=r.components,R=j.event,_=j.eventWrapper,A=r.slotStart,M=r.slotEnd,D=Co(r,YSe);delete D.resizable;var O=x.title(l),k=x.tooltip(l),I=x.end(l),L=x.start(l),V=x.allDay(l),q=d||V||g.diff(L,g.ceil(I,"day"),"day")>1,U=C.eventProp(l,L,I,u),G=ne.createElement("div",{className:"rbc-event-content",title:k||void 0},R?ne.createElement(R,{event:l,continuesPrior:y,continuesAfter:S,title:O,isAllDay:V,localizer:g,slotStart:A,slotEnd:M}):O);return ne.createElement(_,Object.assign({},this.props,{type:"date"}),ne.createElement("div",Object.assign({},D,{style:fn(fn({},U.style),a),className:zn("rbc-event",i,U.className,{"rbc-selected":u,"rbc-event-allday":q,"rbc-event-continues-prior":y,"rbc-event-continues-after":S}),onClick:function(z){return h&&h(l,z)},onDoubleClick:function(z){return p&&p(l,z)},onKeyDown:function(z){return m&&m(l,z)}}),typeof E=="function"?E(G):G))}}])})(ne.Component);function o0(e,t){return!e||t==null?!1:wbe(e,t)}function nq(e,t){var n=e.right-e.left,r=n/t;return r}function rq(e,t,n,r){var a=nq(e,r);return n?r-1-Math.floor((t-e.left)/a):Math.floor((t-e.left)/a)}function QSe(e,t){var n=t.x,r=t.y;return r>=e.top&&r<=e.bottom&&n>=e.left&&n<=e.right}function KSe(e,t,n,r,a){var i=-1,l=-1,u=r-1,d=nq(t,r),h=rq(t,n.x,a,r),p=t.top<n.y&&t.bottom>n.y,m=t.top<e.y&&t.bottom>e.y,g=e.y>t.bottom,y=t.top>e.y,S=n.top<t.top&&n.bottom>t.bottom;return S&&(i=0,l=u),p&&(y?(i=0,l=h):g&&(i=h,l=u)),m&&(i=l=a?u-Math.floor((e.x-t.left)/d):Math.floor((e.x-t.left)/d),p?h<i?i=h:l=h:e.y<n.y?l=u:i=0),{startIdx:i,endIdx:l}}function XSe(e){var t=e.target,n=e.offset,r=e.container,a=e.box,i=lc(t),l=i.top,u=i.left,d=i.width,h=i.height,p=lc(r),m=p.top,g=p.left,y=p.width,S=p.height,x=lc(a),C=x.width,E=x.height,j=m+S,R=g+y,_=l+E,A=u+C,M=n.x,D=n.y,O=_>j?l-E-D:l+D+h,k=A>R?u+M-C+d:u+M;return{topOffset:O,leftOffset:k}}function ZSe(e){var t=e.containerRef,n=e.accessors,r=e.getters,a=e.selected,i=e.components,l=e.localizer,u=e.position,d=e.show,h=e.events,p=e.slotStart,m=e.slotEnd,g=e.onSelect,y=e.onDoubleClick,S=e.onKeyPress,x=e.handleDragStart,C=e.popperRef,E=e.target,j=e.offset;GSe({ref:C,callback:d}),b.useLayoutEffect(function(){var A=XSe({target:E,offset:j,container:t.current,box:C.current}),M=A.topOffset,D=A.leftOffset;C.current.style.top="".concat(M,"px"),C.current.style.left="".concat(D,"px")},[j.x,j.y,E]);var R=u.width,_={minWidth:R+R/2};return ne.createElement("div",{style:_,className:"rbc-overlay",ref:C},ne.createElement("div",{className:"rbc-overlay-header"},l.format(p,"dayHeaderFormat")),h.map(function(A,M){return ne.createElement(tq,{key:M,type:"popup",localizer:l,event:A,getters:r,onSelect:g,accessors:n,components:i,onDoubleClick:y,onKeyPress:S,continuesPrior:l.lt(n.end(A),p,"day"),continuesAfter:l.gte(n.start(A),m,"day"),slotStart:p,slotEnd:m,selected:o0(A,a),draggable:!0,onDragStart:function(){return x(A)},onDragEnd:function(){return d()}})}))}var aq=ne.forwardRef(function(e,t){return ne.createElement(ZSe,Object.assign({},e,{popperRef:t}))});aq.propTypes={accessors:Ae.object.isRequired,getters:Ae.object.isRequired,selected:Ae.object,components:Ae.object.isRequired,localizer:Ae.object.isRequired,position:Ae.object.isRequired,show:Ae.func.isRequired,events:Ae.array.isRequired,slotStart:Ae.instanceOf(Date).isRequired,slotEnd:Ae.instanceOf(Date),onSelect:Ae.func,onDoubleClick:Ae.func,onKeyPress:Ae.func,handleDragStart:Ae.func,style:Ae.object,offset:Ae.shape({x:Ae.number,y:Ae.number})};function JSe(e){var t=e.containerRef,n=e.popupOffset,r=n===void 0?5:n,a=e.overlay,i=e.accessors,l=e.localizer,u=e.components,d=e.getters,h=e.selected,p=e.handleSelectEvent,m=e.handleDoubleClickEvent,g=e.handleKeyPressEvent,y=e.handleDragStart,S=e.onHide,x=e.overlayDisplay,C=b.useRef(null);if(!a.position)return null;var E=r;isNaN(r)||(E={x:r,y:r});var j=a.position,R=a.events,_=a.date,A=a.end;return ne.createElement($_,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:S,target:a.target},function(M){var D=M.props;return ne.createElement(aq,Object.assign({},D,{containerRef:t,ref:C,target:a.target,offset:E,accessors:i,getters:d,selected:h,components:u,localizer:l,position:j,show:x,events:R,slotStart:_,slotEnd:A,onSelect:p,onDoubleClick:m,onKeyPress:g,handleDragStart:y}))})}var r2=ne.forwardRef(function(e,t){return ne.createElement(JSe,Object.assign({},e,{containerRef:t}))});r2.propTypes={popupOffset:Ae.oneOfType([Ae.number,Ae.shape({x:Ae.number,y:Ae.number})]),overlay:Ae.shape({position:Ae.object,events:Ae.array,date:Ae.instanceOf(Date),end:Ae.instanceOf(Date)}),accessors:Ae.object.isRequired,localizer:Ae.object.isRequired,components:Ae.object.isRequired,getters:Ae.object.isRequired,selected:Ae.object,handleSelectEvent:Ae.func,handleDoubleClickEvent:Ae.func,handleKeyPressEvent:Ae.func,handleDragStart:Ae.func,onHide:Ae.func,overlayDisplay:Ae.func};function $r(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Wf(n,e,t,{passive:!1})}function e1e(e,t,n){return!e||Rh(e,document.elementFromPoint(t,n))}function t1e(e,t){var n=t.clientX,r=t.clientY,a=document.elementFromPoint(n,r);return z8(a,".rbc-event",e)}function n1e(e,t){var n=t.clientX,r=t.clientY,a=document.elementFromPoint(n,r);return z8(a,".rbc-show-more",e)}function mv(e,t){return!!t1e(e,t)}function r1e(e,t){return!!n1e(e,t)}function qf(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var PL=5,a1e=250,iq=(function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.global,a=r===void 0?!1:r,i=n.longPressThreshold,l=i===void 0?250:i,u=n.validContainers,d=u===void 0?[]:u;dr(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||a,this.longPressThreshold=l,this.validContainers=d,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=$r("touchmove",function(){},window),this._removeKeyDownListener=$r("keydown",this._keyListener),this._removeKeyUpListener=$r("keyup",this._keyListener),this._removeDropFromOutsideListener=$r("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=$r("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return fr(e,[{key:"on",value:function(n,r){var a=this._listeners[n]||(this._listeners[n]=[]);return a.push(r),{remove:function(){var l=a.indexOf(r);l!==-1&&a.splice(l,1)}}}},{key:"emit",value:function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];var l,u=this._listeners[n]||[];return u.forEach(function(d){l===void 0&&(l=d.apply(void 0,a))}),l}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(n){var r=this._selectRect;return!r||!this.selecting?!1:NL(r,Oc(n))}},{key:"filter",value:function(n){var r=this._selectRect;return!r||!this.selecting?[]:n.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(n,r){var a=this,i=null,l=null,u=null,d=function(g){i=setTimeout(function(){p(),n(g)},a.longPressThreshold),l=$r("touchmove",function(){return p()}),u=$r("touchend",function(){return p()})},h=$r("touchstart",d),p=function(){i&&clearTimeout(i),l&&l(),u&&u(),i=null,l=null,u=null};return r&&d(r),function(){p(),h()}}},{key:"_addInitialEventListener",value:function(){var n=this,r=$r("mousedown",function(i){n._removeInitialEventListener(),n._handleInitialEvent(i),n._removeInitialEventListener=$r("mousedown",n._handleInitialEvent)}),a=$r("touchstart",function(i){n._removeInitialEventListener(),n._removeInitialEventListener=n._addLongPressListener(n._handleInitialEvent,i)});this._removeInitialEventListener=function(){r(),a()}}},{key:"_dropFromOutsideListener",value:function(n){var r=qf(n),a=r.pageX,i=r.pageY,l=r.clientX,u=r.clientY;this.emit("dropFromOutside",{x:a,y:i,clientX:l,clientY:u}),n.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(n){var r=qf(n),a=r.pageX,i=r.pageY,l=r.clientX,u=r.clientY;this.emit("dragOverFromOutside",{x:a,y:i,clientX:l,clientY:u}),n.preventDefault()}},{key:"_handleInitialEvent",value:function(n){if(this._initialEvent=n,!this.isDetached){var r=qf(n),a=r.clientX,i=r.clientY,l=r.pageX,u=r.pageY,d=this.container(),h,p;if(!(n.which===3||n.button===2||!e1e(d,a,i))){if(!this.globalMouse&&d&&!Rh(d,n.target)){var m=i1e(0),g=m.top,y=m.left,S=m.bottom,x=m.right;if(p=Oc(d),h=NL({top:p.top-g,left:p.left-y,bottom:p.bottom+S,right:p.right+x},{top:u,left:l}),!h)return}var C=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(n.type),x:l,y:u,clientX:a,clientY:i});if(C!==!1)switch(n.type){case"mousedown":this._removeEndListener=$r("mouseup",this._handleTerminatingEvent),this._onEscListener=$r("keydown",this._handleTerminatingEvent),this._removeMoveListener=$r("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(n),this._removeEndListener=$r("touchend",this._handleTerminatingEvent),this._removeMoveListener=$r("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(n){var r=n.target,a=this.validContainers;return!a||!a.length||!r?!0:a.some(function(i){return!!r.closest(i)})}},{key:"_handleTerminatingEvent",value:function(n){var r=this.selecting,a=this._selectRect;if(!r&&n.type.includes("key")&&(n=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!n){var i=!this.container||Rh(this.container(),n.target),l=this._isWithinValidContainer(n);return n.key==="Escape"||!l?this.emit("reset"):!r&&i?this._handleClickEvent(n):r?this.emit("select",a):this.emit("reset")}}},{key:"_handleClickEvent",value:function(n){var r=qf(n),a=r.pageX,i=r.pageY,l=r.clientX,u=r.clientY,d=new Date().getTime();return this._lastClickData&&d-this._lastClickData.timestamp<a1e?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:i,clientX:l,clientY:u})):(this._lastClickData={timestamp:d},this.emit("click",{x:a,y:i,clientX:l,clientY:u}))}},{key:"_handleMoveEvent",value:function(n){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,a=r.x,i=r.y,l=qf(n),u=l.pageX,d=l.pageY,h=Math.abs(a-u),p=Math.abs(i-d),m=Math.min(u,a),g=Math.min(d,i),y=this.selecting,S=this.isClick(u,d);S&&!y&&!(h||p)||(!y&&!S&&this.emit("selectStart",this._initialEventData),S||(this.selecting=!0,this._selectRect={top:g,left:m,x:u,y:d,right:m+h,bottom:g+p},this.emit("selecting",this._selectRect)),n.preventDefault())}}},{key:"_keyListener",value:function(n){this.ctrl=n.metaKey||n.ctrlKey}},{key:"isClick",value:function(n,r){var a=this._initialEventData,i=a.x,l=a.y,u=a.isTouch;return!u&&Math.abs(n-i)<=PL&&Math.abs(r-l)<=PL}}])})();function i1e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return ns(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function NL(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Oc(e),a=r.top,i=r.left,l=r.right,u=l===void 0?i:l,d=r.bottom,h=d===void 0?a:d,p=Oc(t),m=p.top,g=p.left,y=p.right,S=y===void 0?g:y,x=p.bottom,C=x===void 0?m:x;return!(h-n<m||a+n>C||u-n<g||i+n>S)}function Oc(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),n=t.left+IL("left"),r=t.top+IL("top");return{top:r,left:n,right:(e.offsetWidth||0)+n,bottom:(e.offsetHeight||0)+r}}function IL(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var o1e=(function(e){function t(n,r){var a;return dr(this,t),a=Yr(this,t,[n,r]),a.state={selecting:!1},a.containerRef=b.createRef(),a}return Qr(t,e),fr(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,a=r.range,i=r.getNow,l=r.getters,u=r.date,d=r.components.dateCellWrapper,h=r.localizer,p=this.state,m=p.selecting,g=p.startIdx,y=p.endIdx,S=i();return ne.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},a.map(function(x,C){var E=m&&C>=g&&C<=y,j=l.dayProp(x),R=j.className,_=j.style;return ne.createElement(d,{key:C,value:x,range:a},ne.createElement("div",{style:_,className:zn("rbc-day-bg",R,E&&"rbc-selected-cell",h.isSameDate(x,S)&&"rbc-today",u&&h.neq(u,x,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,a=this.containerRef.current,i=this._selector=new iq(this.props.container,{longPressThreshold:this.props.longPressThreshold}),l=function(d,h){if(!mv(a,d)&&!r1e(a,d)){var p=Oc(a),m=r.props,g=m.range,y=m.rtl;if(QSe(p,d)){var S=rq(p,d.x,y,g.length);r._selectSlot({startIdx:S,endIdx:S,action:h,box:d})}}r._initial={},r.setState({selecting:!1})};i.on("selecting",function(u){var d=r.props,h=d.range,p=d.rtl,m=-1,g=-1;if(r.state.selecting||(xn(r.props.onSelectStart,[u]),r._initial={x:u.x,y:u.y}),i.isSelected(a)){var y=Oc(a),S=KSe(r._initial,y,u,h.length,p);m=S.startIdx,g=S.endIdx}r.setState({selecting:!0,startIdx:m,endIdx:g})}),i.on("beforeSelect",function(u){if(r.props.selectable==="ignoreEvents")return!mv(r.containerRef.current,u)}),i.on("click",function(u){return l(u,"click")}),i.on("doubleClick",function(u){return l(u,"doubleClick")}),i.on("select",function(u){r._selectSlot(fn(fn({},r.state),{},{action:"select",bounds:u})),r._initial={},r.setState({selecting:!1}),xn(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var a=r.endIdx,i=r.startIdx,l=r.action,u=r.bounds,d=r.box;a!==-1&&i!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:i,end:a,action:l,bounds:u,box:d,resourceId:this.props.resourceId})}}])})(ne.Component),di={propTypes:{slotMetrics:Ae.object.isRequired,selected:Ae.object,isAllDay:Ae.bool,accessors:Ae.object.isRequired,localizer:Ae.object.isRequired,components:Ae.object.isRequired,getters:Ae.object.isRequired,onSelect:Ae.func,onDoubleClick:Ae.func,onKeyPress:Ae.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,n){var r=t.selected;t.isAllDay;var a=t.accessors,i=t.getters,l=t.onSelect,u=t.onDoubleClick,d=t.onKeyPress,h=t.localizer,p=t.slotMetrics,m=t.components,g=t.resizable,y=p.continuesPrior(n),S=p.continuesAfter(n);return ne.createElement(tq,{event:n,getters:i,localizer:h,accessors:a,components:m,onSelect:l,onDoubleClick:u,onKeyPress:d,continuesPrior:y,continuesAfter:S,slotStart:p.first,slotEnd:p.last,selected:o0(n,r),resizable:g})},renderSpan:function(t,n,r){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",i=Math.abs(n)/t*100+"%";return ne.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:i,flexBasis:i,maxWidth:i}},a)}},oq=(function(e){function t(){return dr(this,t),Yr(this,t,arguments)}return Qr(t,e),fr(t,[{key:"render",value:function(){var r=this,a=this.props,i=a.segments,l=a.slotMetrics.slots,u=a.className,d=1;return ne.createElement("div",{className:zn(u,"rbc-row")},i.reduce(function(h,p,m){var g=p.event,y=p.left,S=p.right,x=p.span,C="_lvl_"+m,E=y-d,j=di.renderEvent(r.props,g);return E&&h.push(di.renderSpan(l,E,"".concat(C,"_gap"))),h.push(di.renderSpan(l,x,C,j)),d=S+1,h},[]))}}])})(ne.Component);oq.defaultProps=fn({},di.defaultProps);function sq(e){var t=e.dateRange,n=e.unit,r=n===void 0?"day":n,a=e.localizer;return{first:t[0],last:a.add(t[t.length-1],1,r)}}function s1e(e,t,n,r){var a=sq({dateRange:t,localizer:r}),i=a.first,l=a.last,u=r.diff(i,l,"day"),d=r.max(r.startOf(n.start(e),"day"),i),h=r.min(r.ceil(n.end(e),"day"),l),p=Bbe(t,function(g){return r.isSameDate(g,d)}),m=r.diff(d,h,"day");return m=Math.min(m,u),m=Math.max(m-r.segmentOffset,1),{event:e,span:m,left:p+1,right:Math.max(p+m,1)}}function tE(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,n,r,a,i=[],l=[];for(n=0;n<e.length;n++){for(a=e[n],r=0;r<i.length&&l1e(a,i[r]);r++);r>=t?l.push(a):(i[r]||(i[r]=[])).push(a)}for(n=0;n<i.length;n++)i[n].sort(function(u,d){return u.left-d.left});return{levels:i,extra:l}}function Ah(e,t,n,r,a){var i={start:r.start(e),end:r.end(e)},l={start:t,end:n};return a.inEventRange({event:i,range:l})}function l1e(e,t){return t.some(function(n){return n.left<=e.right&&n.right>=e.left})}function c1e(e,t,n){var r=Eg(e),a=[],i=[];r.forEach(function(d){var h=t.start(d),p=t.end(d);n.daySpan(h,p)>1?a.push(d):i.push(d)});var l=a.sort(function(d,h){return nE(d,h,t,n)}),u=i.sort(function(d,h){return nE(d,h,t,n)});return[].concat(Eg(l),Eg(u))}function nE(e,t,n,r){var a={start:n.start(e),end:n.end(e),allDay:n.allDay(e)},i={start:n.start(t),end:n.end(t),allDay:n.allDay(t)};return r.sortEvents({evtA:a,evtB:i})}var rE=function(t,n){return t.left<=n&&t.right>=n},ZC=function(t,n){return t.filter(function(r){return rE(r,n)}).map(function(r){return r.event})},lq=(function(e){function t(){return dr(this,t),Yr(this,t,arguments)}return Qr(t,e),fr(t,[{key:"render",value:function(){for(var r=this.props,a=r.segments,i=r.slotMetrics.slots,l=tE(a).levels[0],u=1,d=1,h=[];u<=i;){var p="_lvl_"+u,m=l.filter(function(_){return rE(_,u)})[0]||{},g=m.event,y=m.left,S=m.right,x=m.span;if(!g){var C=this.getHiddenEventsForSlot(a,u);if(C.length>0){var E=u-d;E&&h.push(di.renderSpan(i,E,p+"_gap")),h.push(di.renderSpan(i,1,p,this.renderShowMore(a,u))),d=u=u+1;continue}u++;continue}var j=Math.max(0,y-d);if(this.canRenderSlotEvent(y,x)){var R=di.renderEvent(this.props,g);j&&h.push(di.renderSpan(i,j,p+"_gap")),h.push(di.renderSpan(i,x,p,R)),d=u=S+1}else j&&h.push(di.renderSpan(i,j,p+"_gap")),h.push(di.renderSpan(i,1,p,this.renderShowMore(a,u))),d=u=u+1}return ne.createElement("div",{className:"rbc-row"},h)}},{key:"getHiddenEventsForSlot",value:function(r,a){var i=ZC(r,a),l=tE(r).levels[0],u=l.filter(function(d){return rE(d,a)}).map(function(d){return d.event});return i.filter(function(d){return!u.some(function(h){return h===d})})}},{key:"canRenderSlotEvent",value:function(r,a){var i=this.props.segments;return Gbe(r,r+a).every(function(l){var u=ZC(i,l).length;return u===1})}},{key:"renderShowMore",value:function(r,a){var i=this,l=this.props,u=l.localizer,d=l.slotMetrics,h=l.components,p=d.getEventsForSlot(a),m=ZC(r,a),g=m.length;if(h!=null&&h.showMore){var y=h.showMore,S=d.getDateForSlot(a-1);return g?ne.createElement(y,{localizer:u,slotDate:S,slot:a,count:g,events:p,remainingEvents:m}):!1}return g?ne.createElement("button",{type:"button",key:"sm_"+a,className:zn("rbc-button-link","rbc-show-more"),onClick:function(C){return i.showMore(a,C)}},u.messages.showMore(g,m,p)):!1}},{key:"showMore",value:function(r,a){a.preventDefault(),a.stopPropagation(),this.props.onShowMore(r,a.target)}}])})(ne.Component);lq.defaultProps=fn({},di.defaultProps);var u1e=function(t){var n=t.children;return ne.createElement("div",{className:"rbc-row-content-scroll-container"},n)},d1e=function(t,n){return t.left<=n&&t.right>=n},f1e=function(t,n){return t[0].range===n[0].range&&t[0].events===n[0].events};function cq(){return U8(function(e){for(var t=e.range,n=e.events,r=e.maxRows,a=e.minRows,i=e.accessors,l=e.localizer,u=sq({dateRange:t,localizer:l}),d=u.first,h=u.last,p=n.map(function(x){return s1e(x,t,i,l)}),m=tE(p,Math.max(r-1,1)),g=m.levels,y=m.extra,S=y.length>0?a-1:a;g.length<S;)g.push([]);return{first:d,last:h,levels:g,extra:y,range:t,slots:t.length,clone:function(C){var E=cq();return E(fn(fn({},e),C))},getDateForSlot:function(C){return t[C]},getSlotForDate:function(C){return t.find(function(E){return l.isSameDate(E,C)})},getEventsForSlot:function(C){return p.filter(function(E){return d1e(E,C)}).map(function(E){return E.event})},continuesPrior:function(C){return l.continuesPrior(i.start(C),d)},continuesAfter:function(C){var E=i.start(C),j=i.end(C);return l.continuesAfter(E,j,h)}}},f1e)}var Oh=(function(e){function t(){var n;dr(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Yr(this,t,[].concat(a)),n.handleSelectSlot=function(l){var u=n.props,d=u.range,h=u.onSelectSlot;h(d.slice(l.start,l.end+1),l)},n.handleShowMore=function(l,u){var d=n.props,h=d.range,p=d.onShowMore,m=n.slotMetrics(n.props),g=tye(n.containerRef.current,".rbc-row-bg")[0],y;g&&(y=g.children[l-1]);var S=m.getEventsForSlot(l);p(S,h[l-1],y,l,u)},n.getContainer=function(){var l=n.props.container;return l?l():n.containerRef.current},n.renderHeadingCell=function(l,u){var d=n.props,h=d.renderHeader,p=d.getNow,m=d.localizer;return h({date:l,key:"header_".concat(u),className:zn("rbc-date-cell",m.isSameDate(l,p())&&"rbc-now")})},n.renderDummy=function(){var l=n.props,u=l.className,d=l.range,h=l.renderHeader,p=l.showAllEvents;return ne.createElement("div",{className:u,ref:n.containerRef},ne.createElement("div",{className:zn("rbc-row-content",p&&"rbc-row-content-scrollable")},h&&ne.createElement("div",{className:"rbc-row",ref:n.headingRowRef},d.map(n.renderHeadingCell)),ne.createElement("div",{className:"rbc-row",ref:n.eventRowRef},ne.createElement("div",{className:"rbc-row-segment"},ne.createElement("div",{className:"rbc-event"},ne.createElement("div",{className:"rbc-event-content"},"Â "))))))},n.containerRef=b.createRef(),n.headingRowRef=b.createRef(),n.eventRowRef=b.createRef(),n.slotMetrics=cq(),n}return Qr(t,e),fr(t,[{key:"getRowLimit",value:function(){var r,a=pw(this.eventRowRef.current),i=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?pw(this.headingRowRef.current):0,l=pw(this.containerRef.current)-i;return Math.max(Math.floor(l/a),1)}},{key:"render",value:function(){var r=this.props,a=r.date,i=r.rtl,l=r.range,u=r.className,d=r.selected,h=r.selectable,p=r.renderForMeasure,m=r.accessors,g=r.getters,y=r.components,S=r.getNow,x=r.renderHeader,C=r.onSelect,E=r.localizer,j=r.onSelectStart,R=r.onSelectEnd,_=r.onDoubleClick,A=r.onKeyPress,M=r.resourceId,D=r.longPressThreshold,O=r.isAllDay,k=r.resizable,I=r.showAllEvents;if(p)return this.renderDummy();var L=this.slotMetrics(this.props),V=L.levels,q=L.extra,U=I?u1e:io,G=y.weekWrapper,N={selected:d,accessors:m,getters:g,localizer:E,components:y,onSelect:C,onDoubleClick:_,onKeyPress:A,resourceId:M,slotMetrics:L,resizable:k};return ne.createElement("div",{className:u,role:"rowgroup",ref:this.containerRef},ne.createElement(o1e,{localizer:E,date:a,getNow:S,rtl:i,range:l,selectable:h,container:this.getContainer,getters:g,onSelectStart:j,onSelectEnd:R,onSelectSlot:this.handleSelectSlot,components:y,longPressThreshold:D,resourceId:M}),ne.createElement("div",{className:zn("rbc-row-content",I&&"rbc-row-content-scrollable"),role:"row"},x&&ne.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},l.map(this.renderHeadingCell)),ne.createElement(U,null,ne.createElement(G,Object.assign({isAllDay:O},N,{rtl:this.props.rtl}),V.map(function(z,$){return ne.createElement(oq,Object.assign({key:$,segments:z},N))}),!!q.length&&ne.createElement(lq,Object.assign({segments:q,onShowMore:this.handleShowMore},N))))))}}])})(ne.Component);Oh.defaultProps={minRows:0,maxRows:1/0};var a2=function(t){var n=t.label;return ne.createElement("span",{role:"columnheader","aria-sort":"none"},n)},h1e=function(t){var n=t.label,r=t.drilldownView,a=t.onDrillDown;return r?ne.createElement("button",{type:"button",className:"rbc-button-link",onClick:a},n):ne.createElement("span",null,n)},p1e=["date","className"],m1e=function(t,n,r,a,i){return t.filter(function(l){return Ah(l,n,r,a,i)})},s0=(function(e){function t(){var n;dr(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Yr(this,t,[].concat(a)),n.getContainer=function(){return n.containerRef.current},n.renderWeek=function(l,u){var d=n.props,h=d.events,p=d.components,m=d.selectable,g=d.getNow,y=d.selected,S=d.date,x=d.localizer,C=d.longPressThreshold,E=d.accessors,j=d.getters,R=d.showAllEvents,_=n.state,A=_.needLimitMeasure,M=_.rowLimit,D=m1e(Eg(h),l[0],l[l.length-1],E,x),O=c1e(D,E,x);return ne.createElement(Oh,{key:u,ref:u===0?n.slotRowRef:void 0,container:n.getContainer,className:"rbc-month-row",getNow:g,date:S,range:l,events:O,maxRows:R?1/0:M,selected:y,selectable:m,components:p,accessors:E,getters:j,localizer:x,renderHeader:n.readerDateHeading,renderForMeasure:A,onShowMore:n.handleShowMore,onSelect:n.handleSelectEvent,onDoubleClick:n.handleDoubleClickEvent,onKeyPress:n.handleKeyPressEvent,onSelectSlot:n.handleSelectSlot,longPressThreshold:C,rtl:n.props.rtl,resizable:n.props.resizable,showAllEvents:R})},n.readerDateHeading=function(l){var u=l.date,d=l.className,h=Co(l,p1e),p=n.props,m=p.date,g=p.getDrilldownView,y=p.localizer,S=y.neq(m,u,"month"),x=y.isSameDate(u,m),C=g(u),E=y.format(u,"dateFormat"),j=n.props.components.dateHeader||h1e;return ne.createElement("div",Object.assign({},h,{className:zn(d,S&&"rbc-off-range",x&&"rbc-current"),role:"cell"}),ne.createElement(j,{label:E,date:u,drilldownView:C,isOffRange:S,onDrillDown:function(_){return n.handleHeadingClick(u,C,_)}}))},n.handleSelectSlot=function(l,u){n._pendingSelection=n._pendingSelection.concat(l),clearTimeout(n._selectTimer),n._selectTimer=setTimeout(function(){return n.selectDates(u)})},n.handleHeadingClick=function(l,u,d){d.preventDefault(),n.clearSelection(),xn(n.props.onDrillDown,[l,u])},n.handleSelectEvent=function(){n.clearSelection();for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];xn(n.props.onSelectEvent,u)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];xn(n.props.onDoubleClickEvent,u)},n.handleKeyPressEvent=function(){n.clearSelection();for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];xn(n.props.onKeyPressEvent,u)},n.handleShowMore=function(l,u,d,h,p){var m=n.props,g=m.popup,y=m.onDrillDown,S=m.onShowMore,x=m.getDrilldownView,C=m.doShowMoreDrillDown;if(n.clearSelection(),g){var E=x8(d,n.containerRef.current);n.setState({overlay:{date:u,events:l,position:E,target:p}})}else C&&xn(y,[u,x(u)||Jr.DAY]);xn(S,[l,u,h])},n.overlayDisplay=function(){n.setState({overlay:null})},n.state={rowLimit:5,needLimitMeasure:!0,date:null},n.containerRef=b.createRef(),n.slotRowRef=b.createRef(),n._bgRows=[],n._pendingSelection=[],n}return Qr(t,e),fr(t,[{key:"componentDidMount",value:function(){var r=this,a;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){a||S8(function(){a=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,a=r.date,i=r.localizer,l=r.className,u=i.visibleDays(a,i),d=$ve(u,7);return this._weekCount=d.length,ne.createElement("div",{className:zn("rbc-month-view",l),role:"table","aria-label":"Month View",ref:this.containerRef},ne.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(d[0])),d.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var a=this.props,i=a.localizer,l=a.components,u=r[0],d=r[r.length-1],h=l.header||a2;return i.range(u,d,"day").map(function(p,m){return ne.createElement("div",{key:"header_"+m,className:"rbc-header"},ne.createElement(h,{date:p,localizer:i,label:i.format(p,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,a,i=this,l=(r=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&r!==void 0?r:{},u=this.props,d=u.accessors,h=u.localizer,p=u.components,m=u.getters,g=u.selected,y=u.popupOffset,S=u.handleDragStart,x=function(){return i.setState({overlay:null})};return ne.createElement(r2,{overlay:l,accessors:d,localizer:h,components:p,getters:m,selected:g,popupOffset:y,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:S,show:!!l.position,overlayDisplay:this.overlayDisplay,onHide:x})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var a=this._pendingSelection.slice();this._pendingSelection=[],a.sort(function(u,d){return+u-+d});var i=new Date(a[0]),l=new Date(a[a.length-1]);l.setDate(a[a.length-1].getDate()+1),xn(this.props.onSelectSlot,{slots:a,start:i,end:l,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,a){var i=r.date,l=r.localizer;return{date:i,needLimitMeasure:l.neq(i,a.date,"month")}}}])})(ne.Component);s0.range=function(e,t){var n=t.localizer,r=n.firstVisibleDay(e,n),a=n.lastVisibleDay(e,n);return{start:r,end:a}};s0.navigate=function(e,t,n){var r=n.localizer;switch(t){case ga.PREVIOUS:return r.add(e,-1,"month");case ga.NEXT:return r.add(e,1,"month");default:return e}};s0.title=function(e,t){var n=t.localizer;return n.format(e,"monthHeaderFormat")};var LL=function(t){var n=t.min,r=t.max,a=t.step,i=t.slots,l=t.localizer;return"".concat(+l.startOf(n,"minutes"))+"".concat(+l.startOf(r,"minutes"))+"".concat(a,"-").concat(i)};function i2(e){for(var t=e.min,n=e.max,r=e.step,a=e.timeslots,i=e.localizer,l=LL({step:r,localizer:i}),u=1+i.getTotalMin(t,n),d=i.getMinutesFromMidnight(t),h=Math.ceil((u-1)/(r*a)),p=h*a,m=new Array(h),g=new Array(p),y=0;y<h;y++){m[y]=new Array(a);for(var S=0;S<a;S++){var x=y*a+S,C=x*r;g[x]=m[y][S]=i.getSlotDate(t,d,C)}}var E=g.length*r;g.push(i.getSlotDate(t,d,E));function j(R){var _=i.diff(t,R,"minutes")+i.getDstOffset(t,R);return Math.min(_,u)}return{groups:m,update:function(_){return LL(_)!==l?i2(_):this},dateIsInGroup:function(_,A){var M=m[A+1];return i.inRange(_,m[A][0],M?M[0]:n,"minutes")},nextSlot:function(_){var A=g[Math.min(g.findIndex(function(M){return M===_||i.eq(M,_)})+1,g.length-1)];return i.eq(A,_)&&(A=i.add(_,r,"minutes")),A},closestSlotToPosition:function(_){var A=Math.min(g.length-1,Math.max(0,Math.floor(_*p)));return g[A]},closestSlotFromPoint:function(_,A){var M=Math.abs(A.top-A.bottom);return this.closestSlotToPosition((_.y-A.top)/M)},closestSlotFromDate:function(_){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(i.lt(_,t,"minutes"))return g[0];if(i.gt(_,n,"minutes"))return g[g.length-1];var M=i.diff(t,_,"minutes");return g[(M-M%r)/r+A]},startsBeforeDay:function(_){return i.lt(_,t,"day")},startsAfterDay:function(_){return i.gt(_,n,"day")},startsBefore:function(_){return i.lt(i.merge(t,_),t,"minutes")},startsAfter:function(_){return i.gt(i.merge(n,_),n,"minutes")},getRange:function(_,A,M,D){M||(_=i.min(n,i.max(t,_))),D||(A=i.min(n,i.max(t,A)));var O=j(_),k=j(A),I=k>r*p&&!i.eq(n,A)?(O-r)/(r*p)*100:O/(r*p)*100;return{top:I,height:k/(r*p)*100-I,start:j(_),startDate:_,end:j(A),endDate:A}},getCurrentTimePosition:function(_){var A=j(_),M=A/(r*p)*100;return M}}}var g1e=(function(){function e(t,n){var r=n.accessors,a=n.slotMetrics;dr(this,e);var i=a.getRange(r.start(t),r.end(t)),l=i.start,u=i.startDate,d=i.end,h=i.endDate,p=i.top,m=i.height;this.start=l,this.end=d,this.startMs=+u,this.endMs=+h,this.top=p,this.height=m,this.data=t}return fr(e,[{key:"_width",get:function(){if(this.rows){var n=this.rows.reduce(function(a,i){return Math.max(a,i.leaves.length+1)},0)+1;return 100/n}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var n=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:n;var a=this.row.leaves,i=a.indexOf(this);return i===a.length-1?n:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var n=this.row,r=n.leaves,a=n.xOffset,i=n._width,l=r.indexOf(this)+1;return a+l*i}}])})();function v1e(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function y1e(e){for(var t=fxe(e,["startMs",function(u){return-u.endMs}]),n=[];t.length>0;){var r=t.shift();n.push(r);for(var a=0;a<t.length;a++){var i=t[a];if(!(r.endMs>i.startMs)){if(a>0){var l=t.splice(a,1)[0];n.push(l)}break}}}return n}function uq(e){for(var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,a=e.accessors,i=t.map(function(p){return new g1e(p,{slotMetrics:r,accessors:a})}),l=y1e(i),u=[],d=function(){var m=l[h],g=u.find(function(x){return x.end>m.start||Math.abs(m.start-x.start)<n});if(!g)return m.rows=[],u.push(m),1;m.container=g;for(var y=null,S=g.rows.length-1;!y&&S>=0;S--)v1e(g.rows[S],m,n)&&(y=g.rows[S]);y?(y.leaves.push(m),m.row=y):(m.leaves=[],g.rows.push(m))},h=0;h<l.length;h++)d();return l.map(function(p){return{event:p.data,style:{top:p.top,height:p.height,width:p.width,xOffset:Math.max(0,p.xOffset)}}})}function dq(e,t,n){for(var r=0;r<e.friends.length;++r)if(!(n.indexOf(e.friends[r])>-1)){t=t>e.friends[r].idx?t:e.friends[r].idx,n.push(e.friends[r]);var a=dq(e.friends[r],t,n);t=t>a?t:a}return t}function b1e(e){var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,a=e.accessors,i=uq({events:t,minimumStartDifference:n,slotMetrics:r,accessors:a});i.sort(function(G,N){return G=G.style,N=N.style,G.top!==N.top?G.top>N.top?1:-1:G.height!==N.height?G.top+G.height<N.top+N.height?1:-1:0});for(var l=0;l<i.length;++l)i[l].friends=[],delete i[l].style.left,delete i[l].style.left,delete i[l].idx,delete i[l].size;for(var u=0;u<i.length-1;++u)for(var d=i[u],h=d.style.top,p=d.style.top+d.style.height,m=u+1;m<i.length;++m){var g=i[m],y=g.style.top,S=g.style.top+g.style.height;(y>=h&&S<=p||S>h&&S<=p||y>=h&&y<p)&&(d.friends.push(g),g.friends.push(d))}for(var x=0;x<i.length;++x){for(var C=i[x],E=[],j=0;j<100;++j)E.push(1);for(var R=0;R<C.friends.length;++R)C.friends[R].idx!==void 0&&(E[C.friends[R].idx]=0);C.idx=E.indexOf(1)}for(var _=0;_<i.length;++_){var A=0;if(!i[_].size){var M=[],D=dq(i[_],0,M);A=100/(D+1),i[_].size=A;for(var O=0;O<M.length;++O)M[O].size=A}}for(var k=0;k<i.length;++k){var I=i[k];I.style.left=I.idx*I.size;for(var L=0,V=0;V<I.friends.length;++V){var q=I.friends[V].idx;L=L>q?L:q}L<=I.idx&&(I.size=100-I.idx*I.size);var U=I.idx===0?0:3;I.style.width="calc(".concat(I.size,"% - ").concat(U,"px)"),I.style.height="calc(".concat(I.style.height,"% - 2px)"),I.style.xOffset="calc(".concat(I.style.left,"% + ").concat(U,"px)")}return i}var zL={overlap:uq,"no-overlap":b1e};function x1e(e){return!!(e&&e.constructor&&e.call&&e.apply)}function S1e(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,n=t;return t in zL&&(n=zL[t]),x1e(n)?n.apply(this,arguments):[]}var fq=(function(e){function t(){return dr(this,t),Yr(this,t,arguments)}return Qr(t,e),fr(t,[{key:"render",value:function(){var r=this.props,a=r.renderSlot,i=r.resource,l=r.group,u=r.getters,d=r.components,h=d===void 0?{}:d,p=h.timeSlotWrapper,m=p===void 0?io:p,g=u?u.slotGroupProp(l):{};return ne.createElement("div",Object.assign({className:"rbc-timeslot-group"},g),l.map(function(y,S){var x=u?u.slotProp(y,i):{};return ne.createElement(m,{key:S,value:y,resource:i},ne.createElement("div",Object.assign({},x,{className:zn("rbc-time-slot",x.className)}),a&&a(y,S)))}))}}])})(b.Component);function ig(e){return typeof e=="string"?e:e+"%"}function w1e(e){var t=e.style,n=e.className,r=e.event,a=e.accessors,i=e.rtl,l=e.selected,u=e.label,d=e.continuesPrior,h=e.continuesAfter,p=e.getters,m=e.onClick,g=e.onDoubleClick,y=e.isBackgroundEvent,S=e.onKeyPress,x=e.components,C=x.event,E=x.eventWrapper,j=a.title(r),R=a.tooltip(r),_=a.end(r),A=a.start(r),M=p.eventProp(r,A,_,l),D=[ne.createElement("div",{key:"1",className:"rbc-event-label"},u),ne.createElement("div",{key:"2",className:"rbc-event-content"},C?ne.createElement(C,{event:r,title:j}):j)],O=t.height,k=t.top,I=t.width,L=t.xOffset,V=fn(fn({},M.style),{},Zl({top:ig(k),height:ig(O),width:ig(I)},i?"right":"left",ig(L)));return ne.createElement(E,Object.assign({type:"time"},e),ne.createElement("div",{role:"button",tabIndex:0,onClick:m,onDoubleClick:g,style:V,onKeyDown:S,title:R?(typeof u=="string"?u+": ":"")+R:void 0,className:zn(y?"rbc-background-event":"rbc-event",n,M.className,{"rbc-selected":l,"rbc-event-continues-earlier":d,"rbc-event-continues-later":h})},D))}var C1e=function(t){var n=t.children,r=t.className,a=t.style,i=t.innerRef;return ne.createElement("div",{className:r,style:a,ref:i},n)},j1e=ne.forwardRef(function(e,t){return ne.createElement(C1e,Object.assign({},e,{innerRef:t}))}),E1e=["dayProp"],T1e=["eventContainerWrapper","timeIndicatorWrapper"],hq=(function(e){function t(){var n;dr(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Yr(this,t,[].concat(a)),n.state={selecting:!1,timeIndicatorPosition:null},n.intervalTriggered=!1,n.renderEvents=function(l){var u=l.events,d=l.isBackgroundEvent,h=n.props,p=h.rtl,m=h.selected,g=h.accessors,y=h.localizer,S=h.getters,x=h.components,C=h.step,E=h.timeslots,j=h.dayLayoutAlgorithm,R=h.resizable,_=n,A=_.slotMetrics,M=y.messages,D=S1e({events:u,accessors:g,slotMetrics:A,minimumStartDifference:Math.ceil(C*E/2),dayLayoutAlgorithm:j});return D.map(function(O,k){var I,L=O.event,V=O.style,q=g.end(L),U=g.start(L),G=(I=g.eventId(L))!==null&&I!==void 0?I:"evt_"+k,N="eventTimeRangeFormat",z,$=A.startsBeforeDay(U),Y=A.startsAfterDay(q);$?N="eventTimeRangeEndFormat":Y&&(N="eventTimeRangeStartFormat"),$&&Y?z=M.allDay:z=y.format({start:U,end:q},N);var X=$||A.startsBefore(U),H=Y||A.startsAfter(q);return ne.createElement(w1e,{style:V,event:L,label:z,key:G,getters:S,rtl:p,components:x,continuesPrior:X,continuesAfter:H,accessors:g,resource:n.props.resource,selected:o0(L,m),onClick:function(Q){return n._select(fn(fn(fn({},L),n.props.resource&&{sourceResource:n.props.resource}),d&&{isBackgroundEvent:!0}),Q)},onDoubleClick:function(Q){return n._doubleClick(L,Q)},isBackgroundEvent:d,onKeyPress:function(Q){return n._keyPress(L,Q)},resizable:R})})},n._selectable=function(){var l=n.containerRef.current,u=n.props,d=u.longPressThreshold,h=u.localizer,p=n._selector=new iq(function(){return l},{longPressThreshold:d}),m=function(x){var C=n.props.onSelecting,E=n.state||{},j=g(x),R=j.startDate,_=j.endDate;C&&(h.eq(E.startDate,R,"minutes")&&h.eq(E.endDate,_,"minutes")||C({start:R,end:_,resourceId:n.props.resource})===!1)||(n.state.start!==j.start||n.state.end!==j.end||n.state.selecting!==j.selecting)&&n.setState(j)},g=function(x){var C=n.slotMetrics.closestSlotFromPoint(x,Oc(l));n.state.selecting||(n._initialSlot=C);var E=n._initialSlot;h.lte(E,C)?C=n.slotMetrics.nextSlot(C):h.gt(E,C)&&(E=n.slotMetrics.nextSlot(E));var j=n.slotMetrics.getRange(h.min(E,C),h.max(E,C));return fn(fn({},j),{},{selecting:!0,top:"".concat(j.top,"%"),height:"".concat(j.height,"%")})},y=function(x,C){if(!mv(n.containerRef.current,x)){var E=g(x),j=E.startDate,R=E.endDate;n._selectSlot({startDate:j,endDate:R,action:C,box:x})}n.setState({selecting:!1})};p.on("selecting",m),p.on("selectStart",m),p.on("beforeSelect",function(S){if(n.props.selectable==="ignoreEvents")return!mv(n.containerRef.current,S)}),p.on("click",function(S){return y(S,"click")}),p.on("doubleClick",function(S){return y(S,"doubleClick")}),p.on("select",function(S){n.state.selecting&&(n._selectSlot(fn(fn({},n.state),{},{action:"select",bounds:S})),n.setState({selecting:!1}))}),p.on("reset",function(){n.state.selecting&&n.setState({selecting:!1})})},n._teardownSelectable=function(){n._selector&&(n._selector.teardown(),n._selector=null)},n._selectSlot=function(l){for(var u=l.startDate,d=l.endDate,h=l.action,p=l.bounds,m=l.box,g=u,y=[];n.props.localizer.lte(g,d);)y.push(g),g=new Date(+g+n.props.step*60*1e3);xn(n.props.onSelectSlot,{slots:y,start:u,end:d,resourceId:n.props.resource,action:h,bounds:p,box:m})},n._select=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];xn(n.props.onSelectEvent,u)},n._doubleClick=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];xn(n.props.onDoubleClickEvent,u)},n._keyPress=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];xn(n.props.onKeyPressEvent,u)},n.slotMetrics=i2(n.props),n.containerRef=b.createRef(),n}return Qr(t,e),fr(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,a){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable();var i=this.props,l=i.getNow,u=i.isNow,d=i.localizer,h=i.date,p=i.min,m=i.max,g=d.neq(r.getNow(),l(),"minutes");if(r.isNow!==u||g){if(this.clearTimeIndicatorInterval(),u){var y=!g&&d.eq(r.date,h,"minutes")&&a.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(y)}}else u&&(d.neq(r.min,p,"minutes")||d.neq(r.max,m,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!a&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,a=r.min,i=r.max,l=r.getNow,u=l();if(u>=a&&u<=i){var d=this.slotMetrics.getCurrentTimePosition(u);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:d})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,a=r.date,i=r.max,l=r.rtl,u=r.isNow,d=r.resource,h=r.accessors,p=r.localizer,m=r.getters,g=m.dayProp,y=Co(m,E1e),S=r.components,x=S.eventContainerWrapper,C=S.timeIndicatorWrapper,E=Co(S,T1e);this.slotMetrics=this.slotMetrics.update(this.props);var j=this.slotMetrics,R=this.state,_=R.selecting,A=R.top,M=R.height,D=R.startDate,O=R.endDate,k={start:D,end:O},I=g(i,d),L=I.className,V=I.style,q={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},U=E.dayColumnWrapper||j1e;return ne.createElement(U,{ref:this.containerRef,date:a,style:V,className:zn(L,"rbc-day-slot","rbc-time-column",u&&"rbc-now",u&&"rbc-today",_&&"rbc-slot-selecting"),slotMetrics:j,resource:d},j.groups.map(function(G,N){return ne.createElement(fq,{key:N,group:G,resource:d,getters:y,components:E})}),ne.createElement(x,{localizer:p,resource:d,accessors:h,getters:y,components:E,slotMetrics:j},ne.createElement("div",{className:zn("rbc-events-container",l&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),_&&ne.createElement("div",{className:"rbc-slot-selection",style:{top:A,height:M}},ne.createElement("span",null,p.format(k,"selectRangeFormat"))),u&&this.intervalTriggered&&ne.createElement(C,q,ne.createElement("div",q)))}}])})(ne.Component);hq.defaultProps={dragThroughEvents:!0,timeslots:2};var pq=function(t){var n=t.label;return ne.createElement(ne.Fragment,null,n)},R1e=(function(e){function t(){var n;dr(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Yr(this,t,[].concat(a)),n.handleHeaderClick=function(l,u,d){d.preventDefault(),xn(n.props.onDrillDown,[l,u])},n.renderRow=function(l){var u=n.props,d=u.events,h=u.rtl,p=u.selectable,m=u.getNow,g=u.range,y=u.getters,S=u.localizer,x=u.accessors,C=u.components,E=u.resizable,j=x.resourceId(l),R=l?d.filter(function(_){return x.resource(_)===j}):d;return ne.createElement(Oh,{isAllDay:!0,rtl:h,getNow:m,minRows:2,maxRows:n.props.allDayMaxRows+1,range:g,events:R,resourceId:j,className:"rbc-allday-cell",selectable:p,selected:n.props.selected,components:C,accessors:x,getters:y,localizer:S,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyPress:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:E})},n}return Qr(t,e),fr(t,[{key:"renderHeaderCells",value:function(r){var a=this,i=this.props,l=i.localizer,u=i.getDrilldownView,d=i.getNow,h=i.getters.dayProp,p=i.components.header,m=p===void 0?a2:p,g=d();return r.map(function(y,S){var x=u(y),C=l.format(y,"dayFormat"),E=h(y),j=E.className,R=E.style,_=ne.createElement(m,{date:y,label:C,localizer:l});return ne.createElement("div",{key:S,style:R,className:zn("rbc-header",j,l.isSameDate(y,g)&&"rbc-today")},x?ne.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(M){return a.handleHeaderClick(y,x,M)}},_):ne.createElement("span",null,_))})}},{key:"render",value:function(){var r=this,a=this.props,i=a.width,l=a.rtl,u=a.resources,d=a.range,h=a.events,p=a.getNow,m=a.accessors,g=a.selectable,y=a.components,S=a.getters,x=a.scrollRef,C=a.localizer,E=a.isOverflowing,j=a.components,R=j.timeGutterHeader,_=j.resourceHeader,A=_===void 0?pq:_,M=a.resizable,D={};E&&(D[l?"marginLeft":"marginRight"]="".concat(z_()-1,"px"));var O=u.groupEvents(h);return ne.createElement("div",{style:D,ref:x,className:zn("rbc-time-header",E&&"rbc-overflowing")},ne.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},R&&ne.createElement(R,null)),u.map(function(k,I){var L=fi(k,2),V=L[0],q=L[1];return ne.createElement("div",{className:"rbc-time-header-content",key:V||I},q&&ne.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(I)},ne.createElement("div",{className:"rbc-header"},ne.createElement(A,{index:I,label:m.resourceTitle(q),resource:q}))),ne.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(d.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(d)),ne.createElement(Oh,{isAllDay:!0,rtl:l,getNow:p,minRows:2,maxRows:r.props.allDayMaxRows+1,range:d,events:O.get(V)||[],resourceId:q&&V,className:"rbc-allday-cell",selectable:g,selected:r.props.selected,components:y,accessors:m,getters:S,localizer:C,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:M}))}))}}])})(ne.Component),_1e=(function(e){function t(){var n;dr(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Yr(this,t,[].concat(a)),n.handleHeaderClick=function(l,u,d){d.preventDefault(),xn(n.props.onDrillDown,[l,u])},n}return Qr(t,e),fr(t,[{key:"renderHeaderCells",value:function(r){var a=this,i=this.props,l=i.localizer,u=i.getDrilldownView,d=i.getNow,h=i.getters.dayProp,p=i.components,m=p.header,g=m===void 0?a2:m,y=p.resourceHeader,S=y===void 0?pq:y,x=i.resources,C=i.accessors,E=i.events,j=i.rtl,R=i.selectable,_=i.components,A=i.getters,M=i.resizable,D=d(),O=x.groupEvents(E);return r.map(function(k,I){var L=u(k),V=l.format(k,"dayFormat"),q=h(k),U=q.className,G=q.style,N=ne.createElement(g,{date:k,label:V,localizer:l});return ne.createElement("div",{key:I,className:"rbc-time-header-content rbc-resource-grouping"},ne.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(r.length<=1?" rbc-time-header-cell-single-day":"")},ne.createElement("div",{style:G,className:zn("rbc-header",U,l.isSameDate(k,D)&&"rbc-today")},L?ne.createElement("button",{type:"button",className:"rbc-button-link",onClick:function($){return a.handleHeaderClick(k,L,$)}},N):ne.createElement("span",null,N))),ne.createElement("div",{className:"rbc-row"},x.map(function(z,$){var Y=fi(z,2),X=Y[0],H=Y[1];return ne.createElement("div",{key:"resource_".concat(X,"_").concat($),className:zn("rbc-header",U,l.isSameDate(k,D)&&"rbc-today")},ne.createElement(S,{index:$,label:C.resourceTitle(H),resource:H}))})),ne.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},x.map(function(z,$){var Y=fi(z,2),X=Y[0],H=Y[1],F=(O.get(X)||[]).filter(function(Q){return l.isSameDate(Q.start,k)||l.isSameDate(Q.end,k)});return ne.createElement(Oh,{key:"resource_".concat(X,"_").concat($),isAllDay:!0,rtl:j,getNow:d,minRows:2,maxRows:a.props.allDayMaxRows+1,range:[k],events:F,resourceId:H&&X,className:"rbc-allday-cell",selectable:R,selected:a.props.selected,components:_,accessors:C,getters:A,localizer:l,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:M})})))})}},{key:"render",value:function(){var r=this.props,a=r.width,i=r.rtl,l=r.range,u=r.scrollRef,d=r.isOverflowing,h=r.components.timeGutterHeader,p={};return d&&(p[i?"marginLeft":"marginRight"]="".concat(z_()-1,"px")),ne.createElement("div",{style:p,ref:u,className:zn("rbc-time-header",d&&"rbc-overflowing")},ne.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},h&&ne.createElement(h,null)),this.renderHeaderCells(l))}}])})(ne.Component);function D1e(e){var t=e.min,n=e.max,r=e.localizer;return r.getTimezoneOffset(t)!==r.getTimezoneOffset(n)?{start:r.add(t,-1,"day"),end:r.add(n,-1,"day")}:{start:t,end:n}}var A1e=function(t){var n=t.min,r=t.max,a=t.timeslots,i=t.step,l=t.localizer,u=t.getNow,d=t.resource,h=t.components,p=t.getters,m=t.gutterRef,g=h.timeGutterWrapper,y=b.useMemo(function(){return D1e({min:n,max:r,localizer:l})},[n?.toISOString(),r?.toISOString(),l]),S=y.start,x=y.end,C=b.useState(i2({min:S,max:x,timeslots:a,step:i,localizer:l})),E=fi(C,2),j=E[0],R=E[1];b.useEffect(function(){j&&R(j.update({min:S,max:x,timeslots:a,step:i,localizer:l}))},[S?.toISOString(),x?.toISOString(),a,i]);var _=b.useCallback(function(A,M){if(M)return null;var D=j.dateIsInGroup(u(),M);return ne.createElement("span",{className:zn("rbc-label",D&&"rbc-now")},l.format(A,"timeGutterFormat"))},[j,l,u]);return ne.createElement(g,{slotMetrics:j},ne.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:m},j.groups.map(function(A,M){return ne.createElement(fq,{key:M,group:A,resource:d,components:h,renderSlot:_,getters:p})})))},O1e=ne.forwardRef(function(e,t){return ne.createElement(A1e,Object.assign({gutterRef:t},e))}),JC={};function k1e(e,t){return{map:function(r){return e?e.map(function(a,i){return r([t.resourceId(a),a],i)}):[r([JC,null],0)]},groupEvents:function(r){var a=new Map;return e?(r.forEach(function(i){var l=t.resource(i)||JC;if(Array.isArray(l))l.forEach(function(d){var h=a.get(d)||[];h.push(i),a.set(d,h)});else{var u=a.get(l)||[];u.push(i),a.set(l,u)}}),a):(a.set(JC,r),a)}}}var Id=(function(e){function t(n){var r;return dr(this,t),r=Yr(this,t,[n]),r.handleScroll=function(a){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=a.target.scrollLeft)},r.handleResize=function(){JN(r.rafHandle),r.rafHandle=S8(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];xn(r.props.onKeyPressEvent,i)},r.handleSelectEvent=function(){r.clearSelection();for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];xn(r.props.onSelectEvent,i)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];xn(r.props.onDoubleClickEvent,i)},r.handleShowMore=function(a,i,l,u,d){var h=r.props,p=h.popup,m=h.onDrillDown,g=h.onShowMore,y=h.getDrilldownView,S=h.doShowMoreDrillDown;if(r.clearSelection(),p){var x=x8(l,r.containerRef.current);r.setState({overlay:{date:i,events:a,position:fn(fn({},x),{},{width:"200px"}),target:d}})}else S&&xn(m,[i,y(i)||Jr.DAY]);xn(g,[a,i,u])},r.handleSelectAllDaySlot=function(a,i){var l=r.props.onSelectSlot,u=new Date(a[0]),d=new Date(a[a.length-1]);d.setDate(a[a.length-1].getDate()+1),xn(l,{slots:a,start:u,end:d,action:i.action,resourceId:i.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var a=r.contentRef.current;if(a!=null&&a.scrollHeight){var i=a.scrollHeight>a.clientHeight;r.state.isOverflowing!==i&&(r._updatingOverflow=!0,r.setState({isOverflowing:i},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=U8(function(a,i){return k1e(a,i)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=ne.createRef(),r.contentRef=ne.createRef(),r.containerRef=ne.createRef(),r._scrollRatio=null,r.gutterRef=b.createRef(),r}return Qr(t,e),fr(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),JN(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(r,a,i,l,u,d,h,p,m,g){var y=this.props,S=y.min,x=y.max,C=(l.get(a)||[]).filter(function(j){return d.inRange(r,h.start(j),h.end(j),"day")}),E=(u.get(a)||[]).filter(function(j){return d.inRange(r,h.start(j),h.end(j),"day")});return ne.createElement(hq,Object.assign({},this.props,{localizer:d,min:d.merge(r,S),max:d.merge(r,x),resource:i&&a,components:p,isNow:d.isSameDate(r,g),key:"".concat(a,"-").concat(r),date:r,events:C,backgroundEvents:E,dayLayoutAlgorithm:m}))}},{key:"renderResourcesFirst",value:function(r,a,i,l,u,d,h,p,m){var g=this;return a.map(function(y){var S=fi(y,2),x=S[0],C=S[1];return r.map(function(E){return g.renderDayColumn(E,x,C,i,l,u,d,p,m,h)})})}},{key:"renderRangeFirst",value:function(r,a,i,l,u,d,h,p,m){var g=this;return r.map(function(y){return ne.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:y},a.map(function(S){var x=fi(S,2),C=x[0],E=x[1];return ne.createElement("div",{style:{flex:1},key:d.resourceId(E)},g.renderDayColumn(y,C,E,i,l,u,d,p,m,h))}))})}},{key:"renderEvents",value:function(r,a,i,l){var u=this.props,d=u.accessors,h=u.localizer,p=u.resourceGroupingLayout,m=u.components,g=u.dayLayoutAlgorithm,y=this.memoizedResources(this.props.resources,d),S=y.groupEvents(a),x=y.groupEvents(i);return p?this.renderRangeFirst(r,y,S,x,h,d,l,m,g):this.renderResourcesFirst(r,y,S,x,h,d,l,m,g)}},{key:"render",value:function(){var r,a=this.props,i=a.events,l=a.backgroundEvents,u=a.range,d=a.width,h=a.rtl,p=a.selected,m=a.getNow,g=a.resources,y=a.components,S=a.accessors,x=a.getters,C=a.localizer,E=a.min,j=a.max,R=a.showMultiDayTimes,_=a.longPressThreshold,A=a.resizable,M=a.resourceGroupingLayout;d=d||this.state.gutterWidth;var D=u[0],O=u[u.length-1];this.slots=u.length;var k=[],I=[],L=[];i.forEach(function(q){if(Ah(q,D,O,S,C)){var U=S.start(q),G=S.end(q);S.allDay(q)||C.startAndEndAreDateOnly(U,G)||!R&&!C.isSameDate(U,G)?k.push(q):I.push(q)}}),l.forEach(function(q){Ah(q,D,O,S,C)&&L.push(q)}),k.sort(function(q,U){return nE(q,U,S,C)});var V={range:u,events:k,width:d,rtl:h,getNow:m,localizer:C,selected:p,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(g,S),selectable:this.props.selectable,accessors:S,getters:x,components:y,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:_,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:A};return ne.createElement("div",{className:zn("rbc-time-view",g&&"rbc-time-view-resources"),ref:this.containerRef},g&&g.length>1&&M?ne.createElement(_1e,V):ne.createElement(R1e,V),this.props.popup&&this.renderOverlay(),ne.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},ne.createElement(O1e,{date:D,ref:this.gutterRef,localizer:C,min:C.merge(D,E),max:C.merge(D,j),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:y,className:"rbc-time-gutter",getters:x}),this.renderEvents(u,I,L,m())))}},{key:"renderOverlay",value:function(){var r,a,i=this,l=(r=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&r!==void 0?r:{},u=this.props,d=u.accessors,h=u.localizer,p=u.components,m=u.getters,g=u.selected,y=u.popupOffset,S=u.handleDragStart,x=function(){return i.setState({overlay:null})};return ne.createElement(r2,{overlay:l,accessors:d,localizer:h,components:p,getters:m,selected:g,popupOffset:y,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:S,show:!!l.position,overlayDisplay:this.overlayDisplay,onHide:x})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var a,i=(a=r.gutterRef)!==null&&a!==void 0&&a.current?Jj(r.gutterRef.current):void 0;i&&r.state.gutterWidth!==i&&r.setState({gutterWidth:i})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=r.min,i=r.max,l=r.scrollToTime,u=r.localizer,d=u.diff(u.merge(l,a),l,"milliseconds"),h=u.diff(a,i,"milliseconds");this._scrollRatio=d/h}}])})(b.Component);Id.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var M1e=["date","localizer","min","max","scrollToTime","enableAutoScroll"],l0=(function(e){function t(){return dr(this,t),Yr(this,t,arguments)}return Qr(t,e),fr(t,[{key:"render",value:function(){var r=this.props,a=r.date,i=r.localizer,l=r.min,u=l===void 0?i.startOf(new Date,"day"):l,d=r.max,h=d===void 0?i.endOf(new Date,"day"):d,p=r.scrollToTime,m=p===void 0?i.startOf(new Date,"day"):p,g=r.enableAutoScroll,y=g===void 0?!0:g,S=Co(r,M1e),x=t.range(a,{localizer:i});return ne.createElement(Id,Object.assign({},S,{range:x,eventOffset:10,localizer:i,min:u,max:h,scrollToTime:m,enableAutoScroll:y}))}}])})(ne.Component);l0.range=function(e,t){var n=t.localizer;return[n.startOf(e,"day")]};l0.navigate=function(e,t,n){var r=n.localizer;switch(t){case ga.PREVIOUS:return r.add(e,-1,"day");case ga.NEXT:return r.add(e,1,"day");default:return e}};l0.title=function(e,t){var n=t.localizer;return n.format(e,"dayHeaderFormat")};var P1e=["date","localizer","min","max","scrollToTime","enableAutoScroll"],ul=(function(e){function t(){return dr(this,t),Yr(this,t,arguments)}return Qr(t,e),fr(t,[{key:"render",value:function(){var r=this.props,a=r.date,i=r.localizer,l=r.min,u=l===void 0?i.startOf(new Date,"day"):l,d=r.max,h=d===void 0?i.endOf(new Date,"day"):d,p=r.scrollToTime,m=p===void 0?i.startOf(new Date,"day"):p,g=r.enableAutoScroll,y=g===void 0?!0:g,S=Co(r,P1e),x=t.range(a,this.props);return ne.createElement(Id,Object.assign({},S,{range:x,eventOffset:15,localizer:i,min:u,max:h,scrollToTime:m,enableAutoScroll:y}))}}])})(ne.Component);ul.defaultProps=Id.defaultProps;ul.navigate=function(e,t,n){var r=n.localizer;switch(t){case ga.PREVIOUS:return r.add(e,-1,"week");case ga.NEXT:return r.add(e,1,"week");default:return e}};ul.range=function(e,t){var n=t.localizer,r=n.startOfWeek(),a=n.startOf(e,"week",r),i=n.endOf(e,"week",r);return n.range(a,i)};ul.title=function(e,t){var n=t.localizer,r=ul.range(e,{localizer:n}),a=G8(r),i=a[0],l=a.slice(1);return n.format({start:i,end:l.pop()},"dayRangeHeaderFormat")};var N1e=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function o2(e,t){return ul.range(e,t).filter(function(n){return[6,0].indexOf(n.getDay())===-1})}var yp=(function(e){function t(){return dr(this,t),Yr(this,t,arguments)}return Qr(t,e),fr(t,[{key:"render",value:function(){var r=this.props,a=r.date,i=r.localizer,l=r.min,u=l===void 0?i.startOf(new Date,"day"):l,d=r.max,h=d===void 0?i.endOf(new Date,"day"):d,p=r.scrollToTime,m=p===void 0?i.startOf(new Date,"day"):p,g=r.enableAutoScroll,y=g===void 0?!0:g,S=Co(r,N1e),x=o2(a,this.props);return ne.createElement(Id,Object.assign({},S,{range:x,eventOffset:15,localizer:i,min:u,max:h,scrollToTime:m,enableAutoScroll:y}))}}])})(ne.Component);yp.defaultProps=Id.defaultProps;yp.range=o2;yp.navigate=ul.navigate;yp.title=function(e,t){var n=t.localizer,r=o2(e,{localizer:n}),a=G8(r),i=a[0],l=a.slice(1);return n.format({start:i,end:l.pop()},"dayRangeHeaderFormat")};var c0=30;function u0(e){var t=e.accessors,n=e.components,r=e.date,a=e.events,i=e.getters,l=e.length,u=l===void 0?c0:l,d=e.localizer,h=e.onDoubleClickEvent,p=e.onSelectEvent,m=e.selected,g=b.useRef(null),y=b.useRef(null),S=b.useRef(null),x=b.useRef(null),C=b.useRef(null);b.useEffect(function(){R()});var E=function(O,k,I){var L=n.event,V=n.date;return k=k.filter(function(q){return Ah(q,d.startOf(O,"day"),d.endOf(O,"day"),t,d)}),k.map(function(q,U){var G=t.title(q),N=t.end(q),z=t.start(q),$=i.eventProp(q,z,N,o0(q,m)),Y=U===0&&d.format(O,"agendaDateFormat"),X=U===0?ne.createElement("td",{rowSpan:k.length,className:"rbc-agenda-date-cell"},V?ne.createElement(V,{day:O,label:Y}):Y):!1;return ne.createElement("tr",{key:I+"_"+U,className:$.className,style:$.style},X,ne.createElement("td",{className:"rbc-agenda-time-cell"},j(O,q)),ne.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(F){return p&&p(q,F)},onDoubleClick:function(F){return h&&h(q,F)}},L?ne.createElement(L,{event:q,title:G}):G))},[])},j=function(O,k){var I="",L=n.time,V=d.messages.allDay,q=t.end(k),U=t.start(k);return t.allDay(k)||(d.eq(U,q)?V=d.format(U,"agendaTimeFormat"):d.isSameDate(U,q)?V=d.format({start:U,end:q},"agendaTimeRangeFormat"):d.isSameDate(O,U)?V=d.format(U,"agendaTimeFormat"):d.isSameDate(O,q)&&(V=d.format(q,"agendaTimeFormat"))),d.gt(O,U,"day")&&(I="rbc-continues-prior"),d.lt(O,q,"day")&&(I+=" rbc-continues-after"),ne.createElement("span",{className:I.trim()},L?ne.createElement(L,{event:k,day:O,label:V}):V)},R=function(){if(C.current){var O=g.current,k=C.current.firstChild;if(k){var I=x.current.scrollHeight>x.current.clientHeight,L=[],V=L;L=[Jj(k.children[0]),Jj(k.children[1])],(V[0]!==L[0]||V[1]!==L[1])&&(y.current.style.width=L[0]+"px",S.current.style.width=L[1]+"px"),I?(yZ(O,"rbc-header-overflowing"),O.style.marginRight=z_()+"px"):bZ(O,"rbc-header-overflowing")}}},_=d.messages,A=d.add(r,u,"day"),M=d.range(r,A,"day");return a=a.filter(function(D){return Ah(D,d.startOf(r,"day"),d.endOf(A,"day"),t,d)}),a.sort(function(D,O){return+t.start(D)-+t.start(O)}),ne.createElement("div",{className:"rbc-agenda-view"},a.length!==0?ne.createElement(ne.Fragment,null,ne.createElement("table",{ref:g,className:"rbc-agenda-table"},ne.createElement("thead",null,ne.createElement("tr",null,ne.createElement("th",{className:"rbc-header",ref:y},_.date),ne.createElement("th",{className:"rbc-header",ref:S},_.time),ne.createElement("th",{className:"rbc-header"},_.event)))),ne.createElement("div",{className:"rbc-agenda-content",ref:x},ne.createElement("table",{className:"rbc-agenda-table"},ne.createElement("tbody",{ref:C},M.map(function(D,O){return E(D,a,O)}))))):ne.createElement("span",{className:"rbc-agenda-empty"},_.noEventsInRange))}u0.range=function(e,t){var n=t.length,r=n===void 0?c0:n,a=t.localizer,i=a.add(e,r,"day");return{start:e,end:i}};u0.navigate=function(e,t,n){var r=n.length,a=r===void 0?c0:r,i=n.localizer;switch(t){case ga.PREVIOUS:return i.add(e,-a,"day");case ga.NEXT:return i.add(e,a,"day");default:return e}};u0.title=function(e,t){var n=t.length,r=n===void 0?c0:n,a=t.localizer,i=a.add(e,r,"day");return a.format({start:e,end:i},"agendaHeaderFormat")};var Pg=Zl(Zl(Zl(Zl(Zl({},Jr.MONTH,s0),Jr.WEEK,ul),Jr.WORK_WEEK,yp),Jr.DAY,l0),Jr.AGENDA,u0),I1e=["action","date","today"];function L1e(e,t){var n=t.action,r=t.date,a=t.today,i=Co(t,I1e);switch(e=typeof e=="string"?Pg[e]:e,n){case ga.TODAY:r=a||new Date;break;case ga.DATE:break;default:yh(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=e.navigate(r,n,i)}return r}function z1e(e,t){var n=null;return typeof t=="function"?n=t(e):typeof t=="string"&&ns(e)==="object"&&e!=null&&t in e&&(n=e[t]),n}var Vo=function(t){return function(n){return z1e(n,t)}},$1e=["view","date","getNow","onNavigate"],q1e=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function mq(e){if(Array.isArray(e))return e;for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var a=fi(r[n],2),i=a[0],l=a[1];l&&t.push(i)}return t}function U1e(e,t){var n=t.views,r=mq(n);return r.indexOf(e)!==-1}var gq=(function(e){function t(){var n;dr(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Yr(this,t,[].concat(a)),n.getViews=function(){var l=n.props.views;return Array.isArray(l)?Xxe(l,function(u,d){return u[d]=Pg[d]},{}):ns(l)==="object"?xxe(l,function(u,d){return u===!0?Pg[d]:u}):Pg},n.getView=function(){var l=n.getViews();return l[n.props.view]},n.getDrilldownView=function(l){var u=n.props,d=u.view,h=u.drilldownView,p=u.getDrilldownView;return p?p(l,d,Object.keys(n.getViews())):h},n.handleRangeChange=function(l,u,d){var h=n.props,p=h.onRangeChange,m=h.localizer;p&&u.range&&p(u.range(l,{localizer:m}),d)},n.handleNavigate=function(l,u){var d=n.props,h=d.view,p=d.date,m=d.getNow,g=d.onNavigate,y=Co(d,$1e),S=n.getView(),x=m();p=L1e(S,fn(fn({},y),{},{action:l,date:u||p||x,today:x})),g(p,h,l),n.handleRangeChange(p,S)},n.handleViewChange=function(l){l!==n.props.view&&U1e(l,n.props)&&n.props.onView(l);var u=n.getViews();n.handleRangeChange(n.props.date||n.props.getNow(),u[l],l)},n.handleSelectEvent=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];xn(n.props.onSelectEvent,u)},n.handleDoubleClickEvent=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];xn(n.props.onDoubleClickEvent,u)},n.handleKeyPressEvent=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];xn(n.props.onKeyPressEvent,u)},n.handleSelectSlot=function(l){xn(n.props.onSelectSlot,l)},n.handleDrillDown=function(l,u){var d=n.props.onDrillDown;if(d){d(l,u,n.drilldownView);return}u&&n.handleViewChange(u),n.handleNavigate(ga.DATE,l)},n.state={context:t.getContext(n.props)},n}return Qr(t,e),fr(t,[{key:"render",value:function(){var r=this.props,a=r.view,i=r.toolbar,l=r.events,u=r.backgroundEvents,d=r.resourceGroupingLayout,h=r.style,p=r.className,m=r.elementProps,g=r.date,y=r.getNow,S=r.length,x=r.showMultiDayTimes,C=r.onShowMore,E=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var j=Co(r,q1e);g=g||y();var R=this.getView(),_=this.state.context,A=_.accessors,M=_.components,D=_.getters,O=_.localizer,k=_.viewNames,I=M.toolbar||FSe,L=R.title(g,{localizer:O,length:S});return ne.createElement("div",Object.assign({},m,{className:zn(p,"rbc-calendar",j.rtl&&"rbc-rtl"),style:h}),i&&ne.createElement(I,{date:g,view:a,views:k,label:L,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:O}),ne.createElement(R,Object.assign({},j,{events:l,backgroundEvents:u,date:g,getNow:y,length:S,localizer:O,getters:D,components:M,accessors:A,showMultiDayTimes:x,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:C,doShowMoreDrillDown:E,resourceGroupingLayout:d})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:t.getContext(r)}}},{key:"getContext",value:function(r){var a=r.startAccessor,i=r.endAccessor,l=r.allDayAccessor,u=r.tooltipAccessor,d=r.titleAccessor,h=r.resourceAccessor,p=r.resourceIdAccessor,m=r.resourceTitleAccessor,g=r.eventIdAccessor,y=r.eventPropGetter,S=r.backgroundEventPropGetter,x=r.slotPropGetter,C=r.slotGroupPropGetter,E=r.dayPropGetter,j=r.view,R=r.views,_=r.localizer,A=r.culture,M=r.messages,D=M===void 0?{}:M,O=r.components,k=O===void 0?{}:O,I=r.formats,L=I===void 0?{}:I,V=mq(R),q=WSe(D);return{viewNames:V,localizer:HSe(_,A,L,q),getters:{eventProp:function(){return y&&y.apply(void 0,arguments)||{}},backgroundEventProp:function(){return S&&S.apply(void 0,arguments)||{}},slotProp:function(){return x&&x.apply(void 0,arguments)||{}},slotGroupProp:function(){return C&&C.apply(void 0,arguments)||{}},dayProp:function(){return E&&E.apply(void 0,arguments)||{}}},components:vxe(k[j]||{},Yxe(k,V),{eventWrapper:io,backgroundEventWrapper:io,eventContainerWrapper:io,dateCellWrapper:io,weekWrapper:io,timeSlotWrapper:io,timeGutterWrapper:io,timeIndicatorWrapper:io}),accessors:{start:Vo(a),end:Vo(i),allDay:Vo(l),tooltip:Vo(u),title:Vo(d),resource:Vo(h),resourceId:Vo(p),resourceTitle:Vo(m),eventId:Vo(g)}}}}])})(ne.Component);gq.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Jr.MONTH,views:[Jr.MONTH,Jr.WEEK,Jr.DAY,Jr.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Jr.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var B1e=a8(gq,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),H1e=function(t,n,r){var a=t.start,i=t.end;return r.format(a,"MMMM DD",n)+" â€“ "+r.format(i,r.eq(a,i,"month")?"DD":"MMMM DD",n)},F1e=function(t,n,r){var a=t.start,i=t.end;return r.format(a,"L",n)+" â€“ "+r.format(i,"L",n)},ej=function(t,n,r){var a=t.start,i=t.end;return r.format(a,"LT",n)+" â€“ "+r.format(i,"LT",n)},V1e=function(t,n,r){var a=t.start;return r.format(a,"LT",n)+" â€“ "},W1e=function(t,n,r){var a=t.end;return" â€“ "+r.format(a,"LT",n)},G1e={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:ej,eventTimeRangeFormat:ej,eventTimeRangeStartFormat:V1e,eventTimeRangeEndFormat:W1e,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:H1e,agendaHeaderFormat:F1e,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:ej};function Bs(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function Y1e(e){e.extend(tSe),e.extend(iSe),e.extend(cSe),e.extend(hSe),e.extend(vSe),e.extend(SSe),e.extend(Q7),e.extend(ESe);var t=function(Q,J){return J?Q.locale(J):Q},n=e.tz?e.tz:e;function r(F){return n(F).toDate().getTimezoneOffset()}function a(F,Q){var J,re=n(F),de=n(Q);if(!n.tz)return re.toDate().getTimezoneOffset()-de.toDate().getTimezoneOffset();var Ee=(J=re.tz().$x.$timezone)!==null&&J!==void 0?J:e.tz.guess(),Re=-n.tz(+re,Ee).utcOffset(),Se=-n.tz(+de,Ee).utcOffset();return Re-Se}function i(F){var Q=n(F).startOf("day");return a(Q,F)}function l(F,Q,J){var re=Bs(J),de=re?n(F).startOf(re):n(F),Ee=re?n(Q).startOf(re):n(Q);return[de,Ee,re]}function u(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Q=arguments.length>1?arguments[1]:void 0,J=Bs(Q);return J?n(F).startOf(J).toDate():n(F).toDate()}function d(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Q=arguments.length>1?arguments[1]:void 0,J=Bs(Q);return J?n(F).endOf(J).toDate():n(F).toDate()}function h(F,Q,J){var re=l(F,Q,J),de=fi(re,3),Ee=de[0],Re=de[1],Se=de[2];return Ee.isSame(Re,Se)}function p(F,Q,J){return!h(F,Q,J)}function m(F,Q,J){var re=l(F,Q,J),de=fi(re,3),Ee=de[0],Re=de[1],Se=de[2];return Ee.isAfter(Re,Se)}function g(F,Q,J){var re=l(F,Q,J),de=fi(re,3),Ee=de[0],Re=de[1],Se=de[2];return Ee.isBefore(Re,Se)}function y(F,Q,J){var re=l(F,Q,J),de=fi(re,3),Ee=de[0],Re=de[1],Se=de[2];return Ee.isSameOrBefore(Re,Se)}function S(F,Q,J){var re=l(F,Q,J),de=fi(re,3),Ee=de[0],Re=de[1],Se=de[2];return Ee.isSameOrBefore(Re,Se)}function x(F,Q,J){var re=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",de=Bs(re),Ee=n(F),Re=n(Q),Se=n(J);return Ee.isBetween(Re,Se,de,"[]")}function C(F,Q){var J=n(F),re=n(Q),de=e.min(J,re);return de.toDate()}function E(F,Q){var J=n(F),re=n(Q),de=e.max(J,re);return de.toDate()}function j(F,Q){if(!F&&!Q)return null;var J=n(Q).format("HH:mm:ss"),re=n(F).startOf("day").format("MM/DD/YYYY");return n("".concat(re," ").concat(J)).toDate()}function R(F,Q,J){var re=Bs(J);return n(F).add(Q,re).toDate()}function _(F,Q){for(var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",re=Bs(J),de=n(F).toDate(),Ee=[];S(de,Q);)Ee.push(de),de=R(de,1,re);return Ee}function A(F,Q){var J=Bs(Q),re=u(F,J);return h(re,F)?re:R(re,1,J)}function M(F,Q){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",re=Bs(J),de=n(F),Ee=n(Q);return Ee.diff(de,re)}function D(F){var Q=n(F);return Q.minutes()}function O(F){var Q=F?e.localeData(F):e.localeData();return Q?Q.firstDayOfWeek():0}function k(F){var Q=n(F).startOf("month"),J=n(Q).startOf("week");if(n(Q).isLeapYear()){var re=Q.toDate().getDay(),de=Q.toDate().getDate()-re+(re==0?-6:1);J.date(de)}return J.toDate()}function I(F){return n(F).endOf("month").endOf("week").toDate()}function L(F){for(var Q=k(F),J=I(F),re=[];S(Q,J);)re.push(Q),Q=R(Q,1,"d");return re}function V(F,Q,J){return n(F).startOf("day").minute(Q+J).toDate()}function q(F,Q){return M(F,Q,"minutes")}function U(F){var Q=n(F).startOf("day"),J=n(F);return J.diff(Q,"minutes")+i(F)}function G(F,Q){var J=n(F),re=n(Q);return J.isBefore(re,"day")}function N(F,Q,J){var re=n(Q),de=n(J);return re.isSameOrAfter(de,"minutes")}function z(F,Q){var J=n(F),re=n(Q);return re.diff(J,"day")}function $(F){var Q=F.evtA,J=Q.start,re=Q.end,de=Q.allDay,Ee=F.evtB,Re=Ee.start,Se=Ee.end,Ye=Ee.allDay,Je=+u(J,"day")-+u(Re,"day"),Ve=z(J,re),ze=z(Re,Se);return Je||ze-Ve||!!Ye-!!de||+J-+Re||+re-+Se}function Y(F){var Q=F.event,J=Q.start,re=Q.end,de=F.range,Ee=de.start,Re=de.end,Se=n(J).startOf("day"),Ye=n(re),Je=n(Ee),Ve=n(Re),ze=Se.isSameOrBefore(Ve,"day"),mt=!Se.isSame(Ye,"minutes"),Ze=mt?Ye.isAfter(Je,"minutes"):Ye.isSameOrAfter(Je,"minutes");return ze&&Ze}function X(F,Q){var J=n(F),re=n(Q);return J.isSame(re,"day")}function H(){var F=new Date,Q=/-/.test(F.toString())?"-":"",J=F.getTimezoneOffset(),re=Number("".concat(Q).concat(Math.abs(J))),de=n().utcOffset();return de>re?1:0}return new BSe({formats:G1e,firstOfWeek:O,firstVisibleDay:k,lastVisibleDay:I,visibleDays:L,format:function(Q,J,re){return t(n(Q),re).format(J)},lt:g,lte:S,gt:m,gte:y,eq:h,neq:p,merge:j,inRange:x,startOf:u,endOf:d,range:_,add:R,diff:M,ceil:A,min:C,max:E,minutes:D,getSlotDate:V,getTimezoneOffset:r,getDstOffset:a,getTotalMin:q,getMinutesFromMidnight:U,continuesPrior:G,continuesAfter:N,sortEvents:$,inEventRange:Y,isSameDate:X,browserTZOffset:H})}const Q1e="_planDefinition_67jgk_1",K1e={planDefinition:Q1e};function X1e(e){const{appointmentSlot:t}=e,[n,r]=b.useState(""),[a,i]=b.useState(""),[l,u]=b.useState(),[d,h]=b.useState(),[p,m]=b.useState(),[g,y]=b.useState(t?.start),[S,x]=b.useState(t?.end),[C,E]=b.useState(!1),j=_e(),R=gn();b.useEffect(()=>{if(!t)return;const A=new Date(t?.start),M=new Date(t?.end),D={weekday:"short",month:"short",day:"numeric",year:"numeric"},O=A.toLocaleDateString("en-US",D),k={hour:"numeric",minute:"numeric",hour12:!0},I=A.toLocaleTimeString("en-US",k),L=M.toLocaleTimeString("en-US",k),V=`${I} â€“ ${L}`;r(O),i(V)},[t]);async function _(){if(!l||!d||!p||!g||!S){bt({color:"yellow",icon:s.jsx(v7,{}),title:"Error",message:"Please fill out required fields."});return}E(!0);try{const A=await D7(j,g,S,p,l,d);bt({icon:s.jsx(Uy,{}),title:"Success",message:"Visit created"}),R(`/Patient/${l.id}/Encounter/${A.id}`)?.catch(console.error)}catch(A){Fe(A)}finally{E(!1)}}return s.jsx(ar,{onSubmit:_,children:s.jsxs($e,{direction:"column",gap:"md",h:"100%",justify:"space-between",children:[s.jsxs(ae,{gap:"md",h:"100%",children:[s.jsxs(ae,{gap:0,children:[s.jsx(cr,{order:1,fw:500,children:n}),s.jsx(W,{size:"lg",children:a})]}),s.jsx(Mr,{label:"Patient",resourceType:"Patient",name:"Patient-id",required:!0,onChange:A=>u(A)}),s.jsx(Ln,{name:"start",label:"Start Time",defaultValue:t?.start?.toISOString(),required:!0,onChange:A=>{y(new Date(A))}}),s.jsx(Ln,{name:"end",label:"End Time",defaultValue:t?.end?.toISOString(),required:!0,onChange:A=>{x(new Date(A))}}),s.jsx(VR,{name:"class",label:"Class",binding:"http://terminology.hl7.org/ValueSet/v3-ActEncounterCode",required:!0,onChange:m,path:"Encounter.type"}),s.jsx(Mr,{name:"plandefinition",resourceType:"PlanDefinition",label:"Care template",onChange:A=>{h(A)},required:!0})]}),d?.action&&d.action.length>0&&s.jsx(lr,{className:K1e.planDefinition,children:s.jsxs(ae,{gap:0,children:[s.jsx(W,{fw:500,children:"Included Tasks"}),d?.action?.map(A=>s.jsxs(W,{children:["- ",A.title]},A.id))]})}),s.jsxs(Oe,{fullWidth:!0,mt:"xl",type:"submit",loading:C,disabled:C,children:[s.jsx(Pfe,{})," ",s.jsx(W,{ml:"xs",children:"Create Visit"})]})]})})}function Z1e(){const e=gn(),t=_e(),n=Cr(),r=b.useRef(null),[a,i]=b.useState(),[l,u]=b.useState("week"),[d,h]=b.useState(new Date),[p,m]=b.useState(void 0),[g,y]=qa(!1),[S,x]=b.useState(),[C,E]=b.useState(),[j,R]=b.useState();b.useEffect(()=>{t.isLoading()||!n||t.searchOne("Schedule",{actor:Me(n)}).then(L=>{L?i(L):t.createResource({resourceType:"Schedule",actor:[ke(n)],active:!0}).then(i).catch(console.error)}).catch(console.error)},[t,n]);const _=b.useCallback(L=>{let V,q;Array.isArray(L)?(V=L[0],q=new Date(L[L.length-1].getTime()+1440*60*1e3)):(V=L.start,q=L.end),(!p||V.getTime()!==p.start.getTime()||q.getTime()!==p.end.getTime())&&m({start:V,end:q})},[p,m]),A=b.useCallback(L=>{if(!r.current||!a||!p)return;const q=p.start.toISOString(),U=p.end.toISOString();async function G(){const z=await t.searchResources("Slot",[["_count","1000"],["schedule",Me(a)],["start",`ge${q}`],["start",`le${U}`]],{cache:L});x(J1e(z))}async function N(){const z=await t.searchResources("Appointment",[["_count","1000"],["actor",Me(n)],["date",`ge${q}`],["date",`le${U}`]],{cache:L});E(ewe(z))}Promise.allSettled([G(),N()]).catch(console.error)},[t,n,a,p]);b.useEffect(()=>{A()},[A]);const M=b.useCallback(L=>{y.open(),R(L)},[y]),D=b.useCallback(async L=>{const{resourceType:V,status:q}=L.resource;function U(){q==="free"&&y.open()}async function G(){const N=await t.searchResources("Encounter",[["appointment",Me(L.resource)],["_count","1"]]),z=N?.[0]?.subject;z?.reference&&e(`/${z.reference}/Encounter/${N?.[0]?.id}`)?.catch(console.error)}if(V==="Slot"){U();return}V==="Appointment"&&G().catch(N=>Fe(N))},[y,e,t]);if(!a)return null;const O=window.innerHeight-60,k=L=>{const[V,q]=b.useState(!0);return b.useEffect(()=>{V&&(L.onView(L.view),q(!1))},[L,V,q]),s.jsxs(se,{justify:"space-between",pb:"sm",children:[s.jsxs(se,{children:[s.jsxs(cr,{order:4,mr:"md",children:[L.view!=="day"&&Vl(L.date).format("MMMM YYYY"),L.view==="day"&&Vl(L.date).format("MMMM D YYYY")]}),s.jsxs(Oe.Group,{children:[s.jsx(Oe,{variant:"default",size:"xs",onClick:()=>L.onNavigate("PREV"),children:s.jsx(Dfe,{size:12})}),s.jsx(Oe,{variant:"default",size:"xs",onClick:()=>L.onNavigate("TODAY"),children:"Today"}),s.jsx(Oe,{variant:"default",size:"xs",onClick:()=>L.onNavigate("NEXT"),children:s.jsx(Uj,{size:12})})]})]}),s.jsx(tl,{size:"xs",value:L.view,onChange:U=>u(U),data:[{label:"Month",value:"month"},{label:"Week",value:"week"},{label:"Day",value:"day"}]})]})};function I(L,V,q,U){const G={style:{backgroundColor:"#228be6",border:"1px solid rgba(255, 255, 255, 0)",borderRadius:"4px",color:"white",display:"block",opacity:1}};return L.type==="slot"&&(G.style.backgroundColor=L.status==="free"?"#d3f9d8":"#ced4da",G.style.color="black",G.style.opacity=.6),G}return Vl.extend(Q7),Vl.extend(sve),Vl.tz.setDefault(Vl.tz.guess()),s.jsxs(te,{pos:"relative",bg:"white",p:"md",style:{height:O},children:[s.jsx(B1e,{ref:r,components:{toolbar:k},view:l,date:d,localizer:Y1e(Vl),events:C,backgroundEvents:S,onNavigate:(L,V)=>{h(L),u(V)},onRangeChange:_,onSelectSlot:M,onSelectEvent:D,scrollToTime:d,style:{height:O-150},selectable:!0,eventPropGetter:I}),s.jsx(Qi,{opened:g,onClose:y.close,title:"New Calendar Event",position:"right",h:"100%",children:s.jsx(X1e,{appointmentSlot:j})})]})}function J1e(e){if(!e||e.length===0)return[];const t=e.filter(a=>a.status==="free"||a.status==="busy-unavailable"),n={};t.forEach(a=>{n[a.status]||(n[a.status]=[]),n[a.status].push({type:"slot",status:a.status,start:new Date(a.start),end:new Date(a.end)})});const r=[];return Object.entries(n).forEach(([a,i])=>{i.sort((u,d)=>u.start.getTime()-d.start.getTime());let l;for(const u of i)l?u.start<=new Date(l.end.getTime()+1e3)?u.end>l.end&&(l.end=u.end):(r.push({type:"slot",status:l.status,title:a==="free"?"Available":"Blocked",start:l.start,end:l.end}),l={type:"slot",status:a,start:u.start,end:u.end}):l={type:"slot",status:a,start:u.start,end:u.end};l&&r.push({type:"slot",status:l.status,title:a==="free"?"Available":"Blocked",start:l.start,end:l.end,resource:{status:a}})}),r}function ewe(e){return e.filter(t=>t.status!=="cancelled").map(t=>{const n=t?.participant?.find(a=>a.actor?.reference?.startsWith("Patient/")),r=["booked","arrived","fulfilled"].includes(t.status)?"":` (${t.status})`;return{type:"appointment",appointment:t,title:`${n?.actor?.display} ${r}`,start:new Date(t.start),end:new Date(t.end),resource:t}})}const twe="_paper_unw9o_1",nwe={paper:twe};function rwe(){const e=_e(),t=gn(),n=Ya(),[r,a]=b.useState();return b.useEffect(()=>{const i=CR(n.pathname+n.search),l=awe(i,e.getUserConfiguration());n.pathname===`/${l.resourceType}`&&n.search===Ks(l)?(lwe(l),a(l)):t(`/${l.resourceType}${Ks(l)}`)?.catch(console.error)},[e,t,n]),S_(r?.resourceType,{onInvalidResourceType:()=>t("..")?.catch(console.error)}),!r?.resourceType||!r.fields||r.fields.length===0?s.jsx(Fi,{}):s.jsx(Lt,{shadow:"xs",m:"xs",p:"xs",className:nwe.paper,children:s.jsx(A$,{checkboxesEnabled:!0,search:r,onClick:i=>t($L(i.resource))?.catch(console.error),onAuxClick:i=>window.open($L(i.resource),"_blank"),onNew:()=>{t(`/${r.resourceType}/new`)?.catch(console.error)},onChange:i=>{t(`/${r.resourceType}${Ks(i.definition)}`)?.catch(console.error)}})})}function awe(e,t){const n=e.resourceType||iwe(t),r=e.fields??["_id","_lastUpdated"],a=e.filters??(e.resourceType?void 0:owe(n)),i=e.sortRules??swe(n),l=e.offset??0,u=e.count??Kh;return{...e,resourceType:n,fields:r,filters:a,sortRules:i,offset:l,count:u}}function iwe(e){return localStorage.getItem("defaultResourceType")??e?.option?.find(t=>t.id==="defaultResourceType")?.valueString??"Task"}function owe(e){return vq(e)?.filters}function swe(e){const t=vq(e);return t?.sortRules?t.sortRules:[{code:"_lastUpdated",descending:!0}]}function vq(e){const t=localStorage.getItem(e+"-defaultSearch");return t?JSON.parse(t):void 0}function lwe(e){localStorage.setItem("defaultResourceType",e.resourceType),localStorage.setItem(e.resourceType+"-defaultSearch",JSON.stringify(e))}function $L(e){const t=["patient","subject","sender"];for(const n of t)if(n in e){const r=e[n];if(cwe(r))return`/${r.reference}/${e.resourceType}/${e.id}`}return`/${e.resourceType}/${e.id}`}function cwe(e){return $a(e)&&e.reference.startsWith("Patient/")}function qL(){const e=gn();return s.jsxs(voe,{googleClientId:"921088377005-3j1sa10vr6hj86jgmdfh2l53v3mp7lfi.apps.googleusercontent.com",onSuccess:()=>e("/")?.catch(console.error),children:[s.jsx(tp,{size:32}),s.jsx(cr,{order:3,py:"lg",children:"Sign in to Provider"})]})}const uwe="_container_dg20o_1",dwe={container:uwe},fwe="_resourceBox_p86id_1",hwe="_content_p86id_22",og={resourceBox:fwe,content:hwe};function pwe({resourceReference:e,onClick:t}){const n=_e(),[r,a]=b.useState(),[i,l]=b.useState(!0),[u,d]=b.useState();if(b.useEffect(()=>{const[m,g]=e.split("/");if(!m||!g){d("Invalid resource reference"),l(!1);return}l(!0),d(void 0),n.readReference({reference:e}).then(a).catch(y=>d(y instanceof Error?y.message:String(y))).finally(()=>l(!1))},[n,e]),i)return s.jsx(Lt,{withBorder:!0,p:"sm",className:og.resourceBox,children:s.jsxs(se,{gap:"sm",wrap:"nowrap",children:[s.jsx(tr,{size:"sm"}),s.jsx(W,{size:"sm",c:"dimmed",children:"Loading..."})]})});if(u||!r)return s.jsx(Lt,{withBorder:!0,p:"sm",className:og.resourceBox,children:s.jsx(W,{size:"sm",c:"red",children:u||"Unable to find resource"})});const h=nr(r)??"",p=r.resourceType;return s.jsx(Lt,{withBorder:!0,p:"sm",className:og.resourceBox,onClick:()=>t(e),"data-testid":"resource-box",children:s.jsxs(se,{gap:"sm",wrap:"nowrap",children:[s.jsx(Lc,{size:"lg",variant:"light",color:"violet",children:s.jsx(xg,{size:20})}),s.jsxs(te,{className:og.content,children:[s.jsx(W,{size:"sm",fw:600,c:"violet.7",children:p}),s.jsx(W,{size:"xs",c:"dimmed",truncate:!0,children:h})]})]})})}function mwe({result:e,onResultChange:t}){const n=Dt(e),r=Dt(n?.subject),a=Dt(n?.performer?.[0]);return s.jsx(Lt,{h:"100%",p:"md",style:{overflow:"auto"},children:s.jsxs(ae,{gap:"md",children:[s.jsxs(ae,{gap:"xs",children:[s.jsx(W,{size:"xl",fw:700,children:n?.code?.text||n?.code?.coding?.[0]?.display||"Lab Result"}),s.jsx(ya,{size:"lg",color:gwe(n?.status),variant:"light",children:vwe(n?.status)})]}),s.jsx(st,{}),s.jsxs(ae,{gap:"sm",children:[s.jsx(W,{fw:600,size:"sm",c:"dimmed",children:"RESULT DETAILS"}),s.jsxs(se,{children:[s.jsx(W,{fw:500,size:"sm",children:"Issued Date:"}),s.jsx(W,{size:"sm",children:bn(n?.issued)})]}),n?.effectiveDateTime&&s.jsxs(se,{children:[s.jsx(W,{fw:500,size:"sm",children:"Effective Date:"}),s.jsx(W,{size:"sm",children:bn(n?.effectiveDateTime)})]}),n?.code?.coding&&s.jsxs(se,{align:"flex-start",children:[s.jsx(W,{fw:500,size:"sm",children:"Test Code:"}),s.jsx(ae,{gap:"xs",children:n?.code?.coding?.map((i,l)=>s.jsxs(se,{gap:"xs",children:[s.jsx(ya,{size:"sm",variant:"outline",children:i.code}),s.jsx(W,{size:"sm",children:i.display})]},l))})]}),a?.resourceType==="Practitioner"&&s.jsxs(se,{children:[s.jsx(W,{fw:500,size:"sm",children:"Performed by:"}),s.jsx(W,{size:"sm",children:Gn(a.name?.[0])})]}),r?.resourceType==="Patient"&&s.jsxs(se,{children:[s.jsx(W,{fw:500,size:"sm",children:"Patient:"}),s.jsx(W,{size:"sm",children:Gn(r.name?.[0])})]}),n?.category&&s.jsxs(se,{align:"flex-start",children:[s.jsx(W,{fw:500,size:"sm",children:"Category:"}),s.jsx(ae,{gap:"xs",children:n?.category?.map((i,l)=>s.jsx(W,{size:"sm",children:i.text||i.coding?.[0]?.display},l))})]})]}),n?.conclusion&&s.jsxs(s.Fragment,{children:[s.jsx(st,{}),s.jsxs(ae,{gap:"sm",children:[s.jsx(W,{fw:600,size:"sm",c:"dimmed",children:"CONCLUSION"}),s.jsx(W,{size:"sm",children:n?.conclusion})]})]}),n?.conclusionCode&&s.jsxs(s.Fragment,{children:[s.jsx(st,{}),s.jsxs(ae,{gap:"sm",children:[s.jsx(W,{fw:600,size:"sm",c:"dimmed",children:"CONCLUSION CODES"}),n?.conclusionCode?.map((i,l)=>s.jsxs(se,{align:"flex-start",children:[s.jsxs(W,{fw:500,size:"sm",children:["Code ",l+1,":"]}),s.jsx(W,{size:"sm",children:i.text||i.coding?.[0]?.display})]},l))]})]}),n?.presentedForm&&s.jsxs(s.Fragment,{children:[s.jsx(st,{}),s.jsxs(ae,{gap:"sm",children:[s.jsx(W,{fw:600,size:"sm",c:"dimmed",children:"ATTACHMENTS"}),n?.presentedForm?.map((i,l)=>s.jsxs(se,{align:"flex-start",children:[s.jsxs(W,{fw:500,size:"sm",children:["Attachment ",l+1,":"]}),s.jsx(W,{size:"sm",children:i.title||i.contentType||"Attachment"})]},l))]})]}),n?.result&&n?.result?.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(st,{}),s.jsxs(ae,{gap:"sm",children:[s.jsx(W,{fw:600,size:"sm",c:"dimmed",children:"TEST RESULTS"}),s.jsx(ZR,{value:n?.result,hideObservationNotes:!1})]})]})]})})}const gwe=e=>{switch(e){case"final":return"green";case"partial":return"yellow";case"preliminary":return"blue";case"cancelled":case"entered-in-error":return"red";default:return"gray"}},vwe=e=>{switch(e){case"final":return"Final";case"partial":return"Partial";case"preliminary":return"Preliminary";case"cancelled":return"Cancelled";case"entered-in-error":return"Error";default:return e||"Unknown"}};function ywe(e){const{resource:t}=e,n=Dt(t),r=()=>{if(!n)return s.jsx(W,{c:"dimmed",children:"Loading resource..."});switch(n.resourceType){case"Patient":return s.jsx(My,{patient:n});case"Task":return s.jsx(G7,{task:n});case"DiagnosticReport":return s.jsx(mwe,{result:n});case"ServiceRequest":return s.jsx(H7,{order:n});case"Encounter":return s.jsx($7,{encounter:n});default:return s.jsx(Ay,{value:n})}};return s.jsx(te,{p:"md","data-testid":"resource-panel",children:r()})}async function bwe(e,t,n){const r=await e.getProfile();if(!r?.id)throw new Error("Profile not found");const a={resourceType:"Communication",status:"in-progress",identifier:[{system:"http://medplum.com/ai-message",value:"ai-message-topic"}],sender:ke(r),topic:{text:t},note:[{text:JSON.stringify({model:n})}]};return e.createResource(a)}async function Uf(e,t,n,r){const a={resourceType:"Communication",status:"completed",identifier:[{system:"http://medplum.com/ai-message",value:"ai-message"}],partOf:[{reference:`Communication/${t}`}],payload:[{contentString:JSON.stringify({role:n.role,content:n.content,tool_calls:n.tool_calls,tool_call_id:n.tool_call_id,resources:n.resources,sequenceNumber:r})}]};return e.createResource(a)}async function UL(e,t){const n=await e.searchResources("Communication",{"part-of":`Communication/${t}`,_sort:"_lastUpdated"}),r=[];for(const a of n)if(a.payload?.[0]?.contentString)try{const i=JSON.parse(a.payload[0].contentString);r.push({message:{role:i.role,content:i.content,tool_calls:i.tool_calls,tool_call_id:i.tool_call_id,resources:i.resources},sequenceNumber:i.sequenceNumber||0})}catch(i){throw i instanceof Error?new Error(`Failed to parse message: ${i.message}`):new Error(`Failed to parse message: ${String(i)}`)}return r.map(a=>a.message)}async function xwe(e,t=10){const n=await e.getProfile();return e.searchResources("Communication",{identifier:"http://medplum.com/ai-message|ai-message-topic",sender:Me(n),_sort:"-_lastUpdated",_count:String(t)})}const Swe="_conversationItem_7zb3e_1",wwe="_conversationItemActive_7zb3e_16",BL={conversationItem:Swe,conversationItemActive:wwe};function Cwe({currentTopicId:e,onSelectedItem:t}){const n=_e(),[r,a]=b.useState([]),[i,l]=b.useState(!0);return b.useEffect(()=>{(async()=>{l(!0);try{const d=await xwe(n,20);a(d)}finally{l(!1)}})().catch(Fe)},[n]),s.jsx(Lt,{h:"100%",bg:"transparent",p:0,children:s.jsx($e,{direction:"column",p:0,h:"100%",children:s.jsx(mn,{style:{flex:1},p:0,children:s.jsxs(ae,{gap:"xs",px:"md",children:[s.jsx(W,{fw:600,c:"dimmed",mt:"md",children:"Recent Conversations"}),i&&s.jsx(W,{size:"sm",c:"dimmed",children:"Loading..."}),!i&&r.length===0&&s.jsx(W,{size:"sm",c:"dimmed",children:"No conversations yet"}),!i&&r.length>0&&r.map((u,d)=>s.jsxs(ae,{gap:0,children:[s.jsx(Sa,{to:t(u),style:{textDecoration:"none"},children:s.jsxs("div",{className:Rt(BL.conversationItem,{[BL.conversationItemActive]:e===u.id}),children:[s.jsx(W,{size:"sm",fw:500,lineClamp:1,c:"inherit",children:u.topic?.text||"Untitled conversation"}),s.jsx(se,{gap:"xs",mt:4,justify:"space-between",children:s.jsx(W,{size:"xs",c:"dimmed",style:{opacity:.7},children:bn(u.meta?.lastUpdated)})})]})}),d<r.length-1&&s.jsx(st,{})]},u.id))]})})})})}const jwe=[{value:"gpt-5",label:"GPT-5"},{value:"gpt-4o",label:"GPT-4o"},{value:"gpt-4o-mini",label:"GPT-4o Mini"}];function Ewe({input:e,onInputChange:t,onKeyDown:n,onSend:r,loading:a,selectedModel:i,onModelChange:l,backgroundColor:u="#fff"}){return s.jsx(Lt,{p:"md",radius:"lg",withBorder:!0,style:{backgroundColor:u},children:s.jsxs(ae,{gap:"sm",children:[s.jsxs(se,{gap:"md",wrap:"nowrap",align:"flex-end",children:[s.jsx(ja,{placeholder:"Ask, search, or make anything...",value:e,onChange:d=>t(d.currentTarget.value),onKeyDown:n,disabled:a,autosize:!0,minRows:1,maxRows:5,style:{flex:1},styles:{input:{border:"none",backgroundColor:"transparent",fontSize:"15px",padding:0,resize:"none"}}}),s.jsx(Oe,{"aria-label":"Send message",radius:"xl",size:"sm",onClick:r,disabled:a||!e.trim(),w:"36px",h:"36px",bg:"#7c3aed",p:0,children:s.jsx(m_,{size:18})})]}),s.jsx(hc,{size:"xs",data:jwe,value:i,onChange:d=>l(d??"gpt-5"),w:"120px",withCheckIcon:!1,fw:500,pr:"md",styles:{input:{fontSize:"12px",cursor:"pointer"}}})]})})}const Twe="_sidebar_jmnqq_33",Rwe="_sidebarHeader_jmnqq_45",_we="_sidebarTitle_jmnqq_53",Dwe="_sidebarContent_jmnqq_61",Awe="_chatContainer_jmnqq_68",Owe="_chatHeader_jmnqq_77",kwe="_messagesArea_jmnqq_89",Mwe="_messageWrapper_jmnqq_98",Pwe="_userMessage_jmnqq_107",Nwe="_assistantMessage_jmnqq_112",Iwe="_messageContent_jmnqq_117",Lwe="_inputArea_jmnqq_139",zwe="_inputWrapper_jmnqq_146",$we="_resourcePanel_jmnqq_164",qwe="_resourceHeader_jmnqq_175",Uwe="_emptyState_jmnqq_193",Bwe="_emptyStateIcon_jmnqq_203",or={sidebar:Twe,sidebarHeader:Rwe,sidebarTitle:_we,sidebarContent:Dwe,chatContainer:Awe,chatHeader:Owe,messagesArea:kwe,messageWrapper:Mwe,userMessage:Pwe,assistantMessage:Nwe,messageContent:Iwe,inputArea:Lwe,inputWrapper:zwe,resourcePanel:$we,resourceHeader:qwe,emptyState:Uwe,emptyStateIcon:Bwe},Hwe={value:"ai-fhir-request-tools",system:"https://www.medplum.com/bots"},Fwe={value:"ai-resource-summary",system:"https://www.medplum.com/bots"};function Vwe(e){const{topic:t,onNewTopic:n,onSelectedItem:r,onAdd:a}=e,i=_e(),l=Dt(t),[u,d]=b.useState([]),[h,p]=b.useState(""),[m,g]=b.useState(!1),[y,S]=b.useState("gpt-5"),[x,C]=b.useState(!1),[E,j]=b.useState(),[R,_]=b.useState(l?.id),[A,M]=b.useState(!0),[D,O]=b.useState(0),[k,I]=b.useState(),L=b.useRef(null);b.useEffect(()=>{const N=l?.id;N?(async()=>{try{g(!0);const $=await UL(i,N);d([...$]),_(N),C(!0),I(void 0)}catch($){Fe($)}finally{g(!1)}})().catch(Fe):(d([]),C(!1),_(void 0),I(void 0))},[l,i]),b.useEffect(()=>{const N=L.current;N&&x&&N.scrollTo({top:N.scrollHeight,behavior:"smooth"})},[u,x]);const V=async N=>{try{g(!0);const z=await UL(i,N);d([...z]),_(N),C(!0),I(void 0)}catch(z){Fe(z)}finally{g(!1)}},q=async()=>{if(!h.trim())return;const N=!x;N&&C(!0);const z={role:"user",content:h},$=[...u,z];d($),p(""),j(void 0),g(!0);try{let Y=R;if(N){const J=await bwe(i,h.substring(0,100),y);Y=J.id,_(Y),O(re=>re+1),n(J)}Y&&await Uf(i,Y,z,$.length-1);let X=await i.executeBot(Hwe,{resourceType:"Parameters",parameter:[{name:"messages",valueString:JSON.stringify($)},{name:"model",valueString:y}]});const H=X.parameter?.find(J=>J.name==="tool_calls")?.valueString,F=[];if(H){const J=JSON.parse(H),re={role:"assistant",content:null,tool_calls:J};$.push(re),Y&&await Uf(i,Y,re,$.length-1);for(const de of J)if(de.function.name==="fhir_request"){const Ee=typeof de.function.arguments=="string"?JSON.parse(de.function.arguments):de.function.arguments,{method:Re,path:Se,body:Ye}=Ee;j(`${Re} ${Se}`);let Je;try{if(Re==="GET"?Je=await i.get(i.fhirUrl(Se)):Re==="POST"?Je=await i.post(i.fhirUrl(Se),Ye):Re==="PUT"?Je=await i.put(i.fhirUrl(Se),Ye):Re==="DELETE"&&(Je=await i.delete(i.fhirUrl(Se))),Je?.resourceType==="Bundle"&&Je?.entry)Je.entry.forEach(ze=>{if(ze.resource){const mt=Me(ze.resource);mt&&F.push(mt)}});else if(Je){const ze=Me(Je);ze&&F.push(ze)}const Ve={role:"tool",tool_call_id:de.id,content:JSON.stringify(Je)};$.push(Ve),Y&&await Uf(i,Y,Ve,$.length-1)}catch(Ve){const ze={error:!0,message:`Unable to execute ${Re}: ${Se}`,details:Ve.message||"Unknown error"},mt={role:"tool",tool_call_id:de.id,content:JSON.stringify(ze)};$.push(mt),Y&&await Uf(i,Y,mt,$.length-1)}}X=await i.executeBot(Fwe,{resourceType:"Parameters",parameter:[{name:"messages",valueString:JSON.stringify($)},{name:"model",valueString:y}]})}const Q=X.parameter?.find(J=>J.name==="content")?.valueString;if(Q){const J=F.length>0?[...new Set(F)]:void 0,re={role:"assistant",content:Q,resources:J};d([...$,re]),Y&&await Uf(i,Y,re,$.length)}}catch(Y){d([...$,{role:"assistant",content:`Error: ${Y.message}`}])}finally{g(!1)}},U=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),q().catch(z=>Fe(z)))},G=u.filter(N=>N.role!=="system"&&N.role!=="tool"&&!(N.role==="assistant"&&N.tool_calls));return s.jsxs(s.Fragment,{children:[s.jsxs(te,{className:or.sidebar,style:{width:A?280:0,opacity:A?1:0},children:[s.jsxs("div",{className:or.sidebarHeader,children:[s.jsx(W,{className:or.sidebarTitle,children:"Conversations"}),s.jsx(ft,{variant:"subtle",color:"gray",onClick:()=>M(!1),children:s.jsx(b7,{size:18})})]}),s.jsx("div",{className:or.sidebarContent,children:s.jsx(Cwe,{currentTopicId:R,onSelectTopic:V,onSelectedItem:r},D)})]}),s.jsxs("div",{className:or.chatContainer,children:[s.jsxs("div",{className:or.chatHeader,children:[s.jsx("div",{children:!A&&s.jsx(ft,{variant:"subtle",color:"gray",onClick:()=>M(!0),mr:"md",children:s.jsx(x7,{size:16})})}),a&&s.jsx(ft,{variant:"subtle",color:"gray",size:"sm",onClick:a,"aria-label":"New conversation",children:s.jsx(yl,{size:16})})]}),s.jsx("div",{className:or.messagesArea,children:x?s.jsx(mn,{style:{flex:1},offsetScrollbars:!0,viewportRef:L,children:s.jsxs(ae,{gap:"xl",p:"xs",children:[G.map((N,z)=>s.jsxs("div",{className:Rt(or.messageWrapper,N.role==="user"?or.userMessage:or.assistantMessage),children:[s.jsxs(se,{align:"flex-start",gap:"sm",mb:4,children:[N.role==="assistant"&&s.jsx(es,{radius:"xl",size:"sm",color:"blue",children:s.jsx(dS,{size:14})}),s.jsx(W,{fw:600,size:"sm",c:"dimmed",children:N.role==="user"?"You":"AI Assistant"})]}),s.jsx("div",{className:or.messageContent,children:s.jsx(W,{style:{whiteSpace:"pre-wrap"},children:N.content})}),N.resources&&N.resources.length>0&&s.jsx(ae,{gap:"xs",mt:"sm",w:300,ml:N.role==="assistant"?0:"auto",children:N.resources.map(($,Y)=>s.jsx(pwe,{resourceReference:$,onClick:I},Y))})]},z)),m&&s.jsx("div",{className:Rt(or.messageWrapper,or.assistantMessage),children:s.jsxs(se,{align:"center",gap:"sm",wrap:"nowrap",children:[s.jsx(es,{radius:"xl",size:"sm",color:"blue",children:s.jsx(dS,{size:14})}),s.jsx(te,{style:{flex:1,minWidth:0},children:s.jsx(W,{size:"sm",c:"dimmed",fs:"italic",truncate:!0,children:E?`Executing ${E}...`:"Thinking..."})})]})})]})}):s.jsxs("div",{className:or.emptyState,children:[s.jsx(Lc,{size:64,radius:"xl",variant:"light",color:"gray",className:or.emptyStateIcon,children:s.jsx(dS,{size:32})}),s.jsx(W,{size:"xl",fw:500,mb:"sm",children:"How can I help you today?"}),s.jsx(W,{c:"dimmed",size:"sm",maw:400,children:"I can help you search for patients, create resources, or answer clinical questions."})]})}),s.jsx("div",{className:or.inputArea,children:s.jsx("div",{className:or.inputWrapper,children:s.jsx(Ewe,{input:h,onInputChange:p,onKeyDown:U,onSend:q,loading:m,selectedModel:y,onModelChange:S,backgroundColor:"transparent"})})})]}),k&&s.jsxs("div",{className:or.resourcePanel,children:[s.jsxs("div",{className:or.resourceHeader,children:[s.jsx(W,{fw:600,size:"sm",children:"Resource Details"}),s.jsx(fl,{onClick:()=>I(void 0)})]}),s.jsx(mn,{style:{flex:1},p:"md",children:s.jsx(ywe,{resource:{reference:k}},k)})]})]})}function tj(){const{topicId:e}=ur(),t=gn(),n=l=>{t(`/Spaces/Communication/${l.id}`)?.catch(console.error)},r=l=>`/Spaces/Communication/${l.id}`,a=e?{reference:`Communication/${e}`}:void 0,i=()=>{t("/Spaces/Communication")?.catch(console.error)};return s.jsx("div",{className:dwe.container,children:s.jsx(Vwe,{topic:a,onNewTopic:n,onSelectedItem:r,onAdd:i})})}function HL(){const{taskId:e}=ur(),t=gn(),n=i=>`/Task/${i.id}`,r=i=>{t(n(i))?.catch(console.error)},a=i=>{t("/Task")?.catch(console.error)};return s.jsx("div",{className:W7.container,children:s.jsx(Y7,{query:"_sort=-_lastUpdated",selectedTaskId:e,onTaskChange:r,onDeleteTask:a,onSelectedItem:n})})}const Wwe="_item_1hb8i_1",Gwe="_selected_1hb8i_10",FL={item:Wwe,selected:Gwe};function Ywe({item:e,selectedItem:t,onItemSelect:n}){const r=gn(),a=t?.id===e.id,i=()=>{const g=n(e);r(g)},l=g=>{switch(g){case"active":return"blue";case"completed":return"green";case"on-hold":return"yellow";case"revoked":case"entered-in-error":return"red";case"draft":return"gray";default:return"gray"}},u=g=>{switch(g){case"stat":case"urgent":return"red";case"asap":return"orange";case"routine":default:return"gray"}},d=e.code?.coding?.[0]?.display||e.code?.text||"Referral",h=e.performer?.[0],p=h?.display||h?.reference||"Not assigned",m=e.authoredOn?Gr(e.authoredOn):"No date";return s.jsx(Lt,{onClick:i,className:Rt(FL.item,{[FL.selected]:a}),p:"md",style:{cursor:"pointer"},children:s.jsxs(ae,{gap:"xs",children:[s.jsxs(se,{justify:"space-between",align:"flex-start",children:[s.jsx(W,{fw:600,size:"sm",children:d}),e.status&&s.jsx(ya,{color:l(e.status),size:"sm",children:e.status})]}),s.jsxs(te,{children:[s.jsxs(W,{size:"xs",c:"dimmed",children:["To: ",p]}),s.jsx(W,{size:"xs",c:"dimmed",children:m})]}),e.priority&&e.priority!=="routine"&&s.jsx(ya,{color:u(e.priority),size:"xs",variant:"light",children:e.priority.toUpperCase()}),e.reasonCode&&e.reasonCode.length>0&&s.jsxs(W,{size:"xs",c:"dimmed",lineClamp:2,children:["Reason: ",e.reasonCode[0]?.text||e.reasonCode[0]?.coding?.[0]?.display||"N/A"]})]})})}function Qwe({referral:e,onUpdate:t}){const n=_e(),[r,a]=b.useState(!1),[i,l]=b.useState(e),[u,d]=b.useState(!1),h=async()=>{d(!0);try{await n.updateResource(i),bt({title:"Referral Updated",message:"Successfully updated referral.",color:"green"}),a(!1),t&&t()}catch(C){Fe(C)}finally{d(!1)}},p=()=>{l(e),a(!1)},m=e.code?.coding?.[0]?.display||e.code?.text||"Referral",g=e.performer?.[0],y=e.requester,S=e.subject,x=C=>{switch(C){case"active":return"blue";case"completed":return"green";case"on-hold":return"yellow";case"revoked":case"entered-in-error":return"red";case"draft":return"gray";default:return"gray"}};return s.jsx(te,{p:"xl",style:{height:"100%",overflowY:"auto"},children:s.jsxs(ae,{gap:"lg",children:[s.jsxs(se,{justify:"space-between",align:"flex-start",children:[s.jsxs("div",{children:[s.jsx(cr,{order:3,children:m}),s.jsxs(W,{size:"sm",c:"dimmed",children:["Referral ID: ",e.id]})]}),s.jsx(se,{children:r?s.jsxs(s.Fragment,{children:[s.jsx(Oe,{variant:"subtle",onClick:p,disabled:u,children:"Cancel"}),s.jsx(Oe,{leftSection:s.jsx(zfe,{size:16}),onClick:h,loading:u,children:"Save"})]}):s.jsx(Oe,{variant:"light",leftSection:s.jsx(Bfe,{size:16}),onClick:()=>a(!0),children:"Edit"})})]}),s.jsx(st,{}),s.jsx(Lt,{p:"md",withBorder:!0,children:s.jsxs(ae,{gap:"md",children:[s.jsxs(se,{children:[s.jsx(W,{size:"sm",fw:600,children:"Status:"}),r?s.jsx(hc,{value:i.status,onChange:C=>l({...i,status:C}),data:[{value:"draft",label:"Draft"},{value:"active",label:"Active"},{value:"on-hold",label:"On Hold"},{value:"completed",label:"Completed"},{value:"revoked",label:"Revoked"}],style:{width:150}}):s.jsx(ya,{color:x(e.status),children:e.status})]}),s.jsxs(se,{children:[s.jsx(W,{size:"sm",fw:600,children:"Priority:"}),r?s.jsx(hc,{value:i.priority,onChange:C=>l({...i,priority:C}),data:[{value:"routine",label:"Routine"},{value:"urgent",label:"Urgent"},{value:"asap",label:"ASAP"},{value:"stat",label:"STAT"}],style:{width:150}}):s.jsx(W,{size:"sm",children:e.priority||"routine"})]}),s.jsxs(se,{children:[s.jsx(W,{size:"sm",fw:600,children:"Intent:"}),s.jsx(W,{size:"sm",children:e.intent})]})]})}),s.jsx(Lt,{p:"md",withBorder:!0,children:s.jsxs(ae,{gap:"md",children:[s.jsxs("div",{children:[s.jsx(W,{size:"sm",fw:600,mb:4,children:"Patient"}),S&&s.jsx(oc,{value:S,link:!0})]}),s.jsxs("div",{children:[s.jsx(W,{size:"sm",fw:600,mb:4,children:"Referring Provider"}),y?s.jsx(oc,{value:y,link:!0}):s.jsx(W,{size:"sm",c:"dimmed",children:"Not specified"})]}),s.jsxs("div",{children:[s.jsx(W,{size:"sm",fw:600,mb:4,children:"Referred To"}),g?s.jsx(oc,{value:g,link:!0}):s.jsx(W,{size:"sm",c:"dimmed",children:"Not assigned"})]})]})}),s.jsx(Lt,{p:"md",withBorder:!0,children:s.jsxs(ae,{gap:"md",children:[s.jsxs("div",{children:[s.jsx(W,{size:"sm",fw:600,mb:4,children:"Reason for Referral"}),e.reasonCode&&e.reasonCode.length>0?e.reasonCode.map((C,E)=>s.jsx(W,{size:"sm",children:C.text||C.coding?.[0]?.display||"N/A"},E)):s.jsx(W,{size:"sm",c:"dimmed",children:"No reason specified"})]}),e.occurrenceDateTime&&s.jsxs("div",{children:[s.jsx(W,{size:"sm",fw:600,mb:4,children:"Scheduled Date"}),s.jsx(W,{size:"sm",children:Gr(e.occurrenceDateTime)})]}),s.jsxs("div",{children:[s.jsx(W,{size:"sm",fw:600,mb:4,children:"Authored On"}),s.jsx(W,{size:"sm",children:e.authoredOn?Gr(e.authoredOn):"N/A"})]})]})}),s.jsx(Lt,{p:"md",withBorder:!0,children:s.jsxs(ae,{gap:"md",children:[s.jsx(W,{size:"sm",fw:600,children:"Notes"}),r?s.jsx(ja,{value:i.note?.[0]?.text||"",onChange:C=>l({...i,note:[{text:C.currentTarget.value}]}),rows:4,placeholder:"Add notes about this referral..."}):e.note&&e.note.length>0?e.note.map((C,E)=>s.jsx(W,{size:"sm",children:C.text},E)):s.jsx(W,{size:"sm",c:"dimmed",children:"No notes"})]})})]})})}function Kwe({opened:e,onClose:t,defaultPatient:n,onCreated:r}){const a=_e(),[i,l]=b.useState(n),[u,d]=b.useState(a.getProfile()),[h,p]=b.useState(),[m,g]=b.useState(),[y,S]=b.useState("routine"),[x,C]=b.useState([]),[E,j]=b.useState(""),[R,_]=b.useState(),[A,M]=b.useState(!1),D=async()=>{if(!(!i||!u||!m)){M(!0);try{const k={resourceType:"ServiceRequest",status:"active",intent:"order",priority:y,code:m,subject:ke(i),requester:ke(u),authoredOn:new Date().toISOString(),category:[{coding:[{system:"http://snomed.info/sct",code:"3457005",display:"Referral"}]}],...x.length>0&&{reasonCode:x},...E&&{note:[{text:E}]},...R&&{occurrenceDateTime:R},...h&&{performer:[ke(h)]}};await a.createResource(k),bt({title:"Referral Created",message:"Successfully created new referral.",color:"green"}),l(n),p(void 0),g(void 0),S("routine"),C([]),j(""),_(void 0),t(),r&&r()}catch(k){Fe(k)}finally{M(!1)}}},O=()=>{A||t()};return s.jsx(At,{opened:e,onClose:O,title:"Create Referral",size:"lg",centered:!0,children:s.jsxs(ae,{gap:"md",children:[s.jsx(Gt.Wrapper,{label:"Patient",required:!0,children:s.jsx(Mr,{resourceType:"Patient",name:"patient",defaultValue:i,onChange:l})}),s.jsx(Gt.Wrapper,{label:"Referring Provider",required:!0,children:s.jsx(Mr,{resourceType:"Practitioner",name:"requester",defaultValue:u,onChange:d})}),s.jsx(Gt.Wrapper,{label:"Refer To (Provider)",children:s.jsx(Mr,{resourceType:"Practitioner",name:"performer",defaultValue:h,onChange:p})}),s.jsx(bc,{label:"Specialty / Service",required:!0,binding:"http://hl7.org/fhir/ValueSet/c80-practice-codes",name:"specialty",onChange:k=>{k.length>0?g({coding:[k[0]]}):g(void 0)}}),s.jsx(hc,{label:"Priority",value:y,onChange:k=>S(k),data:[{value:"routine",label:"Routine"},{value:"urgent",label:"Urgent"},{value:"asap",label:"ASAP"},{value:"stat",label:"STAT"}]}),s.jsx(bc,{label:"Reason for Referral",binding:"http://hl7.org/fhir/sid/icd-10-cm",name:"reasonCodes",maxValues:5,onChange:k=>{C(k.map(I=>({coding:[I]})))}}),s.jsx(Ln,{label:"Scheduled Date/Time",name:"occurrenceDateTime",onChange:k=>_(k||void 0)}),s.jsx(ja,{label:"Notes",placeholder:"Additional information about this referral...",value:E,onChange:k=>j(k.currentTarget.value),rows:4}),s.jsxs(se,{justify:"flex-end",mt:"md",children:[s.jsx(Oe,{variant:"subtle",onClick:O,disabled:A,children:"Cancel"}),s.jsx(Oe,{onClick:D,loading:A,disabled:!i||!u||!m,children:"Create Referral"})]})]})})}const Xwe="_sidebar_1cfz0_2",Zwe="_sidebarHeader_1cfz0_11",Jwe="_mainContent_1cfz0_16",eCe="_contentHeader_1cfz0_24",tCe="_button_1cfz0_34",nCe="_selected_1cfz0_44",no={sidebar:Xwe,sidebarHeader:Zwe,mainContent:Jwe,contentHeader:eCe,button:tCe,selected:nCe};function VL(){const{serviceRequestId:e}=ur(),t=gn(),n=_e(),r=Cr(),[a,i]=b.useState("active"),[l,u]=b.useState([]),[d,h]=b.useState([]),[p,m]=b.useState([]),[g,y]=b.useState(!1),[S,x]=b.useState(!1),[C,E]=b.useState(),[j,R]=b.useState(!0);b.useMemo(()=>r?Me(r):void 0,[r]);const _=b.useCallback(async()=>{try{const L=new URLSearchParams({_count:"100",_sort:"-_lastUpdated",_fields:"_lastUpdated,code,status,priority,category,subject,requester,performer,reasonCode,note,authoredOn,occurrenceDateTime"}),V=await n.searchResources("ServiceRequest",L,{cache:"no-cache"}),q=V.filter(G=>G.status==="active"||G.status==="draft"||G.status==="on-hold"),U=V.filter(G=>G.status==="completed");u(q),h(U),m(V)}catch(L){Fe(L)}},[n]),A=b.useCallback(async()=>{y(!0);try{await _()}finally{y(!1)}},[_]);b.useEffect(()=>{A().catch(Fe)},[A]);const M=b.useCallback(L=>`/referrals/${L.id}`,[]);b.useEffect(()=>{(async()=>{if(e){const q=(a==="active"?l:a==="completed"?d:p).find(U=>U.id===e);if(q)E(q);else{const U=await n.readResource("ServiceRequest",e);U&&E(U)}}else E(void 0)})().catch(Fe)},[a,l,d,p,e,n]);const D=L=>{i(L)},O=()=>{x(!1),A().then(()=>{i("active"),t("/referrals")?.catch(console.error)}).catch(Fe)},k=()=>{A().catch(Fe)},I=a==="active"?l:a==="completed"?d:p;return s.jsxs($e,{h:"100%",children:[s.jsx(te,{className:no.sidebar,style:{width:j?350:0,opacity:j?1:0},children:s.jsxs($e,{direction:"column",h:"100%",children:[s.jsx(Lt,{className:no.sidebarHeader,children:s.jsxs($e,{h:64,align:"center",justify:"space-between",p:"md",children:[s.jsxs(se,{gap:"xs",children:[s.jsx(Oe,{className:Rt(no.button,{[no.selected]:a==="active"}),h:32,radius:"xl",onClick:()=>D("active"),children:"Active"}),s.jsx(Oe,{className:Rt(no.button,{[no.selected]:a==="completed"}),h:32,radius:"xl",onClick:()=>D("completed"),children:"Completed"}),s.jsx(Oe,{className:Rt(no.button,{[no.selected]:a==="all"}),h:32,radius:"xl",onClick:()=>D("all"),children:"All"})]}),s.jsxs(se,{gap:"xs",children:[s.jsx(ft,{radius:"50%",variant:"filled",color:"blue",onClick:()=>x(!0),children:s.jsx(yl,{size:16})}),s.jsx(ft,{variant:"subtle",color:"gray",onClick:()=>R(!1),children:s.jsx(b7,{size:18})})]})]})}),s.jsx(st,{}),s.jsx(Lt,{style:{flex:1,overflow:"hidden"},children:s.jsxs(mn,{h:"100%",p:"0.5rem",children:[g&&s.jsx(iCe,{}),!g&&I.length===0&&s.jsx(rCe,{activeTab:a}),!g&&I.length>0&&I.map((L,V)=>s.jsxs(ne.Fragment,{children:[s.jsx(Ywe,{item:L,selectedItem:C,onItemSelect:M}),V<I.length-1&&s.jsx(te,{px:"0.5rem",children:s.jsx(st,{})})]},L.id))]})})]})}),s.jsxs(te,{className:no.mainContent,children:[s.jsx(te,{className:no.contentHeader,children:!j&&s.jsx(ft,{variant:"subtle",color:"gray",onClick:()=>R(!0),children:s.jsx(x7,{size:18})})}),s.jsx(te,{style:{flex:1,overflow:"hidden"},children:C?s.jsx(Qwe,{referral:C,onUpdate:k}):s.jsx(aCe,{})})]}),s.jsx(Kwe,{opened:S,onClose:()=>x(!1),onCreated:O})]})}function rCe({activeTab:e}){return s.jsx($e,{direction:"column",h:"100%",justify:"center",align:"center",children:s.jsx(ae,{align:"center",gap:"md",pt:"xl",children:s.jsxs(W,{size:"md",c:"dimmed",fw:400,children:["No ",e," referrals to display."]})})})}function aCe(){return s.jsx($e,{direction:"column",h:"100%",justify:"center",align:"center",children:s.jsx(ae,{align:"center",gap:"md",children:s.jsx(W,{size:"md",c:"dimmed",fw:400,children:"Select a referral to view details"})})})}function iCe(){return s.jsx(ae,{gap:"md",p:"md",children:Array.from({length:6}).map((e,t)=>s.jsxs(ae,{children:[s.jsxs($e,{direction:"column",gap:"xs",align:"flex-start",children:[s.jsx(vt,{height:16,width:`${Math.random()*40+60}%`}),s.jsx(vt,{height:14,width:`${Math.random()*50+40}%`}),s.jsx(vt,{height:14,width:`${Math.random()*50+40}%`})]}),s.jsx(st,{})]},t))})}function oCe(){const e=_e(),t=Cr(),n=_d(),r=Ya(),[a]=ufe();if(e.isLoading())return null;const i=e.getProjectMembership(),l=E7(i);return s.jsx($ie,{logo:s.jsx("img",{src:"/red_luminai.svg",alt:"LuminAI Logo",style:{height:"24px",width:"auto"}}),pathname:r.pathname,searchParams:a,menus:t?[{links:[{icon:s.jsx(she,{}),label:"Spaces",href:"/Spaces/Communication"},{icon:s.jsx(bhe,{}),label:"Patients",href:"/Patient?_count=20&_fields=name,email,gender&_sort=-_lastUpdated"},{icon:s.jsx(C7,{}),label:"Practitioners",href:"/Practitioner?_count=20&_fields=name,qualification,telecom&_sort=-_lastUpdated"},{icon:s.jsx(Efe,{}),label:"Schedule",href:"/schedule"},{icon:s.jsx(JP,{}),label:"Referrals",href:"/referrals"},{icon:s.jsx(Xx,{resourceType:"Communication",countCriteria:`recipient=${Me(t)}&status:not=completed&_summary=count`,subscriptionCriteria:`Communication?recipient=${Me(t)}`,iconComponent:s.jsx(ehe,{})}),label:"Messages",href:`/Communication?recipient=${Me(t)}&status:not=completed&_fields=sender,recipient,subject,status,_lastUpdated`},{icon:s.jsx(Xx,{resourceType:"Task",countCriteria:`owner=${Me(t)}&status:not=completed&_summary=count`,subscriptionCriteria:`Task?owner=${Me(t)}`,iconComponent:s.jsx(Bj,{})}),label:"Tasks",href:`/Task?owner=${Me(t)}&status:not=completed&_fields=sender,recipient,subject,status,_lastUpdated`}]},{title:"Quick Links",links:[{icon:s.jsx(lv,{}),label:"New Patient",href:"/onboarding"},{icon:s.jsx(JP,{}),label:"Integrations",href:"/integrations"},...l?[{icon:s.jsx(eN,{}),label:"DoseSpot",href:"/integrations/dosespot"}]:[]]}]:void 0,resourceTypeSearchDisabled:!0,notifications:t&&s.jsxs(s.Fragment,{children:[s.jsx(Xx,{label:"Tasks",resourceType:"Task",countCriteria:`owner=${Me(t)}&status:not=completed&_summary=count`,subscriptionCriteria:`Task?owner=${Me(t)}`,iconComponent:s.jsx(Bj,{}),onClick:()=>n(`/Task?owner=${Me(t)}&status:not=completed&_fields=subject,code,description,status,_lastUpdated`)}),l&&s.jsx(eN,{})]}),children:s.jsx(b.Suspense,{fallback:s.jsx(Fi,{}),children:s.jsx(Mde,{children:t?s.jsxs(s.Fragment,{children:[s.jsxs(ct,{path:"/Spaces/Communication",element:s.jsx(tj,{}),children:[s.jsx(ct,{index:!0,element:s.jsx(tj,{})}),s.jsx(ct,{path:":topicId",element:s.jsx(tj,{})})]}),s.jsx(ct,{path:"/",element:s.jsx(XP,{to:"/Patient?_count=20&_fields=name,email,gender&_sort=-_lastUpdated",replace:!0})}),s.jsx(ct,{path:"/Patient/new",element:s.jsx(xS,{})}),s.jsxs(ct,{path:"/Patient/:patientId",element:s.jsx(_ge,{}),children:[s.jsx(ct,{path:"Encounter/new",element:s.jsx(lme,{})}),s.jsx(ct,{path:"Encounter/:encounterId",element:s.jsx(ime,{}),children:s.jsx(ct,{path:"Task/:taskId",element:s.jsx(zhe,{})})}),s.jsx(ct,{path:"edit",element:s.jsx(qme,{})}),s.jsx(ct,{path:"Communication",element:s.jsx(lN,{})}),s.jsx(ct,{path:"Communication/:messageId",element:s.jsx(lN,{})}),s.jsx(ct,{path:"Task",element:s.jsx(pN,{})}),s.jsx(ct,{path:"Task/:taskId",element:s.jsx(pN,{})}),l&&s.jsx(ct,{path:"dosespot",element:s.jsx(cN,{})}),s.jsx(ct,{path:"timeline",element:s.jsx(mN,{})}),s.jsx(ct,{path:"export",element:s.jsx(Ume,{})}),s.jsx(ct,{path:"ServiceRequest",element:s.jsx(fN,{})}),s.jsx(ct,{path:"ServiceRequest/:serviceRequestId",element:s.jsx(fN,{})}),s.jsx(ct,{path:":resourceType",element:s.jsx(Dge,{})}),s.jsx(ct,{path:":resourceType/new",element:s.jsx(xS,{})}),s.jsxs(ct,{path:":resourceType/:id",element:s.jsx(xN,{}),children:[s.jsx(ct,{path:"",element:s.jsx(vN,{})}),s.jsx(ct,{path:"edit",element:s.jsx(yN,{})}),s.jsx(ct,{path:"history",element:s.jsx(bN,{})})]}),s.jsx(ct,{path:"",element:s.jsx(mN,{})})]}),s.jsxs(ct,{path:"/Communication",element:s.jsx(mS,{}),children:[s.jsx(ct,{index:!0,element:s.jsx(mS,{})}),s.jsx(ct,{path:":messageId",element:s.jsx(mS,{})})]}),s.jsx(ct,{path:"Task",element:s.jsx(HL,{})}),s.jsx(ct,{path:"Task/:taskId",element:s.jsx(HL,{})}),s.jsx(ct,{path:"/onboarding",element:s.jsx(Zme,{})}),s.jsx(ct,{path:"/schedule",element:s.jsx(Z1e,{})}),s.jsx(ct,{path:"/referrals",element:s.jsx(VL,{})}),s.jsx(ct,{path:"/referrals/:serviceRequestId",element:s.jsx(VL,{})}),s.jsx(ct,{path:"/signin",element:s.jsx(qL,{})}),s.jsx(ct,{path:"/dosespot",element:s.jsx(cN,{})}),s.jsx(ct,{path:"/integrations",element:s.jsx(xme,{})}),s.jsx(ct,{path:"/:resourceType",element:s.jsx(rwe,{})}),s.jsx(ct,{path:"/:resourceType/new",element:s.jsx(xS,{})}),s.jsxs(ct,{path:"/:resourceType/:id",element:s.jsx(xN,{}),children:[s.jsx(ct,{path:"",element:s.jsx(vN,{})}),s.jsx(ct,{path:"edit",element:s.jsx(yN,{})}),s.jsx(ct,{path:"history",element:s.jsx(bN,{})})]}),l&&s.jsx(ct,{path:"/integrations/dosespot",element:s.jsx(mme,{})})]}):s.jsxs(s.Fragment,{children:[s.jsx(ct,{path:"/signin",element:s.jsx(qL,{})}),s.jsx(ct,{path:"*",element:s.jsx(XP,{to:"/signin",replace:!0})})]})})})})}const sCe=new wz({onUnauthenticated:()=>window.location.href="/",cacheTime:6e4,autoBatchTime:100}),lCe={fontFamily:"Arial, Helvetica, sans-serif",fontFamilyMonospace:"Courier New, monospace",headings:{fontFamily:"Arial, Helvetica, sans-serif",sizes:{h1:{fontSize:"1.125rem",fontWeight:"600",lineHeight:"1.5"},h2:{fontSize:"1rem",fontWeight:"600",lineHeight:"1.5"},h3:{fontSize:"0.9375rem",fontWeight:"600",lineHeight:"1.5"}}},fontSizes:{xs:"0.6875rem",sm:"0.8125rem",md:"0.8125rem",lg:"1rem",xl:"1.125rem"},primaryColor:"blue",colors:{blue:["#E3F2FD","#BBDEFB","#90CAF9","#64B5F6","#42A5F5","#4A90E2","#357ABD","#1976D2","#1565C0","#0D47A1"]},defaultRadius:"sm",radius:{xs:"2px",sm:"3px",md:"4px",lg:"6px",xl:"8px"},components:{Button:{defaultProps:{size:"sm"},styles:{root:{fontFamily:"Arial, Helvetica, sans-serif",fontSize:"13px"}}},TextInput:{styles:{input:{fontFamily:"Arial, Helvetica, sans-serif",fontSize:"13px"},label:{fontFamily:"Arial, Helvetica, sans-serif",fontSize:"12px",fontWeight:600}}},Select:{styles:{input:{fontFamily:"Arial, Helvetica, sans-serif",fontSize:"13px"},label:{fontFamily:"Arial, Helvetica, sans-serif",fontSize:"12px",fontWeight:600}}},Table:{styles:{root:{fontFamily:"Arial, Helvetica, sans-serif",fontSize:"13px"}}},Tabs:{styles:{tab:{fontFamily:"Arial, Helvetica, sans-serif",fontSize:"13px"}}}}},yq=rfe([{path:"*",element:s.jsx(oCe,{})}]),cCe=e=>yq.navigate(e),uCe=document.getElementById("root"),dCe=Yce.createRoot(uCe);dCe.render(s.jsx(b.StrictMode,{children:s.jsx(lne,{medplum:sCe,navigate:cCe,children:s.jsxs(v5,{theme:lCe,children:[s.jsx(fs,{position:"bottom-right"}),s.jsx(Dde,{router:yq})]})})}));
