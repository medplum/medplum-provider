function yB(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Tm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yx={exports:{}},jf={};var FO;function bB(){if(FO)return jf;FO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,i){var l=null;if(i!==void 0&&(l=""+i),a.key!==void 0&&(l=""+a.key),"key"in a){i={};for(var u in a)u!=="key"&&(i[u]=a[u])}else i=a;return a=i.ref,{$$typeof:e,type:r,key:l,ref:a!==void 0?a:null,props:i}}return jf.Fragment=t,jf.jsx=n,jf.jsxs=n,jf}var VO;function xB(){return VO||(VO=1,yx.exports=bB()),yx.exports}var s=xB(),so=function(){return so=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},so.apply(this,arguments)};function BL(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function SB(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var bx={exports:{}},mt={};var WO;function wB(){if(WO)return mt;WO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,C={};function T(H,F,Q){this.props=H,this.context=F,this.refs=C,this.updater=Q||S}T.prototype.isReactComponent={},T.prototype.setState=function(H,F){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,F,"setState")},T.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function j(){}j.prototype=T.prototype;function R(H,F,Q){this.props=H,this.context=F,this.refs=C,this.updater=Q||S}var _=R.prototype=new j;_.constructor=R,x(_,T.prototype),_.isPureReactComponent=!0;var A=Array.isArray;function k(){}var D={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function M(H,F,Q){var J=Q.ref;return{$$typeof:e,type:H,key:F,ref:J!==void 0?J:null,props:Q}}function I(H,F){return M(H.type,F,H.props)}function L(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function V(H){var F={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(Q){return F[Q]})}var q=/\/+/g;function U(H,F){return typeof H=="object"&&H!==null&&H.key!=null?V(""+H.key):F.toString(36)}function W(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(k,k):(H.status="pending",H.then(function(F){H.status==="pending"&&(H.status="fulfilled",H.value=F)},function(F){H.status==="pending"&&(H.status="rejected",H.reason=F)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function N(H,F,Q,J,re){var ue=typeof H;(ue==="undefined"||ue==="boolean")&&(H=null);var Ee=!1;if(H===null)Ee=!0;else switch(ue){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(H.$$typeof){case e:case t:Ee=!0;break;case p:return Ee=H._init,N(Ee(H._payload),F,Q,J,re)}}if(Ee)return re=re(H),Ee=J===""?"."+U(H,0):J,A(re)?(Q="",Ee!=null&&(Q=Ee.replace(q,"$&/")+"/"),N(re,F,Q,"",function(Ge){return Ge})):re!=null&&(L(re)&&(re=I(re,Q+(re.key==null||H&&H.key===re.key?"":(""+re.key).replace(q,"$&/")+"/")+Ee)),F.push(re)),1;Ee=0;var Re=J===""?".":J+":";if(A(H))for(var Se=0;Se<H.length;Se++)J=H[Se],ue=Re+U(J,Se),Ee+=N(J,F,Q,ue,re);else if(Se=y(H),typeof Se=="function")for(H=Se.call(H),Se=0;!(J=H.next()).done;)J=J.value,ue=Re+U(J,Se++),Ee+=N(J,F,Q,ue,re);else if(ue==="object"){if(typeof H.then=="function")return N(W(H),F,Q,J,re);throw F=String(H),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function z(H,F,Q){if(H==null)return H;var J=[],re=0;return N(H,J,"","",function(ue){return F.call(Q,ue,re++)}),J}function $(H){if(H._status===-1){var F=H._result;F=F(),F.then(function(Q){(H._status===0||H._status===-1)&&(H._status=1,H._result=Q)},function(Q){(H._status===0||H._status===-1)&&(H._status=2,H._result=Q)}),H._status===-1&&(H._status=0,H._result=F)}if(H._status===1)return H._result.default;throw H._result}var G=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},X={map:z,forEach:function(H,F,Q){z(H,function(){F.apply(this,arguments)},Q)},count:function(H){var F=0;return z(H,function(){F++}),F},toArray:function(H){return z(H,function(F){return F})||[]},only:function(H){if(!L(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return mt.Activity=m,mt.Children=X,mt.Component=T,mt.Fragment=n,mt.Profiler=a,mt.PureComponent=R,mt.StrictMode=r,mt.Suspense=d,mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,mt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return D.H.useMemoCache(H)}},mt.cache=function(H){return function(){return H.apply(null,arguments)}},mt.cacheSignal=function(){return null},mt.cloneElement=function(H,F,Q){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var J=x({},H.props),re=H.key;if(F!=null)for(ue in F.key!==void 0&&(re=""+F.key),F)!O.call(F,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&F.ref===void 0||(J[ue]=F[ue]);var ue=arguments.length-2;if(ue===1)J.children=Q;else if(1<ue){for(var Ee=Array(ue),Re=0;Re<ue;Re++)Ee[Re]=arguments[Re+2];J.children=Ee}return M(H.type,re,J)},mt.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:i,_context:H},H},mt.createElement=function(H,F,Q){var J,re={},ue=null;if(F!=null)for(J in F.key!==void 0&&(ue=""+F.key),F)O.call(F,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(re[J]=F[J]);var Ee=arguments.length-2;if(Ee===1)re.children=Q;else if(1<Ee){for(var Re=Array(Ee),Se=0;Se<Ee;Se++)Re[Se]=arguments[Se+2];re.children=Re}if(H&&H.defaultProps)for(J in Ee=H.defaultProps,Ee)re[J]===void 0&&(re[J]=Ee[J]);return M(H,ue,re)},mt.createRef=function(){return{current:null}},mt.forwardRef=function(H){return{$$typeof:u,render:H}},mt.isValidElement=L,mt.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:$}},mt.memo=function(H,F){return{$$typeof:h,type:H,compare:F===void 0?null:F}},mt.startTransition=function(H){var F=D.T,Q={};D.T=Q;try{var J=H(),re=D.S;re!==null&&re(Q,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(k,G)}catch(ue){G(ue)}finally{F!==null&&Q.types!==null&&(F.types=Q.types),D.T=F}},mt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},mt.use=function(H){return D.H.use(H)},mt.useActionState=function(H,F,Q){return D.H.useActionState(H,F,Q)},mt.useCallback=function(H,F){return D.H.useCallback(H,F)},mt.useContext=function(H){return D.H.useContext(H)},mt.useDebugValue=function(){},mt.useDeferredValue=function(H,F){return D.H.useDeferredValue(H,F)},mt.useEffect=function(H,F){return D.H.useEffect(H,F)},mt.useEffectEvent=function(H){return D.H.useEffectEvent(H)},mt.useId=function(){return D.H.useId()},mt.useImperativeHandle=function(H,F,Q){return D.H.useImperativeHandle(H,F,Q)},mt.useInsertionEffect=function(H,F){return D.H.useInsertionEffect(H,F)},mt.useLayoutEffect=function(H,F){return D.H.useLayoutEffect(H,F)},mt.useMemo=function(H,F){return D.H.useMemo(H,F)},mt.useOptimistic=function(H,F){return D.H.useOptimistic(H,F)},mt.useReducer=function(H,F,Q){return D.H.useReducer(H,F,Q)},mt.useRef=function(H){return D.H.useRef(H)},mt.useState=function(H){return D.H.useState(H)},mt.useSyncExternalStore=function(H,F,Q){return D.H.useSyncExternalStore(H,F,Q)},mt.useTransition=function(){return D.H.useTransition()},mt.version="19.2.3",mt}var GO;function rE(){return GO||(GO=1,bx.exports=wB()),bx.exports}var b=rE();const te=Tn(b),aE=yB({__proto__:null,default:te},[b]);var ag="right-scroll-bar-position",ig="width-before-scroll-bar",CB="with-scroll-bars-hidden",jB="--removed-body-scroll-bar-size";function xx(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function EB(e,t){var n=b.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var TB=typeof window<"u"?b.useLayoutEffect:b.useEffect,YO=new WeakMap;function RB(e,t){var n=EB(null,function(r){return e.forEach(function(a){return xx(a,r)})});return TB(function(){var r=YO.get(n);if(r){var a=new Set(r),i=new Set(e),l=n.current;a.forEach(function(u){i.has(u)||xx(u,null)}),i.forEach(function(u){a.has(u)||xx(u,l)})}YO.set(n,e)},[e]),n}function _B(e){return e}function DB(e,t){t===void 0&&(t=_B);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var l=t(i,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(i){for(r=!0;n.length;){var l=n;n=[],l.forEach(i)}n={push:function(u){return i(u)},filter:function(){return n}}},assignMedium:function(i){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(i),l=n}var d=function(){var p=l;l=[],p.forEach(i)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(p){l.push(p),h()},filter:function(p){return l=l.filter(p),n}}}};return a}function AB(e){e===void 0&&(e={});var t=DB(null);return t.options=so({async:!0,ssr:!1},e),t}var HL=function(e){var t=e.sideCar,n=BL(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,so({},n))};HL.isSideCarExport=!0;function OB(e,t){return e.useMedium(t),HL}var FL=AB(),Sx=function(){},pv=b.forwardRef(function(e,t){var n=b.useRef(null),r=b.useState({onScrollCapture:Sx,onWheelCapture:Sx,onTouchMoveCapture:Sx}),a=r[0],i=r[1],l=e.forwardProps,u=e.children,d=e.className,h=e.removeScrollBar,p=e.enabled,m=e.shards,g=e.sideCar,y=e.noRelative,S=e.noIsolation,x=e.inert,C=e.allowPinchZoom,T=e.as,j=T===void 0?"div":T,R=e.gapMode,_=BL(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=g,k=RB([n,t]),D=so(so({},_),a);return b.createElement(b.Fragment,null,p&&b.createElement(A,{sideCar:FL,removeScrollBar:h,shards:m,noRelative:y,noIsolation:S,inert:x,setCallbacks:i,allowPinchZoom:!!C,lockRef:n,gapMode:R}),l?b.cloneElement(b.Children.only(u),so(so({},D),{ref:k})):b.createElement(j,so({},D,{className:d,ref:k}),u))});pv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pv.classNames={fullWidth:ig,zeroRight:ag};var kB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function MB(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=kB();return t&&e.setAttribute("nonce",t),e}function PB(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function NB(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var IB=function(){var e=0,t=null;return{add:function(n){e==0&&(t=MB())&&(PB(t,n),NB(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},LB=function(){var e=IB();return function(t,n){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},VL=function(){var e=LB(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},zB={left:0,top:0,right:0,gap:0},wx=function(e){return parseInt(e||"",10)||0},$B=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[wx(n),wx(r),wx(a)]},qB=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return zB;var t=$B(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},UB=VL(),Fu="data-scroll-locked",BB=function(e,t,n,r){var a=e.left,i=e.top,l=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(CB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Fu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ag,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(ig,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(ag," .").concat(ag,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ig," .").concat(ig,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Fu,`] {
    `).concat(jB,": ").concat(u,`px;
  }
`)},QO=function(){var e=parseInt(document.body.getAttribute(Fu)||"0",10);return isFinite(e)?e:0},HB=function(){b.useEffect(function(){return document.body.setAttribute(Fu,(QO()+1).toString()),function(){var e=QO()-1;e<=0?document.body.removeAttribute(Fu):document.body.setAttribute(Fu,e.toString())}},[])},FB=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;HB();var i=b.useMemo(function(){return qB(a)},[a]);return b.createElement(UB,{styles:BB(i,!t,a,n?"":"!important")})},tj=!1;if(typeof window<"u")try{var Rm=Object.defineProperty({},"passive",{get:function(){return tj=!0,!0}});window.addEventListener("test",Rm,Rm),window.removeEventListener("test",Rm,Rm)}catch{tj=!1}var Eu=tj?{passive:!1}:!1,VB=function(e){return e.tagName==="TEXTAREA"},WL=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!VB(e)&&n[t]==="visible")},WB=function(e){return WL(e,"overflowY")},GB=function(e){return WL(e,"overflowX")},KO=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=GL(e,r);if(a){var i=YL(e,r),l=i[1],u=i[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},YB=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},QB=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},GL=function(e,t){return e==="v"?WB(t):GB(t)},YL=function(e,t){return e==="v"?YB(t):QB(t)},KB=function(e,t){return e==="h"&&t==="rtl"?-1:1},XB=function(e,t,n,r,a){var i=KB(e,window.getComputedStyle(t).direction),l=i*r,u=n.target,d=t.contains(u),h=!1,p=l>0,m=0,g=0;do{if(!u)break;var y=YL(e,u),S=y[0],x=y[1],C=y[2],T=x-C-i*S;(S||T)&&GL(e,u)&&(m+=T,g+=S);var j=u.parentNode;u=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(p&&Math.abs(m)<1||!p&&Math.abs(g)<1)&&(h=!0),h},_m=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},XO=function(e){return[e.deltaX,e.deltaY]},ZO=function(e){return e&&"current"in e?e.current:e},ZB=function(e,t){return e[0]===t[0]&&e[1]===t[1]},JB=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},eH=0,Tu=[];function tH(e){var t=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),a=b.useState(eH++)[0],i=b.useState(VL)[0],l=b.useRef(e);b.useEffect(function(){l.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=SB([e.lockRef.current],(e.shards||[]).map(ZO),!0).filter(Boolean);return x.forEach(function(C){return C.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var u=b.useCallback(function(x,C){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!l.current.allowPinchZoom;var T=_m(x),j=n.current,R="deltaX"in x?x.deltaX:j[0]-T[0],_="deltaY"in x?x.deltaY:j[1]-T[1],A,k=x.target,D=Math.abs(R)>Math.abs(_)?"h":"v";if("touches"in x&&D==="h"&&k.type==="range")return!1;var O=window.getSelection(),M=O&&O.anchorNode,I=M?M===k||M.contains(k):!1;if(I)return!1;var L=KO(D,k);if(!L)return!0;if(L?A=D:(A=D==="v"?"h":"v",L=KO(D,k)),!L)return!1;if(!r.current&&"changedTouches"in x&&(R||_)&&(r.current=A),!A)return!0;var V=r.current||A;return XB(V,C,x,V==="h"?R:_)},[]),d=b.useCallback(function(x){var C=x;if(!(!Tu.length||Tu[Tu.length-1]!==i)){var T="deltaY"in C?XO(C):_m(C),j=t.current.filter(function(A){return A.name===C.type&&(A.target===C.target||C.target===A.shadowParent)&&ZB(A.delta,T)})[0];if(j&&j.should){C.cancelable&&C.preventDefault();return}if(!j){var R=(l.current.shards||[]).map(ZO).filter(Boolean).filter(function(A){return A.contains(C.target)}),_=R.length>0?u(C,R[0]):!l.current.noIsolation;_&&C.cancelable&&C.preventDefault()}}},[]),h=b.useCallback(function(x,C,T,j){var R={name:x,delta:C,target:T,should:j,shadowParent:nH(T)};t.current.push(R),setTimeout(function(){t.current=t.current.filter(function(_){return _!==R})},1)},[]),p=b.useCallback(function(x){n.current=_m(x),r.current=void 0},[]),m=b.useCallback(function(x){h(x.type,XO(x),x.target,u(x,e.lockRef.current))},[]),g=b.useCallback(function(x){h(x.type,_m(x),x.target,u(x,e.lockRef.current))},[]);b.useEffect(function(){return Tu.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",d,Eu),document.addEventListener("touchmove",d,Eu),document.addEventListener("touchstart",p,Eu),function(){Tu=Tu.filter(function(x){return x!==i}),document.removeEventListener("wheel",d,Eu),document.removeEventListener("touchmove",d,Eu),document.removeEventListener("touchstart",p,Eu)}},[]);var y=e.removeScrollBar,S=e.inert;return b.createElement(b.Fragment,null,S?b.createElement(i,{styles:JB(a)}):null,y?b.createElement(FB,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function nH(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const rH=OB(FL,tH);var oc=b.forwardRef(function(e,t){return b.createElement(pv,so({},e,{ref:t,sideCar:rH}))});oc.classNames=pv.classNames;function hn(e){return Object.keys(e)}function Cx(e){return e&&typeof e=="object"&&!Array.isArray(e)}function iE(e,t){const n={...e},r=t;return Cx(e)&&Cx(t)&&Object.keys(t).forEach(a=>{Cx(r[a])&&a in e?n[a]=iE(n[a],r[a]):n[a]=r[a]}),n}function aH(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function iH(e){return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:e.match(/^calc\((.*?)\)$/)?.[1].split("*")[0].trim()}function Xf(e){const t=iH(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function JO(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function QL(e,{shouldScale:t=!1}={}){function n(r){if(r===0||r==="0")return`0${e}`;if(typeof r=="number"){const a=`${r/16}${e}`;return t?JO(a):a}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(i=>n(i)).join(",");if(r.includes(" "))return r.split(" ").map(i=>n(i)).join(" ");const a=r.replace("px","");if(!Number.isNaN(Number(a))){const i=`${Number(a)/16}${e}`;return t?JO(i):i}}return r}return n}const me=QL("rem",{shouldScale:!0}),Mg=QL("em");function cl(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}function KL(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(r=>t.test(r))}return!1}function oE(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==b.Fragment:!1}function yr(e){const t=b.createContext(null);return[({children:a,value:i})=>s.jsx(t.Provider,{value:i,children:a}),()=>{const a=b.useContext(t);if(a===null)throw new Error(e);return a}]}function Gi(e=null){const t=b.createContext(e);return[({children:a,value:i})=>s.jsx(t.Provider,{value:i,children:a}),()=>b.useContext(t)]}function ek(e,t){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(t);return`${e}-${n}`}}function Pg(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function oH(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function sH(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function lH(e,t,n){return Pg(e,n)===Pg(t,n)}function sE({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:a=!1,dir:i="rtl",orientation:l}){return u=>{n?.(u);const d=Array.from(Pg(u.currentTarget,e)?.querySelectorAll(t)||[]).filter(S=>lH(u.currentTarget,S,e)),h=d.findIndex(S=>u.currentTarget===S),p=sH(h,d,r),m=oH(h,d,r),g=i==="rtl"?m:p,y=i==="rtl"?p:m;switch(u.key){case"ArrowRight":{l==="horizontal"&&(u.stopPropagation(),u.preventDefault(),d[g].focus(),a&&d[g].click());break}case"ArrowLeft":{l==="horizontal"&&(u.stopPropagation(),u.preventDefault(),d[y].focus(),a&&d[y].click());break}case"ArrowUp":{l==="vertical"&&(u.stopPropagation(),u.preventDefault(),d[m].focus(),a&&d[m].click());break}case"ArrowDown":{l==="vertical"&&(u.stopPropagation(),u.preventDefault(),d[p].focus(),a&&d[p].click());break}case"Home":{u.stopPropagation(),u.preventDefault(),!d[0].disabled&&d[0].focus();break}case"End":{u.stopPropagation(),u.preventDefault();const S=d.length-1;!d[S].disabled&&d[S].focus();break}}}}const cH={app:100,modal:200,popover:300,overlay:400,max:9999};function br(e){return cH[e]}const XL=()=>{};function uH(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||XL:n=>{n.key==="Escape"&&(e(n),t.onTrigger?.())}}function at(e,t="size",n=!0){if(e!==void 0)return KL(e)?n?me(e):e:`var(--${t}-${e})`}function In(e){return at(e,"mantine-spacing")}function qt(e){return e===void 0?"var(--mantine-radius-default)":at(e,"mantine-radius")}function Fn(e){return at(e,"mantine-font-size")}function ZL(e){return at(e,"mantine-line-height",!1)}function lE(e){if(e)return at(e,"mantine-shadow",!1)}function mr(e,t){return n=>{e?.(n),t?.(n)}}function cE(e,t){return e in t?Xf(t[e]):Xf(e)}function Zf(e,t){const n=e.map(r=>({value:r,px:cE(r,t)}));return n.sort((r,a)=>r.px-a.px),n}function Pi(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function dH(e,t,n){return n?Array.from(Pg(n,t)?.querySelectorAll(e)||[]).findIndex(r=>r===n):null}function fH(e,t,n){return n===void 0?Math.max(e,t):Math.min(Math.max(e,t),n)}function Ng(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function hH(e,t){if(e===t||Number.isNaN(e)&&Number.isNaN(t))return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;const n=Object.keys(e),{length:r}=n;if(r!==Object.keys(t).length)return!1;for(let a=0;a<r;a+=1){const i=n[a];if(!(i in t)||e[i]!==t[i]&&!(Number.isNaN(e[i])&&Number.isNaN(t[i])))return!1}return!0}function Wl(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>((...n)=>t.current?.(...n)),[])}function Xo(e,t){const{delay:n,flushOnUnmount:r,leading:a}=typeof t=="number"?{delay:t,flushOnUnmount:!1,leading:!1}:t,i=Wl(e),l=b.useRef(0),u=b.useMemo(()=>{const d=Object.assign((...h)=>{window.clearTimeout(l.current);const p=d._isFirstCall;d._isFirstCall=!1;function m(){window.clearTimeout(l.current),l.current=0,d._isFirstCall=!0}if(a&&p){i(...h);const S=()=>{m()},x=()=>{l.current!==0&&(m(),i(...h))},C=()=>{m()};d.flush=x,d.cancel=C,l.current=window.setTimeout(S,n);return}if(a&&!p){const S=()=>{l.current!==0&&(m(),i(...h))},x=()=>{m()};d.flush=S,d.cancel=x;const C=()=>{m()};l.current=window.setTimeout(C,n);return}const g=()=>{l.current!==0&&(m(),i(...h))},y=()=>{m()};d.flush=g,d.cancel=y,l.current=window.setTimeout(g,n)},{flush:()=>{},cancel:()=>{},_isFirstCall:!0});return d},[i,n,a]);return b.useEffect(()=>()=>{r?u.flush():u.cancel()},[u,r]),u}const pH=["mousedown","touchstart"];function mH(e,t,n){const r=b.useRef(null),a=t||pH;return b.useEffect(()=>{const i=l=>{const{target:u}=l??{};if(Array.isArray(n)){const d=!document.body.contains(u)&&u?.tagName!=="HTML";n.every(p=>!!p&&!l.composedPath().includes(p))&&!d&&e(l)}else r.current&&!r.current.contains(u)&&e(l)};return a.forEach(l=>document.addEventListener(l,i)),()=>{a.forEach(l=>document.removeEventListener(l,i))}},[r,e,n]),r}function JL(e={timeout:2e3}){const[t,n]=b.useState(null),[r,a]=b.useState(!1),[i,l]=b.useState(null),u=p=>{window.clearTimeout(i),l(window.setTimeout(()=>a(!1),e.timeout)),a(p)};return{copy:p=>{"clipboard"in navigator?navigator.clipboard.writeText(p).then(()=>u(!0)).catch(m=>n(m)):n(new Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{a(!1),n(null),window.clearTimeout(i)},error:t,copied:r}}function gH(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function vH(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function e5(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,a]=b.useState(n?t:vH(e));return b.useEffect(()=>{try{const i=window.matchMedia(e);return a(i.matches),gH(i,l=>a(l.matches))}catch{return}},[e]),r||!1}function yH(e,t){return e5("(prefers-color-scheme: dark)",e==="dark",t)?"dark":"light"}const Tc=typeof document<"u"?b.useLayoutEffect:b.useEffect;function Zs(e,t){const n=b.useRef(!1);b.useEffect(()=>()=>{n.current=!1},[]),b.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function t5({opened:e,shouldReturnFocus:t=!0}){const n=b.useRef(null),r=()=>{n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&n.current?.focus({preventScroll:!0})};return Zs(()=>{let a=-1;const i=l=>{l.key==="Tab"&&window.clearTimeout(a)};return document.addEventListener("keydown",i),e?n.current=document.activeElement:t&&(a=window.setTimeout(r,10)),()=>{window.clearTimeout(a),document.removeEventListener("keydown",i)}},[e,t]),r}const bH=/input|select|textarea|button|object/,n5="a, input, select, textarea, button, object, [tabindex]";function xH(e){return e.style.display==="none"}function SH(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(xH(n))return!1;n=n.parentNode}return!0}function r5(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function nj(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(r5(e));return(bH.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&SH(e)}function a5(e){const t=r5(e);return(Number.isNaN(t)||t>=0)&&nj(e)}function wH(e){return Array.from(e.querySelectorAll(n5)).filter(a5)}function CH(e,t){const n=wH(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],a=e.getRootNode();let i=r===a.activeElement||e===a.activeElement;const l=a.activeElement;if(l.tagName==="INPUT"&&l.getAttribute("type")==="radio"&&(i=n.filter(p=>p.getAttribute("type")==="radio"&&p.getAttribute("name")===l.getAttribute("name")).includes(r)),!i)return;t.preventDefault();const d=n[t.shiftKey?n.length-1:0];d&&d.focus()}function jH(e=!0){const t=b.useRef(null),n=a=>{let i=a.querySelector("[data-autofocus]");if(!i){const l=Array.from(a.querySelectorAll(n5));i=l.find(a5)||l.find(nj)||null,!i&&nj(a)&&(i=a)}i&&i.focus({preventScroll:!0})},r=b.useCallback(a=>{e&&a!==null&&t.current!==a&&(a?(setTimeout(()=>{a.getRootNode()&&n(a)}),t.current=a):t.current=null)},[e]);return b.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>n(t.current));const a=i=>{i.key==="Tab"&&t.current&&CH(t.current,i)};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[e]),r}const EH=e=>(e+1)%1e6;function TH(){const[,e]=b.useReducer(EH,0);return e}const RH=te.useId||(()=>{});function _H(){const e=RH();return e?`mantine-${e.replace(/:/g,"")}`:""}function xr(e){const t=_H(),[n,r]=b.useState(t);return Tc(()=>{r(Ng())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function i5(e,t,n){b.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function rj(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function o5(...e){const t=new Map;return n=>{if(e.forEach(r=>{const a=rj(r,n);a&&t.set(r,a)}),t.size>0)return()=>{e.forEach(r=>{const a=t.get(r);a&&typeof a=="function"?a():rj(r,null)}),t.clear()}}}function Yn(...e){return b.useCallback(o5(...e),e)}function sr({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[a,i]=b.useState(t!==void 0?t:n),l=(u,...d)=>{i(u),r?.(u,...d)};return e!==void 0?[e,r,!0]:[a,l,!1]}function zs(e,t){const n=t-e+1;return Array.from({length:n},(r,a)=>a+e)}const Dm="dots";function DH({total:e,siblings:t=1,boundaries:n=1,page:r,initialPage:a=1,onChange:i}){const l=Math.max(Math.trunc(e),0),[u,d]=sr({value:r,onChange:i,defaultValue:a,finalValue:a}),h=x=>{x<=0?d(1):x>l?d(l):d(x)},p=()=>h(u+1),m=()=>h(u-1),g=()=>h(1),y=()=>h(l);return{range:b.useMemo(()=>{if(t*2+3+n*2>=l)return zs(1,l);const C=Math.max(u-t,n),T=Math.min(u+t,l-n),j=C>n+2,R=T<l-(n+1);if(!j&&R){const _=t*2+n+2;return[...zs(1,_),Dm,...zs(l-(n-1),l)]}if(j&&!R){const _=n+1+2*t;return[...zs(1,n),Dm,...zs(l-_,l)]}return[...zs(1,n),Dm,...zs(C,T),Dm,...zs(l-n+1,l)]},[l,t,u]),active:u,setPage:h,next:p,previous:m,first:g,last:y}}function mv(e,t){return e5("(prefers-reduced-motion: reduce)",e,t)}const AH={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function OH(e){const t=b.useRef(0),n=b.useRef(null),[r,a]=b.useState(AH),i=b.useMemo(()=>typeof window<"u"?new ResizeObserver(l=>{const u=l[0];u&&(cancelAnimationFrame(t.current),t.current=requestAnimationFrame(()=>{if(n.current){const d=u.borderBoxSize?.[0]||u.contentBoxSize?.[0];if(d){const h=d.inlineSize,p=d.blockSize;a({width:h,height:p,x:u.contentRect.x,y:u.contentRect.y,top:u.contentRect.top,left:u.contentRect.left,bottom:u.contentRect.bottom,right:u.contentRect.right})}else a(u.contentRect)}}))}):null,[]);return b.useEffect(()=>(n.current&&i?.observe(n.current,e),()=>{i?.disconnect(),t.current&&cancelAnimationFrame(t.current)}),[n.current]),[n,r]}function kH(e,t){if(!e||!t)return!1;if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1)if(!hH(e[n],t[n]))return!1;return!0}function MH(e){const t=b.useRef([]),n=b.useRef(0);return kH(t.current,e)||(t.current=e,n.current+=1),[n.current]}function PH(e,t){b.useEffect(e,MH(t))}const NH={" ":"space",ArrowLeft:"arrowleft",ArrowRight:"arrowright",ArrowUp:"arrowup",ArrowDown:"arrowdown",Escape:"escape",Esc:"escape",esc:"escape",Enter:"enter",Tab:"tab",Backspace:"backspace",Delete:"delete",Insert:"insert",Home:"home",End:"end",PageUp:"pageup",PageDown:"pagedown","+":"plus","-":"minus","*":"asterisk","/":"slash"};function Am(e){const t=e.replace("Key","").toLowerCase();return NH[e]||t}function IH(e){const t=e.toLowerCase().split("+").map(i=>i.trim()),n={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift"),plus:t.includes("[plus]")},r=["alt","ctrl","meta","shift","mod"],a=t.find(i=>!r.includes(i));return{...n,key:a==="[plus]"?"+":a}}function LH(e,t,n){const{alt:r,ctrl:a,meta:i,mod:l,shift:u,key:d}=e,{altKey:h,ctrlKey:p,metaKey:m,shiftKey:g,key:y,code:S}=t;if(r!==h)return!1;if(l){if(!p&&!m)return!1}else if(a!==p||i!==m)return!1;return u!==g?!1:!!(d&&(n?Am(S)===Am(d):Am(y??S)===Am(d)))}function zH(e,t){return n=>LH(IH(e),n,t)}function $H(e,t,n=!1){return e.target instanceof HTMLElement?(n||!e.target.isContentEditable)&&!t.includes(e.target.tagName):!0}function qH(e,t=["INPUT","TEXTAREA","SELECT"],n=!1){b.useEffect(()=>{const r=a=>{e.forEach(([i,l,u={preventDefault:!0,usePhysicalKeys:!1}])=>{zH(i,u.usePhysicalKeys)(a)&&$H(a,t,n)&&(u.preventDefault&&a.preventDefault(),l(a))})};return document.documentElement.addEventListener("keydown",r),()=>document.documentElement.removeEventListener("keydown",r)},[e])}function La(e=!1,t={}){const[n,r]=b.useState(e),a=b.useCallback(()=>{r(u=>u||(t.onOpen?.(),!0))},[t.onOpen]),i=b.useCallback(()=>{r(u=>u&&(t.onClose?.(),!1))},[t.onClose]),l=b.useCallback(()=>{n?i():a()},[i,a,n]);return[n,{open:a,close:i,toggle:l}]}function UH(e,t,n={autoInvoke:!1}){const r=b.useRef(null),a=b.useCallback((...l)=>{r.current||(r.current=window.setTimeout(()=>{e(l),r.current=null},t))},[t]),i=b.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]);return b.useEffect(()=>(n.autoInvoke&&a(),i),[i,a]),{start:a,clear:i}}function BH(e){const t=b.useRef(void 0);return b.useEffect(()=>{t.current=e},[e]),t.current}function HH(e,t,n){const r=b.useRef(null),a=b.useRef(null);return b.useEffect(()=>{const i=typeof n=="function"?n():n;return(i||a.current)&&(r.current=new MutationObserver(e),r.current.observe(i||a.current,t)),()=>{r.current?.disconnect()}},[e,t]),a}function FH(){const[e,t]=b.useState(!1);return b.useEffect(()=>t(!0),[]),e}var VH={};function s5(){return typeof process<"u"&&VH?"production":"development"}function gv(e){const t=te.version;return typeof te.version!="string"||t.startsWith("18.")?e?.ref:e?.props?.ref}function og(e,t=document){const n=t.querySelector(e);if(n)return n;const r=t.querySelectorAll("*");for(let a=0;a<r.length;a+=1){const i=r[a];if(i.shadowRoot){const l=og(e,i.shadowRoot);if(l)return l}}return null}function Bs(e,t=document){const n=[],r=t.querySelectorAll(e);n.push(...Array.from(r));const a=t.querySelectorAll("*");for(let i=0;i<a.length;i+=1){const l=a[i];if(l.shadowRoot){const u=Bs(e,l.shadowRoot);n.push(...u)}}return n}function $s(e){if(!e)return document;const t=e.getRootNode();return t instanceof ShadowRoot||t instanceof Document?t:document}function Rc(e){const t=b.Children.toArray(e);return t.length!==1||!oE(t[0])?null:t[0]}function l5(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=l5(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function $t(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=l5(e))&&(r&&(r+=" "),r+=t);return r}const WH={};function GH(e){const t={};return e.forEach(n=>{Object.entries(n).forEach(([r,a])=>{t[r]?t[r]=$t(t[r],a):t[r]=a})}),t}function Dh({theme:e,classNames:t,props:n,stylesCtx:r}){const i=(Array.isArray(t)?t:[t]).map(l=>typeof l=="function"?l(e,n,r):l||WH);return GH(i)}function Jf({theme:e,styles:t,props:n,stylesCtx:r}){return(Array.isArray(t)?t:[t]).reduce((i,l)=>typeof l=="function"?{...i,...l(e,n,r)}:{...i,...l},{})}const uE=b.createContext(null);function rs(){const e=b.useContext(uE);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function YH(){return rs().cssVariablesResolver}function QH(){return rs().classNamesPrefix}function vv(){return rs().getStyleNonce}function KH(){return rs().withStaticClasses}function XH(){return rs().headless}function ZH(){return rs().stylesTransform?.sx}function JH(){return rs().stylesTransform?.styles}function yv(){return rs().env||"default"}function eF(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function tF(e){let t=e.replace("#","");if(t.length===3){const l=t.split("");t=[l[0],l[0],l[1],l[1],l[2],l[2]].join("")}if(t.length===8){const l=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:l}}const n=parseInt(t,16),r=n>>16&255,a=n>>8&255,i=n&255;return{r,g:a,b:i,a:1}}function nF(e){const[t,n,r,a]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:n,b:r,a:a===void 0?1:a}}function rF(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=e.match(t);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),a=parseInt(n[2],10)/100,i=parseInt(n[3],10)/100,l=n[5]?parseFloat(n[5]):void 0,u=(1-Math.abs(2*i-1))*a,d=r/60,h=u*(1-Math.abs(d%2-1)),p=i-u/2;let m,g,y;return d>=0&&d<1?(m=u,g=h,y=0):d>=1&&d<2?(m=h,g=u,y=0):d>=2&&d<3?(m=0,g=u,y=h):d>=3&&d<4?(m=0,g=h,y=u):d>=4&&d<5?(m=h,g=0,y=u):(m=u,g=0,y=h),{r:Math.round((m+p)*255),g:Math.round((g+p)*255),b:Math.round((y+p)*255),a:l||1}}function dE(e){return eF(e)?tF(e):e.startsWith("rgb")?nF(e):e.startsWith("hsl")?rF(e):{r:0,g:0,b:0,a:1}}function Om(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r:n,g:r,b:a,a:i}=dE(e),l=1-t,u=d=>Math.round(d*l);return`rgba(${u(n)}, ${u(r)}, ${u(a)}, ${i})`}function eh(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function jx(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function aF(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function iF(e){if(e.startsWith("oklch("))return(aF(e)||0)/100;const{r:t,g:n,b:r}=dE(e),a=t/255,i=n/255,l=r/255,u=jx(a),d=jx(i),h=jx(l);return .2126*u+.7152*d+.0722*h}function Ef(e,t=.179){return e.startsWith("var(")?!1:iF(e)>t}function ga({color:e,theme:t,colorScheme:n}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:n==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Ef(n==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:n==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Ef(n==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Ef(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[r,a]=e.split("."),i=a?Number(a):void 0,l=r in t.colors;if(l){const u=i!==void 0?t.colors[r][i]:t.colors[r][eh(t,n||"light")];return{color:r,value:u,shade:i,isThemeColor:l,isLight:Ef(u,t.luminanceThreshold),variable:a?`--mantine-color-${r}-${i}`:`--mantine-color-${r}-filled`}}return{color:e,value:e,isThemeColor:l,isLight:Ef(e,t.luminanceThreshold),shade:i,variable:void 0}}function en(e,t){const n=ga({color:e||t.primaryColor,theme:t});return n.variable?`var(${n.variable})`:e}function aj(e,t){const n={from:e?.from||t.defaultGradient.from,to:e?.to||t.defaultGradient.to,deg:e?.deg??t.defaultGradient.deg??0},r=en(n.from,t),a=en(n.to,t);return`linear-gradient(${n.deg}deg, ${r} 0%, ${a} 100%)`}function si(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const i=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${i}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r:n,g:r,b:a}=dE(e);return`rgba(${n}, ${r}, ${a}, ${t})`}const Ru=si,oF=({color:e,theme:t,variant:n,gradient:r,autoContrast:a})=>{const i=ga({color:e,theme:t}),l=typeof a=="boolean"?a:t.autoContrast;if(n==="none")return{background:"transparent",hover:"transparent",color:"inherit",border:"none"};if(n==="filled"){const u=l&&i.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return i.isThemeColor?i.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:u,border:`${me(1)} solid transparent`}:{background:`var(--mantine-color-${i.color}-${i.shade})`,hover:`var(--mantine-color-${i.color}-${i.shade===9?8:i.shade+1})`,color:u,border:`${me(1)} solid transparent`}:{background:e,hover:Om(e,.1),color:u,border:`${me(1)} solid transparent`}}if(n==="light"){if(i.isThemeColor){if(i.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${me(1)} solid transparent`};const u=t.colors[i.color][i.shade];return{background:si(u,.1),hover:si(u,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${me(1)} solid transparent`}}return{background:si(e,.1),hover:si(e,.12),color:e,border:`${me(1)} solid transparent`}}if(n==="outline")return i.isThemeColor?i.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${me(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:si(t.colors[i.color][i.shade],.05),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${me(1)} solid var(--mantine-color-${i.color}-${i.shade})`}:{background:"transparent",hover:si(e,.05),color:e,border:`${me(1)} solid ${e}`};if(n==="subtle"){if(i.isThemeColor){if(i.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${me(1)} solid transparent`};const u=t.colors[i.color][i.shade];return{background:"transparent",hover:si(u,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${me(1)} solid transparent`}}return{background:"transparent",hover:si(e,.12),color:e,border:`${me(1)} solid transparent`}}return n==="transparent"?i.isThemeColor?i.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${me(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${me(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${me(1)} solid transparent`}:n==="white"?i.isThemeColor?i.shade===void 0?{background:"var(--mantine-color-white)",hover:Om(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${me(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Om(t.white,.01),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${me(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Om(t.white,.01),color:e,border:`${me(1)} solid transparent`}:n==="gradient"?{background:aj(r,t),hover:aj(r,t),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${me(1)} solid var(--mantine-color-default-border)`}:{}},sF={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},tk="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fE={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:sF,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:oF,autoContrast:!1,luminanceThreshold:.3,fontFamily:tk,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:tk,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:me(34),lineHeight:"1.3"},h2:{fontSize:me(26),lineHeight:"1.35"},h3:{fontSize:me(22),lineHeight:"1.4"},h4:{fontSize:me(18),lineHeight:"1.45"},h5:{fontSize:me(16),lineHeight:"1.5"},h6:{fontSize:me(14),lineHeight:"1.5"}}},fontSizes:{xs:me(12),sm:me(14),md:me(16),lg:me(18),xl:me(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:me(2),sm:me(4),md:me(8),lg:me(16),xl:me(32)},spacing:{xs:me(10),sm:me(12),md:me(16),lg:me(20),xl:me(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${me(1)} ${me(3)} rgba(0, 0, 0, 0.05), 0 ${me(1)} ${me(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${me(1)} ${me(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${me(10)} ${me(15)} ${me(-5)}, rgba(0, 0, 0, 0.04) 0 ${me(7)} ${me(7)} ${me(-5)}`,md:`0 ${me(1)} ${me(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${me(20)} ${me(25)} ${me(-5)}, rgba(0, 0, 0, 0.04) 0 ${me(10)} ${me(10)} ${me(-5)}`,lg:`0 ${me(1)} ${me(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${me(28)} ${me(23)} ${me(-7)}, rgba(0, 0, 0, 0.04) 0 ${me(12)} ${me(12)} ${me(-7)}`,xl:`0 ${me(1)} ${me(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${me(36)} ${me(28)} ${me(-7)}, rgba(0, 0, 0, 0.04) 0 ${me(17)} ${me(17)} ${me(-7)}`},other:{},components:{}};function nk(e){return e==="auto"||e==="dark"||e==="light"}function lF({key:e="mantine-color-scheme-value"}={}){let t;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(e);return nk(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(e,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{t=r=>{r.storageArea===window.localStorage&&r.key===e&&nk(r.newValue)&&n(r.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const cF="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more â€“ https://mantine.dev/theming/colors/#primary-color",rk="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function Ex(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function ak(e){if(!(e.primaryColor in e.colors))throw new Error(cF);if(typeof e.primaryShade=="object"&&(!Ex(e.primaryShade.dark)||!Ex(e.primaryShade.light)))throw new Error(rk);if(typeof e.primaryShade=="number"&&!Ex(e.primaryShade))throw new Error(rk)}function uF(e,t){if(!t)return ak(e),e;const n=iE(e,t);return t.fontFamily&&!t.headings?.fontFamily&&(n.headings.fontFamily=t.fontFamily),ak(n),n}const hE=b.createContext(null),dF=()=>b.useContext(hE)||fE;function wn(){const e=b.useContext(hE);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function c5({theme:e,children:t,inherit:n=!0}){const r=dF(),a=b.useMemo(()=>uF(n?r:fE,e),[e,r,n]);return s.jsx(hE.Provider,{value:a,children:t})}c5.displayName="@mantine/core/MantineThemeProvider";function fF(){const e=wn(),t=vv(),n=hn(e.breakpoints).reduce((r,a)=>{const i=e.breakpoints[a].includes("px"),l=Xf(e.breakpoints[a]),u=i?`${l-.1}px`:Mg(l-.1),d=i?`${l}px`:Mg(l);return`${r}@media (max-width: ${u}) {.mantine-visible-from-${a} {display: none !important;}}@media (min-width: ${d}) {.mantine-hidden-from-${a} {display: none !important;}}`},"");return s.jsx("style",{"data-mantine-styles":"classes",nonce:t?.(),dangerouslySetInnerHTML:{__html:n}})}function Tx(e){return Object.entries(e).map(([t,n])=>`${t}: ${n};`).join("")}function u5(e,t){const n=t?[t]:[":root",":host"],r=Tx(e.variables),a=r?`${n.join(", ")}{${r}}`:"",i=Tx(e.dark),l=Tx(e.light),u=p=>n.map(m=>m===":host"?`${m}([data-mantine-color-scheme="${p}"])`:`${m}[data-mantine-color-scheme="${p}"]`).join(", "),d=i?`${u("dark")}{${i}}`:"",h=l?`${u("light")}{${l}}`:"";return`${a}

${d}

${h}`}function Yi({color:e,theme:t,autoContrast:n}){return(typeof n=="boolean"?n:t.autoContrast)&&ga({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function ik(e,t){return Yi({color:e.colors[e.primaryColor][eh(e,t)],theme:e,autoContrast:null})}function km({theme:e,color:t,colorScheme:n,name:r=t,withColorValues:a=!0}){if(!e.colors[t])return{};if(n==="light"){const u=eh(e,"light"),d={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${u})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${u===9?8:u+1})`,[`--mantine-color-${r}-light`]:Ru(e.colors[t][u],.1),[`--mantine-color-${r}-light-hover`]:Ru(e.colors[t][u],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${u})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${u})`,[`--mantine-color-${r}-outline-hover`]:Ru(e.colors[t][u],.05)};return a?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...d}:d}const i=eh(e,"dark"),l={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${i})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${i===9?8:i+1})`,[`--mantine-color-${r}-light`]:Ru(e.colors[t][Math.max(0,i-2)],.15),[`--mantine-color-${r}-light-hover`]:Ru(e.colors[t][Math.max(0,i-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(i-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(i-4,0)})`,[`--mantine-color-${r}-outline-hover`]:Ru(e.colors[t][Math.max(i-4,0)],.05)};return a?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...l}:l}function hF(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function _u(e,t,n){hn(t).forEach(r=>Object.assign(e,{[`--mantine-${n}-${r}`]:t[r]}))}const d5=e=>{const t=eh(e,"light"),n=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:me(e.defaultRadius),r={variables:{"--mantine-z-index-app":"100","--mantine-z-index-modal":"200","--mantine-z-index-popover":"300","--mantine-z-index-overlay":"400","--mantine-z-index-max":"9999","--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-color-scheme":"light","--mantine-primary-color-contrast":ik(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)","--mantine-color-disabled":"var(--mantine-color-gray-2)","--mantine-color-disabled-color":"var(--mantine-color-gray-5)","--mantine-color-disabled-border":"var(--mantine-color-gray-3)"},dark:{"--mantine-color-scheme":"dark","--mantine-primary-color-contrast":ik(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)","--mantine-color-disabled":"var(--mantine-color-dark-6)","--mantine-color-disabled-color":"var(--mantine-color-dark-3)","--mantine-color-disabled-border":"var(--mantine-color-dark-4)"}};_u(r.variables,e.breakpoints,"breakpoint"),_u(r.variables,e.spacing,"spacing"),_u(r.variables,e.fontSizes,"font-size"),_u(r.variables,e.lineHeights,"line-height"),_u(r.variables,e.shadows,"shadow"),_u(r.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((i,l)=>{r.variables[`--mantine-primary-color-${l}`]=`var(--mantine-color-${e.primaryColor}-${l})`}),hn(e.colors).forEach(i=>{const l=e.colors[i];if(hF(l)){Object.assign(r.light,km({theme:e,name:l.name,color:l.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,km({theme:e,name:l.name,color:l.dark,colorScheme:"dark",withColorValues:!0}));return}l.forEach((u,d)=>{r.variables[`--mantine-color-${i}-${d}`]=u}),Object.assign(r.light,km({theme:e,color:i,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,km({theme:e,color:i,colorScheme:"dark",withColorValues:!1}))});const a=e.headings.sizes;return hn(a).forEach(i=>{r.variables[`--mantine-${i}-font-size`]=a[i].fontSize,r.variables[`--mantine-${i}-line-height`]=a[i].lineHeight,r.variables[`--mantine-${i}-font-weight`]=a[i].fontWeight||e.headings.fontWeight}),r};function pF({theme:e,generator:t}){const n=d5(e),r=t?.(e);return r?iE(n,r):n}const Rx=d5(fE);function mF(e){const t={variables:{},light:{},dark:{}};return hn(e.variables).forEach(n=>{Rx.variables[n]!==e.variables[n]&&(t.variables[n]=e.variables[n])}),hn(e.light).forEach(n=>{Rx.light[n]!==e.light[n]&&(t.light[n]=e.light[n])}),hn(e.dark).forEach(n=>{Rx.dark[n]!==e.dark[n]&&(t.dark[n]=e.dark[n])}),t}function gF(e){return u5({variables:{},dark:{"--mantine-color-scheme":"dark"},light:{"--mantine-color-scheme":"light"}},e)}function f5({cssVariablesSelector:e,deduplicateCssVariables:t}){const n=wn(),r=vv(),a=YH(),i=pF({theme:n,generator:a}),l=(e===void 0||e===":root"||e===":host")&&t,u=l?mF(i):i,d=u5(u,e);return d?s.jsx("style",{"data-mantine-styles":!0,nonce:r?.(),dangerouslySetInnerHTML:{__html:`${d}${l?"":gF(e)}`}}):null}f5.displayName="@mantine/CssVariables";function Du(e,t){const n=typeof window<"u"&&"matchMedia"in window&&window.matchMedia("(prefers-color-scheme: dark)")?.matches,r=e!=="auto"?e:n?"dark":"light";t()?.setAttribute("data-mantine-color-scheme",r)}function vF({manager:e,defaultColorScheme:t,getRootElement:n,forceColorScheme:r}){const a=b.useRef(null),[i,l]=b.useState(()=>e.get(t)),u=r||i,d=b.useCallback(p=>{r||(Du(p,n),l(p),e.set(p))},[e.set,u,r]),h=b.useCallback(()=>{l(t),Du(t,n),e.clear()},[e.clear,t]);return b.useEffect(()=>(e.subscribe(d),e.unsubscribe),[e.subscribe,e.unsubscribe]),Tc(()=>{Du(e.get(t),n)},[]),b.useEffect(()=>{if(r)return Du(r,n),()=>{};r===void 0&&Du(i,n),typeof window<"u"&&"matchMedia"in window&&(a.current=window.matchMedia("(prefers-color-scheme: dark)"));const p=m=>{i==="auto"&&Du(m.matches?"dark":"light",n)};return a.current?.addEventListener("change",p),()=>a.current?.removeEventListener("change",p)},[i,r]),{colorScheme:u,setColorScheme:d,clearColorScheme:h}}function yF({respectReducedMotion:e,getRootElement:t}){Tc(()=>{e&&t()?.setAttribute("data-respect-reduced-motion","true")},[e])}function h5({theme:e,children:t,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:a=!0,deduplicateCssVariables:i=!0,withCssVariables:l=!0,cssVariablesSelector:u,classNamesPrefix:d="mantine",colorSchemeManager:h=lF(),defaultColorScheme:p="light",getRootElement:m=()=>document.documentElement,cssVariablesResolver:g,forceColorScheme:y,stylesTransform:S,env:x}){const{colorScheme:C,setColorScheme:T,clearColorScheme:j}=vF({defaultColorScheme:p,forceColorScheme:y,manager:h,getRootElement:m});return yF({respectReducedMotion:e?.respectReducedMotion||!1,getRootElement:m}),s.jsx(uE.Provider,{value:{colorScheme:C,setColorScheme:T,clearColorScheme:j,getRootElement:m,classNamesPrefix:d,getStyleNonce:n,cssVariablesResolver:g,cssVariablesSelector:u??":root",withStaticClasses:r,stylesTransform:S,env:x},children:s.jsxs(c5,{theme:e,children:[l&&s.jsx(f5,{cssVariablesSelector:u,deduplicateCssVariables:i}),a&&s.jsx(fF,{}),t]})})}h5.displayName="@mantine/core/MantineProvider";function hd({classNames:e,styles:t,props:n,stylesCtx:r}){const a=wn();return{resolvedClassNames:Dh({theme:a,classNames:e,props:n,stylesCtx:r||void 0}),resolvedStyles:Jf({theme:a,styles:t,props:n,stylesCtx:r||void 0})}}const bF={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function xF({theme:e,options:t,unstyled:n}){return $t(t?.focusable&&!n&&(e.focusClassName||bF[e.focusRing]),t?.active&&!n&&e.activeClassName)}function SF({selector:e,stylesCtx:t,options:n,props:r,theme:a}){return Dh({theme:a,classNames:n?.classNames,props:n?.props||r,stylesCtx:t})[e]}function ok({selector:e,stylesCtx:t,theme:n,classNames:r,props:a}){return Dh({theme:n,classNames:r,props:a,stylesCtx:t})[e]}function wF({rootSelector:e,selector:t,className:n}){return e===t?n:void 0}function CF({selector:e,classes:t,unstyled:n}){return n?void 0:t[e]}function jF({themeName:e,classNamesPrefix:t,selector:n,withStaticClass:r}){return r===!1?[]:e.map(a=>`${t}-${a}-${n}`)}function EF({themeName:e,theme:t,selector:n,props:r,stylesCtx:a}){return e.map(i=>Dh({theme:t,classNames:t.components[i]?.classNames,props:r,stylesCtx:a})?.[n])}function TF({options:e,classes:t,selector:n,unstyled:r}){return e?.variant&&!r?t[`${n}--${e.variant}`]:void 0}function RF({theme:e,options:t,themeName:n,selector:r,classNamesPrefix:a,classNames:i,classes:l,unstyled:u,className:d,rootSelector:h,props:p,stylesCtx:m,withStaticClasses:g,headless:y,transformedStyles:S}){return $t(xF({theme:e,options:t,unstyled:u||y}),EF({theme:e,themeName:n,selector:r,props:p,stylesCtx:m}),TF({options:t,classes:l,selector:r,unstyled:u}),ok({selector:r,stylesCtx:m,theme:e,classNames:i,props:p}),ok({selector:r,stylesCtx:m,theme:e,classNames:S,props:p}),SF({selector:r,stylesCtx:m,options:t,props:p,theme:e}),wF({rootSelector:h,selector:r,className:d}),CF({selector:r,classes:l,unstyled:u||y}),g&&!y&&jF({themeName:n,classNamesPrefix:a,selector:r,withStaticClass:t?.withStaticClass}),t?.className)}function _F({theme:e,themeName:t,props:n,stylesCtx:r,selector:a}){return t.map(i=>Jf({theme:e,styles:e.components[i]?.styles,props:n,stylesCtx:r})[a]).reduce((i,l)=>({...i,...l}),{})}function ij({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...ij({style:r,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function DF(e){return e.reduce((t,n)=>(n&&Object.keys(n).forEach(r=>{t[r]={...t[r],...cl(n[r])}}),t),{})}function AF({vars:e,varsResolver:t,theme:n,props:r,stylesCtx:a,selector:i,themeName:l,headless:u}){return DF([u?{}:t?.(n,r,a),...l.map(d=>n.components?.[d]?.vars?.(n,r,a)),e?.(n,r,a)])?.[i]}function OF({theme:e,themeName:t,selector:n,options:r,props:a,stylesCtx:i,rootSelector:l,styles:u,style:d,vars:h,varsResolver:p,headless:m,withStylesTransform:g}){return{...!g&&_F({theme:e,themeName:t,props:a,stylesCtx:i,selector:n}),...!g&&Jf({theme:e,styles:u,props:a,stylesCtx:i})[n],...!g&&Jf({theme:e,styles:r?.styles,props:r?.props||a,stylesCtx:i})[n],...AF({theme:e,props:a,stylesCtx:i,vars:h,varsResolver:p,selector:n,themeName:t,headless:m}),...l===n?ij({style:d,theme:e}):null,...ij({style:r?.style,theme:e})}}function kF({props:e,stylesCtx:t,themeName:n}){const r=wn(),a=JH()?.();return{getTransformedStyles:l=>a?[...l.map(d=>a(d,{props:e,theme:r,ctx:t})),...n.map(d=>a(r.components[d]?.styles,{props:e,theme:r,ctx:t}))].filter(Boolean):[],withStylesTransform:!!a}}function Ne({name:e,classes:t,props:n,stylesCtx:r,className:a,style:i,rootSelector:l="root",unstyled:u,classNames:d,styles:h,vars:p,varsResolver:m,attributes:g}){const y=wn(),S=QH(),x=KH(),C=XH(),T=(Array.isArray(e)?e:[e]).filter(_=>_),{withStylesTransform:j,getTransformedStyles:R}=kF({props:n,stylesCtx:r,themeName:T});return(_,A)=>({className:RF({theme:y,options:A,themeName:T,selector:_,classNamesPrefix:S,classNames:d,classes:t,unstyled:u,className:a,rootSelector:l,props:n,stylesCtx:r,withStaticClasses:x,headless:C,transformedStyles:R([A?.styles,h])}),style:OF({theme:y,themeName:T,selector:_,options:A,props:n,stylesCtx:r,rootSelector:l,styles:h,style:i,vars:p,varsResolver:m,headless:C,withStylesTransform:j}),...g?.[_]})}function as(e,t){return typeof e=="boolean"?e:t.autoContrast}function sk(e){const t=document.createElement("style");return t.setAttribute("data-mantine-styles","inline"),t.innerHTML="*, *::before, *::after {transition: none !important;}",t.setAttribute("data-mantine-disable-transition","true"),e&&t.setAttribute("nonce",e),document.head.appendChild(t),()=>document.querySelectorAll("[data-mantine-disable-transition]").forEach(r=>r.remove())}function MF({keepTransitions:e}={}){const t=b.useRef(XL),n=b.useRef(-1),r=b.useContext(uE),a=vv(),i=b.useRef(a?.());if(!r)throw new Error("[@mantine/core] MantineProvider was not found in tree");const l=m=>{r.setColorScheme(m),t.current=e?()=>{}:sk(i.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{t.current?.()},10)},u=()=>{r.clearColorScheme(),t.current=e?()=>{}:sk(i.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{t.current?.()},10)},d=yH("light",{getInitialValueInEffect:!1}),h=r.colorScheme==="auto"?d:r.colorScheme,p=b.useCallback(()=>l(h==="light"?"dark":"light"),[l,h]);return b.useEffect(()=>()=>{t.current?.(),window.clearTimeout(n.current)},[]),{colorScheme:r.colorScheme,setColorScheme:l,clearColorScheme:u,toggleColorScheme:p}}function se(e,t,n){const r=wn(),a=r.components[e]?.defaultProps,i=typeof a=="function"?a(r):a;return{...t,...i,...cl(n)}}function _x(e){return hn(e).reduce((t,n)=>e[n]!==void 0?`${t}${aH(n)}:${e[n]};`:t,"").trim()}function PF({selector:e,styles:t,media:n,container:r}){const a=t?_x(t):"",i=Array.isArray(n)?n.map(u=>`@media${u.query}{${e}{${_x(u.styles)}}}`):[],l=Array.isArray(r)?r.map(u=>`@container ${u.query}{${e}{${_x(u.styles)}}}`):[];return`${a?`${e}{${a}}`:""}${i.join("")}${l.join("")}`.trim()}function _c(e){const t=vv();return s.jsx("style",{"data-mantine-styles":"inline",nonce:t?.(),dangerouslySetInnerHTML:{__html:PF(e)}})}function is(e){const{m:t,mx:n,my:r,mt:a,mb:i,ml:l,mr:u,me:d,ms:h,p,px:m,py:g,pt:y,pb:S,pl:x,pr:C,pe:T,ps:j,bd:R,bdrs:_,bg:A,c:k,opacity:D,ff:O,fz:M,fw:I,lts:L,ta:V,lh:q,fs:U,tt:W,td:N,w:z,miw:$,maw:G,h:X,mih:H,mah:F,bgsz:Q,bgp:J,bgr:re,bga:ue,pos:Ee,top:Re,left:Se,bottom:Ge,right:Ze,inset:Fe,display:ze,flex:pt,hiddenFrom:Xe,visibleFrom:Ut,lightHidden:ot,darkHidden:Dt,sx:Tt,...Ve}=e;return{styleProps:cl({m:t,mx:n,my:r,mt:a,mb:i,ml:l,mr:u,me:d,ms:h,p,px:m,py:g,pt:y,pb:S,pl:x,pr:C,pe:T,ps:j,bd:R,bg:A,c:k,opacity:D,ff:O,fz:M,fw:I,lts:L,ta:V,lh:q,fs:U,tt:W,td:N,w:z,miw:$,maw:G,h:X,mih:H,mah:F,bgsz:Q,bgp:J,bgr:re,bga:ue,pos:Ee,top:Re,left:Se,bottom:Ge,right:Ze,inset:Fe,display:ze,flex:pt,bdrs:_,hiddenFrom:Xe,visibleFrom:Ut,lightHidden:ot,darkHidden:Dt,sx:Tt}),rest:Ve}}const NF={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bdrs:{type:"radius",property:"borderRadius"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function pE(e,t){const n=ga({color:e,theme:t});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function IF(e,t){const n=ga({color:e,theme:t});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:pE(e,t)}function LF(e,t){if(typeof e=="number")return me(e);if(typeof e=="string"){const[n,r,...a]=e.split(" ").filter(l=>l.trim()!=="");let i=`${me(n)}`;return r&&(i+=` ${r}`),a.length>0&&(i+=` ${pE(a.join(" "),t)}`),i.trim()}return e}const lk={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function zF(e){return typeof e=="string"&&e in lk?lk[e]:e}const $F=["h1","h2","h3","h4","h5","h6"];function qF(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&$F.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?me(e):e}function UF(e){return e}const BF=["h1","h2","h3","h4","h5","h6"];function HF(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&BF.includes(e)?`var(--mantine-${e}-line-height)`:e}function FF(e,t){return typeof e=="string"&&e in t.radius?`var(--mantine-radius-${e})`:typeof e=="number"||typeof e=="string"?me(e):e}function VF(e){return typeof e=="number"?me(e):e}function WF(e,t){if(typeof e=="number")return me(e);if(typeof e=="string"){const n=e.replace("-","");if(!(n in t.spacing))return me(e);const r=`--mantine-spacing-${n}`;return e.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return e}const Dx={color:pE,textColor:IF,fontSize:qF,spacing:WF,radius:FF,identity:UF,size:VF,lineHeight:HF,fontFamily:zF,border:LF};function ck(e){return e.replace("(min-width: ","").replace("em)","")}function GF({media:e,...t}){const r=Object.keys(e).sort((a,i)=>Number(ck(a))-Number(ck(i))).map(a=>({query:a,styles:e[a]}));return{...t,media:r}}function YF(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function QF(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function KF(e){return typeof e=="object"&&e!==null?hn(e).filter(t=>t!=="base"):[]}function XF(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function p5({styleProps:e,data:t,theme:n}){return GF(hn(e).reduce((r,a)=>{if(a==="hiddenFrom"||a==="visibleFrom"||a==="sx")return r;const i=t[a],l=Array.isArray(i.property)?i.property:[i.property],u=QF(e[a]);if(!YF(e[a]))return l.forEach(h=>{r.inlineStyles[h]=Dx[i.type](u,n)}),r;r.hasResponsiveStyles=!0;const d=KF(e[a]);return l.forEach(h=>{u!=null&&(r.styles[h]=Dx[i.type](u,n)),d.forEach(p=>{const m=`(min-width: ${n.breakpoints[p]})`;r.media[m]={...r.media[m],[h]:Dx[i.type](XF(e[a],p),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function Ah(){return`__m__-${b.useId().replace(/[:Â«Â»]/g,"")}`}function mE(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...mE(r,t)}),{}):typeof e=="function"?e(t):e??{}}function m5(e){return e.startsWith("data-")?e:`data-${e}`}function ZF(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r===void 0||r===""||r===!1||r===null||(t[m5(n)]=e[n]),t},{})}function g5(e){return e?typeof e=="string"?{[m5(e)]:!0}:Array.isArray(e)?[...e].reduce((t,n)=>({...t,...g5(n)}),{}):ZF(e):null}function oj(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...oj(r,t)}),{}):typeof e=="function"?e(t):e??{}}function JF({theme:e,style:t,vars:n,styleProps:r}){const a=oj(t,e),i=oj(n,e);return{...a,...i,...r}}const v5=b.forwardRef(({component:e,style:t,__vars:n,className:r,variant:a,mod:i,size:l,hiddenFrom:u,visibleFrom:d,lightHidden:h,darkHidden:p,renderRoot:m,__size:g,...y},S)=>{const x=wn(),C=e||"div",{styleProps:T,rest:j}=is(y),_=ZH()?.()?.(T.sx),A=Ah(),k=p5({styleProps:T,theme:x,data:NF}),D={ref:S,style:JF({theme:x,style:t,vars:n,styleProps:k.inlineStyles}),className:$t(r,_,{[A]:k.hasResponsiveStyles,"mantine-light-hidden":h,"mantine-dark-hidden":p,[`mantine-hidden-from-${u}`]:u,[`mantine-visible-from-${d}`]:d}),"data-variant":a,"data-size":KL(l)?void 0:l||void 0,size:g,...g5(i),...j};return s.jsxs(s.Fragment,{children:[k.hasResponsiveStyles&&s.jsx(_c,{selector:`.${A}`,styles:k.styles,media:k.media}),typeof m=="function"?m(D):s.jsx(C,{...D})]})});v5.displayName="@mantine/core/Box";const ne=v5;function y5(e){return e}function eV(e){const t=e;return n=>{const r=b.forwardRef((a,i)=>s.jsx(t,{...n,...a,ref:i}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r}}function xe(e){const t=b.forwardRef(e);return t.extend=y5,t.withProps=n=>{const r=b.forwardRef((a,i)=>s.jsx(t,{...n,...a,ref:i}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t}function Qn(e){const t=b.forwardRef(e);return t.withProps=n=>{const r=b.forwardRef((a,i)=>s.jsx(t,{...n,...a,ref:i}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t.extend=y5,t}const tV=b.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function os(){return b.useContext(tV)}var Ax={exports:{}},Lr={};var uk;function nV(){if(uk)return Lr;uk=1;var e=rE();function t(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(d,h,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:d,containerInfo:h,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Lr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Lr.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return i(d,h,null,p)},Lr.flushSync=function(d){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=h,r.p=p,r.d.f()}},Lr.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},Lr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Lr.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,m=u(p,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:y}):p==="script"&&r.d.X(d,{crossOrigin:m,integrity:g,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Lr.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},Lr.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,m=u(p,h.crossOrigin);r.d.L(d,p,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Lr.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},Lr.requestFormReset=function(d){r.d.r(d)},Lr.unstable_batchedUpdates=function(d,h){return d(h)},Lr.useFormState=function(d,h,p){return l.H.useFormState(d,h,p)},Lr.useFormStatus=function(){return l.H.useHostTransitionStatus()},Lr.version="19.2.3",Lr}var dk;function b5(){if(dk)return Ax.exports;dk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ax.exports=nV(),Ax.exports}var bv=b5();const Kl=Tn(bv);function rV(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function Ox(e){return e?.current?e.current.scrollHeight:"auto"}const Tf=typeof window<"u"&&window.requestAnimationFrame,fk=0,aV=e=>({height:0,overflow:"hidden",...e?{}:{display:"none"}});function iV({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:r,keepMounted:a=!1}){const i=b.useRef(null),l=aV(a),[u,d]=b.useState(r?{}:l),h=S=>{bv.flushSync(()=>d(S))},p=S=>{h(x=>({...x,...S}))};function m(S){const x=e||rV(S);return{transition:`height ${x}ms ${t}, opacity ${x}ms ${t}`}}Zs(()=>{typeof Tf=="function"&&Tf(r?()=>{p({willChange:"height",display:"block",overflow:"hidden"}),Tf(()=>{const S=Ox(i);p({...m(S),height:S})})}:()=>{const S=Ox(i);p({...m(S),willChange:"height",height:S}),Tf(()=>p({height:fk,overflow:"hidden"}))})},[r]);const g=S=>{if(!(S.target!==i.current||S.propertyName!=="height"))if(r){const x=Ox(i);x===u.height?h({}):p({height:x}),n()}else u.height===fk&&(h(l),n())};function y({style:S={},refKey:x="ref",...C}={}){const T=C[x],j={"aria-hidden":!r,...C,[x]:o5(i,T),onTransitionEnd:g,style:{boxSizing:"border-box",...S,...u}};return te.version.startsWith("18")?r||(j.inert=""):j.inert=!r,j}return y}const oV={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},x5=xe((e,t)=>{const{children:n,in:r,transitionDuration:a,transitionTimingFunction:i,style:l,onTransitionEnd:u,animateOpacity:d,keepMounted:h,...p}=se("Collapse",oV,e),m=wn(),g=mv(),S=(m.respectReducedMotion?g:!1)?0:a,x=iV({opened:r,transitionDuration:S,transitionTimingFunction:i,onTransitionEnd:u,keepMounted:h});return S===0?r?s.jsx(ne,{...p,children:n}):null:s.jsx(ne,{...x({style:{opacity:r||!d?1:0,transition:d?`opacity ${S}ms ${i}`:"none",...mE(l,m)},ref:t,...p}),children:n})});x5.displayName="@mantine/core/Collapse";function xv(){return typeof window<"u"}function pd(e){return S5(e)?(e.nodeName||"").toLowerCase():"#document"}function da(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Co(e){var t;return(t=(S5(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function S5(e){return xv()?e instanceof Node||e instanceof da(e).Node:!1}function bn(e){return xv()?e instanceof Element||e instanceof da(e).Element:!1}function za(e){return xv()?e instanceof HTMLElement||e instanceof da(e).HTMLElement:!1}function sj(e){return!xv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof da(e).ShadowRoot}const sV=new Set(["inline","contents"]);function Oh(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=fi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!sV.has(a)}const lV=new Set(["table","td","th"]);function cV(e){return lV.has(pd(e))}const uV=[":popover-open",":modal"];function Sv(e){return uV.some(t=>{try{return e.matches(t)}catch{return!1}})}const dV=["transform","translate","scale","rotate","perspective"],fV=["transform","translate","scale","rotate","perspective","filter"],hV=["paint","layout","strict","content"];function gE(e){const t=wv(),n=bn(e)?fi(e):e;return dV.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||fV.some(r=>(n.willChange||"").includes(r))||hV.some(r=>(n.contain||"").includes(r))}function pV(e){let t=Zo(e);for(;za(t)&&!Yo(t);){if(gE(t))return t;if(Sv(t))return null;t=Zo(t)}return null}function wv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mV=new Set(["html","body","#document"]);function Yo(e){return mV.has(pd(e))}function fi(e){return da(e).getComputedStyle(e)}function Cv(e){return bn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Zo(e){if(pd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||sj(e)&&e.host||Co(e);return sj(t)?t.host:t}function w5(e){const t=Zo(e);return Yo(t)?e.ownerDocument?e.ownerDocument.body:e.body:za(t)&&Oh(t)?t:w5(t)}function Qo(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=w5(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),l=da(a);if(i){const u=lj(l);return t.concat(l,l.visualViewport||[],Oh(a)?a:[],u&&n?Qo(u):[])}return t.concat(a,Qo(a,[],n))}function lj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const gV=["top","right","bottom","left"],$i=Math.min,Ur=Math.max,Ig=Math.round,Mm=Math.floor,uo=e=>({x:e,y:e}),vV={left:"right",right:"left",bottom:"top",top:"bottom"},yV={start:"end",end:"start"};function cj(e,t,n){return Ur(e,$i(t,n))}function vo(e,t){return typeof e=="function"?e(t):e}function qi(e){return e.split("-")[0]}function md(e){return e.split("-")[1]}function vE(e){return e==="x"?"y":"x"}function yE(e){return e==="y"?"height":"width"}const bV=new Set(["top","bottom"]);function Ni(e){return bV.has(qi(e))?"y":"x"}function bE(e){return vE(Ni(e))}function xV(e,t,n){n===void 0&&(n=!1);const r=md(e),a=bE(e),i=yE(a);let l=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=Lg(l)),[l,Lg(l)]}function SV(e){const t=Lg(e);return[uj(e),t,uj(t)]}function uj(e){return e.replace(/start|end/g,t=>yV[t])}const hk=["left","right"],pk=["right","left"],wV=["top","bottom"],CV=["bottom","top"];function jV(e,t,n){switch(e){case"top":case"bottom":return n?t?pk:hk:t?hk:pk;case"left":case"right":return t?wV:CV;default:return[]}}function EV(e,t,n,r){const a=md(e);let i=jV(qi(e),n==="start",r);return a&&(i=i.map(l=>l+"-"+a),t&&(i=i.concat(i.map(uj)))),i}function Lg(e){return e.replace(/left|right|bottom|top/g,t=>vV[t])}function TV(e){return{top:0,right:0,bottom:0,left:0,...e}}function xE(e){return typeof e!="number"?TV(e):{top:e,right:e,bottom:e,left:e}}function Qu(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function RV(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function _V(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function DV(){return/apple/i.test(navigator.vendor)}function AV(){return RV().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function OV(){return _V().includes("jsdom/")}const mk="data-floating-ui-focusable",kV="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function gk(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function th(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&sj(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function $u(e){return"composedPath"in e?e.composedPath()[0]:e.target}function kx(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function MV(e){return e.matches("html,body")}function Xl(e){return e?.ownerDocument||document}function PV(e){return za(e)&&e.matches(kV)}function NV(e){if(!e||OV())return!0;try{return e.matches(":focus-visible")}catch{return!0}}function IV(e){return e?e.hasAttribute(mk)?e:e.querySelector("["+mk+"]")||e:null}function sg(e,t,n){return n===void 0&&(n=!0),e.filter(a=>{var i;return a.parentId===t&&(!n||((i=a.context)==null?void 0:i.open))}).flatMap(a=>[a,...sg(e,a.id,n)])}function LV(e){return"nativeEvent"in e}function dj(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}var zV=typeof document<"u",$V=function(){},fo=zV?b.useLayoutEffect:$V;const qV={...aE};function Pm(e){const t=b.useRef(e);return fo(()=>{t.current=e}),t}const UV=qV.useInsertionEffect,BV=UV||(e=>e());function lo(e){const t=b.useRef(()=>{});return BV(()=>{t.current=e}),b.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}function vk(e,t,n){let{reference:r,floating:a}=e;const i=Ni(t),l=bE(t),u=yE(l),d=qi(t),h=i==="y",p=r.x+r.width/2-a.width/2,m=r.y+r.height/2-a.height/2,g=r[u]/2-a[u]/2;let y;switch(d){case"top":y={x:p,y:r.y-a.height};break;case"bottom":y={x:p,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:m};break;case"left":y={x:r.x-a.width,y:m};break;default:y={x:r.x,y:r.y}}switch(md(t)){case"start":y[l]-=g*(n&&h?-1:1);break;case"end":y[l]+=g*(n&&h?-1:1);break}return y}const HV=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:l}=n,u=i.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let h=await l.getElementRects({reference:e,floating:t,strategy:a}),{x:p,y:m}=vk(h,r,d),g=r,y={},S=0;for(let x=0;x<u.length;x++){const{name:C,fn:T}=u[x],{x:j,y:R,data:_,reset:A}=await T({x:p,y:m,initialPlacement:r,placement:g,strategy:a,middlewareData:y,rects:h,platform:l,elements:{reference:e,floating:t}});p=j??p,m=R??m,y={...y,[C]:{...y[C],..._}},A&&S<=50&&(S++,typeof A=="object"&&(A.placement&&(g=A.placement),A.rects&&(h=A.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:a}):A.rects),{x:p,y:m}=vk(h,g,d)),x=-1)}return{x:p,y:m,placement:g,strategy:a,middlewareData:y}};async function nh(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:i,rects:l,elements:u,strategy:d}=e,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:g=!1,padding:y=0}=vo(t,e),S=xE(y),C=u[g?m==="floating"?"reference":"floating":m],T=Qu(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(C)))==null||n?C:C.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:h,rootBoundary:p,strategy:d})),j=m==="floating"?{x:r,y:a,width:l.floating.width,height:l.floating.height}:l.reference,R=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),_=await(i.isElement==null?void 0:i.isElement(R))?await(i.getScale==null?void 0:i.getScale(R))||{x:1,y:1}:{x:1,y:1},A=Qu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:j,offsetParent:R,strategy:d}):j);return{top:(T.top-A.top+S.top)/_.y,bottom:(A.bottom-T.bottom+S.bottom)/_.y,left:(T.left-A.left+S.left)/_.x,right:(A.right-T.right+S.right)/_.x}}const FV=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:i,platform:l,elements:u,middlewareData:d}=t,{element:h,padding:p=0}=vo(e,t)||{};if(h==null)return{};const m=xE(p),g={x:n,y:r},y=bE(a),S=yE(y),x=await l.getDimensions(h),C=y==="y",T=C?"top":"left",j=C?"bottom":"right",R=C?"clientHeight":"clientWidth",_=i.reference[S]+i.reference[y]-g[y]-i.floating[S],A=g[y]-i.reference[y],k=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let D=k?k[R]:0;(!D||!await(l.isElement==null?void 0:l.isElement(k)))&&(D=u.floating[R]||i.floating[S]);const O=_/2-A/2,M=D/2-x[S]/2-1,I=$i(m[T],M),L=$i(m[j],M),V=I,q=D-x[S]-L,U=D/2-x[S]/2+O,W=cj(V,U,q),N=!d.arrow&&md(a)!=null&&U!==W&&i.reference[S]/2-(U<V?I:L)-x[S]/2<0,z=N?U<V?U-V:U-q:0;return{[y]:g[y]+z,data:{[y]:W,centerOffset:U-W-z,...N&&{alignmentOffset:z}},reset:N}}}),VV=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:l,initialPlacement:u,platform:d,elements:h}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:x=!0,...C}=vo(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const T=qi(a),j=Ni(u),R=qi(u)===u,_=await(d.isRTL==null?void 0:d.isRTL(h.floating)),A=g||(R||!x?[Lg(u)]:SV(u)),k=S!=="none";!g&&k&&A.push(...EV(u,x,S,_));const D=[u,...A],O=await nh(t,C),M=[];let I=((r=i.flip)==null?void 0:r.overflows)||[];if(p&&M.push(O[T]),m){const U=xV(a,l,_);M.push(O[U[0]],O[U[1]])}if(I=[...I,{placement:a,overflows:M}],!M.every(U=>U<=0)){var L,V;const U=(((L=i.flip)==null?void 0:L.index)||0)+1,W=D[U];if(W&&(!(m==="alignment"?j!==Ni(W):!1)||I.every($=>Ni($.placement)===j?$.overflows[0]>0:!0)))return{data:{index:U,overflows:I},reset:{placement:W}};let N=(V=I.filter(z=>z.overflows[0]<=0).sort((z,$)=>z.overflows[1]-$.overflows[1])[0])==null?void 0:V.placement;if(!N)switch(y){case"bestFit":{var q;const z=(q=I.filter($=>{if(k){const G=Ni($.placement);return G===j||G==="y"}return!0}).map($=>[$.placement,$.overflows.filter(G=>G>0).reduce((G,X)=>G+X,0)]).sort(($,G)=>$[1]-G[1])[0])==null?void 0:q[0];z&&(N=z);break}case"initialPlacement":N=u;break}if(a!==N)return{reset:{placement:N}}}return{}}}};function yk(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function bk(e){return gV.some(t=>e[t]>=0)}const WV=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=vo(e,t);switch(r){case"referenceHidden":{const i=await nh(t,{...a,elementContext:"reference"}),l=yk(i,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:bk(l)}}}case"escaped":{const i=await nh(t,{...a,altBoundary:!0}),l=yk(i,n.floating);return{data:{escapedOffsets:l,escaped:bk(l)}}}default:return{}}}}};function C5(e){const t=$i(...e.map(i=>i.left)),n=$i(...e.map(i=>i.top)),r=Ur(...e.map(i=>i.right)),a=Ur(...e.map(i=>i.bottom));return{x:t,y:n,width:r-t,height:a-n}}function GV(e){const t=e.slice().sort((a,i)=>a.y-i.y),n=[];let r=null;for(let a=0;a<t.length;a++){const i=t[a];!r||i.y-r.y>r.height/2?n.push([i]):n[n.length-1].push(i),r=i}return n.map(a=>Qu(C5(a)))}const YV=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:a,platform:i,strategy:l}=t,{padding:u=2,x:d,y:h}=vo(e,t),p=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(r.reference))||[]),m=GV(p),g=Qu(C5(p)),y=xE(u);function S(){if(m.length===2&&m[0].left>m[1].right&&d!=null&&h!=null)return m.find(C=>d>C.left-y.left&&d<C.right+y.right&&h>C.top-y.top&&h<C.bottom+y.bottom)||g;if(m.length>=2){if(Ni(n)==="y"){const I=m[0],L=m[m.length-1],V=qi(n)==="top",q=I.top,U=L.bottom,W=V?I.left:L.left,N=V?I.right:L.right,z=N-W,$=U-q;return{top:q,bottom:U,left:W,right:N,width:z,height:$,x:W,y:q}}const C=qi(n)==="left",T=Ur(...m.map(I=>I.right)),j=$i(...m.map(I=>I.left)),R=m.filter(I=>C?I.left===j:I.right===T),_=R[0].top,A=R[R.length-1].bottom,k=j,D=T,O=D-k,M=A-_;return{top:_,bottom:A,left:k,right:D,width:O,height:M,x:k,y:_}}return g}const x=await i.getElementRects({reference:{getBoundingClientRect:S},floating:r.floating,strategy:l});return a.reference.x!==x.reference.x||a.reference.y!==x.reference.y||a.reference.width!==x.reference.width||a.reference.height!==x.reference.height?{reset:{rects:x}}:{}}}},j5=new Set(["left","top"]);async function QV(e,t){const{placement:n,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),l=qi(n),u=md(n),d=Ni(n)==="y",h=j5.has(l)?-1:1,p=i&&d?-1:1,m=vo(t,e);let{mainAxis:g,crossAxis:y,alignmentAxis:S}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof S=="number"&&(y=u==="end"?S*-1:S),d?{x:y*p,y:g*h}:{x:g*h,y:y*p}}const KV=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:l,middlewareData:u}=t,d=await QV(t,e);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:a+d.x,y:i+d.y,data:{...d,placement:l}}}}},XV=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:l=!1,limiter:u={fn:C=>{let{x:T,y:j}=C;return{x:T,y:j}}},...d}=vo(e,t),h={x:n,y:r},p=await nh(t,d),m=Ni(qi(a)),g=vE(m);let y=h[g],S=h[m];if(i){const C=g==="y"?"top":"left",T=g==="y"?"bottom":"right",j=y+p[C],R=y-p[T];y=cj(j,y,R)}if(l){const C=m==="y"?"top":"left",T=m==="y"?"bottom":"right",j=S+p[C],R=S-p[T];S=cj(j,S,R)}const x=u.fn({...t,[g]:y,[m]:S});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[g]:i,[m]:l}}}}}},ZV=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:i,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:h=!0}=vo(e,t),p={x:n,y:r},m=Ni(a),g=vE(m);let y=p[g],S=p[m];const x=vo(u,t),C=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(d){const R=g==="y"?"height":"width",_=i.reference[g]-i.floating[R]+C.mainAxis,A=i.reference[g]+i.reference[R]-C.mainAxis;y<_?y=_:y>A&&(y=A)}if(h){var T,j;const R=g==="y"?"width":"height",_=j5.has(qi(a)),A=i.reference[m]-i.floating[R]+(_&&((T=l.offset)==null?void 0:T[m])||0)+(_?0:C.crossAxis),k=i.reference[m]+i.reference[R]+(_?0:((j=l.offset)==null?void 0:j[m])||0)-(_?C.crossAxis:0);S<A?S=A:S>k&&(S=k)}return{[g]:y,[m]:S}}}},JV=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:i,platform:l,elements:u}=t,{apply:d=()=>{},...h}=vo(e,t),p=await nh(t,h),m=qi(a),g=md(a),y=Ni(a)==="y",{width:S,height:x}=i.floating;let C,T;m==="top"||m==="bottom"?(C=m,T=g===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(T=m,C=g==="end"?"top":"bottom");const j=x-p.top-p.bottom,R=S-p.left-p.right,_=$i(x-p[C],j),A=$i(S-p[T],R),k=!t.middlewareData.shift;let D=_,O=A;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(O=R),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(D=j),k&&!g){const I=Ur(p.left,0),L=Ur(p.right,0),V=Ur(p.top,0),q=Ur(p.bottom,0);y?O=S-2*(I!==0||L!==0?I+L:Ur(p.left,p.right)):D=x-2*(V!==0||q!==0?V+q:Ur(p.top,p.bottom))}await d({...t,availableWidth:O,availableHeight:D});const M=await l.getDimensions(u.floating);return S!==M.width||x!==M.height?{reset:{rects:!0}}:{}}}};function E5(e){const t=fi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=za(e),i=a?e.offsetWidth:n,l=a?e.offsetHeight:r,u=Ig(n)!==i||Ig(r)!==l;return u&&(n=i,r=l),{width:n,height:r,$:u}}function SE(e){return bn(e)?e:e.contextElement}function Vu(e){const t=SE(e);if(!za(t))return uo(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=E5(t);let l=(i?Ig(n.width):n.width)/r,u=(i?Ig(n.height):n.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const eW=uo(0);function T5(e){const t=da(e);return!wv()||!t.visualViewport?eW:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function tW(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==da(e)?!1:t}function sc(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=SE(e);let l=uo(1);t&&(r?bn(r)&&(l=Vu(r)):l=Vu(e));const u=tW(i,n,r)?T5(i):uo(0);let d=(a.left+u.x)/l.x,h=(a.top+u.y)/l.y,p=a.width/l.x,m=a.height/l.y;if(i){const g=da(i),y=r&&bn(r)?da(r):r;let S=g,x=lj(S);for(;x&&r&&y!==S;){const C=Vu(x),T=x.getBoundingClientRect(),j=fi(x),R=T.left+(x.clientLeft+parseFloat(j.paddingLeft))*C.x,_=T.top+(x.clientTop+parseFloat(j.paddingTop))*C.y;d*=C.x,h*=C.y,p*=C.x,m*=C.y,d+=R,h+=_,S=da(x),x=lj(S)}}return Qu({width:p,height:m,x:d,y:h})}function jv(e,t){const n=Cv(e).scrollLeft;return t?t.left+n:sc(Co(e)).left+n}function R5(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-jv(e,n),a=n.top+t.scrollTop;return{x:r,y:a}}function nW(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i=a==="fixed",l=Co(r),u=t?Sv(t.floating):!1;if(r===l||u&&i)return n;let d={scrollLeft:0,scrollTop:0},h=uo(1);const p=uo(0),m=za(r);if((m||!m&&!i)&&((pd(r)!=="body"||Oh(l))&&(d=Cv(r)),za(r))){const y=sc(r);h=Vu(r),p.x=y.x+r.clientLeft,p.y=y.y+r.clientTop}const g=l&&!m&&!i?R5(l,d):uo(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+p.x+g.x,y:n.y*h.y-d.scrollTop*h.y+p.y+g.y}}function rW(e){return Array.from(e.getClientRects())}function aW(e){const t=Co(e),n=Cv(e),r=e.ownerDocument.body,a=Ur(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Ur(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+jv(e);const u=-n.scrollTop;return fi(r).direction==="rtl"&&(l+=Ur(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:l,y:u}}const xk=25;function iW(e,t){const n=da(e),r=Co(e),a=n.visualViewport;let i=r.clientWidth,l=r.clientHeight,u=0,d=0;if(a){i=a.width,l=a.height;const p=wv();(!p||p&&t==="fixed")&&(u=a.offsetLeft,d=a.offsetTop)}const h=jv(r);if(h<=0){const p=r.ownerDocument,m=p.body,g=getComputedStyle(m),y=p.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,S=Math.abs(r.clientWidth-m.clientWidth-y);S<=xk&&(i-=S)}else h<=xk&&(i+=h);return{width:i,height:l,x:u,y:d}}const oW=new Set(["absolute","fixed"]);function sW(e,t){const n=sc(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=za(e)?Vu(e):uo(1),l=e.clientWidth*i.x,u=e.clientHeight*i.y,d=a*i.x,h=r*i.y;return{width:l,height:u,x:d,y:h}}function Sk(e,t,n){let r;if(t==="viewport")r=iW(e,n);else if(t==="document")r=aW(Co(e));else if(bn(t))r=sW(t,n);else{const a=T5(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Qu(r)}function _5(e,t){const n=Zo(e);return n===t||!bn(n)||Yo(n)?!1:fi(n).position==="fixed"||_5(n,t)}function lW(e,t){const n=t.get(e);if(n)return n;let r=Qo(e,[],!1).filter(u=>bn(u)&&pd(u)!=="body"),a=null;const i=fi(e).position==="fixed";let l=i?Zo(e):e;for(;bn(l)&&!Yo(l);){const u=fi(l),d=gE(l);!d&&u.position==="fixed"&&(a=null),(i?!d&&!a:!d&&u.position==="static"&&!!a&&oW.has(a.position)||Oh(l)&&!d&&_5(e,l))?r=r.filter(p=>p!==l):a=u,l=Zo(l)}return t.set(e,r),r}function cW(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const l=[...n==="clippingAncestors"?Sv(t)?[]:lW(t,this._c):[].concat(n),r],u=l[0],d=l.reduce((h,p)=>{const m=Sk(t,p,a);return h.top=Ur(m.top,h.top),h.right=$i(m.right,h.right),h.bottom=$i(m.bottom,h.bottom),h.left=Ur(m.left,h.left),h},Sk(t,u,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function uW(e){const{width:t,height:n}=E5(e);return{width:t,height:n}}function dW(e,t,n){const r=za(t),a=Co(t),i=n==="fixed",l=sc(e,!0,i,t);let u={scrollLeft:0,scrollTop:0};const d=uo(0);function h(){d.x=jv(a)}if(r||!r&&!i)if((pd(t)!=="body"||Oh(a))&&(u=Cv(t)),r){const y=sc(t,!0,i,t);d.x=y.x+t.clientLeft,d.y=y.y+t.clientTop}else a&&h();i&&!r&&a&&h();const p=a&&!r&&!i?R5(a,u):uo(0),m=l.left+u.scrollLeft-d.x-p.x,g=l.top+u.scrollTop-d.y-p.y;return{x:m,y:g,width:l.width,height:l.height}}function Mx(e){return fi(e).position==="static"}function wk(e,t){if(!za(e)||fi(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Co(e)===n&&(n=n.ownerDocument.body),n}function D5(e,t){const n=da(e);if(Sv(e))return n;if(!za(e)){let a=Zo(e);for(;a&&!Yo(a);){if(bn(a)&&!Mx(a))return a;a=Zo(a)}return n}let r=wk(e,t);for(;r&&cV(r)&&Mx(r);)r=wk(r,t);return r&&Yo(r)&&Mx(r)&&!gE(r)?n:r||pV(e)||n}const fW=async function(e){const t=this.getOffsetParent||D5,n=this.getDimensions,r=await n(e.floating);return{reference:dW(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function hW(e){return fi(e).direction==="rtl"}const pW={convertOffsetParentRelativeRectToViewportRelativeRect:nW,getDocumentElement:Co,getClippingRect:cW,getOffsetParent:D5,getElementRects:fW,getClientRects:rW,getDimensions:uW,getScale:Vu,isElement:bn,isRTL:hW};function A5(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function mW(e,t){let n=null,r;const a=Co(e);function i(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),i();const h=e.getBoundingClientRect(),{left:p,top:m,width:g,height:y}=h;if(u||t(),!g||!y)return;const S=Mm(m),x=Mm(a.clientWidth-(p+g)),C=Mm(a.clientHeight-(m+y)),T=Mm(p),R={rootMargin:-S+"px "+-x+"px "+-C+"px "+-T+"px",threshold:Ur(0,$i(1,d))||1};let _=!0;function A(k){const D=k[0].intersectionRatio;if(D!==d){if(!_)return l();D?l(!1,D):r=setTimeout(()=>{l(!1,1e-7)},1e3)}D===1&&!A5(h,e.getBoundingClientRect())&&l(),_=!1}try{n=new IntersectionObserver(A,{...R,root:a.ownerDocument})}catch{n=new IntersectionObserver(A,R)}n.observe(e)}return l(!0),i}function fj(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=SE(e),p=a||i?[...h?Qo(h):[],...Qo(t)]:[];p.forEach(T=>{a&&T.addEventListener("scroll",n,{passive:!0}),i&&T.addEventListener("resize",n)});const m=h&&u?mW(h,n):null;let g=-1,y=null;l&&(y=new ResizeObserver(T=>{let[j]=T;j&&j.target===h&&y&&(y.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var R;(R=y)==null||R.observe(t)})),n()}),h&&!d&&y.observe(h),y.observe(t));let S,x=d?sc(e):null;d&&C();function C(){const T=sc(e);x&&!A5(x,T)&&n(),x=T,S=requestAnimationFrame(C)}return n(),()=>{var T;p.forEach(j=>{a&&j.removeEventListener("scroll",n),i&&j.removeEventListener("resize",n)}),m?.(),(T=y)==null||T.disconnect(),y=null,d&&cancelAnimationFrame(S)}}const gW=KV,vW=XV,yW=VV,bW=JV,xW=WV,Ck=FV,SW=YV,wW=ZV,CW=(e,t,n)=>{const r=new Map,a={platform:pW,...n},i={...a.platform,_c:r};return HV(e,t,{...a,platform:i})};var jW=typeof document<"u",EW=function(){},lg=jW?b.useLayoutEffect:EW;function zg(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!zg(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&e.$$typeof)&&!zg(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function O5(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function jk(e,t){const n=O5(e);return Math.round(t*n)/n}function Px(e){const t=b.useRef(e);return lg(()=>{t.current=e}),t}function TW(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:l}={},transform:u=!0,whileElementsMounted:d,open:h}=e,[p,m]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,y]=b.useState(r);zg(g,r)||y(r);const[S,x]=b.useState(null),[C,T]=b.useState(null),j=b.useCallback($=>{$!==k.current&&(k.current=$,x($))},[]),R=b.useCallback($=>{$!==D.current&&(D.current=$,T($))},[]),_=i||S,A=l||C,k=b.useRef(null),D=b.useRef(null),O=b.useRef(p),M=d!=null,I=Px(d),L=Px(a),V=Px(h),q=b.useCallback(()=>{if(!k.current||!D.current)return;const $={placement:t,strategy:n,middleware:g};L.current&&($.platform=L.current),CW(k.current,D.current,$).then(G=>{const X={...G,isPositioned:V.current!==!1};U.current&&!zg(O.current,X)&&(O.current=X,bv.flushSync(()=>{m(X)}))})},[g,t,n,L,V]);lg(()=>{h===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,m($=>({...$,isPositioned:!1})))},[h]);const U=b.useRef(!1);lg(()=>(U.current=!0,()=>{U.current=!1}),[]),lg(()=>{if(_&&(k.current=_),A&&(D.current=A),_&&A){if(I.current)return I.current(_,A,q);q()}},[_,A,q,I,M]);const W=b.useMemo(()=>({reference:k,floating:D,setReference:j,setFloating:R}),[j,R]),N=b.useMemo(()=>({reference:_,floating:A}),[_,A]),z=b.useMemo(()=>{const $={position:n,left:0,top:0};if(!N.floating)return $;const G=jk(N.floating,p.x),X=jk(N.floating,p.y);return u?{...$,transform:"translate("+G+"px, "+X+"px)",...O5(N.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:X}},[n,u,N.floating,p.x,p.y]);return b.useMemo(()=>({...p,update:q,refs:W,elements:N,floatingStyles:z}),[p,q,W,N,z])}const RW=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Ck({element:r.current,padding:a}).fn(n):{}:r?Ck({element:r,padding:a}).fn(n):{}}}},k5=(e,t)=>({...gW(e),options:[e,t]}),wE=(e,t)=>({...vW(e),options:[e,t]}),Ek=(e,t)=>({...wW(e),options:[e,t]}),$g=(e,t)=>({...yW(e),options:[e,t]}),_W=(e,t)=>({...bW(e),options:[e,t]}),DW=(e,t)=>({...xW(e),options:[e,t]}),Gf=(e,t)=>({...SW(e),options:[e,t]}),M5=(e,t)=>({...RW(e),options:[e,t]});function P5(e){const t=b.useRef(void 0),n=b.useCallback(r=>{const a=e.map(i=>{if(i!=null){if(typeof i=="function"){const l=i,u=l(r);return typeof u=="function"?u:()=>{l(null)}}return i.current=r,()=>{i.current=null}}});return()=>{a.forEach(i=>i?.())}},e);return b.useMemo(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}const AW="data-floating-ui-focusable",Tk="active",Rk="selected",OW={...aE};let _k=!1,kW=0;const Dk=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+kW++;function MW(){const[e,t]=b.useState(()=>_k?Dk():void 0);return fo(()=>{e==null&&t(Dk())},[]),b.useEffect(()=>{_k=!0},[]),e}const PW=OW.useId,N5=PW||MW;function NW(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(a=>a(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const IW=b.createContext(null),LW=b.createContext(null),CE=()=>{var e;return((e=b.useContext(IW))==null?void 0:e.id)||null},jE=()=>b.useContext(LW);function EE(e){return"data-floating-ui-"+e}function oi(e){e.current!==-1&&(clearTimeout(e.current),e.current=-1)}const Ak=EE("safe-polygon");function cg(e,t,n){if(n&&!dj(n))return 0;if(typeof e=="number")return e;if(typeof e=="function"){const r=e();return typeof r=="number"?r:r?.[t]}return e?.[t]}function Nx(e){return typeof e=="function"?e():e}function zW(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:a,events:i,elements:l}=e,{enabled:u=!0,delay:d=0,handleClose:h=null,mouseOnly:p=!1,restMs:m=0,move:g=!0}=t,y=jE(),S=CE(),x=Pm(h),C=Pm(d),T=Pm(n),j=Pm(m),R=b.useRef(),_=b.useRef(-1),A=b.useRef(),k=b.useRef(-1),D=b.useRef(!0),O=b.useRef(!1),M=b.useRef(()=>{}),I=b.useRef(!1),L=lo(()=>{var z;const $=(z=a.current.openEvent)==null?void 0:z.type;return $?.includes("mouse")&&$!=="mousedown"});b.useEffect(()=>{if(!u)return;function z($){let{open:G}=$;G||(oi(_),oi(k),D.current=!0,I.current=!1)}return i.on("openchange",z),()=>{i.off("openchange",z)}},[u,i]),b.useEffect(()=>{if(!u||!x.current||!n)return;function z(G){L()&&r(!1,G,"hover")}const $=Xl(l.floating).documentElement;return $.addEventListener("mouseleave",z),()=>{$.removeEventListener("mouseleave",z)}},[l.floating,n,r,u,x,L]);const V=b.useCallback(function(z,$,G){$===void 0&&($=!0),G===void 0&&(G="hover");const X=cg(C.current,"close",R.current);X&&!A.current?(oi(_),_.current=window.setTimeout(()=>r(!1,z,G),X)):$&&(oi(_),r(!1,z,G))},[C,r]),q=lo(()=>{M.current(),A.current=void 0}),U=lo(()=>{if(O.current){const z=Xl(l.floating).body;z.style.pointerEvents="",z.removeAttribute(Ak),O.current=!1}}),W=lo(()=>a.current.openEvent?["click","mousedown"].includes(a.current.openEvent.type):!1);b.useEffect(()=>{if(!u)return;function z(F){if(oi(_),D.current=!1,p&&!dj(R.current)||Nx(j.current)>0&&!cg(C.current,"open"))return;const Q=cg(C.current,"open",R.current);Q?_.current=window.setTimeout(()=>{T.current||r(!0,F,"hover")},Q):n||r(!0,F,"hover")}function $(F){if(W()){U();return}M.current();const Q=Xl(l.floating);if(oi(k),I.current=!1,x.current&&a.current.floatingContext){n||oi(_),A.current=x.current({...a.current.floatingContext,tree:y,x:F.clientX,y:F.clientY,onClose(){U(),q(),W()||V(F,!0,"safe-polygon")}});const re=A.current;Q.addEventListener("mousemove",re),M.current=()=>{Q.removeEventListener("mousemove",re)};return}(R.current==="touch"?!th(l.floating,F.relatedTarget):!0)&&V(F)}function G(F){W()||a.current.floatingContext&&(x.current==null||x.current({...a.current.floatingContext,tree:y,x:F.clientX,y:F.clientY,onClose(){U(),q(),W()||V(F)}})(F))}function X(){oi(_)}function H(F){W()||V(F,!1)}if(bn(l.domReference)){const F=l.domReference,Q=l.floating;return n&&F.addEventListener("mouseleave",G),g&&F.addEventListener("mousemove",z,{once:!0}),F.addEventListener("mouseenter",z),F.addEventListener("mouseleave",$),Q&&(Q.addEventListener("mouseleave",G),Q.addEventListener("mouseenter",X),Q.addEventListener("mouseleave",H)),()=>{n&&F.removeEventListener("mouseleave",G),g&&F.removeEventListener("mousemove",z),F.removeEventListener("mouseenter",z),F.removeEventListener("mouseleave",$),Q&&(Q.removeEventListener("mouseleave",G),Q.removeEventListener("mouseenter",X),Q.removeEventListener("mouseleave",H))}}},[l,u,e,p,g,V,q,U,r,n,T,y,C,x,a,W,j]),fo(()=>{var z;if(u&&n&&(z=x.current)!=null&&(z=z.__options)!=null&&z.blockPointerEvents&&L()){O.current=!0;const G=l.floating;if(bn(l.domReference)&&G){var $;const X=Xl(l.floating).body;X.setAttribute(Ak,"");const H=l.domReference,F=y==null||($=y.nodesRef.current.find(Q=>Q.id===S))==null||($=$.context)==null?void 0:$.elements.floating;return F&&(F.style.pointerEvents=""),X.style.pointerEvents="none",H.style.pointerEvents="auto",G.style.pointerEvents="auto",()=>{X.style.pointerEvents="",H.style.pointerEvents="",G.style.pointerEvents=""}}}},[u,n,S,l,y,x,L]),fo(()=>{n||(R.current=void 0,I.current=!1,q(),U())},[n,q,U]),b.useEffect(()=>()=>{q(),oi(_),oi(k),U()},[u,l.domReference,q,U]);const N=b.useMemo(()=>{function z($){R.current=$.pointerType}return{onPointerDown:z,onPointerEnter:z,onMouseMove($){const{nativeEvent:G}=$;function X(){!D.current&&!T.current&&r(!0,G,"hover")}p&&!dj(R.current)||n||Nx(j.current)===0||I.current&&$.movementX**2+$.movementY**2<2||(oi(k),R.current==="touch"?X():(I.current=!0,k.current=window.setTimeout(X,Nx(j.current))))}}},[p,r,n,T,j]);return b.useMemo(()=>u?{reference:N}:{},[u,N])}const hj=()=>{},I5=b.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:hj,setState:hj,isInstantPhase:!1}),$W=()=>b.useContext(I5);function qW(e){const{children:t,delay:n,timeoutMs:r=0}=e,[a,i]=b.useReducer((d,h)=>({...d,...h}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),l=b.useRef(null),u=b.useCallback(d=>{i({currentId:d})},[]);return fo(()=>{a.currentId?l.current===null?l.current=a.currentId:a.isInstantPhase||i({isInstantPhase:!0}):(a.isInstantPhase&&i({isInstantPhase:!1}),l.current=null)},[a.currentId,a.isInstantPhase]),s.jsx(I5.Provider,{value:b.useMemo(()=>({...a,setState:i,setCurrentId:u}),[a,u]),children:t})}function UW(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,floatingId:a}=e,{id:i,enabled:l=!0}=t,u=i??a,d=$W(),{currentId:h,setCurrentId:p,initialDelay:m,setState:g,timeoutMs:y}=d;return fo(()=>{l&&h&&(g({delay:{open:1,close:cg(m,"close")}}),h!==u&&r(!1))},[l,u,r,g,h,m]),fo(()=>{function S(){r(!1),g({delay:m,currentId:null})}if(l&&h&&!n&&h===u){if(y){const x=window.setTimeout(S,y);return()=>{clearTimeout(x)}}S()}},[l,n,g,h,u,r,m,y]),fo(()=>{l&&(p===hj||!n||p(u))},[l,n,p,u]),d}const BW={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},HW={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Ok=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e?.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e?.outsidePress)!=null?n:!0}};function FW(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:a,dataRef:i}=e,{enabled:l=!0,escapeKey:u=!0,outsidePress:d=!0,outsidePressEvent:h="pointerdown",referencePress:p=!1,referencePressEvent:m="pointerdown",ancestorScroll:g=!1,bubbles:y,capture:S}=t,x=jE(),C=lo(typeof d=="function"?d:()=>!1),T=typeof d=="function"?C:d,j=b.useRef(!1),{escapeKey:R,outsidePress:_}=Ok(y),{escapeKey:A,outsidePress:k}=Ok(S),D=b.useRef(!1),O=lo(U=>{var W;if(!n||!l||!u||U.key!=="Escape"||D.current)return;const N=(W=i.current.floatingContext)==null?void 0:W.nodeId,z=x?sg(x.nodesRef.current,N):[];if(!R&&(U.stopPropagation(),z.length>0)){let $=!0;if(z.forEach(G=>{var X;if((X=G.context)!=null&&X.open&&!G.context.dataRef.current.__escapeKeyBubbles){$=!1;return}}),!$)return}r(!1,LV(U)?U.nativeEvent:U,"escape-key")}),M=lo(U=>{var W;const N=()=>{var z;O(U),(z=$u(U))==null||z.removeEventListener("keydown",N)};(W=$u(U))==null||W.addEventListener("keydown",N)}),I=lo(U=>{var W;const N=i.current.insideReactTree;i.current.insideReactTree=!1;const z=j.current;if(j.current=!1,h==="click"&&z||N||typeof T=="function"&&!T(U))return;const $=$u(U),G="["+EE("inert")+"]",X=Xl(a.floating).querySelectorAll(G);let H=bn($)?$:null;for(;H&&!Yo(H);){const re=Zo(H);if(Yo(re)||!bn(re))break;H=re}if(X.length&&bn($)&&!MV($)&&!th($,a.floating)&&Array.from(X).every(re=>!th(H,re)))return;if(za($)&&q){const re=Yo($),ue=fi($),Ee=/auto|scroll/,Re=re||Ee.test(ue.overflowX),Se=re||Ee.test(ue.overflowY),Ge=Re&&$.clientWidth>0&&$.scrollWidth>$.clientWidth,Ze=Se&&$.clientHeight>0&&$.scrollHeight>$.clientHeight,Fe=ue.direction==="rtl",ze=Ze&&(Fe?U.offsetX<=$.offsetWidth-$.clientWidth:U.offsetX>$.clientWidth),pt=Ge&&U.offsetY>$.clientHeight;if(ze||pt)return}const F=(W=i.current.floatingContext)==null?void 0:W.nodeId,Q=x&&sg(x.nodesRef.current,F).some(re=>{var ue;return kx(U,(ue=re.context)==null?void 0:ue.elements.floating)});if(kx(U,a.floating)||kx(U,a.domReference)||Q)return;const J=x?sg(x.nodesRef.current,F):[];if(J.length>0){let re=!0;if(J.forEach(ue=>{var Ee;if((Ee=ue.context)!=null&&Ee.open&&!ue.context.dataRef.current.__outsidePressBubbles){re=!1;return}}),!re)return}r(!1,U,"outside-press")}),L=lo(U=>{var W;const N=()=>{var z;I(U),(z=$u(U))==null||z.removeEventListener(h,N)};(W=$u(U))==null||W.addEventListener(h,N)});b.useEffect(()=>{if(!n||!l)return;i.current.__escapeKeyBubbles=R,i.current.__outsidePressBubbles=_;let U=-1;function W(X){r(!1,X,"ancestor-scroll")}function N(){window.clearTimeout(U),D.current=!0}function z(){U=window.setTimeout(()=>{D.current=!1},wv()?5:0)}const $=Xl(a.floating);u&&($.addEventListener("keydown",A?M:O,A),$.addEventListener("compositionstart",N),$.addEventListener("compositionend",z)),T&&$.addEventListener(h,k?L:I,k);let G=[];return g&&(bn(a.domReference)&&(G=Qo(a.domReference)),bn(a.floating)&&(G=G.concat(Qo(a.floating))),!bn(a.reference)&&a.reference&&a.reference.contextElement&&(G=G.concat(Qo(a.reference.contextElement)))),G=G.filter(X=>{var H;return X!==((H=$.defaultView)==null?void 0:H.visualViewport)}),G.forEach(X=>{X.addEventListener("scroll",W,{passive:!0})}),()=>{u&&($.removeEventListener("keydown",A?M:O,A),$.removeEventListener("compositionstart",N),$.removeEventListener("compositionend",z)),T&&$.removeEventListener(h,k?L:I,k),G.forEach(X=>{X.removeEventListener("scroll",W)}),window.clearTimeout(U)}},[i,a,u,T,h,n,r,g,l,R,_,O,A,M,I,k,L]),b.useEffect(()=>{i.current.insideReactTree=!1},[i,T,h]);const V=b.useMemo(()=>({onKeyDown:O,...p&&{[BW[m]]:U=>{r(!1,U.nativeEvent,"reference-press")},...m!=="click"&&{onClick(U){r(!1,U.nativeEvent,"reference-press")}}}}),[O,r,p,m]),q=b.useMemo(()=>({onKeyDown:O,onMouseDown(){j.current=!0},onMouseUp(){j.current=!0},[HW[h]]:()=>{i.current.insideReactTree=!0}}),[O,h,i]);return b.useMemo(()=>l?{reference:V,floating:q}:{},[l,V,q])}function VW(e){const{open:t=!1,onOpenChange:n,elements:r}=e,a=N5(),i=b.useRef({}),[l]=b.useState(()=>NW()),u=CE()!=null,[d,h]=b.useState(r.reference),p=lo((y,S,x)=>{i.current.openEvent=y?S:void 0,l.emit("openchange",{open:y,event:S,reason:x,nested:u}),n?.(y,S,x)}),m=b.useMemo(()=>({setPositionReference:h}),[]),g=b.useMemo(()=>({reference:d||r.reference||null,floating:r.floating||null,domReference:r.reference}),[d,r.reference,r.floating]);return b.useMemo(()=>({dataRef:i,open:t,onOpenChange:p,elements:g,events:l,floatingId:a,refs:m}),[t,p,g,l,a,m])}function TE(e){e===void 0&&(e={});const{nodeId:t}=e,n=VW({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,a=r.elements,[i,l]=b.useState(null),[u,d]=b.useState(null),p=a?.domReference||i,m=b.useRef(null),g=jE();fo(()=>{p&&(m.current=p)},[p]);const y=TW({...e,elements:{...a,...u&&{reference:u}}}),S=b.useCallback(R=>{const _=bn(R)?{getBoundingClientRect:()=>R.getBoundingClientRect(),getClientRects:()=>R.getClientRects(),contextElement:R}:R;d(_),y.refs.setReference(_)},[y.refs]),x=b.useCallback(R=>{(bn(R)||R===null)&&(m.current=R,l(R)),(bn(y.refs.reference.current)||y.refs.reference.current===null||R!==null&&!bn(R))&&y.refs.setReference(R)},[y.refs]),C=b.useMemo(()=>({...y.refs,setReference:x,setPositionReference:S,domReference:m}),[y.refs,x,S]),T=b.useMemo(()=>({...y.elements,domReference:p}),[y.elements,p]),j=b.useMemo(()=>({...y,...r,refs:C,elements:T,nodeId:t}),[y,C,T,t,r]);return fo(()=>{r.dataRef.current.floatingContext=j;const R=g?.nodesRef.current.find(_=>_.id===t);R&&(R.context=j)}),b.useMemo(()=>({...y,context:j,refs:C,elements:T}),[y,C,T,j])}function Ix(){return AV()&&DV()}function WW(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:a,dataRef:i,elements:l}=e,{enabled:u=!0,visibleOnly:d=!0}=t,h=b.useRef(!1),p=b.useRef(-1),m=b.useRef(!0);b.useEffect(()=>{if(!u)return;const y=da(l.domReference);function S(){!n&&za(l.domReference)&&l.domReference===gk(Xl(l.domReference))&&(h.current=!0)}function x(){m.current=!0}function C(){m.current=!1}return y.addEventListener("blur",S),Ix()&&(y.addEventListener("keydown",x,!0),y.addEventListener("pointerdown",C,!0)),()=>{y.removeEventListener("blur",S),Ix()&&(y.removeEventListener("keydown",x,!0),y.removeEventListener("pointerdown",C,!0))}},[l.domReference,n,u]),b.useEffect(()=>{if(!u)return;function y(S){let{reason:x}=S;(x==="reference-press"||x==="escape-key")&&(h.current=!0)}return a.on("openchange",y),()=>{a.off("openchange",y)}},[a,u]),b.useEffect(()=>()=>{oi(p)},[]);const g=b.useMemo(()=>({onMouseLeave(){h.current=!1},onFocus(y){if(h.current)return;const S=$u(y.nativeEvent);if(d&&bn(S)){if(Ix()&&!y.relatedTarget){if(!m.current&&!PV(S))return}else if(!NV(S))return}r(!0,y.nativeEvent,"focus")},onBlur(y){h.current=!1;const S=y.relatedTarget,x=y.nativeEvent,C=bn(S)&&S.hasAttribute(EE("focus-guard"))&&S.getAttribute("data-type")==="outside";p.current=window.setTimeout(()=>{var T;const j=gk(l.domReference?l.domReference.ownerDocument:document);!S&&j===l.domReference||th((T=i.current.floatingContext)==null?void 0:T.refs.floating.current,j)||th(l.domReference,j)||C||r(!1,x,"focus")})}}),[i,l.domReference,r,d]);return b.useMemo(()=>u?{reference:g}:{},[u,g])}function Lx(e,t,n){const r=new Map,a=n==="item";let i=e;if(a&&e){const{[Tk]:l,[Rk]:u,...d}=e;i=d}return{...n==="floating"&&{tabIndex:-1,[AW]:""},...i,...t.map(l=>{const u=l?l[n]:null;return typeof u=="function"?e?u(e):null:u}).concat(e).reduce((l,u)=>(u&&Object.entries(u).forEach(d=>{let[h,p]=d;if(!(a&&[Tk,Rk].includes(h)))if(h.indexOf("on")===0){if(r.has(h)||r.set(h,[]),typeof p=="function"){var m;(m=r.get(h))==null||m.push(p),l[h]=function(){for(var g,y=arguments.length,S=new Array(y),x=0;x<y;x++)S[x]=arguments[x];return(g=r.get(h))==null?void 0:g.map(C=>C(...S)).find(C=>C!==void 0)}}}else l[h]=p}),l),{})}}function GW(e){e===void 0&&(e=[]);const t=e.map(u=>u?.reference),n=e.map(u=>u?.floating),r=e.map(u=>u?.item),a=b.useCallback(u=>Lx(u,e,"reference"),t),i=b.useCallback(u=>Lx(u,e,"floating"),n),l=b.useCallback(u=>Lx(u,e,"item"),r);return b.useMemo(()=>({getReferenceProps:a,getFloatingProps:i,getItemProps:l}),[a,i,l])}const YW=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function QW(e,t){var n,r;t===void 0&&(t={});const{open:a,elements:i,floatingId:l}=e,{enabled:u=!0,role:d="dialog"}=t,h=N5(),p=((n=i.domReference)==null?void 0:n.id)||h,m=b.useMemo(()=>{var j;return((j=IV(i.floating))==null?void 0:j.id)||l},[i.floating,l]),g=(r=YW.get(d))!=null?r:d,S=CE()!=null,x=b.useMemo(()=>g==="tooltip"||d==="label"?{["aria-"+(d==="label"?"labelledby":"describedby")]:a?m:void 0}:{"aria-expanded":a?"true":"false","aria-haspopup":g==="alertdialog"?"dialog":g,"aria-controls":a?m:void 0,...g==="listbox"&&{role:"combobox"},...g==="menu"&&{id:p},...g==="menu"&&S&&{role:"menuitem"},...d==="select"&&{"aria-autocomplete":"none"},...d==="combobox"&&{"aria-autocomplete":"list"}},[g,m,S,a,p,d]),C=b.useMemo(()=>{const j={id:m,...g&&{role:g}};return g==="tooltip"||d==="label"?j:{...j,...g==="menu"&&{"aria-labelledby":p}}},[g,m,p,d]),T=b.useCallback(j=>{let{active:R,selected:_}=j;const A={role:"option",...R&&{id:m+"-fui-option"}};switch(d){case"select":case"combobox":return{...A,"aria-selected":_}}return{}},[m,d]);return b.useMemo(()=>u?{reference:x,floating:C,item:T}:{},[u,x,C,T])}const[KW,bi]=yr("ScrollArea.Root component was not found in tree");function Ku(e,t){const n=Wl(t);Tc(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}const XW=b.forwardRef((e,t)=>{const{style:n,...r}=e,a=bi(),[i,l]=b.useState(0),[u,d]=b.useState(0),h=!!(i&&u);return Ku(a.scrollbarX,()=>{const p=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(p),d(p)}),Ku(a.scrollbarY,()=>{const p=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(p),l(p)}),h?s.jsx("div",{...r,ref:t,style:{...n,width:i,height:u}}):null}),ZW=b.forwardRef((e,t)=>{const n=bi(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(XW,{...e,ref:t}):null}),JW={scrollHideDelay:1e3,type:"hover"},L5=b.forwardRef((e,t)=>{const{type:n,scrollHideDelay:r,scrollbars:a,getStyles:i,...l}=se("ScrollAreaRoot",JW,e),[u,d]=b.useState(null),[h,p]=b.useState(null),[m,g]=b.useState(null),[y,S]=b.useState(null),[x,C]=b.useState(null),[T,j]=b.useState(0),[R,_]=b.useState(0),[A,k]=b.useState(!1),[D,O]=b.useState(!1),M=Yn(t,I=>d(I));return s.jsx(KW,{value:{type:n,scrollHideDelay:r,scrollArea:u,viewport:h,onViewportChange:p,content:m,onContentChange:g,scrollbarX:y,onScrollbarXChange:S,scrollbarXEnabled:A,onScrollbarXEnabledChange:k,scrollbarY:x,onScrollbarYChange:C,scrollbarYEnabled:D,onScrollbarYEnabledChange:O,onCornerWidthChange:j,onCornerHeightChange:_,getStyles:i},children:s.jsx(ne,{...l,ref:M,__vars:{"--sa-corner-width":a!=="xy"?"0px":`${T}px`,"--sa-corner-height":a!=="xy"?"0px":`${R}px`}})})});L5.displayName="@mantine/core/ScrollAreaRoot";function z5(e,t){const n=e/t;return Number.isNaN(n)?0:n}function Ev(e){const t=z5(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function $5(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function eG(e,[t,n]){return Math.min(n,Math.max(t,e))}function kk(e,t,n="ltr"){const r=Ev(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,l=t.content-t.viewport,u=i-r,d=n==="ltr"?[0,l]:[l*-1,0],h=eG(e,d);return $5([0,l],[0,u])(h)}function tG(e,t,n,r="ltr"){const a=Ev(n),i=a/2,l=t||i,u=a-l,d=n.scrollbar.paddingStart+l,h=n.scrollbar.size-n.scrollbar.paddingEnd-u,p=n.content-n.viewport,m=r==="ltr"?[0,p]:[p*-1,0];return $5([d,h],m)(e)}function q5(e,t){return e>0&&e<t}function Ws(e){return e?parseInt(e,10):0}function nc(e,t,{checkForDefaultPrevented:n=!0}={}){return r=>{e?.(r),(n===!1||!r.defaultPrevented)&&t?.(r)}}const[nG,U5]=yr("ScrollAreaScrollbar was not found in tree"),B5=b.forwardRef((e,t)=>{const{sizes:n,hasThumb:r,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:u,onDragScroll:d,onWheelScroll:h,onResize:p,...m}=e,g=bi(),[y,S]=b.useState(null),x=Yn(t,O=>S(O)),C=b.useRef(null),T=b.useRef(""),{viewport:j}=g,R=n.content-n.viewport,_=Wl(h),A=Wl(u),k=Xo(p,10),D=O=>{if(C.current){const M=O.clientX-C.current.left,I=O.clientY-C.current.top;d({x:M,y:I})}};return b.useEffect(()=>{const O=M=>{const I=M.target;y?.contains(I)&&_(M,R)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[j,y,R,_]),b.useEffect(A,[n,A]),Ku(y,k),Ku(g.content,k),s.jsx(nG,{value:{scrollbar:y,hasThumb:r,onThumbChange:Wl(a),onThumbPointerUp:Wl(i),onThumbPositionChange:A,onThumbPointerDown:Wl(l)},children:s.jsx("div",{...m,ref:x,"data-mantine-scrollbar":!0,style:{position:"absolute",...m.style},onPointerDown:nc(e.onPointerDown,O=>{O.preventDefault(),O.button===0&&(O.target.setPointerCapture(O.pointerId),C.current=y.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",D(O))}),onPointerMove:nc(e.onPointerMove,D),onPointerUp:nc(e.onPointerUp,O=>{const M=O.target;M.hasPointerCapture(O.pointerId)&&(O.preventDefault(),M.releasePointerCapture(O.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=T.current,C.current=null}})})}),H5=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:a,...i}=e,l=bi(),[u,d]=b.useState(),h=b.useRef(null),p=Yn(t,h,l.onScrollbarXChange);return b.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),s.jsx(B5,{"data-orientation":"horizontal",...i,ref:p,sizes:n,style:{...a,"--sa-thumb-width":`${Ev(n)}px`},onThumbPointerDown:m=>e.onThumbPointerDown(m.x),onDragScroll:m=>e.onDragScroll(m.x),onWheelScroll:(m,g)=>{if(l.viewport){const y=l.viewport.scrollLeft+m.deltaX;e.onWheelScroll(y),q5(y,g)&&m.preventDefault()}},onResize:()=>{h.current&&l.viewport&&u&&r({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:Ws(u.paddingLeft),paddingEnd:Ws(u.paddingRight)}})}})});H5.displayName="@mantine/core/ScrollAreaScrollbarX";const F5=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:a,...i}=e,l=bi(),[u,d]=b.useState(),h=b.useRef(null),p=Yn(t,h,l.onScrollbarYChange);return b.useEffect(()=>{h.current&&d(window.getComputedStyle(h.current))},[]),s.jsx(B5,{...i,"data-orientation":"vertical",ref:p,sizes:n,style:{"--sa-thumb-height":`${Ev(n)}px`,...a},onThumbPointerDown:m=>e.onThumbPointerDown(m.y),onDragScroll:m=>e.onDragScroll(m.y),onWheelScroll:(m,g)=>{if(l.viewport){const y=l.viewport.scrollTop+m.deltaY;e.onWheelScroll(y),q5(y,g)&&m.preventDefault()}},onResize:()=>{h.current&&l.viewport&&u&&r({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:Ws(u.paddingTop),paddingEnd:Ws(u.paddingBottom)}})}})});F5.displayName="@mantine/core/ScrollAreaScrollbarY";const Tv=b.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,{dir:a}=os(),i=bi(),l=b.useRef(null),u=b.useRef(0),[d,h]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=z5(d.viewport,d.content),m={...r,sizes:d,onSizesChange:h,hasThumb:p>0&&p<1,onThumbChange:y=>{l.current=y},onThumbPointerUp:()=>{u.current=0},onThumbPointerDown:y=>{u.current=y}},g=(y,S)=>tG(y,u.current,d,S);return n==="horizontal"?s.jsx(H5,{...m,ref:t,onThumbPositionChange:()=>{if(i.viewport&&l.current){const y=i.viewport.scrollLeft,S=kk(y,d,a);l.current.style.transform=`translate3d(${S}px, 0, 0)`}},onWheelScroll:y=>{i.viewport&&(i.viewport.scrollLeft=y)},onDragScroll:y=>{i.viewport&&(i.viewport.scrollLeft=g(y,a))}}):n==="vertical"?s.jsx(F5,{...m,ref:t,onThumbPositionChange:()=>{if(i.viewport&&l.current){const y=i.viewport.scrollTop,S=kk(y,d);d.scrollbar.size===0?l.current.style.setProperty("--thumb-opacity","0"):l.current.style.setProperty("--thumb-opacity","1"),l.current.style.transform=`translate3d(0, ${S}px, 0)`}},onWheelScroll:y=>{i.viewport&&(i.viewport.scrollTop=y)},onDragScroll:y=>{i.viewport&&(i.viewport.scrollTop=g(y))}}):null});Tv.displayName="@mantine/core/ScrollAreaScrollbarVisible";const RE=b.forwardRef((e,t)=>{const n=bi(),{forceMount:r,...a}=e,[i,l]=b.useState(!1),u=e.orientation==="horizontal",d=Xo(()=>{if(n.viewport){const h=n.viewport.offsetWidth<n.viewport.scrollWidth,p=n.viewport.offsetHeight<n.viewport.scrollHeight;l(u?h:p)}},10);return Ku(n.viewport,d),Ku(n.content,d),r||i?s.jsx(Tv,{"data-state":i?"visible":"hidden",...a,ref:t}):null});RE.displayName="@mantine/core/ScrollAreaScrollbarAuto";const V5=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=bi(),[i,l]=b.useState(!1);return b.useEffect(()=>{const{scrollArea:u}=a;let d=0;if(u){const h=()=>{window.clearTimeout(d),l(!0)},p=()=>{d=window.setTimeout(()=>l(!1),a.scrollHideDelay)};return u.addEventListener("pointerenter",h),u.addEventListener("pointerleave",p),()=>{window.clearTimeout(d),u.removeEventListener("pointerenter",h),u.removeEventListener("pointerleave",p)}}},[a.scrollArea,a.scrollHideDelay]),n||i?s.jsx(RE,{"data-state":i?"visible":"hidden",...r,ref:t}):null});V5.displayName="@mantine/core/ScrollAreaScrollbarHover";const rG=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=bi(),i=e.orientation==="horizontal",[l,u]=b.useState("hidden"),d=Xo(()=>u("idle"),100);return b.useEffect(()=>{if(l==="idle"){const h=window.setTimeout(()=>u("hidden"),a.scrollHideDelay);return()=>window.clearTimeout(h)}},[l,a.scrollHideDelay]),b.useEffect(()=>{const{viewport:h}=a,p=i?"scrollLeft":"scrollTop";if(h){let m=h[p];const g=()=>{const y=h[p];m!==y&&(u("scrolling"),d()),m=y};return h.addEventListener("scroll",g),()=>h.removeEventListener("scroll",g)}},[a.viewport,i,d]),n||l!=="hidden"?s.jsx(Tv,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:nc(e.onPointerEnter,()=>u("interacting")),onPointerLeave:nc(e.onPointerLeave,()=>u("idle"))}):null}),pj=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=bi(),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=a,u=e.orientation==="horizontal";return b.useEffect(()=>(u?i(!0):l(!0),()=>{u?i(!1):l(!1)}),[u,i,l]),a.type==="hover"?s.jsx(V5,{...r,ref:t,forceMount:n}):a.type==="scroll"?s.jsx(rG,{...r,ref:t,forceMount:n}):a.type==="auto"?s.jsx(RE,{...r,ref:t,forceMount:n}):a.type==="always"?s.jsx(Tv,{...r,ref:t}):null});pj.displayName="@mantine/core/ScrollAreaScrollbar";function aG(e,t=()=>{}){let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function a(){const i={left:e.scrollLeft,top:e.scrollTop},l=n.left!==i.left,u=n.top!==i.top;(l||u)&&t(),n=i,r=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(r)}const W5=b.forwardRef((e,t)=>{const{style:n,...r}=e,a=bi(),i=U5(),{onThumbPositionChange:l}=i,u=Yn(t,p=>i.onThumbChange(p)),d=b.useRef(void 0),h=Xo(()=>{d.current&&(d.current(),d.current=void 0)},100);return b.useEffect(()=>{const{viewport:p}=a;if(p){const m=()=>{if(h(),!d.current){const g=aG(p,l);d.current=g,l()}};return l(),p.addEventListener("scroll",m),()=>p.removeEventListener("scroll",m)}},[a.viewport,h,l]),s.jsx("div",{"data-state":i.hasThumb?"visible":"hidden",...r,ref:u,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:nc(e.onPointerDownCapture,p=>{const g=p.target.getBoundingClientRect(),y=p.clientX-g.left,S=p.clientY-g.top;i.onThumbPointerDown({x:y,y:S})}),onPointerUp:nc(e.onPointerUp,i.onThumbPointerUp)})});W5.displayName="@mantine/core/ScrollAreaThumb";const mj=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=U5();return n||a.hasThumb?s.jsx(W5,{ref:t,...r}):null});mj.displayName="@mantine/core/ScrollAreaThumb";const G5=b.forwardRef(({children:e,style:t,...n},r)=>{const a=bi(),i=Yn(r,a.onViewportChange);return s.jsx(ne,{...n,ref:i,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t},children:s.jsx("div",{...a.getStyles("content"),ref:a.onContentChange,children:e})})});G5.displayName="@mantine/core/ScrollAreaViewport";var _E={root:"m_d57069b5",content:"m_b1336c6",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const Y5={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},iG=(e,{scrollbarSize:t,overscrollBehavior:n})=>({root:{"--scrollarea-scrollbar-size":me(t),"--scrollarea-over-scroll-behavior":n}}),Sn=xe((e,t)=>{const n=se("ScrollArea",Y5,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,scrollbarSize:d,vars:h,type:p,scrollHideDelay:m,viewportProps:g,viewportRef:y,onScrollPositionChange:S,children:x,offsetScrollbars:C,scrollbars:T,onBottomReached:j,onTopReached:R,overscrollBehavior:_,attributes:A,...k}=n,[D,O]=b.useState(!1),[M,I]=b.useState(!1),[L,V]=b.useState(!1),q=Ne({name:"ScrollArea",props:n,classes:_E,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:A,vars:h,varsResolver:iG}),U=b.useRef(null),W=P5([y,U]);return b.useEffect(()=>{if(!U.current||C!=="present")return;const N=U.current,z=new ResizeObserver(()=>{const{scrollHeight:$,clientHeight:G,scrollWidth:X,clientWidth:H}=N;I($>G),V(X>H)});return z.observe(N),()=>z.disconnect()},[U,C]),s.jsxs(L5,{getStyles:q,type:p==="never"?"always":p,scrollHideDelay:m,ref:t,scrollbars:T,...q("root"),...k,children:[s.jsx(G5,{...g,...q("viewport",{style:g?.style}),ref:W,"data-offset-scrollbars":C===!0?"xy":C||void 0,"data-scrollbars":T||void 0,"data-horizontal-hidden":C==="present"&&!L?"true":void 0,"data-vertical-hidden":C==="present"&&!M?"true":void 0,onScroll:N=>{g?.onScroll?.(N),S?.({x:N.currentTarget.scrollLeft,y:N.currentTarget.scrollTop});const{scrollTop:z,scrollHeight:$,clientHeight:G}=N.currentTarget;z-($-G)>=-.6&&j?.(),z===0&&R?.()},children:x}),(T==="xy"||T==="x")&&s.jsx(pj,{...q("scrollbar"),orientation:"horizontal","data-hidden":p==="never"||C==="present"&&!L?!0:void 0,forceMount:!0,onMouseEnter:()=>O(!0),onMouseLeave:()=>O(!1),children:s.jsx(mj,{...q("thumb")})}),(T==="xy"||T==="y")&&s.jsx(pj,{...q("scrollbar"),orientation:"vertical","data-hidden":p==="never"||C==="present"&&!M?!0:void 0,forceMount:!0,onMouseEnter:()=>O(!0),onMouseLeave:()=>O(!1),children:s.jsx(mj,{...q("thumb")})}),s.jsx(ZW,{...q("corner"),"data-hovered":D||void 0,"data-hidden":p==="never"||void 0})]})});Sn.displayName="@mantine/core/ScrollArea";const Rv=xe((e,t)=>{const{children:n,classNames:r,styles:a,scrollbarSize:i,scrollHideDelay:l,type:u,dir:d,offsetScrollbars:h,viewportRef:p,onScrollPositionChange:m,unstyled:g,variant:y,viewportProps:S,scrollbars:x,style:C,vars:T,onBottomReached:j,onTopReached:R,onOverflowChange:_,...A}=se("ScrollAreaAutosize",Y5,e),k=b.useRef(null),D=P5([p,k]),[O,M]=b.useState(!1),I=b.useRef(!1);return b.useEffect(()=>{if(!_)return;const L=k.current;if(!L)return;const V=()=>{const U=L.scrollHeight>L.clientHeight;U!==O&&(I.current?_?.(U):(I.current=!0,U&&_?.(!0)),M(U))};V();const q=new ResizeObserver(V);return q.observe(L),()=>q.disconnect()},[_,O]),s.jsx(ne,{...A,ref:t,style:[{display:"flex",overflow:"hidden"},C],children:s.jsx(ne,{style:{display:"flex",flexDirection:"column",flex:1,overflow:"hidden",...x==="y"&&{minWidth:0},...x==="x"&&{minHeight:0},...x==="xy"&&{minWidth:0,minHeight:0},...x===!1&&{minWidth:0,minHeight:0}},children:s.jsx(Sn,{classNames:r,styles:a,scrollHideDelay:l,scrollbarSize:i,type:u,dir:d,offsetScrollbars:h,viewportRef:D,onScrollPositionChange:m,unstyled:g,variant:y,viewportProps:S,vars:T,scrollbars:x,onBottomReached:j,onTopReached:R,"data-autosize":"true",children:n})})})});Sn.classes=_E;Rv.displayName="@mantine/core/ScrollAreaAutosize";Rv.classes=_E;Sn.Autosize=Rv;var Q5={root:"m_87cf2631"};const oG={__staticSelector:"UnstyledButton"},Vn=Qn((e,t)=>{const n=se("UnstyledButton",oG,e),{className:r,component:a="button",__staticSelector:i,unstyled:l,classNames:u,styles:d,style:h,attributes:p,...m}=n,g=Ne({name:i,props:n,classes:Q5,className:r,style:h,classNames:u,styles:d,unstyled:l,attributes:p});return s.jsx(ne,{...g("root",{focusable:!0}),component:a,ref:t,type:a==="button"?"button":void 0,...m})});Vn.classes=Q5;Vn.displayName="@mantine/core/UnstyledButton";var K5={root:"m_515a97f8"};const DE=xe((e,t)=>{const n=se("VisuallyHidden",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,attributes:h,...p}=n,m=Ne({name:"VisuallyHidden",classes:K5,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:h});return s.jsx(ne,{component:"span",ref:t,...m("root"),...p})});DE.classes=K5;DE.displayName="@mantine/core/VisuallyHidden";var X5={root:"m_1b7284a3"};const sG=(e,{radius:t,shadow:n})=>({root:{"--paper-radius":t===void 0?void 0:qt(t),"--paper-shadow":lE(n)}}),tn=Qn((e,t)=>{const n=se("Paper",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,withBorder:d,vars:h,radius:p,shadow:m,variant:g,mod:y,attributes:S,...x}=n,C=Ne({name:"Paper",props:n,classes:X5,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:S,vars:h,varsResolver:sG});return s.jsx(ne,{ref:t,mod:[{"data-with-border":d},y],...C("root"),variant:g,...x})});tn.classes=X5;tn.displayName="@mantine/core/Paper";function Mk(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function Pk(e,t,n,r,a){return e==="center"||r==="center"?{left:t}:e==="end"?{[a==="ltr"?"right":"left"]:n}:e==="start"?{[a==="ltr"?"left":"right"]:n}:{}}const lG={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function cG({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:a,arrowX:i,arrowY:l,dir:u}){const[d,h="center"]=e.split("-"),p={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[lG[d]]:r},m=-t/2;return d==="left"?{...p,...Mk(h,l,n,a),right:m,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:d==="right"?{...p,...Mk(h,l,n,a),left:m,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:d==="top"?{...p,...Pk(h,i,n,a,u),bottom:m,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:d==="bottom"?{...p,...Pk(h,i,n,a,u),top:m,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const qg=b.forwardRef(({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:a,visible:i,arrowX:l,arrowY:u,style:d,...h},p)=>{const{dir:m}=os();return i?s.jsx("div",{...h,ref:p,style:{...d,...cG({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:a,dir:m,arrowX:l,arrowY:u})}}):null});qg.displayName="@mantine/core/FloatingArrow";function Z5(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),a=n==="right"?"left":"right";return r===void 0?a:`${a}-${r}`}return t}var J5={root:"m_9814e45f"};const uG={zIndex:br("modal")},dG=(e,{gradient:t,color:n,backgroundOpacity:r,blur:a,radius:i,zIndex:l})=>({root:{"--overlay-bg":t||(n!==void 0||r!==void 0)&&si(n||"#000",r??.6)||void 0,"--overlay-filter":a?`blur(${me(a)})`:void 0,"--overlay-radius":i===void 0?void 0:qt(i),"--overlay-z-index":l?.toString()}}),Xu=Qn((e,t)=>{const n=se("Overlay",uG,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,fixed:h,center:p,children:m,radius:g,zIndex:y,gradient:S,blur:x,color:C,backgroundOpacity:T,mod:j,attributes:R,..._}=n,A=Ne({name:"Overlay",props:n,classes:J5,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:R,vars:d,varsResolver:dG});return s.jsx(ne,{ref:t,...A("root"),mod:[{center:p,fixed:h},j],..._,children:m})});Xu.classes=J5;Xu.displayName="@mantine/core/Overlay";function zx(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function fG({target:e,reuseTargetNode:t,...n}){if(e)return typeof e=="string"?document.querySelector(e)||zx(n):e;if(t){const r=document.querySelector("[data-mantine-shared-portal-node]");if(r)return r;const a=zx(n);return a.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(a),a}return zx(n)}const hG={reuseTargetNode:!0},e9=xe((e,t)=>{const{children:n,target:r,reuseTargetNode:a,...i}=se("Portal",hG,e),[l,u]=b.useState(!1),d=b.useRef(null);return Tc(()=>(u(!0),d.current=fG({target:r,reuseTargetNode:a,...i}),rj(t,d.current),!r&&!a&&d.current&&document.body.appendChild(d.current),()=>{!r&&!a&&d.current&&document.body.removeChild(d.current)}),[r]),!l||!d.current?null:bv.createPortal(s.jsx(s.Fragment,{children:n}),d.current)});e9.displayName="@mantine/core/Portal";const Js=xe(({withinPortal:e=!0,children:t,...n},r)=>yv()==="test"||!e?s.jsx(s.Fragment,{children:t}):s.jsx(e9,{ref:r,...n,children:t}));Js.displayName="@mantine/core/OptionalPortal";const Rf=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),Nm={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Rf("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Rf("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Rf("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Rf("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Rf("top"),common:{transformOrigin:"top right"}}},Nk={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function pG({transition:e,state:t,duration:n,timingFunction:r}){const a={WebkitBackfaceVisibility:"hidden",transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in Nm?{transitionProperty:Nm[e].transitionProperty,...a,...Nm[e].common,...Nm[e][Nk[t]]}:{}:{transitionProperty:e.transitionProperty,...a,...e.common,...e[Nk[t]]}}function mG({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:a,onExit:i,onEntered:l,onExited:u,enterDelay:d,exitDelay:h}){const p=wn(),m=mv(),g=p.respectReducedMotion?m:!1,[y,S]=b.useState(g?0:e),[x,C]=b.useState(r?"entered":"exited"),T=b.useRef(-1),j=b.useRef(-1),R=b.useRef(-1);function _(){window.clearTimeout(T.current),window.clearTimeout(j.current),cancelAnimationFrame(R.current)}const A=D=>{_();const O=D?a:i,M=D?l:u,I=g?0:D?e:t;S(I),I===0?(typeof O=="function"&&O(),typeof M=="function"&&M(),C(D?"entered":"exited")):R.current=requestAnimationFrame(()=>{Kl.flushSync(()=>{C(D?"pre-entering":"pre-exiting")}),R.current=requestAnimationFrame(()=>{typeof O=="function"&&O(),C(D?"entering":"exiting"),T.current=window.setTimeout(()=>{typeof M=="function"&&M(),C(D?"entered":"exited")},I)})})},k=D=>{if(_(),typeof(D?d:h)!="number"){A(D);return}j.current=window.setTimeout(()=>{A(D)},D?d:h)};return Zs(()=>{k(r)},[r]),b.useEffect(()=>()=>{_()},[]),{transitionDuration:y,transitionStatus:x,transitionTimingFunction:n||"ease"}}function Ui({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:r=n,mounted:a,children:i,timingFunction:l="ease",onExit:u,onEntered:d,onEnter:h,onExited:p,enterDelay:m,exitDelay:g}){const y=yv(),{transitionDuration:S,transitionStatus:x,transitionTimingFunction:C}=mG({mounted:a,exitDuration:r,duration:n,timingFunction:l,onExit:u,onEntered:d,onEnter:h,onExited:p,enterDelay:m,exitDelay:g});return S===0||y==="test"?a?s.jsx(s.Fragment,{children:i({})}):e?i({display:"none"}):null:x==="exited"?e?i({display:"none"}):null:s.jsx(s.Fragment,{children:i(pG({transition:t,duration:S,state:x,timingFunction:C}))})}Ui.displayName="@mantine/core/Transition";const[gG,t9]=yr("Popover component was not found in the tree");function _v({children:e,active:t=!0,refProp:n="ref",innerRef:r}){const a=jH(t),i=Yn(a,r),l=Rc(e);return l?b.cloneElement(l,{[n]:i}):e}function n9(e){return s.jsx(DE,{tabIndex:-1,"data-autofocus":!0,...e})}_v.displayName="@mantine/core/FocusTrap";n9.displayName="@mantine/core/FocusTrapInitialFocus";_v.InitialFocus=n9;var r9={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const AE=xe((e,t)=>{const n=se("PopoverDropdown",null,e),{className:r,style:a,vars:i,children:l,onKeyDownCapture:u,variant:d,classNames:h,styles:p,...m}=n,g=t9(),y=t5({opened:g.opened,shouldReturnFocus:g.returnFocus}),S=g.withRoles?{"aria-labelledby":g.getTargetId(),id:g.getDropdownId(),role:"dialog",tabIndex:-1}:{},x=Yn(t,g.floating);return g.disabled?null:s.jsx(Js,{...g.portalProps,withinPortal:g.withinPortal,children:s.jsx(Ui,{mounted:g.opened,...g.transitionProps,transition:g.transitionProps?.transition||"fade",duration:g.transitionProps?.duration??150,keepMounted:g.keepMounted,exitDuration:typeof g.transitionProps?.exitDuration=="number"?g.transitionProps.exitDuration:g.transitionProps?.duration,children:C=>s.jsx(_v,{active:g.trapFocus&&g.opened,innerRef:x,children:s.jsxs(ne,{...S,...m,variant:d,onKeyDownCapture:uH(()=>{g.onClose?.(),g.onDismiss?.()},{active:g.closeOnEscape,onTrigger:y,onKeyDown:u}),"data-position":g.placement,"data-fixed":g.floatingStrategy==="fixed"||void 0,...g.getStyles("dropdown",{className:r,props:n,classNames:h,styles:p,style:[{...C,zIndex:g.zIndex,top:g.y??0,left:g.x??0,width:g.width==="target"?void 0:me(g.width),...g.referenceHidden?{display:"none"}:null},g.resolvedStyles.dropdown,p?.dropdown,a]}),children:[l,s.jsx(qg,{ref:g.arrowRef,arrowX:g.arrowX,arrowY:g.arrowY,visible:g.withArrow,position:g.placement,arrowSize:g.arrowSize,arrowRadius:g.arrowRadius,arrowOffset:g.arrowOffset,arrowPosition:g.arrowPosition,...g.getStyles("arrow",{props:n,classNames:h,styles:p})})]})})})})});AE.classes=r9;AE.displayName="@mantine/core/PopoverDropdown";const vG={refProp:"ref",popupType:"dialog"},a9=xe((e,t)=>{const{children:n,refProp:r,popupType:a,...i}=se("PopoverTarget",vG,e),l=Rc(n);if(!l)throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const u=i,d=t9(),h=Yn(d.reference,gv(l),t),p=d.withRoles?{"aria-haspopup":a,"aria-expanded":d.opened,"aria-controls":d.getDropdownId(),id:d.getTargetId()}:{},m=l.props;return b.cloneElement(l,{...u,...p,...d.targetProps,className:$t(d.targetProps.className,u.className,m.className),[r]:h,...d.controlled?null:{onClick:()=>{d.onToggle(),m.onClick?.()}}})});a9.displayName="@mantine/core/PopoverTarget";function yG(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function bG(e,t,n){const r=yG(e.middlewares),a=[k5(e.offset),DW()];return e.dropdownVisible&&n!=="test"&&e.preventPositionChangeWhenVisible&&(r.flip=!1),r.shift&&a.push(wE(typeof r.shift=="boolean"?{limiter:Ek(),padding:5}:{limiter:Ek(),padding:5,...r.shift})),r.flip&&a.push(typeof r.flip=="boolean"?$g():$g(r.flip)),r.inline&&a.push(typeof r.inline=="boolean"?Gf():Gf(r.inline)),a.push(M5({element:e.arrowRef,padding:e.arrowOffset})),(r.size||e.width==="target")&&a.push(_W({...typeof r.size=="boolean"?{}:r.size,apply({rects:i,availableWidth:l,availableHeight:u,...d}){const p=t().refs.floating.current?.style??{};r.size&&(typeof r.size=="object"&&r.size.apply?r.size.apply({rects:i,availableWidth:l,availableHeight:u,...d}):Object.assign(p,{maxWidth:`${l}px`,maxHeight:`${u}px`})),e.width==="target"&&Object.assign(p,{width:`${i.reference.width}px`})}})),a}function xG(e){const t=yv(),[n,r]=sr({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),a=b.useRef(n),i=()=>{n&&!e.disabled&&r(!1)},l=()=>{e.disabled||r(!n)},u=TE({strategy:e.strategy,placement:e.preventPositionChangeWhenVisible?e.positionRef.current:e.position,middleware:bG(e,()=>u,t),whileElementsMounted:e.keepMounted?void 0:fj});return b.useEffect(()=>{if(!(!u.refs.reference.current||!u.refs.floating.current)&&n)return fj(u.refs.reference.current,u.refs.floating.current,u.update)},[n,u.update]),Zs(()=>{e.onPositionChange?.(u.placement),e.positionRef.current=u.placement},[u.placement,e.preventPositionChangeWhenVisible]),Zs(()=>{n!==a.current&&(n?e.onOpen?.():e.onClose?.()),a.current=n},[n,e.onClose,e.onOpen]),Tc(()=>{let d=-1;return n&&(d=window.setTimeout(()=>e.setDropdownVisible(!0),4)),()=>{window.clearTimeout(d)}},[n,e.position]),{floating:u,controlled:typeof e.opened=="boolean",opened:n,onClose:i,onToggle:l}}const SG={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,hideDetached:!0,clickOutsideEvents:["mousedown","touchstart"],zIndex:br("popover"),__staticSelector:"Popover",width:"max-content"},wG=(e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:qt(t),"--popover-shadow":lE(n)}});function Sa(e){const t=se("Popover",SG,e),{children:n,position:r,offset:a,onPositionChange:i,positionDependencies:l,opened:u,transitionProps:d,onExitTransitionEnd:h,onEnterTransitionEnd:p,width:m,middlewares:g,withArrow:y,arrowSize:S,arrowOffset:x,arrowRadius:C,arrowPosition:T,unstyled:j,classNames:R,styles:_,closeOnClickOutside:A,withinPortal:k,portalProps:D,closeOnEscape:O,clickOutsideEvents:M,trapFocus:I,onClose:L,onDismiss:V,onOpen:q,onChange:U,zIndex:W,radius:N,shadow:z,id:$,defaultOpened:G,__staticSelector:X,withRoles:H,disabled:F,returnFocus:Q,variant:J,keepMounted:re,vars:ue,floatingStrategy:Ee,withOverlay:Re,overlayProps:Se,hideDetached:Ge,attributes:Ze,preventPositionChangeWhenVisible:Fe,...ze}=t,pt=Ne({name:X,props:t,classes:r9,classNames:R,styles:_,unstyled:j,attributes:Ze,rootSelector:"dropdown",vars:ue,varsResolver:wG}),{resolvedStyles:Xe}=hd({classNames:R,styles:_,props:t}),[Ut,ot]=b.useState(u??G??!1),Dt=b.useRef(r),Tt=b.useRef(null),[Ve,dt]=b.useState(null),[ct,ft]=b.useState(null),{dir:lt}=os(),vt=yv(),dr=xr($),Ht=xG({middlewares:g,width:m,position:Z5(lt,r),offset:typeof a=="number"?a+(y?S/2:0):a,arrowRef:Tt,arrowOffset:x,onPositionChange:i,positionDependencies:l,opened:u,defaultOpened:G,onChange:U,onOpen:q,onClose:L,onDismiss:V,strategy:Ee,dropdownVisible:Ut,setDropdownVisible:ot,positionRef:Dt,disabled:F,preventPositionChangeWhenVisible:Fe,keepMounted:re});mH(()=>{A&&(Ht.onClose(),V?.())},M,[Ve,ct]);const At=b.useCallback(Kn=>{dt(Kn),Ht.floating.refs.setReference(Kn)},[Ht.floating.refs.setReference]),zn=b.useCallback(Kn=>{ft(Kn),Ht.floating.refs.setFloating(Kn)},[Ht.floating.refs.setFloating]),Cr=b.useCallback(()=>{d?.onExited?.(),h?.(),ot(!1),Fe||(Dt.current=r)},[d?.onExited,h,Fe,r]),Ga=b.useCallback(()=>{d?.onEntered?.(),p?.()},[d?.onEntered,p]);return s.jsxs(gG,{value:{returnFocus:Q,disabled:F,controlled:Ht.controlled,reference:At,floating:zn,x:Ht.floating.x,y:Ht.floating.y,arrowX:Ht.floating?.middlewareData?.arrow?.x,arrowY:Ht.floating?.middlewareData?.arrow?.y,opened:Ht.opened,arrowRef:Tt,transitionProps:{...d,onExited:Cr,onEntered:Ga},width:m,withArrow:y,arrowSize:S,arrowOffset:x,arrowRadius:C,arrowPosition:T,placement:Ht.floating.placement,trapFocus:I,withinPortal:k,portalProps:D,zIndex:W,radius:N,shadow:z,closeOnEscape:O,onDismiss:V,onClose:Ht.onClose,onToggle:Ht.onToggle,getTargetId:()=>`${dr}-target`,getDropdownId:()=>`${dr}-dropdown`,withRoles:H,targetProps:ze,__staticSelector:X,classNames:R,styles:_,unstyled:j,variant:J,keepMounted:re,getStyles:pt,resolvedStyles:Xe,floatingStrategy:Ee,referenceHidden:Ge&&vt!=="test"?Ht.floating.middlewareData.hide?.referenceHidden:!1},children:[n,Re&&s.jsx(Ui,{transition:"fade",mounted:Ht.opened,duration:d?.duration||250,exitDuration:d?.exitDuration||250,children:Kn=>s.jsx(Js,{withinPortal:k,children:s.jsx(Xu,{...Se,...pt("overlay",{className:Se?.className,style:[Kn,Se?.style]})})})})]})}Sa.Target=a9;Sa.Dropdown=AE;Sa.displayName="@mantine/core/Popover";Sa.extend=e=>e;var Ii={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const i9=b.forwardRef(({className:e,...t},n)=>s.jsxs(ne,{component:"span",className:$t(Ii.barsLoader,e),...t,ref:n,children:[s.jsx("span",{className:Ii.bar}),s.jsx("span",{className:Ii.bar}),s.jsx("span",{className:Ii.bar})]}));i9.displayName="@mantine/core/Bars";const o9=b.forwardRef(({className:e,...t},n)=>s.jsxs(ne,{component:"span",className:$t(Ii.dotsLoader,e),...t,ref:n,children:[s.jsx("span",{className:Ii.dot}),s.jsx("span",{className:Ii.dot}),s.jsx("span",{className:Ii.dot})]}));o9.displayName="@mantine/core/Dots";const s9=b.forwardRef(({className:e,...t},n)=>s.jsx(ne,{component:"span",className:$t(Ii.ovalLoader,e),...t,ref:n}));s9.displayName="@mantine/core/Oval";const l9={bars:i9,oval:s9,dots:o9},CG={loaders:l9,type:"oval"},jG=(e,{size:t,color:n})=>({root:{"--loader-size":at(t,"loader-size"),"--loader-color":n?en(n,e):void 0}}),tr=xe((e,t)=>{const n=se("Loader",CG,e),{size:r,color:a,type:i,vars:l,className:u,style:d,classNames:h,styles:p,unstyled:m,loaders:g,variant:y,children:S,attributes:x,...C}=n,T=Ne({name:"Loader",props:n,classes:Ii,className:u,style:d,classNames:h,styles:p,unstyled:m,attributes:x,vars:l,varsResolver:jG});return S?s.jsx(ne,{...T("root"),ref:t,...C,children:S}):s.jsx(ne,{...T("root"),ref:t,component:g[i],variant:y,size:r,...C})});tr.defaultLoaders=l9;tr.classes=Ii;tr.displayName="@mantine/core/Loader";var gd={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const Ik={orientation:"horizontal"},EG=(e,{borderWidth:t})=>({group:{"--ai-border-width":me(t)}}),OE=xe((e,t)=>{const n=se("ActionIconGroup",Ik,e),{className:r,style:a,classNames:i,styles:l,unstyled:u,orientation:d,vars:h,borderWidth:p,variant:m,mod:g,attributes:y,...S}=se("ActionIconGroup",Ik,e),x=Ne({name:"ActionIconGroup",props:n,classes:gd,className:r,style:a,classNames:i,styles:l,unstyled:u,attributes:y,vars:h,varsResolver:EG,rootSelector:"group"});return s.jsx(ne,{...x("group"),ref:t,variant:m,mod:[{"data-orientation":d},g],role:"group",...S})});OE.classes=gd;OE.displayName="@mantine/core/ActionIconGroup";const TG=(e,{radius:t,color:n,gradient:r,variant:a,autoContrast:i,size:l})=>{const u=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:a||"filled",autoContrast:i});return{groupSection:{"--section-height":at(l,"section-height"),"--section-padding-x":at(l,"section-padding-x"),"--section-fz":Fn(l),"--section-radius":t===void 0?void 0:qt(t),"--section-bg":n||a?u.background:void 0,"--section-color":u.color,"--section-bd":n||a?u.border:void 0}}},kE=xe((e,t)=>{const n=se("ActionIconGroupSection",null,e),{className:r,style:a,classNames:i,styles:l,unstyled:u,vars:d,variant:h,gradient:p,radius:m,autoContrast:g,attributes:y,...S}=n,x=Ne({name:"ActionIconGroupSection",props:n,classes:gd,className:r,style:a,classNames:i,styles:l,unstyled:u,attributes:y,vars:d,varsResolver:TG,rootSelector:"groupSection"});return s.jsx(ne,{...x("groupSection"),ref:t,variant:h,...S})});kE.classes=gd;kE.displayName="@mantine/core/ActionIconGroupSection";const RG=(e,{size:t,radius:n,variant:r,gradient:a,color:i,autoContrast:l})=>{const u=e.variantColorResolver({color:i||e.primaryColor,theme:e,gradient:a,variant:r||"filled",autoContrast:l});return{root:{"--ai-size":at(t,"ai-size"),"--ai-radius":n===void 0?void 0:qt(n),"--ai-bg":i||r?u.background:void 0,"--ai-hover":i||r?u.hover:void 0,"--ai-hover-color":i||r?u.hoverColor:void 0,"--ai-color":u.color,"--ai-bd":i||r?u.border:void 0}}},xt=Qn((e,t)=>{const n=se("ActionIcon",null,e),{className:r,unstyled:a,variant:i,classNames:l,styles:u,style:d,loading:h,loaderProps:p,size:m,color:g,radius:y,__staticSelector:S,gradient:x,vars:C,children:T,disabled:j,"data-disabled":R,autoContrast:_,mod:A,attributes:k,...D}=n,O=Ne({name:["ActionIcon",S],props:n,className:r,style:d,classes:gd,classNames:l,styles:u,unstyled:a,attributes:k,vars:C,varsResolver:RG});return s.jsxs(Vn,{...O("root",{active:!j&&!h&&!R}),...D,unstyled:a,variant:i,size:m,disabled:j||h,ref:t,mod:[{loading:h,disabled:j||R},A],children:[typeof h=="boolean"&&s.jsx(Ui,{mounted:h,transition:"slide-down",duration:150,children:M=>s.jsx(ne,{component:"span",...O("loader",{style:M}),"aria-hidden":!0,children:s.jsx(tr,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...p})})}),s.jsx(ne,{component:"span",mod:{loading:h},...O("icon"),children:T})]})});xt.classes=gd;xt.displayName="@mantine/core/ActionIcon";xt.Group=OE;xt.GroupSection=kE;const c9=b.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...n},r)=>s.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:r,...n,children:s.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));c9.displayName="@mantine/core/CloseIcon";var u9={root:"m_86a44da5","root--subtle":"m_220c80f2"};const _G={variant:"subtle"},DG=(e,{size:t,radius:n,iconSize:r})=>({root:{"--cb-size":at(t,"cb-size"),"--cb-radius":n===void 0?void 0:qt(n),"--cb-icon-size":me(r)}}),ul=Qn((e,t)=>{const n=se("CloseButton",_G,e),{iconSize:r,children:a,vars:i,radius:l,className:u,classNames:d,style:h,styles:p,unstyled:m,"data-disabled":g,disabled:y,variant:S,icon:x,mod:C,attributes:T,__staticSelector:j,...R}=n,_=Ne({name:j||"CloseButton",props:n,className:u,style:h,classes:u9,classNames:d,styles:p,unstyled:m,attributes:T,vars:i,varsResolver:DG});return s.jsxs(Vn,{ref:t,...R,unstyled:m,variant:S,disabled:y,mod:[{disabled:y||g},C],..._("root",{variant:S,active:!y&&!g}),children:[x||s.jsx(c9,{}),a]})});ul.classes=u9;ul.displayName="@mantine/core/CloseButton";function AG(e){return b.Children.toArray(e).filter(Boolean)}var d9={root:"m_4081bf90"};const OG={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},kG=(e,{grow:t,preventGrowOverflow:n,gap:r,align:a,justify:i,wrap:l},{childWidth:u})=>({root:{"--group-child-width":t&&n?u:void 0,"--group-gap":In(r),"--group-align":a,"--group-justify":i,"--group-wrap":l}}),fe=xe((e,t)=>{const n=se("Group",OG,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,children:d,gap:h,align:p,justify:m,wrap:g,grow:y,preventGrowOverflow:S,vars:x,variant:C,__size:T,mod:j,attributes:R,..._}=n,A=AG(d),k=A.length,D=In(h??"md"),M={childWidth:`calc(${100/k}% - (${D} - ${D} / ${k}))`},I=Ne({name:"Group",props:n,stylesCtx:M,className:a,style:i,classes:d9,classNames:r,styles:l,unstyled:u,attributes:R,vars:x,varsResolver:kG});return s.jsx(ne,{...I("root"),ref:t,variant:C,mod:[{grow:y},j],size:T,..._,children:A})});fe.classes=d9;fe.displayName="@mantine/core/Group";const[MG,ss]=yr("ModalBase component was not found in tree");function PG({opened:e,transitionDuration:t}){const[n,r]=b.useState(e),a=b.useRef(-1),l=mv()?0:t;return b.useEffect(()=>(e?(r(!0),window.clearTimeout(a.current)):l===0?r(!1):a.current=window.setTimeout(()=>r(!1),l),()=>window.clearTimeout(a.current)),[e,l]),n}function NG({id:e,transitionProps:t,opened:n,trapFocus:r,closeOnEscape:a,onClose:i,returnFocus:l}){const u=xr(e),[d,h]=b.useState(!1),[p,m]=b.useState(!1),g=typeof t?.duration=="number"?t?.duration:200,y=PG({opened:n,transitionDuration:g});return i5("keydown",S=>{S.key==="Escape"&&a&&!S.isComposing&&n&&S.target?.getAttribute("data-mantine-stop-propagation")!=="true"&&i()},{capture:!0}),t5({opened:n,shouldReturnFocus:r&&l}),{_id:u,titleMounted:d,bodyMounted:p,shouldLockScroll:y,setTitleMounted:h,setBodyMounted:m}}const ME=b.forwardRef(({keepMounted:e,opened:t,onClose:n,id:r,transitionProps:a,onExitTransitionEnd:i,onEnterTransitionEnd:l,trapFocus:u,closeOnEscape:d,returnFocus:h,closeOnClickOutside:p,withinPortal:m,portalProps:g,lockScroll:y,children:S,zIndex:x,shadow:C,padding:T,__vars:j,unstyled:R,removeScrollProps:_,...A},k)=>{const{_id:D,titleMounted:O,bodyMounted:M,shouldLockScroll:I,setTitleMounted:L,setBodyMounted:V}=NG({id:r,transitionProps:a,opened:t,trapFocus:u,closeOnEscape:d,onClose:n,returnFocus:h}),{key:q,...U}=_||{};return s.jsx(Js,{...g,withinPortal:m,children:s.jsx(MG,{value:{opened:t,onClose:n,closeOnClickOutside:p,onExitTransitionEnd:i,onEnterTransitionEnd:l,transitionProps:{...a,keepMounted:e},getTitleId:()=>`${D}-title`,getBodyId:()=>`${D}-body`,titleMounted:O,bodyMounted:M,setTitleMounted:L,setBodyMounted:V,trapFocus:u,closeOnEscape:d,zIndex:x,unstyled:R},children:s.jsx(oc,{enabled:I&&y,...U,children:s.jsx(ne,{ref:k,...A,__vars:{...j,"--mb-z-index":(x||br("modal")).toString(),"--mb-shadow":lE(C),"--mb-padding":In(T)},children:S})},q)})})});ME.displayName="@mantine/core/ModalBase";function IG(){const e=ss();return b.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var Zu={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const PE=b.forwardRef(({className:e,...t},n)=>{const r=IG(),a=ss();return s.jsx(ne,{ref:n,...t,id:r,className:$t({[Zu.body]:!a.unstyled},e)})});PE.displayName="@mantine/core/ModalBaseBody";const NE=b.forwardRef(({className:e,onClick:t,...n},r)=>{const a=ss();return s.jsx(ul,{ref:r,...n,onClick:i=>{a.onClose(),t?.(i)},className:$t({[Zu.close]:!a.unstyled},e),unstyled:a.unstyled})});NE.displayName="@mantine/core/ModalBaseCloseButton";const IE=b.forwardRef(({transitionProps:e,className:t,innerProps:n,onKeyDown:r,style:a,...i},l)=>{const u=ss();return s.jsx(Ui,{mounted:u.opened,transition:"pop",...u.transitionProps,onExited:()=>{u.onExitTransitionEnd?.(),u.transitionProps?.onExited?.()},onEntered:()=>{u.onEnterTransitionEnd?.(),u.transitionProps?.onEntered?.()},...e,children:d=>s.jsx("div",{...n,className:$t({[Zu.inner]:!u.unstyled},n.className),children:s.jsx(_v,{active:u.opened&&u.trapFocus,innerRef:l,children:s.jsx(tn,{...i,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":u.bodyMounted?u.getBodyId():void 0,"aria-labelledby":u.titleMounted?u.getTitleId():void 0,style:[a,d],className:$t({[Zu.content]:!u.unstyled},t),unstyled:u.unstyled,children:i.children})})})})});IE.displayName="@mantine/core/ModalBaseContent";const LE=b.forwardRef(({className:e,...t},n)=>{const r=ss();return s.jsx(ne,{component:"header",ref:n,className:$t({[Zu.header]:!r.unstyled},e),...t})});LE.displayName="@mantine/core/ModalBaseHeader";const LG={duration:200,timingFunction:"ease",transition:"fade"};function zG(e){const t=ss();return{...LG,...t.transitionProps,...e}}const zE=b.forwardRef(({onClick:e,transitionProps:t,style:n,visible:r,...a},i)=>{const l=ss(),u=zG(t);return s.jsx(Ui,{mounted:r!==void 0?r:l.opened,...u,transition:"fade",children:d=>s.jsx(Xu,{ref:i,fixed:!0,style:[n,d],zIndex:l.zIndex,unstyled:l.unstyled,onClick:h=>{e?.(h),l.closeOnClickOutside&&l.onClose()},...a})})});zE.displayName="@mantine/core/ModalBaseOverlay";function $G(){const e=ss();return b.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const $E=b.forwardRef(({className:e,...t},n)=>{const r=$G(),a=ss();return s.jsx(ne,{component:"h2",ref:n,className:$t({[Zu.title]:!a.unstyled},e),...t,id:r})});$E.displayName="@mantine/core/ModalBaseTitle";function f9({children:e}){return s.jsx(s.Fragment,{children:e})}const[qG,UG]=Gi({size:"sm"}),h9=xe((e,t)=>{const n=se("InputClearButton",null,e),{size:r,variant:a,vars:i,classNames:l,styles:u,...d}=n,h=UG(),{resolvedClassNames:p,resolvedStyles:m}=hd({classNames:l,styles:u,props:n});return s.jsx(ul,{variant:a||"transparent",ref:t,size:r||h?.size||"sm",classNames:p,styles:m,__staticSelector:"InputClearButton",style:{pointerEvents:"all",background:"var(--input-bg)",...d.style},...d})});h9.displayName="@mantine/core/InputClearButton";const BG={xs:7,sm:8,md:10,lg:12,xl:15};function HG({__clearable:e,__clearSection:t,rightSection:n,__defaultRightSection:r,size:a="sm"}){const i=e&&t;return i&&(n||r)?s.jsxs("div",{"data-combined-clear-section":!0,style:{display:"flex",gap:2,alignItems:"center",paddingInlineEnd:BG[a]},children:[i,n||r]}):n===null?null:n||i||r}const[FG,vd]=Gi({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var xi={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const VG=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${Fn(t)} - ${me(2)})`}}),Dv=xe((e,t)=>{const n=se("InputDescription",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,size:h,__staticSelector:p,__inheritStyles:m=!0,attributes:g,variant:y,...S}=se("InputDescription",null,n),x=vd(),C=Ne({name:["InputWrapper",p],props:n,classes:xi,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:g,rootSelector:"description",vars:d,varsResolver:VG}),T=m&&x?.getStyles||C;return s.jsx(ne,{component:"p",ref:t,variant:y,size:h,...T("description",x?.getStyles?{className:a,style:i}:void 0),...S})});Dv.classes=xi;Dv.displayName="@mantine/core/InputDescription";const WG=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${Fn(t)} - ${me(2)})`}}),Av=xe((e,t)=>{const n=se("InputError",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,size:h,attributes:p,__staticSelector:m,__inheritStyles:g=!0,variant:y,...S}=n,x=Ne({name:["InputWrapper",m],props:n,classes:xi,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:p,rootSelector:"error",vars:d,varsResolver:WG}),C=vd(),T=g&&C?.getStyles||x;return s.jsx(ne,{component:"p",ref:t,variant:y,size:h,...T("error",C?.getStyles?{className:a,style:i}:void 0),...S})});Av.classes=xi;Av.displayName="@mantine/core/InputError";const Lk={labelElement:"label"},GG=(e,{size:t})=>({label:{"--input-label-size":Fn(t),"--input-asterisk-color":void 0}}),Ov=xe((e,t)=>{const n=se("InputLabel",Lk,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,labelElement:h,size:p,required:m,htmlFor:g,onMouseDown:y,children:S,__staticSelector:x,variant:C,mod:T,attributes:j,...R}=se("InputLabel",Lk,n),_=Ne({name:["InputWrapper",x],props:n,classes:xi,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:j,rootSelector:"label",vars:d,varsResolver:GG}),A=vd(),k=A?.getStyles||_;return s.jsxs(ne,{...k("label",A?.getStyles?{className:a,style:i}:void 0),component:h,variant:C,size:p,ref:t,htmlFor:h==="label"?g:void 0,mod:[{required:m},T],onMouseDown:D=>{y?.(D),!D.defaultPrevented&&D.detail>1&&D.preventDefault()},...R,children:[S,m&&s.jsx("span",{...k("required"),"aria-hidden":!0,children:" *"})]})});Ov.classes=xi;Ov.displayName="@mantine/core/InputLabel";const qE=xe((e,t)=>{const n=se("InputPlaceholder",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,__staticSelector:h,variant:p,error:m,mod:g,attributes:y,...S}=n,x=Ne({name:["InputPlaceholder",h],props:n,classes:xi,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:y,rootSelector:"placeholder"});return s.jsx(ne,{...x("placeholder"),mod:[{error:!!m},g],component:"span",variant:p,ref:t,...S})});qE.classes=xi;qE.displayName="@mantine/core/InputPlaceholder";function YG(e,{hasDescription:t,hasError:n}){const r=e.findIndex(d=>d==="input"),a=e.slice(0,r),i=e.slice(r+1),l=t&&a.includes("description")||n&&a.includes("error");return{offsetBottom:t&&i.includes("description")||n&&i.includes("error"),offsetTop:l}}const QG={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},KG=(e,{size:t})=>({label:{"--input-label-size":Fn(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${Fn(t)} - ${me(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${Fn(t)} - ${me(2)})`}}),UE=xe((e,t)=>{const n=se("InputWrapper",QG,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,size:h,variant:p,__staticSelector:m,inputContainer:g,inputWrapperOrder:y,label:S,error:x,description:C,labelProps:T,descriptionProps:j,errorProps:R,labelElement:_,children:A,withAsterisk:k,id:D,required:O,__stylesApiProps:M,mod:I,attributes:L,...V}=n,q=Ne({name:["InputWrapper",m],props:M||n,classes:xi,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:L,vars:d,varsResolver:KG}),U={size:h,variant:p,__staticSelector:m},W=xr(D),N=typeof k=="boolean"?k:O,z=R?.id||`${W}-error`,$=j?.id||`${W}-description`,G=W,X=!!x&&typeof x!="boolean",H=!!C,F=`${X?z:""} ${H?$:""}`,Q=F.trim().length>0?F.trim():void 0,J=T?.id||`${W}-label`,re=S&&s.jsx(Ov,{labelElement:_,id:J,htmlFor:G,required:N,...U,...T,children:S},"label"),ue=H&&s.jsx(Dv,{...j,...U,size:j?.size||U.size,id:j?.id||$,children:C},"description"),Ee=s.jsx(b.Fragment,{children:g(A)},"input"),Re=X&&b.createElement(Av,{...R,...U,size:R?.size||U.size,key:"error",id:R?.id||z},x),Se=y.map(Ge=>{switch(Ge){case"label":return re;case"input":return Ee;case"description":return ue;case"error":return Re;default:return null}});return s.jsx(FG,{value:{getStyles:q,describedBy:Q,inputId:G,labelId:J,...YG(y,{hasDescription:H,hasError:X})},children:s.jsx(ne,{ref:t,variant:p,size:h,mod:[{error:!!x},I],...q("root"),...V,children:Se})})});UE.classes=xi;UE.displayName="@mantine/core/InputWrapper";const XG={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0,size:"sm"},ZG=(e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":at(t.size,"input-height"),"--input-fz":Fn(t.size),"--input-radius":t.radius===void 0?void 0:qt(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?me(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?me(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?at(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),nn=Qn((e,t)=>{const n=se("Input",XG,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,required:d,__staticSelector:h,__stylesApiProps:p,size:m,wrapperProps:g,error:y,disabled:S,leftSection:x,leftSectionProps:C,leftSectionWidth:T,rightSection:j,rightSectionProps:R,rightSectionWidth:_,rightSectionPointerEvents:A,leftSectionPointerEvents:k,variant:D,vars:O,pointer:M,multiline:I,radius:L,id:V,withAria:q,withErrorStyles:U,mod:W,inputSize:N,attributes:z,__clearSection:$,__clearable:G,__defaultRightSection:X,...H}=n,{styleProps:F,rest:Q}=is(H),J=vd(),re={offsetBottom:J?.offsetBottom,offsetTop:J?.offsetTop},ue=Ne({name:["Input",h],props:p||n,classes:xi,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:z,stylesCtx:re,rootSelector:"wrapper",vars:O,varsResolver:ZG}),Ee=q?{required:d,disabled:S,"aria-invalid":!!y,"aria-describedby":J?.describedBy,id:J?.inputId||V}:{},Re=HG({__clearable:G,__clearSection:$,rightSection:j,__defaultRightSection:X,size:m});return s.jsx(qG,{value:{size:m||"sm"},children:s.jsxs(ne,{...ue("wrapper"),...F,...g,mod:[{error:!!y&&U,pointer:M,disabled:S,multiline:I,"data-with-right-section":!!Re,"data-with-left-section":!!x},W],variant:D,size:m,children:[x&&s.jsx("div",{...C,"data-position":"left",...ue("section",{className:C?.className,style:C?.style}),children:x}),s.jsx(ne,{component:"input",...Q,...Ee,ref:t,required:d,mod:{disabled:S,error:!!y&&U},variant:D,__size:N,...ue("input")}),Re&&s.jsx("div",{...R,"data-position":"right",...ue("section",{className:R?.className,style:R?.style}),children:Re})]})})});nn.classes=xi;nn.Wrapper=UE;nn.Label=Ov;nn.Error=Av;nn.Description=Dv;nn.Placeholder=qE;nn.ClearButton=h9;nn.displayName="@mantine/core/Input";function JG(e,t,n){const r=se(e,t,n),{label:a,description:i,error:l,required:u,classNames:d,styles:h,className:p,unstyled:m,__staticSelector:g,__stylesApiProps:y,errorProps:S,labelProps:x,descriptionProps:C,wrapperProps:T,id:j,size:R,style:_,inputContainer:A,inputWrapperOrder:k,withAsterisk:D,variant:O,vars:M,mod:I,attributes:L,...V}=r,{styleProps:q,rest:U}=is(V),W={label:a,description:i,error:l,required:u,classNames:d,className:p,__staticSelector:g,__stylesApiProps:y||r,errorProps:S,labelProps:x,descriptionProps:C,unstyled:m,styles:h,size:R,style:_,inputContainer:A,inputWrapperOrder:k,withAsterisk:D,variant:O,id:j,mod:I,attributes:L,...T};return{...U,classNames:d,styles:h,unstyled:m,wrapperProps:{...W,...q},inputProps:{required:u,classNames:d,styles:h,unstyled:m,size:R,__staticSelector:g,__stylesApiProps:y||r,error:l,variant:O,id:j,attributes:L}}}const eY={__staticSelector:"InputBase",withAria:!0,size:"sm"},Ha=Qn((e,t)=>{const{inputProps:n,wrapperProps:r,...a}=JG("InputBase",eY,e);return s.jsx(nn.Wrapper,{...r,children:s.jsx(nn,{...n,...a,ref:t})})});Ha.classes={...nn.classes,...nn.Wrapper.classes};Ha.displayName="@mantine/core/InputBase";const tY={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var p9={root:"m_8bffd616"};const Ue=Qn((e,t)=>{const n=se("Flex",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,gap:h,rowGap:p,columnGap:m,align:g,justify:y,wrap:S,direction:x,attributes:C,...T}=n,j=Ne({name:"Flex",classes:p9,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:C,vars:d}),R=wn(),_=Ah(),A=p5({styleProps:{gap:h,rowGap:p,columnGap:m,align:g,justify:y,wrap:S,direction:x},theme:R,data:tY});return s.jsxs(s.Fragment,{children:[A.hasResponsiveStyles&&s.jsx(_c,{selector:`.${_}`,styles:A.styles,media:A.media}),s.jsx(ne,{ref:t,...j("root",{className:_,style:cl(A.inlineStyles)}),...T})]})});Ue.classes=p9;Ue.displayName="@mantine/core/Flex";function nY(e,t){if(!t||!e)return!1;let n=t.parentNode;for(;n!=null;){if(n===e)return!0;n=n.parentNode}return!1}function rY({target:e,parent:t,ref:n,displayAfterTransitionEnd:r}){const a=b.useRef(-1),[i,l]=b.useState(!1),[u,d]=b.useState(typeof r=="boolean"?r:!1),h=()=>{if(!e||!t||!n.current)return;const y=e.getBoundingClientRect(),S=t.getBoundingClientRect(),x=window.getComputedStyle(e),C=window.getComputedStyle(t),T=Ws(x.borderTopWidth)+Ws(C.borderTopWidth),j=Ws(x.borderLeftWidth)+Ws(C.borderLeftWidth),R={top:y.top-S.top-T,left:y.left-S.left-j,width:y.width,height:y.height};n.current.style.transform=`translateY(${R.top}px) translateX(${R.left}px)`,n.current.style.width=`${R.width}px`,n.current.style.height=`${R.height}px`},p=()=>{window.clearTimeout(a.current),n.current&&(n.current.style.transitionDuration="0ms"),h(),a.current=window.setTimeout(()=>{n.current&&(n.current.style.transitionDuration="")},30)},m=b.useRef(null),g=b.useRef(null);return b.useEffect(()=>{if(h(),e)return m.current=new ResizeObserver(p),m.current.observe(e),t&&(g.current=new ResizeObserver(p),g.current.observe(t)),()=>{m.current?.disconnect(),g.current?.disconnect()}},[t,e]),b.useEffect(()=>{if(t){const y=S=>{nY(S.target,t)&&(p(),d(!1))};return t.addEventListener("transitionend",y),()=>{t.removeEventListener("transitionend",y)}}},[t]),UH(()=>{s5()!=="test"&&l(!0)},20,{autoInvoke:!0}),HH(y=>{y.forEach(S=>{S.type==="attributes"&&S.attributeName==="dir"&&p()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:i,hidden:u}}var m9={root:"m_96b553a6"};const aY=(e,{transitionDuration:t})=>({root:{"--transition-duration":typeof t=="number"?`${t}ms`:t}}),BE=xe((e,t)=>{const n=se("FloatingIndicator",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,target:h,parent:p,transitionDuration:m,mod:g,displayAfterTransitionEnd:y,attributes:S,...x}=n,C=Ne({name:"FloatingIndicator",classes:m9,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:S,vars:d,varsResolver:aY}),T=b.useRef(null),{initialized:j,hidden:R}=rY({target:h,parent:p,ref:T,displayAfterTransitionEnd:y}),_=Yn(t,T);return!h||!p?null:s.jsx(ne,{ref:_,mod:[{initialized:j,hidden:R},g],...C("root"),...x})});BE.displayName="@mantine/core/FloatingIndicator";BE.classes=m9;function g9({open:e,close:t,openDelay:n,closeDelay:r}){const a=b.useRef(-1),i=b.useRef(-1),l=()=>{window.clearTimeout(a.current),window.clearTimeout(i.current)},u=()=>{l(),n===0||n===void 0?e():a.current=window.setTimeout(e,n)},d=()=>{l(),r===0||r===void 0?t():i.current=window.setTimeout(t,r)};return b.useEffect(()=>l,[]),{openDropdown:u,closeDropdown:d}}function v9({style:e,size:t=16,...n}){return s.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:me(t),height:me(t),display:"block"},...n,children:s.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}v9.displayName="@mantine/core/AccordionChevron";var y9={root:"m_66836ed3",wrapper:"m_a5d60502",body:"m_667c2793",title:"m_6a03f287",label:"m_698f4f23",icon:"m_667f2a6a",message:"m_7fa78076",closeButton:"m_87f54839"};const iY=(e,{radius:t,color:n,variant:r,autoContrast:a})=>{const i=e.variantColorResolver({color:n||e.primaryColor,theme:e,variant:r||"light",autoContrast:a});return{root:{"--alert-radius":t===void 0?void 0:qt(t),"--alert-bg":n||r?i.background:void 0,"--alert-color":i.color,"--alert-bd":n||r?i.border:void 0}}},dl=xe((e,t)=>{const n=se("Alert",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,radius:h,color:p,title:m,children:g,id:y,icon:S,withCloseButton:x,onClose:C,closeButtonLabel:T,variant:j,autoContrast:R,role:_,attributes:A,...k}=n,D=Ne({name:"Alert",classes:y9,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:A,vars:d,varsResolver:iY}),O=xr(y),M=m&&`${O}-title`||void 0,I=`${O}-body`;return s.jsx(ne,{id:O,...D("root",{variant:j}),variant:j,ref:t,role:_||"alert",...k,"aria-describedby":g?I:void 0,"aria-labelledby":m?M:void 0,children:s.jsxs("div",{...D("wrapper"),children:[S&&s.jsx("div",{...D("icon"),children:S}),s.jsxs("div",{...D("body"),children:[m&&s.jsx("div",{...D("title"),"data-with-close-button":x||void 0,children:s.jsx("span",{id:M,...D("label"),children:m})}),g&&s.jsx("div",{id:I,...D("message"),"data-variant":j,children:g})]}),x&&s.jsx(ul,{...D("closeButton"),onClick:C,variant:"transparent",size:16,iconSize:16,"aria-label":T,unstyled:u})]})})});dl.classes=y9;dl.displayName="@mantine/core/Alert";var b9={root:"m_b6d8b162"};function oY(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const sY={inherit:!1},lY=(e,{variant:t,lineClamp:n,gradient:r,size:a,color:i})=>({root:{"--text-fz":Fn(a),"--text-lh":ZL(a),"--text-gradient":t==="gradient"?aj(r,e):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":i?en(i,e):void 0}}),Y=Qn((e,t)=>{const n=se("Text",sY,e),{lineClamp:r,truncate:a,inline:i,inherit:l,gradient:u,span:d,__staticSelector:h,vars:p,className:m,style:g,classNames:y,styles:S,unstyled:x,variant:C,mod:T,size:j,attributes:R,..._}=n,A=Ne({name:["Text",h],props:n,classes:b9,className:m,style:g,classNames:y,styles:S,unstyled:x,attributes:R,vars:p,varsResolver:lY});return s.jsx(ne,{...A("root",{focusable:!0}),ref:t,component:d?"span":"p",variant:C,mod:[{"data-truncate":oY(a),"data-line-clamp":typeof r=="number","data-inline":i,"data-inherit":l},T],size:j,..._})});Y.classes=b9;Y.displayName="@mantine/core/Text";var x9={root:"m_849cf0da"};const cY={underline:"hover"},$a=Qn((e,t)=>{const{underline:n,className:r,unstyled:a,mod:i,...l}=se("Anchor",cY,e);return s.jsx(Y,{component:"a",ref:t,className:$t({[x9.root]:!a},r),...l,mod:[{underline:n},i],__staticSelector:"Anchor",unstyled:a})});$a.classes=x9;$a.displayName="@mantine/core/Anchor";const[uY,yd]=yr("AppShell was not found in tree");var fl={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const HE=xe((e,t)=>{const{classNames:n,className:r,style:a,styles:i,unstyled:l,vars:u,withBorder:d,zIndex:h,mod:p,...m}=se("AppShellAside",null,e),g=yd();return g.disabled?null:s.jsx(ne,{component:"aside",ref:t,mod:[{"with-border":d??g.withBorder},p],...g.getStyles("aside",{className:$t({[oc.classNames.zeroRight]:g.offsetScrollbars},r),classNames:n,styles:i,style:a}),...m,__vars:{"--app-shell-aside-z-index":`calc(${h??g.zIndex} + 1)`}})});HE.classes=fl;HE.displayName="@mantine/core/AppShellAside";const FE=xe((e,t)=>{const{classNames:n,className:r,style:a,styles:i,unstyled:l,vars:u,withBorder:d,zIndex:h,mod:p,...m}=se("AppShellFooter",null,e),g=yd();return g.disabled?null:s.jsx(ne,{component:"footer",ref:t,mod:[{"with-border":d??g.withBorder},p],...g.getStyles("footer",{className:$t({[oc.classNames.zeroRight]:g.offsetScrollbars},r),classNames:n,styles:i,style:a}),...m,__vars:{"--app-shell-footer-z-index":(h??g.zIndex)?.toString()}})});FE.classes=fl;FE.displayName="@mantine/core/AppShellFooter";const VE=xe((e,t)=>{const{classNames:n,className:r,style:a,styles:i,unstyled:l,vars:u,withBorder:d,zIndex:h,mod:p,...m}=se("AppShellHeader",null,e),g=yd();return g.disabled?null:s.jsx(ne,{component:"header",ref:t,mod:[{"with-border":d??g.withBorder},p],...g.getStyles("header",{className:$t({[oc.classNames.zeroRight]:g.offsetScrollbars},r),classNames:n,styles:i,style:a}),...m,__vars:{"--app-shell-header-z-index":(h??g.zIndex)?.toString()}})});VE.classes=fl;VE.displayName="@mantine/core/AppShellHeader";const WE=xe((e,t)=>{const{classNames:n,className:r,style:a,styles:i,vars:l,...u}=se("AppShellMain",null,e),d=yd();return s.jsx(ne,{component:"main",ref:t,...d.getStyles("main",{className:r,style:a,classNames:n,styles:i}),...u})});WE.classes=fl;WE.displayName="@mantine/core/AppShellMain";function kh(e){return typeof e=="object"?e.base:e}function Mh(e){const t=typeof e=="object"&&e!==null&&typeof e.base<"u"&&Object.keys(e).length===1;return typeof e=="number"||typeof e=="string"||t}function Ph(e){return!(typeof e!="object"||e===null||Object.keys(e).length===1&&"base"in e)}function dY({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,aside:r,theme:a}){const i=r?.width,l="translateX(var(--app-shell-aside-width))",u="translateX(calc(var(--app-shell-aside-width) * -1))";if(r?.breakpoint&&!r?.collapsed?.mobile&&(n[r?.breakpoint]=n[r?.breakpoint]||{},n[r?.breakpoint]["--app-shell-aside-width"]="100%",n[r?.breakpoint]["--app-shell-aside-offset"]="0px"),Mh(i)){const d=me(kh(i));e["--app-shell-aside-width"]=d,e["--app-shell-aside-offset"]=d}if(Ph(i)&&(typeof i.base<"u"&&(e["--app-shell-aside-width"]=me(i.base),e["--app-shell-aside-offset"]=me(i.base)),hn(i).forEach(d=>{d!=="base"&&(t[d]=t[d]||{},t[d]["--app-shell-aside-width"]=me(i[d]),t[d]["--app-shell-aside-offset"]=me(i[d]))})),r?.collapsed?.desktop){const d=r.breakpoint;t[d]=t[d]||{},t[d]["--app-shell-aside-transform"]=l,t[d]["--app-shell-aside-transform-rtl"]=u,t[d]["--app-shell-aside-offset"]="0px !important",t[d]["--app-shell-aside-scroll-locked-visibility"]="hidden"}if(r?.collapsed?.mobile){const d=cE(r.breakpoint,a.breakpoints)-.1;n[d]=n[d]||{},n[d]["--app-shell-aside-width"]="100%",n[d]["--app-shell-aside-offset"]="0px",n[d]["--app-shell-aside-transform"]=l,n[d]["--app-shell-aside-transform-rtl"]=u,n[d]["--app-shell-aside-scroll-locked-visibility"]="hidden"}}function fY({baseStyles:e,minMediaStyles:t,footer:n}){const r=n?.height,a="translateY(var(--app-shell-footer-height))",i=n?.offset??!0;if(Mh(r)){const l=me(kh(r));e["--app-shell-footer-height"]=l,i&&(e["--app-shell-footer-offset"]=l)}Ph(r)&&(typeof r.base<"u"&&(e["--app-shell-footer-height"]=me(r.base),i&&(e["--app-shell-footer-offset"]=me(r.base))),hn(r).forEach(l=>{l!=="base"&&(t[l]=t[l]||{},t[l]["--app-shell-footer-height"]=me(r[l]),i&&(t[l]["--app-shell-footer-offset"]=me(r[l])))})),n?.collapsed&&(e["--app-shell-footer-transform"]=a,e["--app-shell-footer-offset"]="0px !important")}function hY({baseStyles:e,minMediaStyles:t,header:n}){const r=n?.height,a="translateY(calc(var(--app-shell-header-height) * -1))",i=n?.offset??!0;if(Mh(r)){const l=me(kh(r));e["--app-shell-header-height"]=l,i&&(e["--app-shell-header-offset"]=l)}Ph(r)&&(typeof r.base<"u"&&(e["--app-shell-header-height"]=me(r.base),i&&(e["--app-shell-header-offset"]=me(r.base))),hn(r).forEach(l=>{l!=="base"&&(t[l]=t[l]||{},t[l]["--app-shell-header-height"]=me(r[l]),i&&(t[l]["--app-shell-header-offset"]=me(r[l])))})),n?.collapsed&&(e["--app-shell-header-transform"]=a,e["--app-shell-header-offset"]="0px !important")}function pY({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,navbar:r,theme:a}){const i=r?.width,l="translateX(calc(var(--app-shell-navbar-width) * -1))",u="translateX(var(--app-shell-navbar-width))";if(r?.breakpoint&&!r?.collapsed?.mobile&&(n[r?.breakpoint]=n[r?.breakpoint]||{},n[r?.breakpoint]["--app-shell-navbar-width"]="100%",n[r?.breakpoint]["--app-shell-navbar-offset"]="0px"),Mh(i)){const d=me(kh(i));e["--app-shell-navbar-width"]=d,e["--app-shell-navbar-offset"]=d}if(Ph(i)&&(typeof i.base<"u"&&(e["--app-shell-navbar-width"]=me(i.base),e["--app-shell-navbar-offset"]=me(i.base)),hn(i).forEach(d=>{d!=="base"&&(t[d]=t[d]||{},t[d]["--app-shell-navbar-width"]=me(i[d]),t[d]["--app-shell-navbar-offset"]=me(i[d]))})),r?.collapsed?.desktop){const d=r.breakpoint;t[d]=t[d]||{},t[d]["--app-shell-navbar-transform"]=l,t[d]["--app-shell-navbar-transform-rtl"]=u,t[d]["--app-shell-navbar-offset"]="0px !important"}if(r?.collapsed?.mobile){const d=cE(r.breakpoint,a.breakpoints)-.1;n[d]=n[d]||{},n[d]["--app-shell-navbar-width"]="100%",n[d]["--app-shell-navbar-offset"]="0px",n[d]["--app-shell-navbar-transform"]=l,n[d]["--app-shell-navbar-transform-rtl"]=u}}function $x(e){return Number(e)===0?"0px":In(e)}function mY({padding:e,baseStyles:t,minMediaStyles:n}){Mh(e)&&(t["--app-shell-padding"]=$x(kh(e))),Ph(e)&&(e.base&&(t["--app-shell-padding"]=$x(e.base)),hn(e).forEach(r=>{r!=="base"&&(n[r]=n[r]||{},n[r]["--app-shell-padding"]=$x(e[r]))}))}function gY({navbar:e,header:t,footer:n,aside:r,padding:a,theme:i}){const l={},u={},d={};pY({baseStyles:d,minMediaStyles:l,maxMediaStyles:u,navbar:e,theme:i}),dY({baseStyles:d,minMediaStyles:l,maxMediaStyles:u,aside:r,theme:i}),hY({baseStyles:d,minMediaStyles:l,header:t}),fY({baseStyles:d,minMediaStyles:l,footer:n}),mY({baseStyles:d,minMediaStyles:l,padding:a});const h=Zf(hn(l),i.breakpoints).map(g=>({query:`(min-width: ${Mg(g.px)})`,styles:l[g.value]})),p=Zf(hn(u),i.breakpoints).map(g=>({query:`(max-width: ${Mg(g.px)})`,styles:u[g.value]})),m=[...h,...p];return{baseStyles:d,media:m}}function vY({navbar:e,header:t,aside:n,footer:r,padding:a}){const i=wn(),l=rs(),{media:u,baseStyles:d}=gY({navbar:e,header:t,footer:r,aside:n,padding:a,theme:i});return s.jsx(_c,{media:u,styles:d,selector:l.cssVariablesSelector})}const GE=xe((e,t)=>{const{classNames:n,className:r,style:a,styles:i,unstyled:l,vars:u,withBorder:d,zIndex:h,mod:p,...m}=se("AppShellNavbar",null,e),g=yd();return g.disabled?null:s.jsx(ne,{component:"nav",ref:t,mod:[{"with-border":d??g.withBorder},p],...g.getStyles("navbar",{className:r,classNames:n,styles:i,style:a}),...m,__vars:{"--app-shell-navbar-z-index":`calc(${h??g.zIndex} + 1)`}})});GE.classes=fl;GE.displayName="@mantine/core/AppShellNavbar";const YE=Qn((e,t)=>{const{classNames:n,className:r,style:a,styles:i,vars:l,grow:u,mod:d,...h}=se("AppShellSection",null,e),p=yd();return s.jsx(ne,{ref:t,mod:[{grow:u},d],...p.getStyles("section",{className:r,style:a,classNames:n,styles:i}),...h})});YE.classes=fl;YE.displayName="@mantine/core/AppShellSection";function yY({transitionDuration:e,disabled:t}){const[n,r]=b.useState(!0),a=b.useRef(-1),i=b.useRef(-1);return i5("resize",()=>{r(!0),clearTimeout(a.current),a.current=window.setTimeout(()=>b.startTransition(()=>{r(!1)}),200)}),Tc(()=>{r(!0),clearTimeout(i.current),i.current=window.setTimeout(()=>b.startTransition(()=>{r(!1)}),e||0)},[t,e]),n}const bY={withBorder:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:br("app")},xY=(e,{transitionDuration:t,transitionTimingFunction:n})=>({root:{"--app-shell-transition-duration":`${t}ms`,"--app-shell-transition-timing-function":n}}),Br=xe((e,t)=>{const n=se("AppShell",bY,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,navbar:h,withBorder:p,padding:m,transitionDuration:g,transitionTimingFunction:y,header:S,zIndex:x,layout:C,disabled:T,aside:j,footer:R,offsetScrollbars:_=!0,mod:A,attributes:k,...D}=n,O=Ne({name:"AppShell",classes:fl,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:k,vars:d,varsResolver:xY}),M=yY({disabled:T,transitionDuration:g});return s.jsxs(uY,{value:{getStyles:O,withBorder:p,zIndex:x,disabled:T,offsetScrollbars:_},children:[s.jsx(vY,{navbar:h,header:S,aside:j,footer:R,padding:m}),s.jsx(ne,{ref:t,...O("root"),mod:[{resizing:M,layout:C,disabled:T},A],...D})]})});Br.classes=fl;Br.displayName="@mantine/core/AppShell";Br.Navbar=GE;Br.Header=VE;Br.Main=WE;Br.Aside=HE;Br.Footer=FE;Br.Section=YE;function S9(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>S9(t))}:e}function QE(e){return e?e.map(t=>S9(t)):[]}function KE(e){return e.reduce((t,n)=>"group"in n?{...t,...KE(n.items)}:(t[n.value]=n,t),{})}var ta={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2",optionsDropdownCheckPlaceholder:"m_a530ee0a"};const SY={error:null},wY=(e,{size:t,color:n})=>({chevron:{"--combobox-chevron-size":at(t,"combobox-chevron-size"),"--combobox-chevron-color":n?en(n,e):void 0}}),kv=xe((e,t)=>{const n=se("ComboboxChevron",SY,e),{size:r,error:a,style:i,className:l,classNames:u,styles:d,unstyled:h,vars:p,mod:m,...g}=n,y=Ne({name:"ComboboxChevron",classes:ta,props:n,style:i,className:l,classNames:u,styles:d,unstyled:h,vars:p,varsResolver:wY,rootSelector:"chevron"});return s.jsx(ne,{component:"svg",...g,...y("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:a},m],ref:t,children:s.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});kv.classes=ta;kv.displayName="@mantine/core/ComboboxChevron";const[CY,Si]=yr("Combobox component was not found in tree"),w9=b.forwardRef(({size:e,onMouseDown:t,onClick:n,onClear:r,...a},i)=>s.jsx(nn.ClearButton,{ref:i,tabIndex:-1,"aria-hidden":!0,...a,onMouseDown:l=>{l.preventDefault(),t?.(l)},onClick:l=>{r(),n?.(l)}}));w9.displayName="@mantine/core/ComboboxClearButton";const XE=xe((e,t)=>{const{classNames:n,styles:r,className:a,style:i,hidden:l,...u}=se("ComboboxDropdown",null,e),d=Si();return s.jsx(Sa.Dropdown,{...u,ref:t,role:"presentation","data-hidden":l||void 0,...d.getStyles("dropdown",{className:a,style:i,classNames:n,styles:r})})});XE.classes=ta;XE.displayName="@mantine/core/ComboboxDropdown";const jY={refProp:"ref"},C9=xe((e,t)=>{const{children:n,refProp:r}=se("ComboboxDropdownTarget",jY,e);if(Si(),!oE(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return s.jsx(Sa.Target,{ref:t,refProp:r,children:n})});C9.displayName="@mantine/core/ComboboxDropdownTarget";const ZE=xe((e,t)=>{const{classNames:n,className:r,style:a,styles:i,vars:l,...u}=se("ComboboxEmpty",null,e),d=Si();return s.jsx(ne,{ref:t,...d.getStyles("empty",{className:r,classNames:n,styles:i,style:a}),...u})});ZE.classes=ta;ZE.displayName="@mantine/core/ComboboxEmpty";function JE({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:n,withExpandedAttribute:r,targetType:a,autoComplete:i}){const l=Si(),[u,d]=b.useState(null),h=m=>{if(e?.(m),!l.readOnly&&t){if(m.nativeEvent.isComposing)return;if(m.nativeEvent.code==="ArrowDown"&&(m.preventDefault(),l.store.dropdownOpened?d(l.store.selectNextOption()):(l.store.openDropdown("keyboard"),d(l.store.selectActiveOption()),l.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),m.nativeEvent.code==="ArrowUp"&&(m.preventDefault(),l.store.dropdownOpened?d(l.store.selectPreviousOption()):(l.store.openDropdown("keyboard"),d(l.store.selectActiveOption()),l.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),m.nativeEvent.code==="Enter"||m.nativeEvent.code==="NumpadEnter"){if(m.nativeEvent.keyCode===229)return;const g=l.store.getSelectedOptionIndex();l.store.dropdownOpened&&g!==-1?(m.preventDefault(),l.store.clickSelectedOption()):a==="button"&&(m.preventDefault(),l.store.openDropdown("keyboard"))}m.key==="Escape"&&l.store.closeDropdown("keyboard"),m.nativeEvent.code==="Space"&&a==="button"&&(m.preventDefault(),l.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r?!!(l.store.listId&&l.store.dropdownOpened):void 0,"aria-controls":l.store.dropdownOpened&&l.store.listId?l.store.listId:void 0,"aria-activedescendant":l.store.dropdownOpened&&u||void 0,autoComplete:i,"data-expanded":l.store.dropdownOpened||void 0,"data-mantine-stop-propagation":l.store.dropdownOpened||void 0}:{},onKeyDown:h}}const EY={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},j9=xe((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:a,withAriaAttributes:i,withExpandedAttribute:l,targetType:u,autoComplete:d,...h}=se("ComboboxEventsTarget",EY,e),p=Rc(n);if(!p)throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const m=Si(),g=JE({targetType:u,withAriaAttributes:i,withKeyboardNavigation:a,withExpandedAttribute:l,onKeyDown:p.props.onKeyDown,autoComplete:d});return b.cloneElement(p,{...g,...h,[r]:Yn(t,m.store.targetRef,gv(p))})});j9.displayName="@mantine/core/ComboboxEventsTarget";const eT=xe((e,t)=>{const{classNames:n,className:r,style:a,styles:i,vars:l,...u}=se("ComboboxFooter",null,e),d=Si();return s.jsx(ne,{ref:t,...d.getStyles("footer",{className:r,classNames:n,style:a,styles:i}),...u,onMouseDown:h=>{h.preventDefault()}})});eT.classes=ta;eT.displayName="@mantine/core/ComboboxFooter";const tT=xe((e,t)=>{const{classNames:n,className:r,style:a,styles:i,vars:l,children:u,label:d,id:h,...p}=se("ComboboxGroup",null,e),m=Si(),g=xr(h);return s.jsxs(ne,{ref:t,role:"group","aria-labelledby":d?g:void 0,...m.getStyles("group",{className:r,classNames:n,style:a,styles:i}),...p,children:[d&&s.jsx("div",{id:g,...m.getStyles("groupLabel",{classNames:n,styles:i}),children:d}),u]})});tT.classes=ta;tT.displayName="@mantine/core/ComboboxGroup";const nT=xe((e,t)=>{const{classNames:n,className:r,style:a,styles:i,vars:l,...u}=se("ComboboxHeader",null,e),d=Si();return s.jsx(ne,{ref:t,...d.getStyles("header",{className:r,classNames:n,style:a,styles:i}),...u,onMouseDown:h=>{h.preventDefault()}})});nT.classes=ta;nT.displayName="@mantine/core/ComboboxHeader";function E9({value:e,valuesDivider:t=",",...n}){return s.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...n})}E9.displayName="@mantine/core/ComboboxHiddenInput";const rT=xe((e,t)=>{const n=se("ComboboxOption",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,onClick:d,id:h,active:p,onMouseDown:m,onMouseOver:g,disabled:y,selected:S,mod:x,...C}=n,T=Si(),j=b.useId(),R=h||j;return s.jsx(ne,{...T.getStyles("option",{className:a,classNames:r,styles:l,style:i}),...C,ref:t,id:R,mod:["combobox-option",{"combobox-active":p,"combobox-disabled":y,"combobox-selected":S},x],role:"option",onClick:_=>{y?_.preventDefault():(T.onOptionSubmit?.(n.value,n),d?.(_))},onMouseDown:_=>{_.preventDefault(),m?.(_)},onMouseOver:_=>{T.resetSelectionOnOptionHover&&T.store.resetSelectedOption(),g?.(_)}})});rT.classes=ta;rT.displayName="@mantine/core/ComboboxOption";const aT=xe((e,t)=>{const n=se("ComboboxOptions",null,e),{classNames:r,className:a,style:i,styles:l,id:u,onMouseDown:d,labelledBy:h,...p}=n,m=Si(),g=xr(u);return b.useEffect(()=>{m.store.setListId(g)},[g]),s.jsx(ne,{ref:t,...m.getStyles("options",{className:a,style:i,classNames:r,styles:l}),...p,id:g,role:"listbox","aria-labelledby":h,onMouseDown:y=>{y.preventDefault(),d?.(y)}})});aT.classes=ta;aT.displayName="@mantine/core/ComboboxOptions";const TY={withAriaAttributes:!0,withKeyboardNavigation:!0},iT=xe((e,t)=>{const n=se("ComboboxSearch",TY,e),{classNames:r,styles:a,unstyled:i,vars:l,withAriaAttributes:u,onKeyDown:d,withKeyboardNavigation:h,size:p,...m}=n,g=Si(),y=g.getStyles("search"),S=JE({targetType:"input",withAriaAttributes:u,withKeyboardNavigation:h,withExpandedAttribute:!1,onKeyDown:d,autoComplete:"off"});return s.jsx(nn,{ref:Yn(t,g.store.searchRef),classNames:[{input:y.className},r],styles:[{input:y.style},a],size:p||g.size,...S,...m,__staticSelector:"Combobox"})});iT.classes=ta;iT.displayName="@mantine/core/ComboboxSearch";const RY={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},T9=xe((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:a,withAriaAttributes:i,withExpandedAttribute:l,targetType:u,autoComplete:d,...h}=se("ComboboxTarget",RY,e),p=Rc(n);if(!p)throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const m=Si(),g=JE({targetType:u,withAriaAttributes:i,withKeyboardNavigation:a,withExpandedAttribute:l,onKeyDown:p.props.onKeyDown,autoComplete:d}),y=b.cloneElement(p,{...g,...h});return s.jsx(Sa.Target,{ref:Yn(t,m.store.targetRef),children:y})});T9.displayName="@mantine/core/ComboboxTarget";function _Y(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function DY(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function AY(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function Nh({defaultOpened:e,opened:t,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:a,loop:i=!0,scrollBehavior:l="instant"}={}){const[u,d]=sr({value:t,defaultValue:e,finalValue:!1,onChange:n}),h=b.useRef(null),p=b.useRef(-1),m=b.useRef(null),g=b.useRef(null),y=b.useRef(-1),S=b.useRef(-1),x=b.useRef(-1),C=b.useCallback((N="unknown")=>{u||(d(!0),a?.(N))},[d,a,u]),T=b.useCallback((N="unknown")=>{u&&(d(!1),r?.(N))},[d,r,u]),j=b.useCallback((N="unknown")=>{u?T(N):C(N)},[T,C,u]),R=b.useCallback(()=>{const N=$s(g.current),z=og(`#${h.current} [data-combobox-selected]`,N);z?.removeAttribute("data-combobox-selected"),z?.removeAttribute("aria-selected")},[]),_=b.useCallback(N=>{const z=$s(g.current),$=og(`#${h.current}`,z),G=$?Bs("[data-combobox-option]",$):null;if(!G)return null;const X=N>=G.length?0:N<0?G.length-1:N;return p.current=X,G?.[X]&&!G[X].hasAttribute("data-combobox-disabled")?(R(),G[X].setAttribute("data-combobox-selected","true"),G[X].setAttribute("aria-selected","true"),G[X].scrollIntoView({block:"nearest",behavior:l}),G[X].id):null},[l,R]),A=b.useCallback(()=>{const N=$s(g.current),z=og(`#${h.current} [data-combobox-active]`,N);if(z){const G=Bs(`#${h.current} [data-combobox-option]`,N).findIndex(X=>X===z);return _(G)}return _(0)},[_]),k=b.useCallback(()=>{const N=$s(g.current),z=Bs(`#${h.current} [data-combobox-option]`,N);return _(DY(p.current,z,i))},[_,i]),D=b.useCallback(()=>{const N=$s(g.current),z=Bs(`#${h.current} [data-combobox-option]`,N);return _(_Y(p.current,z,i))},[_,i]),O=b.useCallback(()=>{const N=$s(g.current),z=Bs(`#${h.current} [data-combobox-option]`,N);return _(AY(z))},[_]),M=b.useCallback((N="selected",z)=>{x.current=window.setTimeout(()=>{const $=$s(g.current),G=Bs(`#${h.current} [data-combobox-option]`,$),X=G.findIndex(H=>H.hasAttribute(`data-combobox-${N}`));p.current=X,z?.scrollIntoView&&G[X]?.scrollIntoView({block:"nearest",behavior:l})},0)},[]),I=b.useCallback(()=>{p.current=-1,R()},[R]),L=b.useCallback(()=>{const N=$s(g.current);Bs(`#${h.current} [data-combobox-option]`,N)?.[p.current]?.click()},[]),V=b.useCallback(N=>{h.current=N},[]),q=b.useCallback(()=>{y.current=window.setTimeout(()=>m.current?.focus(),0)},[]),U=b.useCallback(()=>{S.current=window.setTimeout(()=>g.current?.focus(),0)},[]),W=b.useCallback(()=>p.current,[]);return b.useEffect(()=>()=>{window.clearTimeout(y.current),window.clearTimeout(S.current),window.clearTimeout(x.current)},[]),{dropdownOpened:u,openDropdown:C,closeDropdown:T,toggleDropdown:j,selectedOptionIndex:p.current,getSelectedOptionIndex:W,selectOption:_,selectFirstOption:O,selectActiveOption:A,selectNextOption:k,selectPreviousOption:D,resetSelectedOption:I,updateSelectedOptionIndex:M,listId:h.current,setListId:V,clickSelectedOption:L,searchRef:m,focusSearchInput:q,targetRef:g,focusTarget:U}}const OY={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0},size:"sm"},kY=(e,{size:t,dropdownPadding:n})=>({options:{"--combobox-option-fz":Fn(t),"--combobox-option-padding":at(t,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:me(n),"--combobox-option-fz":Fn(t),"--combobox-option-padding":at(t,"combobox-option-padding")}});function st(e){const t=se("Combobox",OY,e),{classNames:n,styles:r,unstyled:a,children:i,store:l,vars:u,onOptionSubmit:d,onClose:h,size:p,dropdownPadding:m,resetSelectionOnOptionHover:g,__staticSelector:y,readOnly:S,attributes:x,...C}=t,T=Nh(),j=l||T,R=Ne({name:y||"Combobox",classes:ta,props:t,classNames:n,styles:r,unstyled:a,attributes:x,vars:u,varsResolver:kY}),_=()=>{h?.(),j.closeDropdown()};return s.jsx(CY,{value:{getStyles:R,store:j,onOptionSubmit:d,size:p,resetSelectionOnOptionHover:g,readOnly:S},children:s.jsx(Sa,{opened:j.dropdownOpened,preventPositionChangeWhenVisible:!0,...C,onChange:A=>!A&&_(),withRoles:!1,unstyled:a,children:i})})}const MY=e=>e;st.extend=MY;st.classes=ta;st.displayName="@mantine/core/Combobox";st.Target=T9;st.Dropdown=XE;st.Options=aT;st.Option=rT;st.Search=iT;st.Empty=ZE;st.Chevron=kv;st.Footer=eT;st.Header=nT;st.EventsTarget=j9;st.DropdownTarget=C9;st.Group=tT;st.ClearButton=w9;st.HiddenInput=E9;var R9={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const _9=R9,Mv=b.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:n,classNames:r,styles:a,unstyled:i,children:l,label:u,description:d,id:h,disabled:p,error:m,size:g,labelPosition:y="left",bodyElement:S="div",labelElement:x="label",variant:C,style:T,vars:j,mod:R,attributes:_,...A},k)=>{const D=Ne({name:e,props:t,className:n,style:T,classes:R9,classNames:r,styles:a,unstyled:i,attributes:_});return s.jsx(ne,{...D("root"),ref:k,__vars:{"--label-fz":Fn(g),"--label-lh":at(g,"label-lh")},mod:[{"label-position":y},R],variant:C,size:g,...A,children:s.jsxs(ne,{component:S,htmlFor:S==="label"?h:void 0,...D("body"),children:[l,s.jsxs("div",{...D("labelWrapper"),"data-disabled":p||void 0,children:[u&&s.jsx(ne,{component:x,htmlFor:x==="label"?h:void 0,...D("label"),"data-disabled":p||void 0,children:u}),d&&s.jsx(nn.Description,{size:g,__inheritStyles:!1,...D("description"),children:d}),m&&typeof m!="boolean"&&s.jsx(nn.Error,{size:g,__inheritStyles:!1,...D("error"),children:m})]})]})})});Mv.displayName="@mantine/core/InlineInput";const D9=b.createContext(null),PY=D9.Provider,A9=()=>b.useContext(D9),[NY,IY]=Gi();var O9={card:"m_26775b0a"};const LY={withBorder:!0},zY=(e,{radius:t})=>({card:{"--card-radius":qt(t)}}),oT=xe((e,t)=>{const n=se("CheckboxCard",LY,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,checked:h,mod:p,withBorder:m,value:g,onClick:y,defaultChecked:S,onChange:x,attributes:C,...T}=n,j=Ne({name:"CheckboxCard",classes:O9,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:C,vars:d,varsResolver:zY,rootSelector:"card"}),R=A9(),_=typeof h=="boolean"?h:R?R.value.includes(g||""):void 0,[A,k]=sr({value:_,defaultValue:S,finalValue:!1,onChange:x});return s.jsx(NY,{value:{checked:A},children:s.jsx(Vn,{ref:t,mod:[{"with-border":m,checked:A},p],...j("card"),...T,role:"checkbox","aria-checked":A,onClick:D=>{y?.(D),R?.onChange(g||""),k(!A)}})})});oT.displayName="@mantine/core/CheckboxCard";oT.classes=O9;function sT({children:e,role:t}){const n=vd();return n?s.jsx("div",{role:t,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:e}):s.jsx(s.Fragment,{children:e})}const lT=xe((e,t)=>{const{value:n,defaultValue:r,onChange:a,size:i,wrapperProps:l,children:u,readOnly:d,disabled:h,...p}=se("CheckboxGroup",null,e),[m,g]=sr({value:n,defaultValue:r,finalValue:[],onChange:a}),y=S=>{const x=typeof S=="string"?S:S.currentTarget.value;!d&&g(m.includes(x)?m.filter(C=>C!==x):[...m,x])};return s.jsx(PY,{value:{value:m,onChange:y,size:i,disabled:h},children:s.jsx(nn.Wrapper,{size:i,ref:t,...l,...p,labelElement:"div",__staticSelector:"CheckboxGroup",children:s.jsx(sT,{role:"group",children:u})})})});lT.classes=nn.Wrapper.classes;lT.displayName="@mantine/core/CheckboxGroup";function Pv({size:e,style:t,...n}){const r=e!==void 0?{width:me(e),height:me(e),...t}:t;return s.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:s.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function k9({indeterminate:e,...t}){return e?s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...t,children:s.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):s.jsx(Pv,{...t})}var M9={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const $Y={icon:k9,variant:"filled"},qY=(e,{radius:t,color:n,size:r,iconColor:a,variant:i,autoContrast:l})=>{const u=ga({color:n||e.primaryColor,theme:e}),d=u.isThemeColor&&u.shade===void 0?`var(--mantine-color-${u.color}-outline)`:u.color;return{indicator:{"--checkbox-size":at(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:qt(t),"--checkbox-color":i==="outline"?d:en(n,e),"--checkbox-icon-color":a?en(a,e):as(l,e)?Yi({color:n,theme:e,autoContrast:l}):void 0}}},cT=xe((e,t)=>{const n=se("CheckboxIndicator",$Y,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,icon:h,indeterminate:p,radius:m,color:g,iconColor:y,autoContrast:S,checked:x,mod:C,variant:T,disabled:j,attributes:R,..._}=n,A=Ne({name:"CheckboxIndicator",classes:M9,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:R,vars:d,varsResolver:qY,rootSelector:"indicator"}),k=IY(),D=typeof x=="boolean"||typeof p=="boolean"?x||p:k?.checked||!1;return s.jsx(ne,{ref:t,...A("indicator",{variant:T}),variant:T,mod:[{checked:D,disabled:j},C],..._,children:s.jsx(h,{indeterminate:p,...A("icon")})})});cT.displayName="@mantine/core/CheckboxIndicator";cT.classes=M9;var P9={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const UY={labelPosition:"right",icon:k9,variant:"filled"},BY=(e,{radius:t,color:n,size:r,iconColor:a,variant:i,autoContrast:l})=>{const u=ga({color:n||e.primaryColor,theme:e}),d=u.isThemeColor&&u.shade===void 0?`var(--mantine-color-${u.color}-outline)`:u.color;return{root:{"--checkbox-size":at(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:qt(t),"--checkbox-color":i==="outline"?d:en(n,e),"--checkbox-icon-color":a?en(a,e):as(l,e)?Yi({color:n,theme:e,autoContrast:l}):void 0}}},hi=xe((e,t)=>{const n=se("Checkbox",UY,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,color:h,label:p,id:m,size:g,radius:y,wrapperProps:S,checked:x,labelPosition:C,description:T,error:j,disabled:R,variant:_,indeterminate:A,icon:k,rootRef:D,iconColor:O,onChange:M,autoContrast:I,mod:L,attributes:V,...q}=n,U=A9(),W=g||U?.size,N=Ne({name:"Checkbox",props:n,classes:P9,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:V,vars:d,varsResolver:BY}),{styleProps:z,rest:$}=is(q),G=xr(m),X={checked:U?.value.includes($.value)??x,onChange:Q=>{U?.onChange(Q),M?.(Q)},disabled:U?.disabled??R},H=b.useRef(null),F=t||H;return b.useEffect(()=>{F&&"current"in F&&F.current&&(F.current.indeterminate=A||!1,A?F.current.setAttribute("data-indeterminate","true"):F.current.removeAttribute("data-indeterminate"))},[A,F]),s.jsx(Mv,{...N("root"),__staticSelector:"Checkbox",__stylesApiProps:n,id:G,size:W,labelPosition:C,label:p,description:T,error:j,disabled:X.disabled,classNames:r,styles:l,unstyled:u,"data-checked":X.checked||x||void 0,variant:_,ref:D,mod:L,...z,...S,children:s.jsxs(ne,{...N("inner"),mod:{"data-label-position":C},children:[s.jsx(ne,{component:"input",id:G,ref:F,mod:{error:!!j},...N("input",{focusable:!0,variant:_}),...$,...X,type:"checkbox"}),s.jsx(k,{indeterminate:A,...N("icon")})]})})});hi.classes={...P9,..._9};hi.displayName="@mantine/core/Checkbox";hi.Group=lT;hi.Indicator=cT;hi.Card=oT;function Ju(e){return"group"in e}function N9({options:e,search:t,limit:n}){const r=t.trim().toLowerCase(),a=[];for(let i=0;i<e.length;i+=1){const l=e[i];if(a.length===n)return a;Ju(l)&&a.push({group:l.group,items:N9({options:l.items,search:t,limit:n-a.length})}),Ju(l)||l.label.toLowerCase().includes(r)&&a.push(l)}return a}function HY(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function I9(e,t=new Set){if(Array.isArray(e))for(const n of e)if(Ju(n))I9(n.items,t);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(t.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);t.add(n.value)}}function FY(e,t){return Array.isArray(e)?e.includes(t):e===t}function L9({data:e,withCheckIcon:t,withAlignedLabels:n,value:r,checkIconPosition:a,unstyled:i,renderOption:l}){if(!Ju(e)){const d=FY(r,e.value),h=t&&(d?s.jsx(Pv,{className:ta.optionsDropdownCheckIcon}):n?s.jsx("div",{className:ta.optionsDropdownCheckPlaceholder}):null),p=s.jsxs(s.Fragment,{children:[a==="left"&&h,s.jsx("span",{children:e.label}),a==="right"&&h]});return s.jsx(st.Option,{value:e.value,disabled:e.disabled,className:$t({[ta.optionsDropdownOption]:!i}),"data-reverse":a==="right"||void 0,"data-checked":d||void 0,"aria-selected":d,active:d,children:typeof l=="function"?l({option:e,checked:d}):p})}const u=e.items.map(d=>s.jsx(L9,{data:d,value:r,unstyled:i,withCheckIcon:t,withAlignedLabels:n,checkIconPosition:a,renderOption:l},d.value));return s.jsx(st.Group,{label:e.group,children:u})}function z9({data:e,hidden:t,hiddenWhenEmpty:n,filter:r,search:a,limit:i,maxDropdownHeight:l,withScrollArea:u=!0,filterOptions:d=!0,withCheckIcon:h=!1,withAlignedLabels:p=!1,value:m,checkIconPosition:g,nothingFoundMessage:y,unstyled:S,labelId:x,renderOption:C,scrollAreaProps:T,"aria-label":j}){I9(e);const _=typeof a=="string"?(r||N9)({options:e,search:d?a:"",limit:i??1/0}):e,A=HY(_),k=_.map(D=>s.jsx(L9,{data:D,withCheckIcon:h,withAlignedLabels:p,value:m,checkIconPosition:g,unstyled:S,renderOption:C},Ju(D)?D.group:D.value));return s.jsx(st.Dropdown,{hidden:t||n&&A,"data-composed":!0,children:s.jsxs(st.Options,{labelledBy:x,"aria-label":j,children:[u?s.jsx(Sn.Autosize,{mah:l??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...T,children:k}):k,A&&y&&s.jsx(st.Empty,{children:y})]})})}const $9=b.createContext(null),VY=$9.Provider;function WY(){return{withinGroup:!!b.useContext($9)}}var Nv={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const GY=(e,{spacing:t})=>({group:{"--ag-spacing":In(t)}}),uT=xe((e,t)=>{const n=se("AvatarGroup",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,spacing:h,attributes:p,...m}=n,g=Ne({name:"AvatarGroup",classes:Nv,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:p,vars:d,varsResolver:GY,rootSelector:"group"});return s.jsx(VY,{value:!0,children:s.jsx(ne,{ref:t,...g("group"),...m})})});uT.classes=Nv;uT.displayName="@mantine/core/AvatarGroup";function YY(e){return s.jsx("svg",{...e,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function QY(e){let t=0;for(let n=0;n<e.length;n+=1){const r=e.charCodeAt(n);t=(t<<5)-t+r,t|=0}return t}const KY=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function XY(e,t=KY){const n=QY(e),r=Math.abs(n)%t.length;return t[r]}function ZY(e,t=2){const n=e.split(" ");return n.length===1?e.slice(0,t).toUpperCase():n.map(r=>r[0]).slice(0,t).join("").toUpperCase()}const JY=(e,{size:t,radius:n,variant:r,gradient:a,color:i,autoContrast:l,name:u,allowedInitialsColors:d})=>{const h=i==="initials"&&typeof u=="string"?XY(u,d):i,p=e.variantColorResolver({color:h||"gray",theme:e,gradient:a,variant:r||"light",autoContrast:l});return{root:{"--avatar-size":at(t,"avatar-size"),"--avatar-radius":n===void 0?void 0:qt(n),"--avatar-bg":h||r?p.background:void 0,"--avatar-color":h||r?p.color:void 0,"--avatar-bd":h||r?p.border:void 0}}},Jo=Qn((e,t)=>{const n=se("Avatar",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,src:h,alt:p,radius:m,color:g,gradient:y,imageProps:S,children:x,autoContrast:C,mod:T,name:j,allowedInitialsColors:R,attributes:_,...A}=n,k=WY(),[D,O]=b.useState(!h),M=Ne({name:"Avatar",props:n,classes:Nv,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:_,vars:d,varsResolver:JY});return b.useEffect(()=>O(!h),[h]),s.jsx(ne,{...M("root"),mod:[{"within-group":k.withinGroup},T],ref:t,...A,children:D||!h?s.jsx("span",{...M("placeholder"),title:p,children:x||typeof j=="string"&&ZY(j)||s.jsx(YY,{})}):s.jsx("img",{...S,...M("image"),src:h,alt:p,onError:I=>{O(!0),S?.onError?.(I)}})})});Jo.classes=Nv;Jo.displayName="@mantine/core/Avatar";Jo.Group=uT;var q9={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const eQ=(e,{radius:t,color:n,gradient:r,variant:a,size:i,autoContrast:l,circle:u})=>{const d=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:a||"filled",autoContrast:l});return{root:{"--badge-height":at(i,"badge-height"),"--badge-padding-x":at(i,"badge-padding-x"),"--badge-fz":at(i,"badge-fz"),"--badge-radius":u||t===void 0?void 0:qt(t),"--badge-bg":n||a?d.background:void 0,"--badge-color":n||a?d.color:void 0,"--badge-bd":n||a?d.border:void 0,"--badge-dot-color":a==="dot"?en(n,e):void 0}}},Bi=Qn((e,t)=>{const n=se("Badge",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,radius:h,color:p,gradient:m,leftSection:g,rightSection:y,children:S,variant:x,fullWidth:C,autoContrast:T,circle:j,mod:R,attributes:_,...A}=n,k=Ne({name:"Badge",props:n,classes:q9,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:_,vars:d,varsResolver:eQ});return s.jsxs(ne,{variant:x,mod:[{block:C,circle:j,"with-right-section":!!y,"with-left-section":!!g},R],...k("root",{variant:x}),ref:t,...A,children:[g&&s.jsx("span",{...k("section"),"data-position":"left",children:g}),s.jsx("span",{...k("label"),children:S}),y&&s.jsx("span",{...k("section"),"data-position":"right",children:y})]})});Bi.classes=q9;Bi.displayName="@mantine/core/Badge";var U9={root:"m_ddec01c0",icon:"m_dde7bd57",cite:"m_dde51a35"};const tQ={iconSize:48},nQ=(e,{color:t,iconSize:n,radius:r})=>{const a=ga({color:t||e.primaryColor,theme:e,colorScheme:"dark"}),i=ga({color:t||e.primaryColor,theme:e,colorScheme:"light"});return{root:{"--bq-bg-light":si(i.value,.07),"--bq-bg-dark":si(a.value,.06),"--bq-bd":en(t,e),"--bq-icon-size":me(n),"--bq-radius":qt(r)}}},dT=xe((e,t)=>{const n=se("Blockquote",tQ,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,children:h,icon:p,iconSize:m,cite:g,attributes:y,...S}=n,x=Ne({name:"Blockquote",classes:U9,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:y,vars:d,varsResolver:nQ});return s.jsxs(ne,{component:"blockquote",ref:t,...x("root"),...S,children:[p&&s.jsx("span",{...x("icon"),children:p}),h,g&&s.jsx("cite",{...x("cite"),children:g})]})});dT.classes=U9;dT.displayName="@mantine/core/Blockquote";var bd={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const zk={orientation:"horizontal"},rQ=(e,{borderWidth:t})=>({group:{"--button-border-width":me(t)}}),fT=xe((e,t)=>{const n=se("ButtonGroup",zk,e),{className:r,style:a,classNames:i,styles:l,unstyled:u,orientation:d,vars:h,borderWidth:p,variant:m,mod:g,attributes:y,...S}=se("ButtonGroup",zk,e),x=Ne({name:"ButtonGroup",props:n,classes:bd,className:r,style:a,classNames:i,styles:l,unstyled:u,attributes:y,vars:h,varsResolver:rQ,rootSelector:"group"});return s.jsx(ne,{...x("group"),ref:t,variant:m,mod:[{"data-orientation":d},g],role:"group",...S})});fT.classes=bd;fT.displayName="@mantine/core/ButtonGroup";const aQ=(e,{radius:t,color:n,gradient:r,variant:a,autoContrast:i,size:l})=>{const u=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:a||"filled",autoContrast:i});return{groupSection:{"--section-height":at(l,"section-height"),"--section-padding-x":at(l,"section-padding-x"),"--section-fz":l?.includes("compact")?Fn(l.replace("compact-","")):Fn(l),"--section-radius":t===void 0?void 0:qt(t),"--section-bg":n||a?u.background:void 0,"--section-color":u.color,"--section-bd":n||a?u.border:void 0}}},hT=xe((e,t)=>{const n=se("ButtonGroupSection",null,e),{className:r,style:a,classNames:i,styles:l,unstyled:u,vars:d,variant:h,gradient:p,radius:m,autoContrast:g,attributes:y,...S}=n,x=Ne({name:"ButtonGroupSection",props:n,classes:bd,className:r,style:a,classNames:i,styles:l,unstyled:u,attributes:y,vars:d,varsResolver:aQ,rootSelector:"groupSection"});return s.jsx(ne,{...x("groupSection"),ref:t,variant:h,...S})});hT.classes=bd;hT.displayName="@mantine/core/ButtonGroupSection";const iQ={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${me(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},oQ=(e,{radius:t,color:n,gradient:r,variant:a,size:i,justify:l,autoContrast:u})=>{const d=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:a||"filled",autoContrast:u});return{root:{"--button-justify":l,"--button-height":at(i,"button-height"),"--button-padding-x":at(i,"button-padding-x"),"--button-fz":i?.includes("compact")?Fn(i.replace("compact-","")):Fn(i),"--button-radius":t===void 0?void 0:qt(t),"--button-bg":n||a?d.background:void 0,"--button-hover":n||a?d.hover:void 0,"--button-color":d.color,"--button-bd":n||a?d.border:void 0,"--button-hover-color":n||a?d.hoverColor:void 0}}},Pe=Qn((e,t)=>{const n=se("Button",null,e),{style:r,vars:a,className:i,color:l,disabled:u,children:d,leftSection:h,rightSection:p,fullWidth:m,variant:g,radius:y,loading:S,loaderProps:x,gradient:C,classNames:T,styles:j,unstyled:R,"data-disabled":_,autoContrast:A,mod:k,attributes:D,...O}=n,M=Ne({name:"Button",props:n,classes:bd,className:i,style:r,classNames:T,styles:j,unstyled:R,attributes:D,vars:a,varsResolver:oQ}),I=!!h,L=!!p;return s.jsxs(Vn,{ref:t,...M("root",{active:!u&&!S&&!_}),unstyled:R,variant:g,disabled:u||S,mod:[{disabled:u||_,loading:S,block:m,"with-left-section":I,"with-right-section":L},k],...O,children:[typeof S=="boolean"&&s.jsx(Ui,{mounted:S,transition:iQ,duration:150,children:V=>s.jsx(ne,{component:"span",...M("loader",{style:V}),"aria-hidden":!0,children:s.jsx(tr,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...x})})}),s.jsxs("span",{...M("inner"),children:[h&&s.jsx(ne,{component:"span",...M("section"),mod:{position:"left"},children:h}),s.jsx(ne,{component:"span",mod:{loading:S},...M("label"),children:d}),p&&s.jsx(ne,{component:"span",...M("section"),mod:{position:"right"},children:p})]})]})});Pe.classes=bd;Pe.displayName="@mantine/core/Button";Pe.Group=fT;Pe.GroupSection=hT;const[sQ,lQ]=yr("Card component was not found in tree");var pT={root:"m_e615b15f",section:"m_599a2148"};const Iv=Qn((e,t)=>{const n=se("CardSection",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,withBorder:d,inheritPadding:h,mod:p,...m}=n,g=lQ();return s.jsx(ne,{ref:t,mod:[{"with-border":d,"inherit-padding":h},p],...g.getStyles("section",{className:a,style:i,styles:l,classNames:r}),...m})});Iv.classes=pT;Iv.displayName="@mantine/core/CardSection";const cQ=(e,{padding:t})=>({root:{"--card-padding":In(t)}}),lr=Qn((e,t)=>{const n=se("Card",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,children:h,padding:p,attributes:m,...g}=n,y=Ne({name:"Card",props:n,classes:pT,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:m,vars:d,varsResolver:cQ}),S=b.Children.toArray(h),x=S.map((C,T)=>typeof C=="object"&&C&&"type"in C&&C.type===Iv?b.cloneElement(C,{"data-first-section":T===0||void 0,"data-last-section":T===S.length-1||void 0}):C);return s.jsx(sQ,{value:{getStyles:y},children:s.jsx(tn,{ref:t,unstyled:u,...y("root"),...g,children:x})})});lr.classes=pT;lr.displayName="@mantine/core/Card";lr.Section=Iv;var B9={root:"m_4451eb3a"};const gr=Qn((e,t)=>{const n=se("Center",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,inline:h,mod:p,attributes:m,...g}=n,y=Ne({name:"Center",props:n,classes:B9,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:m,vars:d});return s.jsx(ne,{ref:t,mod:[{inline:h},p],...y("root"),...g})});gr.classes=B9;gr.displayName="@mantine/core/Center";const[uQ,dQ]=Gi();function H9(e){const{value:t,defaultValue:n,onChange:r,multiple:a,children:i}=se("ChipGroup",null,e),[l,u]=sr({value:t,defaultValue:n,finalValue:a?[]:null,onChange:r}),d=p=>Array.isArray(l)?l.includes(p):p===l,h=p=>{const m=p.currentTarget.value;Array.isArray(l)?u(l.includes(m)?l.filter(g=>g!==m):[...l,m]):u(m)};return s.jsx(uQ,{value:{isChipSelected:d,onChange:h,multiple:a},children:i})}H9.displayName="@mantine/core/ChipGroup";var F9={root:"m_f59ffda3",label:"m_be049a53","label--outline":"m_3904c1af","label--filled":"m_fa109255","label--light":"m_f7e165c3",iconWrapper:"m_9ac86df9",checkIcon:"m_d6d72580",input:"m_bde07329"};const fQ={type:"checkbox"},hQ=(e,{size:t,radius:n,variant:r,color:a,autoContrast:i})=>{const l=e.variantColorResolver({color:a||e.primaryColor,theme:e,variant:r||"filled",autoContrast:i});return{root:{"--chip-fz":Fn(t),"--chip-size":at(t,"chip-size"),"--chip-radius":n===void 0?void 0:qt(n),"--chip-checked-padding":at(t,"chip-checked-padding"),"--chip-padding":at(t,"chip-padding"),"--chip-icon-size":at(t,"chip-icon-size"),"--chip-bg":a||r?l.background:void 0,"--chip-hover":a||r?l.hover:void 0,"--chip-color":a||r?l.color:void 0,"--chip-bd":a||r?l.border:void 0,"--chip-spacing":at(t,"chip-spacing")}}},rh=xe((e,t)=>{const n=se("Chip",fQ,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,id:h,checked:p,defaultChecked:m,onChange:g,value:y,wrapperProps:S,type:x,disabled:C,children:T,size:j,variant:R,icon:_,rootRef:A,autoContrast:k,mod:D,attributes:O,...M}=n,I=Ne({name:"Chip",classes:F9,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:O,vars:d,varsResolver:hQ}),L=dQ(),V=xr(h),{styleProps:q,rest:U}=is(M),[W,N]=sr({value:p,defaultValue:m,finalValue:!1,onChange:g}),z=L?{checked:L.isChipSelected(y),onChange:G=>{L.onChange(G),g?.(G.currentTarget.checked)},type:L.multiple?"checkbox":"radio"}:{},$=z.checked||W;return s.jsxs(ne,{size:j,variant:R,ref:A,mod:D,...I("root"),...q,...S,children:[s.jsx("input",{type:x,...I("input"),checked:$,onChange:G=>N(G.currentTarget.checked),id:V,disabled:C,ref:t,value:y,...z,...U}),s.jsxs("label",{htmlFor:V,"data-checked":$||void 0,"data-disabled":C||void 0,...I("label",{variant:R||"filled"}),children:[$&&_!==null&&_!==!1&&s.jsx("span",{...I("iconWrapper"),children:_===void 0?s.jsx(Pv,{...I("checkIcon")}):_}),s.jsx("span",{children:T})]})]})});rh.classes=F9;rh.displayName="@mantine/core/Chip";rh.Group=H9;var V9={root:"m_7485cace"};const pQ=(e,{size:t,fluid:n})=>({root:{"--container-size":n?void 0:at(t,"container-size")}}),Ih=xe((e,t)=>{const n=se("Container",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,fluid:h,mod:p,attributes:m,strategy:g,...y}=n,S=Ne({name:"Container",classes:V9,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:m,vars:d,varsResolver:pQ});return s.jsx(ne,{ref:t,mod:[{fluid:h,strategy:g||"block"},p],...S("root"),...y})});Ih.classes=V9;Ih.displayName="@mantine/core/Container";const mQ={timeout:1e3};function mT(e){const{children:t,timeout:n,value:r,...a}=se("CopyButton",mQ,e),i=JL({timeout:n}),l=()=>i.copy(r);return s.jsx(s.Fragment,{children:t({copy:l,copied:i.copied,...a})})}mT.displayName="@mantine/core/CopyButton";var W9={root:"m_3eebeb36",label:"m_9e365f20"};const gQ={orientation:"horizontal"},vQ=(e,{color:t,variant:n,size:r})=>({root:{"--divider-color":t?en(t,e):void 0,"--divider-border-style":n,"--divider-size":at(r,"divider-size")}}),ht=xe((e,t)=>{const n=se("Divider",gQ,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,color:h,orientation:p,label:m,labelPosition:g,mod:y,attributes:S,...x}=n,C=Ne({name:"Divider",classes:W9,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:S,vars:d,varsResolver:vQ});return s.jsx(ne,{ref:t,mod:[{orientation:p,"with-label":!!m},y],...C("root"),...x,role:"separator",children:m&&s.jsx(ne,{component:"span",mod:{position:g},...C("label"),children:m})})});ht.classes=W9;ht.displayName="@mantine/core/Divider";const[yQ,xd]=yr("Drawer component was not found in tree");var ls={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const Lv=xe((e,t)=>{const n=se("DrawerBody",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,...d}=n,h=xd();return s.jsx(PE,{ref:t,...h.getStyles("body",{classNames:r,style:i,styles:l,className:a}),...d})});Lv.classes=ls;Lv.displayName="@mantine/core/DrawerBody";const zv=xe((e,t)=>{const n=se("DrawerCloseButton",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,...d}=n,h=xd();return s.jsx(NE,{ref:t,...h.getStyles("close",{classNames:r,style:i,styles:l,className:a}),...d})});zv.classes=ls;zv.displayName="@mantine/core/DrawerCloseButton";const $v=xe((e,t)=>{const n=se("DrawerContent",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,children:d,radius:h,__hidden:p,...m}=n,g=xd(),y=g.scrollAreaComponent||f9;return s.jsx(IE,{...g.getStyles("content",{className:a,style:i,styles:l,classNames:r}),innerProps:g.getStyles("inner",{className:a,style:i,styles:l,classNames:r}),ref:t,...m,radius:h||g.radius||0,"data-hidden":p||void 0,children:s.jsx(y,{style:{height:"calc(100vh - var(--drawer-offset) * 2)"},children:d})})});$v.classes=ls;$v.displayName="@mantine/core/DrawerContent";const qv=xe((e,t)=>{const n=se("DrawerHeader",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,...d}=n,h=xd();return s.jsx(LE,{ref:t,...h.getStyles("header",{classNames:r,style:i,styles:l,className:a}),...d})});qv.classes=ls;qv.displayName="@mantine/core/DrawerHeader";const Uv=xe((e,t)=>{const n=se("DrawerOverlay",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,...d}=n,h=xd();return s.jsx(zE,{ref:t,...h.getStyles("overlay",{classNames:r,style:i,styles:l,className:a}),...d})});Uv.classes=ls;Uv.displayName="@mantine/core/DrawerOverlay";function bQ(e){switch(e){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function xQ(e){if(e==="top"||e==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const SQ={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},wQ={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},CQ={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:br("modal"),position:"left"},jQ=(e,{position:t,size:n,offset:r})=>({root:{"--drawer-size":at(n,"drawer-size"),"--drawer-flex":xQ(t),"--drawer-height":t==="left"||t==="right"?void 0:"var(--drawer-size)","--drawer-align":bQ(t),"--drawer-justify":t==="right"?"flex-end":void 0,"--drawer-offset":me(r)}}),Bv=xe((e,t)=>{const n=se("DrawerRoot",CQ,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,scrollAreaComponent:h,position:p,transitionProps:m,radius:g,attributes:y,...S}=n,{dir:x}=os(),C=Ne({name:"Drawer",classes:ls,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:y,vars:d,varsResolver:jQ}),T=(x==="rtl"?wQ:SQ)[p];return s.jsx(yQ,{value:{scrollAreaComponent:h,getStyles:C,radius:g},children:s.jsx(ME,{ref:t,...C("root"),transitionProps:{transition:T,...m},"data-offset-scrollbars":h===Sn.Autosize||void 0,unstyled:u,...S})})});Bv.classes=ls;Bv.displayName="@mantine/core/DrawerRoot";const[EQ,TQ]=Gi();function G9({children:e}){const[t,n]=b.useState([]),[r,a]=b.useState(br("modal"));return s.jsx(EQ,{value:{stack:t,addModal:(i,l)=>{n(u=>[...new Set([...u,i])]),a(u=>typeof l=="number"&&typeof u=="number"?Math.max(u,l):u)},removeModal:i=>n(l=>l.filter(u=>u!==i)),getZIndex:i=>`calc(${r} + ${t.indexOf(i)} + 1)`,currentId:t[t.length-1],maxZIndex:r},children:e})}G9.displayName="@mantine/core/DrawerStack";const Hv=xe((e,t)=>{const n=se("DrawerTitle",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,...d}=n,h=xd();return s.jsx($E,{ref:t,...h.getStyles("title",{classNames:r,style:i,styles:l,className:a}),...d})});Hv.classes=ls;Hv.displayName="@mantine/core/DrawerTitle";const RQ={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:br("modal"),withOverlay:!0,withCloseButton:!0},Qi=xe((e,t)=>{const{title:n,withOverlay:r,overlayProps:a,withCloseButton:i,closeButtonProps:l,children:u,opened:d,stackId:h,zIndex:p,...m}=se("Drawer",RQ,e),g=TQ(),y=!!n||i,S=g&&h?{closeOnEscape:g.currentId===h,trapFocus:g.currentId===h,zIndex:g.getZIndex(h)}:{},x=r===!1?!1:h&&g?g.currentId===h:d;return b.useEffect(()=>{g&&h&&(d?g.addModal(h,p||br("modal")):g.removeModal(h))},[d,h,p]),s.jsxs(Bv,{ref:t,opened:d,zIndex:g&&h?g.getZIndex(h):p,...m,...S,children:[r&&s.jsx(Uv,{visible:x,transitionProps:g&&h?{duration:0}:void 0,...a}),s.jsxs($v,{__hidden:g&&h&&d?h!==g.currentId:!1,children:[y&&s.jsxs(qv,{children:[n&&s.jsx(Hv,{children:n}),i&&s.jsx(zv,{...l})]}),s.jsx(Lv,{children:u})]})]})});Qi.classes=ls;Qi.displayName="@mantine/core/Drawer";Qi.Root=Bv;Qi.Overlay=Uv;Qi.Content=$v;Qi.Body=Lv;Qi.Header=qv;Qi.Title=Hv;Qi.CloseButton=zv;Qi.Stack=G9;const[$k,Y9]=yr("Grid component was not found in tree"),gj=(e,t)=>e==="content"?"auto":e==="auto"?"0rem":e?`${100/(t/e)}%`:void 0,qk=(e,t,n)=>n||e==="auto"?"100%":e==="content"?"unset":gj(e,t),Uk=(e,t)=>{if(e)return e==="auto"||t?"1":"auto"},Bk=(e,t)=>e===0?"0":e?`${100/(t/e)}%`:void 0;function _Q({span:e,order:t,offset:n,selector:r}){const a=wn(),i=Y9(),l=i.breakpoints||a.breakpoints,d=Pi(e)===void 0?12:Pi(e),h=cl({"--col-order":Pi(t)?.toString(),"--col-flex-grow":Uk(d,i.grow),"--col-flex-basis":gj(d,i.columns),"--col-width":d==="content"?"auto":void 0,"--col-max-width":qk(d,i.columns,i.grow),"--col-offset":Bk(Pi(n),i.columns)}),p=hn(l).reduce((y,S)=>(y[S]||(y[S]={}),typeof t=="object"&&t[S]!==void 0&&(y[S]["--col-order"]=t[S]?.toString()),typeof e=="object"&&e[S]!==void 0&&(y[S]["--col-flex-grow"]=Uk(e[S],i.grow),y[S]["--col-flex-basis"]=gj(e[S],i.columns),y[S]["--col-width"]=e[S]==="content"?"auto":void 0,y[S]["--col-max-width"]=qk(e[S],i.columns,i.grow)),typeof n=="object"&&n[S]!==void 0&&(y[S]["--col-offset"]=Bk(n[S],i.columns)),y),{}),g=Zf(hn(p),l).filter(y=>hn(p[y.value]).length>0).map(y=>({query:i.type==="container"?`mantine-grid (min-width: ${l[y.value]})`:`(min-width: ${l[y.value]})`,styles:p[y.value]}));return s.jsx(_c,{styles:h,media:i.type==="container"?void 0:g,container:i.type==="container"?g:void 0,selector:r})}var gT={container:"m_8478a6da",root:"m_410352e9",inner:"m_dee7bd2f",col:"m_96bdd299"};const DQ={span:12},vT=xe((e,t)=>{const n=se("GridCol",DQ,e),{classNames:r,className:a,style:i,styles:l,vars:u,span:d,order:h,offset:p,...m}=n,g=Y9(),y=Ah();return s.jsxs(s.Fragment,{children:[s.jsx(_Q,{selector:`.${y}`,span:d,order:h,offset:p}),s.jsx(ne,{ref:t,...g.getStyles("col",{className:$t(a,y),style:i,classNames:r,styles:l}),...m})]})});vT.classes=gT;vT.displayName="@mantine/core/GridCol";function Hk({gutter:e,selector:t,breakpoints:n,type:r}){const a=wn(),i=n||a.breakpoints,l=cl({"--grid-gutter":In(Pi(e))}),u=hn(i).reduce((p,m)=>(p[m]||(p[m]={}),typeof e=="object"&&e[m]!==void 0&&(p[m]["--grid-gutter"]=In(e[m])),p),{}),h=Zf(hn(u),i).filter(p=>hn(u[p.value]).length>0).map(p=>({query:r==="container"?`mantine-grid (min-width: ${i[p.value]})`:`(min-width: ${i[p.value]})`,styles:u[p.value]}));return s.jsx(_c,{styles:l,media:r==="container"?void 0:h,container:r==="container"?h:void 0,selector:t})}const AQ={gutter:"md",grow:!1,columns:12},OQ=(e,{justify:t,align:n,overflow:r})=>({root:{"--grid-justify":t,"--grid-align":n,"--grid-overflow":r}}),vr=xe((e,t)=>{const n=se("Grid",AQ,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,grow:h,gutter:p,columns:m,align:g,justify:y,children:S,breakpoints:x,type:C,attributes:T,...j}=n,R=Ne({name:"Grid",classes:gT,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:T,vars:d,varsResolver:OQ}),_=Ah();return C==="container"&&x?s.jsxs($k,{value:{getStyles:R,grow:h,columns:m,breakpoints:x,type:C},children:[s.jsx(Hk,{selector:`.${_}`,...n}),s.jsx("div",{...R("container"),children:s.jsx(ne,{ref:t,...R("root",{className:_}),...j,children:s.jsx("div",{...R("inner"),children:S})})})]}):s.jsxs($k,{value:{getStyles:R,grow:h,columns:m,breakpoints:x,type:C},children:[s.jsx(Hk,{selector:`.${_}`,...n}),s.jsx(ne,{ref:t,...R("root",{className:_}),...j,children:s.jsx("div",{...R("inner"),children:S})})]})});vr.classes=gT;vr.displayName="@mantine/core/Grid";vr.Col=vT;function Fk({color:e,theme:t,defaultShade:n}){const r=ga({color:e,theme:t});return r.isThemeColor?r.shade===void 0?`var(--mantine-color-${r.color}-${n})`:`var(${r.variable})`:e}var Q9={root:"m_bcb3f3c2"};const kQ={color:"yellow"},MQ=(e,{color:t})=>({root:{"--mark-bg-dark":Fk({color:t,theme:e,defaultShade:5}),"--mark-bg-light":Fk({color:t,theme:e,defaultShade:2})}}),yT=xe((e,t)=>{const n=se("Mark",kQ,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,color:h,variant:p,attributes:m,...g}=n,y=Ne({name:"Mark",props:n,className:a,style:i,classes:Q9,classNames:r,styles:l,unstyled:u,attributes:m,vars:d,varsResolver:MQ});return s.jsx(ne,{component:"mark",ref:t,variant:p,...y("root"),...g})});yT.classes=Q9;yT.displayName="@mantine/core/Mark";function Vk(e){return e.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")}function PQ(e,t){if(t==null)return[{chunk:e,highlighted:!1}];const n=Array.isArray(t)?t.map(Vk):Vk(t);if(!(Array.isArray(n)?n.filter(u=>u.trim().length>0).length>0:n.trim()!==""))return[{chunk:e,highlighted:!1}];const a=typeof n=="string"?n.trim():n.filter(u=>u.trim().length!==0).map(u=>u.trim()).sort((u,d)=>d.length-u.length).join("|"),i=new RegExp(`(${a})`,"gi");return e.split(i).map(u=>({chunk:u,highlighted:i.test(u)})).filter(({chunk:u})=>u)}const bT=Qn((e,t)=>{const{unstyled:n,children:r,highlight:a,highlightStyles:i,color:l,...u}=se("Highlight",null,e),d=PQ(r,a);return s.jsx(Y,{unstyled:n,ref:t,...u,__staticSelector:"Highlight",children:d.map(({chunk:h,highlighted:p},m)=>p?s.jsx(yT,{unstyled:n,color:l,style:i,"data-highlight":h,children:h},m):s.jsx("span",{children:h},m))})});bT.classes=Y.classes;bT.displayName="@mantine/core/Highlight";var K9={root:"m_9e117634"};const NQ=(e,{radius:t,fit:n})=>({root:{"--image-radius":t===void 0?void 0:qt(t),"--image-object-fit":n}}),xT=Qn((e,t)=>{const n=se("Image",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,onError:h,src:p,radius:m,fit:g,fallbackSrc:y,mod:S,attributes:x,...C}=n,[T,j]=b.useState(!p);b.useEffect(()=>j(!p),[p]);const R=Ne({name:"Image",classes:K9,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:x,vars:d,varsResolver:NQ});return T&&y?s.jsx(ne,{component:"img",ref:t,src:y,...R("root"),onError:h,mod:["fallback",S],...C}):s.jsx(ne,{component:"img",ref:t,...R("root"),src:p,onError:_=>{h?.(_),j(!0)},mod:S,...C})});xT.classes=K9;xT.displayName="@mantine/core/Image";function IQ(e="top-end",t=0){const n={"--indicator-top":void 0,"--indicator-bottom":void 0,"--indicator-left":void 0,"--indicator-right":void 0,"--indicator-translate-x":void 0,"--indicator-translate-y":void 0},r=me(t),[a,i]=e.split("-");return a==="top"&&(n["--indicator-top"]=r,n["--indicator-translate-y"]="-50%"),a==="middle"&&(n["--indicator-top"]="50%",n["--indicator-translate-y"]="-50%"),a==="bottom"&&(n["--indicator-bottom"]=r,n["--indicator-translate-y"]="50%"),i==="start"&&(n["--indicator-left"]=r,n["--indicator-translate-x"]="-50%"),i==="center"&&(n["--indicator-left"]="50%",n["--indicator-translate-x"]="-50%"),i==="end"&&(n["--indicator-right"]=r,n["--indicator-translate-x"]="50%"),n}var X9={root:"m_e5262200",indicator:"m_760d1fb1",processing:"m_885901b1"};const LQ={position:"top-end",offset:0},zQ=(e,{color:t,position:n,offset:r,size:a,radius:i,zIndex:l,autoContrast:u})=>({root:{"--indicator-color":t?en(t,e):void 0,"--indicator-text-color":as(u,e)?Yi({color:t,theme:e,autoContrast:u}):void 0,"--indicator-size":me(a),"--indicator-radius":i===void 0?void 0:qt(i),"--indicator-z-index":l?.toString(),...IQ(n,r)}}),Fv=xe((e,t)=>{const n=se("Indicator",LQ,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,children:h,position:p,offset:m,inline:g,label:y,radius:S,color:x,withBorder:C,disabled:T,processing:j,zIndex:R,autoContrast:_,mod:A,attributes:k,...D}=n,O=Ne({name:"Indicator",classes:X9,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:k,vars:d,varsResolver:zQ});return s.jsxs(ne,{ref:t,...O("root"),mod:[{inline:g},A],...D,children:[!T&&s.jsx(ne,{mod:{"with-label":!!y,"with-border":C,processing:j},...O("indicator"),children:y}),h]})});Fv.classes=X9;Fv.displayName="@mantine/core/Indicator";function En(){return En=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},En.apply(null,arguments)}function Dc(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $Q=b.useLayoutEffect,qQ=function(t){var n=te.useRef(t);return $Q(function(){n.current=t}),n},Wk=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},UQ=function(t,n){var r=te.useRef();return te.useCallback(function(a){t.current=a,r.current&&Wk(r.current,null),r.current=n,n&&Wk(n,a)},[n])},Gk={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},BQ=function(t){Object.keys(Gk).forEach(function(n){t.style.setProperty(n,Gk[n],"important")})},Yk=BQ,Qr=null,Qk=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function HQ(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Qr||(Qr=document.createElement("textarea"),Qr.setAttribute("tabindex","-1"),Qr.setAttribute("aria-hidden","true"),Yk(Qr)),Qr.parentNode===null&&document.body.appendChild(Qr);var a=e.paddingSize,i=e.borderSize,l=e.sizingStyle,u=l.boxSizing;Object.keys(l).forEach(function(g){var y=g;Qr.style[y]=l[y]}),Yk(Qr),Qr.value=t;var d=Qk(Qr,e);Qr.value=t,d=Qk(Qr,e),Qr.value="x";var h=Qr.scrollHeight-a,p=h*n;u==="border-box"&&(p=p+a+i),d=Math.max(p,d);var m=h*r;return u==="border-box"&&(m=m+a+i),d=Math.min(m,d),[d,h]}var Kk=function(){},FQ=function(t,n){return t.reduce(function(r,a){return r[a]=n[a],r},{})},VQ=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],WQ=!!document.documentElement.currentStyle,GQ=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=FQ(VQ,n),a=r.boxSizing;if(a==="")return null;WQ&&a==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var i=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),l=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:i,borderSize:l}},YQ=GQ;function ST(e,t,n){var r=qQ(n);b.useLayoutEffect(function(){var a=function(l){return r.current(l)};if(e)return e.addEventListener(t,a),function(){return e.removeEventListener(t,a)}},[])}var QQ=function(t,n){ST(document.body,"reset",function(r){t.current.form===r.target&&n(r)})},KQ=function(t){ST(window,"resize",t)},XQ=function(t){ST(document.fonts,"loadingdone",t)},ZQ=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],JQ=function(t,n){var r=t.cacheMeasurements,a=t.maxRows,i=t.minRows,l=t.onChange,u=l===void 0?Kk:l,d=t.onHeightChange,h=d===void 0?Kk:d,p=Dc(t,ZQ),m=p.value!==void 0,g=b.useRef(null),y=UQ(g,n),S=b.useRef(0),x=b.useRef(),C=function(){var R=g.current,_=r&&x.current?x.current:YQ(R);if(_){x.current=_;var A=HQ(_,R.value||R.placeholder||"x",i,a),k=A[0],D=A[1];S.current!==k&&(S.current=k,R.style.setProperty("height",k+"px","important"),h(k,{rowHeight:D}))}},T=function(R){m||C(),u(R)};return b.useLayoutEffect(C),QQ(g,function(){if(!m){var j=g.current.value;requestAnimationFrame(function(){var R=g.current;R&&j!==R.value&&C()})}}),KQ(C),XQ(C),b.createElement("textarea",En({},p,{onChange:T,ref:y}))},eK=b.forwardRef(JQ);const tK={size:"sm"},wi=xe((e,t)=>{const{autosize:n,maxRows:r,minRows:a,__staticSelector:i,resize:l,...u}=se("Textarea",tK,e),d=n&&s5()!=="test",h=d?{maxRows:r,minRows:a}:{};return s.jsx(Ha,{component:d?eK:"textarea",ref:t,...u,__staticSelector:i||"Textarea",multiline:!0,"data-no-overflow":n&&r===void 0||void 0,__vars:{"--input-resize":l},...h})});wi.classes=Ha.classes;wi.displayName="@mantine/core/Textarea";const[nK,rK]=yr("List component was not found in tree");var wT={root:"m_abbac491",item:"m_abb6bec2",itemWrapper:"m_75cd9f71",itemIcon:"m_60f83e5b"};const Vv=xe((e,t)=>{const n=se("ListItem",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,icon:d,children:h,mod:p,...m}=n,g=rK(),y=d||g.icon,S={classNames:r,styles:l};return s.jsx(ne,{...g.getStyles("item",{...S,className:a,style:i}),component:"li",mod:[{"with-icon":!!y,centered:g.center},p],ref:t,...m,children:s.jsxs("div",{...g.getStyles("itemWrapper",S),children:[y&&s.jsx("span",{...g.getStyles("itemIcon",S),children:y}),s.jsx("span",{...g.getStyles("itemLabel",S),children:h})]})})});Vv.classes=wT;Vv.displayName="@mantine/core/ListItem";const aK={type:"unordered"},iK=(e,{size:t,spacing:n})=>({root:{"--list-fz":Fn(t),"--list-lh":ZL(t),"--list-spacing":In(n)}}),ed=xe((e,t)=>{const n=se("List",aK,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,children:h,type:p,withPadding:m,icon:g,spacing:y,center:S,listStyleType:x,mod:C,attributes:T,...j}=n,R=Ne({name:"List",classes:wT,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:T,vars:d,varsResolver:iK});return s.jsx(nK,{value:{center:S,icon:g,getStyles:R},children:s.jsx(ne,{...R("root",{style:{listStyleType:x}}),component:p==="unordered"?"ul":"ol",mod:[{"with-padding":m,type:g?"none":x},C],ref:t,...j,children:h})})});ed.classes=wT;ed.displayName="@mantine/core/List";ed.Item=Vv;var Z9={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const Xk={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:br("overlay")},oK=(e,{zIndex:t})=>({root:{"--lo-z-index":t?.toString()}}),Wv=xe((e,t)=>{const n=se("LoadingOverlay",Xk,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,transitionProps:h,loaderProps:p,overlayProps:m,visible:g,zIndex:y,attributes:S,...x}=n,C=wn(),T=Ne({name:"LoadingOverlay",classes:Z9,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:S,vars:d,varsResolver:oK}),j={...Xk.overlayProps,...m};return s.jsx(Ui,{transition:"fade",...h,mounted:!!g,children:R=>s.jsxs(ne,{...T("root",{style:R}),ref:t,...x,children:[s.jsx(tr,{...T("loader"),unstyled:u,...p}),s.jsx(Xu,{...j,...T("overlay"),darkHidden:!0,unstyled:u,color:m?.color||C.white}),s.jsx(Xu,{...j,...T("overlay"),lightHidden:!0,unstyled:u,color:m?.color||C.colors.dark[5]})]})})});Wv.classes=Z9;Wv.displayName="@mantine/core/LoadingOverlay";const[sK,hl]=yr("Menu component was not found in the tree");var pl={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504",chevron:"m_b85b0bed"};const CT=xe((e,t)=>{const{classNames:n,className:r,style:a,styles:i,vars:l,...u}=se("MenuDivider",null,e),d=hl();return s.jsx(ne,{ref:t,...d.getStyles("divider",{className:r,style:a,styles:i,classNames:n}),...u})});CT.classes=pl;CT.displayName="@mantine/core/MenuDivider";const jT=xe((e,t)=>{const{classNames:n,className:r,style:a,styles:i,vars:l,onMouseEnter:u,onMouseLeave:d,onKeyDown:h,children:p,...m}=se("MenuDropdown",null,e),g=b.useRef(null),y=hl(),S=mr(h,T=>{(T.key==="ArrowUp"||T.key==="ArrowDown")&&(T.preventDefault(),g.current?.querySelectorAll("[data-menu-item]:not(:disabled)")[0]?.focus())}),x=mr(u,()=>(y.trigger==="hover"||y.trigger==="click-hover")&&y.openDropdown()),C=mr(d,()=>(y.trigger==="hover"||y.trigger==="click-hover")&&y.closeDropdown());return s.jsxs(Sa.Dropdown,{...m,onMouseEnter:x,onMouseLeave:C,role:"menu","aria-orientation":"vertical",ref:Yn(t,g),...y.getStyles("dropdown",{className:r,style:a,styles:i,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:S,children:[y.withInitialFocusPlaceholder&&s.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),p]})});jT.classes=pl;jT.displayName="@mantine/core/MenuDropdown";const[lK,Gv]=Gi(),ET=Qn((e,t)=>{const{classNames:n,className:r,style:a,styles:i,vars:l,color:u,closeMenuOnClick:d,leftSection:h,rightSection:p,children:m,disabled:g,"data-disabled":y,...S}=se("MenuItem",null,e),x=hl(),C=Gv(),T=wn(),{dir:j}=os(),R=b.useRef(null),_=S,A=mr(_.onClick,()=>{y||(typeof d=="boolean"?d&&x.closeDropdownImmediately():x.closeOnItemClick&&x.closeDropdownImmediately())}),k=u?T.variantColorResolver({color:u,theme:T,variant:"light"}):void 0,D=u?ga({color:u,theme:T}):null,O=mr(_.onKeyDown,M=>{M.key==="ArrowLeft"&&C&&(C.close(),C.focusParentItem())});return s.jsxs(Vn,{onMouseDown:M=>M.preventDefault(),...S,unstyled:x.unstyled,tabIndex:x.menuItemTabIndex,...x.getStyles("item",{className:r,style:a,styles:i,classNames:n}),ref:Yn(R,t),role:"menuitem",disabled:g,"data-menu-item":!0,"data-disabled":g||y||void 0,"data-mantine-stop-propagation":!0,onClick:A,onKeyDown:sE({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:x.loop,dir:j,orientation:"vertical",onKeyDown:O}),__vars:{"--menu-item-color":D?.isThemeColor&&D?.shade===void 0?`var(--mantine-color-${D.color}-6)`:k?.color,"--menu-item-hover":k?.hover},children:[h&&s.jsx("div",{...x.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"left",children:h}),m&&s.jsx("div",{...x.getStyles("itemLabel",{styles:i,classNames:n}),children:m}),p&&s.jsx("div",{...x.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"right",children:p})]})});ET.classes=pl;ET.displayName="@mantine/core/MenuItem";const TT=xe((e,t)=>{const{classNames:n,className:r,style:a,styles:i,vars:l,...u}=se("MenuLabel",null,e),d=hl();return s.jsx(ne,{ref:t,...d.getStyles("label",{className:r,style:a,styles:i,classNames:n}),...u})});TT.classes=pl;TT.displayName="@mantine/core/MenuLabel";const RT=xe((e,t)=>{const{classNames:n,className:r,style:a,styles:i,vars:l,onMouseEnter:u,onMouseLeave:d,onKeyDown:h,children:p,...m}=se("MenuSubDropdown",null,e),g=b.useRef(null),y=hl(),S=Gv(),x=mr(u,S?.open),C=mr(d,S?.close);return s.jsx(Sa.Dropdown,{...m,onMouseEnter:x,onMouseLeave:C,role:"menu","aria-orientation":"vertical",ref:Yn(t,g),...y.getStyles("dropdown",{className:r,style:a,styles:i,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,children:p})});RT.classes=pl;RT.displayName="@mantine/core/MenuSubDropdown";const _T=Qn((e,t)=>{const{classNames:n,className:r,style:a,styles:i,vars:l,color:u,leftSection:d,rightSection:h,children:p,disabled:m,"data-disabled":g,closeMenuOnClick:y,...S}=se("MenuSubItem",null,e),x=hl(),C=Gv(),T=wn(),{dir:j}=os(),R=b.useRef(null),_=S,A=u?T.variantColorResolver({color:u,theme:T,variant:"light"}):void 0,k=u?ga({color:u,theme:T}):null,D=mr(_.onKeyDown,L=>{L.key==="ArrowRight"&&(C?.open(),C?.focusFirstItem()),L.key==="ArrowLeft"&&C?.parentContext&&(C.parentContext.close(),C.parentContext.focusParentItem())}),O=mr(_.onClick,()=>{!g&&y&&x.closeDropdownImmediately()}),M=mr(_.onMouseEnter,C?.open),I=mr(_.onMouseLeave,C?.close);return s.jsxs(Vn,{onMouseDown:L=>L.preventDefault(),...S,unstyled:x.unstyled,tabIndex:x.menuItemTabIndex,...x.getStyles("item",{className:r,style:a,styles:i,classNames:n}),ref:Yn(R,t),role:"menuitem",disabled:m,"data-menu-item":!0,"data-sub-menu-item":!0,"data-disabled":m||g||void 0,"data-mantine-stop-propagation":!0,onMouseEnter:M,onMouseLeave:I,onClick:O,onKeyDown:sE({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:x.loop,dir:j,orientation:"vertical",onKeyDown:D}),__vars:{"--menu-item-color":k?.isThemeColor&&k?.shade===void 0?`var(--mantine-color-${k.color}-6)`:A?.color,"--menu-item-hover":A?.hover},children:[d&&s.jsx("div",{...x.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"left",children:d}),p&&s.jsx("div",{...x.getStyles("itemLabel",{styles:i,classNames:n}),children:p}),s.jsx("div",{...x.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"right",children:h||s.jsx(v9,{...x.getStyles("chevron"),size:14})})]})});_T.classes=pl;_T.displayName="@mantine/core/MenuSubItem";function J9({children:e,refProp:t}){if(!oE(e))throw new Error("Menu.Sub.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return hl(),s.jsx(Sa.Target,{refProp:t,popupType:"menu",children:e})}J9.displayName="@mantine/core/MenuSubTarget";const cK={offset:0,position:"right-start",transitionProps:{duration:0},openDelay:0,middlewares:{shift:{crossAxis:!0}}};function Sd(e){const{children:t,closeDelay:n,openDelay:r,...a}=se("MenuSub",cK,e),i=xr(),[l,{open:u,close:d}]=La(!1),h=Gv(),{openDropdown:p,closeDropdown:m}=g9({open:u,close:d,closeDelay:n,openDelay:r}),g=()=>window.setTimeout(()=>{document.getElementById(`${i}-dropdown`)?.querySelectorAll("[data-menu-item]:not([data-disabled])")[0]?.focus()},16),y=()=>window.setTimeout(()=>{document.getElementById(`${i}-target`)?.focus()},16);return s.jsx(lK,{value:{opened:l,close:m,open:p,focusFirstItem:g,focusParentItem:y,parentContext:h},children:s.jsx(Sa,{opened:l,withinPortal:!1,withArrow:!1,id:i,...a,children:t})})}Sd.extend=e=>e;Sd.displayName="@mantine/core/MenuSub";Sd.Target=J9;Sd.Dropdown=RT;Sd.Item=_T;const uK={refProp:"ref"},e6=b.forwardRef((e,t)=>{const{children:n,refProp:r,...a}=se("MenuTarget",uK,e),i=Rc(n);if(!i)throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const l=hl(),u=i.props,d=mr(u.onClick,()=>{l.trigger==="click"?l.toggleDropdown():l.trigger==="click-hover"&&(l.setOpenedViaClick(!0),l.opened||l.openDropdown())}),h=mr(u.onMouseEnter,()=>(l.trigger==="hover"||l.trigger==="click-hover")&&l.openDropdown()),p=mr(u.onMouseLeave,()=>{(l.trigger==="hover"||l.trigger==="click-hover"&&!l.openedViaClick)&&l.closeDropdown()});return s.jsx(Sa.Target,{refProp:r,popupType:"menu",ref:t,...a,children:b.cloneElement(i,{onClick:d,onMouseEnter:h,onMouseLeave:p,"data-expanded":l.opened?!0:void 0})})});e6.displayName="@mantine/core/MenuTarget";const dK={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function ye(e){const t=se("Menu",dK,e),{children:n,onOpen:r,onClose:a,opened:i,defaultOpened:l,trapFocus:u,onChange:d,closeOnItemClick:h,loop:p,closeOnEscape:m,trigger:g,openDelay:y,closeDelay:S,classNames:x,styles:C,unstyled:T,variant:j,vars:R,menuItemTabIndex:_,keepMounted:A,withInitialFocusPlaceholder:k,attributes:D,...O}=t,M=Ne({name:"Menu",classes:pl,props:t,classNames:x,styles:C,unstyled:T,attributes:D}),[I,L]=sr({value:i,defaultValue:l,finalValue:!1,onChange:d}),[V,q]=b.useState(!1),U=()=>{L(!1),q(!1),I&&a?.()},W=()=>{L(!0),!I&&r?.()},N=()=>{I?U():W()},{openDropdown:z,closeDropdown:$}=g9({open:W,close:U,closeDelay:S,openDelay:y}),G=F=>dH("[data-menu-item]","[data-menu-dropdown]",F),{resolvedClassNames:X,resolvedStyles:H}=hd({classNames:x,styles:C,props:t});return s.jsx(sK,{value:{getStyles:M,opened:I,toggleDropdown:N,getItemIndex:G,openedViaClick:V,setOpenedViaClick:q,closeOnItemClick:h,closeDropdown:g==="click"?U:$,openDropdown:g==="click"?W:z,closeDropdownImmediately:U,loop:p,trigger:g,unstyled:T,menuItemTabIndex:_,withInitialFocusPlaceholder:k},children:s.jsx(Sa,{returnFocus:!0,...O,opened:I,onChange:N,defaultOpened:l,trapFocus:A?!1:u,closeOnEscape:m,__staticSelector:"Menu",classNames:X,styles:H,unstyled:T,variant:j,keepMounted:A,children:n})})}ye.extend=e=>e;ye.withProps=eV(ye);ye.classes=pl;ye.displayName="@mantine/core/Menu";ye.Item=ET;ye.Label=TT;ye.Dropdown=jT;ye.Target=e6;ye.Divider=CT;ye.Sub=Sd;const[fK,wd]=yr("Modal component was not found in tree");var cs={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const Yv=xe((e,t)=>{const n=se("ModalBody",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,...d}=n,h=wd();return s.jsx(PE,{ref:t,...h.getStyles("body",{classNames:r,style:i,styles:l,className:a}),...d})});Yv.classes=cs;Yv.displayName="@mantine/core/ModalBody";const Qv=xe((e,t)=>{const n=se("ModalCloseButton",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,...d}=n,h=wd();return s.jsx(NE,{ref:t,...h.getStyles("close",{classNames:r,style:i,styles:l,className:a}),...d})});Qv.classes=cs;Qv.displayName="@mantine/core/ModalCloseButton";const Kv=xe((e,t)=>{const n=se("ModalContent",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,children:d,__hidden:h,...p}=n,m=wd(),g=m.scrollAreaComponent||f9;return s.jsx(IE,{...m.getStyles("content",{className:a,style:i,styles:l,classNames:r}),innerProps:m.getStyles("inner",{className:a,style:i,styles:l,classNames:r}),"data-full-screen":m.fullScreen||void 0,"data-modal-content":!0,"data-hidden":h||void 0,ref:t,...p,children:s.jsx(g,{style:{maxHeight:m.fullScreen?"100dvh":`calc(100dvh - (${me(m.yOffset)} * 2))`},children:d})})});Kv.classes=cs;Kv.displayName="@mantine/core/ModalContent";const Xv=xe((e,t)=>{const n=se("ModalHeader",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,...d}=n,h=wd();return s.jsx(LE,{ref:t,...h.getStyles("header",{classNames:r,style:i,styles:l,className:a}),...d})});Xv.classes=cs;Xv.displayName="@mantine/core/ModalHeader";const Zv=xe((e,t)=>{const n=se("ModalOverlay",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,...d}=n,h=wd();return s.jsx(zE,{ref:t,...h.getStyles("overlay",{classNames:r,style:i,styles:l,className:a}),...d})});Zv.classes=cs;Zv.displayName="@mantine/core/ModalOverlay";const hK={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:br("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},pK=(e,{radius:t,size:n,yOffset:r,xOffset:a})=>({root:{"--modal-radius":t===void 0?void 0:qt(t),"--modal-size":at(n,"modal-size"),"--modal-y-offset":me(r),"--modal-x-offset":me(a)}}),Jv=xe((e,t)=>{const n=se("ModalRoot",hK,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,yOffset:h,scrollAreaComponent:p,radius:m,fullScreen:g,centered:y,xOffset:S,__staticSelector:x,attributes:C,...T}=n,j=Ne({name:x,classes:cs,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:C,vars:d,varsResolver:pK});return s.jsx(fK,{value:{yOffset:h,scrollAreaComponent:p,getStyles:j,fullScreen:g},children:s.jsx(ME,{ref:t,...j("root"),"data-full-screen":g||void 0,"data-centered":y||void 0,"data-offset-scrollbars":p===Sn.Autosize||void 0,unstyled:u,...T})})});Jv.classes=cs;Jv.displayName="@mantine/core/ModalRoot";const[mK,gK]=Gi();function t6({children:e}){const[t,n]=b.useState([]),[r,a]=b.useState(br("modal"));return s.jsx(mK,{value:{stack:t,addModal:(i,l)=>{n(u=>[...new Set([...u,i])]),a(u=>typeof l=="number"&&typeof u=="number"?Math.max(u,l):u)},removeModal:i=>n(l=>l.filter(u=>u!==i)),getZIndex:i=>`calc(${r} + ${t.indexOf(i)} + 1)`,currentId:t[t.length-1],maxZIndex:r},children:e})}t6.displayName="@mantine/core/ModalStack";const ey=xe((e,t)=>{const n=se("ModalTitle",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,...d}=n,h=wd();return s.jsx($E,{ref:t,...h.getStyles("title",{classNames:r,style:i,styles:l,className:a}),...d})});ey.classes=cs;ey.displayName="@mantine/core/ModalTitle";const vK={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:br("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},Mt=xe((e,t)=>{const{title:n,withOverlay:r,overlayProps:a,withCloseButton:i,closeButtonProps:l,children:u,radius:d,opened:h,stackId:p,zIndex:m,...g}=se("Modal",vK,e),y=gK(),S=!!n||i,x=y&&p?{closeOnEscape:y.currentId===p,trapFocus:y.currentId===p,zIndex:y.getZIndex(p)}:{},C=r===!1?!1:p&&y?y.currentId===p:h;return b.useEffect(()=>{y&&p&&(h?y.addModal(p,m||br("modal")):y.removeModal(p))},[h,p,m]),s.jsxs(Jv,{ref:t,radius:d,opened:h,zIndex:y&&p?y.getZIndex(p):m,...g,...x,children:[r&&s.jsx(Zv,{visible:C,transitionProps:y&&p?{duration:0}:void 0,...a}),s.jsxs(Kv,{radius:d,__hidden:y&&p&&h?p!==y.currentId:!1,children:[S&&s.jsxs(Xv,{children:[n&&s.jsx(ey,{children:n}),i&&s.jsx(Qv,{...l})]}),s.jsx(Yv,{children:u})]})]})});Mt.classes=cs;Mt.displayName="@mantine/core/Modal";Mt.Root=Jv;Mt.Overlay=Zv;Mt.Content=Kv;Mt.Body=Yv;Mt.Header=Xv;Mt.Title=ey;Mt.CloseButton=Qv;Mt.Stack=t6;const[yK,DT]=Gi(),[bK,xK]=Gi();var ty={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const SK=(e,{gap:t},{size:n})=>({group:{"--pg-gap":t!==void 0?at(t):at(n,"pg-gap")}}),AT=xe((e,t)=>{const n=se("PillGroup",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,size:h,disabled:p,attributes:m,...g}=n,S=DT()?.size||h||void 0,x=Ne({name:"PillGroup",classes:ty,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:m,vars:d,varsResolver:SK,stylesCtx:{size:S},rootSelector:"group"});return s.jsx(bK,{value:{size:S,disabled:p},children:s.jsx(ne,{ref:t,size:S,...x("group"),...g})})});AT.classes=ty;AT.displayName="@mantine/core/PillGroup";const wK={variant:"default"},CK=(e,{radius:t},{size:n})=>({root:{"--pill-fz":at(n,"pill-fz"),"--pill-height":at(n,"pill-height"),"--pill-radius":t===void 0?void 0:qt(t)}}),lc=xe((e,t)=>{const n=se("Pill",wK,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,variant:h,children:p,withRemoveButton:m,onRemove:g,removeButtonProps:y,radius:S,size:x,disabled:C,mod:T,attributes:j,...R}=n,_=xK(),A=DT(),k=x||_?.size||void 0,D=A?.variant==="filled"?"contrast":h||"default",O=Ne({name:"Pill",classes:ty,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:j,vars:d,varsResolver:CK,stylesCtx:{size:k}});return s.jsxs(ne,{component:"span",ref:t,variant:D,size:k,...O("root",{variant:D}),mod:[{"with-remove":m&&!C,disabled:C||_?.disabled},T],...R,children:[s.jsx("span",{...O("label"),children:p}),m&&s.jsx(ul,{variant:"transparent",radius:S,tabIndex:-1,"aria-hidden":!0,unstyled:u,...y,...O("remove",{className:y?.className,style:y?.style}),onMouseDown:M=>{M.preventDefault(),M.stopPropagation(),y?.onMouseDown?.(M)},onClick:M=>{M.stopPropagation(),g?.(),y?.onClick?.(M)}})]})});lc.classes=ty;lc.displayName="@mantine/core/Pill";lc.Group=AT;var n6={field:"m_45c4369d"};const jK={type:"visible"},OT=xe((e,t)=>{const n=se("PillsInputField",jK,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,type:h,disabled:p,id:m,pointer:g,mod:y,attributes:S,...x}=n,C=DT(),T=vd(),j=Ne({name:"PillsInputField",classes:n6,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:S,rootSelector:"field"}),R=p||C?.disabled;return s.jsx(ne,{component:"input",ref:Yn(t,C?.fieldRef),"data-type":h,disabled:R,mod:[{disabled:R,pointer:g},y],...j("field"),...x,id:T?.inputId||m,"aria-invalid":C?.hasError,"aria-describedby":T?.describedBy,type:"text",onMouseDown:_=>!g&&_.stopPropagation()})});OT.classes=n6;OT.displayName="@mantine/core/PillsInputField";const EK={size:"sm"},td=xe((e,t)=>{const n=se("PillsInput",EK,e),{children:r,onMouseDown:a,onClick:i,size:l,disabled:u,__staticSelector:d,error:h,variant:p,...m}=n,g=b.useRef(null);return s.jsx(yK,{value:{fieldRef:g,size:l,disabled:u,hasError:!!h,variant:p},children:s.jsx(Ha,{size:l,error:h,variant:p,component:"div",ref:t,"data-no-overflow":!0,onMouseDown:y=>{y.preventDefault(),a?.(y),g.current?.focus()},onClick:y=>{y.preventDefault(),y.currentTarget.closest("fieldset")?.disabled||(g.current?.focus(),i?.(y))},...m,multiline:!0,disabled:u,__staticSelector:d||"PillsInput",withAria:!1,children:r})})});td.displayName="@mantine/core/PillsInput";td.Field=OT;function TK({data:e,value:t}){const n=t.map(a=>a.trim().toLowerCase());return e.reduce((a,i)=>(Ju(i)?a.push({group:i.group,items:i.items.filter(l=>n.indexOf(l.value.toLowerCase().trim())===-1)}):n.indexOf(i.value.toLowerCase().trim())===-1&&a.push(i),a),[])}const RK={maxValues:1/0,withCheckIcon:!0,checkIconPosition:"left",hiddenInputValuesDivider:",",clearSearchOnChange:!0,size:"sm"},ny=xe((e,t)=>{const n=se("MultiSelect",RK,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,size:h,value:p,defaultValue:m,onChange:g,onKeyDown:y,variant:S,data:x,dropdownOpened:C,defaultDropdownOpened:T,onDropdownOpen:j,onDropdownClose:R,selectFirstOptionOnChange:_,onOptionSubmit:A,comboboxProps:k,filter:D,limit:O,withScrollArea:M,maxDropdownHeight:I,searchValue:L,defaultSearchValue:V,onSearchChange:q,readOnly:U,disabled:W,onFocus:N,onBlur:z,radius:$,rightSection:G,rightSectionWidth:X,rightSectionPointerEvents:H,rightSectionProps:F,leftSection:Q,leftSectionWidth:J,leftSectionPointerEvents:re,leftSectionProps:ue,inputContainer:Ee,inputWrapperOrder:Re,withAsterisk:Se,labelProps:Ge,descriptionProps:Ze,errorProps:Fe,wrapperProps:ze,description:pt,label:Xe,error:Ut,maxValues:ot,searchable:Dt,nothingFoundMessage:Tt,withCheckIcon:Ve,withAlignedLabels:dt,checkIconPosition:ct,hidePickedOptions:ft,withErrorStyles:lt,name:vt,form:dr,id:Ht,clearable:At,clearButtonProps:zn,hiddenInputProps:Cr,placeholder:Ga,hiddenInputValuesDivider:Kn,required:Wt,mod:Ct,renderOption:Ir,onRemove:_n,onClear:ps,scrollAreaProps:bl,chevronColor:$n,attributes:kn,clearSearchOnChange:Ca,...Ti}=n,ja=xr(Ht),Ri=QE(x),jr=KE(Ri),xl=b.useRef({}),qn=Nh({opened:C,defaultOpened:T,onDropdownOpen:j,onDropdownClose:()=>{R?.(),qn.resetSelectedOption()}}),{styleProps:Ki,rest:{type:Eo,autoComplete:Pd,...Hc}}=is(Ti),[K,ae]=sr({value:p,defaultValue:m,finalValue:[],onChange:g}),[pe,Te]=sr({value:L,defaultValue:V,finalValue:"",onChange:q}),_e=Qe=>{Te(Qe),qn.resetSelectedOption()},Be=Ne({name:"MultiSelect",classes:{},props:n,classNames:r,styles:l,unstyled:u,attributes:kn}),{resolvedClassNames:$e,resolvedStyles:ke}=hd({props:n,styles:l,classNames:r}),Ie=Qe=>{y?.(Qe),Qe.key===" "&&!Dt&&(Qe.preventDefault(),qn.toggleDropdown()),Qe.key==="Backspace"&&pe.length===0&&K.length>0&&(_n?.(K[K.length-1]),ae(K.slice(0,K.length-1)))},He=K.map((Qe,rn)=>{const Cn=jr[Qe]||xl.current[Qe];return s.jsx(lc,{withRemoveButton:!U&&!jr[Qe]?.disabled,onRemove:()=>{ae(K.filter(Ft=>Qe!==Ft)),_n?.(Qe)},unstyled:u,disabled:W,...Be("pill"),children:Cn?.label||Qe},`${Qe}-${rn}`)});b.useEffect(()=>{_&&qn.selectFirstOption()},[_,pe]),b.useEffect(()=>{K.forEach(Qe=>{Qe in jr&&(xl.current[Qe]=jr[Qe])})},[jr,K]);const Ye=s.jsx(st.ClearButton,{...zn,onClear:()=>{ps?.(),ae([]),_e("")}}),Ke=TK({data:Ri,value:K}),Ot=At&&K.length>0&&!W&&!U;return s.jsxs(s.Fragment,{children:[s.jsxs(st,{store:qn,classNames:$e,styles:ke,unstyled:u,size:h,readOnly:U,__staticSelector:"MultiSelect",attributes:kn,onOptionSubmit:Qe=>{A?.(Qe),Ca&&_e(""),qn.updateSelectedOptionIndex("selected"),K.includes(jr[Qe].value)?(ae(K.filter(rn=>rn!==jr[Qe].value)),_n?.(jr[Qe].value)):K.length<ot&&ae([...K,jr[Qe].value])},...k,children:[s.jsx(st.DropdownTarget,{children:s.jsx(td,{...Ki,__staticSelector:"MultiSelect",classNames:$e,styles:ke,unstyled:u,size:h,className:a,style:i,variant:S,disabled:W,radius:$,__defaultRightSection:s.jsx(st.Chevron,{size:h,error:Ut,unstyled:u,color:$n}),__clearSection:Ye,__clearable:Ot,rightSection:G,rightSectionPointerEvents:H||"none",rightSectionWidth:X,rightSectionProps:F,leftSection:Q,leftSectionWidth:J,leftSectionPointerEvents:re,leftSectionProps:ue,inputContainer:Ee,inputWrapperOrder:Re,withAsterisk:Se,labelProps:Ge,descriptionProps:Ze,errorProps:Fe,wrapperProps:ze,description:pt,label:Xe,error:Ut,withErrorStyles:lt,__stylesApiProps:{...n,rightSectionPointerEvents:H||(Ot?"all":"none"),multiline:!0},pointer:!Dt,onClick:()=>Dt?qn.openDropdown():qn.toggleDropdown(),"data-expanded":qn.dropdownOpened||void 0,id:ja,required:Wt,mod:Ct,attributes:kn,children:s.jsxs(lc.Group,{attributes:kn,disabled:W,unstyled:u,...Be("pillsList"),children:[He,s.jsx(st.EventsTarget,{autoComplete:Pd,children:s.jsx(td.Field,{...Hc,ref:t,id:ja,placeholder:Ga,type:!Dt&&!Ga?"hidden":"visible",...Be("inputField"),unstyled:u,onFocus:Qe=>{N?.(Qe),Dt&&qn.openDropdown()},onBlur:Qe=>{z?.(Qe),qn.closeDropdown(),_e("")},onKeyDown:Ie,value:pe,onChange:Qe=>{_e(Qe.currentTarget.value),Dt&&qn.openDropdown(),_&&qn.selectFirstOption()},disabled:W,readOnly:U||!Dt,pointer:!Dt})})]})})}),s.jsx(z9,{data:ft?Ke:Ri,hidden:U||W,filter:D,search:pe,limit:O,hiddenWhenEmpty:!Tt,withScrollArea:M,maxDropdownHeight:I,filterOptions:Dt,value:K,checkIconPosition:ct,withCheckIcon:Ve,withAlignedLabels:dt,nothingFoundMessage:Tt,unstyled:u,labelId:Xe?`${ja}-label`:void 0,"aria-label":Xe?void 0:Ti["aria-label"],renderOption:Ir,scrollAreaProps:bl})]}),s.jsx(st.HiddenInput,{name:vt,valuesDivider:Kn,value:K,form:dr,disabled:W,...Cr})]})});ny.classes={...Ha.classes,...st.classes};ny.displayName="@mantine/core/MultiSelect";function _K(e){return"group"in e}function kT({data:e}){if(_K(e)){const a=e.items.map(i=>s.jsx(kT,{data:i},i.value));return s.jsx("optgroup",{label:e.group,children:a})}const{value:t,label:n,...r}=e;return s.jsx("option",{value:e.value,...r,children:e.label},e.value)}kT.displayName="@mantine/core/NativeSelectOption";const DK={rightSectionPointerEvents:"none"},Vr=xe((e,t)=>{const{data:n,children:r,size:a,error:i,rightSection:l,unstyled:u,...d}=se("NativeSelect",DK,e),h=QE(n).map((p,m)=>s.jsx(kT,{data:p},m));return s.jsx(Ha,{component:"select",ref:t,...d,__staticSelector:"NativeSelect",size:a,pointer:!0,error:i,unstyled:u,rightSection:l||s.jsx(kv,{size:a,error:i,unstyled:u}),children:r||h})});Vr.classes=Ha.classes;Vr.displayName="@mantine/core/NativeSelect";var r6={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const AK={withCloseButton:!0},OK=(e,{radius:t,color:n})=>({root:{"--notification-radius":t===void 0?void 0:qt(t),"--notification-color":n?en(n,e):void 0}}),MT=xe((e,t)=>{const n=se("Notification",AK,e),{className:r,color:a,radius:i,loading:l,withCloseButton:u,withBorder:d,title:h,icon:p,children:m,onClose:g,closeButtonProps:y,classNames:S,style:x,styles:C,unstyled:T,variant:j,vars:R,mod:_,loaderProps:A,role:k,attributes:D,...O}=n,M=Ne({name:"Notification",classes:r6,props:n,className:r,style:x,classNames:S,styles:C,unstyled:T,attributes:D,vars:R,varsResolver:OK});return s.jsxs(ne,{...M("root"),mod:[{"data-with-icon":!!p||l,"data-with-border":d},_],ref:t,variant:j,role:k||"alert",...O,children:[p&&!l&&s.jsx("div",{...M("icon"),children:p}),l&&s.jsx(tr,{size:28,color:a,...A,...M("loader")}),s.jsxs("div",{...M("body"),children:[h&&s.jsx("div",{...M("title"),children:h}),s.jsx(ne,{...M("description"),mod:{"data-with-title":!!h},children:m})]}),u&&s.jsx(ul,{iconSize:16,color:"gray",...y,unstyled:T,onClick:g,...M("closeButton")})]})});MT.classes=r6;MT.displayName="@mantine/core/Notification";const[kK,ry]=yr("Pagination.Root component was not found in tree");var Lh={root:"m_4addd315",control:"m_326d024a",dots:"m_4ad7767d"};const MK={withPadding:!0},zh=xe((e,t)=>{const n=se("PaginationControl",MK,e),{classNames:r,className:a,style:i,styles:l,vars:u,active:d,disabled:h,withPadding:p,mod:m,...g}=n,y=ry(),S=h||y.disabled;return s.jsx(Vn,{ref:t,disabled:S,mod:[{active:d,disabled:S,"with-padding":p},m],...y.getStyles("control",{className:a,style:i,classNames:r,styles:l,active:!S}),...g})});zh.classes=Lh;zh.displayName="@mantine/core/PaginationControl";function $h({style:e,children:t,path:n,...r}){return s.jsx("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)",...e},...r,children:s.jsx("path",{d:n,fill:"currentColor"})})}const PK=e=>s.jsx($h,{...e,path:"M8.781 8l-3.3-3.3.943-.943L10.667 8l-4.243 4.243-.943-.943 3.3-3.3z"}),NK=e=>s.jsx($h,{...e,path:"M7.219 8l3.3 3.3-.943.943L5.333 8l4.243-4.243.943.943-3.3 3.3z"}),IK=e=>s.jsx($h,{...e,path:"M6.85355 3.85355C7.04882 3.65829 7.04882 3.34171 6.85355 3.14645C6.65829 2.95118 6.34171 2.95118 6.14645 3.14645L2.14645 7.14645C1.95118 7.34171 1.95118 7.65829 2.14645 7.85355L6.14645 11.8536C6.34171 12.0488 6.65829 12.0488 6.85355 11.8536C7.04882 11.6583 7.04882 11.3417 6.85355 11.1464L3.20711 7.5L6.85355 3.85355ZM12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8.14645 7.14645C7.95118 7.34171 7.95118 7.65829 8.14645 7.85355L12.1464 11.8536C12.3417 12.0488 12.6583 12.0488 12.8536 11.8536C13.0488 11.6583 13.0488 11.3417 12.8536 11.1464L9.20711 7.5L12.8536 3.85355Z"}),LK=e=>s.jsx($h,{...e,path:"M2.14645 11.1464C1.95118 11.3417 1.95118 11.6583 2.14645 11.8536C2.34171 12.0488 2.65829 12.0488 2.85355 11.8536L6.85355 7.85355C7.04882 7.65829 7.04882 7.34171 6.85355 7.14645L2.85355 3.14645C2.65829 2.95118 2.34171 2.95118 2.14645 3.14645C1.95118 3.34171 1.95118 3.65829 2.14645 3.85355L5.79289 7.5L2.14645 11.1464ZM8.14645 11.1464C7.95118 11.3417 7.95118 11.6583 8.14645 11.8536C8.34171 12.0488 8.65829 12.0488 8.85355 11.8536L12.8536 7.85355C13.0488 7.65829 13.0488 7.34171 12.8536 7.14645L8.85355 3.14645C8.65829 2.95118 8.34171 2.95118 8.14645 3.14645C7.95118 3.34171 7.95118 3.65829 8.14645 3.85355L11.7929 7.5L8.14645 11.1464Z"}),zK=e=>s.jsx($h,{...e,path:"M2 8c0-.733.6-1.333 1.333-1.333.734 0 1.334.6 1.334 1.333s-.6 1.333-1.334 1.333C2.6 9.333 2 8.733 2 8zm9.333 0c0-.733.6-1.333 1.334-1.333C13.4 6.667 14 7.267 14 8s-.6 1.333-1.333 1.333c-.734 0-1.334-.6-1.334-1.333zM6.667 8c0-.733.6-1.333 1.333-1.333s1.333.6 1.333 1.333S8.733 9.333 8 9.333 6.667 8.733 6.667 8z"}),$K={icon:zK},ay=xe((e,t)=>{const n=se("PaginationDots",$K,e),{classNames:r,className:a,style:i,styles:l,vars:u,icon:d,...h}=n,p=ry();return s.jsx(ne,{ref:t,...p.getStyles("dots",{className:a,style:i,styles:l,classNames:r}),...h,children:s.jsx(d,{style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});ay.classes=Lh;ay.displayName="@mantine/core/PaginationDots";function iy({icon:e,name:t,action:n,type:r}){const a={icon:e},i=b.forwardRef((l,u)=>{const{icon:d,...h}=se(t,a,l),p=ry(),m=r==="next"?p.active===p.total:p.active===1;return s.jsx(zh,{disabled:p.disabled||m,ref:u,onClick:p[n],withPadding:!1,...h,children:s.jsx(d,{className:"mantine-rotate-rtl",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});return i.displayName=`@mantine/core/${t}`,i}const a6=iy({icon:PK,name:"PaginationNext",action:"onNext",type:"next"}),i6=iy({icon:NK,name:"PaginationPrevious",action:"onPrevious",type:"previous"}),o6=iy({icon:IK,name:"PaginationFirst",action:"onFirst",type:"previous"}),s6=iy({icon:LK,name:"PaginationLast",action:"onLast",type:"next"});function PT({dotsIcon:e}){const t=ry(),n=t.range.map((r,a)=>r==="dots"?s.jsx(ay,{icon:e},a):s.jsx(zh,{active:r===t.active,"aria-current":r===t.active?"page":void 0,onClick:()=>t.onChange(r),disabled:t.disabled,...t.getItemProps?.(r),children:t.getItemProps?.(r)?.children??r},a));return s.jsx(s.Fragment,{children:n})}PT.displayName="@mantine/core/PaginationItems";const qK={siblings:1,boundaries:1},UK=(e,{size:t,radius:n,color:r,autoContrast:a})=>({root:{"--pagination-control-radius":n===void 0?void 0:qt(n),"--pagination-control-size":at(t,"pagination-control-size"),"--pagination-control-fz":Fn(t),"--pagination-active-bg":r?en(r,e):void 0,"--pagination-active-color":as(a,e)?Yi({color:r,theme:e,autoContrast:a}):void 0}}),oy=xe((e,t)=>{const n=se("PaginationRoot",qK,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,total:h,value:p,defaultValue:m,onChange:g,disabled:y,siblings:S,boundaries:x,color:C,radius:T,onNextPage:j,onPreviousPage:R,onFirstPage:_,onLastPage:A,getItemProps:k,autoContrast:D,attributes:O,...M}=n,I=Ne({name:"Pagination",classes:Lh,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:O,vars:d,varsResolver:UK}),{range:L,setPage:V,next:q,previous:U,active:W,first:N,last:z}=DH({page:p,initialPage:m,onChange:g,total:h,siblings:S,boundaries:x}),$=mr(j,q),G=mr(R,U),X=mr(_,N),H=mr(A,z);return s.jsx(kK,{value:{total:h,range:L,active:W,disabled:y,getItemProps:k,onChange:V,onNext:$,onPrevious:G,onFirst:X,onLast:H,getStyles:I},children:s.jsx(ne,{ref:t,...I("root"),...M})})});oy.classes=Lh;oy.displayName="@mantine/core/PaginationRoot";const BK={withControls:!0,withPages:!0,siblings:1,boundaries:1,gap:8},Fa=xe((e,t)=>{const n=se("Pagination",BK,e),{withEdges:r,withControls:a,getControlProps:i,nextIcon:l,previousIcon:u,lastIcon:d,firstIcon:h,dotsIcon:p,total:m,gap:g,hideWithOnePage:y,withPages:S,...x}=n;return m<=0||y&&m===1?null:s.jsx(oy,{ref:t,total:m,...x,children:s.jsxs(fe,{gap:g,children:[r&&s.jsx(o6,{icon:h,...i?.("first")}),a&&s.jsx(i6,{icon:u,...i?.("previous")}),S&&s.jsx(PT,{dotsIcon:p}),a&&s.jsx(a6,{icon:l,...i?.("next")}),r&&s.jsx(s6,{icon:d,...i?.("last")})]})})});Fa.classes=Lh;Fa.displayName="@mantine/core/Pagination";Fa.Root=oy;Fa.Control=zh;Fa.Dots=ay;Fa.First=o6;Fa.Last=s6;Fa.Next=a6;Fa.Previous=i6;Fa.Items=PT;const HK=({reveal:e})=>s.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:s.jsx("path",{d:e?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})});var vj={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const FK={visibilityToggleIcon:HK},VK=(e,{size:t})=>({root:{"--psi-icon-size":at(t,"psi-icon-size"),"--psi-button-size":at(t,"psi-button-size")}}),NT=xe((e,t)=>{const n=se("PasswordInput",FK,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,required:h,error:p,leftSection:m,disabled:g,id:y,variant:S,inputContainer:x,description:C,label:T,size:j,errorProps:R,descriptionProps:_,labelProps:A,withAsterisk:k,inputWrapperOrder:D,wrapperProps:O,radius:M,rightSection:I,rightSectionWidth:L,rightSectionPointerEvents:V,leftSectionWidth:q,visible:U,defaultVisible:W,onVisibilityChange:N,visibilityToggleIcon:z,visibilityToggleButtonProps:$,rightSectionProps:G,leftSectionProps:X,leftSectionPointerEvents:H,withErrorStyles:F,mod:Q,attributes:J,...re}=n,ue=xr(y),[Ee,Re]=sr({value:U,defaultValue:W,finalValue:!1,onChange:N}),Se=()=>Re(!Ee),Ge=Ne({name:"PasswordInput",classes:vj,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:J,vars:d,varsResolver:VK}),{resolvedClassNames:Ze,resolvedStyles:Fe}=hd({classNames:r,styles:l,props:n}),{styleProps:ze,rest:pt}=is(re),Xe=R?.id||`${ue}-error`,Ut=_?.id||`${ue}-description`,Tt=`${!!p&&typeof p!="boolean"?Xe:""} ${!!C?Ut:""}`,Ve=Tt.trim().length>0?Tt.trim():void 0,dt=s.jsx(xt,{...Ge("visibilityToggle"),disabled:g,radius:M,"aria-hidden":!$,"aria-pressed":Ee,tabIndex:-1,...$,variant:$?.variant??"subtle",color:"gray",unstyled:u,onTouchEnd:ct=>{ct.preventDefault(),$?.onTouchEnd?.(ct),Se()},onMouseDown:ct=>{ct.preventDefault(),$?.onMouseDown?.(ct),Se()},onKeyDown:ct=>{$?.onKeyDown?.(ct),ct.key===" "&&(ct.preventDefault(),Se())},children:s.jsx(z,{reveal:Ee})});return s.jsx(nn.Wrapper,{required:h,id:ue,label:T,error:p,description:C,size:j,classNames:Ze,styles:Fe,__staticSelector:"PasswordInput",unstyled:u,withAsterisk:k,inputWrapperOrder:D,inputContainer:x,variant:S,labelProps:{...A,htmlFor:ue},descriptionProps:{..._,id:Ut},errorProps:{...R,id:Xe},mod:Q,attributes:J,...Ge("root"),...ze,...O,children:s.jsx(nn,{component:"div",error:p,leftSection:m,size:j,classNames:{...Ze,input:$t(vj.input,Ze.input)},styles:Fe,radius:M,disabled:g,__staticSelector:"PasswordInput",rightSectionWidth:L,rightSection:I??dt,variant:S,unstyled:u,leftSectionWidth:q,rightSectionPointerEvents:V||"all",rightSectionProps:G,leftSectionProps:X,leftSectionPointerEvents:H,withAria:!1,withErrorStyles:F,attributes:J,children:s.jsx("input",{required:h,"data-invalid":!!p||void 0,"data-with-left-section":!!m||void 0,...Ge("innerInput"),disabled:g,id:ue,ref:t,...pt,"aria-describedby":Ve,autoComplete:pt.autoComplete||"off",type:Ee?"text":"password"})})})});NT.classes={...Ha.classes,...vj};NT.displayName="@mantine/core/PasswordInput";const[WK,l6]=Gi(),[GK,YK]=Gi();var c6={card:"m_9dc8ae12"};const QK={withBorder:!0},KK=(e,{radius:t})=>({card:{"--card-radius":qt(t)}}),IT=xe((e,t)=>{const n=se("RadioCard",QK,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,checked:h,mod:p,withBorder:m,value:g,onClick:y,name:S,onKeyDown:x,attributes:C,...T}=n,j=Ne({name:"RadioCard",classes:c6,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:C,vars:d,varsResolver:KK,rootSelector:"card"}),{dir:R}=os(),_=l6(),A=typeof h=="boolean"?h:_?.value===g||!1,k=S||_?.name,D=O=>{if(x?.(O),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(O.nativeEvent.code)){O.preventDefault();const M=Array.from(document.querySelectorAll(`[role="radio"][name="${k||"__mantine"}"]`)),I=M.findIndex(q=>q===O.target),L=I+1>=M.length?0:I+1,V=I-1<0?M.length-1:I-1;O.nativeEvent.code==="ArrowDown"&&(M[L].focus(),M[L].click()),O.nativeEvent.code==="ArrowUp"&&(M[V].focus(),M[V].click()),O.nativeEvent.code==="ArrowLeft"&&(M[R==="ltr"?V:L].focus(),M[R==="ltr"?V:L].click()),O.nativeEvent.code==="ArrowRight"&&(M[R==="ltr"?L:V].focus(),M[R==="ltr"?L:V].click())}};return s.jsx(GK,{value:{checked:A},children:s.jsx(Vn,{ref:t,mod:[{"with-border":m,checked:A},p],...j("card"),...T,role:"radio","aria-checked":A,name:k,onClick:O=>{y?.(O),_?.onChange(g||"")},onKeyDown:D})})});IT.displayName="@mantine/core/RadioCard";IT.classes=c6;const LT=xe((e,t)=>{const{value:n,defaultValue:r,onChange:a,size:i,wrapperProps:l,children:u,name:d,readOnly:h,disabled:p,...m}=se("RadioGroup",null,e),g=xr(d),[y,S]=sr({value:n,defaultValue:r,finalValue:"",onChange:a}),x=C=>!h&&S(typeof C=="string"?C:C.currentTarget.value);return s.jsx(WK,{value:{value:y,onChange:x,size:i,name:g,disabled:p},children:s.jsx(nn.Wrapper,{size:i,ref:t,...l,...m,labelElement:"div",__staticSelector:"RadioGroup",children:s.jsx(sT,{role:"radiogroup",children:u})})})});LT.classes=nn.Wrapper.classes;LT.displayName="@mantine/core/RadioGroup";function u6({size:e,style:t,...n}){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5",style:{width:me(e),height:me(e),...t},"aria-hidden":!0,...n,children:s.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:"currentColor"})})}var d6={indicator:"m_717d7ff6",icon:"m_3e4da632","indicator--outline":"m_2980836c"};const XK={icon:u6},ZK=(e,{radius:t,color:n,size:r,iconColor:a,variant:i,autoContrast:l})=>{const u=ga({color:n||e.primaryColor,theme:e}),d=u.isThemeColor&&u.shade===void 0?`var(--mantine-color-${u.color}-outline)`:u.color;return{indicator:{"--radio-size":at(r,"radio-size"),"--radio-radius":t===void 0?void 0:qt(t),"--radio-color":i==="outline"?d:en(n,e),"--radio-icon-size":at(r,"radio-icon-size"),"--radio-icon-color":a?en(a,e):as(l,e)?Yi({color:n,theme:e,autoContrast:l}):void 0}}},zT=xe((e,t)=>{const n=se("RadioIndicator",XK,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,icon:h,radius:p,color:m,iconColor:g,autoContrast:y,checked:S,mod:x,variant:C,disabled:T,attributes:j,...R}=n,_=Ne({name:"RadioIndicator",classes:d6,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:j,vars:d,varsResolver:ZK,rootSelector:"indicator"}),A=YK(),k=typeof S=="boolean"?S:A?.checked||!1;return s.jsx(ne,{ref:t,..._("indicator",{variant:C}),variant:C,mod:[{checked:k,disabled:T},x],...R,children:s.jsx(h,{..._("icon")})})});zT.displayName="@mantine/core/RadioIndicator";zT.classes=d6;var f6={root:"m_f3f1af94",inner:"m_89c4f5e4",icon:"m_f3ed6b2b",radio:"m_8a3dbb89","radio--outline":"m_1bfe9d39"};const JK={labelPosition:"right"},eX=(e,{size:t,radius:n,color:r,iconColor:a,variant:i,autoContrast:l})=>{const u=ga({color:r||e.primaryColor,theme:e}),d=u.isThemeColor&&u.shade===void 0?`var(--mantine-color-${u.color}-outline)`:u.color;return{root:{"--radio-size":at(t,"radio-size"),"--radio-radius":n===void 0?void 0:qt(n),"--radio-color":i==="outline"?d:en(r,e),"--radio-icon-color":a?en(a,e):as(l,e)?Yi({color:r,theme:e,autoContrast:l}):void 0,"--radio-icon-size":at(t,"radio-icon-size")}}},Nn=xe((e,t)=>{const n=se("Radio",JK,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,id:h,size:p,label:m,labelPosition:g,description:y,error:S,radius:x,color:C,variant:T,disabled:j,wrapperProps:R,icon:_=u6,rootRef:A,iconColor:k,onChange:D,mod:O,attributes:M,checked:I,...L}=n,V=Ne({name:"Radio",classes:f6,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:M,vars:d,varsResolver:eX}),q=l6(),U=q?.size??p,W=n.size?p:U,{styleProps:N,rest:z}=is(L),$=xr(h),G=q?q.value===z.value:void 0,X={checked:G??I,name:q?.name??z.name,onChange:H=>{q?.onChange(H),D?.(H)},disabled:q?.disabled??j};return s.jsx(Mv,{...V("root"),__staticSelector:"Radio",__stylesApiProps:n,id:$,size:W,labelPosition:g,label:m,description:y,error:S,disabled:X.disabled,classNames:r,styles:l,unstyled:u,"data-checked":(G??I)||void 0,variant:T,ref:A,mod:O,...N,...R,children:s.jsxs(ne,{...V("inner"),mod:{"label-position":g},children:[s.jsx(ne,{...V("radio",{focusable:!0,variant:T}),...z,...X,component:"input",mod:{error:!!S},ref:t,id:$,type:"radio"}),s.jsx(_,{...V("icon"),"aria-hidden":!0})]})})});Nn.classes=f6;Nn.displayName="@mantine/core/Radio";Nn.Group=LT;Nn.Card=IT;Nn.Indicator=zT;const tX={duration:100,transition:"fade"};function Zk(e,t){return{...tX,...t,...e}}function nX({offset:e,position:t,defaultOpened:n}){const[r,a]=b.useState(n),i=b.useRef(null),{x:l,y:u,elements:d,refs:h,update:p,placement:m}=TE({placement:t,middleware:[wE({crossAxis:!0,padding:5,rootBoundary:"document"})]}),g=m.includes("right")?e:t.includes("left")?e*-1:0,y=m.includes("bottom")?e:t.includes("top")?e*-1:0,S=b.useCallback(({clientX:x,clientY:C})=>{h.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x,y:C,left:x+g,top:C+y,right:x,bottom:C}}})},[d.reference]);return b.useEffect(()=>{if(h.floating.current){const x=i.current;x.addEventListener("mousemove",S);const C=Qo(h.floating.current);return C.forEach(T=>{T.addEventListener("scroll",p)}),()=>{x.removeEventListener("mousemove",S),C.forEach(T=>{T.removeEventListener("scroll",p)})}}},[d.reference,h.floating.current,p,S,r]),{handleMouseMove:S,x:l,y:u,opened:r,setOpened:a,boundaryRef:i,floating:h.setFloating}}var sy={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const rX={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:br("popover")},aX=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:qt(t),"--tooltip-bg":n?en(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),$T=xe((e,t)=>{const n=se("TooltipFloating",rX,e),{children:r,refProp:a,withinPortal:i,style:l,className:u,classNames:d,styles:h,unstyled:p,radius:m,color:g,label:y,offset:S,position:x,multiline:C,zIndex:T,disabled:j,defaultOpened:R,variant:_,vars:A,portalProps:k,attributes:D,...O}=n,M=wn(),I=Ne({name:"TooltipFloating",props:n,classes:sy,className:u,style:l,classNames:d,styles:h,unstyled:p,attributes:D,rootSelector:"tooltip",vars:A,varsResolver:aX}),{handleMouseMove:L,x:V,y:q,opened:U,boundaryRef:W,floating:N,setOpened:z}=nX({offset:S,position:x,defaultOpened:R}),$=Rc(r);if(!$)throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const G=Yn(W,gv($),t),X=$.props,H=Q=>{X.onMouseEnter?.(Q),L(Q),z(!0)},F=Q=>{X.onMouseLeave?.(Q),z(!1)};return s.jsxs(s.Fragment,{children:[s.jsx(Js,{...k,withinPortal:i,children:s.jsx(ne,{...O,...I("tooltip",{style:{...mE(l,M),zIndex:T,display:!j&&U?"block":"none",top:(q&&Math.round(q))??"",left:(V&&Math.round(V))??""}}),variant:_,ref:N,mod:{multiline:C},children:y})}),b.cloneElement($,{...X,[a]:G,onMouseEnter:H,onMouseLeave:F})]})});$T.classes=sy;$T.displayName="@mantine/core/TooltipFloating";const h6=b.createContext(!1),iX=h6.Provider,oX=()=>b.useContext(h6),sX={openDelay:0,closeDelay:0};function qT(e){const{openDelay:t,closeDelay:n,children:r}=se("TooltipGroup",sX,e);return s.jsx(iX,{value:!0,children:s.jsx(qW,{delay:{open:t,close:n},children:r})})}qT.displayName="@mantine/core/TooltipGroup";qT.extend=e=>e;function lX(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function cX(e){const t=lX(e.middlewares),n=[k5(e.offset)];return t.shift&&n.push(wE(typeof t.shift=="boolean"?{padding:8}:{padding:8,...t.shift})),t.flip&&n.push(typeof t.flip=="boolean"?$g():$g(t.flip)),n.push(M5({element:e.arrowRef,padding:e.arrowOffset})),t.inline?n.push(typeof t.inline=="boolean"?Gf():Gf(t.inline)):e.inline&&n.push(Gf()),n}function uX(e){const[t,n]=b.useState(e.defaultOpened),a=typeof e.opened=="boolean"?e.opened:t,i=oX(),l=xr(),u=b.useCallback(A=>{n(A),A&&T(l)},[l]),{x:d,y:h,context:p,refs:m,placement:g,middlewareData:{arrow:{x:y,y:S}={}}}=TE({strategy:e.strategy,placement:e.position,open:a,onOpenChange:u,middleware:cX(e),whileElementsMounted:fj}),{delay:x,currentId:C,setCurrentId:T}=UW(p,{id:l}),{getReferenceProps:j,getFloatingProps:R}=GW([zW(p,{enabled:e.events?.hover,delay:i?x:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events?.touch}),WW(p,{enabled:e.events?.focus,visibleOnly:!0}),QW(p,{role:"tooltip"}),FW(p,{enabled:typeof e.opened>"u"})]);Zs(()=>{e.onPositionChange?.(g)},[g]);const _=a&&C&&C!==l;return{x:d,y:h,arrowX:y,arrowY:S,reference:m.setReference,floating:m.setFloating,getFloatingProps:R,getReferenceProps:j,isGroupPhase:_,opened:a,placement:g}}const Jk={position:"top",refProp:"ref",withinPortal:!0,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:br("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},dX=(e,{radius:t,color:n,variant:r,autoContrast:a})=>{const i=e.variantColorResolver({theme:e,color:n||e.primaryColor,autoContrast:a,variant:r||"filled"});return{tooltip:{"--tooltip-radius":t===void 0?void 0:qt(t),"--tooltip-bg":n?i.background:void 0,"--tooltip-color":n?i.color:void 0}}},va=xe((e,t)=>{const n=se("Tooltip",Jk,e),{children:r,position:a,refProp:i,label:l,openDelay:u,closeDelay:d,onPositionChange:h,opened:p,defaultOpened:m,withinPortal:g,radius:y,color:S,classNames:x,styles:C,unstyled:T,style:j,className:R,withArrow:_,arrowSize:A,arrowOffset:k,arrowRadius:D,arrowPosition:O,offset:M,transitionProps:I,multiline:L,events:V,zIndex:q,disabled:U,positionDependencies:W,onClick:N,onMouseEnter:z,onMouseLeave:$,inline:G,variant:X,keepMounted:H,vars:F,portalProps:Q,mod:J,floatingStrategy:re,middlewares:ue,autoContrast:Ee,attributes:Re,target:Se,...Ge}=se("Tooltip",Jk,n),{dir:Ze}=os(),Fe=b.useRef(null),ze=uX({position:Z5(Ze,a),closeDelay:d,openDelay:u,onPositionChange:h,opened:p,defaultOpened:m,events:V,arrowRef:Fe,arrowOffset:k,offset:typeof M=="number"?M+(_?A/2:0):M,positionDependencies:[...W,Se??r],inline:G,strategy:re,middlewares:ue});b.useEffect(()=>{const Tt=Se instanceof HTMLElement?Se:typeof Se=="string"?document.querySelector(Se):Se?.current||null;Tt&&ze.reference(Tt)},[Se,ze]);const pt=Ne({name:"Tooltip",props:n,classes:sy,className:R,style:j,classNames:x,styles:C,unstyled:T,attributes:Re,rootSelector:"tooltip",vars:F,varsResolver:dX}),Xe=Rc(r);if(!Se&&!Xe)return null;if(Se){const Tt=Zk(I,{duration:100,transition:"fade"});return s.jsx(s.Fragment,{children:s.jsx(Js,{...Q,withinPortal:g,children:s.jsx(Ui,{...Tt,keepMounted:H,mounted:!U&&!!ze.opened,duration:ze.isGroupPhase?10:Tt.duration,children:Ve=>s.jsxs(ne,{...Ge,"data-fixed":re==="fixed"||void 0,variant:X,mod:[{multiline:L},J],...ze.getFloatingProps({ref:ze.floating,className:pt("tooltip").className,style:{...pt("tooltip").style,...Ve,zIndex:q,top:ze.y??0,left:ze.x??0}}),children:[l,s.jsx(qg,{ref:Fe,arrowX:ze.arrowX,arrowY:ze.arrowY,visible:_,position:ze.placement,arrowSize:A,arrowOffset:k,arrowRadius:D,arrowPosition:O,...pt("arrow")})]})})})})}const Ut=Xe.props,ot=Yn(ze.reference,gv(Xe),t),Dt=Zk(I,{duration:100,transition:"fade"});return s.jsxs(s.Fragment,{children:[s.jsx(Js,{...Q,withinPortal:g,children:s.jsx(Ui,{...Dt,keepMounted:H,mounted:!U&&!!ze.opened,duration:ze.isGroupPhase?10:Dt.duration,children:Tt=>s.jsxs(ne,{...Ge,"data-fixed":re==="fixed"||void 0,variant:X,mod:[{multiline:L},J],...ze.getFloatingProps({ref:ze.floating,className:pt("tooltip").className,style:{...pt("tooltip").style,...Tt,zIndex:q,top:ze.y??0,left:ze.x??0}}),children:[l,s.jsx(qg,{ref:Fe,arrowX:ze.arrowX,arrowY:ze.arrowY,visible:_,position:ze.placement,arrowSize:A,arrowOffset:k,arrowRadius:D,arrowPosition:O,...pt("arrow")})]})})}),b.cloneElement(Xe,ze.getReferenceProps({onClick:N,onMouseEnter:z,onMouseLeave:$,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,...Ut,className:$t(R,Ut.className),[i]:ot}))]})});va.classes=sy;va.displayName="@mantine/core/Tooltip";va.Floating=$T;va.Group=qT;var p6={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const fX={withItemsBorders:!0},hX=(e,{radius:t,color:n,transitionDuration:r,size:a,transitionTimingFunction:i})=>({root:{"--sc-radius":t===void 0?void 0:qt(t),"--sc-color":n?en(n,e):void 0,"--sc-shadow":n?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":r===void 0?void 0:`${r}ms`,"--sc-transition-timing-function":i,"--sc-padding":at(a,"sc-padding"),"--sc-font-size":Fn(a)}}),el=xe((e,t)=>{const n=se("SegmentedControl",fX,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,data:h,value:p,defaultValue:m,onChange:g,size:y,name:S,disabled:x,readOnly:C,fullWidth:T,orientation:j,radius:R,color:_,transitionDuration:A,transitionTimingFunction:k,variant:D,autoContrast:O,withItemsBorders:M,mod:I,attributes:L,...V}=n,q=Ne({name:"SegmentedControl",props:n,classes:p6,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:L,vars:d,varsResolver:hX}),U=wn(),W=h.map(Se=>typeof Se=="string"?{label:Se,value:Se}:Se),N=FH(),[z,$]=b.useState(Ng()),[G,X]=b.useState(null),[H,F]=b.useState({}),Q=(Se,Ge)=>{H[Ge]=Se,F(H)},[J,re]=sr({value:p,defaultValue:m,finalValue:Array.isArray(h)?W.find(Se=>!Se.disabled)?.value??h[0]?.value??null:null,onChange:g}),ue=xr(S),Ee=W.map(Se=>b.createElement(ne,{...q("control"),mod:{active:J===Se.value,orientation:j},key:Se.value},b.createElement("input",{...q("input"),disabled:x||Se.disabled,type:"radio",name:ue,value:Se.value,id:`${ue}-${Se.value}`,checked:J===Se.value,onChange:()=>!C&&re(Se.value),"data-focus-ring":U.focusRing,key:`${Se.value}-input`}),b.createElement(ne,{component:"label",...q("label"),mod:{active:J===Se.value&&!(x||Se.disabled),disabled:x||Se.disabled,"read-only":C},htmlFor:`${ue}-${Se.value}`,ref:Ge=>Q(Ge,Se.value),__vars:{"--sc-label-color":_!==void 0?Yi({color:_,theme:U,autoContrast:O}):void 0},key:`${Se.value}-label`},s.jsx("span",{...q("innerLabel"),children:Se.label})))),Re=Yn(t,Se=>X(Se));return PH(()=>{$(Ng())},[h.length]),h.length===0?null:s.jsxs(ne,{...q("root"),variant:D,size:y,ref:Re,mod:[{"full-width":T,orientation:j,initialized:N,"with-items-borders":M},I],...V,role:"radiogroup","data-disabled":x,children:[typeof J=="string"&&s.jsx(BE,{target:H[J],parent:G,component:"span",transitionDuration:"var(--sc-transition-duration)",...q("indicator")},z),Ee]})});el.classes=p6;el.displayName="@mantine/core/SegmentedControl";const pX={withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},ly=xe((e,t)=>{const n=se("Select",pX,e),{classNames:r,styles:a,unstyled:i,vars:l,dropdownOpened:u,defaultDropdownOpened:d,onDropdownClose:h,onDropdownOpen:p,onFocus:m,onBlur:g,onClick:y,onChange:S,data:x,value:C,defaultValue:T,selectFirstOptionOnChange:j,onOptionSubmit:R,comboboxProps:_,readOnly:A,disabled:k,filter:D,limit:O,withScrollArea:M,maxDropdownHeight:I,size:L,searchable:V,rightSection:q,checkIconPosition:U,withCheckIcon:W,withAlignedLabels:N,nothingFoundMessage:z,name:$,form:G,searchValue:X,defaultSearchValue:H,onSearchChange:F,allowDeselect:Q,error:J,rightSectionPointerEvents:re,id:ue,clearable:Ee,clearButtonProps:Re,hiddenInputProps:Se,renderOption:Ge,onClear:Ze,autoComplete:Fe,scrollAreaProps:ze,__defaultRightSection:pt,__clearSection:Xe,__clearable:Ut,chevronColor:ot,autoSelectOnBlur:Dt,attributes:Tt,...Ve}=n,dt=b.useMemo(()=>QE(x),[x]),ct=b.useRef({}),ft=b.useMemo(()=>KE(dt),[dt]),lt=xr(ue),[vt,dr,Ht]=sr({value:C,defaultValue:T,finalValue:null,onChange:S}),At=typeof vt=="string"?vt in ft?ft[vt]:ct.current[vt]:void 0,zn=BH(At),[Cr,Ga,Kn]=sr({value:X,defaultValue:H,finalValue:At?At.label:"",onChange:F}),Wt=Nh({opened:u,defaultOpened:d,onDropdownOpen:()=>{p?.(),Wt.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{h?.(),setTimeout(Wt.resetSelectedOption,0)}}),Ct=$n=>{Ga($n),Wt.resetSelectedOption()},{resolvedClassNames:Ir,resolvedStyles:_n}=hd({props:n,styles:a,classNames:r});b.useEffect(()=>{j&&Wt.selectFirstOption()},[j,Cr]),b.useEffect(()=>{C===null&&Ct(""),typeof C=="string"&&At&&(zn?.value!==At.value||zn?.label!==At.label)&&Ct(At.label)},[C,At]),b.useEffect(()=>{!Ht&&!Kn&&Ct(typeof vt=="string"?vt in ft?ft[vt]?.label:ct.current[vt]?.label||"":"")},[ft,vt]),b.useEffect(()=>{vt&&vt in ft&&(ct.current[vt]=ft[vt])},[ft,vt]);const ps=s.jsx(st.ClearButton,{...Re,onClear:()=>{dr(null,null),Ct(""),Ze?.()}}),bl=Ee&&!!vt&&!k&&!A;return s.jsxs(s.Fragment,{children:[s.jsxs(st,{store:Wt,__staticSelector:"Select",classNames:Ir,styles:_n,unstyled:i,readOnly:A,size:L,attributes:Tt,keepMounted:Dt,onOptionSubmit:$n=>{R?.($n);const kn=Q&&ft[$n].value===vt?null:ft[$n],Ca=kn?kn.value:null;Ca!==vt&&dr(Ca,kn),!Ht&&Ct(typeof Ca=="string"&&kn?.label||""),Wt.closeDropdown()},..._,children:[s.jsx(st.Target,{targetType:V?"input":"button",autoComplete:Fe,children:s.jsx(Ha,{id:lt,ref:t,__defaultRightSection:s.jsx(st.Chevron,{size:L,error:J,unstyled:i,color:ot}),__clearSection:ps,__clearable:bl,rightSection:q,rightSectionPointerEvents:re||"none",...Ve,size:L,__staticSelector:"Select",disabled:k,readOnly:A||!V,value:Cr,onChange:$n=>{Ct($n.currentTarget.value),Wt.openDropdown(),j&&Wt.selectFirstOption()},onFocus:$n=>{V&&Wt.openDropdown(),m?.($n)},onBlur:$n=>{Dt&&Wt.clickSelectedOption(),V&&Wt.closeDropdown();const kn=typeof vt=="string"&&(vt in ft?ft[vt]:ct.current[vt]);Ct(kn&&kn.label||""),g?.($n)},onClick:$n=>{V?Wt.openDropdown():Wt.toggleDropdown(),y?.($n)},classNames:Ir,styles:_n,unstyled:i,pointer:!V,error:J,attributes:Tt})}),s.jsx(z9,{data:dt,hidden:A||k,filter:D,search:Cr,limit:O,hiddenWhenEmpty:!z,withScrollArea:M,maxDropdownHeight:I,filterOptions:!!V&&At?.label!==Cr,value:vt,checkIconPosition:U,withCheckIcon:W,withAlignedLabels:N,nothingFoundMessage:z,unstyled:i,labelId:Ve.label?`${lt}-label`:void 0,"aria-label":Ve.label?void 0:Ve["aria-label"],renderOption:Ge,scrollAreaProps:ze})]}),s.jsx(st.HiddenInput,{value:vt,name:$,form:G,disabled:k,...Se})]})});ly.classes={...Ha.classes,...st.classes};ly.displayName="@mantine/core/Select";function mX({spacing:e,verticalSpacing:t,cols:n,selector:r}){const a=wn(),i=t===void 0?e:t,l=cl({"--sg-spacing-x":In(Pi(e)),"--sg-spacing-y":In(Pi(i)),"--sg-cols":Pi(n)?.toString()}),u=hn(a.breakpoints).reduce((p,m)=>(p[m]||(p[m]={}),typeof e=="object"&&e[m]!==void 0&&(p[m]["--sg-spacing-x"]=In(e[m])),typeof i=="object"&&i[m]!==void 0&&(p[m]["--sg-spacing-y"]=In(i[m])),typeof n=="object"&&n[m]!==void 0&&(p[m]["--sg-cols"]=n[m]),p),{}),h=Zf(hn(u),a.breakpoints).filter(p=>hn(u[p.value]).length>0).map(p=>({query:`(min-width: ${a.breakpoints[p.value]})`,styles:u[p.value]}));return s.jsx(_c,{styles:l,media:h,selector:r})}function qx(e){return typeof e=="object"&&e!==null?hn(e):[]}function gX(e){return e.sort((t,n)=>Xf(t)-Xf(n))}function vX({spacing:e,verticalSpacing:t,cols:n}){const r=Array.from(new Set([...qx(e),...qx(t),...qx(n)]));return gX(r)}function yX({spacing:e,verticalSpacing:t,cols:n,selector:r}){const a=t===void 0?e:t,i=cl({"--sg-spacing-x":In(Pi(e)),"--sg-spacing-y":In(Pi(a)),"--sg-cols":Pi(n)?.toString()}),l=vX({spacing:e,verticalSpacing:t,cols:n}),u=l.reduce((h,p)=>(h[p]||(h[p]={}),typeof e=="object"&&e[p]!==void 0&&(h[p]["--sg-spacing-x"]=In(e[p])),typeof a=="object"&&a[p]!==void 0&&(h[p]["--sg-spacing-y"]=In(a[p])),typeof n=="object"&&n[p]!==void 0&&(h[p]["--sg-cols"]=n[p]),h),{}),d=l.map(h=>({query:`simple-grid (min-width: ${h})`,styles:u[h]}));return s.jsx(_c,{styles:i,container:d,selector:r})}var m6={container:"m_925c2d2c",root:"m_2415a157"};const bX={cols:1,spacing:"md",type:"media"},UT=xe((e,t)=>{const n=se("SimpleGrid",bX,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,cols:h,verticalSpacing:p,spacing:m,type:g,attributes:y,...S}=n,x=Ne({name:"SimpleGrid",classes:m6,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:y,vars:d}),C=Ah();return g==="container"?s.jsxs(s.Fragment,{children:[s.jsx(yX,{...n,selector:`.${C}`}),s.jsx("div",{...x("container"),children:s.jsx(ne,{ref:t,...x("root",{className:C}),...S})})]}):s.jsxs(s.Fragment,{children:[s.jsx(mX,{...n,selector:`.${C}`}),s.jsx(ne,{ref:t,...x("root",{className:C}),...S})]})});UT.classes=m6;UT.displayName="@mantine/core/SimpleGrid";var g6={root:"m_18320242","skeleton-fade":"m_299c329c"};const xX={visible:!0,animate:!0},SX=(e,{width:t,height:n,radius:r,circle:a})=>({root:{"--skeleton-height":me(n),"--skeleton-width":me(a?n:t),"--skeleton-radius":a?"1000px":r===void 0?void 0:qt(r)}}),Et=xe((e,t)=>{const n=se("Skeleton",xX,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,width:h,height:p,circle:m,visible:g,radius:y,animate:S,mod:x,attributes:C,...T}=n,j=Ne({name:"Skeleton",classes:g6,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:C,vars:d,varsResolver:SX});return s.jsx(ne,{ref:t,...j("root"),mod:[{visible:g,animate:S},x],...T})});Et.classes=g6;Et.displayName="@mantine/core/Skeleton";const v6=xe((e,t)=>{const{w:n,h:r,miw:a,mih:i,...l}=se("Space",null,e);return s.jsx(ne,{ref:t,...l,w:n,miw:a??n,h:r,mih:i??r})});v6.displayName="@mantine/core/Space";var y6={root:"m_6d731127"};const wX={gap:"md",align:"stretch",justify:"flex-start"},CX=(e,{gap:t,align:n,justify:r})=>({root:{"--stack-gap":In(t),"--stack-align":n,"--stack-justify":r}}),oe=xe((e,t)=>{const n=se("Stack",wX,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,align:h,justify:p,gap:m,variant:g,attributes:y,...S}=n,x=Ne({name:"Stack",props:n,classes:y6,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:y,vars:d,varsResolver:CX});return s.jsx(ne,{ref:t,...x("root"),variant:g,...S})});oe.classes=y6;oe.displayName="@mantine/core/Stack";const[jX,EX]=yr("Stepper component was not found in tree"),Ug=()=>null;Ug.displayName="@mantine/core/StepperCompleted";var BT={root:"m_cbb4ea7e",steps:"m_aaf89d0b",separator:"m_2a371ac9",content:"m_78da155d",step:"m_cbb57068","step--horizontal":"m_f56b1e2c","step--vertical":"m_833edb7e",verticalSeparator:"m_6496b3f3",stepWrapper:"m_818e70b",stepIcon:"m_1959ad01",stepCompletedIcon:"m_a79331dc",stepBody:"m_1956aa2a",stepLabel:"m_12051f6c",stepDescription:"m_164eea74"};const Im=(e,t)=>typeof e=="function"?s.jsx(e,{step:t||0}):e,TX={withIcon:!0,allowStepClick:!0,iconPosition:"left"},HT=xe((e,t)=>{const{classNames:n,className:r,style:a,styles:i,vars:l,step:u,state:d,color:h,icon:p,completedIcon:m,progressIcon:g,label:y,description:S,withIcon:x,iconSize:C,loading:T,allowStepClick:j,allowStepSelect:R,iconPosition:_,orientation:A,mod:k,...D}=se("StepperStep",TX,e),O=EX(),M=wn(),I={classNames:n,styles:i},L=d==="stepCompleted"?null:d==="stepProgress"?g:p,V={"data-progress":d==="stepProgress"||void 0,"data-completed":d==="stepCompleted"||void 0};return s.jsxs(Vn,{...O.getStyles("step",{className:r,style:a,variant:O.orientation,...I}),mod:[{"icon-position":_||O.iconPosition,"allow-click":j},k],ref:t,...V,...D,__vars:{"--step-color":h?en(h,M):void 0},tabIndex:j?0:-1,children:[x&&s.jsxs("span",{...O.getStyles("stepWrapper",I),children:[s.jsxs("span",{...O.getStyles("stepIcon",I),...V,children:[s.jsx(Ui,{mounted:d==="stepCompleted",transition:"pop",duration:200,children:q=>s.jsx("span",{...O.getStyles("stepCompletedIcon",{style:q,...I}),children:T?s.jsx(tr,{color:"var(--mantine-color-white)",size:"calc(var(--stepper-icon-size) / 2)",...O.getStyles("stepLoader",I)}):Im(m,u)||s.jsx(Pv,{size:"60%"})})}),d!=="stepCompleted"?T?s.jsx(tr,{...O.getStyles("stepLoader",I),size:"calc(var(--stepper-icon-size) / 2)",color:h}):Im(L||p,u):null]}),A==="vertical"&&s.jsx("span",{...O.getStyles("verticalSeparator",I),"data-active":d==="stepCompleted"||void 0})]}),(y||S)&&s.jsxs("span",{...O.getStyles("stepBody",I),"data-orientation":O.orientation,"data-icon-position":_||O.iconPosition,children:[y&&s.jsx("span",{...O.getStyles("stepLabel",I),children:Im(y,u)}),S&&s.jsx("span",{...O.getStyles("stepDescription",I),children:Im(S,u)})]})]})});HT.classes=BT;HT.displayName="@mantine/core/StepperStep";const RX={orientation:"horizontal",iconPosition:"left",allowNextStepsSelect:!0,wrap:!0},_X=(e,{color:t,iconSize:n,size:r,contentPadding:a,radius:i,autoContrast:l})=>({root:{"--stepper-color":t?en(t,e):void 0,"--stepper-icon-color":as(l,e)?Yi({color:t,theme:e,autoContrast:l}):void 0,"--stepper-icon-size":n===void 0?at(r,"stepper-icon-size"):me(n),"--stepper-content-padding":In(a),"--stepper-radius":i===void 0?void 0:qt(i),"--stepper-fz":Fn(r),"--stepper-spacing":In(r)}}),nd=xe((e,t)=>{const n=se("Stepper",RX,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,children:h,onStepClick:p,active:m,icon:g,completedIcon:y,progressIcon:S,color:x,iconSize:C,contentPadding:T,orientation:j,iconPosition:R,size:_,radius:A,allowNextStepsSelect:k,wrap:D,autoContrast:O,attributes:M,...I}=n,L=Ne({name:"Stepper",classes:BT,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:M,vars:d,varsResolver:_X}),V=b.Children.toArray(h),q=V.filter(G=>G.type!==Ug),U=V.find(G=>G.type===Ug),W=q.reduce((G,X,H)=>{const F=m===H?"stepProgress":m>H?"stepCompleted":"stepInactive",J=typeof p!="function"?!1:typeof X.props.allowStepSelect=="boolean"?X.props.allowStepSelect:F==="stepCompleted"||k;return G.push(b.cloneElement(X,{icon:X.props.icon||g||H+1,key:H,step:H,state:F,onClick:()=>J&&p?.(H),allowStepClick:J,completedIcon:X.props.completedIcon||y,progressIcon:X.props.progressIcon||S,color:X.props.color||x,iconSize:C,iconPosition:X.props.iconPosition||R,orientation:j})),j==="horizontal"&&H!==q.length-1&&G.push(b.createElement("div",{...L("separator"),"data-active":H<m||void 0,"data-orientation":j,key:`separator-${H}`})),G},[]),N=q[m]?.props?.children,z=U?.props?.children,$=m>q.length-1?z:N;return s.jsx(jX,{value:{getStyles:L,orientation:j,iconPosition:R},children:s.jsxs(ne,{...L("root"),ref:t,size:_,...I,children:[s.jsx(ne,{...L("steps"),mod:{orientation:j,"icon-position":R,wrap:D&&j!=="vertical"},children:W}),$&&s.jsx("div",{...L("content"),children:$})]})})});nd.classes=BT;nd.displayName="@mantine/core/Stepper";nd.Completed=Ug;nd.Step=HT;const b6=b.createContext(null),DX=b6.Provider,AX=()=>b.useContext(b6),FT=xe((e,t)=>{const{value:n,defaultValue:r,onChange:a,size:i,wrapperProps:l,children:u,readOnly:d,disabled:h,...p}=se("SwitchGroup",null,e),[m,g]=sr({value:n,defaultValue:r,finalValue:[],onChange:a}),y=S=>{const x=S.currentTarget.value;!d&&g(m.includes(x)?m.filter(C=>C!==x):[...m,x])};return s.jsx(DX,{value:{value:m,onChange:y,size:i,disabled:h},children:s.jsx(nn.Wrapper,{size:i,ref:t,...l,...p,labelElement:"div",__staticSelector:"SwitchGroup",children:s.jsx(sT,{role:"group",children:u})})})});FT.classes=nn.Wrapper.classes;FT.displayName="@mantine/core/SwitchGroup";var x6={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const OX={labelPosition:"right",withThumbIndicator:!0},kX=(e,{radius:t,color:n,size:r})=>({root:{"--switch-radius":t===void 0?void 0:qt(t),"--switch-height":at(r,"switch-height"),"--switch-width":at(r,"switch-width"),"--switch-thumb-size":at(r,"switch-thumb-size"),"--switch-label-font-size":at(r,"switch-label-font-size"),"--switch-track-label-padding":at(r,"switch-track-label-padding"),"--switch-color":n?en(n,e):void 0}}),cy=xe((e,t)=>{const n=se("Switch",OX,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,color:h,label:p,offLabel:m,onLabel:g,id:y,size:S,radius:x,wrapperProps:C,thumbIcon:T,checked:j,defaultChecked:R,onChange:_,labelPosition:A,description:k,error:D,disabled:O,variant:M,rootRef:I,mod:L,withThumbIndicator:V,attributes:q,...U}=n,W=AX(),N=S||W?.size,z=Ne({name:"Switch",props:n,classes:x6,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:q,vars:d,varsResolver:kX}),{styleProps:$,rest:G}=is(U),X=xr(y),H={checked:W?.value.includes(G.value)??j,onChange:J=>{W?.onChange(J),_?.(J)},disabled:W?.disabled??O},[F,Q]=sr({value:H.checked??j,defaultValue:R,finalValue:!1});return s.jsxs(Mv,{...z("root"),__staticSelector:"Switch",__stylesApiProps:n,id:X,size:N,labelPosition:A,label:p,description:k,error:D,disabled:H.disabled,bodyElement:"label",labelElement:"span",classNames:r,styles:l,unstyled:u,"data-checked":H.checked,variant:M,ref:I,mod:L,...$,...C,children:[s.jsx("input",{...G,...H,checked:F,"data-checked":H.checked,onChange:J=>{H.onChange?.(J),Q(J.currentTarget.checked)},id:X,ref:t,type:"checkbox",role:"switch",...z("input")}),s.jsxs(ne,{"aria-hidden":"true",component:"span",mod:{error:D,"label-position":A,"without-labels":!g&&!m},...z("track"),children:[s.jsx(ne,{component:"span",mod:{"reduce-motion":!0,"with-thumb-indicator":V&&!T},...z("thumb"),children:T}),s.jsx("span",{...z("trackLabel"),children:F?g:m})]})]})});cy.classes={...x6,..._9};cy.displayName="@mantine/core/Switch";cy.Group=FT;const[MX,PX]=yr("Table component was not found in the tree");var qh={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function NX(e,t){if(!t)return;const n={};return t.columnBorder&&e.withColumnBorders&&(n["data-with-column-border"]=!0),t.rowBorder&&e.withRowBorders&&(n["data-with-row-border"]=!0),t.striped&&e.striped&&(n["data-striped"]=e.striped),t.highlightOnHover&&e.highlightOnHover&&(n["data-hover"]=!0),t.captionSide&&e.captionSide&&(n["data-side"]=e.captionSide),t.stickyHeader&&e.stickyHeader&&(n["data-sticky"]=!0),n}function Ac(e,t){const n=`Table${e.charAt(0).toUpperCase()}${e.slice(1)}`,r=xe((a,i)=>{const l=se(n,{},a),{classNames:u,className:d,style:h,styles:p,...m}=l,g=PX();return s.jsx(ne,{component:e,ref:i,...NX(g,t),...g.getStyles(e,{className:d,classNames:u,style:h,styles:p,props:l}),...m})});return r.displayName=`@mantine/core/${n}`,r.classes=qh,r}const yj=Ac("th",{columnBorder:!0}),S6=Ac("td",{columnBorder:!0}),ug=Ac("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),w6=Ac("thead",{stickyHeader:!0}),C6=Ac("tbody"),j6=Ac("tfoot"),E6=Ac("caption",{captionSide:!0});function VT({data:e}){return s.jsxs(s.Fragment,{children:[e.caption&&s.jsx(E6,{children:e.caption}),e.head&&s.jsx(w6,{children:s.jsx(ug,{children:e.head.map((t,n)=>s.jsx(yj,{children:t},n))})}),e.body&&s.jsx(C6,{children:e.body.map((t,n)=>s.jsx(ug,{children:t.map((r,a)=>s.jsx(S6,{children:r},a))},n))}),e.foot&&s.jsx(j6,{children:s.jsx(ug,{children:e.foot.map((t,n)=>s.jsx(yj,{children:t},n))})})]})}VT.displayName="@mantine/core/TableDataRenderer";const IX={type:"scrollarea"},LX=(e,{minWidth:t,maxHeight:n,type:r})=>({scrollContainer:{"--table-min-width":me(t),"--table-max-height":me(n),"--table-overflow":r==="native"?"auto":void 0}}),WT=xe((e,t)=>{const n=se("TableScrollContainer",IX,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,children:h,minWidth:p,maxHeight:m,type:g,scrollAreaProps:y,attributes:S,...x}=n,C=Ne({name:"TableScrollContainer",classes:qh,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:S,vars:d,varsResolver:LX,rootSelector:"scrollContainer"});return s.jsx(ne,{component:g==="scrollarea"?Sn:"div",...g==="scrollarea"?m?{offsetScrollbars:"xy",...y}:{offsetScrollbars:"x",...y}:{},ref:t,...C("scrollContainer"),...x,children:s.jsx("div",{...C("scrollContainerInner"),children:h})})});WT.classes=qh;WT.displayName="@mantine/core/TableScrollContainer";const zX={withRowBorders:!0,verticalSpacing:7},$X=(e,{layout:t,captionSide:n,horizontalSpacing:r,verticalSpacing:a,borderColor:i,stripedColor:l,highlightOnHoverColor:u,striped:d,highlightOnHover:h,stickyHeaderOffset:p,stickyHeader:m})=>({table:{"--table-layout":t,"--table-caption-side":n,"--table-horizontal-spacing":In(r),"--table-vertical-spacing":In(a),"--table-border-color":i?en(i,e):void 0,"--table-striped-color":d&&l?en(l,e):void 0,"--table-highlight-on-hover-color":h&&u?en(u,e):void 0,"--table-sticky-header-offset":m?me(p):void 0}}),Le=xe((e,t)=>{const n=se("Table",zX,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,horizontalSpacing:h,verticalSpacing:p,captionSide:m,stripedColor:g,highlightOnHoverColor:y,striped:S,highlightOnHover:x,withColumnBorders:C,withRowBorders:T,withTableBorder:j,borderColor:R,layout:_,variant:A,data:k,children:D,stickyHeader:O,stickyHeaderOffset:M,mod:I,tabularNums:L,attributes:V,...q}=n,U=Ne({name:"Table",props:n,className:a,style:i,classes:qh,classNames:r,styles:l,unstyled:u,attributes:V,rootSelector:"table",vars:d,varsResolver:$X});return s.jsx(MX,{value:{getStyles:U,stickyHeader:O,striped:S===!0?"odd":S||void 0,highlightOnHover:x,withColumnBorders:C,withRowBorders:T,captionSide:m||"bottom"},children:s.jsx(ne,{component:"table",variant:A,ref:t,mod:[{"data-with-table-border":j,"data-tabular-nums":L},I],...U("table"),...q,children:D||!!k&&s.jsx(VT,{data:k})})})});Le.classes=qh;Le.displayName="@mantine/core/Table";Le.Td=S6;Le.Th=yj;Le.Tr=ug;Le.Thead=w6;Le.Tbody=C6;Le.Tfoot=j6;Le.Caption=E6;Le.ScrollContainer=WT;Le.DataRenderer=VT;const[qX,GT]=yr("Tabs component was not found in the tree");var Uh={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",tab:"m_4ec4dce6",panel:"m_b0c91715",tabSection:"m_fc420b1f",tabLabel:"m_42bbd1ae","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const YT=xe((e,t)=>{const n=se("TabsList",null,e),{children:r,className:a,grow:i,justify:l,classNames:u,styles:d,style:h,mod:p,...m}=n,g=GT();return s.jsx(ne,{...m,...g.getStyles("list",{className:a,style:h,classNames:u,styles:d,props:n,variant:g.variant}),ref:t,role:"tablist",variant:g.variant,mod:[{grow:i,orientation:g.orientation,placement:g.orientation==="vertical"&&g.placement,inverted:g.inverted},p],"aria-orientation":g.orientation,__vars:{"--tabs-justify":l},children:r})});YT.classes=Uh;YT.displayName="@mantine/core/TabsList";const QT=xe((e,t)=>{const n=se("TabsPanel",null,e),{children:r,className:a,value:i,classNames:l,styles:u,style:d,mod:h,keepMounted:p,...m}=n,g=GT(),y=g.value===i,S=g.keepMounted||p||y?r:null;return s.jsx(ne,{...g.getStyles("panel",{className:a,classNames:l,styles:u,style:[d,y?void 0:{display:"none"}],props:n}),ref:t,mod:[{orientation:g.orientation},h],role:"tabpanel",id:g.getPanelId(i),"aria-labelledby":g.getTabId(i),...m,children:S})});QT.classes=Uh;QT.displayName="@mantine/core/TabsPanel";const KT=xe((e,t)=>{const n=se("TabsTab",null,e),{className:r,children:a,rightSection:i,leftSection:l,value:u,onClick:d,onKeyDown:h,disabled:p,color:m,style:g,classNames:y,styles:S,vars:x,mod:C,tabIndex:T,...j}=n,R=wn(),{dir:_}=os(),A=GT(),k=u===A.value,D=M=>{A.onChange(A.allowTabDeactivation&&u===A.value?null:u),d?.(M)},O={classNames:y,styles:S,props:n};return s.jsxs(Vn,{...A.getStyles("tab",{className:r,style:g,variant:A.variant,...O}),disabled:p,unstyled:A.unstyled,variant:A.variant,mod:[{active:k,disabled:p,orientation:A.orientation,inverted:A.inverted,placement:A.orientation==="vertical"&&A.placement},C],ref:t,role:"tab",id:A.getTabId(u),"aria-selected":k,tabIndex:T!==void 0?T:k||A.value===null?0:-1,"aria-controls":A.getPanelId(u),onClick:D,__vars:{"--tabs-color":m?en(m,R):void 0},onKeyDown:sE({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:A.activateTabWithKeyboard,loop:A.loop,orientation:A.orientation||"horizontal",dir:_,onKeyDown:h}),...j,children:[l&&s.jsx("span",{...A.getStyles("tabSection",O),"data-position":"left",children:l}),a&&s.jsx("span",{...A.getStyles("tabLabel",O),children:a}),i&&s.jsx("span",{...A.getStyles("tabSection",O),"data-position":"right",children:i})]})});KT.classes=Uh;KT.displayName="@mantine/core/TabsTab";const eM="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",UX={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,variant:"default",placement:"left"},BX=(e,{radius:t,color:n,autoContrast:r})=>({root:{"--tabs-radius":qt(t),"--tabs-color":en(n,e),"--tabs-text-color":as(r,e)?Yi({color:n,theme:e,autoContrast:r}):void 0}}),Li=xe((e,t)=>{const n=se("Tabs",UX,e),{defaultValue:r,value:a,onChange:i,orientation:l,children:u,loop:d,id:h,activateTabWithKeyboard:p,allowTabDeactivation:m,variant:g,color:y,radius:S,inverted:x,placement:C,keepMounted:T,classNames:j,styles:R,unstyled:_,className:A,style:k,vars:D,autoContrast:O,mod:M,attributes:I,...L}=n,V=xr(h),[q,U]=sr({value:a,defaultValue:r,finalValue:null,onChange:i}),W=Ne({name:"Tabs",props:n,classes:Uh,className:A,style:k,classNames:j,styles:R,unstyled:_,attributes:I,vars:D,varsResolver:BX});return s.jsx(qX,{value:{placement:C,value:q,orientation:l,id:V,loop:d,activateTabWithKeyboard:p,getTabId:ek(`${V}-tab`,eM),getPanelId:ek(`${V}-panel`,eM),onChange:U,allowTabDeactivation:m,variant:g,color:y,radius:S,inverted:x,keepMounted:T,unstyled:_,getStyles:W},children:s.jsx(ne,{ref:t,id:V,variant:g,mod:[{orientation:l,inverted:l==="horizontal"&&x,placement:l==="vertical"&&C},M],...W("root"),...L,children:u})})});Li.classes=Uh;Li.displayName="@mantine/core/Tabs";Li.Tab=KT;Li.Panel=QT;Li.List=YT;const et=xe((e,t)=>{const n=se("TextInput",null,e);return s.jsx(Ha,{component:"input",ref:t,...n,__staticSelector:"TextInput"})});et.classes=Ha.classes;et.displayName="@mantine/core/TextInput";var T6={root:"m_7341320d"};const HX=(e,{size:t,radius:n,variant:r,gradient:a,color:i,autoContrast:l})=>{const u=e.variantColorResolver({color:i||e.primaryColor,theme:e,gradient:a,variant:r||"filled",autoContrast:l});return{root:{"--ti-size":at(t,"ti-size"),"--ti-radius":n===void 0?void 0:qt(n),"--ti-bg":i||r?u.background:void 0,"--ti-color":i||r?u.color:void 0,"--ti-bd":i||r?u.border:void 0}}},Oc=xe((e,t)=>{const n=se("ThemeIcon",null,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,autoContrast:h,attributes:p,...m}=n,g=Ne({name:"ThemeIcon",classes:T6,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:p,vars:d,varsResolver:HX});return s.jsx(ne,{ref:t,...g("root"),...m})});Oc.classes=T6;Oc.displayName="@mantine/core/ThemeIcon";const[FX,VX]=yr("Timeline component was not found in tree");var XT={root:"m_43657ece",itemTitle:"m_2ebe8099",item:"m_436178ff",itemBullet:"m_8affcee1",itemBody:"m_540e8f41"};const ZT=xe((e,t)=>{const n=se("TimelineItem",null,e),{classNames:r,className:a,style:i,styles:l,vars:u,__active:d,__align:h,__lineActive:p,__vars:m,bullet:g,radius:y,color:S,lineVariant:x,children:C,title:T,mod:j,...R}=n,_=VX(),A=wn(),k={classNames:r,styles:l};return s.jsxs(ne,{..._.getStyles("item",{...k,className:a,style:i}),mod:[{"line-active":p,active:d},j],ref:t,__vars:{"--tli-radius":y?qt(y):void 0,"--tli-color":S?en(S,A):void 0,"--tli-border-style":x||void 0},...R,children:[s.jsx(ne,{..._.getStyles("itemBullet",k),mod:{"with-child":!!g,align:h,active:d},children:g}),s.jsxs("div",{..._.getStyles("itemBody",k),children:[T&&s.jsx("div",{..._.getStyles("itemTitle",k),children:T}),s.jsx("div",{..._.getStyles("itemContent",k),children:C})]})]})});ZT.classes=XT;ZT.displayName="@mantine/core/TimelineItem";const WX={active:-1,align:"left"},GX=(e,{bulletSize:t,lineWidth:n,radius:r,color:a,autoContrast:i})=>({root:{"--tl-bullet-size":me(t),"--tl-line-width":me(n),"--tl-radius":r===void 0?void 0:qt(r),"--tl-color":a?en(a,e):void 0,"--tl-icon-color":as(i,e)?Yi({color:a,theme:e,autoContrast:i}):void 0}}),ah=xe((e,t)=>{const n=se("Timeline",WX,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,children:h,active:p,color:m,radius:g,bulletSize:y,align:S,lineWidth:x,reverseActive:C,mod:T,autoContrast:j,attributes:R,..._}=n,A=Ne({name:"Timeline",classes:XT,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:R,vars:d,varsResolver:GX}),k=b.Children.toArray(h),D=k.map((O,M)=>b.cloneElement(O,{unstyled:u,__align:S,__active:O.props?.active||(C?p>=k.length-M-1:p>=M),__lineActive:O.props?.lineActive||(C?p>=k.length-M-1:p-1>=M)}));return s.jsx(FX,{value:{getStyles:A},children:s.jsx(ne,{...A("root"),mod:[{align:S},T],ref:t,..._,children:D})})});ah.classes=XT;ah.displayName="@mantine/core/Timeline";ah.Item=ZT;const YX=["h1","h2","h3","h4","h5","h6"],QX=["xs","sm","md","lg","xl"];function KX(e,t){const n=t!==void 0?t:`h${e}`;return YX.includes(n)?{fontSize:`var(--mantine-${n}-font-size)`,fontWeight:`var(--mantine-${n}-font-weight)`,lineHeight:`var(--mantine-${n}-line-height)`}:QX.includes(n)?{fontSize:`var(--mantine-font-size-${n})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:me(n),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var R6={root:"m_8a5d1357"};const XX={order:1},ZX=(e,{order:t,size:n,lineClamp:r,textWrap:a})=>{const i=KX(t||1,n);return{root:{"--title-fw":i.fontWeight,"--title-lh":i.lineHeight,"--title-fz":i.fontSize,"--title-line-clamp":typeof r=="number"?r.toString():void 0,"--title-text-wrap":a}}},Sr=xe((e,t)=>{const n=se("Title",XX,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,order:d,vars:h,size:p,variant:m,lineClamp:g,textWrap:y,mod:S,attributes:x,...C}=n,T=Ne({name:"Title",props:n,classes:R6,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:x,vars:h,varsResolver:ZX});return[1,2,3,4,5,6].includes(d)?s.jsx(ne,{...T("root"),component:`h${d}`,variant:m,ref:t,mod:[{order:d,"data-line-clamp":typeof g=="number"},S],size:p,...C}):null});Sr.classes=R6;Sr.displayName="@mantine/core/Title";function JX(e){let t=e,n=!1;const r=new Set;return{getState(){return t},updateState(a){t=typeof a=="function"?a(t):a},setState(a){this.updateState(a),r.forEach(i=>i(t))},initialize(a){n||(t=a,n=!0)},subscribe(a){return r.add(a),()=>r.delete(a)}}}function eZ(e){return b.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function tZ(e,t,n){const r=[],a=[],i={};for(const l of e){const u=l.position||t;i[u]=i[u]||0,i[u]+=1,i[u]<=n?a.push(l):r.push(l)}return{notifications:a,queue:r}}const nZ=()=>JX({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),kc=nZ(),rZ=(e=kc)=>eZ(e);function Cd(e,t){const n=e.getState(),r=t([...n.notifications,...n.queue]),a=tZ(r,n.defaultPosition,n.limit);e.setState({notifications:a.notifications,queue:a.queue,limit:n.limit,defaultPosition:n.defaultPosition})}function wt(e,t=kc){const n=e.id||Ng();return Cd(t,r=>e.id&&r.some(a=>a.id===e.id)?r:[...r,{...e,id:n}]),n}function _6(e,t=kc){return Cd(t,n=>n.filter(r=>r.id===e?(r.onClose?.(r),!1):!0)),e}function $f(e,t=kc){return Cd(t,n=>n.map(r=>r.id===e.id?{...r,...e}:r)),e.id}function aZ(e=kc){Cd(e,()=>[])}function iZ(e=kc){Cd(e,t=>t.slice(0,e.getState().limit))}const Fr={show:wt,hide:_6,update:$f,clean:aZ,cleanQueue:iZ,updateState:Cd};function Bg(e,t){return Bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Bg(e,t)}function JT(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Bg(e,t)}var Ux={exports:{}},Bx,tM;function oZ(){if(tM)return Bx;tM=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Bx=e,Bx}var Hx,nM;function sZ(){if(nM)return Hx;nM=1;var e=oZ();function t(){}function n(){}return n.resetWarningCache=t,Hx=function(){function r(l,u,d,h,p,m){if(m!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function a(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},Hx}var rM;function lZ(){return rM||(rM=1,Ux.exports=sZ()()),Ux.exports}var cZ=lZ();const De=Tn(cZ);function uZ(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function dZ(e,t){e.classList?e.classList.add(t):uZ(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function aM(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function fZ(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=aM(e.className,t):e.setAttribute("class",aM(e.className&&e.className.baseVal||"",t))}const iM={disabled:!1},Hg=te.createContext(null);var hZ=function(t){return t.scrollTop},qf="unmounted",Hl="exited",Fl="entering",qu="entered",bj="exiting",us=(function(e){JT(t,e);function t(r,a){var i;i=e.call(this,r,a)||this;var l=a,u=l&&!l.isMounting?r.enter:r.appear,d;return i.appearStatus=null,r.in?u?(d=Hl,i.appearStatus=Fl):d=qu:r.unmountOnExit||r.mountOnEnter?d=qf:d=Hl,i.state={status:d},i.nextCallback=null,i}t.getDerivedStateFromProps=function(a,i){var l=a.in;return l&&i.status===qf?{status:Hl}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(a){var i=null;if(a!==this.props){var l=this.state.status;this.props.in?l!==Fl&&l!==qu&&(i=Fl):(l===Fl||l===qu)&&(i=bj)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var a=this.props.timeout,i,l,u;return i=l=u=a,a!=null&&typeof a!="number"&&(i=a.exit,l=a.enter,u=a.appear!==void 0?a.appear:l),{exit:i,enter:l,appear:u}},n.updateStatus=function(a,i){if(a===void 0&&(a=!1),i!==null)if(this.cancelNextCallback(),i===Fl){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:Kl.findDOMNode(this);l&&hZ(l)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Hl&&this.setState({status:qf})},n.performEnter=function(a){var i=this,l=this.props.enter,u=this.context?this.context.isMounting:a,d=this.props.nodeRef?[u]:[Kl.findDOMNode(this),u],h=d[0],p=d[1],m=this.getTimeouts(),g=u?m.appear:m.enter;if(!a&&!l||iM.disabled){this.safeSetState({status:qu},function(){i.props.onEntered(h)});return}this.props.onEnter(h,p),this.safeSetState({status:Fl},function(){i.props.onEntering(h,p),i.onTransitionEnd(g,function(){i.safeSetState({status:qu},function(){i.props.onEntered(h,p)})})})},n.performExit=function(){var a=this,i=this.props.exit,l=this.getTimeouts(),u=this.props.nodeRef?void 0:Kl.findDOMNode(this);if(!i||iM.disabled){this.safeSetState({status:Hl},function(){a.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:bj},function(){a.props.onExiting(u),a.onTransitionEnd(l.exit,function(){a.safeSetState({status:Hl},function(){a.props.onExited(u)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(a,i){i=this.setNextCallback(i),this.setState(a,i)},n.setNextCallback=function(a){var i=this,l=!0;return this.nextCallback=function(u){l&&(l=!1,i.nextCallback=null,a(u))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},n.onTransitionEnd=function(a,i){this.setNextCallback(i);var l=this.props.nodeRef?this.props.nodeRef.current:Kl.findDOMNode(this),u=a==null&&!this.props.addEndListener;if(!l||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],h=d[0],p=d[1];this.props.addEndListener(h,p)}a!=null&&setTimeout(this.nextCallback,a)},n.render=function(){var a=this.state.status;if(a===qf)return null;var i=this.props,l=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var u=Dc(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return te.createElement(Hg.Provider,{value:null},typeof l=="function"?l(a,u):te.cloneElement(te.Children.only(l),u))},t})(te.Component);us.contextType=Hg;us.propTypes={};function Au(){}us.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Au,onEntering:Au,onEntered:Au,onExit:Au,onExiting:Au,onExited:Au};us.UNMOUNTED=qf;us.EXITED=Hl;us.ENTERING=Fl;us.ENTERED=qu;us.EXITING=bj;function D6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eR(e,t){var n=function(i){return t&&b.isValidElement(i)?t(i):i},r=Object.create(null);return e&&b.Children.map(e,function(a){return a}).forEach(function(a){r[a.key]=n(a)}),r}function pZ(e,t){e=e||{},t=t||{};function n(p){return p in t?t[p]:e[p]}var r=Object.create(null),a=[];for(var i in e)i in t?a.length&&(r[i]=a,a=[]):a.push(i);var l,u={};for(var d in t){if(r[d])for(l=0;l<r[d].length;l++){var h=r[d][l];u[r[d][l]]=n(h)}u[d]=n(d)}for(l=0;l<a.length;l++)u[a[l]]=n(a[l]);return u}function Zl(e,t,n){return n[t]!=null?n[t]:e.props[t]}function mZ(e,t){return eR(e.children,function(n){return b.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Zl(n,"appear",e),enter:Zl(n,"enter",e),exit:Zl(n,"exit",e)})})}function gZ(e,t,n){var r=eR(e.children),a=pZ(t,r);return Object.keys(a).forEach(function(i){var l=a[i];if(b.isValidElement(l)){var u=i in t,d=i in r,h=t[i],p=b.isValidElement(h)&&!h.props.in;d&&(!u||p)?a[i]=b.cloneElement(l,{onExited:n.bind(null,l),in:!0,exit:Zl(l,"exit",e),enter:Zl(l,"enter",e)}):!d&&u&&!p?a[i]=b.cloneElement(l,{in:!1}):d&&u&&b.isValidElement(h)&&(a[i]=b.cloneElement(l,{onExited:n.bind(null,l),in:h.props.in,exit:Zl(l,"exit",e),enter:Zl(l,"enter",e)}))}}),a}var vZ=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},yZ={component:"div",childFactory:function(t){return t}},Hs=(function(e){JT(t,e);function t(r,a){var i;i=e.call(this,r,a)||this;var l=i.handleExited.bind(D6(i));return i.state={contextValue:{isMounting:!0},handleExited:l,firstRender:!0},i}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(a,i){var l=i.children,u=i.handleExited,d=i.firstRender;return{children:d?mZ(a,u):gZ(a,l,u),firstRender:!1}},n.handleExited=function(a,i){var l=eR(this.props.children);a.key in l||(a.props.onExited&&a.props.onExited(i),this.mounted&&this.setState(function(u){var d=En({},u.children);return delete d[a.key],{children:d}}))},n.render=function(){var a=this.props,i=a.component,l=a.childFactory,u=Dc(a,["component","childFactory"]),d=this.state.contextValue,h=vZ(this.state.children).map(l);return delete u.appear,delete u.enter,delete u.exit,i===null?te.createElement(Hg.Provider,{value:d},h):te.createElement(Hg.Provider,{value:d},te.createElement(i,u,h))},t})(te.Component);Hs.propTypes={};Hs.defaultProps=yZ;const A6=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function bZ(e,t){return e.reduce((n,r)=>(n[r.position||t].push(r),n),A6.reduce((n,r)=>(n[r]=[],n),{}))}const oM={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},xZ={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function SZ({state:e,maxHeight:t,position:n,transitionDuration:r}){const[a,i]=n.split("-"),l=i==="center"?`${a}-center`:i,u={opacity:0,maxHeight:t,transform:oM[l],transitionDuration:`${r}ms, ${r}ms, ${r}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},d={opacity:1,transform:xZ[l]},h={opacity:0,maxHeight:0,transform:oM[l]};return{...u,...{entering:d,entered:d,exiting:h,exited:h}[e]}}function wZ(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const O6=b.forwardRef(({data:e,onHide:t,autoClose:n,...r},a)=>{const{autoClose:i,message:l,...u}=e,d=wZ(n,e.autoClose),h=b.useRef(-1),p=()=>window.clearTimeout(h.current),m=()=>{t(e.id),p()},g=()=>{typeof d=="number"&&(h.current=window.setTimeout(m,d))};return b.useEffect(()=>{e.onOpen?.(e)},[]),b.useEffect(()=>(g(),p),[d]),s.jsx(MT,{...r,...u,onClose:m,ref:a,onMouseEnter:p,onMouseLeave:g,children:l})});O6.displayName="@mantine/notifications/NotificationContainer";var k6={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const CZ=us,jZ={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:br("overlay"),store:kc,withinPortal:!0},EZ=(e,{zIndex:t,containerWidth:n})=>({root:{"--notifications-z-index":t?.toString(),"--notifications-container-width":me(n)}}),ds=xe((e,t)=>{const n=se("Notifications",jZ,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,position:h,autoClose:p,transitionDuration:m,containerWidth:g,notificationMaxHeight:y,limit:S,zIndex:x,store:C,portalProps:T,withinPortal:j,...R}=n,_=wn(),A=rZ(C),k=TH(),D=mv(),O=b.useRef({}),M=b.useRef(0),L=(_.respectReducedMotion?D:!1)?1:m,V=Ne({name:"Notifications",classes:k6,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,vars:d,varsResolver:EZ});b.useEffect(()=>{C?.updateState(W=>({...W,limit:S||5,defaultPosition:h}))},[S,h]),Zs(()=>{A.notifications.length>M.current&&setTimeout(()=>k(),0),M.current=A.notifications.length},[A.notifications]);const q=bZ(A.notifications,h),U=A6.reduce((W,N)=>(W[N]=q[N].map(({style:z,...$})=>s.jsx(CZ,{timeout:L,onEnter:()=>O.current[$.id].offsetHeight,nodeRef:{current:O.current[$.id]},children:G=>s.jsx(O6,{ref:X=>{X&&(O.current[$.id]=X)},data:$,onHide:X=>_6(X,C),autoClose:p,...V("notification",{style:{...SZ({state:G,position:N,transitionDuration:L,maxHeight:y}),...z}})})},$.id)),W),{});return s.jsxs(Js,{withinPortal:j,...T,children:[s.jsx(ne,{...V("root"),"data-position":"top-center",ref:t,...R,children:s.jsx(Hs,{children:U["top-center"]})}),s.jsx(ne,{...V("root"),"data-position":"top-left",...R,children:s.jsx(Hs,{children:U["top-left"]})}),s.jsx(ne,{...V("root",{className:oc.classNames.fullWidth}),"data-position":"top-right",...R,children:s.jsx(Hs,{children:U["top-right"]})}),s.jsx(ne,{...V("root",{className:oc.classNames.fullWidth}),"data-position":"bottom-right",...R,children:s.jsx(Hs,{children:U["bottom-right"]})}),s.jsx(ne,{...V("root"),"data-position":"bottom-left",...R,children:s.jsx(Hs,{children:U["bottom-left"]})}),s.jsx(ne,{...V("root"),"data-position":"bottom-center",...R,children:s.jsx(Hs,{children:U["bottom-center"]})})]})});ds.classes=k6;ds.displayName="@mantine/notifications/Notifications";ds.show=Fr.show;ds.hide=Fr.hide;ds.update=Fr.update;ds.clean=Fr.clean;ds.cleanQueue=Fr.cleanQueue;ds.updateState=Fr.updateState;var TZ=Object.defineProperty,RZ=(e,t,n)=>t in e?TZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ve=(e,t,n)=>RZ(e,typeof t!="symbol"?t+"":t,n),_Z=class{constructor(e,t){ve(this,"operator"),ve(this,"child"),this.operator=e,this.child=t}toString(){return`${this.operator}(${this.child.toString()})`}},Bh=class{constructor(e,t,n){ve(this,"operator"),ve(this,"left"),ve(this,"right"),this.operator=e,this.left=t,this.right=n}toString(){return`(${this.left.toString()} ${this.operator} ${this.right.toString()})`}},DZ=class{constructor(){ve(this,"prefixParselets",{}),ve(this,"infixParselets",{})}registerInfix(e,t){return this.infixParselets[e]=t,this}registerPrefix(e,t){return this.prefixParselets[e]=t,this}prefix(e,t,n){return this.registerPrefix(e,{parse(r,a){let i=r.consumeAndParse(t);return n(a,i)}})}infixLeft(e,t,n){return this.registerInfix(e,{parse(r,a,i){let l=r.consumeAndParse(t);return n(a,i,l)},precedence:t})}construct(e){return new AZ(e,this.prefixParselets,this.infixParselets)}},AZ=class{constructor(e,t,n){ve(this,"tokens"),ve(this,"prefixParselets"),ve(this,"infixParselets"),this.tokens=e,this.prefixParselets=t,this.infixParselets=n}hasMore(){return this.tokens.length>0}match(e){return this.peek()?.id!==e?!1:(this.consume(),!0)}consumeAndParse(e=1/0){let t=this.consume(),n=this.prefixParselets[t.id];if(!n)throw new Error(`Parse error at "${t.value}" (line ${t.line}, column ${t.column}). No matching prefix parselet.`);let r=n.parse(this,t);for(;e>this.getPrecedence();){let a=this.consume();r=this.getInfixParselet(a).parse(this,r,a)}return r}getPrecedence(){let e=this.peek();if(!e)return 1/0;let t=this.getInfixParselet(e);return t?t.precedence:1/0}consume(e,t){if(!this.tokens.length)throw new Error("Cant consume unknown more tokens.");if(e&&this.peek()?.id!==e){let n=this.peek();throw new Error(`Expected ${e} but got "${n.id}" (${n.value}) at line ${n.line} column ${n.column}.`)}if(t&&this.peek()?.value!==t){let n=this.peek();throw new Error(`Expected "${t}" but got "${n.value}" at line ${n.line} column ${n.column}.`)}return this.tokens.shift()}peek(){return this.tokens.length>0?this.tokens[0]:void 0}removeComments(){this.tokens=this.tokens.filter(e=>e.id!=="Comment")}getInfixParselet(e){return this.infixParselets[e.id==="Symbol"?e.value:e.id]}},tR=class{constructor(t=10){ve(this,"max"),ve(this,"cache"),this.max=t,this.cache=new Map}clear(){this.cache.clear()}get(t){let n=this.cache.get(t);return n&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){this.cache.has(t)?this.cache.delete(t):this.cache.size>=this.max&&this.cache.delete(this.first()),this.cache.set(t,n)}delete(t){this.cache.delete(t)}keys(){return this.cache.keys()}first(){return this.cache.keys().next().value}},OZ="http://unitsofmeasure.org",Wo="http://loinc.org",Ys="http://snomed.info/sct",kZ="http://www.nlm.nih.gov/research/umls/rxnorm",sM="http://www.ama-assn.org/go/cpt",MZ="http://hl7.org/fhir/sid/ndc",yt="http://hl7.org",Jr="http://terminology.hl7.org",PZ="created",NZ="not-modified",IZ="not-found",LZ="unauthorized",zZ="accepted",$Z={resourceType:"OperationOutcome",id:IZ,issue:[{severity:"error",code:"not-found",details:{text:"Not found"}}]},ih={resourceType:"OperationOutcome",id:LZ,issue:[{severity:"error",code:"login",details:{text:"Unauthorized"}}]},qZ={...ih,issue:[...ih.issue,{severity:"error",code:"expired",details:{text:"Token expired"}}]},lM={...ih,issue:[...ih.issue,{severity:"error",code:"invalid",details:{text:"Token not issued for this audience"}}]};function Ko(e,t){return{resourceType:"OperationOutcome",issue:[{severity:"error",code:"invalid",details:{text:e}}]}}function xn(e){return{resourceType:"OperationOutcome",issue:[{severity:"error",code:"structure",details:{text:e}}]}}function UZ(e){return{resourceType:"OperationOutcome",issue:[{severity:"error",code:"exception",details:{text:"Internal server error"},diagnostics:e.toString()}]}}function BZ(e){return!e||typeof e!="object"?!1:e instanceof Error||typeof DOMException<"u"&&e instanceof DOMException?!0:Object.prototype.toString.call(e)==="[object Error]"}function nR(e){return typeof e=="object"&&e!==null&&e.resourceType==="OperationOutcome"}function rR(e){return e.id==="ok"||e.id===PZ||e.id===NZ||e.id===zZ}var gt=class extends Error{constructor(t,n){super(M6(t),n),ve(this,"outcome"),this.name="OperationOutcomeError",this.outcome=t}};function Or(e){return e instanceof gt?e.outcome:nR(e)?e:Ko(Vt(e))}function Vt(e){return e?typeof e=="string"?e:BZ(e)?e.message:nR(e)?M6(e):typeof e=="object"&&"code"in e&&typeof e.code=="string"?e.code:JSON.stringify(e):"Unknown error"}function M6(e){let t=e.issue?.map(P6)??[];return t.length>0?t.join("; "):"Unknown error"}function P6(e){let t;return e.details?.text?e.diagnostics?t=`${e.details.text} (${e.diagnostics})`:t=e.details.text:e.diagnostics?t=e.diagnostics:t="Unknown error",e.expression?.length&&(t+=` (${e.expression.join(", ")})`),t}function HZ(e,t){let n=t.max&&t.max===Number.MAX_SAFE_INTEGER?Number.POSITIVE_INFINITY:t.max;return{path:e,description:"",type:t.type??[],min:t.min??0,max:n??1,isArray:!!n&&n>1,constraints:[]}}function FZ(e){let t=Object.create(null);for(let[n,r]of Object.entries(e))t[n]={name:n,type:n,path:n,elements:Object.fromEntries(Object.entries(r.elements).map(([a,i])=>[a,HZ(a,i)])),constraints:[],innerTypes:[]};return t}var VZ={Element:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]}}},BackboneElement:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},modifierExtension:{max:9007199254740991,type:[{code:"Extension"}]}}},Address:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},use:{type:[{code:"code"}]},type:{type:[{code:"code"}]},text:{type:[{code:"string"}]},line:{max:9007199254740991,type:[{code:"string"}]},city:{type:[{code:"string"}]},district:{type:[{code:"string"}]},state:{type:[{code:"string"}]},postalCode:{type:[{code:"string"}]},country:{type:[{code:"string"}]},period:{type:[{code:"Period"}]}}},Age:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},value:{type:[{code:"decimal"}]},comparator:{type:[{code:"code"}]},unit:{type:[{code:"string"}]},system:{type:[{code:"uri"}]},code:{type:[{code:"code"}]}}},Annotation:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},"author[x]":{type:[{code:"Reference",targetProfile:["http://hl7.org/fhir/StructureDefinition/Practitioner","http://hl7.org/fhir/StructureDefinition/Patient","http://hl7.org/fhir/StructureDefinition/RelatedPerson","http://hl7.org/fhir/StructureDefinition/Organization"]},{code:"string"}]},time:{type:[{code:"dateTime"}]},text:{min:1,type:[{code:"markdown"}]}}},Attachment:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},contentType:{type:[{code:"code"}]},language:{type:[{code:"code"}]},data:{type:[{code:"base64Binary"}]},url:{type:[{code:"url"}]},size:{type:[{code:"unsignedInt"}]},hash:{type:[{code:"base64Binary"}]},title:{type:[{code:"string"}]},creation:{type:[{code:"dateTime"}]}}},CodeableConcept:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},coding:{max:9007199254740991,type:[{code:"Coding"}]},text:{type:[{code:"string"}]}}},Coding:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},system:{type:[{code:"uri"}]},version:{type:[{code:"string"}]},code:{type:[{code:"code"}]},display:{type:[{code:"string"}]},userSelected:{type:[{code:"boolean"}]}}},ContactDetail:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},name:{type:[{code:"string"}]},telecom:{max:9007199254740991,type:[{code:"ContactPoint"}]}}},ContactPoint:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},system:{type:[{code:"code"}]},value:{type:[{code:"string"}]},use:{type:[{code:"code"}]},rank:{type:[{code:"positiveInt"}]},period:{type:[{code:"Period"}]}}},Contributor:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},type:{min:1,type:[{code:"code"}]},name:{min:1,type:[{code:"string"}]},contact:{max:9007199254740991,type:[{code:"ContactDetail"}]}}},Count:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},value:{type:[{code:"decimal"}]},comparator:{type:[{code:"code"}]},unit:{type:[{code:"string"}]},system:{type:[{code:"uri"}]},code:{type:[{code:"code"}]}}},DataRequirement:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},type:{min:1,type:[{code:"code"}]},profile:{max:9007199254740991,type:[{code:"canonical",targetProfile:["http://hl7.org/fhir/StructureDefinition/StructureDefinition"]}]},"subject[x]":{type:[{code:"CodeableConcept"},{code:"Reference",targetProfile:["http://hl7.org/fhir/StructureDefinition/Group"]}]},mustSupport:{max:9007199254740991,type:[{code:"string"}]},codeFilter:{max:9007199254740991,type:[{code:"DataRequirementCodeFilter"}]},dateFilter:{max:9007199254740991,type:[{code:"DataRequirementDateFilter"}]},limit:{type:[{code:"positiveInt"}]},sort:{max:9007199254740991,type:[{code:"DataRequirementSort"}]}}},DataRequirementCodeFilter:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},path:{type:[{code:"string"}]},searchParam:{type:[{code:"string"}]},valueSet:{type:[{code:"canonical",targetProfile:["http://hl7.org/fhir/StructureDefinition/ValueSet"]}]},code:{max:9007199254740991,type:[{code:"Coding"}]}}},DataRequirementDateFilter:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},path:{type:[{code:"string"}]},searchParam:{type:[{code:"string"}]},"value[x]":{type:[{code:"dateTime"},{code:"Period"},{code:"Duration"}]}}},DataRequirementSort:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},path:{min:1,type:[{code:"string"}]},direction:{min:1,type:[{code:"code"}]}}},Distance:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},value:{type:[{code:"decimal"}]},comparator:{type:[{code:"code"}]},unit:{type:[{code:"string"}]},system:{type:[{code:"uri"}]},code:{type:[{code:"code"}]}}},Dosage:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},modifierExtension:{max:9007199254740991,type:[{code:"Extension"}]},sequence:{type:[{code:"integer"}]},text:{type:[{code:"string"}]},additionalInstruction:{max:9007199254740991,type:[{code:"CodeableConcept"}]},patientInstruction:{type:[{code:"string"}]},timing:{type:[{code:"Timing"}]},"asNeeded[x]":{type:[{code:"boolean"},{code:"CodeableConcept"}]},site:{type:[{code:"CodeableConcept"}]},route:{type:[{code:"CodeableConcept"}]},method:{type:[{code:"CodeableConcept"}]},doseAndRate:{max:9007199254740991,type:[{code:"DosageDoseAndRate"}]},maxDosePerPeriod:{type:[{code:"Ratio"}]},maxDosePerAdministration:{type:[{code:"Quantity",profile:["http://hl7.org/fhir/StructureDefinition/SimpleQuantity"]}]},maxDosePerLifetime:{type:[{code:"Quantity",profile:["http://hl7.org/fhir/StructureDefinition/SimpleQuantity"]}]}}},DosageDoseAndRate:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},type:{type:[{code:"CodeableConcept"}]},"dose[x]":{type:[{code:"Range"},{code:"Quantity",profile:["http://hl7.org/fhir/StructureDefinition/SimpleQuantity"]}]},"rate[x]":{type:[{code:"Ratio"},{code:"Range"},{code:"Quantity",profile:["http://hl7.org/fhir/StructureDefinition/SimpleQuantity"]}]}}},Duration:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},value:{type:[{code:"decimal"}]},comparator:{type:[{code:"code"}]},unit:{type:[{code:"string"}]},system:{type:[{code:"uri"}]},code:{type:[{code:"code"}]}}},ElementDefinition:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},modifierExtension:{max:9007199254740991,type:[{code:"Extension"}]},path:{min:1,type:[{code:"string"}]},representation:{max:9007199254740991,type:[{code:"code"}]},sliceName:{type:[{code:"string"}]},sliceIsConstraining:{type:[{code:"boolean"}]},label:{type:[{code:"string"}]},code:{max:9007199254740991,type:[{code:"Coding"}]},slicing:{type:[{code:"ElementDefinitionSlicing"}]},short:{type:[{code:"string"}]},definition:{type:[{code:"markdown"}]},comment:{type:[{code:"markdown"}]},requirements:{type:[{code:"markdown"}]},alias:{max:9007199254740991,type:[{code:"string"}]},min:{type:[{code:"unsignedInt"}]},max:{type:[{code:"string"}]},base:{type:[{code:"ElementDefinitionBase"}]},contentReference:{type:[{code:"uri"}]},type:{max:9007199254740991,type:[{code:"ElementDefinitionType"}]},"defaultValue[x]":{type:[{code:"base64Binary"},{code:"boolean"},{code:"canonical"},{code:"code"},{code:"date"},{code:"dateTime"},{code:"decimal"},{code:"id"},{code:"instant"},{code:"integer"},{code:"markdown"},{code:"oid"},{code:"positiveInt"},{code:"string"},{code:"time"},{code:"unsignedInt"},{code:"uri"},{code:"url"},{code:"uuid"},{code:"Address"},{code:"Age"},{code:"Annotation"},{code:"Attachment"},{code:"CodeableConcept"},{code:"Coding"},{code:"ContactPoint"},{code:"Count"},{code:"Distance"},{code:"Duration"},{code:"HumanName"},{code:"Identifier"},{code:"Money"},{code:"Period"},{code:"Quantity"},{code:"Range"},{code:"Ratio"},{code:"Reference"},{code:"SampledData"},{code:"Signature"},{code:"Timing"},{code:"ContactDetail"},{code:"Contributor"},{code:"DataRequirement"},{code:"Expression"},{code:"ParameterDefinition"},{code:"RelatedArtifact"},{code:"TriggerDefinition"},{code:"UsageContext"},{code:"Dosage"},{code:"Meta"}]},meaningWhenMissing:{type:[{code:"markdown"}]},orderMeaning:{type:[{code:"string"}]},"fixed[x]":{type:[{code:"base64Binary"},{code:"boolean"},{code:"canonical"},{code:"code"},{code:"date"},{code:"dateTime"},{code:"decimal"},{code:"id"},{code:"instant"},{code:"integer"},{code:"markdown"},{code:"oid"},{code:"positiveInt"},{code:"string"},{code:"time"},{code:"unsignedInt"},{code:"uri"},{code:"url"},{code:"uuid"},{code:"Address"},{code:"Age"},{code:"Annotation"},{code:"Attachment"},{code:"CodeableConcept"},{code:"Coding"},{code:"ContactPoint"},{code:"Count"},{code:"Distance"},{code:"Duration"},{code:"HumanName"},{code:"Identifier"},{code:"Money"},{code:"Period"},{code:"Quantity"},{code:"Range"},{code:"Ratio"},{code:"Reference"},{code:"SampledData"},{code:"Signature"},{code:"Timing"},{code:"ContactDetail"},{code:"Contributor"},{code:"DataRequirement"},{code:"Expression"},{code:"ParameterDefinition"},{code:"RelatedArtifact"},{code:"TriggerDefinition"},{code:"UsageContext"},{code:"Dosage"},{code:"Meta"}]},"pattern[x]":{type:[{code:"base64Binary"},{code:"boolean"},{code:"canonical"},{code:"code"},{code:"date"},{code:"dateTime"},{code:"decimal"},{code:"id"},{code:"instant"},{code:"integer"},{code:"markdown"},{code:"oid"},{code:"positiveInt"},{code:"string"},{code:"time"},{code:"unsignedInt"},{code:"uri"},{code:"url"},{code:"uuid"},{code:"Address"},{code:"Age"},{code:"Annotation"},{code:"Attachment"},{code:"CodeableConcept"},{code:"Coding"},{code:"ContactPoint"},{code:"Count"},{code:"Distance"},{code:"Duration"},{code:"HumanName"},{code:"Identifier"},{code:"Money"},{code:"Period"},{code:"Quantity"},{code:"Range"},{code:"Ratio"},{code:"Reference"},{code:"SampledData"},{code:"Signature"},{code:"Timing"},{code:"ContactDetail"},{code:"Contributor"},{code:"DataRequirement"},{code:"Expression"},{code:"ParameterDefinition"},{code:"RelatedArtifact"},{code:"TriggerDefinition"},{code:"UsageContext"},{code:"Dosage"},{code:"Meta"}]},example:{max:9007199254740991,type:[{code:"ElementDefinitionExample"}]},"minValue[x]":{type:[{code:"date"},{code:"dateTime"},{code:"instant"},{code:"time"},{code:"decimal"},{code:"integer"},{code:"positiveInt"},{code:"unsignedInt"},{code:"Quantity"}]},"maxValue[x]":{type:[{code:"date"},{code:"dateTime"},{code:"instant"},{code:"time"},{code:"decimal"},{code:"integer"},{code:"positiveInt"},{code:"unsignedInt"},{code:"Quantity"}]},maxLength:{type:[{code:"integer"}]},condition:{max:9007199254740991,type:[{code:"id"}]},constraint:{max:9007199254740991,type:[{code:"ElementDefinitionConstraint"}]},mustSupport:{type:[{code:"boolean"}]},isModifier:{type:[{code:"boolean"}]},isModifierReason:{type:[{code:"string"}]},isSummary:{type:[{code:"boolean"}]},binding:{type:[{code:"ElementDefinitionBinding"}]},mapping:{max:9007199254740991,type:[{code:"ElementDefinitionMapping"}]}}},ElementDefinitionSlicingDiscriminator:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},type:{min:1,type:[{code:"code"}]},path:{min:1,type:[{code:"string"}]}}},ElementDefinitionSlicing:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},discriminator:{max:9007199254740991,type:[{code:"ElementDefinitionSlicingDiscriminator"}]},description:{type:[{code:"string"}]},ordered:{type:[{code:"boolean"}]},rules:{min:1,type:[{code:"code"}]}}},ElementDefinitionBase:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},path:{min:1,type:[{code:"string"}]},min:{min:1,type:[{code:"unsignedInt"}]},max:{min:1,type:[{code:"string"}]}}},ElementDefinitionType:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},code:{min:1,type:[{code:"uri"}]},profile:{max:9007199254740991,type:[{code:"canonical",targetProfile:["http://hl7.org/fhir/StructureDefinition/StructureDefinition","http://hl7.org/fhir/StructureDefinition/ImplementationGuide"]}]},targetProfile:{max:9007199254740991,type:[{code:"canonical",targetProfile:["http://hl7.org/fhir/StructureDefinition/StructureDefinition","http://hl7.org/fhir/StructureDefinition/ImplementationGuide"]}]},aggregation:{max:9007199254740991,type:[{code:"code"}]},versioning:{type:[{code:"code"}]}}},ElementDefinitionExample:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},label:{min:1,type:[{code:"string"}]},"value[x]":{min:1,type:[{code:"base64Binary"},{code:"boolean"},{code:"canonical"},{code:"code"},{code:"date"},{code:"dateTime"},{code:"decimal"},{code:"id"},{code:"instant"},{code:"integer"},{code:"markdown"},{code:"oid"},{code:"positiveInt"},{code:"string"},{code:"time"},{code:"unsignedInt"},{code:"uri"},{code:"url"},{code:"uuid"},{code:"Address"},{code:"Age"},{code:"Annotation"},{code:"Attachment"},{code:"CodeableConcept"},{code:"Coding"},{code:"ContactPoint"},{code:"Count"},{code:"Distance"},{code:"Duration"},{code:"HumanName"},{code:"Identifier"},{code:"Money"},{code:"Period"},{code:"Quantity"},{code:"Range"},{code:"Ratio"},{code:"Reference"},{code:"SampledData"},{code:"Signature"},{code:"Timing"},{code:"ContactDetail"},{code:"Contributor"},{code:"DataRequirement"},{code:"Expression"},{code:"ParameterDefinition"},{code:"RelatedArtifact"},{code:"TriggerDefinition"},{code:"UsageContext"},{code:"Dosage"},{code:"Meta"}]}}},ElementDefinitionConstraint:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},key:{min:1,type:[{code:"id"}]},requirements:{type:[{code:"string"}]},severity:{min:1,type:[{code:"code"}]},human:{min:1,type:[{code:"string"}]},expression:{type:[{code:"string"}]},xpath:{type:[{code:"string"}]},source:{type:[{code:"canonical",targetProfile:["http://hl7.org/fhir/StructureDefinition/StructureDefinition"]}]}}},ElementDefinitionBinding:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},strength:{min:1,type:[{code:"code"}]},description:{type:[{code:"string"}]},valueSet:{type:[{code:"canonical",targetProfile:["http://hl7.org/fhir/StructureDefinition/ValueSet"]}]}}},ElementDefinitionMapping:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},identity:{min:1,type:[{code:"id"}]},language:{type:[{code:"code"}]},map:{min:1,type:[{code:"string"}]},comment:{type:[{code:"string"}]}}},Expression:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},description:{type:[{code:"string"}]},name:{type:[{code:"id"}]},language:{min:1,type:[{code:"code"}]},expression:{type:[{code:"string"}]},reference:{type:[{code:"uri"}]}}},Extension:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},url:{min:1,type:[{code:"uri"}]},"value[x]":{type:[{code:"base64Binary"},{code:"boolean"},{code:"canonical"},{code:"code"},{code:"date"},{code:"dateTime"},{code:"decimal"},{code:"id"},{code:"instant"},{code:"integer"},{code:"markdown"},{code:"oid"},{code:"positiveInt"},{code:"string"},{code:"time"},{code:"unsignedInt"},{code:"uri"},{code:"url"},{code:"uuid"},{code:"Address"},{code:"Age"},{code:"Annotation"},{code:"Attachment"},{code:"CodeableConcept"},{code:"Coding"},{code:"ContactPoint"},{code:"Count"},{code:"Distance"},{code:"Duration"},{code:"HumanName"},{code:"Identifier"},{code:"Money"},{code:"Period"},{code:"Quantity"},{code:"Range"},{code:"Ratio"},{code:"Reference"},{code:"SampledData"},{code:"Signature"},{code:"Timing"},{code:"ContactDetail"},{code:"Contributor"},{code:"DataRequirement"},{code:"Expression"},{code:"ParameterDefinition"},{code:"RelatedArtifact"},{code:"TriggerDefinition"},{code:"UsageContext"},{code:"Dosage"},{code:"Meta"}]}}},HumanName:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},use:{type:[{code:"code"}]},text:{type:[{code:"string"}]},family:{type:[{code:"string"}]},given:{max:9007199254740991,type:[{code:"string"}]},prefix:{max:9007199254740991,type:[{code:"string"}]},suffix:{max:9007199254740991,type:[{code:"string"}]},period:{type:[{code:"Period"}]}}},Identifier:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},use:{type:[{code:"code"}]},type:{type:[{code:"CodeableConcept"}]},system:{type:[{code:"uri"}]},value:{type:[{code:"string"}]},period:{type:[{code:"Period"}]},assigner:{type:[{code:"Reference",targetProfile:["http://hl7.org/fhir/StructureDefinition/Organization"]}]}}},MarketingStatus:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},modifierExtension:{max:9007199254740991,type:[{code:"Extension"}]},country:{min:1,type:[{code:"CodeableConcept"}]},jurisdiction:{type:[{code:"CodeableConcept"}]},status:{min:1,type:[{code:"CodeableConcept"}]},dateRange:{min:1,type:[{code:"Period"}]},restoreDate:{type:[{code:"dateTime"}]}}},Meta:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},versionId:{type:[{code:"id"}]},lastUpdated:{type:[{code:"instant"}]},source:{type:[{code:"uri"}]},profile:{max:9007199254740991,type:[{code:"canonical",targetProfile:["http://hl7.org/fhir/StructureDefinition/StructureDefinition"]}]},security:{max:9007199254740991,type:[{code:"Coding"}]},tag:{max:9007199254740991,type:[{code:"Coding"}]},project:{type:[{code:"uri"}]},author:{type:[{code:"Reference"}]},onBehalfOf:{type:[{code:"Reference"}]},account:{type:[{code:"Reference"}]},accounts:{max:9007199254740991,type:[{code:"Reference"}]},compartment:{max:9007199254740991,type:[{code:"Reference"}]}}},Money:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},value:{type:[{code:"decimal"}]},currency:{type:[{code:"code"}]}}},Narrative:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},status:{min:1,type:[{code:"code"}]},div:{min:1,type:[{code:"xhtml"}]}}},ParameterDefinition:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},name:{type:[{code:"code"}]},use:{min:1,type:[{code:"code"}]},min:{type:[{code:"integer"}]},max:{type:[{code:"string"}]},documentation:{type:[{code:"string"}]},type:{min:1,type:[{code:"code"}]},profile:{type:[{code:"canonical",targetProfile:["http://hl7.org/fhir/StructureDefinition/StructureDefinition"]}]}}},Period:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},start:{type:[{code:"dateTime"}]},end:{type:[{code:"dateTime"}]}}},Population:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},modifierExtension:{max:9007199254740991,type:[{code:"Extension"}]},"age[x]":{type:[{code:"Range"},{code:"CodeableConcept"}]},gender:{type:[{code:"CodeableConcept"}]},race:{type:[{code:"CodeableConcept"}]},physiologicalCondition:{type:[{code:"CodeableConcept"}]}}},ProdCharacteristic:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},modifierExtension:{max:9007199254740991,type:[{code:"Extension"}]},height:{type:[{code:"Quantity"}]},width:{type:[{code:"Quantity"}]},depth:{type:[{code:"Quantity"}]},weight:{type:[{code:"Quantity"}]},nominalVolume:{type:[{code:"Quantity"}]},externalDiameter:{type:[{code:"Quantity"}]},shape:{type:[{code:"string"}]},color:{max:9007199254740991,type:[{code:"string"}]},imprint:{max:9007199254740991,type:[{code:"string"}]},image:{max:9007199254740991,type:[{code:"Attachment"}]},scoring:{type:[{code:"CodeableConcept"}]}}},ProductShelfLife:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},modifierExtension:{max:9007199254740991,type:[{code:"Extension"}]},identifier:{type:[{code:"Identifier"}]},type:{min:1,type:[{code:"CodeableConcept"}]},period:{min:1,type:[{code:"Quantity"}]},specialPrecautionsForStorage:{max:9007199254740991,type:[{code:"CodeableConcept"}]}}},Quantity:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},value:{type:[{code:"decimal"}]},comparator:{type:[{code:"code"}]},unit:{type:[{code:"string"}]},system:{type:[{code:"uri"}]},code:{type:[{code:"code"}]}}},Range:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},low:{type:[{code:"Quantity",profile:["http://hl7.org/fhir/StructureDefinition/SimpleQuantity"]}]},high:{type:[{code:"Quantity",profile:["http://hl7.org/fhir/StructureDefinition/SimpleQuantity"]}]}}},Ratio:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},numerator:{type:[{code:"Quantity"}]},denominator:{type:[{code:"Quantity"}]}}},Reference:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},reference:{type:[{code:"string"}]},type:{type:[{code:"uri"}]},identifier:{type:[{code:"Identifier"}]},display:{type:[{code:"string"}]}}},RelatedArtifact:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},type:{min:1,type:[{code:"code"}]},label:{type:[{code:"string"}]},display:{type:[{code:"string"}]},citation:{type:[{code:"markdown"}]},url:{type:[{code:"url"}]},document:{type:[{code:"Attachment"}]},resource:{type:[{code:"canonical",targetProfile:["http://hl7.org/fhir/StructureDefinition/Resource"]}]}}},SampledData:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},origin:{min:1,type:[{code:"Quantity",profile:["http://hl7.org/fhir/StructureDefinition/SimpleQuantity"]}]},period:{min:1,type:[{code:"decimal"}]},factor:{type:[{code:"decimal"}]},lowerLimit:{type:[{code:"decimal"}]},upperLimit:{type:[{code:"decimal"}]},dimensions:{min:1,type:[{code:"positiveInt"}]},data:{type:[{code:"string"}]}}},Signature:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},type:{min:1,max:9007199254740991,type:[{code:"Coding"}]},when:{min:1,type:[{code:"instant"}]},who:{min:1,type:[{code:"Reference",targetProfile:["http://hl7.org/fhir/StructureDefinition/Practitioner","http://hl7.org/fhir/StructureDefinition/PractitionerRole","http://hl7.org/fhir/StructureDefinition/RelatedPerson","http://hl7.org/fhir/StructureDefinition/Patient","http://hl7.org/fhir/StructureDefinition/Device","http://hl7.org/fhir/StructureDefinition/Organization"]}]},onBehalfOf:{type:[{code:"Reference",targetProfile:["http://hl7.org/fhir/StructureDefinition/Practitioner","http://hl7.org/fhir/StructureDefinition/PractitionerRole","http://hl7.org/fhir/StructureDefinition/RelatedPerson","http://hl7.org/fhir/StructureDefinition/Patient","http://hl7.org/fhir/StructureDefinition/Device","http://hl7.org/fhir/StructureDefinition/Organization"]}]},targetFormat:{type:[{code:"code"}]},sigFormat:{type:[{code:"code"}]},data:{type:[{code:"base64Binary"}]}}},SubstanceAmount:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},modifierExtension:{max:9007199254740991,type:[{code:"Extension"}]},"amount[x]":{type:[{code:"Quantity"},{code:"Range"},{code:"string"}]},amountType:{type:[{code:"CodeableConcept"}]},amountText:{type:[{code:"string"}]},referenceRange:{type:[{code:"SubstanceAmountReferenceRange"}]}}},SubstanceAmountReferenceRange:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},lowLimit:{type:[{code:"Quantity"}]},highLimit:{type:[{code:"Quantity"}]}}},Timing:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},modifierExtension:{max:9007199254740991,type:[{code:"Extension"}]},event:{max:9007199254740991,type:[{code:"dateTime"}]},repeat:{type:[{code:"TimingRepeat"}]},code:{type:[{code:"CodeableConcept"}]}}},TimingRepeat:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},"bounds[x]":{type:[{code:"Duration"},{code:"Range"},{code:"Period"}]},count:{type:[{code:"positiveInt"}]},countMax:{type:[{code:"positiveInt"}]},duration:{type:[{code:"decimal"}]},durationMax:{type:[{code:"decimal"}]},durationUnit:{type:[{code:"code"}]},frequency:{type:[{code:"positiveInt"}]},frequencyMax:{type:[{code:"positiveInt"}]},period:{type:[{code:"decimal"}]},periodMax:{type:[{code:"decimal"}]},periodUnit:{type:[{code:"code"}]},dayOfWeek:{max:9007199254740991,type:[{code:"code"}]},timeOfDay:{max:9007199254740991,type:[{code:"time"}]},when:{max:9007199254740991,type:[{code:"code"}]},offset:{type:[{code:"unsignedInt"}]}}},TriggerDefinition:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},type:{min:1,type:[{code:"code"}]},name:{type:[{code:"string"}]},"timing[x]":{type:[{code:"Timing"},{code:"Reference",targetProfile:["http://hl7.org/fhir/StructureDefinition/Schedule"]},{code:"date"},{code:"dateTime"}]},data:{max:9007199254740991,type:[{code:"DataRequirement"}]},condition:{type:[{code:"Expression"}]}}},UsageContext:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},code:{min:1,type:[{code:"Coding"}]},"value[x]":{min:1,type:[{code:"CodeableConcept"},{code:"Quantity"},{code:"Range"},{code:"Reference",targetProfile:["http://hl7.org/fhir/StructureDefinition/PlanDefinition","http://hl7.org/fhir/StructureDefinition/ResearchStudy","http://hl7.org/fhir/StructureDefinition/InsurancePlan","http://hl7.org/fhir/StructureDefinition/HealthcareService","http://hl7.org/fhir/StructureDefinition/Group","http://hl7.org/fhir/StructureDefinition/Location","http://hl7.org/fhir/StructureDefinition/Organization"]}]}}},MoneyQuantity:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},value:{type:[{code:"decimal"}]},comparator:{type:[{code:"code"}]},unit:{type:[{code:"string"}]},system:{type:[{code:"uri"}]},code:{type:[{code:"code"}]}}},SimpleQuantity:{elements:{id:{type:[{code:"string"}]},extension:{max:9007199254740991,type:[{code:"Extension"}]},value:{type:[{code:"decimal"}]},comparator:{max:0,type:[{code:"code"}]},unit:{type:[{code:"string"}]},system:{type:[{code:"uri"}]},code:{type:[{code:"code"}]}}},IdentityProvider:{elements:{authorizeUrl:{min:1,type:[{code:"string"}]},tokenUrl:{min:1,type:[{code:"string"}]},tokenAuthMethod:{type:[{code:"code"}]},userInfoUrl:{min:1,type:[{code:"string"}]},clientId:{min:1,type:[{code:"string"}]},clientSecret:{min:1,type:[{code:"string"}]},usePkce:{type:[{code:"boolean"}]},useSubject:{type:[{code:"boolean"}]}}}};function WZ(e){return new YZ(e).parse()}var Fg=FZ(VZ),aR=Object.create(null),cM=Object.create(null),GZ={"http://hl7.org/fhir/StructureDefinition/MoneyQuantity":"MoneyQuantity","http://hl7.org/fhir/StructureDefinition/SimpleQuantity":"SimpleQuantity","http://hl7.org/fhir/uv/sql-on-fhir/StructureDefinition/ViewDefinition":"ViewDefinition"};function N6(e){let t;return t=cM[e],t||(t=cM[e]=Object.create(null)),t}function uM(e){let t=(Array.isArray(e)?e:e.entry?.map(n=>n.resource)??[]).filter(n=>n?.resourceType==="StructureDefinition");$J(t);for(let n of t)I6(n)}function I6(e){if(!e?.name)throw new Error("Failed loading StructureDefinition from bundle");if(e.resourceType!=="StructureDefinition")return;let t=WZ(e),n=GZ[e.url],r,a;n?(r=Fg,a=n):e.url===`http://hl7.org/fhir/StructureDefinition/${e.type}`||e.url===`https://medplum.com/fhir/StructureDefinition/${e.type}`||e.type?.startsWith("http://")||e.type?.startsWith("https://")?(r=Fg,a=e.type):(r=N6(e.url),a=e.type),r[a]=t;for(let i of t.innerTypes)i.parentType=t,r[i.name]=i;aR[e.url]=t}function L6(e){return!!Fg[e]}function Hh(e,t){if(t){let n=N6(t)[e];if(n)return n}return Fg[e]}function z6(e,t){let n=Hh(e,t);if(!n)throw new gt(Ko("Unknown data type: "+e));return n}function iR(e){return!!aR[e]}function Mc(e){return aR[e]}var YZ=class{constructor(e){if(ve(this,"root"),ve(this,"elements"),ve(this,"elementIndex"),ve(this,"index"),ve(this,"resourceSchema"),ve(this,"slicingContext"),ve(this,"innerTypes"),ve(this,"backboneContext"),!e.snapshot?.element||e.snapshot.element.length===0)throw new Error(`No snapshot defined for StructureDefinition '${e.name}'`);this.root=e.snapshot.element[0],this.elements=e.snapshot.element.slice(1),this.elementIndex=Object.create(null),this.index=0,this.resourceSchema={name:e.name,path:this.root.path,title:e.title,type:e.type,url:e.url,version:e.version,kind:e.kind,description:XZ(e),elements:{},constraints:this.parseElementDefinition(this.root).constraints,innerTypes:[],summaryProperties:new Set,mandatoryProperties:new Set},this.innerTypes=[]}parse(){let e=this.next();for(;e;){if(e.sliceName)this.parseSliceStart(e);else if(e.id?.includes(":")){if(this.slicingContext?.current){let t=Fx(e,this.slicingContext.path);this.slicingContext.current.elements[t]=this.parseElementDefinition(e)}}else{let t=this.parseElementDefinition(e);this.checkFieldEnter(e,t);let n=this.backboneContext;for(;n;){if(e.path?.startsWith(n.path+".")){n.type.elements[Fx(e,n.path)]=t;break}n=n.parent}if(!n){let r=Fx(e,this.root.path);e.isSummary&&this.resourceSchema.summaryProperties?.add(r.replace("[x]","")),t.min>0&&this.resourceSchema.mandatoryProperties?.add(r.replace("[x]","")),this.resourceSchema.elements[r]=t}this.checkFieldExit(e)}e=this.next()}return this.checkFieldExit(),this.innerTypes.length>0&&(this.resourceSchema.innerTypes=this.innerTypes),this.resourceSchema}checkFieldEnter(e,t){this.isInnerType(e)&&this.enterInnerType(e),this.slicingContext&&!Ou(this.slicingContext.path,e?.path)&&(this.slicingContext=void 0),e.slicing&&!this.slicingContext&&this.enterSlice(e,t)}enterInnerType(e){for(;this.backboneContext&&!Ou(this.backboneContext?.path,e.path);)this.innerTypes.push(this.backboneContext.type),this.backboneContext=this.backboneContext.parent;let t=bM(e);this.backboneContext={type:{name:t,type:t,path:e.path,title:e.label,description:e.definition,elements:{},constraints:this.parseElementDefinition(e).constraints,innerTypes:[]},path:e.path,parent:Ou(this.backboneContext?.path,e.path)?this.backboneContext:this.backboneContext?.parent}}enterSlice(e,t){KZ(e)&&!this.peek()?.sliceName||(t.slicing={discriminator:(e.slicing?.discriminator??[]).map(n=>{if(n.type!=="value"&&n.type!=="pattern"&&n.type!=="type")throw new Error(`Unsupported slicing discriminator type: ${n.type}`);return{path:n.path,type:n.type}}),slices:[],ordered:e.slicing?.ordered??!1,rule:e.slicing?.rules},this.slicingContext={field:t.slicing,path:e.path??""})}checkFieldExit(e=void 0){if(this.backboneContext&&!Ou(this.backboneContext.path,e?.path))if(this.backboneContext.parent)do this.innerTypes.push(this.backboneContext.type),this.backboneContext=this.backboneContext.parent;while(this.backboneContext&&!Ou(this.backboneContext.path,e?.path));else this.innerTypes.push(this.backboneContext.type),this.backboneContext=void 0}next(){let e=this.peek();if(e)return this.index++,e}peek(){let e=this.elements[this.index];if(e){if(this.elementIndex[e.path??""]=e,e.contentReference){let t=e.contentReference.slice(e.contentReference.indexOf("#")+1),n=this.elementIndex[t];return n?{...n,id:e.id,path:e.path,min:e.min??n.min,max:e.max??n.max,base:{path:n.base?.path??t,min:e.base?.min??n.base?.min??n.min,max:e.base?.max??n.base?.max??n.max},contentReference:e.contentReference,definition:e.definition}:void 0}return e}}isInnerType(e){let t=this.peek();return!!(Ou(e?.path,t?.path)&&e.type?.some(n=>["BackboneElement","Element"].includes(n.code)))}parseSliceStart(e){if(!this.slicingContext)throw new Error(`Invalid slice start before discriminator: ${e.sliceName} (${e.id})`);this.slicingContext.current={...this.parseElementDefinition(e),name:e.sliceName??"",definition:e.definition,elements:{}},this.slicingContext.field.slices.push(this.slicingContext.current)}parseElementDefinitionType(e){return(e.type??[]).map(t=>{let n;return(t.code==="BackboneElement"||t.code==="Element")&&(n=bM(e)),n||(n=kr(t,"http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type")?.valueUrl),n||(n=t.code??""),{code:n,targetProfile:t.targetProfile,profile:t.profile}})}parseElementDefinition(e){let t=dM(e.max),n=e.base?.max?dM(e.base.max):t,r={type:"ElementDefinition",value:e};return{description:e.definition||"",path:e.path||e.base?.path||"",min:e.min??0,max:t,isArray:n>1,constraints:(e.constraint??[]).map(a=>({key:a.key??"",severity:a.severity??"error",expression:a.expression??"",description:a.human??""})),type:this.parseElementDefinitionType(e),fixed:fM(cc(r,"fixed[x]")),pattern:fM(cc(r,"pattern[x]")),binding:e.binding}}};function dM(e){return e==="*"?Number.POSITIVE_INFINITY:Number.parseInt(e,10)}function Fx(e,t=""){return QZ(e.path,t)}function QZ(e,t){return e?t&&e.startsWith(t)?e.substring(t.length+1):e:""}function Ou(e,t){return!e||!t?!1:t.startsWith(e+".")||t===e}function fM(e){return Array.isArray(e)&&e.length>0?e[0]:An(e)?void 0:e}function KZ(e){let t=e.slicing?.discriminator;return!!(e.type?.some(n=>n.code==="Extension")&&t?.length===1&&t[0].type==="value"&&t[0].path==="url")}function XZ(e){let t=e.description;return t?.startsWith(`Base StructureDefinition for ${e.name} Type: `)&&(t=t.substring(`Base StructureDefinition for ${e.name} Type: `.length)),t}function ZZ(e,t,n){if(e===void 0)return[void 0];if(t==="$this")return[e];let r=n?.withPath?$6:cc,[a,...i]=t.split("."),l=[r(e,a,n)];for(let u of i){let d=[];for(let h of l)if(Array.isArray(h))for(let p of h)d.push(r(p,u,n));else(n?.withPath&&h?.value!==void 0||!n?.withPath&&h!==void 0)&&d.push(r(h,u,n));l=d}return l}function $6(e,t,n){let r=e.path;return JZ(cc(e,t,n),r,t)}function JZ(e,t,n){let r=t?t+".":"";return e===void 0?{type:"undefined",value:void 0,path:`${r}${n}`}:Array.isArray(e)?e.map((a,i)=>({...a,path:`${r}${n}[${i}]`})):{...e,path:`${r}${n}`}}new tR(1e3);var q6={date:/^(\d(\d(\d[1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2]\d|3[0-1]))?)?$/,dateTime:/^(\d(\d(\d[1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2]\d|3[0-1])(T([01]\d|2[0-3])(:[0-5]\d:([0-5]\d|60)(\.\d{1,9})?)?)?)?(Z|[+-]((0\d|1[0-3]):[0-5]\d|14:00)?)?)?$/};function eJ(e,t,n,r){if(Array.isArray(e))return!1;let a;t.path==="$this"?a=n:a=(r??n.elements)[t.path];let i=n.type;switch(t.type){case"value":case"pattern":if(!e||!a)return!1;if(a.pattern)return lR(e,a.pattern);if(a.fixed)return pi(e,a.fixed);if(a.binding?.strength==="required"&&a.binding.valueSet)return!0;break;case"type":return!e||!i?.length?!1:i.some(l=>l.code===e.type)}return!1}function Je(e){return[{type:de.boolean,value:e}]}function qa(e){return e==null?{type:"undefined",value:void 0}:Number.isSafeInteger(e)?{type:de.integer,value:e}:typeof e=="number"?{type:de.decimal,value:e}:typeof e=="boolean"?{type:de.boolean,value:e}:typeof e=="string"?{type:de.string,value:e}:di(e)?{type:de.Quantity,value:e}:zi(e)?{type:e.resourceType,value:e}:fy(e)?{type:de.CodeableConcept,value:e}:dy(e)?{type:de.Coding,value:e}:{type:de.BackboneElement,value:e}}function co(e){return e.length===0?!1:!!e[0].value}function es(e,t){if(e.length!==0){if(e.length===1&&(!t||e[0].type===t))return e[0];throw new Error(`Expected singleton of type ${t}, but found ${JSON.stringify(e)}`)}}function cc(e,t,n){if(!e.value)return;let r=Wh(e.type,t,n?.profileUrl);return r?U6(e,t,r):Fh(e,t)}function U6(e,t,n){let r=e.value,a=n.type;if(!a||a.length===0)return;let i,l="undefined",u,d=n.path.lastIndexOf("."),h=n.path.substring(d+1);for(let p of a){let m=h.replace("[x]",rr(p.code));if(i=r[m],u=r["_"+m],i!==void 0||u!==void 0){l=p.code;break}}if(u)if(Array.isArray(i)){i=i.slice();for(let p=0;p<Math.max(i.length,u.length);p++)i[p]=Vx(i[p],u[p])}else if(!i&&Array.isArray(u)){i=u.slice();for(let p=0;p<u.length;p++)i[p]=Vx(void 0,u[p])}else i=Vx(i,u);if(!An(i))return(l==="Element"||l==="BackboneElement")&&(l=n.type[0].code),Array.isArray(i)?i.map(p=>hM(p,l)):hM(i,l)}function hM(e,t){return t==="Resource"&&zi(e)&&(t=e.resourceType),{type:t,value:e}}function Fh(e,t){let n=e.value;if(!n||typeof n!="object")return;let r;if(t in n){let a=n[t];Array.isArray(a)?r=a.map(qa):r=qa(a)}else{let a=t.endsWith("[x]")?t.substring(0,t.length-3):t;for(let i of Object.values(de)){let l=a+rr(i);if(l in n){let u=n[l];Array.isArray(u)?r=u.map(d=>({type:i,value:d})):r={type:i,value:u};break}}}if(Array.isArray(r)){if(r.length===0||An(r[0]))return}else if(An(r))return;return r}function B6(e){let t=[];for(let n of e){let r=!1;for(let a of t)if(co(uy(n,a))){r=!0;break}r||t.push(n)}return t}function tJ(e){return Je(!co(e))}function nJ(e,t){return e.length===0||t.length===0?[]:e.length!==t.length?Je(!1):Je(e.every((n,r)=>co(uy(n,t[r]))))}function rJ(e,t){return e.length===0||t.length===0?[]:e.length!==t.length?Je(!0):Je(e.some((n,r)=>!co(uy(n,t[r]))))}function uy(e,t){let n=e.value?.valueOf(),r=t.value?.valueOf();return typeof n=="number"&&typeof r=="number"?Je(Math.abs(n-r)<1e-8):di(n)&&di(r)?Je(Y6(n,r)):Je(typeof n=="object"&&typeof r=="object"?oR(e,t):n===r)}function H6(e,t){return e.length===0&&t.length===0?Je(!0):e.length!==t.length?Je(!1):(e.sort(pM),t.sort(pM),Je(e.every((n,r)=>co(aJ(n,t[r])))))}function aJ(e,t){let{type:n,value:r}=e,{type:a,value:i}=t,l=r?.valueOf(),u=i?.valueOf();return typeof l=="number"&&typeof u=="number"?Je(Math.abs(l-u)<.01):di(l)&&di(u)?Je(Y6(l,u)):Je(n==="Coding"&&a==="Coding"?typeof l!="object"||typeof u!="object"?!1:l.code===u.code&&l.system===u.system:typeof l=="object"&&typeof u=="object"?oR({...l,id:void 0},{...u,id:void 0}):typeof l=="string"&&typeof u=="string"?l.toLowerCase()===u.toLowerCase():l===u)}function pM(e,t){let n=e.value?.valueOf(),r=t.value?.valueOf();return typeof n=="number"&&typeof r=="number"?n-r:typeof n=="string"&&typeof r=="string"?n.localeCompare(r):0}function F6(e,t){let{value:n}=e;if(n==null)return!1;let r=t;switch(r.startsWith("System.")&&(r=r.substring(7)),r.startsWith("FHIR.")&&(r=r.substring(5)),r){case"Boolean":return typeof n=="boolean";case"Decimal":case"Integer":return typeof n=="number";case"Date":return V6(n);case"DateTime":return oh(n);case"Time":return typeof n=="string"&&!!/^T\d/.exec(n);case"Period":return W6(n);case"Quantity":return di(n);default:return e.type===r||typeof n=="object"&&n?.resourceType===r}}function V6(e){return typeof e=="string"&&!!q6.date.exec(e)}function oh(e){return typeof e=="string"&&!!q6.dateTime.exec(e)}function W6(e){return!!(e&&typeof e=="object"&&("start"in e&&oh(e.start)||"end"in e&&oh(e.end)))}function G6(e){if(e){if(V6(e)||oh(e))return{start:Lm(e,"0000-01-01T00:00:00.000"),end:Lm(e,"xxxx-12-31T23:59:59.999")};if(W6(e))return{start:e.start?Lm(e.start,"0000-01-01T00:00:00.000"):void 0,end:e.end?Lm(e.end,"xxxx-12-31T23:59:59.999"):void 0}}}function Lm(e,t){let n="Z",r=Math.max(e.indexOf("+",10),e.indexOf("-",10));r>-1?(n=e.substring(r),e=e.substring(0,r)):e.endsWith("Z")&&(e=e.substring(0,e.length-1));let a=e+t.substring(e.length)+n;return new Date(a).toISOString()}function di(e){return!!(e&&typeof e=="object"&&"value"in e&&typeof e.value=="number")}function Y6(e,t){return Math.abs(e.value-t.value)<.01&&(e.unit===t.unit||e.code===t.code||e.unit===t.code||e.code===t.unit)}function oR(e,t){let n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let a of n){let i=e[a],l=t[a];if(mM(i)&&mM(l)){if(!oR(i,l))return!1}else if(i!==l)return!1}return!0}function mM(e){return e!==null&&typeof e=="object"}function Vx(e,t){if(t){if(typeof t!="object")throw new Error("Primitive extension must be an object");return iJ(e??{},t)}return e}function iJ(e,t){return delete t.__proto__,delete t.constructor,Object.assign(e,t)}function Q6(e,t){return zi(e,t)&&"id"in e&&typeof e.id=="string"}function Me(e){let t=Oe(e)??"undefined/undefined",n=nr(e);return n===t?{reference:t}:{reference:t,display:n}}function Oe(e){if(Ia(e))return e.reference;if(Q6(e))return`${e.resourceType}/${e.id}`}function rd(e){if(e)return Ia(e)?e.reference.split("/")[1]:e.id}function oJ(e){return e.resourceType==="Patient"||e.resourceType==="Practitioner"||e.resourceType==="RelatedPerson"}function nr(e){if(oJ(e)){let t=sJ(e);if(t)return t}if(e.resourceType==="Device"){let t=lJ(e);if(t)return t}if(e.resourceType==="MedicationRequest"&&e.medicationCodeableConcept)return tl(e.medicationCodeableConcept);if(e.resourceType==="Subscription"&&e.criteria)return e.criteria;if(e.resourceType==="User"&&e.email)return e.email;if("name"in e&&e.name&&typeof e.name=="string")return e.name;if("code"in e&&e.code){let t=e.code;if(Array.isArray(t)&&(t=t[0]),fy(t))return tl(t);if(SJ(t))return t.text}return Oe(e)??""}function sJ(e){let t=e.name;if(t&&t.length>0)return Gn(t[0])}function lJ(e){let t=e.deviceName;if(t&&t.length>0)return t[0].name}function cJ(e){if(!("photo"in e))return;let t=e.photo;if(t)if(Array.isArray(t))for(let n of t){let r=gM(n);if(r)return r}else return gM(t)}function gM(e){if(e.url&&e.contentType?.startsWith("image/"))return e.url}function K6(e,t){let n=new Date(e);n.setUTCHours(0,0,0,0);let r=t?new Date(t):new Date;r.setUTCHours(0,0,0,0);let a=n.getUTCFullYear(),i=n.getUTCMonth(),l=n.getUTCDate(),u=r.getUTCFullYear(),d=r.getUTCMonth(),h=r.getUTCDate(),p=u-a;(d<i||d===i&&h<l)&&p--;let m=u*12+d-(a*12+i);h<l&&m--;let g=Math.floor((r.getTime()-n.getTime())/(1e3*60*60*24));return{years:p,months:m,days:g}}function uJ(e,t){let{years:n,months:r,days:a}=K6(e,t);return n>=2?n.toString().padStart(3,"0")+"Y":r>=1?r.toString().padStart(3,"0")+"M":a.toString().padStart(3,"0")+"D"}function dJ(e){let t={};return X6(e.item,t),t}function X6(e,t){if(e)for(let n of e)n.linkId&&n.answer&&n.answer.length>0&&(t[n.linkId]=n.answer[0]),X6(n.item,t)}function fJ(e){let t={};return Z6(e.item,t),t}function Z6(e,t){if(e)for(let n of e)n.linkId&&n.answer&&n.answer.length>0&&(t[n.linkId]?t[n.linkId]=[...t[n.linkId],...n.answer]:t[n.linkId]=n.answer),Z6(n.item,t)}function hJ(e,t){let n=e.identifier;if(!n)return;let r=Array.isArray(n)?n:[n];for(let a of r)if(a.system===t)return a.value}function xj(e,...t){let n=kr(e,...t);if(!n)return;let r=cc({type:"Extension",value:n},"value[x]");if(r)return Array.isArray(r)?r[0].value:r.value}function kr(e,...t){let n=e;for(let r=0;r<t.length&&n;r++)n=n?.extension?.find(a=>a.url===t[r]);return n}function ad(e,t){let n=sR(e);return JSON.stringify(n,null,void 0)??""}function sR(e){if(!(e==null||e===""))return typeof e=="object"?Array.isArray(e)?pJ(e):mJ(e):e}function pJ(e){let t=e.length;if(t===0)return;let n,r=0;for(let a=0;a<t;a++){let i=e[a],l=sR(i);l!==i&&!n&&(n=Array.from(e)),l===void 0?n&&(n[a]=null):(n&&(n[a]=l),r++)}if(r!==0)return n??e}function mJ(e){let t,n=0;for(let r in e){let a=e[r],i=sR(a);i!==a&&!t&&(t={...e}),i===void 0?t&&delete t[r]:(t&&(t[r]=i),n++)}if(n!==0)return t??e}function An(e){if(e==null)return!0;let t=typeof e;return t==="string"||t==="object"?!Hn(e):!1}function Hn(e){if(e==null)return!1;let t=typeof e;return t==="string"&&e!==""||t==="object"&&("length"in e&&e.length>0||Object.keys(e).length>0)}function gJ(e){if(!e)return;let t=e.length-1;for(;t>=0&&An(e[t]);)t--;return t>=0?e.slice(0,t+1):void 0}function pi(e,t,n){return e===t||An(e)&&An(t)?!0:An(e)||An(t)?!1:Array.isArray(e)&&Array.isArray(t)?vJ(e,t):Array.isArray(e)||Array.isArray(t)?!1:ea(e)&&ea(t)?yJ(e,t,n):!1}function vJ(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!pi(e[n],t[n]))return!1;return!0}function yJ(e,t,n){let r=new Set;Object.keys(e).forEach(a=>r.add(a)),Object.keys(t).forEach(a=>r.add(a)),n==="meta"&&(r.delete("versionId"),r.delete("lastUpdated"),r.delete("author"));for(let a of r){let i=e[a],l=t[a];if(!pi(i,l,a))return!1}return!0}function lR(e,t){return An(e)?!0:An(t)?!1:Array.isArray(e)&&Array.isArray(t)?bJ(e,t):Array.isArray(e)||Array.isArray(t)?!1:ea(e)&&ea(t)?xJ(e,t):ea(e)||ea(t)?!1:e===t}function bJ(e,t){return t.every(n=>e.some(r=>lR(r,n)))}function xJ(e,t){return Object.entries(t).every(([n,r])=>n in e&&lR(e[n],r))}function Hi(e){return e===void 0?e:JSON.parse(JSON.stringify(e))}function J6(e){return/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i.test(e)}function ea(e){return e!==null&&typeof e=="object"}function ez(e){return typeof e=="string"}function dy(e){return ea(e)&&"code"in e&&typeof e.code=="string"}function fy(e){return ea(e)&&"coding"in e&&Array.isArray(e.coding)&&e.coding.every(dy)}function SJ(e){return ea(e)&&"text"in e&&typeof e.text=="string"}var tz=[];for(let e=0;e<256;e++)tz.push(e.toString(16).padStart(2,"0"));function wJ(e){let t=nz(e),n=new Uint8Array(t),r=new Array(n.length);for(let a=0;a<n.length;a++)r[a]=tz[n[a]];return r.join("")}function CJ(e){let t=nz(e),n=new Uint8Array(t),r=new Array(n.length);for(let a=0;a<n.length;a++)r[a]=String.fromCodePoint(n[a]);return window.btoa(r.join(""))}function nz(e){return ArrayBuffer.isView(e)?e.buffer:e}function rr(e){return e?e.charAt(0).toUpperCase()+e.substring(1):""}function cR(e){return e.length>0&&e.startsWith(e[0].toUpperCase())}function Jl(e,t){let n=e+".";if(t.startsWith(n))return t.slice(n.length)}function vM(e,t){return e.coding?.find(n=>n.system===t)?.code}function rz(e){if(e!==void 0)return Array.isArray(e)?e:[e]}var yM=e=>new Promise(t=>{setTimeout(t,e)});function Sj(e,t,n){let r=[];for(let a=0;a<n-1;a++){let i=e.indexOf(t);if(i<0)break;r.push(e.slice(0,i)),e=e.slice(i+t.length)}return r.push(e),r}function jJ(e){let t,n=!1;return function(){return n||(t=e(),n=!0),t}}function _f(e,t){return e?(e.push(t),e):[t]}function uR(e){return e.sort((t,n)=>t.localeCompare(n))}function az(e){return e.endsWith("/")?e:e+"/"}function EJ(e){return e.startsWith("/")?e.slice(1):e}function no(e,t){return new URL(EJ(t),az(e.toString())).toString()}function TJ(e,t){return no(e,t).toString().replace("http://","ws://").replace("https://","wss://")}function RJ(e){return typeof e=="object"&&!Array.isArray(e)&&!(e instanceof URLSearchParams)&&(e=Object.fromEntries(Object.entries(e).filter(t=>t[1]!==void 0))),new URLSearchParams(e).toString()}function Pc(e,t){return e?.meta?.profile?.includes(t)||(e.meta=e.meta??{},e.meta.profile=e.meta.profile??[],e.meta.profile.push(t)),e}function uc(e){if(!e)return"";switch(e.type){case"Address":return dR(e.value);case"CodeableConcept":return tl(e.value);case"Coding":return dc(e.value);case"ContactPoint":return e.value.value;case"HumanName":return Gn(e.value);case"Quantity":return io(e.value);case"Reference":return _J(e.value);default:return e.value?.toString()??""}}function _J(e){return e?e.display??e.reference??ad(e):""}function dR(e,t){if(!e)return"";let n=[];if(e.line&&n.push(...e.line),e.city||e.state||e.postalCode){let r=[];e.city&&r.push(e.city),e.state&&r.push(e.state),e.postalCode&&r.push(e.postalCode),n.push(r.join(", "))}return e.use&&t?.use&&n.push("["+e.use+"]"),n.join(", ").trim()}function Gn(e,t){if(!e)return"";let n=[];if(e.prefix&&t?.prefix!==!1&&n.push(...e.prefix),e.given&&n.push(...e.given),e.family&&n.push(e.family),e.suffix&&t?.suffix!==!1&&n.push(...e.suffix),e.use&&(t?.all||t?.use)&&n.push("["+e.use+"]"),n.length===0){let r=Wu(e.text);if(r)return r}return n.join(" ").trim()}function Vh(e){return e instanceof Date&&!Number.isNaN(e.getTime())}function vn(e,t,n){if(!e)return"";let r=new Date(e);return Vh(r)?(r.setUTCHours(0,0,0,0),r.toLocaleDateString(t,{timeZone:"UTC",...n})):""}function DJ(e,t,n){if(!e)return"";let r=new Date("2000-01-01T"+e+"Z");return Vh(r)?r.toLocaleTimeString(t,n):""}function Ua(e,t,n){if(!e)return"";let r=new Date(e);return Vh(r)?r.toLocaleString(t,n):""}function AJ(e,t,n){return!e||!e.start&&!e.end?"":Ua(e.start,t,n)+" - "+Ua(e.end,t,n)}var OJ={s:"every second",min:"every minute",h:"hourly",d:"daily",wk:"weekly",mo:"monthly",a:"annually"},kJ={s:"second",min:"minute",h:"hour",d:"day",wk:"week",mo:"month",a:"year"},MJ={s:"seconds",min:"minutes",h:"hours",d:"days",wk:"weeks",mo:"months",a:"years"};function iz(e){if(!e)return"";let t=[];return PJ(t,e.repeat),e.event&&t.push(e.event.map(n=>Ua(n)).join(", ")),rr(t.join(" ").trim())}function PJ(e,t){if(!t?.periodUnit)return;let n=t.frequency??1,r=t.period??1,a=t.periodUnit;n===1&&r===1?e.push(OJ[a]):(n===1?e.push("once"):e.push(n+" times"),r===1?e.push("per "+kJ[a]):e.push("per "+r+" "+MJ[a])),t.dayOfWeek&&e.push("on "+t.dayOfWeek.map(rr).join(", ")),t.timeOfDay&&e.push("at "+t.timeOfDay.map(i=>DJ(i)).join(", "))}function NJ(e,t,n=!1){if(n&&t===void 0)throw new Error("Precision must be specified for exclusive ranges");let r=e?.low&&{...e.low,comparator:void 0},a=e?.high&&{...e.high,comparator:void 0};return r?.value===void 0&&a?.value===void 0?"":r?.value!==void 0&&a?.value===void 0?n&&t!==void 0?(r.value=zJ(r.value),`> ${io(r)}`):`>= ${io(r)}`:r?.value===void 0&&a?.value!==void 0?n&&t!==void 0?(a.value=LJ(a.value),`< ${io(a)}`):`<= ${io(a)}`:(r?.unit===a?.unit&&delete r?.unit,`${io(r)} - ${io(a)}`)}function io(e,t){if(!e)return"";let n=[];return e.comparator&&(n.push(e.comparator),n.push(" ")),e.value!==void 0&&n.push(e.value),e.unit&&(e.unit!=="%"&&n.at(-1)!==" "&&n.push(" "),n.push(e.unit)),n.join("").trim()}function IJ(e){return e?.value===void 0?"":e.value.toLocaleString(void 0,{style:"currency",currency:e.currency??"USD",currencyDisplay:"narrowSymbol"})}function tl(e){return e?Wu(e.text)||(e.coding?e.coding.map(n=>dc(n)).join(", "):""):""}function dc(e,t){let n=Wu(e?.display);if(n){let r=t?Wu(e?.code):void 0;return`${n}${r?" ("+r+")":""}`}return Wu(e?.code)??""}function oz(e){if(!e)return"";let t=[];if(e.valueQuantity)t.push(io(e.valueQuantity));else if(e.valueCodeableConcept)t.push(tl(e.valueCodeableConcept));else{let n=Wu(e.valueString);n&&t.push(n)}return"component"in e&&t.push(e.component.map(n=>oz(n)).join(" / ")),t.join(" / ").trim()}function Wu(e){return typeof e=="string"?e:void 0}function LJ(e,t,n=1){return(sz(e)+n)*Math.pow(10,NaN)}function zJ(e,t,n=1){return(sz(e)-n)*Math.pow(10,NaN)}function sz(e,t){return e}var de={Address:"Address",Age:"Age",Annotation:"Annotation",Attachment:"Attachment",BackboneElement:"BackboneElement",CodeableConcept:"CodeableConcept",Coding:"Coding",ContactDetail:"ContactDetail",ContactPoint:"ContactPoint",Contributor:"Contributor",Count:"Count",DataRequirement:"DataRequirement",Distance:"Distance",Dosage:"Dosage",Duration:"Duration",Element:"Element",ElementDefinition:"ElementDefinition",Expression:"Expression",Extension:"Extension",HumanName:"HumanName",Identifier:"Identifier",MarketingStatus:"MarketingStatus",Meta:"Meta",Money:"Money",MoneyQuantity:"MoneyQuantity",Narrative:"Narrative",ParameterDefinition:"ParameterDefinition",Period:"Period",Population:"Population",ProdCharacteristic:"ProdCharacteristic",ProductShelfLife:"ProductShelfLife",Quantity:"Quantity",Range:"Range",Ratio:"Ratio",Reference:"Reference",RelatedArtifact:"RelatedArtifact",SampledData:"SampledData",Signature:"Signature",SimpleQuantity:"SimpleQuantity",SubstanceAmount:"SubstanceAmount",SystemString:"http://hl7.org/fhirpath/System.String",Timing:"Timing",TriggerDefinition:"TriggerDefinition",UsageContext:"UsageContext",base64Binary:"base64Binary",boolean:"boolean",canonical:"canonical",code:"code",date:"date",dateTime:"dateTime",decimal:"decimal",id:"id",instant:"instant",integer:"integer",markdown:"markdown",oid:"oid",positiveInt:"positiveInt",string:"string",time:"time",unsignedInt:"unsignedInt",uri:"uri",url:"url",uuid:"uuid",xhtml:"xhtml"};function $J(e){let t=Array.isArray(e)?e:e.entry?.map(n=>n.resource)??[];for(let n of t)n?.resourceType==="StructureDefinition"&&n.kind==="resource"&&lz(n.type)}function lz(e){let t=yo.types[e];return t||(t={searchParamsDetails:{}},yo.types[e]=t),!t.searchParams&&e!=="Binary"&&(t.searchParams={_id:{base:[e],code:"_id",type:"token",expression:e+".id"},_lastUpdated:{base:[e],code:"_lastUpdated",type:"date",expression:e+".meta.lastUpdated"},_compartment:{base:[e],code:"_compartment",type:"reference",expression:e+".meta.compartment"},_profile:{base:[e],code:"_profile",type:"uri",expression:e+".meta.profile"},_security:{base:[e],code:"_security",type:"token",expression:e+".meta.security"},_source:{base:[e],code:"_source",type:"uri",expression:e+".meta.source"},_tag:{base:[e],code:"_tag",type:"token",expression:e+".meta.tag"}}),t}function qJ(e){for(let t of e.base??[]){let n=lz(t);n.searchParams||(n.searchParams={}),n.searchParams[e.code]=e}}function bM(e){let t=e.type?.[0]?.code;return t==="BackboneElement"||t==="Element"?UJ((e.base?.path??e.path)?.split(".")):t}function UJ(e){return e.length===1?e[0]:e.map(rr).join("")}function fR(e){return yo.types[e]?.searchParams}function BJ(e,t){return yo.types[e]?.searchParams?.[t]}function fc(e){let t=e.replaceAll("[x]","").split(".").pop();return cz(t)}function cz(e){let t;return e.length<100?t=e.match(/[A-Z]+(?![a-z])|[A-Z]?[a-z]+|\d+/g)??[]:t=e.split(/(?=[A-Z])/),t.map(FJ).join(" ").replace("_"," ").replaceAll(/\s+/g," ")}var HJ=new Set(["CDS","ID","IP","PKCE","JWKS","URI","URL","OMB","UDI"]);function FJ(e){let t=e.toUpperCase();return e===t?e:HJ.has(t)?t:t.charAt(0)+e.slice(1)}function Wh(e,t,n){let r=Hh(e,n);if(r)return VJ(r.elements,t)}function VJ(e,t){let n=e[t]??e[t+"[x]"];if(n)return n;for(let r=0;r<t.length;r++){let a=t[r];if(a>="A"&&a<="Z"){let i=t.slice(0,r)+"[x]",l=e[i];if(l)return l}}}function zi(e,t){return!(!e||typeof e!="object"||!("resourceType"in e)||t&&e.resourceType!==t)}function Ia(e,t){return!!(e&&typeof e=="object"&&"reference"in e&&typeof e.reference=="string")}var yo={types:{}};function dg(e){if(e.startsWith("T"))return e+"T00:00:00.000Z".substring(e.length);if(e.length<=10)return e;try{return new Date(e).toISOString()}catch{return e}}var Ho=()=>[],ca={empty:(e,t)=>Je(t.every(n=>An(n.value))),hasValue:(e,t)=>Je(t.length!==0),exists:(e,t,n)=>Je(n?t.some(r=>co(n.eval(e,[r]))):t.length>0&&t.every(r=>!An(r.value))),all:(e,t,n)=>Je(t.every(r=>co(n.eval(e,[r])))),allTrue:(e,t)=>{for(let n of t)if(!n.value)return Je(!1);return Je(!0)},anyTrue:(e,t)=>{for(let n of t)if(n.value)return Je(!0);return Je(!1)},allFalse:(e,t)=>{for(let n of t)if(n.value)return Je(!1);return Je(!0)},anyFalse:(e,t)=>{for(let n of t)if(!n.value)return Je(!0);return Je(!1)},subsetOf:(e,t,n)=>{if(t.length===0)return Je(!0);let r=n.eval(e,zl(e));return r.length===0?Je(!1):Je(t.every(a=>r.some(i=>i.value===a.value)))},supersetOf:(e,t,n)=>{let r=n.eval(e,zl(e));return r.length===0?Je(!0):t.length===0?Je(!1):Je(r.every(a=>t.some(i=>i.value===a.value)))},count:(e,t)=>[{type:de.integer,value:t.length}],distinct:(e,t)=>{let n=[];for(let r of t)n.some(a=>a.value===r.value)||n.push(r);return n},isDistinct:(e,t)=>Je(t.length===ca.distinct(e,t).length),where:(e,t,n)=>t.filter(r=>co(n.eval(e,[r]))),select:(e,t,n)=>t.flatMap(r=>n.eval({parent:e,variables:{$this:r}},[r])),repeat:Ho,ofType:(e,t,n)=>t.filter(r=>r.type===n.name),single:(e,t)=>{if(t.length>1)throw new Error("Expected input length one for single()");return t.length===0?[]:t.slice(0,1)},first:(e,t)=>t.length===0?[]:t.slice(0,1),last:(e,t)=>t.length===0?[]:t.slice(-1,t.length),tail:(e,t)=>t.length===0?[]:t.slice(1,t.length),skip:(e,t,n)=>{let r=n.eval(e,t)[0]?.value;if(typeof r!="number")throw new TypeError("Expected a number for skip(num)");return r>=t.length?[]:r<=0?t:t.slice(r,t.length)},take:(e,t,n)=>{let r=n.eval(e,t)[0]?.value;if(typeof r!="number")throw new TypeError("Expected a number for take(num)");return r>=t.length?t:r<=0?[]:t.slice(0,r)},intersect:(e,t,n)=>{if(!n)return t;let r=n.eval(e,zl(e)),a=[];for(let i of t)!a.some(l=>l.value===i.value)&&r.some(l=>l.value===i.value)&&a.push(i);return a},exclude:(e,t,n)=>{if(!n)return t;let r=n.eval(e,zl(e)),a=[];for(let i of t)r.some(l=>l.value===i.value)||a.push(i);return a},union:(e,t,n)=>{if(!n)return t;let r=n.eval(e,zl(e));return B6([...t,...r])},combine:(e,t,n)=>{if(!n)return t;let r=n.eval(e,zl(e));return[...t,...r]},htmlChecks:(e,t,n)=>[qa(!0)],iif:(e,t,n,r,a)=>{let i=n.eval(e,t);if(i.length>1||i.length===1&&typeof i[0].value!="boolean")throw new Error("Expected criterion to evaluate to a Boolean");return co(i)?r.eval(e,t):a?a.eval(e,t):[]},toBoolean:(e,t)=>{if(t.length===0)return[];let[{value:n}]=ro(t,1);if(typeof n=="boolean")return[{type:de.boolean,value:n}];if(typeof n=="number"&&(n===0||n===1))return Je(!!n);if(typeof n=="string"){let r=n.toLowerCase();if(["true","t","yes","y","1","1.0"].includes(r))return Je(!0);if(["false","f","no","n","0","0.0"].includes(r))return Je(!1)}return[]},convertsToBoolean:(e,t)=>t.length===0?[]:Je(ca.toBoolean(e,t).length===1),toInteger:(e,t)=>{if(t.length===0)return[];let[{value:n}]=ro(t,1);return typeof n=="number"?[{type:de.integer,value:n}]:typeof n=="string"&&/^[+-]?\d+$/.exec(n)?[{type:de.integer,value:Number.parseInt(n,10)}]:typeof n=="boolean"?[{type:de.integer,value:n?1:0}]:[]},convertsToInteger:(e,t)=>t.length===0?[]:Je(ca.toInteger(e,t).length===1),toDate:(e,t)=>{if(t.length===0)return[];let[{value:n}]=ro(t,1);return typeof n=="string"&&/^\d{4}(-\d{2}(-\d{2})?)?/.exec(n)?[{type:de.date,value:dg(n)}]:[]},convertsToDate:(e,t)=>t.length===0?[]:Je(ca.toDate(e,t).length===1),toDateTime:(e,t)=>{if(t.length===0)return[];let[{value:n}]=ro(t,1);return typeof n=="string"&&/^\d{4}(-\d{2}(-\d{2})?)?/.exec(n)?[{type:de.dateTime,value:dg(n)}]:[]},convertsToDateTime:(e,t)=>t.length===0?[]:Je(ca.toDateTime(e,t).length===1),toDecimal:(e,t)=>{if(t.length===0)return[];let[{value:n}]=ro(t,1);return typeof n=="number"?[{type:de.decimal,value:n}]:typeof n=="string"&&/^-?\d{1,9}(\.\d{1,9})?$/.exec(n)?[{type:de.decimal,value:Number.parseFloat(n)}]:typeof n=="boolean"?[{type:de.decimal,value:n?1:0}]:[]},convertsToDecimal:(e,t)=>t.length===0?[]:Je(ca.toDecimal(e,t).length===1),toQuantity:(e,t)=>{if(t.length===0)return[];let[{value:n}]=ro(t,1);return di(n)?[{type:de.Quantity,value:n}]:typeof n=="number"?[{type:de.Quantity,value:{value:n,unit:"1"}}]:typeof n=="string"&&/^-?\d{1,9}(\.\d{1,9})?/.exec(n)?[{type:de.Quantity,value:{value:Number.parseFloat(n),unit:"1"}}]:typeof n=="boolean"?[{type:de.Quantity,value:{value:n?1:0,unit:"1"}}]:[]},convertsToQuantity:(e,t)=>t.length===0?[]:Je(ca.toQuantity(e,t).length===1),toString:(e,t)=>{if(t.length===0)return[];let[{value:n}]=ro(t,1);return n==null?[]:di(n)?[{type:de.string,value:`${n.value} '${n.unit}'`}]:[{type:de.string,value:n.toString()}]},convertsToString:(e,t)=>t.length===0?[]:Je(ca.toString(e,t).length===1),toTime:(e,t)=>{if(t.length===0)return[];let[{value:n}]=ro(t,1);if(typeof n=="string"){let r=/^T?(\d{2}(:\d{2}(:\d{2})?)?)/.exec(n);if(r)return[{type:de.time,value:dg("T"+r[1])}]}return[]},convertsToTime:(e,t)=>t.length===0?[]:Je(ca.toTime(e,t).length===1),indexOf:(e,t,n)=>ii((r,a)=>r.indexOf(a),e,t,n),substring:(e,t,n,r)=>ii((a,i,l)=>{let u=i,d=l?u+l:a.length;return u<0||u>=a.length?void 0:a.substring(u,d)},e,t,n,r),startsWith:(e,t,n)=>ii((r,a)=>r.startsWith(a),e,t,n),endsWith:(e,t,n)=>ii((r,a)=>r.endsWith(a),e,t,n),contains:(e,t,n)=>ii((r,a)=>r.includes(a),e,t,n),upper:(e,t)=>ii(n=>n.toUpperCase(),e,t),lower:(e,t)=>ii(n=>n.toLowerCase(),e,t),replace:(e,t,n,r)=>ii((a,i,l)=>a.replaceAll(i,l),e,t,n,r),matches:(e,t,n)=>ii((r,a)=>!!new RegExp(a).exec(r),e,t,n),replaceMatches:(e,t,n,r)=>ii((a,i,l)=>a.replaceAll(new RegExp(i,"g"),l.replaceAll(/\$\{(\w+)\}/g,"$<$1>")),e,t,n,r),length:(e,t)=>ii(n=>n.length,e,t),toChars:(e,t)=>ii(n=>n?n.split(""):void 0,e,t),encode:Ho,decode:Ho,escape:Ho,unescape:Ho,trim:Ho,split:Ho,join:(e,t,n)=>{let r=n?.eval(e,zl(e))[0]?.value??"";if(typeof r!="string")throw new TypeError("Separator must be a string.");return[{type:de.string,value:t.map(a=>a.value?.toString()??"").join(r)}]},abs:(e,t)=>to(Math.abs,e,t),ceiling:(e,t)=>to(Math.ceil,e,t),exp:(e,t)=>to(Math.exp,e,t),floor:(e,t)=>to(Math.floor,e,t),ln:(e,t)=>to(Math.log,e,t),log:(e,t,n)=>to((r,a)=>Math.log(r)/Math.log(a),e,t,n),power:(e,t,n)=>to(Math.pow,e,t,n),round:(e,t,...n)=>to((r,a=0)=>{if(typeof a!="number"||a<0)throw new Error("Invalid precision provided to round()");let i=Math.pow(10,a);return Math.round(r*i)/i},e,t,...n),sqrt:(e,t)=>to(Math.sqrt,e,t),truncate:(e,t)=>to(n=>Math.trunc(n),e,t),children:Ho,descendants:Ho,trace:(e,t,n)=>t,now:()=>[{type:de.dateTime,value:new Date().toISOString()}],timeOfDay:()=>[{type:de.time,value:new Date().toISOString().substring(11)}],today:()=>[{type:de.date,value:new Date().toISOString().substring(0,10)}],between:(e,t,n,r,a)=>{let i=ca.toDateTime(e,n.eval(e,t));if(i.length===0)throw new Error("Invalid start date");let l=ca.toDateTime(e,r.eval(e,t));if(l.length===0)throw new Error("Invalid end date");let u=a.eval(e,t)[0]?.value;if(u!=="years"&&u!=="months"&&u!=="days")throw new Error("Invalid units");let d=K6(i[0].value,l[0].value);return[{type:de.Quantity,value:{value:d[u],unit:u}}]},is:(e,t,n)=>{let r="";return n instanceof sh?r=n.name:n instanceof hy&&(r=n.left.name+"."+n.right.name),r?t.map(a=>({type:de.boolean,value:F6(a,r)})):[]},not:(e,t)=>ca.toBoolean(e,t).map(n=>({type:de.boolean,value:!n.value})),resolve:(e,t)=>t.map(n=>{let r=n.value,a;if(typeof r=="string")a=r;else if(typeof r=="object"){let i=r;if(i.resource)return qa(i.resource);i.reference?a=i.reference:i.type&&i.identifier&&(a=`${i.type}?identifier=${i.identifier.system}|${i.identifier.value}`)}if(a?.includes("?")){let[i]=a.split("?");return{type:i,value:{resourceType:i}}}if(a?.includes("/")){let[i,l]=a.split("/");return{type:i,value:{resourceType:i,id:l}}}return{type:de.BackboneElement,value:void 0}}).filter(n=>!!n.value),as:(e,t)=>t,type:(e,t)=>t.map(({value:n})=>typeof n=="boolean"?{type:de.BackboneElement,value:{namespace:"System",name:"Boolean"}}:typeof n=="number"?{type:de.BackboneElement,value:{namespace:"System",name:"Integer"}}:zi(n)?{type:de.BackboneElement,value:{namespace:"FHIR",name:n.resourceType}}:{type:de.BackboneElement,value:null}),conformsTo:(e,t,n)=>{let r=n.eval(e,t)[0].value;if(!r.startsWith("http://hl7.org/fhir/StructureDefinition/"))throw new Error("Expected a StructureDefinition URL");let a=r.replace("http://hl7.org/fhir/StructureDefinition/","");return t.map(i=>({type:de.boolean,value:i.value?.resourceType===a}))},getResourceKey:(e,t)=>{let n=t[0].value;return n?.id?[{type:de.id,value:n.id}]:[]},getReferenceKey:(e,t,n)=>{let r=t[0].value;if(!r?.reference)return[];let a="";return n instanceof sh&&(a=n.name),a&&!r.reference.startsWith(a+"/")?[]:[{type:de.id,value:rd(r)}]},extension:(e,t,n)=>{let r=n.eval(e,t)[0].value,a=t?.[0]?.value;if(a){let i=kr(a,r);if(i)return[{type:de.Extension,value:i}]}return[]}};function ii(e,t,n,...r){if(n.length===0)return[];let[{value:a}]=ro(n,1);if(typeof a!="string")throw new TypeError("String function cannot be called with non-string");let i=r.map(u=>u?.eval(t,n)[0]?.value),l=e(a,...i);return l===void 0?[]:Array.isArray(l)?l.map(qa):[qa(l)]}function to(e,t,n,...r){if(n.length===0)return[];let[{value:a}]=ro(n,1),i=di(a),l=i?a.value:a;if(typeof l!="number")throw new TypeError("Math function cannot be called with non-number");let u=e(l,...r.map(p=>p.eval(t,n)[0]?.value)),d=i?de.Quantity:n[0].type,h=i?{...a,value:u}:u;return[{type:d,value:h}]}function ro(e,t){if(e.length!==t)throw new Error(`Expected ${t} arguments`);for(let n of e)if(n==null)throw new Error("Expected non-null argument");return e}function zl(e){let t=e;for(;t.parent?.variables.$this;)t=t.parent;return[t.variables.$this]}var hR=class{constructor(e,t){ve(this,"original"),ve(this,"child"),this.original=e,this.child=t}eval(e,t){try{if(t.length>0){let n=[];for(let r of t)n.push(this.child.eval({parent:e,variables:{$this:r}},[r]));return n.flat()}else return this.child.eval(e,[])}catch(n){throw new Error(`FhirPathError on "${this.original}": ${n}`,{cause:n})}}toString(){return this.child.toString()}},ku=class{constructor(t){ve(this,"value"),this.value=t}eval(){return[this.value]}toString(){let t=this.value.value;return typeof t=="string"?`'${t}'`:t.toString()}},sh=class{constructor(t){ve(this,"name"),this.name=t}eval(t,n){if(this.name==="$this")return n;let r=this.getVariable(t);if(r)return[r];if(this.name.startsWith("%"))throw new Error(`Undefined variable ${this.name}`);return n.flatMap(a=>this.evalValue(a)).filter(a=>a?.value!==void 0)}getVariable(t){let n=t.variables[this.name];if(n!==void 0)return n;if(t.parent)return this.getVariable(t.parent)}evalValue(t){let n=t.value;if(!(!n||typeof n!="object"))return zi(n,this.name)?t:$6(t,this.name)}toString(){return this.name}},WJ=class{eval(){return[]}toString(){return"{}"}},GJ=class extends _Z{constructor(e,t,n){super(e,t),ve(this,"impl"),this.impl=n}eval(e,t){return this.impl(this.child.eval(e,t))}toString(){return this.operator+this.child.toString()}},Vg=class extends Bh{constructor(e,t){super("as",e,t)}eval(e,t){return ca.ofType(e,this.left.eval(e,t),this.right)}},wa=class extends Bh{},ki=class extends wa{constructor(e,t,n,r){super(e,t,n),ve(this,"impl"),this.impl=r}eval(e,t){let n=this.left.eval(e,t);if(n.length!==1)return[];let r=this.right.eval(e,t);if(r.length!==1)return[];let a=n[0].value,i=r[0].value,l=di(a)?a.value:a,u=di(i)?i.value:i,d=this.impl(l,u);return typeof d=="boolean"?Je(d):di(a)?[{type:de.Quantity,value:{...a,value:d}}]:[qa(d)]}},YJ=class extends Bh{constructor(e,t){super("&",e,t)}eval(e,t){let n=this.left.eval(e,t),r=this.right.eval(e,t),a=[...n,...r];return a.length>0&&a.every(i=>typeof i.value=="string")?[{type:de.string,value:a.map(i=>i.value).join("")}]:a}},QJ=class extends wa{constructor(e,t){super("contains",e,t)}eval(e,t){let n=this.left.eval(e,t),r=this.right.eval(e,t);return Je(n.some(a=>a.value===r[0].value))}},KJ=class extends wa{constructor(e,t){super("in",e,t)}eval(e,t){let n=es(this.left.eval(e,t)),r=this.right.eval(e,t);return n?Je(r.some(a=>uy(n,a)[0].value)):[]}},hy=class extends Bh{constructor(t,n){super(".",t,n)}eval(t,n){return this.right.eval(t,this.left.eval(t,n))}toString(){return`${this.left.toString()}.${this.right.toString()}`}},pR=class extends Bh{constructor(e,t){super("|",e,t)}eval(e,t){let n=this.left.eval(e,t),r=this.right.eval(e,t);return B6([...n,...r])}},XJ=class extends wa{constructor(e,t){super("=",e,t)}eval(e,t){let n=this.left.eval(e,t),r=this.right.eval(e,t);return nJ(n,r)}},ZJ=class extends wa{constructor(e,t){super("!=",e,t)}eval(e,t){let n=this.left.eval(e,t),r=this.right.eval(e,t);return rJ(n,r)}},JJ=class extends wa{constructor(e,t){super("~",e,t)}eval(e,t){let n=this.left.eval(e,t),r=this.right.eval(e,t);return H6(n,r)}},eee=class extends wa{constructor(e,t){super("!~",e,t)}eval(e,t){let n=this.left.eval(e,t),r=this.right.eval(e,t);return tJ(H6(n,r))}},mR=class extends wa{constructor(e,t){super("is",e,t)}eval(e,t){let n=this.left.eval(e,t);if(n.length!==1)return[];let r=this.right.name;return Je(F6(n[0],r))}},tee=class extends wa{constructor(e,t){super("and",e,t)}eval(e,t){let n=es(this.left.eval(e,t),"boolean"),r=es(this.right.eval(e,t),"boolean");return n?.value===!0&&r?.value===!0?Je(!0):n?.value===!1||r?.value===!1?Je(!1):[]}},nee=class extends wa{constructor(e,t){super("or",e,t)}eval(e,t){let n=es(this.left.eval(e,t),"boolean"),r=es(this.right.eval(e,t),"boolean");return n?.value===!1&&r?.value===!1?Je(!1):n?.value||r?.value?Je(!0):[]}},ree=class extends wa{constructor(e,t){super("xor",e,t)}eval(e,t){let n=es(this.left.eval(e,t),"boolean"),r=es(this.right.eval(e,t),"boolean");return!n||!r?[]:Je(n.value!==r.value)}},aee=class extends wa{constructor(e,t){super("implies",e,t)}eval(e,t){let n=es(this.left.eval(e,t),"boolean"),r=es(this.right.eval(e,t),"boolean");return r?.value===!0||n?.value===!1?Je(!0):!n||!r?[]:Je(!1)}},gR=class{constructor(t,n){ve(this,"name"),ve(this,"args"),this.name=t,this.args=n}eval(t,n){let r=ca[this.name];if(!r)throw new Error("Unrecognized function: "+this.name);return r(t,n,...this.args)}toString(){return`${this.name}(${this.args.map(t=>t.toString()).join(", ")})`}},vR=class{constructor(t,n){ve(this,"left"),ve(this,"expr"),this.left=t,this.expr=n}eval(t,n){let r=this.expr.eval(t,n);if(r.length!==1)return[];let a=r[0].value;if(typeof a!="number")throw new Error("Invalid indexer expression: should return integer}");let i=this.left.eval(t,n);return a in i?[i[a]]:[]}toString(){return`${this.left.toString()}[${this.expr.toString()}]`}},iee=["year","years","month","months","week","weeks","day","days","hour","hours","minute","minutes","second","seconds","millisecond","milliseconds"],oee={"'":"'",'"':'"',"`":"`",r:"\r",n:`
`,t:"	",f:"\f","\\":"\\"},see=class{constructor(e,t,n,r){ve(this,"str"),ve(this,"keywords"),ve(this,"operators"),ve(this,"dateTimeLiterals"),ve(this,"symbolRegex"),ve(this,"result",[]),ve(this,"pos",{index:0,line:1,column:0}),ve(this,"markStack",[]),this.str=e,this.keywords=t,this.operators=n,this.dateTimeLiterals=!!r?.dateTimeLiterals,this.symbolRegex=r?.symbolRegex??/[$\w%]/}tokenize(){for(;this.pos.index<this.str.length;){let e=this.consumeToken();e&&this.result.push(e)}return this.result}prevToken(){return this.result.slice(-1)[0]}peekToken(){this.mark();let e=this.consumeToken();return this.reset(),e}consumeToken(){this.consumeWhitespace();let e=this.curr();if(!e)return;this.mark();let t=this.peek();return e==="/"&&t==="*"?this.consumeMultiLineComment():e==="/"&&t==="/"?this.consumeSingleLineComment():e==="'"||e==='"'||e==="`"?this.consumeString(e):e==="@"?this.consumeDateTime():/\d/.exec(e)?this.consumeNumber():/\w/.exec(e)?this.consumeSymbol():(e==="$"||e==="%")&&/\w/.exec(t)?this.consumeSymbol():(e==="$"||e==="%")&&(t==="'"||t==='"'||t==="`")?this.consumeQuotedSymbol(t):this.consumeOperator()}consumeWhitespace(){this.consumeWhile(()=>/\s/.exec(this.curr()))}consumeMultiLineComment(){let e=this.pos.index;return this.consumeWhile(()=>this.curr()!=="*"||this.peek()!=="/"),this.advance(),this.advance(),this.buildToken("Comment",this.str.substring(e,this.pos.index))}consumeSingleLineComment(){return this.buildToken("Comment",this.consumeWhile(()=>this.curr()!==`
`))}consumeString(e){this.advance();let t="",n;for(;n=this.consumeChar(e);)t+=n;let r=this.buildToken(e==="`"?"Symbol":"String",t);return this.advance(),r}consumeChar(e){let t=this.curr();if(t==="\\"){this.advance();let n=this.curr(),r=oee[n];if(r!==void 0)return this.advance(),r;if(n==="u"){this.advance();let a=/^[0-9a-fA-F]{4}$/.exec(this.str.substring(this.pos.index,this.pos.index+4))?.[0];return a?(this.advance(),this.advance(),this.advance(),this.advance(),String.fromCodePoint(Number.parseInt(a,16))):"u"}return this.consumeChar(e)}return t===e||!t?"":(this.advance(),t)}consumeQuotedSymbol(e){this.mark();let t=this.pos.index;this.advance(),this.consumeString(e);let n=this.str.substring(t,this.pos.index);return this.buildToken("Symbol",n)}consumeDateTime(){this.advance();let e=this.pos.index;this.consumeWhile(()=>/[\d-]/.exec(this.curr()));let t=!1,n=!1;if(this.curr()==="T"&&(t=!0,this.advance(),this.consumeWhile(()=>/[\d:]/.exec(this.curr())),this.curr()==="."&&/\d/.exec(this.peek())&&(this.advance(),this.consumeWhile(()=>/\d/.exec(this.curr()))),this.curr()==="Z"?(n=!0,this.advance()):(this.curr()==="+"||this.curr()==="-")&&(n=!0,this.advance(),this.consumeWhile(()=>/[\d:]/.exec(this.curr())))),this.pos.index===e)throw new Error("Invalid DateTime literal");let r=this.str.substring(e,this.pos.index);return r.endsWith("T")?r=r.substring(0,r.length-1):!r.startsWith("T")&&t&&!n&&(r+="Z"),this.buildToken("DateTime",r)}consumeNumber(){let e=this.pos.index,t="Number";return this.consumeWhile(()=>/\d/.exec(this.curr())),this.curr()==="."&&/\d/.exec(this.peek())&&(this.advance(),this.consumeWhile(()=>/\d/.exec(this.curr()))),this.curr()==="-"&&this.dateTimeLiterals?(this.pos.index=e-1,this.consumeDateTime()):(this.curr()===" "&&lee(this.peekToken())&&(t="Quantity",this.consumeToken()),this.buildToken(t,this.str.substring(e,this.pos.index)))}consumeSymbol(){let e=this.consumeWhile(()=>this.symbolRegex.exec(this.curr()));return this.prevToken()?.value!=="."&&this.keywords.includes(e)?this.buildToken(e,e):this.buildToken("Symbol",e)}consumeOperator(){let e=this.curr(),t=this.peek(),n=e+t;return this.operators.includes(n)?(this.advance(),this.advance(),this.buildToken(n,n)):(this.advance(),this.buildToken(e,e))}consumeWhile(e){let t=this.pos.index;for(;this.pos.index<this.str.length&&e();)this.advance();return this.str.substring(t,this.pos.index)}curr(){return this.str[this.pos.index]}peek(){return this.str[this.pos.index+1]??""}mark(){this.markStack.push({...this.pos})}reset(){let e=this.markStack.pop();if(!e)throw new Error("No mark to reset to");this.pos.index=e.index,this.pos.line=e.line,this.pos.column=e.column}advance(){this.pos.index++,this.curr()===`
`?(this.pos.line++,this.pos.column=0):this.pos.column++}buildToken(e,t){let n=this.markStack.pop();if(!n)throw new Error("No mark for token");return{id:e,value:t,...n}}};function lee(e){return!!(e&&(e.id==="String"||e.id==="Symbol"&&iee.includes(e.value)))}var cee=["true","false"],yR=["!=","!~","<=",">=","{}","->"];function uee(e){return new see(e,cee,yR).tokenize()}var Zt={FunctionCall:0,Dot:1,Indexer:2,UnaryAdd:3,UnarySubtract:3,Multiply:4,Divide:4,Modulo:4,Add:5,Subtract:5,Ampersand:5,Is:6,As:6,Union:7,GreaterThan:8,GreaterThanOrEquals:8,LessThan:8,LessThanOrEquals:8,Equals:9,Equivalent:9,NotEquals:9,NotEquivalent:9,In:10,Contains:10,And:11,Xor:12,Or:12,Implies:13,Arrow:100,Semicolon:200},dee={parse(e){let t=e.consumeAndParse();if(!e.match(")"))throw new Error("Parse error: expected `)` got `"+e.peek()?.value+"`");return t}},fee={parse(e,t){let n=e.consumeAndParse();if(!e.match("]"))throw new Error("Parse error: expected `]`");return new vR(t,n)},precedence:Zt.Indexer},hee={parse(e,t){if(!(t instanceof sh))throw new Error("Unexpected parentheses");let n=[];for(;!e.match(")");)n.push(e.consumeAndParse()),e.match(",");return new gR(t.name,n)},precedence:Zt.FunctionCall};function pee(e){let t=e.split(" "),n=Number.parseFloat(t[0]),r=t[1];return r?.startsWith("'")&&r.endsWith("'")?r=r.substring(1,r.length-1):r="{"+r+"}",{value:n,unit:r}}function bR(){return new DZ().registerPrefix("String",{parse:(e,t)=>new ku({type:de.string,value:t.value})}).registerPrefix("DateTime",{parse:(e,t)=>new ku({type:de.dateTime,value:dg(t.value)})}).registerPrefix("Quantity",{parse:(e,t)=>new ku({type:de.Quantity,value:pee(t.value)})}).registerPrefix("Number",{parse:(e,t)=>new ku({type:t.value.includes(".")?de.decimal:de.integer,value:Number.parseFloat(t.value)})}).registerPrefix("true",{parse:()=>new ku({type:de.boolean,value:!0})}).registerPrefix("false",{parse:()=>new ku({type:de.boolean,value:!1})}).registerPrefix("Symbol",{parse:(e,t)=>new sh(t.value)}).registerPrefix("{}",{parse:()=>new WJ}).registerPrefix("(",dee).registerInfix("[",fee).registerInfix("(",hee).prefix("+",Zt.UnaryAdd,(e,t)=>new GJ("+",t,n=>n)).prefix("-",Zt.UnarySubtract,(e,t)=>new ki("-",t,t,(n,r)=>-r)).infixLeft(".",Zt.Dot,(e,t,n)=>new hy(e,n)).infixLeft("/",Zt.Divide,(e,t,n)=>new ki("/",e,n,(r,a)=>r/a)).infixLeft("*",Zt.Multiply,(e,t,n)=>new ki("*",e,n,(r,a)=>r*a)).infixLeft("+",Zt.Add,(e,t,n)=>new ki("+",e,n,(r,a)=>r+a)).infixLeft("-",Zt.Subtract,(e,t,n)=>new ki("-",e,n,(r,a)=>r-a)).infixLeft("|",Zt.Union,(e,t,n)=>new pR(e,n)).infixLeft("=",Zt.Equals,(e,t,n)=>new XJ(e,n)).infixLeft("!=",Zt.NotEquals,(e,t,n)=>new ZJ(e,n)).infixLeft("~",Zt.Equivalent,(e,t,n)=>new JJ(e,n)).infixLeft("!~",Zt.NotEquivalent,(e,t,n)=>new eee(e,n)).infixLeft("<",Zt.LessThan,(e,t,n)=>new ki("<",e,n,(r,a)=>r<a)).infixLeft("<=",Zt.LessThanOrEquals,(e,t,n)=>new ki("<=",e,n,(r,a)=>r<=a)).infixLeft(">",Zt.GreaterThan,(e,t,n)=>new ki(">",e,n,(r,a)=>r>a)).infixLeft(">=",Zt.GreaterThanOrEquals,(e,t,n)=>new ki(">=",e,n,(r,a)=>r>=a)).infixLeft("&",Zt.Ampersand,(e,t,n)=>new YJ(e,n)).infixLeft("and",Zt.And,(e,t,n)=>new tee(e,n)).infixLeft("as",Zt.As,(e,t,n)=>new Vg(e,n)).infixLeft("contains",Zt.Contains,(e,t,n)=>new QJ(e,n)).infixLeft("div",Zt.Divide,(e,t,n)=>new ki("div",e,n,(r,a)=>Math.trunc(r/a))).infixLeft("in",Zt.In,(e,t,n)=>new KJ(e,n)).infixLeft("is",Zt.Is,(e,t,n)=>new mR(e,n)).infixLeft("mod",Zt.Modulo,(e,t,n)=>new ki("mod",e,n,(r,a)=>r%a)).infixLeft("or",Zt.Or,(e,t,n)=>new nee(e,n)).infixLeft("xor",Zt.Xor,(e,t,n)=>new ree(e,n)).infixLeft("implies",Zt.Implies,(e,t,n)=>new aee(e,n))}var mee=bR();function xR(e){return new hR(e,mee.construct(uee(e)).consumeAndParse())}function gee(e,t){let n=Array.isArray(t)?t:[t];for(let r=0;r<n.length;r++){let a=n[r];typeof a=="object"&&"type"in a&&"value"in a||(n[r]=qa(n[r]))}return nl(e,n).map(r=>r.value)}function nl(e,t,n={},r=void 0){let a;if(typeof e=="string"){let i=r?.get(e);a=i??xR(e),r&&!i&&r.set(e,a)}else a=e;return a.eval({variables:n},t).map(i=>{let l={type:i.type,value:i.value?.valueOf()};return"path"in i&&(l.path=i.path),l})}function vee(e){let t=[];for(let n of e){let r=G6(n.value);r&&t.push(r)}return t}function yee(e){let t=new Set;for(let n of e){let r=uc(n);r&&t.add(r)}return Array.from(t)}function bee(e){let t=new Set;for(let n of e){let{value:r}=n;r&&(ez(r)?t.add(r):Ia(r)?t.add(r.reference):Q6(r)?t.add(Oe(r)):typeof r.identifier=="object"&&t.add(`identifier:${r.identifier.system}|${r.identifier.value}`))}return Array.from(t)}function xee(e,t={}){let n=[];for(let r of e)See(t,n,r);return n}function See(e,t,n){let{type:r,value:a}=n;switch(r){case de.Identifier:wee(t,e,a);break;case de.CodeableConcept:Cee(t,e,a);break;case de.Coding:uz(t,e,a);break;case de.ContactPoint:jee(t,e,a);break;default:hc(t,e,void 0,a?.toString())}}function wee(e,t,n){n?.type?.text&&hc(e,t,t.textSearchSystem,n.type.text),hc(e,t,n?.system,n?.value)}function Cee(e,t,n){if(n?.text&&hc(e,t,t.textSearchSystem,n.text),n?.coding)for(let r of n.coding)uz(e,t,r)}function uz(e,t,n){n&&(n.display&&hc(e,t,t.textSearchSystem,n.display),hc(e,t,n.system,n.code))}function jee(e,t,n){n&&hc(e,t,n.system,n.value?.toLocaleLowerCase())}function hc(e,t,n,r){(n||r)&&!e.some(a=>a.system===n&&a.value===r)&&e.push({system:n,value:r&&t.caseInsensitive?r.toLocaleLowerCase():r})}var Gh=20,Ce={EQUALS:"eq",NOT_EQUALS:"ne",GREATER_THAN:"gt",LESS_THAN:"lt",GREATER_THAN_OR_EQUALS:"ge",LESS_THAN_OR_EQUALS:"le",STARTS_AFTER:"sa",ENDS_BEFORE:"eb",APPROXIMATELY:"ap",CONTAINS:"contains",STARTS_WITH:"sw",EXACT:"exact",TEXT:"text",NOT:"not",ABOVE:"above",BELOW:"below",IN:"in",NOT_IN:"not-in",OF_TYPE:"of-type",MISSING:"missing",PRESENT:"present",IDENTIFIER:"identifier",ITERATE:"iterate"},dz={contains:Ce.CONTAINS,exact:Ce.EXACT,above:Ce.ABOVE,below:Ce.BELOW,text:Ce.TEXT,not:Ce.NOT,in:Ce.IN,"not-in":Ce.NOT_IN,"of-type":Ce.OF_TYPE,missing:Ce.MISSING,identifier:Ce.IDENTIFIER,iterate:Ce.ITERATE},SR={eq:Ce.EQUALS,ne:Ce.NOT_EQUALS,lt:Ce.LESS_THAN,le:Ce.LESS_THAN_OR_EQUALS,gt:Ce.GREATER_THAN,ge:Ce.GREATER_THAN_OR_EQUALS,sa:Ce.STARTS_AFTER,eb:Ce.ENDS_BEFORE,ap:Ce.APPROXIMATELY,sw:Ce.STARTS_WITH};function wR(e,t){if(!e)throw new Error("Invalid search URL");let n="",r;if(typeof e=="string")if(e.includes("?")){let[l,u]=e.split("?");n=l,r=new URLSearchParams(u)}else n=e;else typeof e=="object"&&(n=e.pathname,r=e.searchParams);let a;n.includes("/")?a=n.split("/").filter(Boolean).pop():a=n;let i=[];return r&&i.push(...r.entries()),Eee(a,i)}function Eee(e,t){let n={resourceType:e};for(let[r,a]of t)Tee(n,r,a);return n}function Tee(e,t,n){let r,a,i=t.indexOf(":");if(i>=0?(r=t.substring(0,i),a=t.substring(i+1)):(r=t,a=""),r!=="_"){if(r==="_has"||t.includes(".")){e.filters=_f(e.filters,{code:t,operator:Ce.EQUALS,value:n});return}switch(r){case"_sort":Ree(e,n);break;case"_cursor":e.cursor=n;break;case"_count":e.count=Number.parseInt(n,10);break;case"_offset":e.offset=Number.parseInt(n,10);break;case"_total":e.total=n;break;case"_summary":n==="count"?(e.total="accurate",e.count=0):(n==="true"||n==="data"||n==="text")&&(e.summary=n);break;case"_include":{let l=xM(n);a==="iterate"&&(l.modifier=Ce.ITERATE),e.include=_f(e.include,l);break}case"_revinclude":{let l=xM(n);a==="iterate"&&(l.modifier=Ce.ITERATE),e.revInclude=_f(e.revInclude,l);break}case"_fields":case"_elements":e.fields=n.split(",");break;case"_type":e.types=n.split(",");break;case"_format":e.format=n;break;case"_pretty":e.pretty=n==="true";break;default:{let l=yo.types[e.resourceType]?.searchParams?.[r];l?e.filters=_f(e.filters,Dee(l,a,n)):e.filters=_f(e.filters,Aee(r,a,n))}}}}function Ree(e,t){for(let n of t.split(",")){let r,a=!1;n.startsWith("-")?(r=n.substring(1),a=!0):r=n,e.sortRules||(e.sortRules=[]),e.sortRules.push({code:r,descending:a})}}var _ee=[Ce.MISSING,Ce.PRESENT];function Dee(e,t,n){if(_ee.includes(t))return{code:e.code,operator:t,value:n};switch(e.type){case"number":case"date":case"quantity":{let{operator:r,value:a}=Oee(n,t||Ce.EQUALS);if(!SM(e,a))throw new gt(Ko(`Invalid format for ${e.type} search parameter: ${a}`));return{code:e.code,operator:r,value:a}}case"reference":case"string":case"token":case"uri":if(!SM(e,n))throw new gt(Ko(`Invalid format for ${e.type} search parameter: ${n}`));return{code:e.code,operator:kee(t),value:n};default:throw new Error("Unrecognized search parameter type: "+e.type)}}function Aee(e,t,n){let r=Ce.EQUALS;if(t)r=t;else if(n.length>=2){let a=n.substring(0,2);a in SR&&(n.length===2||n.at(2)?.match(/\d/))&&(r=a,n=n.substring(a.length))}return{code:e,operator:r,value:n}}function Oee(e,t){let n=e.substring(0,2),r=SR[n];return r?{operator:r,value:e.substring(2)}:{operator:t,value:e}}function kee(e){return dz[e]??Ce.EQUALS}function xM(e){let t=e.split(":");if(t.includes("*"))throw new gt(Ko("'*' is not supported as a value for search inclusion parameters"));if(t.length===1)throw new gt(Ko(`Invalid include value '${e}': must be of the form ResourceType:search-parameter`));if(t.length===2)return{resourceType:t[0],searchParam:t[1]};if(t.length===3)return{resourceType:t[0],searchParam:t[1],targetType:t[2]};throw new gt(Ko(`Invalid include value '${e}'`))}function SM(e,t){switch(e.type){case"date":return oh(t);default:return!0}}function Qs(e){let t=[];return e.fields&&t.push("_fields="+e.fields.join(",")),e.filters&&e.filters.forEach(n=>t.push(Mee(n))),e.sortRules&&e.sortRules.length>0&&t.push(Pee(e.sortRules)),e.cursor!==void 0&&t.push("_cursor="+encodeURIComponent(e.cursor)),e.offset!==void 0&&e.offset!==0&&t.push("_offset="+e.offset),e.count!==void 0&&t.push("_count="+e.count),e.total!==void 0&&t.push("_total="+e.total),e.types&&e.types.length>0&&t.push("_type="+e.types.join(",")),e.include&&e.include.forEach(n=>t.push(wM("_include",n))),e.revInclude&&e.revInclude.forEach(n=>t.push(wM("_revinclude",n))),t.length===0?"":(uR(t),"?"+t.join("&"))}function Mee(e){let t=e.operator in dz?":"+e.operator:"",n=e.operator!==Ce.EQUALS&&e.operator in SR?e.operator:"";return`${e.code}${t}=${n}${encodeURIComponent(e.value)}`}function Pee(e){return"_sort="+e.map(t=>t.descending?"-"+t.code:t.code).join(",")}function wM(e,t){return e+(t.modifier?":"+t.modifier:"")+"="+t.resourceType+":"+t.searchParam+(t.targetType?":"+t.targetType:"")}function py(e){let t=[],n="",r=!1;for(let a of e)r?(n+=a,r=!1):a==="\\"?r=!0:a===","?(t.push(n),n=""):n+=a;return t.push(n),t}function Nee(e,t){if(t.resourceType!==e.resourceType)return!1;if(t.filters){for(let n of t.filters)if(!Iee(e,t,n))return!1}return!0}function Iee(e,t,n){let r=yo.types[t.resourceType]?.searchParams?.[n.code];if(!r)return!1;let a=nl(r.expression,[qa(e)]);if(n.operator===Ce.MISSING||n.operator===Ce.PRESENT)return Lee(a,n);switch(r.type){case"reference":return zee(a,n);case"string":case"uri":return Uee(a,n);case"token":return $ee(a,n);case"date":return Hee(a,n);default:return!1}}function Lee(e,t){let n=e.length>0;return(t.operator===Ce.MISSING&&t.value==="false"||t.operator===Ce.PRESENT&&t.value==="true")===n}function zee(e,t){let n=my(t.operator);if(t.value===""&&e.length===0)return t.operator===Ce.EQUALS;let r=bee(e);for(let a of py(t.value)){let i=r.includes(a);if(!i&&t.code==="_compartment"&&(i=r.some(l=>l?.endsWith("/"+a))),i)return!n}return n}function $ee(e,t){let n=xee(e),r=py(t.value),a=my(t.operator);for(let i of n)for(let l of r)if(qee(i,l))return!a;return a}function qee(e,t){if(t.includes("|")){let[n,r]=t.split("|").map(a=>a.toLowerCase());return!n&&!r?!1:n?e.system?.toLowerCase()===n&&(!r||e.value?.toLowerCase()===r):!e.system&&e.value?.toLowerCase()===r}return e.value?.toLowerCase()===t.toLowerCase()}function Uee(e,t){let n=yee(e),r=py(t.value),a=my(t.operator);for(let i of n)for(let l of r)if(Bee(i,l))return!a;return a}function Bee(e,t){return e.toLowerCase().includes(t.toLowerCase())}function Hee(e,t){let n=vee(e),r=py(t.value),a=my(t.operator);for(let i of n)for(let l of r)if(Fee(i,t.operator,l))return!a;return a}function Fee(e,t,n){if(!e)return!1;let r=G6(n);if(!r)return!1;let a=e.start??"0000",i=e.end??"9999",l=r.start,u=r.end;switch(t){case Ce.APPROXIMATELY:case Ce.EQUALS:case Ce.NOT_EQUALS:return a<u&&i>l;case Ce.LESS_THAN:return a<l;case Ce.GREATER_THAN:return i>u;case Ce.LESS_THAN_OR_EQUALS:return a<=u;case Ce.GREATER_THAN_OR_EQUALS:return i>=l;case Ce.STARTS_AFTER:return a>u;case Ce.ENDS_BEFORE:return i<l;default:return!1}}function my(e){return e===Ce.NOT_EQUALS||e===Ce.NOT}var Vee={resourceType:"*"},Wee=["DomainConfiguration","JsonWebKey","Login"],Gee=["UserSecurityRequest","Project","ProjectMembership","User"],ec={READ:"read",VREAD:"vread",UPDATE:"update",HISTORY:"history",SEARCH:"search"},Yee=[ec.READ,ec.VREAD,ec.HISTORY,ec.SEARCH];function Qee(e,t){return Wee.includes(t)?!1:Kee(e,ec.UPDATE,t)}function Kee(e,t,n){return!!e.resource?.some(r=>hz(r,n,t))}function fz(e,t,n){return n?n.resource?.find(r=>Xee(e,t,r)):Vee}function Xee(e,t,n){let r=e.resourceType;return hz(n,r,t)?r==="Binary"?!0:!(n.compartment&&!e.meta?.compartment?.some(a=>a.reference===n.compartment?.reference)||n.criteria&&!Nee(e,wR(n.criteria))):!1}function hz(e,t,n){return e.resourceType!==t&&(e.resourceType!=="*"||Gee.includes(t))?!1:e.interaction?e.interaction.includes(n):!e.readonly||Yee.includes(n)}function oo(){return typeof window<"u"}function pz(){return typeof Buffer<"u"?Buffer:void 0}var pr={assign(e){oo()&&globalThis.location.assign(e)},reload(){oo()&&globalThis.location.reload()},getSearch(){return oo()?globalThis.location.search:""},getPathname(){return oo()?globalThis.location.pathname:""},getLocation(){return oo()?globalThis.location.toString():""},getOrigin(){return oo()?globalThis.location.protocol+"//"+globalThis.location.host+"/":""}};function Zee(e){if(oo()){let n=window.atob(e),r=Uint8Array.from(n,a=>a.codePointAt(0));return new window.TextDecoder().decode(r)}let t=pz();if(t)return t.from(e,"base64").toString("utf-8");throw new Error("Unable to decode base64")}function CM(e){if(oo()){let n=new window.TextEncoder().encode(e),r=String.fromCodePoint.apply(null,n);return window.btoa(r)}let t=pz();if(t)return t.from(e,"utf8").toString("base64");throw new Error("Unable to encode base64")}function Jee(e){e=e.padEnd(e.length+(4-e.length%4)%4,"=");let t=e.replaceAll("-","+").replaceAll("_","/");return Zee(t)}function jM(){let e=new Uint32Array(28);return crypto.getRandomValues(e),wJ(e.buffer)}async function ete(e){return crypto.subtle.digest("SHA-256",new TextEncoder().encode(e))}function mz(){return typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replaceAll(/[xy]/g,e=>{let t=Math.trunc(Math.random()*16);return(e==="x"?t:t&3|8).toString(16)})}var Dn={FHIR_JSON:"application/fhir+json",FORM_URL_ENCODED:"application/x-www-form-urlencoded",JSON:"application/json",JSON_PATCH:"application/json-patch+json",TEXT:"text/plain",XML:"text/xml",CDA_XML:"application/cda+xml"},tte=class{constructor(){ve(this,"listeners"),this.listeners={}}addEventListener(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}removeEventListener(e,t){let n=this.listeners[e];if(n){for(let r=0;r<n.length;r++)if(n[r]===t){n.splice(r,1);return}}}dispatchEvent(e){let t=this.listeners[e.type];if(t)for(let n of t)n.call(this,e);return!e.defaultPrevented}removeAllListeners(){this.listeners={}}listenerCount(e){return this.listeners[e]?.length??0}},gy=class{constructor(){ve(this,"emitter",new tte)}dispatchEvent(e){this.emitter.dispatchEvent(e)}addEventListener(e,t){this.emitter.addEventListener(e,t)}removeEventListener(e,t){this.emitter.removeEventListener(e,t)}removeAllListeners(){this.emitter.removeAllListeners()}listenerCount(e){return this.emitter.listenerCount(e)}},wj={"Patient-open":"Patient-open","Patient-close":"Patient-close","ImagingStudy-open":"ImagingStudy-open","ImagingStudy-close":"ImagingStudy-close","Encounter-open":"Encounter-open","Encounter-close":"Encounter-close","DiagnosticReport-open":"DiagnosticReport-open","DiagnosticReport-close":"DiagnosticReport-close","DiagnosticReport-select":"DiagnosticReport-select","DiagnosticReport-update":"DiagnosticReport-update",syncerror:"syncerror"},nte=["Patient","Encounter","ImagingStudy","DiagnosticReport","OperationOutcome","Bundle"],CR=["DiagnosticReport-update"];function rte(e){return CR.includes(e)}function ate(e){if(CR.includes(e))throw new gt(xn(`'context.version' is required for '${e}'.`))}var ite={"Patient-open":{patient:{resourceType:"Patient"},encounter:{resourceType:"Encounter",optional:!0}},"Patient-close":{patient:{resourceType:"Patient"},encounter:{resourceType:"Encounter",optional:!0}},"ImagingStudy-open":{study:{resourceType:"ImagingStudy"},encounter:{resourceType:"Encounter",optional:!0},patient:{resourceType:"Patient",optional:!0}},"ImagingStudy-close":{study:{resourceType:"ImagingStudy"},encounter:{resourceType:"Encounter",optional:!0},patient:{resourceType:"Patient",optional:!0}},"Encounter-open":{encounter:{resourceType:"Encounter"},patient:{resourceType:"Patient"}},"Encounter-close":{encounter:{resourceType:"Encounter"},patient:{resourceType:"Patient"}},"DiagnosticReport-open":{report:{resourceType:"DiagnosticReport"},encounter:{resourceType:"Encounter",optional:!0},study:{resourceType:"ImagingStudy",optional:!0,manyAllowed:!0},patient:{resourceType:"Patient"}},"DiagnosticReport-close":{report:{resourceType:"DiagnosticReport"},encounter:{resourceType:"Encounter",optional:!0},study:{resourceType:"ImagingStudy",optional:!0,manyAllowed:!0},patient:{resourceType:"Patient"}},"DiagnosticReport-select":{report:{resourceType:"DiagnosticReport",reference:!0},patient:{resourceType:"Patient",optional:!0,reference:!0},select:{resourceType:"*",reference:!0,manyAllowed:!0}},"DiagnosticReport-update":{report:{resourceType:"DiagnosticReport",reference:!0},patient:{resourceType:"Patient",optional:!0,reference:!0},updates:{resourceType:"Bundle"}},syncerror:{operationoutcome:{resourceType:"OperationOutcome"}}};function ote(e){return nte.includes(e)}function gz(e){return!!e.endpoint}function EM(e){if(!jR(e))throw new gt(xn("subscriptionRequest must be an object conforming to SubscriptionRequest type."));let{channelType:t,mode:n,topic:r,events:a}=e,i={"hub.channel.type":t,"hub.mode":n,"hub.topic":r,"hub.events":a.join(",")};return gz(e)&&(i.endpoint=e.endpoint),new URLSearchParams(i).toString()}function jR(e){if(typeof e!="object")return!1;let{channelType:t,mode:n,topic:r,events:a}=e;if(!(t&&n&&r&&a)||typeof r!="string"||typeof a!="object"||!Array.isArray(a)||a.length<1||t!=="websocket"||n!=="subscribe"&&n!=="unsubscribe")return!1;for(let i of a)if(!wj[i])return!1;return!(gz(e)&&!(typeof e.endpoint=="string"&&e.endpoint.startsWith("ws")))}function ste(e,t,n,r){if(typeof t!="object")throw new gt(xn(`context[${n}] is invalid. Context must contain a single valid FHIR resource! Resource is not an object.`));if(!(t.id&&typeof t.id=="string"))throw new gt(xn(`context[${n}] is invalid. Resource must contain a valid string ID.`));if(!t.resourceType)throw new gt(xn(`context[${n}] is invalid. Resource must contain a resource type. No resource type found.`));let a=r.resourceType;if(a!=="*"){if(!ote(t.resourceType))throw new gt(xn(`context[${n}] is invalid. Resource must contain a valid FHIRcast resource type. Resource type is not a known resource type.`));if(a&&t.resourceType!==a)throw new gt(xn(`context[${n}] is invalid. context[${n}] for the '${e}' event should contain resource of type ${a}.`))}}function lte(e,t,n,r,a){if(a.set(t.key,(a.get(t.key)??0)+1),r.reference){if(!Ia(t.reference))throw new gt(xn(`context[${n}] is invalid. Expected key '${t.key}' to be a reference.`))}else ste(e,t.resource,n,r)}function cte(e,t){let n=new Map,r=ite[e];for(let a=0;a<t.length;a++){let i=t[a].key;if(!r[i])throw new gt(xn(`Key '${i}' not found for event '${e}'. Make sure to add only valid keys.`));lte(e,t[a],a,r[i],n)}for(let[a,i]of Object.entries(r)){if(!(i.optional||n.has(a)))throw new gt(xn(`Missing required key '${a}' on context for '${e}' event.`));if(!i.manyAllowed&&(n.get(a)??0)>1)throw new gt(xn(`${n.get(a)} context entries with key '${a}' found for the '${e}' event when schema only allows for 1.`))}}function TM(e,t,n,r){if(!(e&&typeof e=="string"))throw new gt(xn("Must provide a topic."));if(!wj[t])throw new gt(xn(`Must provide a valid FHIRcast event name. Supported events: ${Object.keys(wj).join(", ")}`));if(typeof n!="object")throw new gt(xn("context must be a context object or array of context objects."));if(CR.includes(t)&&!r)throw new gt(xn(`The '${t}' event must contain a 'context.versionId'.`));let a=Array.isArray(n)?n:[n];return cte(t,a),{timestamp:new Date().toISOString(),id:mz(),event:{"hub.topic":e,"hub.event":t,context:a,...r?{"context.versionId":r}:{}}}}var ute=class extends gy{constructor(e){if(super(),ve(this,"subRequest"),ve(this,"websocket"),this.subRequest=e,!e.endpoint)throw new gt(xn("Subscription request should contain an endpoint."));if(!jR(e))throw new gt(xn("Subscription request failed validation."));let t=new WebSocket(e.endpoint);t.addEventListener("open",()=>{this.dispatchEvent({type:"connect"}),t.addEventListener("message",n=>{let r=JSON.parse(n.data);if(r["hub.topic"])return;let a=r;a.event["hub.event"]!=="heartbeat"&&(this.dispatchEvent({type:"message",payload:a}),t.send(JSON.stringify({id:r?.id,timestamp:new Date().toISOString()})))}),t.addEventListener("close",()=>{this.dispatchEvent({type:"disconnect"})})}),this.websocket=t}disconnect(){this.websocket.close()}};function dte(e){return JSON.parse(Jee(e))}function fte(e){return e.split(".").length===3}function ER(e){let[t,n,r]=e.split(".");return dte(n)}function hte(e){try{return typeof ER(e).login_id=="string"}catch{return!1}}function pte(e){try{let t=ER(e).exp;return typeof t=="number"?t*1e3:void 0}catch{return}}var mte=class{constructor(e){ve(this,"medplum"),this.medplum=e}async get(e){return this.medplum.get(`keyvalue/v1/${e}`)}async set(e,t){await this.medplum.put(`keyvalue/v1/${e}`,t,Dn.TEXT)}async delete(e){await this.medplum.delete(`keyvalue/v1/${e}`)}},vz;vz=Symbol.toStringTag;var Mi=class{constructor(e){ve(this,vz,"ReadablePromise"),ve(this,"suspender"),ve(this,"status","pending"),ve(this,"response"),ve(this,"error"),this.suspender=e.then(t=>(this.status="success",this.response=t,t),t=>{throw this.status="error",this.error=t,t})}isPending(){return this.status==="pending"}isOk(){return this.status==="success"}read(){switch(this.status){case"pending":throw this.suspender;case"error":throw this.error;default:return this.response}}then(e,t){return this.suspender.then(e,t)}catch(e){return this.suspender.catch(e)}finally(e){return this.suspender.finally(e)}},gte=class{constructor(e,t=""){ve(this,"storage"),ve(this,"prefix",""),this.storage=e??globalThis.localStorage??new vte,this.prefix=t}makeKey(e){return this.prefix+e}clear(){this.storage===globalThis.localStorage&&this.prefix?Object.keys(this.storage).filter(e=>e.startsWith(this.prefix)).forEach(e=>{this.storage.removeItem(e)}):this.storage.clear()}getString(e){return this.storage.getItem(this.makeKey(e))??void 0}setString(e,t){t?this.storage.setItem(this.makeKey(e),t):this.storage.removeItem(this.makeKey(e))}getObject(e){let t=this.getString(e);return t?JSON.parse(t):void 0}setObject(e,t){this.setString(e,t?ad(t):void 0)}},vte=class{constructor(){ve(this,"data"),this.data=new Map}get length(){return this.data.size}clear(){this.data.clear()}getItem(e){return this.data.get(e)??null}setItem(e,t){t?this.data.set(e,t):this.data.delete(e)}removeItem(e){this.data.delete(e)}key(e){return Array.from(this.data.keys())[e]}},Gu={Event:typeof globalThis.Event<"u"?globalThis.Event:void 0,ErrorEvent:void 0,CloseEvent:void 0},RM=!1;function yte(){if(typeof globalThis.Event>"u")throw new Error("Unable to lazy init events for ReconnectingWebSocket. globalThis.Event is not defined yet");Gu.Event=globalThis.Event,Gu.ErrorEvent=class extends Event{constructor(e,t){super("error",t),ve(this,"message"),ve(this,"error"),this.message=e.message,this.error=e}},Gu.CloseEvent=class extends Event{constructor(e=1e3,t="",n){super("close",n),ve(this,"code"),ve(this,"reason"),ve(this,"wasClean",!0),this.code=e,this.reason=t}}}function bte(e,t){if(!e)throw new Error(t)}function zm(e){return new e.constructor(e.type,e)}var $l={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0},_M=!1,xte=class Vl extends gy{constructor(t,n,r={}){RM||(yte(),RM=!0),super(),ve(this,"_ws"),ve(this,"_retryCount",-1),ve(this,"_uptimeTimeout"),ve(this,"_connectTimeout"),ve(this,"_shouldReconnect",!0),ve(this,"_connectLock",!1),ve(this,"_binaryType"),ve(this,"_closeCalled",!1),ve(this,"_messageQueue",[]),ve(this,"_debugLogger",console.log.bind(console)),ve(this,"_url"),ve(this,"_protocols"),ve(this,"_options"),ve(this,"onclose",null),ve(this,"onerror",null),ve(this,"onmessage",null),ve(this,"onopen",null),ve(this,"_handleOpen",a=>{this._debug("open event");let{minUptime:i=$l.minUptime}=this._options;clearTimeout(this._connectTimeout),this._uptimeTimeout=setTimeout(()=>this._acceptOpen(),i),bte(this._ws,"WebSocket is not defined"),this._ws.binaryType=this._binaryType,this._messageQueue.forEach(l=>this._ws?.send(l)),this._messageQueue=[],this.onopen&&this.onopen(a),this.dispatchEvent(zm(a))}),ve(this,"_handleMessage",a=>{this._debug("message event"),this.onmessage&&this.onmessage(a),this.dispatchEvent(zm(a))}),ve(this,"_handleError",a=>{this._debug("error event",a.message),this._disconnect(void 0,a.message==="TIMEOUT"?"timeout":void 0),this.onerror&&this.onerror(a),this._debug("exec error listeners"),this.dispatchEvent(zm(a)),this._connect()}),ve(this,"_handleClose",a=>{this._debug("close event"),this._clearTimeouts(),this._shouldReconnect&&this._connect(),this.onclose&&this.onclose(a),this.dispatchEvent(zm(a))}),this._url=t,this._protocols=n,this._options=r,this._options.startClosed&&(this._shouldReconnect=!1),this._options.binaryType?this._binaryType=this._options.binaryType:this._binaryType="blob",this._options.debugLogger&&(this._debugLogger=this._options.debugLogger),this._connect()}static get CONNECTING(){return 0}static get OPEN(){return 1}static get CLOSING(){return 2}static get CLOSED(){return 3}get CONNECTING(){return Vl.CONNECTING}get OPEN(){return Vl.OPEN}get CLOSING(){return Vl.CLOSING}get CLOSED(){return Vl.CLOSED}get binaryType(){return this._ws?this._ws.binaryType:this._binaryType}set binaryType(t){this._binaryType=t,this._ws&&(this._ws.binaryType=t)}get retryCount(){return Math.max(this._retryCount,0)}get bufferedAmount(){return this._messageQueue.reduce((t,n)=>(typeof n=="string"?t+=n.length:n instanceof Blob?t+=n.size:t+=n.byteLength,t),0)+(this._ws?.bufferedAmount??0)}get extensions(){return this._ws?.extensions??""}get protocol(){return this._ws?.protocol??""}get readyState(){return this._ws?this._ws.readyState:this._options.startClosed?Vl.CLOSED:Vl.CONNECTING}get url(){return this._ws?this._ws.url:""}get shouldReconnect(){return this._shouldReconnect}close(t=1e3,n){if(this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(t,n)}reconnect(t,n){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(t,n),this._connect())}send(t){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",t),this._ws.send(t);else{let{maxEnqueuedMessages:n=$l.maxEnqueuedMessages}=this._options;this._messageQueue.length<n&&(this._debug("enqueue",t),this._messageQueue.push(t))}}_debug(...t){this._options.debug&&this._debugLogger("RWS>",...t)}_getNextDelay(){let{reconnectionDelayGrowFactor:t=$l.reconnectionDelayGrowFactor,minReconnectionDelay:n=$l.minReconnectionDelay,maxReconnectionDelay:r=$l.maxReconnectionDelay}=this._options,a=0;return this._retryCount>0&&(a=n*Math.pow(t,this._retryCount-1),a>r&&(a=r)),this._debug("next delay",a),a}_wait(){return new Promise(t=>{setTimeout(t,this._getNextDelay())})}_connect(){if(this._connectLock||!this._shouldReconnect)return;this._connectLock=!0;let{maxRetries:t=$l.maxRetries,connectionTimeout:n=$l.connectionTimeout}=this._options;if(this._retryCount>=t){this._debug("max retries reached",this._retryCount,">=",t);return}this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),this._wait().then(()=>{if(this._closeCalled){this._connectLock=!1;return}!this._options.WebSocket&&typeof WebSocket>"u"&&!_M&&(console.error("â€¼ï¸ No WebSocket implementation available. You should define options.WebSocket."),_M=!0);let r=this._options.WebSocket||WebSocket;this._debug("connect",{url:this._url,protocols:this._protocols}),this._ws=this._protocols?new r(this._url,this._protocols):new r(this._url),this._ws.binaryType=this._binaryType,this._connectLock=!1,this._addListeners(),this._connectTimeout=setTimeout(()=>this._handleTimeout(),n)}).catch(r=>{this._connectLock=!1,this._handleError(new Gu.ErrorEvent(Error(r.message),this))})}_handleTimeout(){this._debug("timeout event"),this._handleError(new Gu.ErrorEvent(Error("TIMEOUT"),this))}_disconnect(t=1e3,n){if(this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.close(t,n),this._handleClose(new Gu.CloseEvent(t,n,this))}catch{}}}_acceptOpen(){this._debug("accept open"),this._retryCount=0}_removeListeners(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))}_addListeners(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))}_clearTimeouts(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)}},Ste=5e3,Cj=class extends gy{constructor(...e){super(),ve(this,"criteria"),this.criteria=new Set(e)}getCriteria(){return this.criteria}_addCriteria(e){this.criteria.add(e)}_removeCriteria(e){this.criteria.delete(e)}},wte=class{constructor(t,n){ve(this,"criteria"),ve(this,"emitter"),ve(this,"refCount"),ve(this,"subscriptionProps"),ve(this,"subscriptionId"),ve(this,"token"),ve(this,"connecting",!1),this.criteria=t,this.emitter=new Cj(t),this.refCount=1,this.subscriptionProps=n?{...n}:void 0}clearAttachedSubscription(){this.subscriptionId=void 0,this.token=void 0}},Cte=class{constructor(e,t,n){if(ve(this,"medplum"),ve(this,"ws"),ve(this,"masterSubEmitter"),ve(this,"criteriaEntries"),ve(this,"criteriaEntriesBySubscriptionId"),ve(this,"wsClosed"),ve(this,"pingTimer"),ve(this,"pingIntervalMs"),ve(this,"waitingForPong",!1),ve(this,"currentProfile"),!(e instanceof yz))throw new gt(xn("First arg of constructor should be a `MedplumClient`"));let r;try{r=new URL(t).toString()}catch{throw new gt(xn("Not a valid URL"))}let a=n?.ReconnectingWebSocket?new n.ReconnectingWebSocket(r,void 0,{debug:n?.debug,debugLogger:n?.debugLogger}):new xte(r,void 0,{debug:n?.debug,debugLogger:n?.debugLogger});this.medplum=e,this.ws=a,this.masterSubEmitter=new Cj,this.criteriaEntries=new Map,this.criteriaEntriesBySubscriptionId=new Map,this.wsClosed=!1,this.pingIntervalMs=n?.pingIntervalMs??Ste,this.currentProfile=e.getProfile(),this.setupListeners()}setupListeners(){let e=this.ws;e.addEventListener("message",t=>{try{let n=JSON.parse(t.data);if(n.type==="pong"){this.waitingForPong=!1;return}let r=n,a=r?.entry?.[0]?.resource;if(a.type==="heartbeat"){this.masterSubEmitter?.dispatchEvent({type:"heartbeat",payload:r});return}if(a.type==="handshake"){let l=rd(a.subscription),u={type:"connect",payload:{subscriptionId:l}};this.masterSubEmitter?.dispatchEvent(u);let d=this.criteriaEntriesBySubscriptionId.get(l);if(!d){console.warn("Received handshake for criteria the SubscriptionManager is not listening for yet");return}d.connecting=!1,d.emitter.dispatchEvent({...u});return}this.masterSubEmitter?.dispatchEvent({type:"message",payload:r});let i=this.criteriaEntriesBySubscriptionId.get(rd(a.subscription));if(!i){console.warn("Received notification for criteria the SubscriptionManager is not listening for");return}i.emitter.dispatchEvent({type:"message",payload:r})}catch(n){console.error(n);let r={type:"error",payload:n};this.masterSubEmitter?.dispatchEvent(r);for(let a of this.getAllCriteriaEmitters())a.dispatchEvent({...r})}}),e.addEventListener("error",()=>{let t={type:"error",payload:new gt(UZ(new Error("WebSocket error")))};this.masterSubEmitter?.dispatchEvent(t);for(let n of this.getAllCriteriaEmitters())n.dispatchEvent({...t})}),e.addEventListener("close",()=>{let t={type:"close"};this.masterSubEmitter?.dispatchEvent(t);for(let n of this.getAllCriteriaEmitters())n.dispatchEvent({...t});this.pingTimer&&(clearInterval(this.pingTimer),this.pingTimer=void 0,this.waitingForPong=!1),this.wsClosed&&(this.criteriaEntries.clear(),this.criteriaEntriesBySubscriptionId.clear(),this.masterSubEmitter?.removeAllListeners())}),e.addEventListener("open",()=>{let t={type:"open"};this.masterSubEmitter?.dispatchEvent(t);for(let n of this.getAllCriteriaEmitters())n.dispatchEvent({...t});this.refreshAllSubscriptions().catch(console.error),this.pingTimer||(this.pingTimer=setInterval(()=>{if(this.waitingForPong){this.waitingForPong=!1,e.reconnect();return}e.send(JSON.stringify({type:"ping"})),this.waitingForPong=!0},this.pingIntervalMs))}),this.medplum.addEventListener("change",()=>{let t=this.medplum.getProfile();this.currentProfile&&t===void 0?this.ws.close():t&&this.currentProfile?.id!==t.id&&this.ws.reconnect(),this.currentProfile=t})}emitError(e,t){let n={type:"error",payload:t};this.masterSubEmitter?.dispatchEvent(n),e.emitter.dispatchEvent({...n})}maybeEmitDisconnect(e){let{subscriptionId:t}=e;if(t){let n={type:"disconnect",payload:{subscriptionId:t}};this.masterSubEmitter?.dispatchEvent(n),e.emitter.dispatchEvent({...n})}else console.warn("Called disconnect for `CriteriaEntry` before `subscriptionId` was present.")}async getTokenForCriteria(e){let t=e?.subscriptionId;t||(t=(await this.medplum.createResource({...e.subscriptionProps,resourceType:"Subscription",status:"active",reason:`WebSocket subscription for ${Oe(this.medplum.getProfile())}`,channel:{type:"websocket"},criteria:e.criteria})).id);let{parameter:n}=await this.medplum.get(`fhir/R4/Subscription/${t}/$get-ws-binding-token`),r=n?.find(i=>i.name==="token")?.valueString,a=n?.find(i=>i.name==="websocket-url")?.valueUrl;if(!r)throw new gt(xn("Failed to get token"));if(!a)throw new gt(xn("Failed to get URL from $get-ws-binding-token"));return[t,r]}maybeGetCriteriaEntry(e,t){let n=this.criteriaEntries.get(e);if(n){if(!t)return n.bareCriteria;for(let r of n.criteriaWithProps)if(pi(t,r.subscriptionProps))return r}}getAllCriteriaEmitters(){let e=[];for(let t of this.criteriaEntries.values()){t.bareCriteria&&e.push(t.bareCriteria.emitter);for(let n of t.criteriaWithProps)e.push(n.emitter)}return e}addCriteriaEntry(e){let{criteria:t,subscriptionProps:n}=e,r;this.criteriaEntries.has(t)?r=this.criteriaEntries.get(t):(r={criteriaWithProps:[]},this.criteriaEntries.set(t,r)),n?r.criteriaWithProps.push(e):r.bareCriteria=e}removeCriteriaEntry(e){let{criteria:t,subscriptionProps:n,subscriptionId:r,token:a}=e;if(!this.criteriaEntries.has(t))return;let i=this.criteriaEntries.get(t);n?i.criteriaWithProps=i.criteriaWithProps.filter(l=>{let u=l.subscriptionProps;return!pi(n,u)}):i.bareCriteria=void 0,!i.bareCriteria&&i.criteriaWithProps.length===0&&(this.criteriaEntries.delete(t),this.masterSubEmitter?._removeCriteria(t)),r&&this.criteriaEntriesBySubscriptionId.delete(r),a&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify({type:"unbind-from-token",payload:{token:a}}))}async subscribeToCriteria(e){if(!(this.ws.readyState!==WebSocket.OPEN||e.connecting)){e.connecting=!0;try{let[t,n]=await this.getTokenForCriteria(e);e.subscriptionId=t,e.token=n,this.criteriaEntriesBySubscriptionId.set(t,e),this.ws.send(JSON.stringify({type:"bind-with-token",payload:{token:n}}))}catch(t){console.error(Vt(t)),this.emitError(e,t),this.removeCriteriaEntry(e)}}}async refreshAllSubscriptions(){this.criteriaEntriesBySubscriptionId.clear();for(let e of this.criteriaEntries.values())for(let t of[...e.bareCriteria?[e.bareCriteria]:[],...e.criteriaWithProps])t.clearAttachedSubscription(),await this.subscribeToCriteria(t)}addCriteria(e,t){this.masterSubEmitter&&this.masterSubEmitter._addCriteria(e);let n=this.maybeGetCriteriaEntry(e,t);if(n)return n.refCount+=1,n.emitter;let r=new wte(e,t);return this.addCriteriaEntry(r),this.subscribeToCriteria(r).catch(console.error),r.emitter}removeCriteria(e,t){let n=this.maybeGetCriteriaEntry(e,t);if(!n){console.warn("Criteria not known to `SubscriptionManager`. Possibly called remove too many times.");return}n.refCount-=1,!(n.refCount>0)&&(this.maybeEmitDisconnect(n),this.removeCriteriaEntry(n))}getWebSocket(){return this.ws}closeWebSocket(){this.wsClosed||(this.wsClosed=!0,this.ws.close())}reconnectWebSocket(){this.ws.reconnect(),this.wsClosed=!1}getCriteriaCount(){return this.getAllCriteriaEmitters().length}getMasterEmitter(){return this.masterSubEmitter||(this.masterSubEmitter=new Cj(...Array.from(this.criteriaEntries.keys()))),this.masterSubEmitter}},jte=Dn.FHIR_JSON+", */*; q=0.1",Ete="https://api.medplum.com/",Tte=1e3,Rte=6e4,_te=0,Dte=3e5,Ate="Binary/",DM={resourceType:"Device",id:"system",deviceName:[{type:"model-name",name:"System"}]},Mu={ClientCredentials:"client_credentials",AuthorizationCode:"authorization_code",RefreshToken:"refresh_token",JwtBearer:"urn:ietf:params:oauth:grant-type:jwt-bearer",TokenExchange:"urn:ietf:params:oauth:grant-type:token-exchange"},Ote={AccessToken:"urn:ietf:params:oauth:token-type:access_token"},kte={JwtBearer:"urn:ietf:params:oauth:client-assertion-type:jwt-bearer"},yz=class extends gy{constructor(e){if(super(),ve(this,"options"),ve(this,"fetch"),ve(this,"createPdfImpl"),ve(this,"storage"),ve(this,"requestCache"),ve(this,"cacheTime"),ve(this,"baseUrl"),ve(this,"fhirBaseUrl"),ve(this,"authorizeUrl"),ve(this,"tokenUrl"),ve(this,"logoutUrl"),ve(this,"fhircastHubUrl"),ve(this,"defaultHeaders"),ve(this,"onUnauthenticated"),ve(this,"autoBatchTime"),ve(this,"autoBatchQueue"),ve(this,"refreshGracePeriod"),ve(this,"subscriptionManager"),ve(this,"medplumServer"),ve(this,"clientId"),ve(this,"clientSecret"),ve(this,"credentialsInHeader"),ve(this,"autoBatchTimerId"),ve(this,"accessToken"),ve(this,"accessTokenExpires"),ve(this,"refreshToken"),ve(this,"refreshPromise"),ve(this,"profilePromise"),ve(this,"sessionDetails"),ve(this,"currentRateLimits"),ve(this,"basicAuth"),ve(this,"initPromise"),ve(this,"initComplete",!0),ve(this,"keyValueClient"),ve(this,"logLevel"),e?.baseUrl&&!e.baseUrl.startsWith("http"))throw new Error("Base URL must start with http or https");this.options=e??{},this.fetch=e?.fetch??Mte(),this.storage=e?.storage??new gte(void 0,e?.storagePrefix),this.createPdfImpl=e?.createPdf,this.baseUrl=az(e?.baseUrl??Ete),this.fhirBaseUrl=no(this.baseUrl,e?.fhirUrlPath??"fhir/R4"),this.authorizeUrl=no(this.baseUrl,e?.authorizeUrl??"oauth2/authorize"),this.tokenUrl=no(this.baseUrl,e?.tokenUrl??"oauth2/token"),this.logoutUrl=no(this.baseUrl,e?.logoutUrl??"oauth2/logout"),this.fhircastHubUrl=no(this.baseUrl,e?.fhircastHubUrl??"fhircast/STU3"),this.clientId=e?.clientId??"",this.clientSecret=e?.clientSecret??"",this.credentialsInHeader=e?.authCredentialsMethod==="header",this.defaultHeaders=e?.defaultHeaders??{},this.onUnauthenticated=e?.onUnauthenticated,this.refreshGracePeriod=e?.refreshGracePeriod??Dte,this.logLevel=this.initializeLogLevel(e),this.cacheTime=e?.cacheTime??(oo()?Rte:_te),this.cacheTime>0?this.requestCache=new tR(e?.resourceCacheSize??Tte):this.requestCache=void 0,e?.autoBatchTime?(this.autoBatchTime=e.autoBatchTime,this.autoBatchQueue=[]):(this.autoBatchTime=0,this.autoBatchQueue=void 0),e?.accessToken&&this.setAccessToken(e.accessToken),this.storage.getInitPromise===void 0?(e?.accessToken||this.attemptResumeActiveLogin().catch(console.error),this.initPromise=Promise.resolve(),this.dispatchEvent({type:"storageInitialized"})):(this.initComplete=!1,this.initPromise=this.storage.getInitPromise(),this.initPromise.then(()=>{e?.accessToken||this.attemptResumeActiveLogin().catch(console.error),this.initComplete=!0,this.dispatchEvent({type:"storageInitialized"})}).catch(t=>{console.error(t),this.initComplete=!0,this.dispatchEvent({type:"storageInitFailed",payload:{error:t}})})),this.setupStorageListener()}get isInitialized(){return this.initComplete}getInitPromise(){return this.initPromise}initializeLogLevel(e){return e?.logLevel?e.logLevel:e?.verbose!==void 0&&e.verbose?"verbose":"none"}async attemptResumeActiveLogin(){let e=this.getActiveLogin();e&&(this.setAccessToken(e.accessToken,e.refreshToken),await this.refreshProfile())}getBaseUrl(){return this.baseUrl}getAuthorizeUrl(){return this.authorizeUrl}getTokenUrl(){return this.tokenUrl}getLogoutUrl(){return this.logoutUrl}getFhircastHubUrl(){return this.fhircastHubUrl}getDefaultHeaders(){return this.defaultHeaders}clear(){this.storage.clear(),oo()&&sessionStorage.clear(),this.clearActiveLogin()}clearActiveLogin(){this.storage.setString("activeLogin",void 0),this.requestCache?.clear(),this.accessToken=void 0,this.refreshToken=void 0,this.refreshPromise=void 0,this.accessTokenExpires=void 0,this.sessionDetails=void 0,this.medplumServer=void 0,this.dispatchEvent({type:"change"})}invalidateUrl(e){e=e.toString(),this.requestCache?.delete(e)}invalidateAll(){this.requestCache?.clear()}invalidateSearches(e){let t=no(this.fhirBaseUrl,e);if(this.requestCache)for(let n of this.requestCache.keys())(n.endsWith(t)||n.includes(t+"?"))&&this.requestCache.delete(n)}get(e,t={}){e=e.toString();let n=this.getCacheEntry(e,t);if(n)return n.value;let r;e.startsWith(this.fhirBaseUrl)&&this.autoBatchQueue&&!t.disableAutoBatch?r=new Promise((i,l)=>{this.autoBatchQueue.push({method:"GET",url:e.replace(this.fhirBaseUrl,""),options:t,resolve:i,reject:l}),this.autoBatchTimerId||(this.autoBatchTimerId=setTimeout(()=>this.executeAutoBatch(),this.autoBatchTime))}):r=this.request("GET",e,t);let a=new Mi(r);return this.setCacheEntry(e,a),a}post(e,t,n,r={}){return e=e.toString(),this.setRequestBody(r,t),n&&this.setRequestContentType(r,n),this.invalidateUrl(e),this.request("POST",e,r)}put(e,t,n,r={}){return e=e.toString(),this.setRequestBody(r,t),n&&this.setRequestContentType(r,n),this.invalidateUrl(e),this.request("PUT",e,r)}patch(e,t,n={}){return e=e.toString(),this.setRequestBody(n,t),this.setRequestContentType(n,Dn.JSON_PATCH),this.invalidateUrl(e),this.request("PATCH",e,n)}delete(e,t){return e=e.toString(),this.invalidateUrl(e),this.request("DELETE",e,t)}async startNewUser(e,t){let{codeChallengeMethod:n,codeChallenge:r}=await this.startPkce();return this.post("auth/newuser",{...e,clientId:e.clientId??this.clientId,codeChallengeMethod:n,codeChallenge:r},void 0,t)}async startNewProject(e,t){return this.post("auth/newproject",e,void 0,t)}async startNewPatient(e,t){return this.post("auth/newpatient",e,void 0,t)}async startLogin(e,t){return this.post("auth/login",{...await this.ensureCodeChallenge(e),clientId:e.clientId??this.clientId,scope:e.scope},void 0,t)}async startGoogleLogin(e,t){return this.post("auth/google",{...await this.ensureCodeChallenge(e),clientId:e.clientId??this.clientId,scope:e.scope},void 0,t)}async ensureCodeChallenge(e){return e.codeChallenge?e:{...e,...await this.startPkce()}}async signOut(){await this.post(this.logoutUrl,{}),this.clear()}async signInWithRedirect(e){let t=new URLSearchParams(pr.getSearch()).get("code");if(!t){await this.requestAuthorization(e);return}return this.processCode(t)}signOutWithRedirect(){pr.assign(this.logoutUrl)}async signInWithExternalAuth(e,t,n,r,a=!0){let i=r;a&&(i=await this.ensureCodeChallenge(r)),pr.assign(this.getExternalAuthRedirectUri(e,t,n,i,a))}async exchangeExternalAccessToken(e,t){if(t=t??this.clientId,!t)throw new Error("MedplumClient is missing clientId");return this.fetchTokens({grant_type:Mu.TokenExchange,subject_token_type:Ote.AccessToken,client_id:t,subject_token:e})}getExternalAuthRedirectUri(e,t,n,r,a=!0){let i=new URL(e);if(i.searchParams.set("response_type","code"),i.searchParams.set("client_id",t),i.searchParams.set("redirect_uri",n),i.searchParams.set("scope",r.scope??"openid profile email"),i.searchParams.set("state",JSON.stringify(r)),a){let{codeChallenge:l,codeChallengeMethod:u}=r;if(!u)throw new Error("`LoginRequest` for external auth must include a `codeChallengeMethod`.");if(!l)throw new Error("`LoginRequest` for external auth must include a `codeChallenge`.");i.searchParams.set("code_challenge_method",u),i.searchParams.set("code_challenge",l)}return i.toString()}fhirUrl(...e){return new URL(no(this.fhirBaseUrl,e.join("/")))}fhirSearchUrl(e,t){let n=this.fhirUrl(e);return t&&(n.search=RJ(t)),n}search(e,t,n){let r=this.fhirSearchUrl(e,t),a="search-"+r.toString(),i=this.getCacheEntry(a,n);if(i)return i.value;let l=this.getBundle(r,n);return this.setCacheEntry(a,l),l}searchOne(e,t,n){let r=this.fhirSearchUrl(e,t);r.searchParams.set("_count","1"),r.searchParams.sort();let a="searchOne-"+r.toString(),i=this.getCacheEntry(a,n);if(i)return i.value;let l=new Mi(this.search(e,r.searchParams,n).then(u=>u.entry?.[0]?.resource));return this.setCacheEntry(a,l),l}searchResources(e,t,n){let r="searchResources-"+this.fhirSearchUrl(e,t).toString(),a=this.getCacheEntry(r,n);if(a)return a.value;let i=new Mi(this.search(e,t,n).then(OM));return this.setCacheEntry(r,i),i}async*searchResourcePages(e,t,n){let r=this.fhirSearchUrl(e,t);for(;r;){let a=new URL(r).searchParams;a.has("_count")||a.set("_count","1000");let i=await this.search(e,a,n),l=i.link?.find(u=>u.relation==="next");if(!i.entry?.length&&!l)break;yield OM(i),r=l?.url?new URL(l.url):void 0}}valueSetExpand(e,t){let n=this.fhirUrl("ValueSet","$expand");return n.search=new URLSearchParams(e).toString(),this.get(n.toString(),t)}getCached(e,t){let n=this.requestCache?.get(this.fhirUrl(e,t).toString())?.value;return n?.isOk()?n.read():void 0}getCachedReference(e){let t=e.reference;if(!t)return;if(t==="system")return DM;let[n,r]=t.split("/");if(!(!n||!r))return this.getCached(n,r)}readResource(e,t,n){if(!t)throw new Error('The "id" parameter cannot be null, undefined, or an empty string.');return this.get(this.fhirUrl(e,t),n)}readReference(e,t){let n=e.reference;if(!n)return new Mi(Promise.reject(new Error("Missing reference")));if(n==="system")return new Mi(Promise.resolve(DM));let[r,a]=n.split("/");return!r||!a?new Mi(Promise.reject(new Error("Invalid reference"))):this.readResource(r,a,t)}readCanonical(e,t,n){return Array.isArray(e)?this.searchOne("",{_type:e.join(","),url:t},n):this.searchOne(e,"url="+t,n)}requestSchema(e){if(L6(e))return Promise.resolve();let t=e+"-requestSchema",n=this.getCacheEntry(t,void 0);if(n)return n.value;let r=new Mi((async()=>{let a=`{
      StructureDefinitionList(_filter: "name eq ${e}") {
        resourceType,
        name,
        kind,
        description,
        type,
        url,
        snapshot {
          element {
            id,
            path,
            definition,
            min,
            max,
            base {
              path,
              min,
              max
            },
            contentReference,
            type {
              code,
              profile,
              targetProfile
            },
            binding {
              strength,
              valueSet
            }
          }
        }
      }
      SearchParameterList(base: "${e}", _count: 100) {
        base,
        code,
        type,
        expression,
        target
      }
    }`.replaceAll(/\s+/g," "),i=await this.graphql(a);uM(i.data.StructureDefinitionList);for(let l of i.data.SearchParameterList)qJ(l)})());return this.setCacheEntry(t,r),r}requestProfileSchema(e,t){if(!t?.expandProfile&&iR(e))return Promise.resolve();let n=e+"-requestSchema"+(t?.expandProfile?"-nested":""),r=this.getCacheEntry(n,void 0);if(r)return r.value;let a=new Mi((async()=>{if(t?.expandProfile){let i=this.fhirUrl("StructureDefinition","$expand-profile");i.search=new URLSearchParams({url:e}).toString();let l=await this.post(i.toString(),{});uM(l)}else{let i=await this.searchOne("StructureDefinition",{url:e,_sort:"-_lastUpdated"});if(!i){console.warn(`No StructureDefinition found for ${e}!`);return}I6(i)}})());return this.setCacheEntry(n,a),a}readHistory(e,t,n,r){let a=this.fhirUrl(e,t,"_history");return n?.count&&a.searchParams.set("_count",n.count.toString()),n?.offset&&a.searchParams.set("_offset",n.offset.toString()),this.get(a.toString(),r)}readVersion(e,t,n,r){return this.get(this.fhirUrl(e,t,"_history",n),r)}readPatientEverything(e,t){return this.getBundle(this.fhirUrl("Patient",e,"$everything"),t)}readPatientSummary(e,t){return this.getBundle(this.fhirUrl("Patient",e,"$summary"),t)}createResource(e,t){if(!e.resourceType)throw new Error("Missing resourceType");return this.invalidateSearches(e.resourceType),this.post(this.fhirUrl(e.resourceType),e,void 0,t)}async createResourceIfNoneExist(e,t,n={}){let r=this.fhirUrl(e.resourceType);this.setRequestHeader(n,"If-None-Exist",t);let a=await this.post(r,e,void 0,n);return this.cacheResource(a),this.invalidateUrl(this.fhirUrl(e.resourceType,e.id,"_history")),this.invalidateSearches(e.resourceType),a}async upsertResource(e,t,n){let r=this.fhirSearchUrl(e.resourceType,t),a=await this.put(r,e,void 0,n);return a||(a=e),this.cacheResource(a),this.invalidateUrl(this.fhirUrl(e.resourceType,e.id,"_history")),this.invalidateSearches(e.resourceType),a}async createAttachment(e,t,n,r,a){let i=kM(e,t,n,r);if(i.contentType===Dn.XML){let d=i.data,h;d instanceof Blob?h=await new Promise((p,m)=>{let g=new FileReader;g.onload=()=>{if(!g.result){m(new Error("Failed to load file"));return}p(g.result)},g.readAsText(d,"utf-8")}):ArrayBuffer.isView(d)?h=new TextDecoder().decode(d):h=d,h.includes("<ClinicalDocument")&&h.includes("urn:hl7-org:v3")&&(i={...i,contentType:Dn.CDA_XML})}let l=a??(typeof t=="object"?t:{}),u=await this.createBinary(i,l);return{contentType:i.contentType,url:u.url,title:i.filename}}createBinary(e,t,n,r,a){let i=kM(e,t,n,r),l=a??(typeof t=="object"?t:{}),{data:u,contentType:d,filename:h,securityContext:p,onProgress:m}=i,g=this.fhirUrl("Binary");return h&&g.searchParams.set("_filename",h),p?.reference&&this.setRequestHeader(l,"X-Security-Context",p.reference),m?this.uploadwithProgress(g,u,d,m,l):this.post(g,u,d,l)}uploadwithProgress(e,t,n,r,a){return new Promise((i,l)=>{let u=new XMLHttpRequest,d=()=>u.abort();a?.signal?.addEventListener("abort",d);let h=p=>{a?.signal?.removeEventListener("abort",d),p instanceof Error?l(p):i(p)};if(u.responseType="json",u.onabort=()=>h(new DOMException("Request aborted","AbortError")),u.onerror=()=>h(new Error("Request error")),r&&(u.upload.onprogress=p=>r(p),u.upload.onload=p=>r(p)),u.onload=()=>{u.status>=200&&u.status<300?h(u.response):h(new gt(Or(u.response||u.statusText)))},u.open("POST",e),u.withCredentials=!0,u.setRequestHeader("Authorization","Bearer "+this.accessToken),u.setRequestHeader("Cache-Control","no-cache, no-store, max-age=0"),u.setRequestHeader("Content-Type",n),this.options.extendedMode!==!1&&u.setRequestHeader("X-Medplum","extended"),a?.headers){let p=a.headers;for(let[m,g]of Object.entries(p))u.setRequestHeader(m,g)}u.send(t)})}async createPdf(e,t,n,r){if(!this.createPdfImpl)throw new Error("PDF creation not enabled");let a=Ite(e,t,n,r),i=typeof t=="object"?t:{},{docDefinition:l,tableLayouts:u,fonts:d,...h}=a,p=await this.createPdfImpl(l,u,d),m={...h,data:p,contentType:"application/pdf"};return this.createBinary(m,i)}createComment(e,t,n){let r=this.getProfile(),a,i;return e.resourceType==="Encounter"&&(a=Me(e),i=e.subject),e.resourceType==="ServiceRequest"&&(a=e.encounter,i=e.subject),e.resourceType==="Patient"&&(i=Me(e)),this.createResource({resourceType:"Communication",status:"completed",basedOn:[Me(e)],encounter:a,subject:i,sender:r?Me(r):void 0,sent:new Date().toISOString(),payload:[{contentString:t}]},n)}async updateResource(e,t){if(!e.resourceType)throw new Error("Missing resourceType");if(!e.id)throw new Error("Missing id");let n=await this.put(this.fhirUrl(e.resourceType,e.id),e,void 0,t);return n||(n=e),this.cacheResource(n),this.invalidateUrl(this.fhirUrl(e.resourceType,e.id,"_history")),this.invalidateSearches(e.resourceType),n}async patchResource(e,t,n,r){let a=await this.patch(this.fhirUrl(e,t),n,r);return this.cacheResource(a),this.invalidateUrl(this.fhirUrl(e,t,"_history")),this.invalidateSearches(e),a}deleteResource(e,t,n){return this.deleteCacheEntry(this.fhirUrl(e,t).toString()),this.invalidateSearches(e),this.delete(this.fhirUrl(e,t),n)}validateResource(e,t){return this.post(this.fhirUrl(e.resourceType,"$validate"),e,void 0,t)}executeBot(e,t,n,r){let a;if(typeof e=="string"){let i=e;a=this.fhirUrl("Bot",i,"$execute")}else{let i=e;a=this.fhirUrl("Bot","$execute"),a.searchParams.set("identifier",i.system+"|"+i.value)}return this.post(a,t,n,r)}executeBatch(e,t){return this.post(this.fhirBaseUrl,e,void 0,t)}sendEmail(e,t){return this.post("email/v1/send",e,Dn.JSON,t)}graphql(e,t,n,r){return this.post(this.fhirUrl("$graphql"),{query:e,operationName:t,variables:n},Dn.JSON,r)}readResourceGraph(e,t,n,r){return this.get(`${this.fhirUrl(e,t)}/$graph?graph=${n}`,r)}pushToAgent(e,t,n,r,a,i){let{waitTimeout:l,...u}=i??{};return this.post(this.fhirUrl("Agent",rd(e),"$push"),{destination:typeof t=="string"?t:Oe(t),body:n,contentType:r,waitForResponse:a,...l!==void 0?{waitTimeout:l}:void 0},Dn.FHIR_JSON,u)}getCdsServices(e){return this.get("/cds-services",e)}callCdsService(e,t,n){return this.post(`/cds-services/${e}`,t,Dn.JSON,n)}getActiveLogin(){return this.storage.getObject("activeLogin")}async setActiveLogin(e){(!this.sessionDetails?.profile||Oe(this.sessionDetails.profile)!==e.profile?.reference)&&this.clearActiveLogin(),this.setAccessToken(e.accessToken,e.refreshToken),this.storage.setObject("activeLogin",e),this.addLogin(e),this.refreshPromise=void 0,await this.refreshProfile()}getAccessToken(){return this.accessToken}isAuthenticated(e){return this.accessTokenExpires!==void 0&&Date.now()<this.accessTokenExpires-(e??this.refreshGracePeriod)}setAccessToken(e,t){this.accessToken=e,this.refreshToken=t,this.accessTokenExpires=pte(e),this.medplumServer=hte(e)}getLogins(){return this.storage.getObject("logins")??[]}addLogin(e){let t=this.getLogins().filter(n=>n.profile?.reference!==e.profile?.reference);t.push(e),this.storage.setObject("logins",t)}async refreshProfile(){if(this.medplumServer)return this.profilePromise=new Promise((e,t)=>{this.get("auth/me",{cache:"no-cache"}).then(n=>{this.profilePromise=void 0;let r=this.sessionDetails?.profile?.id!==n.profile.id;this.sessionDetails=n,r&&this.dispatchEvent({type:"change"}),e(n.profile),this.dispatchEvent({type:"profileRefreshed"})}).catch(t)}),this.dispatchEvent({type:"profileRefreshing"}),this.profilePromise}isLoading(){return!this.isInitialized||!!this.profilePromise&&!this.sessionDetails?.profile}isSuperAdmin(){return!!this.sessionDetails?.project.superAdmin}isProjectAdmin(){return!!this.sessionDetails?.membership.admin}getProject(){return this.sessionDetails?.project}getProjectMembership(){return this.sessionDetails?.membership}getProfile(){return this.sessionDetails?.profile}async getProfileAsync(){return this.profilePromise?this.profilePromise:this.sessionDetails?this.sessionDetails.profile:this.refreshProfile()}getUserConfiguration(){return this.sessionDetails?.config}getAccessPolicy(){return this.sessionDetails?.accessPolicy}async download(e,t={}){this.refreshPromise&&await this.refreshPromise;let n=e.toString();n.startsWith(Ate)&&(e=this.fhirUrl(n));let r=t.headers;return r||(r={},t.headers=r),r.Accept||(r.Accept="*/*"),this.addFetchOptionsDefaults(t),(await this.fetchWithRetry(e.toString(),t)).blob()}async createMedia(e,t){let{additionalFields:n,...r}=e,a=await this.createResource({resourceType:"Media",status:"preparation",content:{contentType:e.contentType},...n});r.securityContext||(r.securityContext=Me(a));let i=await this.createAttachment(r,t);return this.updateResource({...a,status:"completed",content:i})}async uploadMedia(e,t,n,r,a){return this.createMedia({data:e,contentType:t,filename:n,additionalFields:r},a)}async createDocumentReference(e,t){let{additionalFields:n,...r}=e,a=await this.createResource({resourceType:"DocumentReference",status:"current",content:[{attachment:{contentType:e.contentType}}],...n});r.securityContext||(r.securityContext=Me(a));let i=await this.createAttachment(r,t);return this.updateResource({...a,content:[{attachment:i}]})}async bulkExport(e="",t,n,r){let a=e&&`${e}/`,i=this.fhirUrl(`${a}$export`);return t&&i.searchParams.set("_type",t),n&&i.searchParams.set("_since",n),this.startAsyncRequest(i.toString(),r)}async startAsyncRequest(e,t={}){this.addFetchOptionsDefaults(t);let n=t.headers;return n.Prefer="respond-async",this.request("POST",e,t)}get keyValue(){return this.keyValueClient||(this.keyValueClient=new mte(this)),this.keyValueClient}getBundle(e,t){return new Mi((async()=>{let n=await this.get(e,t);if(n.entry)for(let r of n.entry)this.cacheResource(r.resource);return n})())}getCacheEntry(e,t){if(!this.requestCache||t?.cache==="no-cache"||t?.cache==="reload")return;let n=this.requestCache.get(e);if(!(!n||n.requestTime+this.cacheTime<Date.now()))return n}setCacheEntry(e,t){this.requestCache&&this.requestCache.set(e,{requestTime:Date.now(),value:t})}cacheResource(e){e?.id&&!e.meta?.tag?.some(t=>t.code==="SUBSETTED")&&this.setCacheEntry(this.fhirUrl(e.resourceType,e.id).toString(),new Mi(Promise.resolve(e)))}deleteCacheEntry(e){this.requestCache&&this.requestCache.delete(e)}async request(e,t,n={},r={}){await this.refreshIfExpired(),n.method=e,this.addFetchOptionsDefaults(n);let a=await this.fetchWithRetry(t,n);if(a.status===401)return this.handleUnauthenticated(e,t,n);if(a.status===204||a.status===304)return;let i=a.headers.get("content-type")?.includes("json");if(a.status===404&&!i)throw new gt($Z);let l=await this.parseBody(a,i);if(a.status===200&&n.followRedirectOnOk||a.status===201&&n.followRedirectOnCreated){let u=await AM(a,l);if(u)return this.request("GET",u,{...n,body:void 0})}if(a.status===202&&n.pollStatusOnAccepted){let u=await AM(a,l)??r.statusUrl;if(u)return this.pollStatus(u,n,r)}if(a.status>=400)throw new gt(Or(l));return l}async parseBody(e,t){let n;if(e.headers.get("content-length")!=="0"){if(t)try{n=await e.json()}catch(r){throw console.error("Error parsing response",e.status,r),r}else n=await e.text();return n}}async fetchWithRetry(e,t){e.startsWith("http")||(e=no(this.baseUrl,e));let n=t?.maxRetries??2;for(let r=0;r<=n;r++)try{this.logLevel!=="none"&&this.logRequest(e,t);let a=await this.fetch(e,t);if(this.logLevel!=="none"&&this.logResponse(a),this.setCurrentRateLimit(a),r>=n||!Lte(a))return a;let i=this.getRetryDelay(r),l=t.maxRetryTime??2e3;if(i>l)return a;await yM(i)}catch(a){if(a.message==="Failed to fetch"&&r===0&&this.dispatchEvent({type:"offline"}),a.name==="AbortError"||r===n)throw a}throw new Error("Unreachable")}logRequest(e,t){if(console.log(`> ${t.method} ${e}`),this.logLevel==="verbose"&&t.headers){let n=t.headers;for(let r of uR(Object.keys(n)))console.log(`> ${r}: ${n[r]}`)}}logResponse(e){console.log(`< ${e.status} ${e.statusText}`),this.logLevel==="verbose"&&e.headers&&e.headers.forEach((t,n)=>console.log(`< ${n}: ${t}`))}setCurrentRateLimit(e){if(!e?.headers||typeof e.headers.get!="function")return;let t=e.headers.get("ratelimit");t&&(this.currentRateLimits=t)}rateLimitStatus(){if(!this.currentRateLimits)return[];let e=this.currentRateLimits;return e.split(",").map(t=>{let n=t.split(";").map(d=>d.trim());if(n.length!==3)throw new Error("Could not parse RateLimit header: "+e);let r=n[0].substring(1,n[0].length-1),a=n.find(d=>d.startsWith("r="))?.substring(2),i=a?Number.parseInt(a,10):Number.NaN,l=n.find(d=>d.startsWith("t="))?.substring(2),u=l?Number.parseInt(l,10):Number.NaN;if(!r||Number.isNaN(i)||Number.isNaN(u))throw new Error("Could not parse RateLimit header: "+e);return{name:r,remainingUnits:i,secondsUntilReset:u,resetsAfter:Math.ceil((Date.now()+1e3*u)/1e3)}})}getRetryDelay(e){let t=this.rateLimitStatus(),n=500*Math.pow(1.5,e);for(let r of t)r.remainingUnits||(n=Math.max(n,r.secondsUntilReset*1e3));return n}async pollStatus(e,t,n){let r={...t,method:"GET",body:void 0,redirect:"follow"};if(n.pollCount===void 0)t.headers&&typeof t.headers=="object"&&"Prefer"in t.headers&&(r.headers={...t.headers},delete r.headers.Prefer),n.statusUrl=e,n.pollCount=1;else{let a=t.pollStatusPeriod??1e3;await yM(a),n.pollCount++}return this.request("GET",e,r,n)}async executeAutoBatch(){if(this.autoBatchQueue===void 0)return;let e=[...this.autoBatchQueue];if(this.autoBatchQueue.length=0,this.autoBatchTimerId=void 0,e.length===1){let r=e[0];try{r.resolve(await this.request(r.method,no(this.fhirBaseUrl,r.url),r.options))}catch(a){r.reject(new gt(Or(a)))}return}let t={resourceType:"Bundle",type:"batch",entry:e.map(r=>({request:{method:r.method,url:r.url},resource:r.options.body?JSON.parse(r.options.body):void 0}))},n=await this.post(this.fhirBaseUrl,t);for(let r=0;r<e.length;r++){let a=e[r],i=n.entry?.[r];i?.response?.outcome&&!rR(i.response.outcome)?a.reject(new gt(i.response.outcome)):a.resolve(i?.resource)}}addFetchOptionsDefaults(e){Object.entries(this.defaultHeaders).forEach(([t,n])=>{this.setRequestHeader(e,t,n)}),this.setRequestHeader(e,"Accept",jte,!0),this.options.extendedMode!==!1&&this.setRequestHeader(e,"X-Medplum","extended"),e.body&&this.setRequestHeader(e,"Content-Type",Dn.FHIR_JSON,!0),this.accessToken?this.setRequestHeader(e,"Authorization","Bearer "+this.accessToken):this.basicAuth&&this.setRequestHeader(e,"Authorization","Basic "+this.basicAuth),e.cache||(e.cache="no-cache"),e.credentials||(e.credentials="include")}setRequestContentType(e,t){this.setRequestHeader(e,"Content-Type",t)}setRequestHeader(e,t,n,r=!1){let a=e.headers;a?Array.isArray(a)?(!r||!a.some(([i])=>i.toLowerCase()===t.toLowerCase()))&&a.push([t,n]):a instanceof Headers?(!r||!a.has(t))&&a.set(t,n):ea(a)&&(!r||!a[t])&&(a[t]=n):e.headers={[t]:n}}setRequestBody(e,t){typeof t=="string"||typeof Blob<"u"&&(t instanceof Blob||t?.constructor.name==="Blob")||typeof File<"u"&&(t instanceof File||t?.constructor.name==="File")||typeof Uint8Array<"u"&&(t instanceof Uint8Array||t?.constructor.name==="Uint8Array")?e.body=t:t&&(e.body=JSON.stringify(t))}async handleUnauthenticated(e,t,n){if(this.refresh())return this.request(e,t,n);throw this.clear(),this.onUnauthenticated?.(),new gt(ih)}async startPkce(){let e=jM();sessionStorage.setItem("pkceState",e);let t=jM().slice(0,128);sessionStorage.setItem("codeVerifier",t);try{let n=await ete(t);return{codeChallengeMethod:"S256",codeChallenge:CJ(n).replaceAll("+","-").replaceAll("/","_").replaceAll("=","")}}catch(n){return console.warn("Failed to hash code verifier. Falling back to 'plain' code challenge method",n),{codeChallengeMethod:"plain",codeChallenge:t}}}async requestAuthorization(e){let t=await this.ensureCodeChallenge(e??{}),n=new URL(this.authorizeUrl);n.searchParams.set("response_type","code"),n.searchParams.set("state",sessionStorage.getItem("pkceState")),n.searchParams.set("client_id",t.clientId??this.clientId),n.searchParams.set("redirect_uri",t.redirectUri??pr.getOrigin()),n.searchParams.set("code_challenge_method",t.codeChallengeMethod),n.searchParams.set("code_challenge",t.codeChallenge),n.searchParams.set("scope",t.scope??"openid profile"),pr.assign(n.toString())}processCode(e,t){let n={grant_type:Mu.AuthorizationCode,code:e,client_id:t?.clientId??this.clientId??"",redirect_uri:t?.redirectUri??pr.getOrigin()};if(typeof sessionStorage<"u"){let r=sessionStorage.getItem("codeVerifier");r&&(n.code_verifier=r)}return this.fetchTokens(n)}refreshIfExpired(e){return!this.refreshPromise&&this.accessTokenExpires!==void 0&&!this.isAuthenticated(e)&&this.refresh(),this.refreshPromise??Promise.resolve()}refresh(){if(this.refreshPromise)return this.refreshPromise;if(this.refreshToken)return this.refreshPromise=this.fetchTokens({grant_type:Mu.RefreshToken,client_id:this.clientId??"",refresh_token:this.refreshToken}),this.refreshPromise;if(this.clientId&&this.clientSecret)return this.refreshPromise=this.startClientLogin(this.clientId,this.clientSecret),this.refreshPromise}async startClientLogin(e,t){return this.clientId=e,this.clientSecret=t,this.fetchTokens({grant_type:Mu.ClientCredentials,client_id:e,client_secret:t})}async startJwtBearerLogin(e,t,n){return this.clientId=e,this.fetchTokens({grant_type:Mu.JwtBearer,client_id:e,assertion:t,scope:n})}async startJwtAssertionLogin(e){return this.fetchTokens({grant_type:Mu.ClientCredentials,client_assertion_type:kte.JwtBearer,client_assertion:e})}setBasicAuth(e,t){this.clientId=e,this.clientSecret=t,this.basicAuth=CM(e+":"+t)}setLogLevel(e){this.logLevel=e,this.options.verbose=e==="verbose"}getLogLevel(){return this.logLevel}setVerbose(e){this.logLevel=e?"verbose":"none",this.options.verbose=e}async fhircastSubscribe(e,t){if(!(typeof e=="string"&&e!==""))throw new gt(xn("Invalid topic provided. Topic must be a valid string."));if(!(typeof t=="object"&&Array.isArray(t)&&t.length>0))throw new gt(xn("Invalid events provided. Events must be an array of event names containing at least one event."));let n={channelType:"websocket",mode:"subscribe",topic:e,events:t},r=(await this.post(this.fhircastHubUrl,EM(n),Dn.FORM_URL_ENCODED))["hub.channel.endpoint"];if(!r)throw new Error("Invalid response!");return n.endpoint=r,n}async fhircastUnsubscribe(e){if(!jR(e))throw new gt(xn("Invalid topic or subscriptionRequest. SubscriptionRequest must be an object."));if(!(e.endpoint&&typeof e.endpoint=="string"&&e.endpoint.startsWith("ws")))throw new gt(xn("Provided subscription request must have an endpoint in order to unsubscribe."));e.mode="unsubscribe",await this.post(this.fhircastHubUrl,EM(e),Dn.FORM_URL_ENCODED)}fhircastConnect(e){return new ute(e)}async fhircastPublish(e,t,n,r){return rte(t)?this.post(this.fhircastHubUrl,TM(e,t,n,r),Dn.JSON):(ate(t),this.post(this.fhircastHubUrl,TM(e,t,n),Dn.JSON))}async fhircastGetContext(e){return this.get(`${this.fhircastHubUrl}/${e}`,{cache:"no-cache"})}async invite(e,t){return this.post("admin/projects/"+e+"/invite",t)}async fetchTokens(e){let t=new URLSearchParams(e),n={...this.defaultHeaders,"Content-Type":Dn.FORM_URL_ENCODED};this.basicAuth&&(n.Authorization=`Basic ${this.basicAuth}`),this.credentialsInHeader&&(t.delete("client_id"),t.delete("client_secret"),!this.basicAuth&&e.client_id&&e.client_secret&&(n.Authorization=`Basic ${CM(e.client_id+":"+e.client_secret)}`));let r={method:"POST",headers:n,body:t.toString(),credentials:"include"},a;try{a=await this.fetchWithRetry(this.tokenUrl,r)}catch(l){throw this.refreshPromise=void 0,l}if(!a.ok){this.clearActiveLogin(),this.onUnauthenticated?.();try{let l=await a.json();throw new gt(Ko(l.error_description))}catch(l){throw new gt(Ko("Failed to fetch tokens"),{cause:l})}}let i=await a.json();return await this.verifyTokens(i),this.getProfile()}async verifyTokens(e){let t=e.access_token;if(fte(t)){let n=ER(t);if(Date.now()>=n.exp*1e3)throw this.clearActiveLogin(),new gt(qZ);if(n.cid){if(n.cid!==this.clientId)throw this.clearActiveLogin(),new gt(lM)}else if(this.clientId&&n.client_id!==this.clientId)throw this.clearActiveLogin(),new gt(lM)}return this.setActiveLogin({accessToken:t,refreshToken:e.refresh_token,project:e.project,profile:e.profile})}checkSessionDetailsMatchLogin(e){return this.sessionDetails&&e?e.profile?.reference?.endsWith(this.sessionDetails.profile.id)??!1:!0}setupStorageListener(){try{window.addEventListener("storage",e=>{if(e.key===null)pr.reload();else if(e.key===this.storage.makeKey("activeLogin")){let t=e.oldValue?JSON.parse(e.oldValue):void 0,n=e.newValue?JSON.parse(e.newValue):void 0;t?.profile.reference!==n?.profile.reference||!this.checkSessionDetailsMatchLogin(n)?pr.reload():n?this.setAccessToken(n.accessToken,n.refreshToken):this.clear()}})}catch{}}getSubscriptionManager(){return this.subscriptionManager||(this.subscriptionManager=new Cte(this,TJ(this.baseUrl,"/ws/subscriptions-r4"))),this.subscriptionManager}subscribeToCriteria(e,t){return this.getSubscriptionManager().addCriteria(e,t)}unsubscribeFromCriteria(e,t){this.subscriptionManager&&(this.subscriptionManager.removeCriteria(e,t),this.subscriptionManager.getCriteriaCount()===0&&this.subscriptionManager.closeWebSocket())}getMasterSubscriptionEmitter(){return this.getSubscriptionManager().getMasterEmitter()}};function Mte(){if(!globalThis.fetch)throw new Error("Fetch not available in this environment");return globalThis.fetch.bind(globalThis)}async function AM(e,t){let n=e.headers.get("content-location");if(n)return n;let r=e.headers.get("location");if(r)return r;if(nR(t)&&t.issue?.[0]?.diagnostics)return t.issue[0].diagnostics}function OM(e){let t=e.entry?.map(n=>n.resource)??[];return Object.assign(t,{bundle:e})}function Pte(e){return ea(e)&&"data"in e&&"contentType"in e}function kM(e,t,n,r){return Pte(e)?e:{data:e,filename:t,contentType:n,onProgress:r}}function Nte(e){return ea(e)&&"docDefinition"in e}function Ite(e,t,n,r){return Nte(e)?e:{docDefinition:e,filename:t,tableLayouts:n,fonts:r}}function Lte(e){return e.status===429||e.status>=500}function id({parentContext:e,path:t,elements:n,profileUrl:r,debugMode:a,accessPolicyResource:i}){if(t===e?.path)return;a??=e?.debugMode??!1,i??=e?.accessPolicyResource;let l=zte(t,n,e,!!a),u=Sj(t,".",2)[1];l=$te(l,i,u),l=qte(l,i,u);let d=Object.create(null);for(let[p,m]of Object.entries(l))d[t+"."+p]=m;let h;if(e&&!e.isDefaultContext)h=e.getExtendedProps;else{let p=Object.create(null);h=m=>{let g=Sj(m,".",2)[1];if(g){if(!p[g]){let y=Wg(g,i?.hiddenFields);p[g]={hidden:y,readonly:y||Wg(g,i?.readonlyFields)}}return p[g]}}}return{path:t,elements:l,elementsByPath:d,profileUrl:r??e?.profileUrl,debugMode:a,getExtendedProps:h,accessPolicyResource:i}}function zte(e,t,n,r){let a=Object.create(null);if(n)for(let[l,u]of Object.entries(n.elementsByPath)){let d=Jl(e,l);d!==void 0&&(a[d]=u)}let i=!1;if(t)for(let[l,u]of Object.entries(t))l in a||(a[l]=u,i=!0);return r&&console.assert(i,"Unnecessary ElementsContext; not using any newly provided elements"),a}function $te(e,t,n){if(!t?.hiddenFields?.length)return e;let r=n?n+".":"";return Object.fromEntries(Object.entries(e).filter(([a])=>!Wg(r+a,t.hiddenFields)))}function qte(e,t,n){if(!t?.readonlyFields?.length)return e;let r=Object.create(null),a=n?n+".":"";for(let[i,l]of Object.entries(e))Wg(a+i,t.readonlyFields)?r[i]={...l,readonly:!0}:r[i]=l;return r}function Wg(e,t){if(!t?.length)return!1;let n=e.split(".");for(let r=1;r<=n.length;r++){let a=n.slice(0,r).join(".");if(t.includes(a))return!0}return!1}function bz(e){return e.type!==void 0&&e.type.length>0}function Ute(e,t,n,r){let a=ZZ(e,t.path,{profileUrl:r});if(a){let i=n.typeSchema?.elements??n.elements;return a.some(l=>eJ(l,t,n,i))??!1}return console.assert(!1,"getNestedProperty[%s] in isDiscriminatorComponentMatch missed",t.path),!1}function xz(e,t,n,r){if(e)for(let a of t){let i={value:e,type:a.typeSchema?.type??a.type?.[0].code};if(n.every(l=>Ute(i,l,a,a.typeSchema?.url??r)))return a.name}}var Bte=class{constructor(e,t,n){if(ve(this,"rootSchema"),ve(this,"visitor"),ve(this,"elementsContextStack"),ve(this,"sliceAllowList"),e.type===void 0)throw new Error("schema must include a type");this.rootSchema=e;let r=id({parentContext:void 0,path:this.rootSchema.type,elements:n??this.rootSchema.elements,profileUrl:this.rootSchema.name===this.rootSchema.type?void 0:this.rootSchema.url});if(r===void 0)throw new Error("Could not create root elements context");this.elementsContextStack=[r],this.visitor=t}get elementsContext(){return this.elementsContextStack.at(-1)}crawlElement(e,t,n){this.visitor.onEnterSchema&&this.visitor.onEnterSchema(this.rootSchema);let r=Object.fromEntries(Object.entries(this.elementsContext.elements).filter(([a])=>a.startsWith(t)));this.crawlElementsImpl(r,n),this.visitor.onExitSchema&&this.visitor.onExitSchema(this.rootSchema)}crawlSlice(e,t,n){let r=this.prepareSlices(n.slices,n);if(!Hn(r.slices))throw new Error(`cannot crawl slice ${t.name} since it has no type information`);this.visitor.onEnterSchema&&this.visitor.onEnterSchema(this.rootSchema),this.sliceAllowList=[t],this.crawlSliceImpl(r.slices[0],t.path,r),this.sliceAllowList=void 0,this.visitor.onExitSchema&&this.visitor.onExitSchema(this.rootSchema)}crawlResource(){this.visitor.onEnterSchema&&this.visitor.onEnterSchema(this.rootSchema),this.crawlElementsImpl(this.rootSchema.elements,this.rootSchema.type),this.visitor.onExitSchema&&this.visitor.onExitSchema(this.rootSchema)}crawlElementsImpl(e,t){let n=Hte(e);for(let r of n)this.crawlElementNode(r,t)}crawlElementNode(e,t){let n=t+"."+e.key;this.visitor.onEnterElement&&this.visitor.onEnterElement(n,e.element,this.elementsContext);for(let r of e.children)this.crawlElementNode(r,t);Hn(e.element?.slicing?.slices)&&this.crawlSlicingImpl(e.element.slicing,n),this.visitor.onExitElement&&this.visitor.onExitElement(n,e.element,this.elementsContext)}prepareSlices(e,t){let n=[];for(let r of e){if(!bz(r))continue;let a=r.type.find(i=>Hn(i.profile))?.profile?.[0];if(Hn(a)){let i=Mc(a);i&&(r.typeSchema=i)}n.push(r)}return{...t,slices:n}}crawlSlicingImpl(e,t){let n=this.prepareSlices(e.slices,e);for(let r of n.slices)(this.sliceAllowList===void 0||this.sliceAllowList.includes(r))&&this.crawlSliceImpl(r,t,n)}crawlSliceImpl(e,t,n){let r=e.typeSchema;r&&this.visitor.onEnterSchema&&this.visitor.onEnterSchema(r),this.visitor.onEnterSlice&&this.visitor.onEnterSlice(t,e,n);let a,i=r?.elements??e.elements;Hn(i)&&(a=id({path:t,parentContext:this.elementsContext,elements:i})),a&&this.elementsContextStack.push(a),this.crawlElementsImpl(i,t),a&&this.elementsContextStack.pop(),this.visitor.onExitSlice&&this.visitor.onExitSlice(t,e,n),r&&this.visitor.onExitSchema&&this.visitor.onExitSchema(r)}};function Hte(e){let t=[];function n(i,l){return l.startsWith(i+".")}function r(i,l){for(let u of i.children)if(n(u.key,l.key)){r(u,l);return}i.children.push(l)}let a=Object.entries(e);a.sort((i,l)=>i[0].localeCompare(l[0]));for(let[i,l]of a){let u={key:i,element:l,children:[]},d=!1;for(let h of t)if(n(h.key,i)){r(h,u),d=!0;break}d||t.push(u)}return t}var Wx="__sliceName";function Fte(e,t){let n=new Vte(e,e.resourceType,"resource");return new Bte(t,n).crawlResource(),n.getDefaultValue()}function MM(e,t,n){for(let[r,a]of Object.entries(t)){if(n===void 0||n===r){Gg(e,r,a,t);continue}let i=Jl(n,r);i!==void 0&&Gg(e,i,a,t)}return e}var Vte=class{constructor(e,t,n){ve(this,"rootValue"),ve(this,"schemaStack"),ve(this,"valueStack"),this.schemaStack=[],this.valueStack=[],this.rootValue=Hi(e),this.valueStack.splice(0,this.valueStack.length,{type:n,path:t,values:[this.rootValue]})}get schema(){return this.schemaStack.at(-1)}get value(){return this.valueStack.at(-1)}onEnterSchema(e){this.schemaStack.push(e)}onExitSchema(){this.schemaStack.pop()}onEnterElement(e,t,n){let r=this.value.values,a=this.value.path,i=Jl(a,e);if(i===void 0)throw new Error(`Expected ${e} to be prefixed by ${a}`);let l=[];for(let u of r){if(u===void 0)continue;let d=Jl(n.path,a),h=Array.isArray(u)?u:[u];for(let p of h){Wte(p,i,t,n.elements,d),Gg(p,i,t,n.elements);let m=Ej(p,i,n.elements,d);m!==void 0&&l.push(m)}}this.valueStack.push({type:"element",path:e,values:l})}onExitElement(e,t,n){if(!this.valueStack.pop())throw new Error("Expected value context to exist when exiting element");let r=Jl(this.value.path,e);if(r===void 0)throw new Error(`Expected ${e} to be prefixed by ${this.value.path}`);let a=Jl(n.path,this.value.path);for(let i of this.value.values){let l=Ej(i,r,n.elements,a);if(Array.isArray(l))for(let u=l.length-1;u>=0;u--){let d=l[u];Hn(d)||l.splice(u,1)}An(l)&&jj(i,void 0,r,t)}}onEnterSlice(e,t,n){let r=this.value.values,a=[];for(let i of r)if(i!==void 0){let l=Array.isArray(i)?i:[i],u=this.getMatchingSliceValues(l,t,n);a.push(u)}this.valueStack.push({type:"slice",path:e,values:a})}getMatchingSliceValues(e,t,n){let r=[];for(let a of e)(a[Wx]??xz(a,[t],n.discriminator,this.schema.url))===t.name&&r.push(a);for(let a=r.length;a<t.min;a++)if(cR(t.type[0].code)){let i=Object.create(null);r.push(i),e.push(i)}return r}onExitSlice(){let e=this.valueStack.pop();if(!e)throw new Error("Expected value context to exist in onExitSlice");for(let t of e.values)for(let n=t.length-1;n>=0;n--){let r=t[n];Wx in r&&delete r[Wx]}}getDefaultValue(){return this.rootValue}};function Wte(e,t,n,r,a){let i=Ej(e,t,r,a);n.min>0&&i===void 0&&cR(n.type[0].code)&&(n.isArray?jj(e,[Object.create(null)],t,n):jj(e,Object.create(null),t,n))}function jj(e,t,n,r){if(n.includes("."))throw new Error("key cannot be nested");let a=n;if(n.includes("[x]")){let i=r.type[0].code;a=n.replace("[x]",rr(i))}t===void 0?delete e[a]:e[a]=t}function Ej(e,t,n,r){let a=t.split("."),i=e,l;for(let u=0;u<a.length;u++){let d=a[u];if(d.includes("[x]")){let h=(r?r+".":"")+a.slice(0,u+1).join("."),p=n[h].type[0].code;d=d.replace("[x]",rr(p))}if(u===a.length-1){Array.isArray(i)?l=i.map(h=>h[d]):l=i[d];continue}if(Array.isArray(i))i=i.map(h=>h[d]);else if(ea(i)){if(i[d]===void 0)return;i=i[d]}else return}return l}function Gg(e,t,n,r){if(!(n.fixed||n.pattern))return e;if(Array.isArray(e))return e.map(u=>Gg(u,t,n,r));e==null&&(e=Object.create(null));let a=e,i=t.split("."),l=a;for(let u=0;u<i.length;u++){let d=i[u];if(d.includes("[x]")){let h=r[i.slice(0,u+1).join(".")].type[0].code;d=d.replace("[x]",rr(h))}if(u===i.length-1){let h=Array.isArray(l)?l:[l];for(let p of h)n.fixed?p[d]??=n.fixed.value:n.pattern&&(p[d]=Sz(p[d],n.pattern.value))}else{if(!(d in l)){let h=i.slice(0,u+1).join(".");l[d]=r[h].isArray?[Object.create(null)]:Object.create(null)}l=l[d]}}return a}function Sz(e,t){if(Array.isArray(t)&&(Array.isArray(e)||e===void 0))return(e?.length??0)>0?e:Hi(t);if(ea(t)&&(ea(e)&&!Array.isArray(e)||e===void 0)){let n=Hi(e)??Object.create(null);for(let r of Object.keys(t))n[r]=Sz(n[r],t[r]);return n}return e}[...yR];bR().registerInfix("->",{precedence:Zt.Arrow}).registerInfix(";",{precedence:Zt.Semicolon});[...yR];bR();function Gte(e){return e.match(/^\((.+)\)\.identifier$/)?.[1]}function Yte(e,t){return new hR(e,new hy(t,new sh("identifier")))}var $r={BOOLEAN:"BOOLEAN",NUMBER:"NUMBER",QUANTITY:"QUANTITY",TEXT:"TEXT",REFERENCE:"REFERENCE",CANONICAL:"CANONICAL",DATE:"DATE",DATETIME:"DATETIME"};function vy(e,t){let n=yo.types[e]?.searchParamsDetails?.[t.code];return n||(n=Kte(e,t)),n}function Qte(e,t,n){let r=yo.types[e];r||(r={},yo.types[e]=r),r.searchParamsDetails||(r.searchParamsDetails={}),r.searchParamsDetails[t]=n}function Kte(e,t){let n=t.code,r=t.expression,a=ene(e,r),i={elementDefinitions:[],propertyTypes:new Set,array:!1};for(let d of a){let h=fg(d),p=jJ(()=>h.join("."));h.length===1&&h[0]instanceof wa?i.propertyTypes.add("boolean"):t.code.endsWith(":identifier")?i.propertyTypes.add("Identifier"):p().endsWith("extension.value.code")||p().endsWith("extension.value.coding.code")?(i.array=!0,i.propertyTypes.clear(),i.propertyTypes.add("code")):wz(i,h,e,1),p().endsWith("extension.valueDateTime")&&(i.array=!1,i.propertyTypes.clear(),i.propertyTypes.add("dateTime"))}let l;if(t.code.endsWith(":identifier")){let d=Gte(r);if(d===void 0)throw new Error(`Unexpected expression for derived identifier search parameter: ${r}`);let h=PM(e,d);l=Yte(r,h)}else l=PM(e,r);let u={type:Jte(t,i.propertyTypes),elementDefinitions:i.elementDefinitions.map(d=>({...d,type:d.type?.filter(h=>i.propertyTypes.has(h.code))})).filter(d=>d.type&&d.type.length>0),parsedExpression:l,array:i.array};return Qte(e,n,u),u}function wz(e,t,n,r){let a=t[r];if(a instanceof Vg){e.propertyTypes.add(a.right.toString());return}if(a instanceof gR){Xte(e,a);return}let i=a.toString(),l=Wh(n,i);if(!l)throw new Error(`Element definition not found for ${n} ${i}`);let u=!1,d=r+1;d<t.length&&t[d]instanceof vR&&(u=!0,d++);let h=t[d];if(l.isArray&&!u&&(e.array=!0),d===t.length-1&&h instanceof Vg){e.elementDefinitions.push(l),e.propertyTypes.add(h.right.toString());return}if(d>=t.length){e.elementDefinitions.push(l);for(let p of l.type)e.propertyTypes.add(p.code);return}for(let p of l.type){let m=p.code;Zte(m)&&(m=l.type[0].code),wz(e,t,m,d)}}function Xte(e,t){if(t.name==="as"){e.propertyTypes.add(t.args[0].toString());return}if(t.name==="ofType"){e.propertyTypes.add(t.args[0].toString());return}if(t.name==="resolve"){e.propertyTypes.add("string");return}if(t.name==="where"&&t.args[0]instanceof mR){e.propertyTypes.add(t.args[0].right.toString());return}throw new Error(`Unhandled FHIRPath function: ${t.name}`)}function Zte(e){return e==="Element"||e==="BackboneElement"}function Jte(e,t){switch(e.type){case"date":return t.size===1&&t.has(de.date)?$r.DATE:$r.DATETIME;case"number":return $r.NUMBER;case"quantity":return $r.QUANTITY;case"reference":return t.has(de.canonical)?$r.CANONICAL:$r.REFERENCE;case"token":return t.size===1&&t.has(de.boolean)?$r.BOOLEAN:$r.TEXT;default:return $r.TEXT}}function ene(e,t){let n=[],r=xR(t);return Yg(e,r.child,n),n}function PM(e,t){let n=[],r=xR(t);if(Yg(e,r.child,n),n.length===0)return r;let a=n[0];for(let i=1;i<n.length;i++)a=new pR(a,n[i]);return new hR("<original-not-available>",a)}function Yg(e,t,n){t instanceof pR?(Yg(e,t.left,n),Yg(e,t.right,n)):t.toString().includes(e+".")&&n.push(t)}function fg(e){if(e instanceof Vg||e instanceof vR)return[fg(e.left),e].flat();if(e instanceof wa)return[e];if(e instanceof hy)return[fg(e.left),fg(e.right)].flat();if(e instanceof gR){if(e.name==="where"&&!(e.args[0]instanceof mR))return[];if(e.name==="last")return[]}return[e]}var Cz=b.createContext(void 0);function yy(){return b.useContext(Cz)}function Ae(){return yy().medplum}function jd(){return yy().navigate}function Pr(){return yy().profile}var NM=["change","storageInitialized","storageInitFailed","profileRefreshing","profileRefreshed"];function tne(e){let t=e.medplum,n=e.navigate??nne,[r,a]=b.useState({profile:t.getProfile(),loading:t.isLoading()});b.useEffect(()=>{function l(){a(u=>({...u,profile:t.getProfile(),loading:t.isLoading()}))}for(let u of NM)t.addEventListener(u,l);return()=>{for(let u of NM)t.removeEventListener(u,l)}},[t]);let i=b.useMemo(()=>({...r,medplum:t,navigate:n}),[r,t,n]);return s.jsx(Cz.Provider,{value:i,children:e.children})}function nne(e){window.location.assign(e)}var IM=new Map,jz=e=>b.useMemo(()=>{if(!e)return;let t=e.split("?")[0];if(!t)return e;let n;try{n=new URLSearchParams(new URL(e).search)}catch{return e}if(!n.has("Key-Pair-Id")||!n.has("Signature"))return e;let r=n.get("Expires");if(!r||r.length>13)return e;let a=IM.get(t);if(a){let i=new URLSearchParams(new URL(a).search).get("Expires");if(i&&Number.parseInt(i,10)*1e3-5e3>Date.now())return a}return IM.set(t,e),e},[e]);function rne(e){let t=b.useRef(void 0);return b.useEffect(()=>{t.current=e}),t.current}function Rt(e,t){let n=Ae(),[r,a]=b.useState(()=>LM(n,e)),i=b.useCallback(l=>{pi(l,r)||a(l)},[r]);return b.useEffect(()=>{let l=!0,u=LM(n,e);return!u&&Ia(e)?n.readReference(e).then(d=>{l&&i(d)}).catch(d=>{l&&(i(void 0),t&&t(Or(d)))}):i(u),(()=>l=!1)},[n,e,i,t]),r}function LM(e,t){if(t){if(zi(t))return t;if(Ia(t))return e.getCachedReference(t)}}var kt={group:"group",display:"display",boolean:"boolean",decimal:"decimal",integer:"integer",date:"date",dateTime:"dateTime",time:"time",string:"string",text:"text",url:"url",choice:"choice",openChoice:"open-choice",attachment:"attachment",reference:"reference",quantity:"quantity"},Ez=`${yt}/fhir/StructureDefinition/questionnaire-itemControl`,ane=`${yt}/fhir/StructureDefinition/questionnaire-referenceFilter`,ine=`${yt}/fhir/StructureDefinition/questionnaire-referenceResource`,one=`${yt}/fhir/StructureDefinition/questionnaire-validationError`,sne=`${yt}/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-enableWhenExpression`,lne=`${yt}/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-calculatedExpression`,cne=`${yt}/fhir/StructureDefinition/questionnaire-signatureRequired`,hg=`${yt}/fhir/StructureDefinition/questionnaireresponse-signature`;function une(e,t){let n=dne(e,t);return n!==void 0?n:fne(e,t)}function dne(e,t){let n=kr(e,sne);if(t&&n){let r=n.valueExpression?.expression;if(r){let a=qa(t),i=nl(r,[a],{"%resource":a});return co(i)}}}function fne(e,t){if(!e.enableWhen)return!0;let n=e.enableBehavior??"any";for(let r of e.enableWhen){let a=_z(t?.item,r.question);if(r.operator==="exists"&&!r.answerBoolean&&!a?.length){if(n==="any")return!0;continue}let{anyMatch:i,allMatch:l}=yne(r,a,n);if(n==="any"&&i)return!0;if(n==="all"&&!l)return!1}return n!=="any"}function Tz(e,t,n=t.item){for(let r of e){let a=n?.find(i=>i.linkId===r.linkId);a&&(hne(t,r,a),r.item&&a.item&&Tz(r.item,t,a.item))}}function hne(e,t,n){try{let r=gne(t,e);if(!r)return;let a=mne(t,r);if(!a)return;n.answer=[a]}catch(r){n.extension=[{url:one,valueString:`Expression evaluation failed: ${Vt(r)}`}]}}var pne={[kt.boolean]:[de.boolean],[kt.date]:[de.date],[kt.dateTime]:[de.dateTime],[kt.time]:[de.time],[kt.url]:[de.string,de.uri,de.url],[kt.attachment]:[de.Attachment],[kt.reference]:[de.Reference],[kt.quantity]:[de.Quantity],[kt.decimal]:[de.decimal,de.integer],[kt.integer]:[de.decimal,de.integer]};function mne(e,t){if(e.type){if(e.type===kt.choice||e.type===kt.openChoice)return{[`value${rr(t.type)}`]:t.value};if(e.type===kt.string||e.type===kt.text)return typeof t.value=="string"?{valueString:t.value}:void 0;if(pne[e.type]?.includes(t.type))return{[`value${rr(e.type)}`]:t.value}}}function gne(e,t){if(!t)return;let n=kr(e,lne);if(n){let r=n.valueExpression?.expression;if(r){let a=qa(t),i=nl(r,[a],{"%resource":a});return i.length!==0?i[0]:void 0}}}function Rz(e,t,n){let r=[];for(let a of e){let i=n.answerOption?.find(l=>uc(bo(l))===a);if(i){let l=bo(i);l&&r.push({[t]:l.value})}}return r}function _z(e,t){if(e)for(let n of e){if(n.linkId===t)return n.answer;if(n.item){let r=_z(n.item,t);if(r)return r}}}function vne(e,t,n){if(n==="exists")return!!e===t.value;if(e){let r=n==="="||n==="!="?n?.replace("=","~"):n,[{value:a}]=nl(`%actualAnswer ${r} %expectedAnswer`,[e],{"%actualAnswer":e,"%expectedAnswer":t});return a}else return!1}function yne(e,t,n){let r=t||[],a=wne(e),i=!1,l=!0;for(let u of r){let d=Cne(u),{operator:h}=e;if(vne(d,a,h)?i=!0:l=!1,n==="any"&&i)break}return{anyMatch:i,allMatch:l}}function bne(e){let t=kr(e,ine);if(t){if(t.valueCode!==void 0)return[t.valueCode];if(t.valueCodeableConcept)return t.valueCodeableConcept?.coding?.map(n=>n.code)}}function xne(e,t,n){let r=kr(e,ane);if(!r?.valueString)return;let a=r.valueString;t?.reference&&(a=a.replaceAll("$subj",t.reference)),n?.reference&&(a=a.replaceAll("$encounter",n.reference));let i={},l=a.split("&");for(let u of l){let[d,h]=Sj(u,"=",2);i[d]=h}return i}function zM(e,t){return{resourceType:"QuestionnaireResponse",questionnaire:e.url??Oe(e),item:TR(e.item,t?.item),status:"in-progress"}}function TR(e,t){if(!e)return;let n=[];for(let r of e){if(r.type===kt.display)continue;let a=t?.filter(i=>i.linkId===r.linkId);if(a&&a?.length>0)for(let i of a)i.id=i.id??Az(),i.text=i.text??r.text,i.item=TR(r.item,i.item),i.answer=Oz(r,i),n.push(i);else n.push(Dz(r))}return n}function Dz(e){return{id:Az(),linkId:e.linkId,text:e.text,item:TR(e.item,void 0),answer:Oz(e)}}var Sne=1;function Az(){return"id-"+Sne++}function Oz(e,t){if(!(e.type===kt.display||e.type===kt.group)){if(t?.answer&&t.answer.length>0)return t.answer;if(e.initial&&e.initial.length>0)return e.initial.map(n=>({...n}));if(e.answerOption)return e.answerOption.filter(n=>n.initialSelected).map(n=>({...n,initialSelected:void 0}))}}function RR(e){return Fh({value:e},"value")}function bo(e){return Fh({value:e},"value")}function wne(e){return Fh({value:e},"answer")}function Cne(e){return Fh({value:e},"value")}function jne(e){let t=Rt(e.questionnaire),n=Rt(e.defaultValue),[,r]=b.useReducer(S=>S+1,0),a=b.useRef({activePage:0});if(!a.current.questionnaire&&t&&(a.current.questionnaire=t,a.current.pages=e.disablePagination?void 0:Ene(t)),t&&e.defaultValue&&n&&!a.current.questionnaireResponse&&(a.current.questionnaireResponse=zM(t,n),y()),t&&!e.defaultValue&&!a.current.questionnaireResponse&&(a.current.questionnaireResponse=zM(t),y()),!a.current.questionnaire||!a.current.questionnaireResponse)return{loading:!0};function i(S,x){let C=a.current.questionnaireResponse;for(let T of S)C=C?.item?.find(j=>T.id?j.id===T.id:j.linkId===T.linkId);return x&&(C=C?.item?.find(T=>T.linkId===x.linkId)),C}function l(){a.current.activePage=(a.current.activePage??0)+1,r()}function u(){a.current.activePage=(a.current.activePage??0)-1,r()}function d(S,x){let C=i(S);C&&(C.item??=[],C.item.push(Dz(x)),y())}function h(S,x){let C=i(S,x);C&&(C.answer??=[],C.answer.push({}),y())}function p(S,x,C){let T=i(S,x);T&&(T.answer=C,y())}function m(S){let x=a.current.questionnaireResponse;x&&(S?(x.extension=x.extension??[],x.extension=x.extension.filter(C=>C.url!==hg),x.extension.push({url:hg,valueSignature:S})):x.extension=x.extension?.filter(C=>C.url!==hg),y())}function g(){let S=a.current.questionnaire;if(S?.item){let x=a.current.questionnaireResponse;Tz(S.item,x)}}function y(){let S=a.current.questionnaireResponse;S&&(g(),r(),e.onChange?.(S))}return{loading:!1,pagination:!!a.current.pages,questionnaire:a.current.questionnaire,questionnaireResponse:a.current.questionnaireResponse,subject:e.subject,encounter:e.encounter,activePage:a.current.activePage,pages:a.current.pages,items:Tne(a.current.questionnaire,a.current.pages,a.current.activePage),responseItems:Rne(a.current.questionnaireResponse,a.current.pages,a.current.activePage),onNextPage:l,onPrevPage:u,onAddGroup:d,onAddAnswer:h,onChangeAnswer:p,onChangeSignature:m}}function Ene(e){if(!(!e?.item||kr(e?.item?.[0],Ez)?.valueCodeableConcept?.coding?.[0]?.code!=="page"))return e.item.map((t,n)=>({linkId:t.linkId,title:t.text??`Page ${n+1}`,group:t}))}function Tne(e,t,n=0){return t&&e?.item?.[n]?[e.item[n]]:e.item??[]}function Rne(e,t,n=0){return t&&e?.item?.[n]?[e.item[n]]:e.item??[]}var _ne=3e3;function kz(e,t,n){let r=Ae(),[a,i]=b.useState(),[l,u]=b.useState(n?.subscriptionProps),d=b.useRef(!1),h=b.useRef(void 0),p=b.useRef(void 0),m=b.useRef(void 0),g=b.useRef(t);g.current=t;let y=b.useRef(n?.onWebSocketOpen);y.current=n?.onWebSocketOpen;let S=b.useRef(n?.onWebSocketClose);S.current=n?.onWebSocketClose;let x=b.useRef(n?.onSubscriptionConnect);x.current=n?.onSubscriptionConnect;let C=b.useRef(n?.onSubscriptionDisconnect);C.current=n?.onSubscriptionDisconnect;let T=b.useRef(n?.onError);T.current=n?.onError,b.useEffect(()=>{pi(n?.subscriptionProps,l)||u(n?.subscriptionProps)},[l,n]),b.useEffect(()=>{h.current&&(clearTimeout(h.current),h.current=void 0);let O=!1;return(p.current!==e||!pi(m.current,l))&&(O=!0),O&&p.current&&r.unsubscribeFromCriteria(p.current,m.current),p.current=e,m.current=l,O&&e?i(r.subscribeToCriteria(e,l)):e||i(void 0),()=>{h.current=setTimeout(()=>{i(void 0),e&&r.unsubscribeFromCriteria(e,l)},_ne)}},[r,e,l]);let j=b.useCallback(O=>{g.current?.(O.payload)},[]),R=b.useCallback(()=>{y.current?.()},[]),_=b.useCallback(()=>{S.current?.()},[]),A=b.useCallback(O=>{x.current?.(O.payload.subscriptionId)},[]),k=b.useCallback(O=>{C.current?.(O.payload.subscriptionId)},[]),D=b.useCallback(O=>{T.current?.(O.payload)},[]);b.useEffect(()=>a?(d.current||(a.addEventListener("message",j),a.addEventListener("open",R),a.addEventListener("close",_),a.addEventListener("connect",A),a.addEventListener("disconnect",k),a.addEventListener("error",D),d.current=!0),()=>{d.current=!1,a.removeEventListener("message",j),a.removeEventListener("open",R),a.removeEventListener("close",_),a.removeEventListener("connect",A),a.removeEventListener("disconnect",k),a.removeEventListener("error",D)}):()=>{},[a,j,R,_,A,k,D])}var Dne=Object.create,_R=Object.defineProperty,Ane=Object.getOwnPropertyDescriptor,Mz=Object.getOwnPropertyNames,One=Object.getPrototypeOf,kne=Object.prototype.hasOwnProperty,Mne=(e,t,n)=>t in e?_R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yh=(e,t)=>function(){return t||(0,e[Mz(e)[0]])((t={exports:{}}).exports,t),t.exports},Pne=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Mz(t))!kne.call(e,a)&&a!==n&&_R(e,a,{get:()=>t[a],enumerable:!(r=Ane(t,a))||r.enumerable});return e},Nne=(e,t,n)=>(n=e!=null?Dne(One(e)):{},Pne(_R(n,"default",{value:e,enumerable:!0}),e)),Jt=(e,t,n)=>Mne(e,typeof t!="symbol"?t+"":t,n),Pz=Yh({"../../node_modules/rfc6902/pointer.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Pointer=e.escapeToken=e.unescapeToken=void 0;function t(a){return a.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeToken=t;function n(a){return a.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeToken=n;var r=(function(){function a(i){i===void 0&&(i=[""]),this.tokens=i}return a.fromJSON=function(i){var l=i.split("/").map(t);if(l[0]!=="")throw new Error("Invalid JSON Pointer: ".concat(i));return new a(l)},a.prototype.toString=function(){return this.tokens.map(n).join("/")},a.prototype.evaluate=function(i){for(var l=null,u="",d=i,h=1,p=this.tokens.length;h<p;h++)l=d,u=this.tokens[h],!(u=="__proto__"||u=="constructor"||u=="prototype")&&(d=(l||{})[u]);return{parent:l,key:u,value:d}},a.prototype.get=function(i){return this.evaluate(i).value},a.prototype.set=function(i,l){var u=this.evaluate(i);u.parent&&(u.parent[u.key]=l)},a.prototype.push=function(i){this.tokens.push(i)},a.prototype.add=function(i){var l=this.tokens.concat(String(i));return new a(l)},a})();e.Pointer=r}}),Nz=Yh({"../../node_modules/rfc6902/util.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.clone=e.objectType=e.hasOwnProperty=void 0,e.hasOwnProperty=Object.prototype.hasOwnProperty;function t(a){return a===void 0?"undefined":a===null?"null":Array.isArray(a)?"array":typeof a}e.objectType=t;function n(a){return a!=null&&typeof a=="object"}function r(a){if(!n(a))return a;if(a.constructor==Array){for(var i=a.length,l=new Array(i),u=0;u<i;u++)l[u]=r(a[u]);return l}if(a.constructor==Date){var d=new Date(+a);return d}var h={};for(var p in a)e.hasOwnProperty.call(a,p)&&(h[p]=r(a[p]));return h}e.clone=r}}),Iz=Yh({"../../node_modules/rfc6902/diff.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.diffAny=e.diffObjects=e.diffArrays=e.intersection=e.subtract=e.isDestructive=void 0;var t=Nz();function n(m){var g=m.op;return g==="remove"||g==="replace"||g==="copy"||g==="move"}e.isDestructive=n;function r(m,g){var y={};for(var S in m)t.hasOwnProperty.call(m,S)&&m[S]!==void 0&&(y[S]=1);for(var x in g)t.hasOwnProperty.call(g,x)&&g[x]!==void 0&&delete y[x];return Object.keys(y)}e.subtract=r;function a(m){for(var g=m.length,y={},S=0;S<g;S++){var x=m[S];for(var C in x)t.hasOwnProperty.call(x,C)&&x[C]!==void 0&&(y[C]=(y[C]||0)+1)}for(var C in y)y[C]<g&&delete y[C];return Object.keys(y)}e.intersection=a;function i(m){return m.op==="add"}function l(m){return m.op==="remove"}function u(m,g){return{operations:m.operations.concat(g),cost:m.cost+1}}function d(m,g,y,S){S===void 0&&(S=p);var x={"0,0":{operations:[],cost:0}};function C(A,k){var D="".concat(A,",").concat(k),O=x[D];if(O===void 0){if(A>0&&k>0&&!S(m[A-1],g[k-1],y.add(String(A-1))).length)O=C(A-1,k-1);else{var M=[];if(A>0){var I=C(A-1,k),L={op:"remove",index:A-1};M.push(u(I,L))}if(k>0){var V=C(A,k-1),q={op:"add",index:A-1,value:g[k-1]};M.push(u(V,q))}if(A>0&&k>0){var U=C(A-1,k-1),W={op:"replace",index:A-1,original:m[A-1],value:g[k-1]};M.push(u(U,W))}var N=M.sort(function(z,$){return z.cost-$.cost})[0];O=N}x[D]=O}return O}var T=isNaN(m.length)||m.length<=0?0:m.length,j=isNaN(g.length)||g.length<=0?0:g.length,R=C(T,j).operations,_=R.reduce(function(A,k){var D=A[0],O=A[1];if(i(k)){var M=k.index+1+O,I=M<T+O?String(M):"-",L={op:k.op,path:y.add(I).toString(),value:k.value};return[D.concat(L),O+1]}else if(l(k)){var L={op:k.op,path:y.add(String(k.index+O)).toString()};return[D.concat(L),O-1]}else{var V=y.add(String(k.index+O)),q=S(k.original,k.value,V);return[D.concat.apply(D,q),O]}},[[],0])[0];return _}e.diffArrays=d;function h(m,g,y,S){S===void 0&&(S=p);var x=[];return r(m,g).forEach(function(C){x.push({op:"remove",path:y.add(C).toString()})}),r(g,m).forEach(function(C){x.push({op:"add",path:y.add(C).toString(),value:g[C]})}),a([m,g]).forEach(function(C){x.push.apply(x,S(m[C],g[C],y.add(C)))}),x}e.diffObjects=h;function p(m,g,y,S){if(S===void 0&&(S=p),m===g)return[];var x=(0,t.objectType)(m),C=(0,t.objectType)(g);return x=="array"&&C=="array"?d(m,g,y,S):x=="object"&&C=="object"?h(m,g,y,S):[{op:"replace",path:y.toString(),value:g}]}e.diffAny=p}}),Ine=Yh({"../../node_modules/rfc6902/patch.js"(e){var t=e&&e.__extends||(function(){var T=function(j,R){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,A){_.__proto__=A}||function(_,A){for(var k in A)Object.prototype.hasOwnProperty.call(A,k)&&(_[k]=A[k])},T(j,R)};return function(j,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");T(j,R);function _(){this.constructor=j}j.prototype=R===null?Object.create(R):(_.prototype=R.prototype,new _)}})();Object.defineProperty(e,"__esModule",{value:!0}),e.apply=e.InvalidOperationError=e.test=e.copy=e.move=e.replace=e.remove=e.add=e.TestError=e.MissingError=void 0;var n=Pz(),r=Nz(),a=Iz(),i=(function(T){t(j,T);function j(R){var _=T.call(this,"Value required at path: ".concat(R))||this;return _.path=R,_.name="MissingError",_}return j})(Error);e.MissingError=i;var l=(function(T){t(j,T);function j(R,_){var A=T.call(this,"Test failed: ".concat(R," != ").concat(_))||this;return A.actual=R,A.expected=_,A.name="TestError",A}return j})(Error);e.TestError=l;function u(T,j,R){if(Array.isArray(T))if(j=="-")T.push(R);else{var _=parseInt(j,10);T.splice(_,0,R)}else T[j]=R}function d(T,j){if(Array.isArray(T)){var R=parseInt(j,10);T.splice(R,1)}else delete T[j]}function h(T,j){var R=n.Pointer.fromJSON(j.path).evaluate(T);return R.parent===void 0?new i(j.path):(u(R.parent,R.key,(0,r.clone)(j.value)),null)}e.add=h;function p(T,j){var R=n.Pointer.fromJSON(j.path).evaluate(T);return R.value===void 0?new i(j.path):(d(R.parent,R.key),null)}e.remove=p;function m(T,j){var R=n.Pointer.fromJSON(j.path).evaluate(T);if(R.parent===null)return new i(j.path);if(Array.isArray(R.parent)){if(parseInt(R.key,10)>=R.parent.length)return new i(j.path)}else if(R.value===void 0)return new i(j.path);return R.parent[R.key]=(0,r.clone)(j.value),null}e.replace=m;function g(T,j){var R=n.Pointer.fromJSON(j.from).evaluate(T);if(R.value===void 0)return new i(j.from);var _=n.Pointer.fromJSON(j.path).evaluate(T);return _.parent===void 0?new i(j.path):(d(R.parent,R.key),u(_.parent,_.key,R.value),null)}e.move=g;function y(T,j){var R=n.Pointer.fromJSON(j.from).evaluate(T);if(R.value===void 0)return new i(j.from);var _=n.Pointer.fromJSON(j.path).evaluate(T);return _.parent===void 0?new i(j.path):(u(_.parent,_.key,(0,r.clone)(R.value)),null)}e.copy=y;function S(T,j){var R=n.Pointer.fromJSON(j.path).evaluate(T);return(0,a.diffAny)(R.value,j.value,new n.Pointer).length?new l(R.value,j.value):null}e.test=S;var x=(function(T){t(j,T);function j(R){var _=T.call(this,"Invalid operation: ".concat(R.op))||this;return _.operation=R,_.name="InvalidOperationError",_}return j})(Error);e.InvalidOperationError=x;function C(T,j){switch(j.op){case"add":return h(T,j);case"remove":return p(T,j);case"replace":return m(T,j);case"move":return g(T,j);case"copy":return y(T,j);case"test":return S(T,j)}return new x(j)}e.apply=C}}),Lne=Yh({"../../node_modules/rfc6902/index.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createTests=e.createPatch=e.applyPatch=e.Pointer=void 0;var t=Pz();Object.defineProperty(e,"Pointer",{enumerable:!0,get:function(){return t.Pointer}});var n=Ine(),r=Iz();function a(h,p){return p.map(function(m){return(0,n.apply)(h,m)})}e.applyPatch=a;function i(h){function p(m,g,y){var S=h(m,g,y);return Array.isArray(S)?S:(0,r.diffAny)(m,g,y,p)}return p}function l(h,p,m){var g=new t.Pointer;return(m?i(m):r.diffAny)(h,p,g)}e.createPatch=l;function u(h,p){var m=t.Pointer.fromJSON(p).evaluate(h);if(m!==void 0)return{op:"test",path:p,value:m.value}}function d(h,p){var m=new Array;return p.filter(r.isDestructive).forEach(function(g){var y=u(h,g.path);if(y&&m.push(y),"from"in g){var S=u(h,g.from);S&&m.push(S)}}),m}e.createTests=d}});function zne(e){let t=e.value;return t?s.jsx(s.Fragment,{children:dR(t)}):null}var Lz=["meta","implicitRules","contained","extension","modifierExtension"],zz=["language","text"],pn=b.createContext({path:"",profileUrl:void 0,elements:Object.create(null),elementsByPath:Object.create(null),getExtendedProps:()=>({readonly:!1,hidden:!1}),accessPolicyResource:void 0,debugMode:!1,isDefaultContext:!0});pn.displayName="ElementsContext";var DR=["extension","modifierExtension"],$ne=["id",...Lz].filter(e=>!DR.includes(e));function qne(e){return Object.entries(e).filter(([t,n])=>!Hn(n.type)||n.max===0||n.path.toLowerCase().endsWith("extension.url")&&n.fixed||DR.includes(t)&&!Hn(n.slicing?.slices)||$ne.includes(t)?!1:!(zz.includes(t)&&n.path.split(".").length===2||t.includes(".")))}function $M(e,t){return e.line&&e.line.length>t?e.line[t]:""}function qM(e,t,n){let r=e.line||[];for(;r.length<=t;)r.push("");return r[t]=n,{...e,line:gJ(r)}}function Une(e){let[t,n]=b.useState(e.defaultValue||{}),r=b.useRef(t);r.current=t;let{getExtendedProps:a}=b.useContext(pn),[i,l,u,d,h,p,m]=b.useMemo(()=>["use","type","line1","line2","city","state","postalCode"].map(_=>a(e.path+"."+_)),[a,e.path]);function g(_){n(_),e.onChange&&e.onChange(_)}function y(_){g({...r.current,use:_})}function S(_){g({...r.current,type:_})}function x(_){g(qM(r.current||{},0,_))}function C(_){g(qM(r.current||{},1,_))}function T(_){g({...r.current,city:_})}function j(_){g({...r.current,state:_})}function R(_){g({...r.current,postalCode:_})}return s.jsxs(fe,{gap:"xs",wrap:"nowrap",grow:!0,children:[s.jsx(Vr,{disabled:e.disabled||i?.readonly,"data-testid":"address-use",defaultValue:t.use,onChange:_=>y(_.currentTarget.value),data:["","home","work","temp","old","billing"]}),s.jsx(Vr,{disabled:e.disabled||l?.readonly,"data-testid":"address-type",defaultValue:t.type,onChange:_=>S(_.currentTarget.value),data:["","postal","physical","both"]}),s.jsx(et,{disabled:e.disabled||u?.readonly,placeholder:"Line 1",defaultValue:$M(t,0),onChange:_=>x(_.currentTarget.value)}),s.jsx(et,{disabled:e.disabled||d?.readonly,placeholder:"Line 2",defaultValue:$M(t,1),onChange:_=>C(_.currentTarget.value)}),s.jsx(et,{disabled:e.disabled||h?.readonly,placeholder:"City",defaultValue:t.city,onChange:_=>T(_.currentTarget.value)}),s.jsx(et,{disabled:e.disabled||p?.readonly,placeholder:"State",defaultValue:t.state,onChange:_=>j(_.currentTarget.value)}),s.jsx(et,{disabled:e.disabled||m?.readonly,placeholder:"Postal Code",defaultValue:t.postalCode,onChange:_=>R(_.currentTarget.value)})]})}function Bne(e){let t=Pr(),[n,r]=b.useState(e.defaultValue||{});function a(i){let l=i?{text:i,authorReference:t&&Me(t),time:new Date().toISOString()}:{};r(l),e.onChange&&e.onChange(l)}return s.jsx(et,{disabled:e.disabled,name:e.name,placeholder:"Annotation text",defaultValue:n.text,onChange:i=>a(i.currentTarget.value)})}var Hne={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}},tt=(e,t,n,r)=>{let a=b.forwardRef(({color:i="currentColor",size:l=24,stroke:u=2,title:d,className:h,children:p,...m},g)=>b.createElement("svg",{ref:g,...Hne[e],width:l,height:l,className:["tabler-icon",`tabler-icon-${t}`,h].join(" "),strokeWidth:u,stroke:i,...m},[d&&b.createElement("title",{key:"svg-title"},d),...r.map(([y,S])=>b.createElement(y,S)),...Array.isArray(p)?p:[p]]));return a.displayName=`${n}`,a},Fne=[["path",{d:"M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M4 6l8 0",key:"svg-1"}],["path",{d:"M16 6l4 0",key:"svg-2"}],["path",{d:"M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M4 12l2 0",key:"svg-4"}],["path",{d:"M10 12l10 0",key:"svg-5"}],["path",{d:"M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-6"}],["path",{d:"M4 18l11 0",key:"svg-7"}],["path",{d:"M19 18l1 0",key:"svg-8"}]],Vne=tt("outline","adjustments-horizontal","AdjustmentsHorizontal",Fne),Wne=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],by=tt("outline","alert-circle","AlertCircle",Wne),Gne=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 13l-6 6",key:"svg-1"}],["path",{d:"M6 13l6 6",key:"svg-2"}]];tt("outline","arrow-down","ArrowDown",Gne);var Yne=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]],Qne=tt("outline","arrow-right","ArrowRight",Yne),Kne=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 11l-6 -6",key:"svg-1"}],["path",{d:"M6 11l6 -6",key:"svg-2"}]];tt("outline","arrow-up","ArrowUp",Kne);var Xne=[["path",{d:"M6 20a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-0"}],["path",{d:"M16 4a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-1"}],["path",{d:"M16 20a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-2"}],["path",{d:"M11 12a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-3"}],["path",{d:"M21 12a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-4"}],["path",{d:"M5.058 18.306l2.88 -4.606",key:"svg-5"}],["path",{d:"M10.061 10.303l2.877 -4.604",key:"svg-6"}],["path",{d:"M10.065 13.705l2.876 4.6",key:"svg-7"}],["path",{d:"M15.063 5.7l2.881 4.61",key:"svg-8"}]],Zne=tt("outline","binary-tree","BinaryTree",Xne),Jne=[["path",{d:"M5 19h14m1.986 -1.977a2 2 0 0 0 -.146 -.773l-7.1 -12.25a2 2 0 0 0 -3.5 0l-.815 1.405m-1.488 2.568l-4.797 8.277a2 2 0 0 0 1.75 2.75",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]],ere=tt("outline","bleach-off","BleachOff",Jne),tre=[["path",{d:"M5 19h14a2 2 0 0 0 1.84 -2.75l-7.1 -12.25a2 2 0 0 0 -3.5 0l-7.1 12.25a2 2 0 0 0 1.75 2.75",key:"svg-0"}]],nre=tt("outline","bleach","Bleach",tre),rre=[["path",{d:"M7 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M17 17v2a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h2",key:"svg-1"}]],are=tt("outline","box-multiple","BoxMultiple",rre),ire=[["path",{d:"M7 4h-4v16h4",key:"svg-0"}],["path",{d:"M17 4h4v16h-4",key:"svg-1"}],["path",{d:"M8 16h.01",key:"svg-2"}],["path",{d:"M12 16h.01",key:"svg-3"}],["path",{d:"M16 16h.01",key:"svg-4"}]],ore=tt("outline","brackets-contain","BracketsContain",ire),sre=[["path",{d:"M3 7m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M8 7v-2a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v2",key:"svg-1"}],["path",{d:"M12 12l0 .01",key:"svg-2"}],["path",{d:"M3 13a20 20 0 0 0 18 0",key:"svg-3"}]],lre=tt("outline","briefcase","Briefcase",sre),cre=[["path",{d:"M5.029 5.036c-.655 .58 -1.029 1.25 -1.029 1.964c0 2.033 3.033 3.712 6.96 3.967m3.788 -.21c3.064 -.559 5.252 -2.029 5.252 -3.757c0 -2.21 -3.582 -4 -8 -4c-1.605 0 -3.1 .236 -4.352 .643",key:"svg-0"}],["path",{d:"M4 7c0 .664 .088 1.324 .263 1.965l2.737 10.035c.5 1.5 2.239 2 5 2s4.5 -.5 5 -2c.1 -.3 .252 -.812 .457 -1.535m.862 -3.146c.262 -.975 .735 -2.76 1.418 -5.354a7.45 7.45 0 0 0 .263 -1.965",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]],ure=tt("outline","bucket-off","BucketOff",cre),dre=[["path",{d:"M12 7m-8 0a8 4 0 1 0 16 0a8 4 0 1 0 -16 0",key:"svg-0"}],["path",{d:"M4 7c0 .664 .088 1.324 .263 1.965l2.737 10.035c.5 1.5 2.239 2 5 2s4.5 -.5 5 -2c.333 -1 1.246 -4.345 2.737 -10.035a7.45 7.45 0 0 0 .263 -1.965",key:"svg-1"}]],fre=tt("outline","bucket","Bucket",dre),hre=[["path",{d:"M3 20h18v-8a3 3 0 0 0 -3 -3h-12a3 3 0 0 0 -3 3v8z",key:"svg-0"}],["path",{d:"M3 14.803c.312 .135 .654 .204 1 .197a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1c.35 .007 .692 -.062 1 -.197",key:"svg-1"}],["path",{d:"M12 4l1.465 1.638a2 2 0 1 1 -3.015 .099l1.55 -1.737z",key:"svg-2"}]],pre=tt("outline","cake","Cake",hre),mre=[["path",{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M11 15h1",key:"svg-4"}],["path",{d:"M12 15v3",key:"svg-5"}]],qs=tt("outline","calendar","Calendar",mre),gre=[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]],Ed=tt("outline","check","Check",gre),vre=[["path",{d:"M9 11l3 3l8 -8",key:"svg-0"}],["path",{d:"M20 12v6a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h9",key:"svg-1"}]];tt("outline","checkbox","Checkbox",vre);var yre=[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]],AR=tt("outline","chevron-down","ChevronDown",yre),bre=[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]],xre=tt("outline","chevron-right","ChevronRight",bre),Sre=[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]];tt("outline","chevron-up","ChevronUp",Sre);var wre=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l6 0",key:"svg-1"}]],$z=tt("outline","circle-minus","CircleMinus",wre),Cre=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M9 12h6",key:"svg-1"}],["path",{d:"M12 9v6",key:"svg-2"}]],UM=tt("outline","circle-plus","CirclePlus",Cre),jre=[["path",{d:"M7 18a4.6 4.4 0 0 1 0 -9a5 4.5 0 0 1 11 2h1a3.5 3.5 0 0 1 0 7h-1",key:"svg-0"}],["path",{d:"M9 15l3 -3l3 3",key:"svg-1"}],["path",{d:"M12 12l0 9",key:"svg-2"}]],qz=tt("outline","cloud-upload","CloudUpload",jre),Ere=[["path",{d:"M4 6l5.5 0",key:"svg-0"}],["path",{d:"M4 10l5.5 0",key:"svg-1"}],["path",{d:"M4 14l5.5 0",key:"svg-2"}],["path",{d:"M4 18l5.5 0",key:"svg-3"}],["path",{d:"M14.5 6l5.5 0",key:"svg-4"}],["path",{d:"M14.5 10l5.5 0",key:"svg-5"}],["path",{d:"M14.5 14l5.5 0",key:"svg-6"}],["path",{d:"M14.5 18l5.5 0",key:"svg-7"}]],Tre=tt("outline","columns","Columns",Ere),Rre=[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]],OR=tt("outline","copy","Copy",Rre),_re=[["path",{d:"M16.7 8a3 3 0 0 0 -2.7 -2h-4a3 3 0 0 0 0 6h4a3 3 0 0 1 0 6h-4a3 3 0 0 1 -2.7 -2",key:"svg-0"}],["path",{d:"M12 3v3m0 12v3",key:"svg-1"}]],Dre=tt("outline","currency-dollar","CurrencyDollar",_re),Are=[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]],Ore=tt("outline","dots","Dots",Are),kre=[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]],Mre=tt("outline","edit","Edit",kre),Pre=[["path",{d:"M12 5.5m-2.5 0a2.5 2.5 0 1 0 5 0a2.5 2.5 0 1 0 -5 0",key:"svg-0"}],["path",{d:"M12 21.368l5.095 -5.096a3.088 3.088 0 1 0 -4.367 -4.367l-.728 .727l-.728 -.727a3.088 3.088 0 1 0 -4.367 4.367l5.095 5.096z",key:"svg-1"}]],Nre=tt("outline","empathize","Empathize",Pre),Ire=[["path",{d:"M5 10h14",key:"svg-0"}],["path",{d:"M5 14h14",key:"svg-1"}],["path",{d:"M5 19l14 -14",key:"svg-2"}]],Qh=tt("outline","equal-not","EqualNot",Ire),Lre=[["path",{d:"M5 10h14",key:"svg-0"}],["path",{d:"M5 14h14",key:"svg-1"}]],Kh=tt("outline","equal","Equal",Lre),zre=[["path",{d:"M10.585 10.587a2 2 0 0 0 2.829 2.828",key:"svg-0"}],["path",{d:"M16.681 16.673a8.717 8.717 0 0 1 -4.681 1.327c-3.6 0 -6.6 -2 -9 -6c1.272 -2.12 2.712 -3.678 4.32 -4.674m2.86 -1.146a9.055 9.055 0 0 1 1.82 -.18c3.6 0 6.6 2 9 6c-.666 1.11 -1.379 2.067 -2.138 2.87",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]],$re=tt("outline","eye-off","EyeOff",zre),qre=[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]],Ure=tt("outline","eye","Eye",qre),Bre=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M12 17l.01 0",key:"svg-2"}],["path",{d:"M12 11l0 3",key:"svg-3"}]],BM=tt("outline","file-alert","FileAlert",Bre),Hre=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M12 11l0 6",key:"svg-2"}],["path",{d:"M9 14l6 0",key:"svg-3"}]],Fre=tt("outline","file-plus","FilePlus",Hre),Vre=[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]],Wre=tt("outline","filter","Filter",Vre),Gre=[["path",{d:"M9 6.371c0 4.418 -2.239 6.629 -5 6.629",key:"svg-0"}],["path",{d:"M4 6.371h7",key:"svg-1"}],["path",{d:"M5 9c0 2.144 2.252 3.908 6 4",key:"svg-2"}],["path",{d:"M12 20l4 -9l4 9",key:"svg-3"}],["path",{d:"M19.1 18h-6.2",key:"svg-4"}],["path",{d:"M6.694 3l.793 .582",key:"svg-5"}]],Yre=tt("outline","language","Language",Gre),Qre=[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 4l0 16",key:"svg-1"}]],Kre=tt("outline","layout-sidebar","LayoutSidebar",Qre),Xre=[["path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M9 12h12l-3 -3",key:"svg-1"}],["path",{d:"M18 15l3 -3",key:"svg-2"}]],Zre=tt("outline","logout","Logout",Xre),Jre=[["path",{d:"M9 11a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M17.657 16.657l-4.243 4.243a2 2 0 0 1 -2.827 0l-4.244 -4.243a8 8 0 1 1 11.314 0z",key:"svg-1"}]],eae=tt("outline","map-pin","MapPin",Jre),tae=[["path",{d:"M5 18l14 -6l-14 -6",key:"svg-0"}]],Uz=tt("outline","math-greater","MathGreater",tae),nae=[["path",{d:"M19 18l-14 -6l14 -6",key:"svg-0"}]],Bz=tt("outline","math-lower","MathLower",nae),rae=[["path",{d:"M8 9h8",key:"svg-0"}],["path",{d:"M8 13h6",key:"svg-1"}],["path",{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z",key:"svg-2"}]],aae=tt("outline","message","Message",rae),iae=[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]],oae=tt("outline","pencil","Pencil",iae),sae=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]],Hz=tt("outline","plus","Plus",sae),lae=[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]],cae=tt("outline","refresh","Refresh",lae),uae=[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]],xy=tt("outline","search","Search",uae),dae=[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]],Tj=tt("outline","settings","Settings",dae),fae=[["path",{d:"M4 6l7 0",key:"svg-0"}],["path",{d:"M4 12l7 0",key:"svg-1"}],["path",{d:"M4 18l9 0",key:"svg-2"}],["path",{d:"M15 9l3 -3l3 3",key:"svg-3"}],["path",{d:"M18 6l0 12",key:"svg-4"}]],kR=tt("outline","sort-ascending","SortAscending",fae),hae=[["path",{d:"M4 6l9 0",key:"svg-0"}],["path",{d:"M4 12l7 0",key:"svg-1"}],["path",{d:"M4 18l7 0",key:"svg-2"}],["path",{d:"M15 15l3 3l3 -3",key:"svg-3"}],["path",{d:"M18 6l0 12",key:"svg-4"}]],MR=tt("outline","sort-descending","SortDescending",hae),pae=[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}]];tt("outline","square","Square",pae);var mae=[["path",{d:"M6 4h-1a2 2 0 0 0 -2 2v3.5h0a5.5 5.5 0 0 0 11 0v-3.5a2 2 0 0 0 -2 -2h-1",key:"svg-0"}],["path",{d:"M8 15a6 6 0 1 0 12 0v-3",key:"svg-1"}],["path",{d:"M11 3v2",key:"svg-2"}],["path",{d:"M6 3v2",key:"svg-3"}],["path",{d:"M20 10m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-4"}]],gae=tt("outline","stethoscope","Stethoscope",mae),vae=[["path",{d:"M16 3l4 4l-4 4",key:"svg-0"}],["path",{d:"M10 7l10 0",key:"svg-1"}],["path",{d:"M8 13l-4 4l4 4",key:"svg-2"}],["path",{d:"M4 17l9 0",key:"svg-3"}]],yae=tt("outline","switch-horizontal","SwitchHorizontal",vae),bae=[["path",{d:"M12.5 21h-7.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v7.5",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}],["path",{d:"M16 19h6",key:"svg-3"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-4"}]],xae=tt("outline","table-export","TableExport",bae),Sae=[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]],PR=tt("outline","trash","Trash",Sae),wae=[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]],NR=tt("outline","x","X",wae),Fz=class extends b.Component{constructor(e){super(e),Jt(this,"state"),this.state={lastLocation:pr.getLocation()}}static getDerivedStateFromError(e){return{error:e,lastLocation:pr.getLocation()}}componentDidUpdate(e,t){pr.getLocation()!==this.state.lastLocation&&this.setState({lastLocation:pr.getLocation(),error:void 0})}shouldComponentUpdate(e,t){return!!(this.props.children!==e.children||t.error&&!this.state.error||this.state.lastLocation!==pr.getLocation())}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){return this.state.error?s.jsx(dl,{icon:s.jsx(by,{size:16}),title:"Something went wrong",color:"red",children:Vt(this.state.error)}):this.props.children}};function Fi(){return s.jsx(gr,{style:{width:"100%",height:"100vh"},children:s.jsx(tr,{})})}var Cae={main:"AppShell_main"};function ya(e){e.preventDefault(),e.stopPropagation()}function IR(e){return e.button===1||e.ctrlKey||e.metaKey}function Vz(e){if(HM(e))return!0;if(e instanceof HTMLTableCellElement){let t=e.children;if(t.length===1&&HM(t[0]))return!0}return!1}function HM(e){return e instanceof HTMLInputElement&&e.type==="checkbox"}async function jae(e,t){return new Promise((n,r)=>{let a=new MessageChannel;a.port1.onmessage=({data:i})=>{a.port1.close(),i.error?r(i.error):n(i.result)},e.contentWindow?.postMessage(t,new URL(e.src).origin,[a.port2])})}function Eae(e,t){let n=new Blob([e],{type:Dn.JSON}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r;let i=t;a.download=`${i}.json`,document.body.appendChild(a),a.click(),URL.revokeObjectURL(r)}function ba(e){let t=jd(),{to:n,suffix:r,label:a,onClick:i,children:l,...u}=e,d=Tae(n);return r&&(d+="/"+r),s.jsx($a,{href:d,"aria-label":a,onAuxClick:h=>{h.stopPropagation()},onClick:h=>{h.stopPropagation(),i?(h.preventDefault(),i(h)):n&&(IR(h)||(h.preventDefault(),t(d)))},...u,children:l})}function Tae(e){if(e){if(typeof e=="string")return Rae(e);if(zi(e))return _ae(e);if(Ia(e))return Dae(e)}return"#"}function Rae(e){return e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/")?e:"/"+e}function _ae(e){return`/${e.resourceType}/${e.id}`}function Dae(e){return`/${e.reference}`}function Aae(e){let t=e.split(" ").filter(Boolean);return t.length>1?t[0][0]+t.at(-1)?.at(0):t.length===1?t[0][0]:""}function xa(e){let t=Rt(e.value),n=t?nr(t):e.alt??"",r=Aae(n),a=(t&&cJ(t))??e.src,i=jz(a??void 0),l=e.radius??"xl",u={...e,value:void 0,link:void 0};return e.link?s.jsx(ba,{to:t,children:s.jsx(Jo,{src:i,alt:n,radius:l,...u,children:r})}):s.jsx(Jo,{src:i,alt:n,radius:l,...u,children:r})}var Gx={logoButton:"Header_logoButton",user:"Header_user",userName:"Header_userName"};function Wz(e){let t=e.value;return t?s.jsx(s.Fragment,{children:Gn(t,e.options)}):null}function Oae(){return"Medplum"}function Gz(e){let t=yy(),{medplum:n,profile:r,navigate:a}=t,i=n.getLogins(),{colorScheme:l,setColorScheme:u}=MF(),[d]=b.useState(localStorage.appShellLayoutVersion??"v1");function h(p){localStorage.appShellLayoutVersion=p,pr.reload()}return s.jsxs(s.Fragment,{children:[s.jsxs(oe,{align:"center",p:"xl",children:[s.jsx(xa,{size:"xl",radius:100,value:t.profile}),s.jsx(Wz,{value:t.profile?.name?.[0]}),s.jsx(Y,{c:"dimmed",size:"xs",children:n.getActiveLogin()?.project.display})]}),i.length>1&&s.jsx(ye.Divider,{}),i.map(p=>p.profile.reference!==Oe(t.profile)&&s.jsx(ye.Item,{onClick:()=>{n.setActiveLogin(p).then(()=>pr.reload()).catch(console.log)},children:s.jsxs(fe,{children:[s.jsx(Jo,{radius:"xl"}),s.jsxs("div",{style:{flex:1},children:[s.jsx(Y,{size:"sm",fw:500,children:p.profile.display}),s.jsx(Y,{c:"dimmed",size:"xs",children:p.project.display})]})]})},p.profile.reference)),s.jsx(ye.Divider,{}),s.jsxs(fe,{justify:"center",children:[s.jsx(el,{size:"xs",value:l,onChange:p=>u(p),data:[{label:"Light",value:"light"},{label:"Dark",value:"dark"},{label:"Auto",value:"auto"}]}),s.jsx(el,{size:"xs",value:d,onChange:p=>h(p),data:[{label:"v1",value:"v1"},{label:"v2",value:"v2"}]})]}),s.jsx(ye.Divider,{}),s.jsx(ye.Item,{leftSection:s.jsx(yae,{size:14,stroke:1.5}),onClick:()=>a("/signin"),children:"Add another account"}),s.jsx(ye.Item,{leftSection:s.jsx(Tj,{size:14,stroke:1.5}),onClick:()=>a(`/${Oe(r)}`),children:"Account settings"}),s.jsx(ye.Item,{leftSection:s.jsx(Zre,{size:14,stroke:1.5}),onClick:async()=>{await n.signOut(),a("/signin")},children:"Sign out"}),s.jsxs(Y,{size:"xs",c:"dimmed",my:"sm",ta:"center",children:[Oae()," ",e.version]})]})}var FM={selectedItems:"selected-items",options:"options"};function Nc(e){let t=Nh({onDropdownClose:()=>t.resetSelectedOption(),onDropdownOpen:()=>t.updateSelectedOptionIndex("active")}),{name:n,label:r,description:a,error:i,defaultValue:l,toOption:u,loadOptions:d,itemComponent:h,pillComponent:p,emptyComponent:m,onChange:g,onCreate:y,creatable:S,clearable:x,required:C,placeholder:T,leftSection:j,maxValues:R,optionsDropdownMaxHeight:_=320,minInputLength:A=0,...k}=e,D=k.disabled,O=kae(l),[M,I]=b.useState(""),[L,V]=b.useState(),[q,U]=b.useState(),[W,N]=b.useState(),[z,$]=b.useState(O.map(u)),[G,X]=b.useState([]),H=h??Mae,F=p??Pae,Q=m??Nae,J=b.useRef(M);J.current=M;let re=b.useRef(void 0),ue=b.useRef(void 0),Ee=b.useRef(L);Ee.current=L;let Re=b.useRef(q);Re.current=q;let Se=b.useRef(W);Se.current=W;let Ge=b.useRef(G);Ge.current=G;let Ze=b.useCallback(()=>{if(V(void 0),J.current===ue.current&&d===re.current||(J.current?.length??0)<A)return;ue.current=J.current,re.current=d;let Ve=new AbortController;U(Ve),d(J.current??"",Ve.signal).then(dt=>{Ve.signal.aborted||(X(dt.map(u)),Se.current?(dt.length>0&&g(dt.slice(0,1)),N(!1)):dt.length>0&&t.openDropdown())}).catch(dt=>{Ve.signal.aborted||dt.message.includes("aborted")||wt({color:"red",message:Vt(dt)})}).finally(()=>{Ve.signal.aborted||U(void 0)})},[t,d,g,u,A]),Fe=b.useCallback(Ve=>{(G&&G.length>0||S)&&t.openDropdown(),t.updateSelectedOptionIndex(),I(Ve.currentTarget.value),Re.current&&(Re.current.abort(),U(void 0)),Ee.current!==void 0&&window.clearTimeout(Ee.current);let dt=window.setTimeout(()=>Ze(),100);V(dt)},[t,G,S,Ze]),ze=b.useCallback(Ve=>{let dt=z.some(lt=>lt.value===Ve),ct=dt?z.filter(lt=>lt.value!==Ve):[...z],ft=G?.find(lt=>lt.value===Ve);if(!ft&&S!==!1&&y){let lt=y(Ve);ft=u(lt)}if(ft){if(R===0){g([ft.resource]),z.length>0&&$([]);return}dt||ct.push(ft)}if(R!==void 0)for(;ct.length>R;)ct.shift();g(ct.map(lt=>lt.resource)),$(ct)},[S,G,z,R,g,y,u]),pt=b.useMemo(()=>{if(!D)return Ve=>{D||(R===1&&(I(""),X([]),t.closeDropdown()),ue.current=void 0,Ve==="$create"?(I(""),ze(M)):ze(Ve))}},[ze,t,D,R,M]),Xe=b.useCallback(Ve=>{let dt=z.filter(ct=>ct.value!==Ve.value);g(dt.map(ct=>ct.resource)),$(dt)},[z,g]),Ut=b.useCallback(Ve=>{Ve.key==="Enter"?(L||q)&&N(!0):Ve.key==="Backspace"&&M.length===0&&(ya(Ve),Xe(z[z.length-1]))},[q,Xe,M.length,z,L]);b.useEffect(()=>()=>{Re.current&&Re.current.abort()},[]);let ot=!D&&x&&z.length>0&&s.jsx(st.ClearButton,{title:"Clear all",size:"sm",onClear:()=>{I(""),$([]),g([]),t.closeDropdown()}}),Dt=S&&M.trim().length>0,Tt=G.length>0||Dt;return s.jsxs(st,{store:t,onOptionSubmit:pt,withinPortal:!0,shadow:"xl",...k,children:[s.jsx(st.DropdownTarget,{children:s.jsx(td,{label:r,description:a,error:i,className:e.className,leftSection:j,rightSection:q?s.jsx(tr,{size:16}):ot,required:C,disabled:D,children:s.jsxs(lc.Group,{"data-testid":FM.selectedItems,children:[z.map(Ve=>s.jsx(F,{item:Ve,disabled:D,onRemove:()=>Xe(Ve)},Ve.value)),!D&&(R===void 0||R===0||z.length<R)&&s.jsx(st.EventsTarget,{children:s.jsx(td.Field,{role:"searchbox",name:n,value:M,placeholder:T,onFocus:Fe,onBlur:()=>{t.closeDropdown(),I("")},onKeyDown:Ut,onChange:Fe})})]})})}),s.jsx(st.Dropdown,{hidden:!Tt,"data-testid":FM.options,children:s.jsx(st.Options,{children:s.jsxs(Rv,{type:"scroll",mah:_,children:[G.map(Ve=>{let dt=z.some(ct=>ct.value===Ve.value);return s.jsx(st.Option,{value:Ve.value,active:dt,children:s.jsx(H,{...Ve,active:dt})},Ve.value)}),Dt&&s.jsxs(st.Option,{value:"$create",children:["+ Create ",M]}),!S&&M.trim().length>0&&G.length===0&&s.jsx(Q,{search:M})]})})})]})}function kae(e){return e?Array.isArray(e)?e:[e]:[]}function Mae(e){return s.jsxs(fe,{gap:"xs",children:[e.active&&s.jsx(Ed,{size:12}),s.jsx("span",{children:e.label})]})}function Pae({item:e,disabled:t,onRemove:n}){return s.jsx(lc,{withRemoveButton:!t,onRemove:n,children:e.label})}function Nae(){return s.jsx(st.Empty,{children:"Nothing found"})}var Iae={searchInput:"HeaderSearchInput_searchInput"};function Lae(e){return{value:e.id,label:nr(e),resource:e}}function zae(e){let t=jd(),n=Ae(),r=b.useCallback(async(i,l)=>{let u=qae(i),d={signal:l},h=await n.graphql(u,void 0,void 0,d);return Uae(h,i)},[n]),a=b.useCallback(i=>{i.length>0&&t(`/${Oe(i[0])}`)},[t]);return s.jsx(Nc,{size:"sm",radius:"md",className:Iae.searchInput,leftSection:s.jsx(xy,{size:16}),placeholder:"Search",itemComponent:$ae,toOption:Lae,onChange:a,loadOptions:r,maxValues:0,clearable:!1},`${e.pathname}?${e.searchParams}`)}var $ae=b.forwardRef(({resource:e,active:t,...n},r)=>{let a;return e.resourceType==="Patient"?a=e.birthDate:e.resourceType==="ServiceRequest"&&(a=e.subject?.display),s.jsx("div",{ref:r,...n,children:s.jsxs(fe,{wrap:"nowrap",children:[s.jsx(xa,{value:e}),s.jsxs("div",{children:[s.jsx(Y,{children:nr(e)}),s.jsx(Y,{size:"xs",c:"dimmed",children:a})]})]})})});function qae(e){let t=JSON.stringify(e);return J6(e)?`{
      Patients1: PatientList(_id: ${t}, _count: 1) {
        resourceType
        id
        identifier {
          system
          value
        }
        name {
          given
          family
        }
        birthDate
      }
      ServiceRequestList(_id: ${t}, _count: 1) {
        resourceType
        id
        identifier {
          system
          value
        }
        subject {
          display
        }
      }
    }`.replaceAll(/\s+/g," "):`{
    Patients1: PatientList(name: ${t}, _count: 5) {
      resourceType
      id
      identifier {
        system
        value
      }
      name {
        given
        family
      }
      birthDate
    }
    Patients2: PatientList(identifier: ${t}, _count: 5) {
      resourceType
      id
      identifier {
        system
        value
      }
      name {
        given
        family
      }
      birthDate
    }
    ServiceRequestList(identifier: ${t}, _count: 5) {
      resourceType
      id
      identifier {
        system
        value
      }
      subject {
        display
      }
    }
  }`.replaceAll(/\s+/g," ")}function Uae(e,t){let n=[];return e.data.Patients1&&n.push(...e.data.Patients1),e.data.Patients2&&n.push(...e.data.Patients2),e.data.ServiceRequestList&&n.push(...e.data.ServiceRequestList),Hae(Bae(n),t).slice(0,5)}function Bae(e){let t=new Set,n=[];for(let r of e)t.has(r.id)||(t.add(r.id),n.push(r));return n}function Hae(e,t){return e.sort((n,r)=>VM(r,t)-VM(n,t))}function VM(e,t){let n=0;if(e.identifier)for(let r of e.identifier)n=Math.max(n,WM(r.value,t));if(e.resourceType==="Patient"&&e.name)for(let r of e.name)n=Math.max(n,WM(Gn(r),t));return n}function WM(e,t){if(!e)return 0;let n=e.toLowerCase().indexOf(t.toLowerCase());return n<0?0:100-n}function Fae(e){let t=Pr(),[n,r]=b.useState(!1);return s.jsx(Br.Header,{p:8,style:{zIndex:101},children:s.jsxs(fe,{justify:"space-between",children:[s.jsxs(fe,{gap:"xs",children:[s.jsx(Vn,{className:Gx.logoButton,"aria-expanded":e.navbarOpen,"aria-controls":"navbar",onClick:()=>e.navbarToggle(),children:e.logo}),!e.headerSearchDisabled&&s.jsx(zae,{pathname:e.pathname,searchParams:e.searchParams})]}),s.jsxs(fe,{gap:"lg",pr:"sm",children:[e.notifications,s.jsxs(ye,{width:260,shadow:"xl",position:"bottom-end",transitionProps:{transition:"fade-down"},opened:n,onClose:()=>r(!1),children:[s.jsx(ye.Target,{children:s.jsx(Vn,{className:Gx.user,"aria-label":"User menu","data-active":n||void 0,onClick:()=>r(a=>!a),children:s.jsxs(fe,{gap:7,children:[s.jsx(xa,{value:t,radius:"xl",size:24}),s.jsx(Y,{size:"sm",className:Gx.userName,children:Gn(t?.name?.[0])}),s.jsx(AR,{size:12,stroke:1.5})]})})}),s.jsx(ye.Dropdown,{children:s.jsx(Gz,{version:e.version})})]})]})]})})}function Vae(e){let t=e,n=!1,r=new Set;return{getState(){return t},updateState(a){t=typeof a=="function"?a(t):a},setState(a){this.updateState(a),r.forEach(i=>i(t))},initialize(a){n||(t=a,n=!0)},subscribe(a){return r.add(a),()=>r.delete(a)}}}function Wae(e){return b.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}var Gae=()=>Vae({opened:!1,empty:!1,selected:-1,listId:"",query:"",registeredActions:new Set}),Yae=e=>Wae(e);function od(e,t){let n=t.getState();t.setState({...n,...e(t.getState())})}function Yz(e){od(()=>({opened:!0,selected:-1}),e)}function Qz(e){od(()=>({opened:!1}),e)}function Kz(e){od(t=>({opened:!t.opened,selected:t.opened?t.selected:-1}),e)}function Xz(e,t){t.updateState(n=>({...n,selected:e}))}function Qae(e,t){t.updateState(n=>({...n,listId:e}))}function Qg(e,t=document){let n=t.querySelector(e);if(n)return n;let r=t instanceof ShadowRoot?t.host.children:t.children;for(let a=0;a<r.length;a+=1){let i=r[a];if(i.shadowRoot){let u=Qg(e,i.shadowRoot);if(u)return u}let l=Qg(e,i);if(l)return l}return null}function Sy(e,t){let n=t.getState(),r=n.listId?Qg(`#${n.listId}`):null,a=r?.querySelector("[data-selected]"),i=r?.querySelectorAll("[data-action]")??[],l=e===-1?i.length-1:e===i.length?0:e,u=fH(l,0,i.length-1);return a?.removeAttribute("data-selected"),i[u]?.scrollIntoView({block:"nearest"}),i[u]?.setAttribute("data-selected","true"),Xz(u,t),u}function Kae(e){return Sy(e.getState().selected+1,e)}function Xae(e){return Sy(e.getState().selected-1,e)}function Zae(e){let t=e.getState();Qg(`#${t.listId} [data-selected]`)?.click()}function Jae(e,t){let n=t.getState();return n.registeredActions.add(e),()=>{n.registeredActions.delete(e)}}function eie(e,t){od(()=>({query:e}),t),Promise.resolve().then(()=>{Sy(0,t),od(n=>({empty:n.query.trim().length>0&&n.registeredActions.size===0||!1}),t)})}function tie({clearQuery:e},t){t.updateState(n=>({...n,selected:-1,query:e?"":n.query,empty:e?!1:n.empty}))}var ho={open:Yz,close:Qz,toggle:Kz,updateState:od,setSelectedAction:Xz,setListId:Qae,selectAction:Sy,selectNextAction:Kae,selectPreviousAction:Xae,triggerSelectedAction:Zae,registerAction:Jae,setQuery:eie,clearSpotlightState:tie};function nie(){let e=Gae();return[e,{open:()=>Yz(e),close:()=>Qz(e),toggle:()=>Kz(e)}]}var[Zz,Xh]=nie(),{open:eCe,close:tCe,toggle:nCe}=Xh;function Jz(e){let t=e;return t.group!==void 0&&Array.isArray(t.actions)}function rie(e){return Array.isArray(e)?e.map(t=>t.trim()).join(",").toLowerCase().trim():typeof e=="string"?e.toLowerCase().trim():""}function aie(e){return e.reduce((t,n)=>"actions"in n?[...t,...n.actions.map(r=>({...r,group:n.group}))]:[...t,n],[])}function iie(e){let t={},n=[];return e.forEach(r=>{r.group?(t[r.group]||(t[r.group]={pushed:!1,data:{group:r.group,actions:[]}}),t[r.group].data.actions.push(r),t[r.group].pushed||(t[r.group].pushed=!0,n.push(t[r.group].data))):n.push(r)}),n}var oie=(e,t)=>{let n=e.trim().toLowerCase(),r=[[],[]];return aie(t).forEach(a=>{a.label?.toLowerCase().includes(n)?r[0].push(a):(a.description?.toLowerCase().includes(n)||rie(a.keywords).includes(n))&&r[1].push(a)}),iie(r.flat())};function e$(e,t){if(!Array.isArray(e))return[];let n=0;return e.reduce((r,a)=>{if(n>=t)return r;if(Jz(a)){let i=e$(a.actions,t-n);r.push({group:a.group,actions:i}),n+=i.length}else r.push(a),n+=1;return r},[])}var[sie,Td]=yr("Spotlight component was not found in tree"),xo={root:"m_d2b315db",content:"m_3cd250e0",body:"m_d2abce9b",search:"m_f366a061",actionsList:"m_6e463822",action:"m_d49bb8ef",actionBody:"m_3d475731",actionSection:"m_832642f6",actionLabel:"m_6c2a1345",actionDescription:"m_a6d9d78d",empty:"m_82f78f74",footer:"m_ddcaf054",actionsGroup:"m_5a3e5f7b"},lie={dimmedSections:!0,highlightQuery:!1},lh=xe((e,t)=>{let n=se("SpotlightAction",lie,e),{className:r,style:a,classNames:i,styles:l,id:u,description:d,label:h,leftSection:p,rightSection:m,children:g,dimmedSections:y,highlightQuery:S,highlightColor:x,closeSpotlightOnTrigger:C,onClick:T,onMouseDown:j,keywords:R,vars:_,...A}=n,k=Td(),D={classNames:i,styles:l},O=S&&typeof h=="string"?s.jsx(bT,{component:"span",highlight:k.query,color:x,...k.getStyles("actionLabel",D),children:h}):s.jsx("span",{...k.getStyles("actionLabel",D),children:h});return s.jsx(Vn,{ref:t,"data-action":!0,...k.getStyles("action",{className:r,style:a,...D}),...A,onMouseDown:M=>{M.preventDefault(),j?.(M)},onClick:M=>{T?.(M),(C??k.closeOnActionTrigger)&&ho.close(k.store)},tabIndex:-1,children:g||s.jsxs(s.Fragment,{children:[p&&s.jsx(ne,{component:"span",mod:{position:"left",dimmed:y},...k.getStyles("actionSection",D),children:p}),s.jsxs("span",{...k.getStyles("actionBody",D),children:[O,s.jsx("span",{...k.getStyles("actionDescription",D),children:d})]}),m&&s.jsx(ne,{component:"span",mod:{position:"right",dimmed:y},...k.getStyles("actionSection",D),children:m})]})})});lh.classes=xo;lh.displayName="@mantine/spotlight/SpotlightAction";var wy=xe((e,t)=>{let{className:n,style:r,styles:a,classNames:i,label:l,children:u,...d}=se("SpotlightActionsGroup",null,e),h=Td();return s.jsx(ne,{...h.getStyles("actionsGroup",{className:n,style:r,classNames:i,styles:a}),ref:t,...d,__vars:{"--spotlight-label":`'${l?.replace(/\\/g,"\\\\").replace(/'/g,"\\'")}'`},children:u})});wy.classes=xo;wy.displayName="@mantine/core/SpotlightActionsGroup";var Cy=xe((e,t)=>{let{className:n,style:r,id:a,children:i,vars:l,classNames:u,styles:d,...h}=se("SpotlightActionsList",null,e),p=Td(),m=`mantine-${b.useId().replace(/:/g,"")}`,g=a||m;return b.useEffect(()=>(ho.setListId(g,p.store),()=>ho.setListId("",p.store)),[]),s.jsx(Sn.Autosize,{...p.getStyles("actionsList",{className:n,style:r,classNames:u,styles:d}),ref:t,type:"scroll",scrollbarSize:"var(--spotlight-actions-list-padding)",offsetScrollbars:"y",id:g,...h,children:i})});Cy.classes=xo;Cy.displayName="@mantine/spotlight/SpotlightActionsList";var jy=xe((e,t)=>{let{className:n,style:r,classNames:a,styles:i,...l}=se("SpotlightEmpty",null,e),u=Td();return s.jsx(ne,{ref:t,...u.getStyles("empty",{classNames:a,styles:i,className:n,style:r}),...l})});jy.classes=xo;jy.displayName="@mantine/spotlight/SpotlightEmpty";var LR=xe((e,t)=>{let{className:n,style:r,classNames:a,styles:i,...l}=se("SpotlightFooter",null,e),u=Td();return s.jsx(ne,{ref:t,...u.getStyles("footer",{className:n,classNames:a,style:r,styles:i}),...l})});LR.classes=xo;LR.displayName="@mantine/spotlight/SpotlightFooter";function cie(e,t){if(!e)return[];let n=()=>ho.open(t);return Array.isArray(e)?e.map(r=>[r,n]):[[e,n]]}var uie={size:600,yOffset:80,zIndex:br("max"),overlayProps:{backgroundOpacity:.35,blur:7},transitionProps:{duration:200,transition:"pop"},store:Zz,clearQueryOnClose:!0,closeOnActionTrigger:!0,shortcut:"mod + K",maxHeight:400},Ey=xe((e,t)=>{let n=se("SpotlightRoot",uie,e),{classNames:r,className:a,style:i,styles:l,unstyled:u,vars:d,store:h,children:p,query:m,onQueryChange:g,transitionProps:y,clearQueryOnClose:S,shortcut:x,tagsToIgnore:C,triggerOnContentEditable:T,disabled:j,onSpotlightOpen:R,onSpotlightClose:_,forceOpened:A,closeOnActionTrigger:k,maxHeight:D,scrollable:O,attributes:M,...I}=n,L=wn(),{opened:V,query:q}=Yae(h),U=typeof m=="string"?m:q,W=z=>{g?.(z),ho.setQuery(z,h)},N=Ne({name:"Spotlight",classes:xo,props:n,className:a,style:i,classNames:r,styles:l,unstyled:u,attributes:M});return qH(cie(x,h),C,T),Zs(()=>{V?R?.():_?.()},[V]),j?null:s.jsx(sie,{value:{getStyles:N,query:U,setQuery:W,store:h,closeOnActionTrigger:k},children:s.jsx(Mt,{ref:t,...I,withCloseButton:!1,opened:V||!!A,padding:0,onClose:()=>ho.close(h),className:a,style:i,classNames:Dh({theme:L,classNames:[xo,r],props:n,stylesCtx:void 0}),styles:Jf({theme:L,styles:l,props:n,stylesCtx:void 0}),transitionProps:{...y,onExited:()=>{S&&W(""),ho.clearSpotlightState({clearQuery:S},h),y?.onExited?.()}},__vars:{"--spotlight-max-height":O?me(D):void 0},__staticSelector:"Spotlight","data-scrollable":O||void 0,children:p})})});Ey.classes=xo;Ey.displayName="@mantine/spotlight/SpotlightRoot";var die={size:"lg"},Ty=xe((e,t)=>{let{classNames:n,styles:r,onKeyDown:a,onChange:i,vars:l,value:u,...d}=se("SpotlightSearch",die,e),h=Td(),p=h.getStyles("search"),[m,g]=b.useState(!1),y=S=>{a?.(S),!m&&(S.nativeEvent.code==="ArrowDown"&&(S.preventDefault(),ho.selectNextAction(h.store)),S.nativeEvent.code==="ArrowUp"&&(S.preventDefault(),ho.selectPreviousAction(h.store)),(S.nativeEvent.code==="Enter"||S.nativeEvent.code==="NumpadEnter")&&(S.preventDefault(),ho.triggerSelectedAction(h.store)))};return s.jsx(nn,{ref:t,classNames:[{input:p.className},n],styles:[{input:p.style},r],...d,value:u??h.query,onChange:S=>{h.setQuery(S.currentTarget.value),i?.(S)},onKeyDown:y,onCompositionStart:()=>g(!0),onCompositionEnd:()=>g(!1)})});Ty.classes=xo;Ty.displayName="@mantine/spotlight/SpotlightSearch";var fie={size:600,yOffset:80,limit:1/0,zIndex:br("max"),overlayProps:{backgroundOpacity:.35,blur:7},transitionProps:{duration:200,transition:"pop"},store:Zz,filter:oie,clearQueryOnClose:!0,closeOnActionTrigger:!0,shortcut:"mod + K"},Va=xe((e,t)=>{let n=se("Spotlight",fie,e),{searchProps:r,filter:a,query:i,onQueryChange:l,actions:u,nothingFound:d,highlightQuery:h,limit:p,scrollAreaProps:m,...g}=n,[y,S]=sr({value:i,defaultValue:"",finalValue:"",onChange:l}),x=e$(a(y,u),p).map(C=>{if(Jz(C)){let T=C.actions.map(({id:j,...R})=>s.jsx(lh,{highlightQuery:h,...R},j));return s.jsx(wy,{label:C.group,children:T},C.group)}return s.jsx(lh,{highlightQuery:h,...C},C.id)});return s.jsxs(Ey,{...g,query:y,onQueryChange:S,ref:t,children:[s.jsx(Ty,{...r}),s.jsxs(Cy,{...m,children:[x,x.length===0&&d&&s.jsx(jy,{children:d})]})]})});Va.classes=xo;Va.displayName="@mantine/spotlight/Spotlight";Va.Search=Ty;Va.ActionsList=Cy;Va.Action=lh;Va.Empty=jy;Va.ActionsGroup=wy;Va.Footer=LR;Va.Root=Ey;Va.open=Xh.open;Va.close=Xh.close;Va.toggle=Xh.toggle;var zR=b.createContext({submitting:!1});zR.displayName="FormContext";function hie(e){let t={};for(let n of Array.from(e.elements))n instanceof HTMLInputElement?pie(t,n):n instanceof HTMLTextAreaElement?t[n.name]=n.value:n instanceof HTMLSelectElement&&mie(t,n);return t}function pie(e,t){t.disabled||(t.type==="checkbox"||t.type==="radio")&&!t.checked||(e[t.name]=t.value)}function mie(e,t){e[t.name]=t.value}function ar(e){let[t,n]=b.useState(!1);return s.jsx(zR.Provider,{value:{submitting:t},children:s.jsx("form",{style:e.style,"data-testid":e.testid,onSubmit:r=>{r.preventDefault();let a=hie(r.target);if(e.onSubmit){n(!0);let i=e.onSubmit(a);i?.then?i.catch(console.error).finally(()=>{n(!1)}):n(!1)}},children:e.children})})}function Nr(e){let{children:t,...n}=e,{submitting:r}=b.useContext(zR);return s.jsx(Pe,{type:"submit",loading:r,...n,children:t})}function gie(e){let t=Ae(),n=t.getUserConfiguration();function r(a){let{menuname:i,bookmarkname:l}=a,u=`${e.pathname}?${e.searchParams.toString()}`,d=Hi(n);d.menu?.find(({title:h})=>h===i)?.link?.push({name:l,target:u}),t.updateResource(d).then(h=>{n.menu=h.menu,t.dispatchEvent({type:"change"}),wt({color:"green",message:"Success"}),e.onOk()}).catch(h=>{wt({color:"red",message:Vt(h)})})}return s.jsx(Mt,{title:"Add Bookmark",closeButtonProps:{"aria-label":"Close"},opened:e.visible,onClose:e.onCancel,children:s.jsx(ar,{onSubmit:r,children:s.jsxs(oe,{children:[s.jsx(vie,{config:n}),s.jsx(et,{label:"Bookmark Name",type:"text",name:"bookmarkname",placeholder:"Bookmark Name",withAsterisk:!0}),s.jsx(fe,{justify:"flex-end",children:s.jsx(Nr,{mt:"sm",children:"OK"})})]})})})}function vie(e){function t(r){return r?.menu?.map(a=>a.title)}let n=t(e.config);return s.jsx(Vr,{name:"menuname",defaultValue:n[0],label:"Select Menu Option",data:n,withAsterisk:!0})}function t$(e){return typeof e.code=="string"?e.code:JSON.stringify(e)}function yie(e){return typeof e.display=="string"?e.display:t$(e)}function bie(e){return{value:t$(e),label:yie(e),resource:e}}function xie(e){return{code:e,display:e}}function Zh(e){let t=Ae(),{binding:n,creatable:r,clearable:a,expandParams:i,withHelpText:l,...u}=e,d=b.useCallback(async(h,p)=>{if(!n)return[];let m=(await t.valueSetExpand({...i,url:n,filter:h,count:10},{signal:p})).expansion?.contains??[],g=[];for(let y of m)y.code&&!g.some(S=>S.code===y.code)&&g.push(y);return g},[t,i,n]);return s.jsx(Nc,{...u,creatable:r??!0,clearable:a??!0,toOption:bie,loadOptions:d,onCreate:xie,itemComponent:l?Sie:void 0})}var Sie=b.forwardRef(({label:e,resource:t,active:n,...r},a)=>s.jsx("div",{ref:a,...r,children:s.jsxs(fe,{wrap:"nowrap",gap:"xs",children:[n&&s.jsx(Ed,{size:12}),s.jsxs("div",{children:[s.jsx(Y,{children:e}),s.jsx(Y,{size:"xs",c:"dimmed",children:`${t.system}#${t.code}`})]})]})}));function rl(e){let{defaultValue:t,onChange:n,withHelpText:r,...a}=e,[i,l]=b.useState(t);function u(d){let h=d[0],p=Cie(h);l(p),n&&n(p)}return s.jsx(Zh,{defaultValue:wie(i),onChange:u,withHelpText:r??!0,...a})}function wie(e){return e?{code:e}:void 0}function Cie(e){return e?.code}function n$(e){let[t,n]=b.useState(e.defaultValue),r=e.onChange,a=b.useCallback(i=>{n(i),r&&r(i)},[r]);return s.jsx(rl,{disabled:e.disabled,"data-autofocus":e.autoFocus,"data-testid":e.testId,defaultValue:t,onChange:a,name:e.name,placeholder:e.placeholder,binding:"https://medplum.com/fhir/ValueSet/resource-types",creatable:!1,maxValues:e.maxValues??1,clearable:!1,withHelpText:!1})}var Gl={navbar:"Navbar_navbar",logoButton:"Navbar_logoButton",menuTitle:"Navbar_menuTitle",link:"Navbar_link",toggleButton:"Navbar_toggleButton"};function jie(){let e=Ae(),t=jd(),[n,r]=b.useState("Type to search..."),[a,i]=b.useState([]);return s.jsx(Va,{actions:a,nothingFound:n,highlightQuery:!0,searchProps:{leftSection:s.jsx(xy,{size:20,stroke:1.5}),placeholder:"Search..."},onQueryChange:l=>{if(!l){r("Type to search..."),i([]);return}r("Searching...");let u=Eie(l);e.graphql(u).then(d=>{let h=Tie(d),p=_ie(h,t);i(p)}).catch(d=>{console.error("GraphQL query failed:",d)}).finally(()=>{r("No results found")})}})}function Eie(e){let t=JSON.stringify(e);return J6(e)?`{
      Patients1: PatientList(_id: ${t}, _count: 1) {
        resourceType
        id
        identifier {
          system
          value
        }
        name {
          given
          family
        }
        birthDate
      }
      ServiceRequestList(_id: ${t}, _count: 1) {
        resourceType
        id
        identifier {
          system
          value
        }
        subject {
          display
        }
      }
    }`.replaceAll(/\s+/g," "):`{
    Patients1: PatientList(name: ${t}, _count: 5) {
      resourceType
      id
      identifier {
        system
        value
      }
      name {
        given
        family
      }
      birthDate
    }
    Patients2: PatientList(identifier: ${t}, _count: 5) {
      resourceType
      id
      identifier {
        system
        value
      }
      name {
        given
        family
      }
      birthDate
    }
    ServiceRequestList(identifier: ${t}, _count: 5) {
      resourceType
      id
      identifier {
        system
        value
      }
      subject {
        display
      }
    }
  }`.replaceAll(/\s+/g," ")}function Tie(e){let t=[];return e.data.Patients1&&t.push(...e.data.Patients1),e.data.Patients2&&t.push(...e.data.Patients2),e.data.ServiceRequestList&&t.push(...e.data.ServiceRequestList),Rie(t)}function Rie(e){let t=new Set,n=[];for(let r of e)t.has(r.id)||(t.add(r.id),n.push(r));return n}function _ie(e,t){let n=[],r=[];for(let i of e)i.resourceType==="Patient"?n.push({id:i.id,label:i.name?Gn(i.name[0]):i.id,description:i.birthDate,onClick:()=>t(`/Patient/${i.id}`)}):i.resourceType==="ServiceRequest"&&r.push({id:i.id,label:i.id,description:i.subject?.display,onClick:()=>t(`/ServiceRequest/${i.id}`)});let a=[];return n.length>0&&a.push({group:"Patients",actions:n}),r.length>0&&a.push({group:"Service Requests",actions:r}),a}function GM(e){let t=jd(),n=Pr(),r=Die(e.pathname,e.searchParams,e.menus),[a,i]=b.useState(!1),[l,u]=b.useState(!1);function d(m,g){m.stopPropagation(),m.preventDefault(),t(g),window.innerWidth<768&&e.closeNavbar()}function h(m){m&&t(`/${m}`)}let p=e.opened??!0;return s.jsxs(s.Fragment,{children:[s.jsxs(Br.Navbar,{id:"navbar",className:Gl.navbar,children:[e.logo&&s.jsx(Br.Section,{px:"sm",pt:"xs",children:s.jsx(Vn,{className:Gl.logoButton,onClick:e.navbarToggle,"aria-expanded":p,"aria-controls":"navbar",children:e.logo})}),s.jsx(Sn,{px:"sm",pb:"xs",h:"100%",children:s.jsxs(Br.Section,{grow:!0,children:[e.spotlightEnabled&&s.jsx(YM,{to:"#",active:!1,onClick:Xh.open,icon:s.jsx(xy,{size:"1.2rem"}),label:"Search",opened:p}),e.spotlightEnabled&&s.jsx(jie,{}),!e.resourceTypeSearchDisabled&&s.jsx(Br.Section,{mb:"sm",children:s.jsx(n$,{name:"resourceType",placeholder:"Resource Type",maxValues:0,onChange:m=>h(m)},window.location.pathname)}),e.menus?.map(m=>s.jsxs(b.Fragment,{children:[m.title&&p&&s.jsx(Y,{className:Gl.menuTitle,children:m.title}),m.title&&!p&&s.jsx(v6,{h:41}),m.links?.map(g=>s.jsx(YM,{to:g.href,active:g.href===r?.href,onClick:y=>d(y,g.href),icon:g.icon,label:g.label??"",opened:p},g.href))]},`menu-${m.title}`)),e.displayAddBookmark&&s.jsx(Pe,{variant:"subtle",size:"xs",mt:"xl",leftSection:s.jsx(Hz,{size:"0.75rem"}),onClick:()=>u(!0),children:"Add Bookmark"})]})}),e.userMenuEnabled&&s.jsxs(Br.Section,{px:"sm",py:"xs",children:[s.jsx(va,{label:"Toggle navbar",position:"right",transitionProps:{duration:0},children:s.jsx(Vn,{className:Gl.toggleButton,"aria-label":"Toggle navbar",onClick:e.navbarToggle,"aria-expanded":p,"aria-controls":"navbar",children:s.jsx(Kre,{})})}),s.jsx(ht,{my:"xs"}),s.jsxs(ye,{width:260,shadow:"xl",position:"top-start",transitionProps:{transition:"fade-up"},opened:a,onClose:()=>i(!1),children:[s.jsx(ye.Target,{children:s.jsxs(Vn,{className:Gl.link,"aria-label":"User menu","data-active":a||void 0,onClick:()=>i(m=>!m),bd:"1px 0 0 0 solid var(--mantine-color-gray-200)",children:[s.jsx(xa,{value:n,radius:"xl",size:18}),p&&s.jsx("span",{children:Gn(n?.name?.[0])})]})}),s.jsx(ye.Dropdown,{children:s.jsx(Gz,{version:e.version})})]})]})]}),e.pathname&&e.searchParams&&s.jsx(gie,{pathname:e.pathname,searchParams:e.searchParams,visible:l,onOk:()=>u(!1),onCancel:()=>u(!1)})]})}function YM(e){let{to:t,icon:n,label:r,onClick:a,active:i}=e;return e.opened?s.jsxs(ba,{to:t,onClick:a,className:Gl.link,"data-active":i||void 0,children:[n,s.jsx("span",{children:r})]}):s.jsx(va,{label:r,position:"right",transitionProps:{duration:0},children:s.jsx(ba,{to:t,onClick:a,className:Gl.link,"data-active":i||void 0,children:n})})}function Die(e,t,n){if(!e||!t||!n)return;let r,a=0;for(let i of n)if(i.links)for(let l of i.links){let u=Aie(e,t,l.href);u>a&&(a=u,r=l)}return r}function Aie(e,t,n){let r=new URL(n,"https://example.com");if(e!==r.pathname)return 0;let a=["_count","_offset"];for(let[l,u]of r.searchParams.entries())if(!a.includes(l)&&t.get(l)!==u)return 0;let i=1;for(let[l,u]of t.entries())a.includes(l)||r.searchParams.get(l)===u&&i++;return i}var QM=250,Oie=70;function kie(e){let[t,n]=b.useState(localStorage.navbarOpen==="true"),[r]=b.useState(e.layoutVersion??localStorage.appShellLayoutVersion??"v1"),a=Ae(),i=Pr();function l(y){localStorage.navbarOpen=y.toString(),n(y)}function u(){l(!1)}function d(){l(!t)}if(a.isLoading())return s.jsx(Fi,{});let h,p,m,g;return r==="v2"?(h={height:0},p={width:t?QM:Oie,breakpoint:0,collapsed:{desktop:!i,mobile:!i}},m=void 0,g=i?s.jsx(GM,{logo:e.logo,pathname:e.pathname,searchParams:e.searchParams,menus:e.menus,navbarToggle:d,closeNavbar:u,displayAddBookmark:e.displayAddBookmark,resourceTypeSearchDisabled:!0,opened:t,spotlightEnabled:!0,userMenuEnabled:!0,version:e.version}):void 0):(h={height:60},p={width:QM,breakpoint:"sm",collapsed:{desktop:!i||!t,mobile:!i||!t}},m=i&&s.jsx(Fae,{pathname:e.pathname,searchParams:e.searchParams,headerSearchDisabled:e.headerSearchDisabled,logo:e.logo,version:e.version,navbarOpen:t,navbarToggle:d,notifications:e.notifications}),g=i&&t?s.jsx(GM,{pathname:e.pathname,searchParams:e.searchParams,menus:e.menus,navbarToggle:d,closeNavbar:u,displayAddBookmark:e.displayAddBookmark,resourceTypeSearchDisabled:e.resourceTypeSearchDisabled}):void 0),s.jsxs(Br,{header:h,navbar:p,padding:0,children:[m,g,s.jsx(Br.Main,{className:Cae.main,children:s.jsx(Fz,{children:s.jsx(b.Suspense,{fallback:s.jsx(Fi,{}),children:e.children})})})]})}var Mie="https://ccda.medplum.com",Pie="https://ccda-validator.medplum.com/";function Nie(e){let{url:t}=e,[n,r]=b.useState(!1),a=b.useRef(null),[i,l]=b.useState(),[u,d]=b.useState(!1);b.useEffect(()=>{t&&n&&a.current&&(jae(a.current,{command:"loadCcdaXml",value:t}).catch(console.error),r(!1))},[t,n]);let h=async()=>{if(t)try{d(!0);let g=await(await fetch(t)).text(),y=new FormData;y.append("ccdaFile",new Blob([g],{type:"text/xml"}),"ccda.xml");let S=`${Pie}referenceccdaservice/?validationObjective=C-CDA_IG_Plus_Vocab&referenceFileName=No%20scenario%20File&curesUpdate=true&severityLevel=WARNING`,x=await fetch(S,{method:"POST",body:y,credentials:"omit",redirect:"manual"});if(!x.ok)throw new Error(`Validation failed: ${x.status} ${x.statusText}`);let C=await x.json();l(C)}catch(g){l(void 0),console.error("CCDA validation error:",g)}finally{d(!1)}},p=()=>{if(!i)return;let g=JSON.stringify(i,null,2);Eae(g,"ccda-validation-results")},m=()=>i?i.resultsMetaData.resultMetaData.filter(g=>g?.type.includes("Error")).reduce((g,y)=>g+(y.count||0),0):0;return t?s.jsxs("div",{"data-testid":"ccda-iframe",style:{maxWidth:e.maxWidth},children:[s.jsx("div",{style:{minHeight:400},children:s.jsx("iframe",{title:"C-CDA Viewer",width:"100%",height:"400",ref:a,src:Mie,allowFullScreen:!0,frameBorder:0,seamless:!0,onLoad:()=>r(!0)})}),s.jsxs("div",{style:{marginTop:"10px",marginBottom:"10px",display:"flex",alignItems:"center"},children:[s.jsx(Pe,{type:"button",onClick:h,disabled:u,children:u?"Validating...":"Validate"}),i&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{marginLeft:"15px"},children:[s.jsx("strong",{children:"Validation Results:"})," ",m()," errors found"]}),s.jsx(Pe,{type:"button",onClick:p,color:"green",style:{marginLeft:"auto"},children:"Download Full Results"})]})]})]}):null}function Ks(e){let{contentType:t,url:n,title:r}=e.value??{},a=jz(n);return a?s.jsxs("div",{"data-testid":"attachment-display",children:[t?.startsWith("image/")&&s.jsx("img",{"data-testid":"attachment-image",style:{maxWidth:e.maxWidth},src:a,alt:r}),t?.startsWith("video/")&&s.jsx("video",{"data-testid":"attachment-video",style:{maxWidth:e.maxWidth},controls:!0,children:s.jsx("source",{type:t,src:a})}),(t?.startsWith("text/")||t==="application/json"||t==="application/pdf")&&s.jsx("div",{"data-testid":"attachment-iframe",style:{maxWidth:e.maxWidth,minHeight:400},children:s.jsx("iframe",{title:"Attachment",width:"100%",height:"400",src:a+"#navpanes=0",allowFullScreen:!0,frameBorder:0,seamless:!0})}),t===Dn.CDA_XML&&s.jsx(Nie,{url:a}),s.jsx("div",{"data-testid":"download-link",style:{padding:"2px 16px 16px 16px"},children:s.jsx($a,{href:n,"data-testid":"attachment-details",target:"_blank",rel:"noopener noreferrer",download:Iie(r),children:r||"Download"})})]}):null}function Iie(e){return e?.includes(".")?e:void 0}function r$(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=r$(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Lie(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=r$(e))&&(r&&(r+=" "),r+=t);return r}var Ic=Lie,KM={root:"DescriptionList_root",compact:"DescriptionList_compact"};function zie(e){let{children:t,compact:n}=e;return s.jsx("dl",{className:Ic(KM.root,{[KM.compact]:n}),children:t})}function Kg(e){return s.jsxs(s.Fragment,{children:[s.jsx("dt",{children:e.term}),s.jsx("dd",{children:e.children})]})}function $ie(e){let t=e.values?.map((r,a)=>s.jsx("div",{children:s.jsx(Ks,{value:r,maxWidth:e.maxWidth})},"attatchment-"+a)),n;if(e.includeDescriptionListEntry){if(e.property===void 0)throw new Error("props.property is required when includeDescriptionListEntry is true");if(!Hn(e.path))throw new Error("props.path is required when includeDescriptionListEntry is true");let r=e.path.split(".").pop();n=s.jsx(Kg,{term:fc(r),children:t})}else n=s.jsx(s.Fragment,{children:t});return n}function $R(e){let t=Ae(),n=b.useRef(null);function r(l){ya(l),n.current?.click()}function a(l){ya(l);let u=l.target.files;u&&Array.from(u).forEach(i)}function i(l){!l||!l.name||(e.onUploadStart&&e.onUploadStart(),t.createAttachment({data:l,contentType:l.type||"application/octet-stream",filename:l.name,securityContext:e.securityContext,onProgress:e.onUploadProgress}).then(u=>e.onUpload(u)).catch(u=>{e.onUploadError&&e.onUploadError(Or(u))}))}return s.jsxs(s.Fragment,{children:[s.jsx("input",{disabled:e.disabled,type:"file","data-testid":"upload-file-input",style:{display:"none"},ref:n,onChange:l=>a(l)}),e.children({onClick:r,disabled:e.disabled})]})}function qie(e){let[t,n]=b.useState(e.defaultValue??[]),r=b.useRef(t);r.current=t;function a(i){n(i),e.onChange&&e.onChange(i)}return s.jsxs("table",{style:{width:"100%"},children:[s.jsxs("colgroup",{children:[s.jsx("col",{width:"97%"}),s.jsx("col",{width:"3%"})]}),s.jsxs("tbody",{children:[t.map((i,l)=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsx(Ks,{value:i,maxWidth:200})}),s.jsx("td",{children:s.jsx(xt,{disabled:e.disabled,title:"Remove",variant:"subtle",size:"sm",color:"gray",onClick:u=>{ya(u);let d=t.slice();d.splice(l,1),a(d)},children:s.jsx($z,{})})})]},`${l}-${t.length}`)),s.jsxs("tr",{children:[s.jsx("td",{}),s.jsx("td",{children:s.jsx($R,{disabled:e.disabled,onUpload:i=>{a([...r.current,i])},children:i=>s.jsx(xt,{...i,title:"Add",variant:"subtle",size:"sm",color:i.disabled?"gray":"green",children:s.jsx(qz,{})})})})]})]})]})}function a$(e){let[t,n]=b.useState(e.defaultValue);function r(a){n(a),e.onChange&&e.onChange(a)}return t?s.jsxs(s.Fragment,{children:[s.jsx(Ks,{value:t,maxWidth:200}),s.jsx(Pe,{disabled:e.disabled,onClick:a=>{ya(a),r(void 0)},children:"Remove"})]}):s.jsx($R,{disabled:e.disabled,securityContext:e.securityContext,onUpload:r,children:a=>s.jsx(Pe,{...a,children:"Upload..."})})}function Rd(e){return s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 180 180",style:{width:e.size,height:e.size},children:[s.jsx("title",{children:"Medplum Logo"}),s.jsx("path",{fill:e.fill??"#9c36b5",d:"M84 56c-3-15-15-24-23-28l5-10c8 2 14 8 20 14 0-12 1-16 5-21 8-9 13-9 41-9 0 7 1 18-3 24-7 9-16 7-41 8 5 8 7 14 8 22 36-24 74-7 74 39 0 42-40 83-80 83s-80-41-80-83c0-46 38-63 74-39Zm-3 43H65c-4 0-7 3-7 7v4c0 4 3 7 7 7h16v16c0 4 3 7 7 7h4c4 0 7-3 7-7v-16h16c4 0 7-3 7-7v-4c0-4-3-7-7-7H99V83c0-4-3-7-7-7h-4c-4 0-7 3-7 7z"})]})}function XM(e){let[t,n]=b.useState();return s.jsxs(ar,{onSubmit:r=>{n(void 0),e.onSubmit(r)?.catch(a=>n(Vt(a)))},children:[s.jsxs(gr,{style:{flexDirection:"column"},children:[s.jsx(Rd,{size:32}),s.jsx(Sr,{order:3,py:"lg",children:e.title}),!e.qrCodeUrl&&e.description&&s.jsx(Y,{c:"dimmed",mb:"lg",mt:"-lg",children:e.description})]}),t&&s.jsx(dl,{icon:s.jsx(by,{size:16}),title:"Error",color:"red",mb:"lg",children:t}),e.qrCodeUrl&&s.jsx(gr,{children:s.jsxs(oe,{mb:"xl",children:[e.description&&s.jsx(Y,{c:"dimmed",mb:"md",mt:"-lg",ta:"center",children:e.description}),s.jsx(xT,{src:e.qrCodeUrl,alt:"Multi Factor Auth QR Code",w:"60%",mx:"auto",radius:"md",p:"xs",bg:"var(--mantine-color-white)",style:{border:"1px solid light-dark(var(--mantine-color-gray-2), var(--mantine-color-dark-4))"}})]})}),s.jsx(oe,{gap:"sm",children:s.jsx(et,{name:"token",label:"MFA code",autoComplete:"one-time-code",required:!0,autoFocus:!0})}),s.jsx(oe,{gap:"xs",pt:"md",children:s.jsx(Nr,{fullWidth:!0,children:e.buttonText})})]})}var Uie={root:"Container_root"};function qR(e){let{children:t,...n}=e;return s.jsx(Ih,{className:Uie.root,...n,children:t})}var ZM={paper:"Panel_paper",fill:"Panel_fill"};function Ry(e){let{width:t,fill:n,className:r,children:a,...i}=e,l=t?{maxWidth:t}:void 0;return s.jsx(tn,{className:Ic(ZM.paper,n&&ZM.fill,r),style:l,shadow:"sm",radius:"sm",withBorder:!0,...i,children:a})}function al(e){let{children:t,...n}=e;return s.jsx(qR,{children:s.jsx(Ry,{...n,children:t})})}function Lc(e){let{outcome:t,issues:n,...r}=e,a=t?.issue||n;return!a||a.length===0?null:s.jsx(dl,{icon:s.jsx(by,{size:16}),color:"red",...r,children:a.map(i=>s.jsx("div",{"data-testid":"text-field-error",children:P6(i)},i.details?.text))})}function Hr(e,t){return e?.issue?.filter(n=>i$(n.expression?.[0],t))?.map(n=>n.details?.text)?.join(`
`)}function UR(e,t){return e?.issue?.filter(n=>i$(n.expression?.[0],t))}var $m=/\[\d+\]/;function i$(e,t){let n=typeof e=="string"&&$m.test(e),r=typeof t=="string"&&$m.test(t);if(n!==r&&(e=e?.replace($m,""),t=t?.replace($m,"")),e===t)return!0;if(!e||!t)return!1;let a=e.indexOf(".");if(a>=0&&e.substring(a+1)===t)return!0;let i=t.indexOf(".");return i>=0&&t.substring(i+1)===e}function Bie(e){let t=Ae(),[n,r]=b.useState(),a=UR(n,void 0);return s.jsxs(ar,{onSubmit:async i=>{try{e.handleAuthResponse(await t.startNewProject({login:e.login,projectName:i.projectName}))}catch(l){r(Or(l))}},children:[s.jsxs(gr,{style:{flexDirection:"column"},children:[s.jsx(Rd,{size:32}),s.jsx(Sr,{order:3,py:"lg",children:"Create a new project"})]}),s.jsx(Lc,{issues:a,mb:"lg"}),s.jsx(oe,{gap:"sm",children:s.jsx(et,{name:"projectName",label:"Project Name",placeholder:"My Project",required:!0,autoFocus:!0,error:Hr(n,"projectName")})}),s.jsxs(oe,{gap:"xs",mt:"md",children:[s.jsx(Nr,{fullWidth:!0,children:"Create Project"}),s.jsxs(Y,{c:"dimmed",size:"xs",pt:"lg",ta:"center",children:['By clicking "Create Project" you agree to the Medplum'," ",s.jsx($a,{href:"https://www.medplum.com/privacy",children:"PrivacyÂ Policy"})," and ",s.jsx($a,{href:"https://www.medplum.com/terms",children:"TermsÂ ofÂ Service"}),"."]})]})]})}function Hie(e,t){let n=document.getElementsByTagName("head")[0],r=document.createElement("script");r.async=!0,r.src=e,r.onload=t??null,n.appendChild(r)}function Fie(e){let{googleClientId:t,handleGoogleCredential:n}=e,r=b.useRef(null),[a,i]=b.useState(typeof google<"u"),l=b.useRef(!1),u=b.useRef(!1);return b.useEffect(()=>{if(typeof google>"u"){Hie("https://accounts.google.com/gsi/client",()=>i(!0));return}l.current||(google.accounts.id.initialize({client_id:t,callback:n}),l.current=!0),r.current&&!u.current&&(google.accounts.id.renderButton(r.current,{type:"standard",logo_alignment:"center",width:r.current.clientWidth}),u.current=!0)},[t,a,n]),t?s.jsx(ne,{ref:r,w:"100%",h:40,display:"flex",style:{justifyContent:"center"}}):null}function Vie(e){if(e)return e;let t=pr.getOrigin();if(t&&("undefined".split(",")??[]).includes(t))return"__GOOGLE_CLIENT_ID__"}function Wie(e){let[t,n]=b.useState();return t?s.jsx(Yie,{email:t,resetEmail:()=>n(void 0),...e}):s.jsx(Gie,{setEmail:n,...e})}function Gie(e){let{setEmail:t,onRegister:n,handleAuthResponse:r,children:a,disableEmailAuth:i,...l}=e,u=Ae(),d=!e.disableGoogleAuth&&Vie(e.googleClientId),[h,p]=b.useState(),m=UR(h,void 0),g=b.useCallback(async x=>{if(!x.authorizeUrl)return!1;let C=JSON.stringify({...await u.ensureCodeChallenge(l),domain:x.domain}),T=new URL(x.authorizeUrl);return T.searchParams.set("state",C),pr.assign(T.toString()),!0},[u,l]),y=b.useCallback(async x=>{let C=await u.post("auth/method",{email:x.email});await g(C)||t(x.email)},[u,g,t]),S=b.useCallback(async x=>{try{let C=await u.startGoogleLogin({...l,googleCredential:x.credential});await g(C)||r(C)}catch(C){p(Or(C))}},[u,l,g,r]);return s.jsxs(ar,{onSubmit:y,children:[s.jsx(gr,{style:{flexDirection:"column"},children:a}),s.jsx(Lc,{issues:m,mb:"lg"}),d&&s.jsxs(s.Fragment,{children:[s.jsx(ne,{style:{minHeight:40},children:s.jsx(Fie,{googleClientId:d,handleGoogleCredential:S})}),!i&&s.jsx(ht,{label:"or",labelPosition:"center",my:"lg"})]}),!i&&s.jsx(et,{name:"email",type:"email",label:"Email",mb:"md",placeholder:"name@domain.com",required:!0,autoFocus:!0,error:Hr(h,"email"),"data-testid":"auth.email"}),s.jsxs(oe,{gap:"xs",children:[!i&&s.jsx(Nr,{fullWidth:!0,children:"Continue"}),n&&s.jsxs(Y,{size:"sm",mt:"lg",c:"dimmed",style:{textAlign:"center"},"data-dashlane-ignore":"true","data-lp-ignore":"true","data-no-autofill":"true","data-form-type":"navigation",children:["Donâ€™t have an account? ",s.jsx($a,{onClick:n,children:"Register"})]})]})]})}function Yie(e){let{onForgotPassword:t,handleAuthResponse:n,children:r,...a}=e,i=Ae(),[l,u]=b.useState(),d=UR(l,void 0),h=b.useCallback(p=>{i.startLogin({...a,password:p.password,remember:p.remember==="on"}).then(n).catch(m=>u(Or(m)))},[i,a,n]);return s.jsxs(ar,{onSubmit:h,children:[s.jsx(gr,{style:{flexDirection:"column"},children:r}),s.jsx(Lc,{issues:d,mb:"lg"}),s.jsxs(oe,{gap:"sm",children:[s.jsx(et,{label:"Email",value:e.email,disabled:!0,rightSectionWidth:36,rightSection:s.jsx(xt,{variant:"subtle",color:"gray",onClick:e.resetEmail,"aria-label":"Change email",children:s.jsx(oae,{size:"1rem",stroke:1.5})})}),s.jsx(NT,{name:"password",label:"Password",autoComplete:"off",required:!0,autoFocus:!0,error:Hr(l,"password"),"data-testid":"auth.password"})]}),s.jsxs(oe,{gap:"xs",children:[s.jsx(hi,{id:"remember",name:"remember",label:"Remember me",size:"xs",style:{lineHeight:1},pt:"md",pb:"xs"}),s.jsx(Nr,{children:"Sign In"}),t&&s.jsx(Y,{size:"sm",mt:"lg",c:"dimmed",style:{textAlign:"center"},"data-dashlane-ignore":"true","data-lp-ignore":"true","data-no-autofill":"true","data-form-type":"navigation",children:s.jsx($a,{onClick:t,children:"Reset Password"})})]})]})}var o$={option:"ChooseProfileForm_option",iconBox:"ChooseProfileForm_iconBox"};function Qie(e){let t=Ae(),n=Nh(),[r,a]=b.useState(""),[i,l]=b.useState();function u(m){return!!m?.toLowerCase()?.includes(r.toLowerCase())}function d(m){return u(m.profile?.display)||u(m.project?.display)}function h(m){t.post("auth/profile",{login:e.login,profile:m}).then(e.handleAuthResponse).catch(g=>l(Or(g)))}let p=e.memberships.filter(d).slice(0,10).map(m=>s.jsx(st.Option,{value:m.id,className:o$.option,children:s.jsx(Xie,{...m})},m.id));return s.jsxs(oe,{gap:"0",children:[s.jsxs(Ue,{justify:"center",align:"center",direction:"column",wrap:"nowrap",children:[s.jsx(Rd,{size:32}),s.jsx(Sr,{order:3,py:"lg",children:"Choose a Project"})]}),s.jsx(Lc,{outcome:i,mb:"lg"}),s.jsxs(st,{store:n,onOptionSubmit:h,children:[s.jsx(st.EventsTarget,{children:s.jsx(et,{placeholder:"Search",value:r,mb:"md",leftSection:s.jsx(xy,{size:16}),onChange:m=>{a(m.currentTarget.value),n.updateSelectedOptionIndex()}})}),s.jsx("div",{children:s.jsx(st.Options,{style:{marginLeft:"-10px",marginRight:"-10px",marginBottom:"-10px"},children:p.length>0?p:s.jsx(st.Empty,{children:"Nothing found..."})})})]})]})}function Kie(e){return e.identifier?.find(t=>t.system==="https://medplum.com/identifier/label")?.value}function Xie(e){let t=Kie(e);return s.jsxs(fe,{gap:"xs",align:"center",children:[s.jsx(ne,{className:o$.iconBox,children:s.jsx(lre,{size:16,stroke:2})}),s.jsxs("div",{children:[s.jsxs(Y,{size:"sm",fw:500,children:[e.project?.display," ",t?` - ${t}`:""]}),s.jsx(Y,{size:"xs",c:"dimmed",children:e.profile?.display})]})]})}var Zie=/^patient\/Condition\.(?:\*|c?r?u?d?s?)$/,Jie="?category=http://terminology.hl7.org/CodeSystem/condition-category|encounter-diagnosis",eoe="?category=http://terminology.hl7.org/CodeSystem/condition-category|problem-list-item",toe="?category=http://hl7.org/fhir/us/core/CodeSystem/condition-category|health-concern",noe=/^patient\/Observation\.(?:\*|c?r?u?d?s?)$/,roe="?category=http://hl7.org/fhir/us/core/CodeSystem/us-core-observation-category|clinical-test",aoe="?category=http://terminology.hl7.org/CodeSystem/observation-category|laboratory",ioe="?category=http://terminology.hl7.org/CodeSystem/observation-category|social-history",ooe="?category=http://hl7.org/fhir/us/core/CodeSystem/us-core-category|sdoh",soe="?category=http://terminology.hl7.org/CodeSystem/observation-category|survey",loe="?category=http://terminology.hl7.org/CodeSystem/observation-category|vital-signs";function coe(e){let t=Ae();return s.jsx(ar,{onSubmit:n=>{t.post("auth/scope",{login:e.login,scope:Object.keys(n).join(" ")}).then(e.handleAuthResponse).catch(console.log)},children:s.jsxs(oe,{children:[s.jsxs(gr,{style:{flexDirection:"column"},children:[s.jsx(Rd,{size:32}),s.jsx(Sr,{children:"Choose scope"})]}),s.jsx(oe,{children:(e.scope??"openid").split(" ").map(n=>{let r;return Zie.test(n)?r=[n+Jie,n+eoe,n+toe]:noe.test(n)&&(r=[n+roe,n+aoe,n+ioe,n+ooe,n+soe,n+loe]),s.jsxs(s.Fragment,{children:[s.jsx(hi,{id:n,name:n,label:n,defaultChecked:!0},n),r?.map(a=>s.jsx(hi,{id:a,name:a,label:a},a))]},n+"_group")})}),s.jsx(fe,{justify:"flex-end",mt:"xl",children:s.jsx(Nr,{children:"Set scope"})})]})})}function uoe(e){let{login:t,chooseScopes:n,onSuccess:r,onForgotPassword:a,onRegister:i,onCode:l,...u}=e,d=Ae(),[h,p]=b.useState(),m=b.useRef(!1),[g,y]=b.useState(!1),[S,x]=b.useState(),[C,T]=b.useState(!1),[j,R]=b.useState(),_=b.useCallback(D=>{l?l(D):d.processCode(D).then(()=>{r&&r()}).catch(O=>wt({color:"red",message:Vt(O)}))},[d,l,r]),A=b.useCallback(D=>{y(!!D.mfaEnrollRequired),x(D.enrollQrCode),T(!!D.mfaRequired),D.login&&p(D.login),D.memberships&&R(D.memberships),D.code&&(n?R(void 0):_(D.code))},[n,_]),k=b.useCallback(D=>{_(D.code)},[_]);return b.useEffect(()=>{t&&!m.current&&!h&&(m.current=!0,d.get("auth/login/"+t).then(A).catch(D=>wt({color:"red",message:Vt(D)})))},[d,t,m,h,A]),s.jsx(al,{width:400,px:"xl",py:"xl",bdrs:"md",children:h?g&&S?s.jsx(XM,{title:"Enroll in MFA",description:"Scan this QR code with your authenticator app.",buttonText:"Enroll",qrCodeUrl:S,onSubmit:async D=>{let O=await d.post("auth/mfa/login-enroll",{login:h,token:D.token});A(O)}}):C?s.jsx(XM,{title:"Enter MFA code",description:"Enter the code from your authenticator app.",buttonText:"Submit Code",onSubmit:async D=>{let O=await d.post("auth/mfa/verify",{login:h,token:D.token});A(O)}}):j?s.jsx(Qie,{login:h,memberships:j,handleAuthResponse:A}):e.projectId==="new"?s.jsx(Bie,{login:h,handleAuthResponse:A}):e.chooseScopes?s.jsx(coe,{login:h,scope:e.scope,handleAuthResponse:k}):s.jsx("div",{children:"Success"}):s.jsx(Wie,{onForgotPassword:a,onRegister:i,handleAuthResponse:A,disableGoogleAuth:e.disableGoogleAuth,disableEmailAuth:e.disableEmailAuth,...u,children:e.children})})}function Yf(e){return s.jsx(s.Fragment,{children:tl(e.value)})}function doe(e){return s.jsx(s.Fragment,{children:dc(e.value)})}function s$(e){let t=e.value;if(!t)return null;let n=[];return t.value&&n.push(t.value),(t.use||t.system)&&(n.push(" ["),t.use&&n.push(t.use),t.use&&t.system&&n.push(" "),t.system&&n.push(t.system),n.push("]")),s.jsx(s.Fragment,{children:n.join("").trim()})}function foe(e){let t=e.value;return t?s.jsxs(s.Fragment,{children:[t.name,t.name&&": ",t.telecom?.map(n=>s.jsx(s$,{value:n},`telecom-${t.name}-${n.value}`))]}):null}function BR(e,t,n){let r=cc(e,t,{profileUrl:n});return r?Array.isArray(r)?[r.map(a=>a.value),r[0].type]:[r.value,r.type]:[void 0,"undefined"]}function hoe(e,t,n){let r=U6(e,t,n);return r?Array.isArray(r)?[r.map(a=>a.value),r[0].type]:[r.value,r.type]:[void 0,"undefined"]}function poe(e){let{elementDefinitionType:t}=e,n=Ae(),r=b.useContext(pn),[a,i]=b.useState(z6("Extension")),l=b.useMemo(()=>{if(Hn(t?.profile))return t.profile[0]},[t]),[u,d]=b.useState(l!==void 0);if(b.useEffect(()=>{l&&(d(!0),n.requestProfileSchema(l).then(()=>{let h=Mc(l);d(!1),h&&i(h)}).catch(h=>{d(!1),console.warn(h)}))},[n,l]),l&&(u||!iR(l)))return s.jsx("div",{children:"Loading..."});if(a.elements["value[x]"]?.max!==0){let[h,p]=BR({type:"Extension",value:e.value},"value[x]",l??r.profileUrl);return s.jsx(Vi,{propertyType:p,value:h})}return s.jsx(Zg,{path:e.path,value:{type:a.type,value:e.value},compact:e.compact,ignoreMissingValues:e.ignoreMissingValues,link:e.link,profileUrl:l})}function moe(e){return s.jsxs("div",{children:[e.value?.system,": ",e.value?.value]})}function goe(e){return s.jsx(s.Fragment,{children:IJ(e.value)})}function Xg(e){return s.jsx(s.Fragment,{children:io(e.value)})}function HR(e){return s.jsx(s.Fragment,{children:NJ(e.value)})}function voe(e){let t=e.value;return t?s.jsxs(s.Fragment,{children:[s.jsx(Xg,{value:t.numerator}),"Â /Â ",s.jsx(Xg,{value:t.denominator})]}):null}function Rj(e){if(!e.value)return null;let t=e.value.display||e.value.reference||ad(e.value);return e.link!==!1&&e.value.reference?s.jsx(ba,{to:e.value,children:t}):s.jsx(s.Fragment,{children:t})}function l$(e,t,n,r){if(!Hn(n?.slices))return[e];let a=new Array(t.length+1);for(let i=0;i<a.length;i++)a[i]=[];for(let i of e){let l=xz(i,t,n.discriminator,r),u=l?t.findIndex(d=>d.name===l):-1;u===-1&&(u=t.length),a[u].push(i)}return a}async function c$({medplum:e,property:t}){return new Promise((n,r)=>{if(!t.slicing){n([]);return}let a=[],i=[],l=[];for(let u of t.slicing.slices){if(!bz(u)){console.debug("Unsupported slice definition",u);continue}let d;Hn(u.elements)||(d=u.type[0]?.profile?.[0]),a.push(u),i.push(d),d&&l.push(e.requestProfileSchema(d))}Promise.all(l).then(()=>{for(let u=0;u<a.length;u++){let d=a[u],h=i[u];if(h){let p=Mc(h);d.typeSchema=p}}n(a)}).catch(r)})}function _y(e,t,n){return t!==void 0?s.jsx(e,{value:t,children:n}):n}function yoe(e){let{slice:t,property:n}=e,r=t.typeSchema?.elements??t.elements,a=b.useContext(pn),i=b.useMemo(()=>{if(Hn(r))return id({parentContext:a,elements:r,path:e.path,profileUrl:t.typeSchema?.url})},[a,e.path,t.typeSchema?.url,r]);return _y(pn.Provider,i,s.jsx(s.Fragment,{children:e.value.map((l,u)=>s.jsx("div",{children:s.jsx(Vi,{property:n,path:e.path,arrayElement:!0,elementDefinitionType:t.type[0],propertyType:t.type[0].code,value:l,ignoreMissingValues:e.ignoreMissingValues,link:e.link})},`${u}-${e.value.length}`))}))}var JM=50;function boe(e){let{property:t,propertyType:n}=e,r=Ae(),a=b.useMemo(()=>Array.isArray(e.values)?e.values:[],[e.values]),[i,l]=b.useState(!0),[u,d]=b.useState([]),[h,p]=b.useState(()=>[a]),[m,g]=b.useState(0),y=b.useContext(pn);if(b.useEffect(()=>{c$({medplum:r,property:t}).then(x=>{g(a.length),d(x);let C=a.slice(0,JM),T=l$(C,x,t.slicing,y.profileUrl);p(T),l(!1)}).catch(x=>{console.error(x),l(!1)})},[r,t,y.profileUrl,p,a]),i)return s.jsx("div",{children:"Loading..."});let S;if(t.type[0]?.code!=="Extension"){let x=h[u.length],C=x.map((T,j)=>s.jsx("div",{children:s.jsx(Vi,{path:e.path,arrayElement:!0,property:t,propertyType:n,value:T,ignoreMissingValues:e.ignoreMissingValues,link:e.link})},`${j}-${x.length}`));if(e.includeDescriptionListEntry){if(!Hn(e.path))throw new Error("props.path is required when includeDescriptionListEntry is true");let T=e.path.split(".").pop();S=s.jsx(Kg,{term:fc(T),children:C})}else S=s.jsx(s.Fragment,{children:C})}return s.jsxs(s.Fragment,{children:[u.map((x,C)=>{if(!e.path)throw new Error(`Displaying a resource property with slices of type ${e.propertyType} requires path`);let T=s.jsx(yoe,{path:e.path,slice:x,property:t,value:h[C],ignoreMissingValues:e.ignoreMissingValues,link:e.link},x.name);return e.includeDescriptionListEntry&&(T=s.jsx(Kg,{term:fc(x.name),children:T},x.name)),T}),S,m>JM&&s.jsx(fe,{justify:"right",children:s.jsxs(Y,{children:["... ",m," total values"]})})]})}function Vi(e){let{property:t,propertyType:n,value:r}=e;if(t?.path?.endsWith(".id"))return s.jsxs(Ue,{gap:3,align:"center",children:[r,!An(r)&&s.jsx(mT,{value:r,timeout:2e3,children:({copied:a,copy:i})=>s.jsx(va,{label:a?"Copied":"Copy",withArrow:!0,position:"right",children:s.jsx(xt,{variant:"subtle",color:a?"teal":"gray",onClick:i,children:a?s.jsx(Ed,{size:"1rem"}):s.jsx(OR,{size:"1rem"})})})})]});if(t&&(t.isArray||t.max>1)&&!e.arrayElement)return n===de.Attachment?s.jsx($ie,{values:r,maxWidth:e.maxWidth,includeDescriptionListEntry:e.includeArrayDescriptionListEntry,property:t,path:e.path}):s.jsx(boe,{path:e.path,property:t,propertyType:n,values:r,includeDescriptionListEntry:e.includeArrayDescriptionListEntry,ignoreMissingValues:e.ignoreMissingValues,link:e.link});switch(n){case de.boolean:return s.jsx(s.Fragment,{children:r===void 0?"":(!!r).toString()});case de.SystemString:case de.string:return e.property?.path?.toLowerCase().includes("secret")?s.jsx(xoe,{value:r}):s.jsx("div",{style:{whiteSpace:"pre-wrap"},children:r});case de.code:case de.date:case de.decimal:case de.id:case de.integer:case de.positiveInt:case de.unsignedInt:case de.uri:case de.url:case de.xhtml:return s.jsx(s.Fragment,{children:r});case de.canonical:return s.jsx(Rj,{value:{reference:r},link:e.link});case de.dateTime:case de.instant:return s.jsx(s.Fragment,{children:Ua(r)});case de.markdown:return s.jsx("pre",{children:r});case de.Address:return s.jsx(zne,{value:r});case de.Annotation:return s.jsx(s.Fragment,{children:r?.text});case de.Attachment:return s.jsx(Ks,{value:r,maxWidth:e.maxWidth});case de.CodeableConcept:return s.jsx(Yf,{value:r});case de.Coding:return s.jsx(doe,{value:r});case de.ContactDetail:return s.jsx(foe,{value:r});case de.ContactPoint:return s.jsx(s$,{value:r});case de.HumanName:return s.jsx(Wz,{value:r});case de.Identifier:return s.jsx(moe,{value:r});case de.Money:return s.jsx(goe,{value:r});case de.Period:return s.jsx(s.Fragment,{children:AJ(r)});case de.Quantity:case de.Duration:return s.jsx(Xg,{value:r});case de.Range:return s.jsx(HR,{value:r});case de.Ratio:return s.jsx(voe,{value:r});case de.Reference:return s.jsx(Rj,{value:r,link:e.link});case de.Timing:return s.jsx(s.Fragment,{children:iz(r)});case de.Dosage:case de.UsageContext:if(!e.path)throw new Error(`Displaying property of type ${e.propertyType} requires path`);return s.jsx(Zg,{path:e.path,value:{type:n,value:r},compact:!0,ignoreMissingValues:e.ignoreMissingValues});case de.Extension:if(!e.path)throw new Error(`Displaying property of type ${e.propertyType} requires path`);return s.jsx(poe,{path:e.path,value:r,compact:!0,ignoreMissingValues:e.ignoreMissingValues,elementDefinitionType:e.elementDefinitionType});default:if(!t)throw new Error(`Displaying property of type ${e.propertyType} requires element schema`);if(!e.path)throw new Error(`Displaying property of type ${e.propertyType} requires path`);return s.jsx(Zg,{path:e.path,value:{type:t.type[0].code,value:r},compact:!0,ignoreMissingValues:e.ignoreMissingValues})}}function xoe(e){let[t,n]=b.useState(!1),r=e.value??"",a=!An(r),i="â€¢".repeat(8);return s.jsxs(Ue,{gap:3,align:"center",children:[t?s.jsx("div",{style:{whiteSpace:"pre-wrap"},children:r}):s.jsx("div",{style:{whiteSpace:"pre-wrap"},"aria-hidden":"true",children:a?i:""}),a&&s.jsxs(s.Fragment,{children:[s.jsx(mT,{value:e.value,timeout:2e3,children:({copied:l,copy:u})=>s.jsx(va,{label:l?"Copied":"Copy secret",withArrow:!0,position:"right",children:s.jsx(xt,{variant:"subtle",color:l?"teal":"gray",onClick:u,"aria-label":l?"Copied":"Copy secret",children:l?s.jsx(Ed,{size:"1rem"}):s.jsx(OR,{size:"1rem"})})})}),s.jsx(va,{label:t?"Hide secret":"Show secret",withArrow:!0,position:"right",children:s.jsx(xt,{variant:"subtle",color:"gray",onClick:()=>n(!t),"aria-label":t?"Hide secret":"Show secret",children:t?s.jsx($re,{size:"1rem"}):s.jsx(Ure,{size:"1rem"})})})]})]})}var u$=["extension","modifierExtension"],Soe=Lz.filter(e=>!u$.includes(e));function Zg(e){let t=e.value,{value:n,type:r}=t,a=b.useContext(pn),i=e.profileUrl??a?.profileUrl,l=b.useMemo(()=>Hh(r,i),[i,r]),u=b.useMemo(()=>{if(l)return id({parentContext:a,elements:l.elements,path:e.path,profileUrl:l.url,accessPolicyResource:e.accessPolicyResource})},[l,a,e.path,e.accessPolicyResource]);if(An(n))return null;if(!l)return s.jsxs("div",{children:[r,"Â not implemented"]});if(typeof n=="object"&&"name"in n&&Object.keys(n).length===1&&typeof n.name=="string")return s.jsx("div",{children:n.name});let d=u??a;return _y(pn.Provider,u,s.jsx(zie,{compact:e.compact,children:Object.entries(d.elements).map(([h,p])=>{if(u$.includes(h)&&An(p.slicing?.slices)||Soe.includes(h)||zz.includes(h)&&p.path.split(".").length===2||h.includes("."))return null;let[m,g]=BR(t,h,d.profileUrl);if((e.ignoreMissingValues||p.max===0)&&An(m)||e.path.endsWith(".extension")&&(h==="url"||h==="id"))return null;let y=p.max>1||p.isArray,S=s.jsx(Vi,{property:p,propertyType:g,path:e.path+"."+h,value:m,ignoreMissingValues:e.ignoreMissingValues,includeArrayDescriptionListEntry:y,link:e.link},h);return y?S:s.jsx(Kg,{term:fc(h),children:S},h)})}))}var _j={dimmed:"FormSection_dimmed",preserveBreaks:"FormSection_preserveBreaks"},d$="Read Only";function f$(e,t){return e?s.jsx(va.Floating,{label:e,children:t}):t}function h$(e){let{debugMode:t}=b.useContext(pn),n;return t&&e.fhirPath?n=`${e.title} - ${e.fhirPath}`:n=e.title,f$(e?.readonly?d$:void 0,s.jsxs(fe,{wrap:"nowrap","data-testid":e.testId,children:[s.jsx("div",{children:e.children}),s.jsx("div",{children:s.jsx(nn.Wrapper,{id:e.htmlFor,label:n,classNames:{label:e?.readonly?_j.dimmed:void 0},description:e.description,withAsterisk:e.withAsterisk,children:null})})]}))}function ua(e){let{debugMode:t}=b.useContext(pn),n;return t&&e.fhirPath?n=`${e.title} - ${e.fhirPath}`:n=e.title,f$(e?.readonly?d$:void 0,s.jsx(nn.Wrapper,{id:e.htmlFor,label:n,classNames:{label:Ic({[_j.dimmed]:e?.readonly},_j.preserveBreaks)},description:e.description,withAsterisk:e.withAsterisk,error:Hr(e.outcome,e.errorExpression??e.htmlFor),"data-testid":e.testId,children:e.children}))}function woe(e,t,n,r,a){let i=r.type;if(i.length>1)for(let l of i){let u=t.replace("[x]",rr(l.code));u in e&&delete e[u]}return An(a)?e[n]=void 0:e[n]=a,e}function mi(e){let{defaultValue:t,onChange:n,withHelpText:r,outcome:a,path:i,valuePath:l,...u}=e,[d,h]=b.useState(t);function p(m){let g=joe(m);h(g),n&&n(g)}return s.jsx(Zh,{defaultValue:d&&Coe(d),onChange:p,withHelpText:r??!0,...u})}function Coe(e){return e.coding?.map(t=>({system:t.system,code:t.code,display:t.display}))}function joe(e){if(e.length!==0)return{coding:e.map(t=>({system:t.system,code:t.code,display:t.display}))}}function FR(e){let{defaultValue:t,onChange:n,withHelpText:r,response:a,...i}=e,[l,u]=b.useState(a?.answer?.[0]?.valueCoding??t);function d(h){let p=h[0],m=p&&Toe(p);u(m),n&&n(m)}return s.jsx(Zh,{defaultValue:l?Eoe(l):void 0,maxValues:1,onChange:d,withHelpText:r??!0,...i})}function Eoe(e){return{system:e.system,code:e.code,display:e.display}}function Toe(e){return{system:e.system,code:e.code,display:e.display}}function p$(e){let{path:t,outcome:n}=e,{elementsByPath:r,getExtendedProps:a}=b.useContext(pn),[i,l]=b.useState(e.defaultValue),u=b.useRef(i);u.current=i;let[d,h,p]=b.useMemo(()=>["system","use","value"].map(R=>r[t+"."+R]),[r,t]),[m,g,y]=b.useMemo(()=>["system","use","value"].map(R=>a(t+"."+R)),[a,t]);function S(R){R&&Object.keys(R).length===0&&(R=void 0),l(R),e.onChange&&e.onChange(R)}function x(R){let _={...u.current,system:R};R||delete _.system,S(_)}function C(R){let _={...u.current,use:R};R||delete _.use,S(_)}function T(R){let _={...u.current,value:R};R||delete _.value,S(_)}let j=e.valuePath??t;return s.jsxs(fe,{gap:"xs",grow:!0,wrap:"nowrap",align:"flex-start",children:[s.jsx(Vr,{disabled:e.disabled||m?.readonly,"data-testid":"system",defaultValue:i?.system,required:(d?.min??0)>0,onChange:R=>x(R.currentTarget.value),data:["","email","phone","fax","pager","sms","other"],error:Hr(n,j+".system")}),s.jsx(Vr,{disabled:e.disabled||g?.readonly,"data-testid":"use",defaultValue:i?.use,required:(h?.min??0)>0,onChange:R=>C(R.currentTarget.value),data:["","home","work","temp","old","mobile"],error:Hr(n,j+".use")}),s.jsx(et,{disabled:e.disabled||y?.readonly,placeholder:"Value",defaultValue:i?.value,required:(p?.min??0)>0,onChange:R=>T(R.currentTarget.value),error:Hr(n,j+".value")})]})}function Roe(e){let[t,n]=b.useState(e.defaultValue),r=b.useRef(t);r.current=t;let{getExtendedProps:a}=b.useContext(pn),[i,l]=b.useMemo(()=>["name","telecom"].map(p=>a(e.path+"."+p)),[a,e.path]);function u(p){n(p),e.onChange&&e.onChange(p)}function d(p){let m={...r.current,name:p};p||delete m.name,u(m)}function h(p){let m={...r.current,telecom:p&&[p]};p||delete m.telecom,u(m)}return s.jsxs(fe,{gap:"xs",grow:!0,wrap:"nowrap",children:[s.jsx(et,{disabled:e.disabled||i?.readonly,"data-testid":e.name+"-name",name:e.name+"-name",placeholder:"Name",style:{width:180},defaultValue:t?.name,onChange:p=>d(p.currentTarget.value)}),s.jsx(p$,{disabled:e.disabled||l?.readonly,name:e.name+"-telecom",path:e.path+".telecom",defaultValue:t?.telecom?.[0],onChange:h,outcome:e.outcome})]})}function _oe(e){if(!e)return"";let t=new Date(e);return Vh(t)?t.toLocaleDateString("sv")+"T"+t.toLocaleTimeString("sv"):""}function VR(e){if(!e)return"";let t=new Date(e);return Vh(t)?t.toISOString():""}function Wn(e){return s.jsx(et,{id:e.name,name:e.name,label:e.label,"data-autofocus":e.autoFocus,"data-testid":e["data-testid"]??e.name,placeholder:e.placeholder,required:e.required,disabled:e.disabled,type:Doe(),step:1,defaultValue:_oe(e.defaultValue),autoFocus:e.autoFocus,error:Hr(e.outcome,e.name),onChange:t=>{if(e.onChange){let n=t.currentTarget.value;e.onChange(VR(n))}}})}function Doe(){return"datetime-local"}function Aoe(e){let{propertyType:t}=e,n=Ae(),r=b.useMemo(()=>{if(Hn(t.profile))return t.profile[0]},[t]),[a,i]=b.useState(r!==void 0);return b.useEffect(()=>{r&&(i(!0),n.requestProfileSchema(r).then(()=>i(!1)).catch(l=>{i(!1),console.warn(l)}))},[n,r]),r&&(a||!iR(r))?s.jsx("div",{children:"Loading..."}):s.jsx(YR,{profileUrl:r,path:e.path,typeName:"Extension",defaultValue:e.defaultValue,onChange:e.onChange})}function Ooe(e){let{outcome:t,path:n}=e,[r,a]=b.useState(e.defaultValue),{getExtendedProps:i}=b.useContext(pn),[l,u,d,h,p]=b.useMemo(()=>["use","prefix","given","family","suffix"].map(j=>i(e.path+"."+j)),[i,e.path]);function m(j){a(j),e.onChange&&e.onChange(j)}function g(j){m({...r,use:j||void 0})}function y(j){m({...r,prefix:j?j.split(" "):void 0})}function S(j){m({...r,given:j?j.split(" "):void 0})}function x(j){m({...r,family:j||void 0})}function C(j){m({...r,suffix:j?j.split(" "):void 0})}let T=e.valuePath??n;return s.jsxs(fe,{gap:"xs",grow:!0,wrap:"nowrap",children:[s.jsx(Vr,{disabled:e.disabled||l?.readonly,defaultValue:r?.use,name:e.name+"-use","data-testid":"use",onChange:j=>g(j.currentTarget.value),data:["","temp","old","usual","official","nickname","anonymous","maiden"],error:Hr(t,T+".use")}),s.jsx(et,{disabled:e.disabled||u?.readonly,placeholder:"Prefix",name:e.name+"-prefix",defaultValue:r?.prefix?.join(" "),onChange:j=>y(j.currentTarget.value),error:Hr(t,T+".prefix")}),s.jsx(et,{disabled:e.disabled||d?.readonly,placeholder:"Given",name:e.name+"-given",defaultValue:r?.given?.join(" "),onChange:j=>S(j.currentTarget.value),error:Hr(t,T+".given")}),s.jsx(et,{disabled:e.disabled||h?.readonly,name:e.name+"-family",placeholder:"Family",defaultValue:r?.family,onChange:j=>x(j.currentTarget.value),error:Hr(t,T+".family")}),s.jsx(et,{disabled:e.disabled||p?.readonly,placeholder:"Suffix",name:e.name+"-suffix",defaultValue:r?.suffix?.join(" "),onChange:j=>C(j.currentTarget.value),error:Hr(t,T+".suffix")})]})}function koe(e){let[t,n]=b.useState(e.defaultValue),{elementsByPath:r,getExtendedProps:a}=b.useContext(pn),[i,l]=b.useMemo(()=>["system","value"].map(m=>r[e.path+"."+m]),[r,e.path]),[u,d]=b.useMemo(()=>["system","value"].map(m=>a(e.path+"."+m)),[a,e.path]);function h(m){n(m),e.onChange&&e.onChange(m)}let p=e.valuePath??e.path;return s.jsxs(fe,{gap:"xs",grow:!0,wrap:"nowrap",align:"flex-start",children:[s.jsx(et,{disabled:e.disabled||u?.readonly,placeholder:"System",required:(i?.min??0)>0,defaultValue:t?.system,onChange:m=>h({...t,system:m.currentTarget.value}),error:Hr(e.outcome,p+".system")}),s.jsx(et,{disabled:e.disabled||d?.readonly,placeholder:"Value",required:(l?.min??0)>0,defaultValue:t?.value,onChange:m=>h({...t,value:m.currentTarget.value}),error:Hr(e.outcome,p+".value")})]})}var Moe=["USD","EUR","CAD","GBP","AUD"];function Poe(e){let{onChange:t}=e,[n,r]=b.useState(e.defaultValue),{getExtendedProps:a}=b.useContext(pn),[i,l]=b.useMemo(()=>["currency","value"].map(m=>a(e.path+"."+m)),[a,e.path]),u=b.useCallback(m=>{r(m),t&&t(m)},[t]),d=b.useCallback(m=>{u({...n,currency:m.currentTarget.value})},[n,u]),h=b.useCallback(m=>{u({...n,value:m.currentTarget.valueAsNumber})},[n,u]),p=s.jsx(Vr,{disabled:e.disabled||i?.readonly,defaultValue:n?.currency,data:Moe,styles:{input:{fontWeight:500,borderTopLeftRadius:0,borderBottomLeftRadius:0,width:92}},onChange:d});return s.jsx(et,{disabled:e.disabled||l?.readonly,type:"number",name:e.name,label:e.label,placeholder:e.placeholder??"Value",defaultValue:n?.value?.toString()??"USD",leftSection:s.jsx(Dre,{size:14}),rightSection:p,rightSectionWidth:92,onChange:h})}function Noe(e){let[t,n]=b.useState(e.defaultValue),{getExtendedProps:r}=b.useContext(pn),[a,i]=b.useMemo(()=>["start","end"].map(u=>r(e.path+"."+u)),[r,e.path]);function l(u){n(u),e.onChange&&e.onChange(u)}return s.jsxs(fe,{gap:"xs",grow:!0,wrap:"nowrap",children:[s.jsx(Wn,{disabled:e.disabled||a?.readonly,name:e.name+".start",placeholder:"Start",defaultValue:t?.start,onChange:u=>l({...t,start:u})}),s.jsx(Wn,{disabled:e.disabled||i?.readonly,name:e.name+".end",placeholder:"End",defaultValue:t?.end,onChange:u=>l({...t,end:u})})]})}function pc(e){let[t,n]=b.useState(e.defaultValue),{getExtendedProps:r}=b.useContext(pn),[a,i,l]=b.useMemo(()=>["comparator","value","unit"].map(d=>r(e.path+"."+d)),[r,e.path]);function u(d){n(d),e.onChange&&e.onChange(d)}return s.jsxs(fe,{gap:"xs",grow:!0,wrap:"nowrap",children:[s.jsx(Vr,{disabled:e.disabled||a?.readonly,style:{width:80},"data-testid":e.name+"-comparator",defaultValue:t?.comparator,data:["","<","<=",">=",">"],onChange:d=>u({...t,comparator:d.currentTarget.value})}),s.jsx(et,{disabled:e.disabled||i?.readonly,id:e.name,name:e.name,required:e.required,"data-autofocus":e.autoFocus,"data-testid":e.name+"-value",type:"number",placeholder:"Value",defaultValue:t?.value,autoFocus:e.autoFocus,step:"any",onWheel:d=>{e.disableWheel&&d.currentTarget.blur()},onChange:d=>{u({...t,value:Ioe(d.currentTarget.value)})}}),s.jsx(et,{disabled:e.disabled||l?.readonly,placeholder:"Unit","data-testid":e.name+"-unit",defaultValue:t?.unit,onChange:d=>u({...t,unit:d.currentTarget.value})})]})}function Ioe(e){if(e)return Number.parseFloat(e)}function Loe(e){let[t,n]=b.useState(e.defaultValue),{getExtendedProps:r}=b.useContext(pn),[a,i]=b.useMemo(()=>["low","high"].map(u=>r(e.path+"."+u)),[r,e.path]);function l(u){n(u),e.onChange&&e.onChange(u)}return s.jsxs(fe,{gap:"xs",grow:!0,wrap:"nowrap",children:[s.jsx(pc,{path:e.path+".low",disabled:e.disabled||a?.readonly,name:e.name+"-low",defaultValue:t?.low,onChange:u=>l({...t,low:u})}),s.jsx(pc,{path:e.path+".high",disabled:e.disabled||i?.readonly,name:e.name+"-high",defaultValue:t?.high,onChange:u=>l({...t,high:u})})]})}function zoe(e){let[t,n]=b.useState(e.defaultValue),{getExtendedProps:r}=b.useContext(pn),[a,i]=b.useMemo(()=>["numerator","denominator"].map(u=>r(e.path+"."+u)),[r,e.path]);function l(u){n(u),e.onChange&&e.onChange(u)}return s.jsxs(fe,{gap:"xs",grow:!0,wrap:"nowrap",children:[s.jsx(pc,{path:e.path+".numerator",disabled:e.disabled||a?.readonly,name:e.name+"-numerator",defaultValue:t?.numerator,onChange:u=>l({...t,numerator:u})}),s.jsx(pc,{path:e.path+".denominator",disabled:e.disabled||i?.readonly,name:e.name+"-denominator",defaultValue:t?.denominator,onChange:u=>l({...t,denominator:u})})]})}var $oe={Device:"device-name",Observation:"code",Subscription:"criteria",User:"email:contains"},qoe=["AccessPolicy","Account","ActivityDefinition","Bot","CapabilityStatement","CareTeam","ClientApplication","CodeSystem","CompartmentDefinition","ConceptMap","EffectEvidenceSynthesis","Endpoint","EventDefinition","Evidence","EvidenceVariable","ExampleScenario","GraphDefinition","Group","HealthcareService","ImplementationGuide","InsurancePlan","Library","Location","Measure","MedicinalProduct","MessageDefinition","NamingSystem","OperationDefinition","Organization","Patient","Person","PlanDefinition","Practitioner","Project","Questionnaire","RelatedPerson","ResearchDefinition","ResearchElementDefinition","ResearchStudy","RiskEvidenceSynthesis","SearchParameter","StructureDefinition","StructureMap","TerminologyCapabilities","TestScript","UserConfiguration","ValueSet"];function Uoe(e){return{value:Oe(e)??"",label:nr(e),resource:e}}function fa(e){let t=Ae(),{resourceType:n,searchCriteria:r}=e,[a,i]=b.useState(),l=Rt(e.defaultValue,i),u=e.itemComponent??Boe,d=e.onChange,h=b.useCallback(async(m,g)=>{let y=Hoe(n),S=new URLSearchParams({[y]:m??"",_count:"10",...r});return await t.searchResources(n,S,{signal:g})},[t,n,r]),p=b.useCallback(m=>{d&&d(m[0])},[d]);return Hn(e.defaultValue)&&!a&&!l?null:s.jsx(Nc,{disabled:e.disabled,name:e.name,label:e.label,error:e.error,required:e.required,itemComponent:u,defaultValue:l,placeholder:e.placeholder,maxValues:1,toOption:Uoe,loadOptions:h,onChange:p,clearable:!0})}var Boe=b.forwardRef(({label:e,resource:t,active:n,...r},a)=>s.jsx("div",{ref:a,...r,children:s.jsxs(fe,{wrap:"nowrap",children:[s.jsx(xa,{value:t}),s.jsxs("div",{children:[s.jsx(Y,{children:e}),s.jsx(Y,{size:"xs",c:"dimmed",children:t.birthDate||t.id})]})]})}));function Hoe(e){return $oe[e]??(qoe.includes(e)?"name":"_id")}function mc(e){let{onChange:t}=e,n=Ae(),[r,a]=b.useState(e.defaultValue),[i,l]=b.useState(()=>Foe(e.targetTypes)),[u,d]=b.useState(()=>Voe(e.defaultValue,i)),h=b.useRef(new tR),p=b.useMemo(()=>u?.type==="profile"?{...e.searchCriteria,_profile:u.value}:e.searchCriteria,[e.searchCriteria,u]);b.useEffect(()=>{let y=!1,S=i?.map(x=>{if(!Goe(x))return Promise.resolve(x);y=!0;let C=x.value,T=h.current.get(C);if(T)return T;let j=Woe(n,x.value).then(_=>{let A={...x};return _?Hn(_.type)?(A.resourceType=_.type,A.name=_.name,A.title=_.title):(console.error(`StructureDefinition.type missing for ${x.value}`),A.error="StructureDefinition.type missing"):(console.error(`StructureDefinition not found for ${x.value}`),A.error="StructureDefinition not found"),A}).catch(_=>(console.error(_),{...x,error:_})),R=new Mi(j);return h.current.set(C,R),R});!S||!y||Promise.all(S).then(x=>{if(l(x),!u)return;let C=x.findIndex(T=>T.value===u.value||T.resourceType===u.resourceType);if(C===-1){console.debug(`defaultValue had unexpected resourceType: ${u.resourceType}`);return}d(x[C])}).catch(console.error)},[n,u,i]);let m=b.useCallback(y=>{let S=y?Me(y):void 0;a(S),t&&t(S)},[t]),g=b.useMemo(()=>i?i.map(y=>({value:y.value,label:y.type==="profile"?y.title??y.name??y.resourceType??y.value:y.value})):[],[i]);return s.jsxs(s.Fragment,{children:[e.name&&s.jsx("input",{type:"hidden",name:e.name,value:r?.reference??""}),s.jsxs(fe,{gap:"xs",grow:!0,wrap:"nowrap",children:[i&&i.length>1&&s.jsx(Vr,{name:e.name+"-resourceType",disabled:e.disabled,"data-autofocus":e.autoFocus,"data-testid":"reference-input-resource-type-select",defaultValue:u?.resourceType,autoFocus:e.autoFocus,onChange:y=>{let S=y.currentTarget.value,x=i.find(C=>C.value===S);d(x)},data:g}),!i&&s.jsx(n$,{disabled:e.disabled,autoFocus:e.autoFocus,testId:"reference-input-resource-type-input",defaultValue:u?.resourceType,onChange:y=>{d(y?{type:"resourceType",value:y,resourceType:y}:void 0)},name:e.name+"-resourceType",placeholder:"Resource Type"}),s.jsx(fa,{resourceType:u?.resourceType,name:e.name+"-id",required:e.required,placeholder:e.placeholder,defaultValue:r,searchCriteria:p,onChange:m,disabled:e.disabled})]})]})}function Foe(e){if(!e||e.length===0||e.length===1&&e[0]==="Resource")return;let t=[];for(let n of e)n.includes("/")?t.push({type:"profile",value:n}):t.push({type:"resourceType",value:n,resourceType:n});return t}function Voe(e,t){let n=e?.reference?.split("/")[0];if(n)return t?.find(a=>a.resourceType===n)||{type:"resourceType",value:n,resourceType:n};if(t&&t.length>0)return t[0]}async function Woe(e,t){let n=Mc(t);if(n)return{type:n.type,name:n.name,title:n.title};let r=`{
      StructureDefinitionList(url: "${t}", _sort: "_lastUpdated", _count: 1) {
        type,
        name,
        title,
      }
    }`.replaceAll(/\s+/g," ");return(await e.graphql(r)).data.StructureDefinitionList[0]}function Goe(e){return e.type==="profile"&&!e?.error&&An(e.resourceType)}function Yoe(e,t,n){return t===void 0?e:n===void 0?t:`${t}[${n}]`}var m$={indented:"ResourceArrayInput_indented"};function WR({propertyDisplayName:e,onClick:t,testId:n}){let r=e?`Add ${e}`:"Add";return e?s.jsx(Pe,{title:r,size:"sm",color:"green.6",variant:"subtle","data-testid":n,leftSection:s.jsx(UM,{size:"1.25rem"}),onClick:t,children:r}):s.jsx(xt,{title:r,color:"green.6","data-testid":n,onClick:t,children:s.jsx(UM,{size:"1.25rem"})})}function g$({propertyDisplayName:e,onClick:t,testId:n}){return s.jsx(xt,{title:e?`Remove ${e}`:"Remove",color:"red.5","data-testid":n,variant:"subtle",onClick:t,children:s.jsx($z,{size:"1.25rem"})})}function Qoe(e){let{slice:t,property:n}=e,[r,a]=b.useState(e.defaultValue),i=t.typeSchema?.elements??t.elements,l=b.useContext(pn),u=b.useMemo(()=>{if(Hn(i))return id({parentContext:l,elements:i,path:e.path,profileUrl:t.typeSchema?.url})},[l,e.path,t.typeSchema?.url,i]);function d(y){a(y),e.onChange&&e.onChange(y)}let h=t.min>0,p=An(t.elements),m=cz(t.name),g=e.property.readonly&&r.length===0;return _y(pn.Provider,u,s.jsx(ua,{title:m,description:t.definition,withAsterisk:h,fhirPath:`${n.path}:${t.name}`,testId:e.testId,readonly:e.property.readonly,children:g?s.jsx(Y,{c:"dimmed",children:"(empty)"}):s.jsxs(oe,{className:p?m$.indented:void 0,children:[r.map((y,S)=>s.jsxs(fe,{wrap:"nowrap",children:[s.jsx("div",{style:{flexGrow:1},"data-testid":e.testId&&`${e.testId}-elements-${S}`,children:s.jsx(GR,{elementDefinitionType:t.type[0],name:t.name,defaultValue:y,onChange:x=>{let C=[...r];C[S]=x,d(C)},outcome:e.outcome,min:t.min,max:t.max,binding:t.binding,path:e.path,valuePath:void 0,readOnly:e.property.readonly})}),!e.property.readonly&&r.length>t.min&&s.jsx(g$,{propertyDisplayName:m,testId:e.testId&&`${e.testId}-remove-${S}`,onClick:x=>{ya(x);let C=[...r];C.splice(S,1),d(C)}})]},`${S}-${r.length}`)),!e.property.readonly&&r.length<t.max&&s.jsx(fe,{wrap:"nowrap",style:{justifyContent:"flex-start"},children:s.jsx(WR,{propertyDisplayName:m,onClick:y=>{ya(y);let S=[...r,void 0];d(S)},testId:e.testId&&`${e.testId}-add`})})]})}))}function Koe(e){let{property:t}=e,n=Ae(),[r,a]=b.useState(!0),[i,l]=b.useState([]),[u]=b.useState(()=>Array.isArray(e.defaultValue)?e.defaultValue:[]),[d,h]=b.useState(()=>[u]),p=b.useContext(pn),m=t.type[0]?.code;b.useEffect(()=>{c$({medplum:n,property:t}).then(j=>{l(j);let R=l$(u,j,t.slicing,p.profileUrl);Xoe(R,j),h(R),a(!1)}).catch(j=>{console.error(j),a(!1)})},[n,t,u,p.profileUrl,h]);function g(j,R){let _=[...d];if(_[R]=j,h(_),e.onChange){let A=_.flat().filter(k=>k!==void 0);e.onChange(A)}}if(r)return s.jsx("div",{children:"Loading..."});let y=i.length,S=d[y],x=!(e.hideNonSliceValues??(m==="Extension"&&i.length>0)),C=fc(t.path),T=e.property.readonly&&i.length===0&&u.length===0;return s.jsxs(oe,{className:e.indent?m$.indented:void 0,children:[T&&s.jsx(Y,{c:"dimmed",children:"(empty)"}),i.map((j,R)=>s.jsx(Qoe,{slice:j,path:e.path,valuePath:e.valuePath,property:t,defaultValue:d[R],onChange:_=>{g(_,R)},testId:`slice-${j.name}`},j.name)),x&&S.map((j,R)=>s.jsxs(fe,{wrap:"nowrap",style:{flexGrow:1},children:[s.jsx("div",{style:{flexGrow:1},children:s.jsx(v$,{arrayElement:!0,property:e.property,name:e.name+"."+R,path:e.path,valuePath:Yoe(e.path,e.valuePath,R),defaultValue:j,onChange:_=>{let A=[...S];A[R]=_,g(A,y)},defaultPropertyType:void 0,outcome:e.outcome})}),!e.property.readonly&&s.jsx(g$,{propertyDisplayName:C,testId:`nonsliced-remove-${R}`,onClick:_=>{ya(_);let A=[...S];A.splice(R,1),g(A,y)}})]},`${R}-${S.length}`)),!e.property.readonly&&x&&d.flat().length<t.max&&s.jsx(fe,{wrap:"nowrap",style:{justifyContent:"flex-start"},children:s.jsx(WR,{propertyDisplayName:C,onClick:j=>{ya(j);let R=[...S];R.push(void 0),g(R,y)},testId:"nonsliced-add"})})]})}function Xoe(e,t){for(let n=0;n<t.length;n++){let r=t[n],a=e[n];for(;a.length<r.min;)a.push(void 0)}}function Zoe(e){let[t,n]=b.useState(!1),r=JL(),a=b.useRef(null),i={...e.styles};return t||(i.input||(i.input={}),i.input.WebkitTextSecurity="disc"),s.jsxs(Ue,{gap:"xs",children:[s.jsx(wi,{...e,styles:{...i,root:{...i.root??{},flexGrow:1}},ref:a,autosize:!0,minRows:1,onFocus:()=>n(!0),onBlur:()=>n(!1)}),s.jsx(xt,{title:"Copy secret",onClick:()=>{r.copy(a.current?.value),wt({color:"green",message:"Copied"})},children:s.jsx(OR,{})})]})}var Joe=["sun","mon","tue","wed","thu","fri","sat"];function ese(e){let[t,n]=b.useState(e.defaultValue),[r,a]=b.useState(!e.disabled&&(e.defaultModalOpen??!1)),i=b.useRef(t);return i.current=t,s.jsxs(s.Fragment,{children:[s.jsxs(fe,{gap:"xs",grow:!0,wrap:"nowrap",children:[s.jsx("span",{children:iz(i.current)||"No repeat"}),s.jsx(Pe,{disabled:e.disabled,onClick:()=>a(!0),children:"Edit"})]}),!e.disabled&&s.jsx(tse,{path:e.path,visible:r,defaultValue:i.current,onOk:l=>{e.onChange&&e.onChange(l),n(l),a(!1)},onCancel:()=>a(!1)})]})}var eP={repeat:{period:1,periodUnit:"d"}};function tse(e){let[t,n]=b.useState(e.defaultValue||eP),{getExtendedProps:r}=b.useContext(pn),[a,i,l,u,d]=b.useMemo(()=>["event","repeat","repeat.period","repeat.periodUnit","repeat.dayOfWeek"].map(x=>r(e.path+"."+x)),[r,e.path]),h=b.useRef(t);h.current=t;function p(x){n({...h.current,event:[x]})}function m(x){n({...h.current,repeat:x})}function g(x){m({...h.current?.repeat,period:x})}function y(x){m({...h.current?.repeat,periodUnit:x})}function S(x){m({...h.current?.repeat,dayOfWeek:x})}return s.jsx(Mt,{title:"Timing",closeButtonProps:{"aria-label":"Close"},opened:e.visible,onClose:()=>e.onCancel(),children:s.jsxs(oe,{children:[s.jsx(ua,{title:"Starts on",htmlFor:"timing-dialog-start",children:s.jsx(Wn,{disabled:a?.readonly,name:"timing-dialog-start",onChange:x=>p(x)})}),s.jsx(cy,{disabled:i?.readonly,label:"Repeat",checked:!!t.repeat,onChange:x=>m(x.currentTarget.checked?eP.repeat:void 0)}),t.repeat&&s.jsxs(s.Fragment,{children:[s.jsx(ua,{title:"Repeat every",htmlFor:"timing-dialog-period",children:s.jsxs(fe,{gap:"xs",grow:!0,wrap:"nowrap",children:[s.jsx(et,{disabled:l?.readonly,type:"number",step:1,id:"timing-dialog-period",name:"timing-dialog-period",defaultValue:t.repeat.period||1,onChange:x=>g(Number.parseInt(x.currentTarget.value,10)||1)}),s.jsx(Vr,{disabled:u?.readonly,id:"timing-dialog-periodUnit",name:"timing-dialog-periodUnit",defaultValue:t.repeat.periodUnit,onChange:x=>y(x.currentTarget.value),data:[{label:"minute",value:"min"},{label:"hour",value:"h"},{label:"day",value:"d"},{label:"week",value:"wk"},{label:"month",value:"mo"},{label:"year",value:"a"}]})]})}),t.repeat.periodUnit==="wk"&&s.jsx(ua,{title:"Repeat on",children:s.jsx(rh.Group,{multiple:!0,onChange:S,children:s.jsx(fe,{justify:"space-between",mt:"md",gap:"xs",children:Joe.map(x=>s.jsx(rh,{value:x,size:"xs",radius:"xl",disabled:d?.readonly,children:x.charAt(0).toUpperCase()},x))})})})]}),s.jsx(fe,{justify:"flex-end",children:s.jsx(Pe,{onClick:()=>e.onOk(t),children:"OK"})})]})})}function v$(e){let{property:t,name:n,onChange:r,defaultValue:a}=e,i=e.defaultPropertyType&&e.defaultPropertyType!=="undefined"?e.defaultPropertyType:t.type[0].code,l=t.type;if((t.isArray||t.max>1)&&!e.arrayElement){if(i===de.Attachment)return s.jsx(qie,{name:n,defaultValue:a,onChange:r,disabled:t.readonly});let u=l[0]?.code!==de.Extension;return s.jsx(Koe,{property:t,name:n,path:e.path,valuePath:e.valuePath,defaultValue:a,indent:u,onChange:r,outcome:e.outcome})}else return l.length>1?s.jsx(nse,{elementDefinitionTypes:l,...e}):s.jsx(GR,{name:n,defaultValue:a,onChange:u=>{if(e.onChange){let d=e.name.replace("[x]",rr(l[0].code));e.onChange(u,d)}},outcome:e.outcome,elementDefinitionType:l[0],min:t.min,max:t.min,binding:t.binding,path:e.path,valuePath:e.valuePath,readOnly:t.readonly})}function nse(e){let t=e.elementDefinitionTypes,n;e.defaultPropertyType&&(n=t.find(i=>i.code===e.defaultPropertyType)),n||(n=t[0]);let[r,a]=b.useState(n);return s.jsxs(fe,{gap:"xs",grow:!0,wrap:"nowrap",align:"flex-start",children:[s.jsx(Vr,{disabled:e.property.readonly,style:{width:"200px"},defaultValue:r.code,"data-testid":e.name&&e.name+"-selector",onChange:i=>{a(t.find(l=>l.code===i.currentTarget.value))},data:t.map(i=>({value:i.code,label:i.code}))}),s.jsx(GR,{name:e.name,defaultValue:e.defaultValue,outcome:e.outcome,elementDefinitionType:r,onChange:i=>{e.onChange&&e.onChange(i,e.name.replace("[x]",rr(r.code)))},min:e.property.min,max:e.property.max,binding:e.property.binding,path:e.property.path,valuePath:e.valuePath,readOnly:e.property.readonly})]})}function GR(e){let{name:t,onChange:n,outcome:r,binding:a,path:i,valuePath:l,readOnly:u}=e,d=e.min!==void 0&&e.min>0,h=e.elementDefinitionType.code,p=b.useContext(pn),m=b.useMemo(()=>{if(!cR(h)||!An(e.defaultValue))return e.defaultValue;let S=Object.create(null);if(p.path===e.path)MM(S,p.elements);else{let x=Jl(p.path,e.path);if(x===void 0)return e.defaultValue;MM(S,p.elements,x)}return Hn(S)?S:e.defaultValue},[h,p.path,p.elements,e.path,e.defaultValue]);if(!h)return s.jsx("div",{children:"Property type not specified "});function g(){return{name:t,defaultValue:m,onChange:n,outcome:r,path:i,valuePath:l,disabled:u}}function y(){let S=Hr(e.outcome,l??i);return{id:t,name:t,"data-testid":t,defaultValue:m,required:d,error:S,disabled:u}}switch(h){case de.SystemString:case de.canonical:case de.string:case de.time:case de.uri:case de.url:return e.path==="Project.secret.value[x]"?s.jsx(Zoe,{...y(),onChange:S=>{e.onChange&&e.onChange(S.currentTarget.value)}}):s.jsx(et,{...y(),onChange:S=>{n&&n(S.currentTarget.value)}});case de.date:return s.jsx(et,{...y(),type:"date",onChange:S=>{n&&n(S.currentTarget.value)}});case de.dateTime:case de.instant:return s.jsx(Wn,{...y(),onChange:n,outcome:r});case de.decimal:case de.integer:case de.positiveInt:case de.unsignedInt:return s.jsx(et,{...y(),type:"number",step:h===de.decimal?"any":"1",onChange:S=>{if(n){let x=S.currentTarget.valueAsNumber;n(Number.isNaN(x)?void 0:x)}}});case de.code:return s.jsx(rl,{...y(),error:void 0,onChange:n,binding:a?.valueSet,creatable:!0,maxValues:1});case de.boolean:return s.jsx(hi,{...y(),defaultChecked:!!m,onChange:S=>{n&&n(S.currentTarget.checked)}});case de.base64Binary:case de.markdown:case de.xhtml:return s.jsx(wi,{...y(),spellCheck:h!==de.base64Binary,onChange:S=>{n&&n(S.currentTarget.value)}});case de.Address:return s.jsx(Une,{...g()});case de.Annotation:return s.jsx(Bne,{...g()});case de.Attachment:return s.jsx(a$,{...g()});case de.CodeableConcept:return s.jsx(mi,{binding:a?.valueSet,...g()});case de.Coding:return s.jsx(FR,{binding:a?.valueSet,...g()});case de.ContactDetail:return s.jsx(Roe,{...g()});case de.ContactPoint:return s.jsx(p$,{...g()});case de.Extension:return s.jsx(Aoe,{...g(),propertyType:e.elementDefinitionType});case de.HumanName:return s.jsx(Ooe,{...g()});case de.Identifier:return s.jsx(koe,{...g()});case de.Money:return s.jsx(Poe,{...g()});case de.Period:return s.jsx(Noe,{...g()});case de.Duration:case de.Quantity:return s.jsx(pc,{...g()});case de.Range:return s.jsx(Loe,{...g()});case de.Ratio:return s.jsx(zoe,{...g()});case de.Reference:return s.jsx(mc,{...g(),targetTypes:ase(e.elementDefinitionType)});case de.Timing:return s.jsx(ese,{...g()});case de.Dosage:case de.UsageContext:default:return s.jsx(YR,{...g(),typeName:h})}}var rse=[`${yt}/fhir/StructureDefinition/`,"https://medplum.com/fhir/StructureDefinition/"];function ase(e){return e?.targetProfile?.map(t=>{let n=rse.find(r=>t.startsWith(r));return n?t.slice(n.length):t})}function ise(e){let[t,n]=b.useState(e.defaultValue??{}),r=b.useContext(pn),a=b.useMemo(()=>qne(r.elements),[r.elements]);function i(u){n(u),e.onChange&&e.onChange(u)}let l={type:e.type,value:t};return s.jsx(oe,{style:{flexGrow:1},"data-testid":e.testId,children:a.map(([u,d])=>{let[h,p]=hoe(l,u,d),m=d.min!==void 0&&d.min>0,g=e.valuePath?e.valuePath+"."+u:void 0,y=s.jsx(v$,{property:d,name:u,path:e.path+"."+u,valuePath:g,defaultValue:h,defaultPropertyType:p,onChange:(S,x)=>{i(woe({...t},u,x??u,d,S))},outcome:e.outcome},u);return e.type==="Extension"||DR.includes(u)?y:d.type.length===1&&d.type[0].code==="boolean"?s.jsx(h$,{title:fc(u),description:d.description,htmlFor:u,fhirPath:d.path,withAsterisk:m,readonly:d.readonly,children:y},u):s.jsx(ua,{title:fc(u),description:d.description,withAsterisk:m,htmlFor:u,outcome:e.outcome,fhirPath:d.path,errorExpression:g,readonly:d.readonly,children:y},u)})})}var ose={nested:"BackboneElementInput_nested"};function YR(e){let[t]=b.useState(()=>e.defaultValue??{}),n=b.useContext(pn),r=e.profileUrl??n?.profileUrl,a=b.useMemo(()=>Hh(e.typeName,r),[e.typeName,r]),i=a?.type??e.typeName,l=b.useMemo(()=>{if(a)return id({parentContext:n,elements:a.elements,path:e.path,profileUrl:a.url,accessPolicyResource:e.accessPolicyResource})},[a,n,e.path,e.accessPolicyResource]);if(!a)return s.jsxs("div",{children:[i,"Â not implemented"]});let u=n.path!=="";return _y(pn.Provider,l,s.jsx(ne,{className:Ic({[ose.nested]:u}),children:s.jsx(ise,{path:e.path,valuePath:e.valuePath,type:i,defaultValue:t,onChange:e.onChange,outcome:e.outcome})}))}var Zr={chatPaper:"BaseChat_chatPaper",chatTitle:"BaseChat_chatTitle",chatBody:"BaseChat_chatBody",chatScrollArea:"BaseChat_chatScrollArea",chatInputContainer:"BaseChat_chatInputContainer",chatBubbleOuterWrap:"BaseChat_chatBubbleOuterWrap",chatBubbleRightAlignedInnerWrap:"BaseChat_chatBubbleRightAlignedInnerWrap",chatBubbleLeftAlignedInnerWrap:"BaseChat_chatBubbleLeftAlignedInnerWrap",chatBubble:"BaseChat_chatBubble",chatBubbleNameRight:"BaseChat_chatBubbleNameRight"};function sse(e){wt({color:"red",title:"Error",message:e,autoClose:!1})}function tP(e){return new Date(e.sent??0).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}function nP(e,t,n){let r=[...e],a=!1;for(let i of t){let l=r.findIndex(u=>u.id===i.id);l!==-1?r[l]=i:(r.push(i),a=!0)}a&&r.sort((i,l)=>!i.sent&&!l.sent?0:i.sent?l.sent?i.sent.localeCompare(l.sent):1:-1),n(r)}function lse(e){let{title:t,communications:n,setCommunications:r,query:a,sendMessage:i,onMessageReceived:l,onMessageUpdated:u,inputDisabled:d,onError:h,excludeHeader:p=!1,...m}=e,g=Ae(),y=b.useRef(null),S=b.useRef(null),x=b.useRef(!0),C=b.useRef(!0),[T,j]=b.useState(g.getProfile()),[R,_]=b.useState(!1),[A,k]=b.useState(!0);A||(C.current=!1);let D=b.useMemo(()=>T?Oe(g.getProfile()):"",[T,g]),O=b.useCallback(async()=>{k(!0);let N=new URLSearchParams(a);N.append("_sort","-sent"),N.append("sent:missing","false");let z=await g.searchResources("Communication",N,{cache:"no-cache"});nP(V.current,z,r),k(!1)},[g,r,a]);b.useEffect(()=>{O().catch(N=>wt({color:"red",message:Vt(N)}))},[O]),kz(`Communication?${a}`,N=>{let z=N.entry?.[1]?.resource;nP(V.current,[z],r),Oe(z.sender)!==D&&(V.current.find($=>$.id===z.id)?u?.(z):l?.(z))},{onWebSocketClose:b.useCallback(()=>{R||_(!0),wt({color:"red",message:"Live chat disconnected. Attempting to reconnect..."})},[R]),onWebSocketOpen:b.useCallback(()=>{R&&wt({color:"green",message:"Live chat reconnected."})},[R]),onSubscriptionConnect:b.useCallback(()=>{R&&(O().catch(N=>wt({color:"red",message:Vt(N)})),_(!1))},[R,O]),onError:b.useCallback(N=>{h?h(N):sse(Vt(N))},[h])});let M=b.useCallback(N=>{d||(y.current&&(y.current.value=""),i(N.message),U.current=!0)},[d,i]);b.useEffect(()=>{let N=g.getProfile();T?.id!==N?.id&&(j(N),r([]))});let[I,L]=OH(),V=b.useRef(n);V.current=n;let q=b.useRef(n),U=b.useRef(!0);b.useEffect(()=>{n!==q.current&&(U.current=!0),q.current=n},[n]),b.useEffect(()=>{U.current&&S.current?.scrollTo&&(S.current.scrollTo({top:S.current.scrollHeight,...x.current?{duration:0}:{behavior:"smooth"}}),x.current=!1,U.current=!1)});let W=b.useMemo(()=>{let N=n.length;for(;N--;){let z=n[N];if(z.sender?.reference===D&&z.received)return z.id}return""},[n,D]);return T?s.jsxs(tn,{className:Zr.chatPaper,p:0,radius:"md",...m,children:[!p&&s.jsx(Sr,{order:2,className:Zr.chatTitle,children:t}),s.jsx("div",{className:Zr.chatBody,ref:I,children:C.current?s.jsxs(oe,{align:"stretch",mt:"lg",children:[s.jsxs(fe,{justify:"flex-start",align:"flex-end",gap:"xs",mb:"sm",children:[s.jsx(Et,{height:38,circle:!0,ml:"md"}),s.jsx(Yx,{alignment:"left",parentWidth:L.width})]}),s.jsxs(fe,{justify:"flex-end",align:"flex-end",gap:"xs",mb:"sm",children:[s.jsx(Yx,{alignment:"right",parentWidth:L.width}),s.jsx(Et,{height:38,circle:!0,mr:"md"})]}),s.jsxs(fe,{justify:"flex-start",align:"flex-end",gap:"xs",mb:"sm",children:[s.jsx(Et,{height:38,circle:!0,ml:"md"}),s.jsx(Yx,{alignment:"left",parentWidth:L.width})]})]},"skeleton-chat-messages"):s.jsxs(Sn,{viewportRef:S,className:Zr.chatScrollArea,h:L.height,children:[s.jsx(Wv,{visible:A||R,style:{width:L.width,height:L.height,position:"absolute",zIndex:1}}),n.map((N,z)=>{let $=z>0?n[z-1]:void 0,G=$?tP($):void 0,X=tP(N),H=!!N.received&&N.id===W;return s.jsxs(oe,{align:"stretch",children:[(!G||X!==G)&&s.jsx(Y,{fz:"xs",ta:"center",children:X}),N.sender?.reference===D?s.jsxs(fe,{justify:"flex-end",align:"flex-end",gap:"xs",mb:"sm",children:[s.jsx(rP,{alignment:"right",communication:N,showDelivered:H}),s.jsx(xa,{radius:"xl",color:"orange",value:N.sender,mb:H?void 0:"sm"})]}):s.jsxs(fe,{justify:"flex-start",align:"flex-end",gap:"xs",mb:"sm",children:[s.jsx(xa,{radius:"xl",value:N.sender,mb:"sm"}),s.jsx(rP,{alignment:"left",communication:N})]})]},`${N.id}--${N.meta?.versionId??"no-version"}`)})]})}),s.jsx("div",{className:Zr.chatInputContainer,children:s.jsx(ar,{onSubmit:M,children:s.jsx(et,{ref:y,name:"message",placeholder:d?"Replies are disabled":"Type a message...",radius:"xl",rightSectionWidth:42,disabled:d,rightSection:d?void 0:s.jsx(xt,{type:"submit",size:"1.5rem",radius:"xl",color:"blue",variant:"filled","aria-label":"Send message",children:s.jsx(Qne,{size:"1rem",stroke:1.5})})})})})]}):null}function rP(e){let{communication:t,alignment:n,showDelivered:r}=e,a=t.payload?.[0]?.contentString||"",i=new Date(t.sent??-1),l=new Date(t.received??-1),u=Rt(t.sender);return s.jsxs("div",{className:Zr.chatBubbleOuterWrap,children:[s.jsxs(Y,{fz:"xs",mb:"xs",fw:500,className:n==="right"?Zr.chatBubbleNameRight:void 0,"aria-label":"Sender name",children:[u?nr(u):"[Unknown sender]","Â Â·Â ",s.jsx(Y,{span:!0,c:"dimmed",fz:"xs",children:Number.isNaN(i.getTime())?"":i.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})})]}),s.jsx("div",{className:n==="left"?Zr.chatBubbleLeftAlignedInnerWrap:Zr.chatBubbleRightAlignedInnerWrap,children:s.jsx("div",{className:Zr.chatBubble,children:a})}),r&&s.jsxs("div",{style:{textAlign:"right"},children:["Delivered ",l.getHours(),":",l.getMinutes().toString().length===1?"0":"",l.getMinutes()]})]})}function Yx(e){let{alignment:t,parentWidth:n}=e;return s.jsxs("div",{className:Zr.chatBubbleOuterWrap,children:[s.jsx("div",{className:Zr.chatBubbleName,"aria-label":"Placeholder sender name",children:s.jsx("div",{style:{position:"relative"},children:s.jsx(Et,{height:14,width:"100px",radius:"l",ml:t==="left"?"sm":void 0,style:t==="right"?{position:"absolute",right:5,top:-15}:void 0})})}),s.jsx("div",{className:t==="left"?Zr.chatBubbleLeftAlignedInnerWrap:Zr.chatBubbleRightAlignedInnerWrap,children:s.jsx("div",{className:Zr.chatBubble,children:s.jsx(Et,{height:14,width:n*.5,radius:"l"})})})]})}function cse(e){let{thread:t,title:n,onMessageSent:r,inputDisabled:a,excludeHeader:i,onError:l}=e,u=Ae(),d=Pr(),h=rne(t?.id),[p,m]=b.useState([]),g=b.useMemo(()=>d?Me(d):void 0,[d]),y=b.useMemo(()=>Me(t),[t]);b.useEffect(()=>{t?.id!==h&&m([])},[t?.id,h]);let S=b.useCallback(C=>{let T=g?Oe(g):void 0;T&&u.createResource({resourceType:"Communication",status:"in-progress",sender:g,recipient:t.recipient?.filter(j=>Oe(j)!==T)??[],sent:new Date().toISOString(),payload:[{contentString:C}],partOf:[y]}).then(j=>{m([...p,j]),r?.(j)}).catch(console.error)},[u,g,t,y,p,r]),x=b.useMemo(()=>t.recipient?.length===2?C=>{C.received&&C.status==="completed"||u.updateResource({...C,received:C.received??new Date().toISOString(),status:"completed"}).catch(console.error)}:void 0,[u,t.recipient?.length]);return d?s.jsx(lse,{title:n??(t?.topic?tl(t.topic):"[No thread title]"),communications:p,setCommunications:m,query:`part-of=Communication/${t.id}`,sendMessage:S,onMessageReceived:x,inputDisabled:a,excludeHeader:i,onError:l}):null}var aP={noteCite:"NoteDisplay_noteCite",noteRoot:"NoteDisplay_noteRoot"};function y$({value:e}){return e?s.jsx(oe,{justify:"flex-start",gap:"xs",children:e.map(t=>t.text&&s.jsx(dT,{classNames:{cite:aP.noteCite,root:aP.noteRoot},cite:t.authorReference?.display||t.authorString,icon:null,children:t.text},`note-${t.text}`))}):null}function QR(e){let{value:t,link:n,...r}=e,[a,i]=b.useState(),l=Rt(t,i),u;if(a&&!rR(a))u=`[${Vt(a)}]`;else if(l)u=nr(l);else return null;return n?s.jsx(ba,{to:t,...r,children:u}):s.jsx(Y,{component:"span",...r,children:u})}function pg(e){return s.jsxs(fe,{gap:"xs",children:[s.jsx(xa,{size:24,radius:12,value:e.value,link:e.link}),s.jsx(QR,{value:e.value,link:e.link})]})}var use={draft:"blue",active:"blue","on-hold":"yellow",revoked:"red",completed:"green","entered-in-error":"red",unknown:"gray",retired:"gray",registered:"blue",preliminary:"blue",final:"green",amended:"yellow",corrected:"yellow",cancelled:"red",requested:"blue",received:"blue",accepted:"blue",rejected:"red",ready:"blue","in-progress":"blue",failed:"red",proposed:"blue",pending:"blue",booked:"blue",arrived:"blue",fulfilled:"green",noshow:"red","checked-in":"blue",waitlist:"gray",routine:"gray",urgent:"red",asap:"red",stat:"red","not-done":"red",connected:"green",disconnected:"red",finished:"green",planned:"gray"};function il(e){let{status:t,...n}=e;return s.jsx(Bi,{color:e.color||use[t],...n,children:t.replaceAll("-"," ")})}var b$={table:"DiagnosticReportDisplay_table",criticalRow:"DiagnosticReportDisplay_criticalRow"};KR.defaultProps={hideObservationNotes:!1,hideSpecimenInfo:!1,hideSubject:!1};function KR(e){let t=Ae(),n=Rt(e.value),[r,a]=b.useState();if(b.useEffect(()=>{n?.specimen&&Promise.allSettled(n.specimen.map(l=>t.readReference(l))).then(l=>l.filter(u=>u.status==="fulfilled").map(u=>u.value)).then(a).catch(console.error)},[t,n]),!n)return null;let i=r?.flatMap(l=>l.note||[])||[];if(n.presentedForm&&n.presentedForm.length>0){let l=n.presentedForm[0];l.contentType?.startsWith("text/plain")&&l.data&&i.push({text:window.atob(l.data)})}return s.jsxs(oe,{children:[s.jsx(Sr,{children:"Diagnostic Report"}),s.jsx(dse,{value:n,hideSubject:e.hideSubject}),r&&!e.hideSpecimenInfo&&fse(r),n.result&&s.jsx(XR,{hideObservationNotes:e.hideObservationNotes,value:n.result}),i.length>0&&s.jsx(y$,{value:i})]})}function dse({value:e,hideSubject:t=!1}){return s.jsxs(fe,{mt:"md",gap:30,children:[e.subject&&!t&&s.jsxs("div",{children:[s.jsx(Y,{size:"xs",tt:"uppercase",c:"dimmed",children:"Subject"}),s.jsx(pg,{value:e.subject,link:!0})]}),e.resultsInterpreter?.map(n=>s.jsxs("div",{children:[s.jsx(Y,{size:"xs",tt:"uppercase",c:"dimmed",children:"Interpreter"}),s.jsx(pg,{value:n,link:!0})]},n.reference)),e.performer?.map(n=>s.jsxs("div",{children:[s.jsx(Y,{size:"xs",tt:"uppercase",c:"dimmed",children:"Performer"}),s.jsx(pg,{value:n,link:!0})]},n.reference)),e.issued&&s.jsxs("div",{children:[s.jsx(Y,{size:"xs",tt:"uppercase",c:"dimmed",children:"Issued"}),s.jsx(Y,{children:Ua(e.issued)})]}),e.status&&s.jsxs("div",{children:[s.jsx(Y,{size:"xs",tt:"uppercase",c:"dimmed",children:"Status"}),s.jsx(il,{status:e.status})]})]})}function fse(e){return s.jsxs(oe,{gap:"xs",children:[s.jsx(Sr,{order:2,size:"h6",children:"Specimens"}),s.jsx(ed,{type:"ordered",children:e?.map(t=>s.jsx(ed.Item,{ml:"sm",children:s.jsxs(fe,{gap:20,children:[s.jsxs(fe,{gap:5,children:[s.jsx(Y,{fw:500,children:"Collected:"})," ",Ua(t.collection?.collectedDateTime)]}),s.jsxs(fe,{gap:5,children:[s.jsx(Y,{fw:500,children:"Received:"})," ",Ua(t.receivedTime)]})]})},`specimen-${t.id}`))})]})}function XR(e){return s.jsxs("table",{className:b$.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Test"}),s.jsx("th",{children:"Value"}),s.jsx("th",{children:"Reference Range"}),s.jsx("th",{children:"Interpretation"}),s.jsx("th",{children:"Category"}),s.jsx("th",{children:"Performer"}),s.jsx("th",{children:"Status"})]})}),s.jsx("tbody",{children:s.jsx(x$,{value:e.value,ancestorIds:e.ancestorIds,hideObservationNotes:e.hideObservationNotes})})]})}function x$(e){return s.jsx(s.Fragment,{children:e.value?.map(t=>s.jsx(hse,{value:t,ancestorIds:e.ancestorIds,hideObservationNotes:e.hideObservationNotes},`obs-${Ia(t)?t.reference:t.id}`))})}function hse(e){let t=Rt(e.value);if(!t||e.ancestorIds?.includes(t.id))return null;let n=!e.hideObservationNotes&&t.note,r=gse(t);return s.jsxs(s.Fragment,{children:[s.jsxs("tr",{className:Ic({[b$.criticalRow]:r}),children:[s.jsx("td",{rowSpan:n?2:1,children:s.jsx(ba,{to:t,children:s.jsx(Yf,{value:t.code})})}),s.jsx("td",{children:s.jsx(pse,{value:t})}),s.jsx("td",{children:s.jsx(mse,{value:t.referenceRange})}),s.jsx("td",{children:t.interpretation&&t.interpretation.length>0&&s.jsx(Yf,{value:t.interpretation[0]})}),s.jsx("td",{children:t.category&&t.category.length>0&&s.jsx(s.Fragment,{children:t.category.map(a=>s.jsx("div",{children:s.jsx(Yf,{value:a})},`category-${tl(a)}`))})}),s.jsx("td",{children:t.performer?.map(a=>s.jsx(Rj,{value:a},a.reference))}),s.jsx("td",{children:t.status&&s.jsx(il,{status:t.status})})]}),t.hasMember&&s.jsx(x$,{value:t.hasMember,ancestorIds:e.ancestorIds?[...e.ancestorIds,t.id]:[t.id],hideObservationNotes:e.hideObservationNotes}),n&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,children:s.jsx(y$,{value:t.note})})})]})}function pse(e){let t=e.value;return s.jsx(s.Fragment,{children:oz(t)})}function mse(e){let t=e.value&&e.value.length>0&&e.value[0];return t?t.text?s.jsx(s.Fragment,{children:t.text}):s.jsx(HR,{value:t}):null}function gse(e){let t=e.interpretation?.[0]?.coding?.[0]?.code;return t==="AA"||t==="LL"||t==="HH"||t==="A"}var vse=Nne(Lne()),iP={removed:"ResourceDiffRow_removed",added:"ResourceDiffRow_added"};function yse(e){let{name:t,path:n,property:r,originalValue:a,revisedValue:i}=e,l=!!r?.type?.find(p=>p.code==="Attachment"),[u,d]=b.useState(l),h=()=>d(p=>!p);return s.jsx(s.Fragment,{children:l&&!u||!l?s.jsx(s.Fragment,{children:s.jsxs(Le.Tr,{children:[s.jsx(Le.Td,{children:t}),s.jsx(Le.Td,{className:iP.removed,children:a&&s.jsx(Vi,{path:n,property:r,propertyType:a.type,value:a.value,ignoreMissingValues:!0})}),s.jsx(Le.Td,{className:iP.added,children:i&&s.jsx(Vi,{path:n,property:r,propertyType:i.type,value:i.value,ignoreMissingValues:!0})})]})}):s.jsxs(Le.Tr,{children:[s.jsx(Le.Td,{children:t}),s.jsx(Le.Td,{colSpan:2,style:{textAlign:"right"},children:s.jsx(Pe,{onClick:h,variant:"light",children:"Expand"})})]})})}var bse={root:"ResourceDiffTable_root"};function xse(e){let t=Ae(),{original:n,revised:r}=e,[a,i]=b.useState(!1);b.useEffect(()=>{t.requestSchema(e.original.resourceType).then(()=>i(!0)).catch(console.log)},[t,e.original.resourceType]);let l=b.useMemo(()=>{if(!a)return null;let u=[qa(n)],d=[qa(r)],h=[],p=Sse((0,vse.createPatch)(n,r));for(let m of p){let g=m.path,y=wse(g),S=Cse(n.resourceType,y),x=m.op==="add"?void 0:nl(y,u),C=m.op==="remove"?void 0:nl(y,d);h.push({key:`op-${m.op}-${m.path}`,name:`${rr(m.op)} ${y}`,path:S?.path??n.resourceType+"."+y,property:S,originalValue:oP(S,x),revisedValue:oP(S,C)})}return h},[a,n,r]);return l?s.jsxs(Le,{className:bse.root,children:[s.jsx(Le.Thead,{children:s.jsxs(Le.Tr,{children:[s.jsx(Le.Th,{}),s.jsx(Le.Th,{children:"Before"}),s.jsx(Le.Th,{children:"After"})]})}),s.jsx(Le.Tbody,{children:l.map(u=>{let{key:d,...h}=u;return s.jsx(yse,{...h},d)})})]}):null}function Sse(e){let t=[];for(let n of e){let{op:r,path:a}=n;if(a.startsWith("/meta/author")||a.startsWith("/meta/compartment")||a.startsWith("/meta/lastUpdated")||a.startsWith("/meta/versionId"))continue;let i=e.filter(u=>u.op===r&&u.path===a).length,l={op:r,path:a};i>1&&(r==="add"||r==="remove")&&/\/[0-9-]+$/.test(a)&&(l.op="replace",l.path=a.replace(/\/[^/]+$/,"")),t.some(u=>u.op===l.op&&u.path===l.path)||t.push(l)}return t}function wse(e){let t=e.split("/").filter(Boolean),n="";for(let r=0;r<t.length;r++){let a=t[r];a==="-"?n+=".last()":/^\d+$/.test(a)?n+=`[${a}]`:(r>0&&(n+="."),n+=a)}return n.endsWith(".url")&&(n=n.replace(/\.url$/,"")),n}function Cse(e,t){try{return vy(e,{resourceType:"SearchParameter",base:[e],code:e+"."+t,expression:e+"."+t})?.elementDefinitions?.[0]}catch(n){console.warn("Failed to get element definition",{resourceType:e,fhirPath:t,err:n});return}}function oP(e,t){return t&&{type:Array.isArray(t)?t[0].type:t.type,value:jse(t,!!e?.isArray)}}function jse(e,t){let n=rz(e).flatMap(r=>r.value);return t?n:n[0]}function Dy(e){let{profileUrl:t}=e,n=Ae(),r=n.getAccessPolicy(),a=Rt(e.value),[i,l]=b.useState(!1);b.useEffect(()=>{if(a)if(t)n.requestProfileSchema(t,{expandProfile:!0}).then(()=>{Mc(t)?l(!0):console.error(`Schema not found for ${t}`)}).catch(d=>{console.error("Error in requestProfileSchema",d)});else{let d=a.resourceType;n.requestSchema(d).then(()=>{l(!0)}).catch(console.error)}},[n,t,a]);let u=b.useMemo(()=>a&&fz(a,ec.READ,r),[r,a]);return!i||!a?null:s.jsx(Zg,{path:a.resourceType,value:{type:a.resourceType,value:e.forceUseInput?e.value:a},profileUrl:t,ignoreMissingValues:e.ignoreMissingValues,accessPolicyResource:u})}var sP={item:"Timeline_item",itemPadding:"Timeline_itemPadding"};function Ese(e){return s.jsx(qR,{children:e.children})}function gc(e){let{resource:t,profile:n,padding:r,popupMenuItems:a,...i}=e,l=n??t.meta?.author,u=e.dateTime??t.meta?.lastUpdated;return s.jsxs(Ry,{"data-testid":"timeline-item",fill:!0,...i,children:[s.jsxs(fe,{justify:"space-between",gap:8,mx:"xs",my:"sm",children:[s.jsx(xa,{value:l,link:!0,size:"md"}),s.jsxs("div",{style:{flex:1},children:[s.jsx(Y,{size:"sm",children:s.jsx(QR,{c:"dark",fw:500,value:l,link:!0})}),s.jsxs(Y,{size:"xs",children:[s.jsx(ba,{c:"dimmed",to:e.resource,children:Ua(u)}),s.jsx(Y,{component:"span",c:"dimmed",mx:8,children:"Â·"}),s.jsx(ba,{c:"dimmed",to:e.resource,children:e.resource.resourceType})]})]}),a&&s.jsxs(ye,{position:"bottom-end",shadow:"md",width:200,children:[s.jsx(ye.Target,{children:s.jsx(xt,{color:"gray",variant:"subtle",radius:"xl","aria-label":`Actions for ${Oe(e.resource)}`,children:s.jsx(Ore,{})})}),a]})]}),s.jsx(Fz,{children:s.jsx("div",{className:Ic(sP.item,{[sP.itemPadding]:r}),children:e.children})})]})}function Tse(e,t){e.sort((n,r)=>{let a=lP(n,t),i=lP(r,t);return a>i?1:a<i?-1:cP(n,t)-cP(r,t)})}function lP(e,t){if(!S$(e,t)){let n=e.priority;if(typeof n=="string")return{stat:4,asap:3,urgent:2}[n]??0}return 0}function cP(e,t){if(!S$(e,t)){if(e.resourceType==="Communication"&&e.sent)return new Date(e.sent).getTime();if((e.resourceType==="DiagnosticReport"||e.resourceType==="Media"||e.resourceType==="Observation")&&e.issued)return new Date(e.issued).getTime();if(e.resourceType==="DocumentReference"&&e.date)return new Date(e.date).getTime()}let n=e.meta?.lastUpdated;return n?new Date(n).getTime():0}function S$(e,t){return!!t&&e.resourceType===t.resourceType&&e.id===t.id}var Rse={pinnedComment:"ResourceTimeline_pinnedComment"};function w$(e){let t=Ae(),n=t.getProfile(),r=b.useRef(null),a=Rt(e.value),[i,l]=b.useState(),[u,d]=b.useState([]),[h,p]=b.useState(10),m=e.loadTimelineResources,g=b.useRef(u);g.current=u;let y=b.useCallback(D=>{Tse(D,a),D.reverse(),d(D)},[a]),S=b.useCallback(D=>{let O=[];for(let M of D){if(M.status!=="fulfilled")continue;let I=M.value;if(I.type==="history"&&l(I),I.entry)for(let L of I.entry)O.push(L.resource)}y(O)},[y]),x=b.useCallback(D=>y([...g.current,D]),[y]),C=b.useCallback(()=>{let D,O;"resourceType"in e.value?(D=e.value.resourceType,O=e.value.id):[D,O]=e.value.reference?.split("/"),m(t,D,O).then(S).catch(console.error)},[t,e.value,m,S]);b.useEffect(()=>C(),[C]);function T(D){!a||!e.createCommunication||t.createResource(e.createCommunication(a,n,D)).then(O=>x(O)).catch(console.error)}function j(D){!a||!e.createMedia||t.createResource(e.createMedia(a,n,D)).then(O=>x(O)).then(()=>$f({id:"upload-notification",color:"teal",title:"Upload complete",message:"",icon:s.jsx(Ed,{size:16}),autoClose:2e3})).catch(O=>$f({id:"upload-notification",color:"red",title:"Upload error",message:Vt(O),icon:s.jsx(BM,{size:16}),autoClose:2e3}))}function R(){wt({id:"upload-notification",loading:!0,title:"Initializing upload...",message:"Please wait...",autoClose:!1,withCloseButton:!1})}function _(D){$f({id:"upload-notification",loading:!0,title:"Uploading...",message:Pse(D),autoClose:!1,withCloseButton:!1})}function A(D){$f({id:"upload-notification",color:"red",title:"Upload error",message:Vt(D),icon:s.jsx(BM,{size:16}),autoClose:2e3})}if(!a)return s.jsx(gr,{style:{width:"100%",height:"100%"},children:s.jsx(tr,{})});let k=u.filter(D=>D).slice(0,h);return s.jsxs(Ese,{children:[e.createCommunication&&s.jsx(Ry,{children:s.jsx(ar,{testid:"timeline-form",onSubmit:D=>{T(D.text);let O=r.current;O&&(O.value="",O.focus())},children:s.jsxs(fe,{gap:"xs",wrap:"nowrap",style:{width:"100%"},children:[s.jsx(xa,{value:n}),s.jsx(et,{name:"text",ref:r,placeholder:"Add comment",style:{width:"100%",maxWidth:300}}),s.jsx(xt,{type:"submit",radius:"xl",color:"blue",variant:"filled",children:s.jsx(aae,{size:16})}),s.jsx($R,{securityContext:Me(a),onUpload:j,onUploadStart:R,onUploadProgress:_,onUploadError:A,children:D=>s.jsx(xt,{...D,radius:"xl",color:"blue",variant:"filled",children:s.jsx(qz,{size:16})})})]})})}),k.map(D=>{let O=`${D.resourceType}/${D.id}/${D.meta?.versionId}`,M=e.getMenu?e.getMenu({primaryResource:a,currentResource:D,reloadTimeline:C}):void 0;if(D.resourceType===a.resourceType&&D.id===a.id)return s.jsx(_se,{history:i,resource:D,popupMenuItems:M},O);switch(D.resourceType){case"AuditEvent":return s.jsx(kse,{resource:D,popupMenuItems:M},O);case"Communication":return s.jsx(Ase,{resource:D,popupMenuItems:M},O);case"DiagnosticReport":return s.jsx(Mse,{resource:D,popupMenuItems:M},O);case"Media":return s.jsx(Ose,{resource:D,popupMenuItems:M},O);default:return s.jsx(gc,{resource:D,padding:!0,children:s.jsx(Dy,{value:D,ignoreMissingValues:!0})},O)}}),h<u.length&&s.jsx(fe,{justify:"center",pb:"lg",children:s.jsx(Pe,{onClick:()=>p(h+10),children:"Show More"})})]})}function _se(e){let{history:t,resource:n,...r}=e,a=Dse(t,n);return a?s.jsx(gc,{resource:n,padding:!0,...r,children:s.jsx(xse,{original:a,revised:e.resource})}):s.jsxs(gc,{resource:n,padding:!0,...r,children:[s.jsx("h3",{children:"Created"}),s.jsx(Dy,{value:n,ignoreMissingValues:!0,forceUseInput:!0})]})}function Dse(e,t){let n=e.entry??[],r=n.findIndex(a=>a.resource?.meta?.versionId===t.meta?.versionId);if(!(r>=n.length-1))return n[r+1].resource}function Ase(e){let t=!e.resource.priority||e.resource.priority==="routine"?void 0:Rse.pinnedComment;return s.jsx(gc,{resource:e.resource,profile:e.resource.sender,dateTime:e.resource.sent,padding:!0,className:t,popupMenuItems:e.popupMenuItems,children:s.jsx("p",{children:e.resource.payload?.[0]?.contentString})})}function Ose(e){let t=e.resource.content?.contentType,n=t&&!t.startsWith("image/")&&!t.startsWith("video/")&&t!=="application/pdf";return s.jsx(gc,{resource:e.resource,padding:!!n,popupMenuItems:e.popupMenuItems,children:s.jsx(Ks,{value:e.resource.content})})}function kse(e){return s.jsx(gc,{resource:e.resource,padding:!0,popupMenuItems:e.popupMenuItems,children:s.jsx(Sn,{children:s.jsx("pre",{children:e.resource.outcomeDesc})})})}function Mse(e){return s.jsx(gc,{resource:e.resource,padding:!0,popupMenuItems:e.popupMenuItems,children:s.jsx(KR,{value:e.resource})})}function Pse(e){if(e.lengthComputable){let t=100*e.loaded/e.total;return`Uploaded: ${Qx(e.loaded)} / ${Qx(e.total)} ${t.toFixed(2)}%`}return`Uploaded: ${Qx(e.loaded)}`}function Qx(e){if(e===0)return"0.00 B";let t=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,t)).toFixed(2)+" "+" KMGTP".charAt(t)+"B"}function Nse(e){let t;try{t=gee(e.path,e.resource)}catch(n){return console.warn("FhirPathDisplay:",n),null}if(t.length>1)throw new Error(`Component "path" for "FhirPathDisplay" must resolve to a single element.        Received ${t.length} elements        [${JSON.stringify(t,null,2)}]`);return s.jsx(Vi,{value:t[0]||"",propertyType:e.propertyType})}function Ise(e){return s.jsxs(Mt,{title:"Export",closeButtonProps:{"aria-label":"Close"},opened:e.visible,onClose:e.onCancel,children:[s.jsxs(ne,{display:"flex",style:{justifyContent:"space-between"},children:[e.exportCsv&&s.jsx(uP,{text:"CSV",exportLogic:e.exportCsv,onCancel:e.onCancel}),e.exportTransactionBundle&&s.jsx(uP,{text:"Transaction Bundle",exportLogic:e.exportTransactionBundle,onCancel:e.onCancel})]}),s.jsx(Y,{style:{marginTop:"10px",marginLeft:"2px"},children:"Limited to 1000 records"})]})}function uP(e){return s.jsx(Pe,{onClick:()=>{e.exportLogic(),e.onCancel()},children:`Export as ${e.text}`})}var Lse={string:[Ce.EQUALS,Ce.NOT,Ce.CONTAINS,Ce.EXACT],fulltext:[Ce.EQUALS,Ce.NOT,Ce.CONTAINS,Ce.EXACT],token:[Ce.EQUALS,Ce.NOT],reference:[Ce.EQUALS,Ce.NOT],numeric:[Ce.EQUALS,Ce.NOT_EQUALS,Ce.GREATER_THAN,Ce.LESS_THAN,Ce.GREATER_THAN_OR_EQUALS,Ce.LESS_THAN_OR_EQUALS],quantity:[Ce.EQUALS,Ce.NOT_EQUALS,Ce.GREATER_THAN,Ce.LESS_THAN,Ce.GREATER_THAN_OR_EQUALS,Ce.LESS_THAN_OR_EQUALS],date:[Ce.EQUALS,Ce.NOT_EQUALS,Ce.GREATER_THAN,Ce.LESS_THAN,Ce.GREATER_THAN_OR_EQUALS,Ce.LESS_THAN_OR_EQUALS,Ce.STARTS_AFTER,Ce.ENDS_BEFORE,Ce.APPROXIMATELY],datetime:[Ce.EQUALS,Ce.NOT_EQUALS,Ce.GREATER_THAN,Ce.LESS_THAN,Ce.GREATER_THAN_OR_EQUALS,Ce.LESS_THAN_OR_EQUALS,Ce.STARTS_AFTER,Ce.ENDS_BEFORE,Ce.APPROXIMATELY],uri:[Ce.EQUALS,Ce.NOT,Ce.ABOVE,Ce.BELOW]},zse={eq:"equals",ne:"not equals",gt:"greater than",lt:"less than",ge:"greater than or equals",le:"less than or equals",sa:"starts after",eb:"ends before",ap:"approximately",sw:"starts with",contains:"contains",exact:"exact",text:"text",not:"not",above:"above",below:"below",in:"in","not-in":"not in","of-type":"of type",missing:"missing",present:"present",identifier:"identifier",iterate:"iterate"};function ZR(e,t){return{...e,filters:t,offset:0,name:void 0}}function C$(e,t){return ZR(e,(e.filters??[]).filter(n=>n.code!==t))}function Ay(e,t,n,r,a){let i=[];return e.filters&&i.push(...e.filters),i.push({code:t,operator:n,value:r??""}),ZR(e,i)}function $se(e,t){if(!e.filters)return e;let n=[...e.filters];return n.splice(t,1),{...e,filters:n,name:void 0}}function qse(e,t){return JR(e,t,-1)}function Use(e,t){return JR(e,t,0)}function Bse(e,t){return JR(e,t,1)}function JR(e,t,n){let r=new Date;r.setDate(r.getDate()+n),r.setHours(0,0,0,0);let a=new Date(r.getTime());return a.setDate(a.getDate()+1),a.setTime(a.getTime()-1),Oy(e,t,r,a)}function Hse(e,t){let n=new Date,r=new Date(n.getTime()+1440*60*1e3);return Oy(e,t,n,r)}function Fse(e,t){return e_(e,t,-1)}function Vse(e,t){return e_(e,t,0)}function Wse(e,t){return e_(e,t,1)}function e_(e,t,n){let r=new Date;r.setMonth(r.getMonth()+n),r.setDate(1),r.setHours(0,0,0,0);let a=new Date(r.getTime());return a.setMonth(a.getMonth()+1),a.setDate(1),a.setHours(0,0,0,0),a.setTime(a.getTime()-1),Oy(e,t,r,a)}function Gse(e,t){let n=new Date;return n.setMonth(0),n.setDate(1),n.setHours(0,0,0,0),Oy(e,t,n,new Date)}function Oy(e,t,n,r){return e=C$(e,t),e=dP(e,t,Ce.GREATER_THAN_OR_EQUALS,n),e=dP(e,t,Ce.LESS_THAN_OR_EQUALS,r),e}function dP(e,t,n,r){return Ay(e,t,n,r.toISOString())}function fP(e,t,n=!0){return Ay(e,t,Ce.MISSING,n.toString())}function Yse(e,t){return e.offset===t?e:{...e,offset:t,name:void 0}}function Qse(e,t){let n=e.count??Gh,r=(t-1)*n;return Yse(e,r)}function Kse(e,t,n){return t===Xse(e)&&n!==void 0&&n===Zse(e)?e:{...e,sortRules:[{code:t,descending:!!n}],name:void 0}}function Xse(e){let t=e.sortRules;if(!t||t.length===0)return;let n=t[0].code;return n.startsWith("-")?n.substr(1):n}function Zse(e){let t=e.sortRules;return!t||t.length===0?!1:!!t[0].descending}function Jse(e){return Lse[e.type]}function j$(e){return zse[e]??""}function vc(e){let t=e;return t.includes(".")&&(t=t.split(".").pop()),t==="versionId"?"Version ID":(t=t.replace("[x]",""),t=t.replaceAll(/([A-Z])/g," $1"),t=t.replaceAll(/[-_]/g," "),t=t.replaceAll(/\s+/g," "),t=t.trim(),t.toLowerCase()==="id"?"ID":t.split(/\s/).map(rr).join(" "))}function ele(e,t){let n=t.name;return n==="id"?s.jsx(ba,{to:`/${e.resourceType}/${e.id}`,children:e.id}):n==="meta.versionId"?e.meta?.versionId:n==="_lastUpdated"?Ua(e.meta?.lastUpdated):`${e.resourceType}.${t.name}`===t.elementDefinition?.path?tle(e,t.elementDefinition):t.searchParams?.length===1&&t.name===t.searchParams[0].code?nle(e,t.searchParams[0]):null}function tle(e,t){let n=t.path?.split(".")?.pop()?.replaceAll("[x]","")??"",[r,a]=BR({type:e.resourceType,value:e},n);return r?s.jsx(Vi,{path:t.path,property:t,propertyType:a,value:r,maxWidth:200,ignoreMissingValues:!0,link:!1}):null}function nle(e,t){let n=nl(t.expression,[{type:e.resourceType,value:e}]);return!n||n.length===0?null:s.jsx(s.Fragment,{children:n.map((r,a)=>s.jsx(Vi,{propertyType:r.type,value:r.value,maxWidth:200,ignoreMissingValues:!0,link:!1},`${a}-${n.length}`))})}function rle(e){let t=b.useRef(!1),[n,r]=b.useState({search:JSON.parse(ad(e.search))}),[a,i]=b.useState(!1);b.useEffect(()=>{r({search:e.search})},[e.search]);let l=b.useMemo(()=>{if(!e.visible)return[];let d=e.search.resourceType,h=z6(d),p=fR(d);return uR(ale(h,p)).map(m=>({value:m,label:vc(m)}))},[e.visible,e.search.resourceType]);function u(d){r({search:{...n.search,fields:d}})}return s.jsx(Mt,{title:"Fields",closeButtonProps:{"aria-label":"Close"},opened:e.visible,onClose:()=>{e.onCancel()},size:"auto",withOverlay:!0,closeOnClickOutside:!1,overlayProps:{onMouseDownCapture:()=>{t.current=a},onClick:()=>{t.current||e.onCancel(),t.current=!1},children:s.jsx("div",{"data-testid":"overlay-child"})},children:s.jsxs(oe,{children:[s.jsx(ny,{style:{width:550},placeholder:"Select fields to display",data:l,value:n.search.fields??[],onChange:u,onDropdownOpen:()=>i(!0),onDropdownClose:()=>i(!1),maxDropdownHeight:"250px",clearButtonProps:{"aria-label":"Clear selection"},clearable:!0,searchable:!0}),s.jsx(fe,{justify:"flex-end",children:s.jsx(Pe,{onClick:()=>e.onOk(n.search),children:"OK"})})]})})}function ale(e,t){let n=[],r=new Set,a=new Set;for(let i of Object.keys(e.elements))n.push(i),r.add(i.toLowerCase()),a.add(vc(i));if(t)for(let i of Object.keys(t)){let l=vc(i);!r.has(i)&&!a.has(l)&&(n.push(i),r.add(i),a.add(l))}return n}function E$(e){let t=vy(e.resourceType,e.searchParam),n=e.name??"filter-value";switch(t.type){case $r.REFERENCE:return s.jsx(mc,{name:n,defaultValue:e.defaultValue?{reference:e.defaultValue}:void 0,targetTypes:e.searchParam.target,autoFocus:e.autoFocus,onChange:r=>{r?e.onChange(r.reference):e.onChange("")}});case $r.BOOLEAN:return s.jsx(hi,{name:n,"data-autofocus":e.autoFocus,"data-testid":n,defaultChecked:e.defaultValue==="true",autoFocus:e.autoFocus,onChange:r=>e.onChange(r.currentTarget.checked.toString())});case $r.DATE:return s.jsx(et,{type:"date",name:n,"data-autofocus":e.autoFocus,"data-testid":n,defaultValue:e.defaultValue,autoFocus:e.autoFocus,onChange:r=>e.onChange(r.currentTarget.value)});case $r.DATETIME:return s.jsx(Wn,{name:n,defaultValue:e.defaultValue,autoFocus:e.autoFocus,onChange:e.onChange});case $r.NUMBER:return s.jsx(et,{type:"number",name:n,"data-autofocus":e.autoFocus,"data-testid":n,defaultValue:e.defaultValue,autoFocus:e.autoFocus,onChange:r=>e.onChange(r.currentTarget.value)});case $r.QUANTITY:return s.jsx(pc,{name:n,path:"",defaultValue:ile(e.defaultValue),autoFocus:e.autoFocus,onChange:r=>{r?e.onChange(`${r.value}`):e.onChange("")}});default:return s.jsx(et,{name:n,"data-autofocus":e.autoFocus,"data-testid":n,defaultValue:e.defaultValue,autoFocus:e.autoFocus,onChange:r=>e.onChange(r.currentTarget.value),placeholder:"Search value"})}}function ile(e){if(e){let[t,n,r]=e.split("|");if(t)return{value:Number.parseFloat(t),system:n,unit:r}}}function ole(e){let[t,n]=b.useState(Hi(e.search)),r=b.useRef(t);r.current=t,b.useEffect(()=>{n(Hi(e.search))},[e.search]);function a(d){n(Ay(r.current,d.code,d.operator,d.value))}let i=e.search.resourceType,l=fR(i)??{},u=t.filters||[];return s.jsx(Mt,{title:"Filters",closeButtonProps:{"aria-label":"Close"},size:900,opened:e.visible,onClose:e.onCancel,children:s.jsxs(ar,{onSubmit:()=>e.onOk(r.current),children:[s.jsxs("div",{children:[s.jsxs("table",{children:[s.jsxs("colgroup",{children:[s.jsx("col",{style:{width:200}}),s.jsx("col",{style:{width:200}}),s.jsx("col",{style:{width:380}}),s.jsx("col",{style:{width:40}})]}),s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Field"}),s.jsx("th",{children:"Operation"}),s.jsx("th",{children:"Value"}),s.jsx("th",{})]})}),s.jsx("tbody",{children:u.map((d,h)=>s.jsx(sle,{id:`filter-${h}-row`,resourceType:i,searchParams:l,value:d,onChange:p=>{let m=[...u];m[h]=p,n(ZR(r.current,m))},onDelete:()=>n($se(r.current,h))},`filter-${h}-row`))})]}),s.jsx(WR,{propertyDisplayName:"Filter",onClick:()=>a({})})]}),s.jsx(fe,{justify:"flex-end",mt:"xl",children:s.jsx(Nr,{children:"OK"})})]})})}function sle(e){let t=e.value,n=b.useRef(t);n.current=t;function r(d){n.current.code=d,n.current.operator=Ce.EQUALS,n.current.value="",e.onChange(n.current)}function a(d){n.current.operator=d,n.current.value="",e.onChange(n.current)}function i(d){n.current.value=d,e.onChange(n.current)}let l=e.searchParams[t.code],u=l&&Jse(l);return s.jsxs("tr",{children:[s.jsx("td",{children:s.jsx(Vr,{"data-testid":`${e.id}-filter-field`,defaultValue:e.value.code,onChange:d=>r(d.currentTarget.value),data:["",...Object.keys(e.searchParams).map(d=>({value:d,label:vc(d)}))]})}),s.jsx("td",{children:u&&s.jsx(Vr,{"data-testid":`${e.id}-filter-operation`,defaultValue:t.operator,onChange:d=>a(d.currentTarget.value),data:["",...u.map(d=>({value:d,label:j$(d)}))]},`${e.id}-filter-value-${e.value.code}`)}),s.jsx("td",{children:l&&t.operator&&s.jsx(E$,{name:`${e.id}-filter-value`,resourceType:e.resourceType,searchParam:l,defaultValue:t.value,onChange:i},`${e.id}-filter-value-${e.value.code}-${e.value.operator}`)}),s.jsx("td",{children:e.onDelete&&s.jsx(xt,{variant:"outline",color:"red",radius:"xl","aria-label":"Delete filter",onClick:e.onDelete,children:s.jsx(NR,{style:{width:"70%",height:"70%"},stroke:1.5})})})]})}function lle(e){let[t,n]=b.useState(e.defaultValue??"");if(!e.searchParam||!e.filter)return null;function r(){e.onOk({...e.filter,value:t})}return s.jsx(Mt,{title:e.title,size:"xl",opened:e.visible,onClose:e.onCancel,children:s.jsx(ar,{onSubmit:r,children:s.jsxs(vr,{children:[s.jsx(vr.Col,{span:10,children:s.jsx(E$,{resourceType:e.resourceType,searchParam:e.searchParam,defaultValue:t,autoFocus:!0,onChange:n})}),s.jsx(vr.Col,{span:2,children:s.jsx(Pe,{onClick:r,fullWidth:!0,children:"OK"})})]})})})}function cle(e){let{resourceType:t,filter:n}=e,r=yo.types[t].searchParams?.[n.code];if(r){if(r.type==="reference"&&(n.operator===Ce.EQUALS||n.operator===Ce.NOT_EQUALS))return s.jsx(QR,{value:{reference:n.value}});let a=vy(t,r);if(n.code==="_lastUpdated"||a.type===$r.DATETIME)return s.jsx(s.Fragment,{children:Ua(n.value)})}return s.jsx(s.Fragment,{children:n.value})}function ule(e){if(!e.searchParams)return null;function t(i,l){a(Kse(e.search,i.code,l))}function n(i){a(C$(e.search,i.code))}function r(i,l){e.onPrompt(i,{code:i.code,operator:l,value:""})}function a(i){e.onChange(i)}return e.searchParams.length===1?s.jsx(dle,{search:e.search,searchParam:e.searchParams[0],onSort:t,onPrompt:r,onChange:a,onClear:n}):s.jsx(ye.Dropdown,{children:e.searchParams.map(i=>s.jsx(ye.Item,{children:vc(i.code)},i.code))})}function dle(e){switch(e.searchParam.type){case"date":return s.jsx(fle,{...e});case"number":case"quantity":return s.jsx(hle,{...e});case"reference":return s.jsx(ple,{...e});case"string":return s.jsx(mle,{...e});case"token":case"uri":return s.jsx(gle,{...e});default:return s.jsxs(s.Fragment,{children:["Unknown search param type: ",e.searchParam.type]})}}function fle(e){let{searchParam:t}=e,n=t.code;return s.jsxs(ye.Dropdown,{children:[s.jsx(ye.Item,{leftSection:s.jsx(kR,{size:14}),onClick:()=>e.onSort(t,!1),children:"Sort Oldest to Newest"}),s.jsx(ye.Item,{leftSection:s.jsx(MR,{size:14}),onClick:()=>e.onSort(t,!0),children:"Sort Newest to Oldest"}),s.jsx(ye.Divider,{}),s.jsx(ye.Item,{leftSection:s.jsx(Kh,{size:14}),onClick:()=>e.onPrompt(t,Ce.EQUALS),children:"Equals..."}),s.jsx(ye.Item,{leftSection:s.jsx(Qh,{size:14}),onClick:()=>e.onPrompt(t,Ce.NOT_EQUALS),children:"Does not equal..."}),s.jsx(ye.Divider,{}),s.jsx(ye.Item,{leftSection:s.jsx(Bz,{size:14}),onClick:()=>e.onPrompt(t,Ce.ENDS_BEFORE),children:"Before..."}),s.jsx(ye.Item,{leftSection:s.jsx(Uz,{size:14}),onClick:()=>e.onPrompt(t,Ce.STARTS_AFTER),children:"After..."}),s.jsx(ye.Item,{leftSection:s.jsx(ore,{size:14}),onClick:()=>e.onPrompt(t,Ce.EQUALS),children:"Between..."}),s.jsx(ye.Divider,{}),s.jsx(ye.Item,{leftSection:s.jsx(qs,{size:14}),onClick:()=>e.onChange(Bse(e.search,n)),children:"Tomorrow"}),s.jsx(ye.Item,{leftSection:s.jsx(qs,{size:14}),onClick:()=>e.onChange(Use(e.search,n)),children:"Today"}),s.jsx(ye.Item,{leftSection:s.jsx(qs,{size:14}),onClick:()=>e.onChange(qse(e.search,n)),children:"Yesterday"}),s.jsx(ye.Item,{leftSection:s.jsx(qs,{size:14}),onClick:()=>e.onChange(Hse(e.search,n)),children:"Next 24 Hours"}),s.jsx(ye.Divider,{}),s.jsx(ye.Item,{leftSection:s.jsx(qs,{size:14}),onClick:()=>e.onChange(Wse(e.search,n)),children:"Next Month"}),s.jsx(ye.Item,{leftSection:s.jsx(qs,{size:14}),onClick:()=>e.onChange(Vse(e.search,n)),children:"This Month"}),s.jsx(ye.Item,{leftSection:s.jsx(qs,{size:14}),onClick:()=>e.onChange(Fse(e.search,n)),children:"Last Month"}),s.jsx(ye.Divider,{}),s.jsx(ye.Item,{leftSection:s.jsx(qs,{size:14}),onClick:()=>e.onChange(Gse(e.search,n)),children:"Year to date"}),s.jsx(Jh,{...e})]})}function hle(e){let{searchParam:t}=e;return s.jsxs(ye.Dropdown,{children:[s.jsx(ye.Item,{leftSection:s.jsx(kR,{size:14}),onClick:()=>e.onSort(t,!1),children:"Sort Smallest to Largest"}),s.jsx(ye.Item,{leftSection:s.jsx(MR,{size:14}),onClick:()=>e.onSort(t,!0),children:"Sort Largest to Smallest"}),s.jsx(ye.Divider,{}),s.jsx(ye.Item,{leftSection:s.jsx(Kh,{size:14}),onClick:()=>e.onPrompt(t,Ce.EQUALS),children:"Equals..."}),s.jsx(ye.Item,{leftSection:s.jsx(Qh,{size:14}),onClick:()=>e.onPrompt(t,Ce.NOT_EQUALS),children:"Does not equal..."}),s.jsx(ye.Divider,{}),s.jsx(ye.Item,{leftSection:s.jsx(Uz,{size:14}),onClick:()=>e.onPrompt(t,Ce.GREATER_THAN),children:"Greater than..."}),s.jsx(ye.Item,{leftSection:s.jsx(Tj,{size:14}),onClick:()=>e.onPrompt(t,Ce.GREATER_THAN_OR_EQUALS),children:"Greater than or equal to..."}),s.jsx(ye.Item,{leftSection:s.jsx(Bz,{size:14}),onClick:()=>e.onPrompt(t,Ce.LESS_THAN),children:"Less than..."}),s.jsx(ye.Item,{leftSection:s.jsx(Tj,{size:14}),onClick:()=>e.onPrompt(t,Ce.LESS_THAN_OR_EQUALS),children:"Less than or equal to..."}),s.jsx(Jh,{...e})]})}function ple(e){let{searchParam:t}=e;return s.jsxs(ye.Dropdown,{children:[s.jsx(ye.Item,{leftSection:s.jsx(Kh,{size:14}),onClick:()=>e.onPrompt(t,Ce.EQUALS),children:"Equals..."}),s.jsx(ye.Item,{leftSection:s.jsx(Qh,{size:14}),onClick:()=>e.onPrompt(t,Ce.NOT),children:"Does not equal..."}),s.jsx(Jh,{...e})]})}function mle(e){let{searchParam:t}=e;return s.jsxs(ye.Dropdown,{children:[s.jsx(ye.Item,{leftSection:s.jsx(kR,{size:14}),onClick:()=>e.onSort(t,!1),children:"Sort A to Z"}),s.jsx(ye.Item,{leftSection:s.jsx(MR,{size:14}),onClick:()=>e.onSort(t,!0),children:"Sort Z to A"}),s.jsx(ye.Divider,{}),s.jsx(ye.Item,{leftSection:s.jsx(Kh,{size:14}),onClick:()=>e.onPrompt(t,Ce.EQUALS),children:"Equals..."}),s.jsx(ye.Item,{leftSection:s.jsx(Qh,{size:14}),onClick:()=>e.onPrompt(t,Ce.NOT),children:"Does not equal..."}),s.jsx(ye.Divider,{}),s.jsx(ye.Item,{leftSection:s.jsx(fre,{size:14}),onClick:()=>e.onPrompt(t,Ce.CONTAINS),children:"Contains..."}),s.jsx(ye.Item,{leftSection:s.jsx(ure,{size:14}),onClick:()=>e.onPrompt(t,Ce.EQUALS),children:"Does not contain..."}),s.jsx(Jh,{...e})]})}function gle(e){let{searchParam:t}=e;return s.jsxs(ye.Dropdown,{children:[s.jsx(ye.Item,{leftSection:s.jsx(Kh,{size:14}),onClick:()=>e.onPrompt(t,Ce.EQUALS),children:"Equals..."}),s.jsx(ye.Item,{leftSection:s.jsx(Qh,{size:14}),onClick:()=>e.onPrompt(t,Ce.NOT),children:"Does not equal..."}),s.jsx(Jh,{...e})]})}function Jh(e){let{searchParam:t}=e,n=t.code;return s.jsxs(s.Fragment,{children:[s.jsx(ye.Divider,{}),s.jsx(ye.Item,{leftSection:s.jsx(nre,{size:14}),onClick:()=>e.onChange(fP(e.search,n)),children:"Missing"}),s.jsx(ye.Item,{leftSection:s.jsx(ere,{size:14}),onClick:()=>e.onChange(fP(e.search,n,!1)),children:"Not missing"}),s.jsx(ye.Divider,{}),s.jsx(ye.Item,{leftSection:s.jsx(NR,{size:14}),onClick:()=>e.onClear(t),children:"Clear filters"})]})}function vle(e){switch(e){case"next":return{"aria-label":"Next page"};case"previous":return{"aria-label":"Previous page"};case"first":return{"aria-label":"First page"};case"last":return{"aria-label":"Last page"};default:return{}}}var Df={root:"SearchControl_root",table:"SearchControl_table",tr:"SearchControl_tr",control:"SearchControl_control",icon:"SearchControl_icon"};function yle(e){let t=e.resourceType,n=[];for(let r of e.fields||["id","_lastUpdated"])n.push(ble(t,r));return n}function ble(e,t){if(t==="_lastUpdated")return{name:"_lastUpdated",searchParams:[{resourceType:"SearchParameter",base:["Resource"],code:"_lastUpdated",name:"_lastUpdated",type:"date",expression:"Resource.meta.lastUpdated"}]};if(t==="meta.versionId")return{name:"meta.versionId",searchParams:[{resourceType:"SearchParameter",base:["Resource"],code:"_versionId",name:"_versionId",type:"token",expression:"Resource.meta.versionId"}]};let n=Wh(e,t),r=BJ(e,t.toLowerCase());if(n&&r)return{name:t,elementDefinition:n,searchParams:[r]};if(n){let a=fR(e),i;if(a){let l=new RegExp(`${e}\\.${t.replaceAll("[x]","")}([^\\w-]|$)`);i=Object.values(a).filter(u=>!!u.expression&&l.test(u?.expression)),i.length===0&&(i=void 0)}return{name:t,elementDefinition:n,searchParams:i}}if(r){let a=vy(e,r);return{name:t,elementDefinition:a.elementDefinitions?.[0],searchParams:[r]}}return{name:t}}var xle=class extends Event{constructor(e){super("change"),Jt(this,"definition"),this.definition=e}},Sle=class extends Event{constructor(e){super("load"),Jt(this,"response"),this.response=e}},Jg=class extends Event{constructor(e,t){super("click"),Jt(this,"resource"),Jt(this,"browserEvent"),this.resource=e,this.browserEvent=t}};function T$(e){let t=Ae(),[n,r]=b.useState(),{search:a,onLoad:i}=e,[l,u]=b.useState(a);pi(a,l)||u(a);let[d,h]=b.useState({selected:{},fieldEditorVisible:!1,filterEditorVisible:!1,exportDialogVisible:!1,filterDialogVisible:!1}),p=b.useRef(d);p.current=d;let m=l.total??"accurate",g=b.useCallback(q=>{r(void 0),t.requestSchema(l.resourceType).then(()=>t.search(l.resourceType,Qs({...l,total:m,fields:void 0}),q)).then(U=>{h({...p.current,searchResponse:U}),i&&i(new Sle(U))}).catch(U=>{h({...p.current,searchResponse:void 0}),r(Or(U))})},[t,l,m,i]),y=b.useCallback(()=>{h({...p.current,searchResponse:void 0}),g({cache:"reload"})},[g]);b.useEffect(()=>{g()},[g]);function S(q,U){q.stopPropagation();let W=q.target.checked,N={...p.current.selected};W?N[U]=!0:delete N[U],h({...p.current,selected:N})}function x(q){q.stopPropagation();let U=q.target.checked,W={},N=p.current.searchResponse;U&&N?.entry&&N.entry.forEach(z=>{z.resource?.id&&(W[z.resource.id]=!0)}),h({...p.current,selected:W})}function C(){let q=p.current;if(!q.searchResponse?.entry||q.searchResponse.entry.length===0)return!1;for(let U of q.searchResponse.entry)if(U.resource?.id&&!q.selected[U.resource.id])return!1;return!0}function T(q){e.onChange&&e.onChange(new xle(q))}function j(q,U){if(Vz(q.target)||q.button===2)return;ya(q);let W=IR(q);!W&&e.onClick&&e.onClick(new Jg(U,q)),W&&e.onAuxClick&&e.onAuxClick(new Jg(U,q))}function R(){return!!(e.onExport??e.onExportCsv??e.onExportTransactionBundle)}if(n)return s.jsx(Lc,{outcome:n});if(!L6(l.resourceType))return s.jsx(gr,{style:{width:"100%",height:"100%"},children:s.jsx(tr,{})});let _=e.checkboxesEnabled,A=yle(l),k=l.resourceType,D=d.searchResponse,O=D?.entry?.map(q=>q.resource),M="subtle",I="gray",L=16,V=window.innerWidth<768;return s.jsxs("div",{className:Df.root,"data-testid":"search-control",children:[!e.hideToolbar&&s.jsxs(fe,{justify:"space-between",mb:"xl",children:[s.jsxs(fe,{gap:2,children:[s.jsx(Pe,{size:"compact-md",variant:M,color:I,leftSection:s.jsx(Tre,{size:L}),onClick:()=>h({...p.current,fieldEditorVisible:!0,dialogOpenTime:Date.now()}),children:"Fields"}),s.jsx(Pe,{size:"compact-md",variant:M,color:I,leftSection:s.jsx(Wre,{size:L}),onClick:()=>h({...p.current,filterEditorVisible:!0,dialogOpenTime:Date.now()}),children:"Filters"}),e.onNew&&s.jsx(Pe,{size:"compact-md",variant:M,color:I,leftSection:s.jsx(Fre,{size:L}),onClick:e.onNew,children:"New..."}),!V&&R()&&s.jsx(Pe,{size:"compact-md",variant:M,color:I,leftSection:s.jsx(xae,{size:L}),onClick:e.onExport?e.onExport:()=>h({...p.current,exportDialogVisible:!0,dialogOpenTime:Date.now()}),children:"Export..."}),!V&&e.onDelete&&s.jsx(Pe,{size:"compact-md",variant:M,color:I,leftSection:s.jsx(PR,{size:L}),onClick:()=>e.onDelete(Object.keys(d.selected)),children:"Delete..."}),!V&&e.onBulk&&s.jsx(Pe,{size:"compact-md",variant:M,color:I,leftSection:s.jsx(are,{size:L}),onClick:()=>e.onBulk(Object.keys(d.selected)),children:"Bulk..."})]}),s.jsxs(fe,{gap:2,children:[D&&s.jsxs(Y,{size:"xs",c:"dimmed","data-testid":"count-display",children:[R$(l,D).toLocaleString(),"-",Ele(l,D).toLocaleString(),D.total!==void 0&&` of ${l.total==="estimate"?"~":""}${D.total?.toLocaleString()}`]}),s.jsx(xt,{variant:M,color:I,title:"Refresh",onClick:y,children:s.jsx(cae,{size:L})})]})]}),s.jsxs(Le,{className:Df.table,children:[s.jsxs(Le.Thead,{children:[s.jsxs(Le.Tr,{children:[_&&s.jsx(Le.Th,{children:s.jsx("input",{type:"checkbox",value:"checked","aria-label":"all-checkbox","data-testid":"all-checkbox",checked:C(),onChange:q=>x(q)})}),A.map(q=>s.jsx(Le.Th,{children:s.jsxs(ye,{shadow:"md",width:240,position:"bottom-end",children:[s.jsx(ye.Target,{children:s.jsx(Vn,{className:Df.control,p:2,children:s.jsxs(fe,{justify:"space-between",wrap:"nowrap",children:[s.jsx(Y,{fw:500,children:vc(q.name)}),s.jsx(gr,{className:Df.icon,children:s.jsx(Vne,{size:14,stroke:1.5})})]})})}),s.jsx(ule,{search:l,searchParams:q.searchParams,onPrompt:(U,W)=>{h({...p.current,filterDialogVisible:!0,filterDialogSearchParam:U,filterDialogFilter:W,dialogOpenTime:Date.now()})},onChange:U=>{T(U)}})]})},q.name))]}),!e.hideFilters&&s.jsxs(Le.Tr,{children:[_&&s.jsx(Le.Th,{}),A.map(q=>s.jsx(Le.Th,{children:q.searchParams&&s.jsx(wle,{resourceType:k,searchParams:q.searchParams,filters:l.filters})},q.name))]})]}),s.jsx(Le.Tbody,{children:O?.map(q=>q&&s.jsxs(Le.Tr,{className:Df.tr,"data-testid":"search-control-row",onClick:U=>j(U,q),onAuxClick:U=>j(U,q),children:[_&&s.jsx(Le.Td,{children:s.jsx("input",{type:"checkbox",value:"checked","data-testid":"row-checkbox","aria-label":`Checkbox for ${q.id}`,checked:!!d.selected[q.id],onChange:U=>S(U,q.id)})}),A.map(U=>s.jsx(Le.Td,{children:ele(q,U)},U.name))]},q.id))})]}),!O?.length&&s.jsx(qR,{children:s.jsx(gr,{style:{height:150},children:s.jsx(Y,{size:"xl",c:"dimmed",children:"No results"})})}),D&&s.jsx(gr,{m:"md",p:"md",children:s.jsx(Fa,{value:Cle(l),total:jle(l,D),onChange:q=>T(Qse(l,q)),getControlProps:vle})}),s.jsx(rle,{search:l,visible:p.current.fieldEditorVisible,onOk:q=>{T(q),h({...p.current,fieldEditorVisible:!1})},onCancel:()=>{h({...p.current,fieldEditorVisible:!1})}},`search-field-editor-${d.dialogOpenTime}`),s.jsx(ole,{search:l,visible:p.current.filterEditorVisible,onOk:q=>{T(q),h({...p.current,filterEditorVisible:!1})},onCancel:()=>{h({...p.current,filterEditorVisible:!1})}},`search-filter-editor-${d.dialogOpenTime}`),s.jsx(Ise,{visible:p.current.exportDialogVisible,exportCsv:e.onExportCsv,exportTransactionBundle:e.onExportTransactionBundle,onCancel:()=>{h({...p.current,exportDialogVisible:!1})}},`search-export-dialog-${d.dialogOpenTime}`),s.jsx(lle,{visible:p.current.filterDialogVisible,title:d.filterDialogSearchParam?.code?vc(d.filterDialogSearchParam.code):"",resourceType:k,searchParam:d.filterDialogSearchParam,filter:d.filterDialogFilter,defaultValue:"",onOk:q=>{T(Ay(l,q.code,q.operator,q.value)),h({...p.current,filterDialogVisible:!1})},onCancel:()=>{h({...p.current,filterDialogVisible:!1})}},`search-filter-dialog-${d.dialogOpenTime}`)]})}function wle(e){let t=(e.filters??[]).filter(n=>e.searchParams.find(r=>r.code===n.code));return t.length===0?s.jsx("span",{children:"no filters"}):s.jsx(s.Fragment,{children:t.map(n=>s.jsxs("div",{children:[j$(n.operator),"Â ",s.jsx(cle,{resourceType:e.resourceType,filter:n})]},`filter-${n.code}-${n.operator}-${n.value}`))})}function Cle(e){return Math.floor((e.offset??0)/(e.count??Gh))+1}function jle(e,t){let n=e.count??Gh,r=_$(e,t);return Math.ceil(r/n)}function R$(e,t){return Math.min(_$(e,t),(e.offset??0)+1)}function Ele(e,t){return Math.max(R$(e,t)+(t.entry?.length??0)-1,0)}function _$(e,t){let n=t.total;return n===void 0&&(n=(e.offset??0)+(t.entry?.length??0)+(t.link?.some(r=>r.relation==="next")?1:0)),n}function Tle(e){let t=Ae(),[n,r]=b.useState(!1),[a,i]=b.useState(),{query:l,fields:u}=e,[d,h]=b.useState(),[p,m]=b.useState({}),g=b.useRef(d);g.current=d;let y=b.useRef({});y.current=p,b.useEffect(()=>{i(void 0),t.graphql(l).then(h).catch(R=>i(Or(R)))},[t,l]);function S(R,_){R.stopPropagation();let A=R.target.checked,k={...y.current};A?k[_]=!0:delete k[_],m(k)}function x(R){R.stopPropagation();let _=R.target.checked,A={},k=g.current?.data.ResourceList;_&&k&&k.forEach(D=>{D.id&&(A[D.id]=!0)}),m(A)}function C(){let R=g.current?.data.ResourceList;if(!R||R.length===0)return!1;for(let _ of R)if(_.id&&!y.current[_.id])return!1;return!0}function T(R,_){Vz(R.target)||(ya(R),R.button!==1&&e.onClick&&e.onClick(new Jg(_,R)),R.button===1&&e.onAuxClick&&e.onAuxClick(new Jg(_,R)))}if(b.useEffect(()=>{t.requestSchema(e.resourceType).then(()=>r(!0)).catch(console.log)},[t,e.resourceType]),!n)return s.jsx(tr,{});let j=e.checkboxesEnabled;return s.jsxs("div",{onContextMenu:R=>ya(R),"data-testid":"search-control",children:[s.jsxs(Le,{children:[s.jsx(Le.Thead,{children:s.jsxs(Le.Tr,{children:[j&&s.jsx(Le.Th,{children:s.jsx("input",{type:"checkbox",value:"checked","aria-label":"all-checkbox","data-testid":"all-checkbox",checked:C(),onChange:R=>x(R)})}),u.map(R=>s.jsx(Le.Th,{children:R.name},R.name))]})}),s.jsx(Le.Tbody,{children:d?.data.ResourceList.map(R=>R&&s.jsxs(Le.Tr,{"data-testid":"search-control-row",onClick:_=>T(_,R),onAuxClick:_=>T(_,R),children:[j&&s.jsx(Le.Td,{children:s.jsx("input",{type:"checkbox",value:"checked","data-testid":"row-checkbox","aria-label":`Checkbox for ${R.id}`,checked:!!p[R.id],onChange:_=>S(_,R.id)})}),u.map(_=>s.jsx(Le.Td,{children:s.jsx(Nse,{propertyType:_.propertyType,path:_.fhirPath,resource:R})},_.name))]},R.id))})]}),d?.data.ResourceList.length===0&&s.jsx("div",{"data-testid":"empty-search",children:"No results"}),a&&s.jsx("div",{"data-testid":"search-error",children:s.jsx("pre",{style:{textAlign:"left"},children:JSON.stringify(a,void 0,2)})}),e.onBulk&&s.jsx(Pe,{onClick:()=>e.onBulk(Object.keys(y.current)),children:"Bulk..."})]})}b.memo(Tle);var hP={list:"LinkTabs_list",link:"LinkTabs_link"};function Rle(e){let{baseUrl:t,tabs:n,children:r,...a}=e,i=_le(n),l=jd(),[u,d]=b.useState(()=>{let p=pr.getPathname().split("/").pop();return p&&i.some(m=>m.value===p)?p:i[0].value});function h(p){p=p||i[0].value,d(p),l(`${t}/${p}`)}return s.jsxs(Li,{value:u.toLowerCase(),onChange:h,...a,children:[s.jsx(Li.List,{className:hP.list,children:i.map(p=>s.jsx(Li.Tab,{value:p.value,children:s.jsx($a,{className:hP.link,href:`${t}/${p.value}`,onClick:Dle,children:p.label})},p.value))}),r]})}function _le(e){return e.map(t=>ez(t)?{label:t,value:t.toLowerCase()}:t)}function Dle(e){IR(e)||e.preventDefault()}function Kx(e){let t=Ae(),{resourceType:n,countCriteria:r,subscriptionCriteria:a}=e,[i,l]=b.useState(0),u=b.useCallback(h=>{t.search(n,r,{cache:h}).then(p=>l(p.total)).catch(console.error)},[t,n,r]);b.useEffect(()=>{u("default")},[u]),kz(a,()=>{u("reload")});let d=e.iconComponent;return e.onClick&&(d=s.jsx(xt,{variant:"subtle",color:"gray",size:"lg","aria-label":e.label,onClick:e.onClick,children:d})),e.tooltip&&(d=s.jsx(va,{label:e.tooltip,children:d})),i>0&&(d=s.jsx(Fv,{inline:!0,label:i.toLocaleString(),size:16,offset:2,position:"bottom-end",color:"red",children:d})),d}var Xx="patient-export",Zx="Patient Export",Ale={everything:{operation:"$everything",extension:"json",contentType:Dn.FHIR_JSON},summary:{operation:"$summary",extension:"json",contentType:Dn.FHIR_JSON},ccda:{operation:"$ccda-export",extension:"xml",contentType:Dn.CDA_XML},ccdaReferral:{operation:"$ccda-export",type:"referral",extension:"xml",contentType:Dn.CDA_XML}};function Ole(e){let t=Ae(),{patient:n}=e,r=b.useCallback(async a=>{let i=rd(n),l=a.format,{operation:u,type:d,contentType:h,extension:p}=Ale[l],m=t.fhirUrl("Patient",i,u),g={};d&&(g.type=d),a.author&&(g.author={reference:a.author}),a.authoredOn&&(g.authoredOn=VR(a.authoredOn)),a.startDate&&(g.start=a.startDate),a.endDate&&(g.end=a.endDate),Fr.show({id:Xx,title:Zx,loading:!0,message:"Exporting...",autoClose:!1,withCloseButton:!1});try{let y=await t.post(m,g,void 0,{cache:"no-cache",headers:{Accept:h}}),S=`Patient-export-${i}-${new Date().toISOString().replaceAll(":","-")}.${p}`;kle(y,S,h),Fr.update({id:Xx,title:Zx,color:"green",message:"Done",icon:s.jsx(Ed,{size:"1rem"}),loading:!1,autoClose:!0,withCloseButton:!0})}catch(y){Fr.update({id:Xx,title:Zx,color:"red",message:Vt(y),icon:s.jsx(NR,{size:"1rem"}),loading:!1,autoClose:!1,withCloseButton:!0})}},[t,n]);return s.jsx(ar,{onSubmit:r,children:s.jsxs(oe,{children:[s.jsx(ua,{title:"Export Format",description:"Required",withAsterisk:!0,children:s.jsx(el,{name:"format",data:[{label:"FHIR Everything",value:"everything"},{label:"Patient Summary",value:"summary"},{label:"C-CDA",value:"ccda"},{label:"C-CDA Referral",value:"ccdaReferral"}],fullWidth:!0})}),s.jsx(ua,{title:"Author",description:"Optional author for composition. Default value is current user.",children:s.jsx(mc,{name:"author",placeholder:"Author",targetTypes:["Organization","Practitioner","PractitionerRole"]})}),s.jsx(ua,{title:"Authored On",description:"Optional date for composition authored on. Default value is current date.",children:s.jsx(Wn,{name:"authoredOn",placeholder:"Authored on"})}),s.jsx(ua,{title:"Start Date",description:"The start date of care. If no start date is provided, all records prior to the end date are in scope.",children:s.jsx(Wn,{name:"startDate",placeholder:"Start date"})}),s.jsx(ua,{title:"End Date",description:"The end date of care. If no end date is provided, all records subsequent to the start date are in scope.",children:s.jsx(Wn,{name:"endDate",placeholder:"End date"})}),s.jsx(fe,{justify:"right",children:s.jsx(Nr,{children:"Request Export"})})]})})}function kle(e,t,n){let r=typeof e=="string"?e:JSON.stringify(e,null,2),a=new Blob([r],{type:n}),i=window.URL.createObjectURL(a),l=document.createElement("a");document.body.appendChild(l),l.style.display="none",l.href=i,l.download=t,l.click(),window.URL.revokeObjectURL(i)}var Mle="http://",Ple=yt+"/fhir/us/core/StructureDefinition/us-core-allergyintolerance";function Nle(e){let{patient:t,encounter:n,allergy:r,onSubmit:a}=e,[i,l]=b.useState(r?.code),[u,d]=b.useState(r?.clinicalStatus),h=b.useCallback(p=>{a(Pc({...r,resourceType:"AllergyIntolerance",patient:Me(t),encounter:n?Me(n):void 0,code:i,clinicalStatus:u,onsetDateTime:p.onsetDateTime?p.onsetDateTime:void 0,reaction:p.reaction?[{manifestation:[{text:p.reaction}]}]:void 0},Ple))},[t,n,r,i,u,a]);return s.jsx(ar,{onSubmit:h,children:s.jsxs(oe,{children:[s.jsx(mi,{name:"allergy",label:"Code",path:"AllergyIntolerance.code","data-autofocus":!0,binding:Mle+"cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1186.8",maxValues:1,defaultValue:r?.code,onChange:p=>l(p),outcome:void 0}),s.jsx(et,{name:"reaction",label:"Reaction",defaultValue:r?.reaction?.[0]?.manifestation?.[0]?.text}),s.jsx(mi,{name:"clinicalStatus",label:"Clinical Status",path:"AllergyIntolerance.clinicalStatus",binding:yt+"/fhir/ValueSet/allergyintolerance-clinical",maxValues:1,defaultValue:r?.clinicalStatus,onChange:p=>d(p),outcome:void 0}),s.jsx(Wn,{name:"onsetDateTime",label:"Onset",defaultValue:r?.recordedDate}),s.jsx(fe,{justify:"flex-end",gap:4,mt:"md",children:s.jsx(Nr,{children:"Save"})})]})},r?.id)}var Af={root:"CollapsibleSection_root",header:"CollapsibleSection_header",chevron:"CollapsibleSection_chevron",title:"CollapsibleSection_title",addButton:"CollapsibleSection_addButton"};function ml(e){let{title:t,children:n,onAdd:r}=e,[a,i]=b.useState(!1);return s.jsxs(ne,{className:Af.root,children:[s.jsxs(fe,{justify:"space-between",className:Af.header,children:[s.jsxs(fe,{gap:8,children:[s.jsx(xt,{variant:"subtle",onClick:()=>i(l=>!l),"aria-label":a?`Show ${t.toLowerCase()}`:`Hide ${t.toLowerCase()}`,className:Af.chevron,"data-collapsed":a||void 0,size:"md",children:s.jsx(AR,{size:20})}),s.jsx(Y,{fz:"md",fw:800,onClick:()=>i(l=>!l),className:Af.title,children:t})]}),r&&s.jsx(xt,{role:"button","aria-label":"Add item",className:Af.addButton,variant:"subtle",onClick:l=>{ya(l),r()},size:"md",children:s.jsx(Hz,{size:18})})]}),s.jsx(x5,{in:!a,children:s.jsx(ne,{ml:"var(--mantine-spacing-xl)",mt:"xs",mb:"md",pl:4,children:n})})]})}var Go={gradient:"SummaryItem_gradient",container:"SummaryItem_container",chevron:"SummaryItem_chevron",item:"SummaryItem_item",itemText:"SummaryItem_itemText"};function ol(e){let{children:t,onClick:n}=e;return s.jsxs(ne,{className:Go.item,onClick:n,children:[t,s.jsx("div",{className:Go.gradient}),s.jsx("div",{className:Go.container,children:s.jsx(xt,{className:Go.chevron,size:"md",variant:"transparent",tabIndex:-1,children:s.jsx(xre,{size:16,stroke:2.5})})})]})}function Ile(e){let t=Ae(),{patient:n,encounter:r}=e,[a,i]=b.useState(e.allergies),[l,{open:u,close:d}]=La(!1),[h,p]=b.useState(),m=b.useMemo(()=>[...a].sort((y,S)=>{let x=y.clinicalStatus?.coding?.[0]?.code,C=S.clinicalStatus?.coding?.[0]?.code;return x==="active"&&C!=="active"?-1:x!=="active"&&C==="active"?1:nr(y).localeCompare(nr(S))}),[a]),g=b.useCallback(async y=>{if(y.id){let S=await t.updateResource(y);i(a.map(x=>x.id===S.id?S:x))}else{let S=await t.createResource(y);i([...a,S])}p(void 0),d()},[t,a,d]);return s.jsxs(s.Fragment,{children:[s.jsx(ml,{title:"Allergies",onAdd:()=>{p(void 0),u()},children:m.length>0?s.jsx(ne,{children:s.jsx(Ue,{direction:"column",gap:8,children:m.map(y=>{let S=y.clinicalStatus?.coding?.[0]?.code||"unknown";return s.jsx(ol,{onClick:()=>{p(y),u()},children:s.jsxs(ne,{children:[s.jsx(Y,{fw:500,className:Go.itemText,children:nr(y)}),s.jsx(fe,{mt:2,gap:4,children:s.jsx(il,{color:Lle(S),variant:"light",status:S})})]})},y.id)})})}):s.jsx(Y,{children:"(none)"})}),s.jsx(Mt,{opened:l,onClose:d,title:h?"Edit Allergy":"Add Allergy",children:s.jsx(Nle,{patient:n,encounter:r,allergy:h,onSubmit:g})})]})}function Lle(e){switch(e){case"active":return"red";case"inactive":return"orange";case"resolved":return"blue";default:return"gray"}}var ev={panel:"PatientSummary_panel"};function zle(e){let{coverage:t,organization:n,onClickResource:r}=e,a=Rt(t),i=Rt(n),l="Unknown Payor";i&&"name"in i&&typeof i.name=="string"&&(l=i.name);let u=`ID: ${a?.subscriberId??"N/A"}${pP(a)?` Â· ${pP(a)}`:""}`;return s.jsx(ol,{onClick:()=>{a&&r?.(a)},children:s.jsxs(ne,{children:[s.jsx(Y,{fw:500,className:ev.itemText,children:l}),s.jsx(Y,{fw:500,className:ev.itemText,children:u}),s.jsxs(fe,{mt:2,gap:4,children:[s.jsx(il,{color:"green",variant:"light",status:"Active"}),s.jsxs(Y,{size:"xs",fw:500,color:"gray.6",children:["Ends ",vn(a?.period?.end)]})]})]})})}function $le(e){let{coverages:t,onClickResource:n}=e,r=t.filter(a=>a.status==="active");return s.jsx(ml,{title:"Insurance",children:r.length>0?s.jsx(Ue,{direction:"column",gap:8,children:r.map(a=>s.jsx(zle,{coverage:a,organization:a.payor?.[0],onClickResource:n},a.id))}):s.jsx(Y,{children:"(none)"})})}function qle(e){return e.split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ")}function pP(e){return e?e.class?.filter(t=>t.type?.coding?.[0]?.code!=="plan").map(t=>{let n=t.type?.coding?.[0]?.code??"";return`${qle(n)}: ${t.value}`}).join(" Â· ")??"":""}function Ule(e){let{serviceRequests:t,diagnosticReports:n,onClickResource:r,onRequestLabs:a}=e,[i,l]=b.useState(),[u,{open:d,close:h}]=La(!1),p=new Set,m=n.filter(x=>{let C=Hle(x);return C&&x.basedOn&&x.basedOn.forEach(T=>{if(T.reference?.startsWith("ServiceRequest/")){let[,j]=T.reference.split("/");p.add(j)}}),C}),g=new Set,y=t.filter(x=>{if(x.id&&p.has(x.id)||x.basedOn&&x.basedOn.find(T=>{if(T.reference?.startsWith("ServiceRequest/")){let[,j]=T.reference.split("/");return p.has(j)}return!1}))return!1;let C=Fle(x,g);return!C&&x.requisition?.value&&g.add(x.requisition?.value),!C}),S=x=>{l(x),d()};return s.jsxs(s.Fragment,{children:[s.jsx(ml,{title:"Labs",onAdd:()=>a?.(),children:s.jsxs(Ue,{direction:"column",gap:8,children:[y.map(x=>s.jsx(ol,{onClick:()=>r?.(x),children:s.jsxs(ne,{children:[s.jsx(Y,{fw:500,className:Go.itemText,children:nr(x)}),s.jsxs(fe,{mt:2,gap:4,children:[x.status&&s.jsx(il,{color:mP(x.status),variant:"light",status:x.status}),s.jsx(Y,{size:"xs",fw:500,c:"dimmed",children:vn(x.authoredOn)})]})]})},x.id)),m.map(x=>s.jsx(ol,{onClick:()=>S(x),children:s.jsxs(ne,{children:[s.jsx(Y,{fw:500,className:Go.itemText,children:nr(x)}),s.jsxs(fe,{mt:2,gap:4,children:[x.status&&s.jsx(il,{color:mP(x.status),variant:"light",status:x.status}),s.jsx(Y,{size:"xs",fw:500,c:"dimmed",children:vn(x.issued)})]})]})},x.id)),y.length===0&&m.length===0&&s.jsx(Y,{children:"(none)"})]})}),s.jsx(Mt,{opened:u,onClose:h,size:"80%",children:i&&s.jsx(KR,{value:i,hideSubject:!0})})]})}var mP=e=>{switch(e){case"active":return"indigo";case"final":return"teal";case"cancelled":return"red";default:return"gray"}};function Ble(e){if(!e.coding||!Array.isArray(e.coding))return!1;for(let t of e.coding)if(t.code==="LAB")return!0;return!1}function Hle(e){if(!e.category||!Array.isArray(e.category))return!1;for(let t of e.category)if(Ble(t))return!0;return!1}function Fle(e,t){if(["completed","draft","entered-in-error"].includes(e.status))return!0;let n=e.requisition?.value;return!!(n&&t.has(n))}var Vle="http://",Wle=["active","stopped","on-hold","cancelled","completed","entered-in-error","draft","unknown"];function Gle(e){let t=Pr(),{patient:n,encounter:r,medication:a,onSubmit:i}=e,[l,u]=b.useState(a?.medicationCodeableConcept),d=b.useCallback(h=>{if(!t)throw new Error("Not signed in");i(Pc({...a,resourceType:"MedicationRequest",status:h.status,intent:a?.intent??"order",encounter:a?.encounter??(r&&Me(r)),requester:a?.requester??Me(t),medicationCodeableConcept:l,subject:Me(n)},yt+"/fhir/us/core/StructureDefinition/us-core-medicationrequest"))},[t,i,a,r,l,n]);return t?s.jsx(ar,{onSubmit:d,children:s.jsxs(oe,{children:[s.jsx(mi,{name:"request",path:"MedicationRequest.medication[x]","data-autofocus":!0,binding:Vle+"cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1010.4",maxValues:1,defaultValue:a?.medicationCodeableConcept,onChange:h=>u(h),outcome:void 0}),s.jsx(Nn.Group,{name:"status",label:"Request Status",required:!0,defaultValue:a?.status,children:Wle.map(h=>s.jsx(Nn,{value:h,label:h,my:"xs",required:!0},h))}),s.jsx(fe,{justify:"flex-end",gap:4,children:s.jsx(Nr,{children:"Save"})})]})}):s.jsx(dl,{color:"red",children:"Not signed in"})}function Yle(e){let t=Ae(),[n,r]=b.useState(e.medicationRequests),[a,i]=b.useState(),[l,{open:u,close:d}]=La(!1),h=b.useCallback(async p=>{if(p.id){let m=await t.updateResource(p);r(n.map(g=>g.id===m.id?m:g))}else{let m=await t.createResource(p);r([m,...n])}i(void 0),d()},[t,n,d]);return s.jsxs(s.Fragment,{children:[s.jsx(ml,{title:"Medications",onAdd:()=>{i(void 0),u()},children:n.length>0?s.jsx(Ue,{direction:"column",gap:8,children:n.map(p=>s.jsx(ol,{onClick:()=>{i(p),u()},children:s.jsxs(ne,{children:[s.jsx(Y,{fw:500,className:Go.itemText,children:nr(p)}),s.jsx(fe,{mt:2,gap:4,children:p.status&&s.jsx(il,{color:Qle(p.status),variant:"light",status:p.status})})]})},p.id))}):s.jsx(Y,{children:"(none)"})}),s.jsx(Mt,{opened:l,onClose:d,title:a?"Edit Medication":"Add Medication",children:s.jsx(Gle,{patient:e.patient,encounter:e.encounter,medication:a,onSubmit:h})})]})}function Qle(e){if(!e)return"gray";switch(e){case"active":return"green";case"stopped":return"red";case"on-hold":return"yellow";case"cancelled":return"red";case"completed":return"blue";case"entered-in-error":return"red";case"draft":return"gray";default:return"gray"}}var Pu=e=>{let{patient:t,value:n,icon:r,placeholder:a,label:i,onClickResource:l}=e,u=n||a;return s.jsx(ol,{onClick:()=>{l?.(t)},children:s.jsx(ne,{className:ev.patientSummaryListItem,children:s.jsx(va,{label:i,position:"top-start",openDelay:650,children:s.jsxs(fe,{gap:"sm",align:"center",ml:6,mr:2,style:{cursor:"pointer",flexWrap:"nowrap",minWidth:0},children:[r,s.jsx(Y,{fz:"sm",fw:400,truncate:!0,c:n?"inherit":"var(--mantine-color-gray-6)",children:u})]})})})})};function Kle(e){return kr(e,`${yt}/fhir/us/core/StructureDefinition/us-core-genderIdentity`)?.valueCodeableConcept?.coding?.[0]?.display}function Xle(e){return kr(e,`${yt}/fhir/us/core/StructureDefinition/us-core-birthsex`)?.valueCode}function D$(e){return kr(e,`${yt}/fhir/us/core/StructureDefinition/us-core-race`)?.extension?.find(t=>t.url==="ombCategory")?.valueCoding?.display}function A$(e){return kr(e,`${yt}/fhir/us/core/StructureDefinition/us-core-ethnicity`)?.extension?.find(t=>t.url==="ombCategory")?.valueCoding?.display}function Zle(e){return e.generalPractitioner?.[0]?.display}function Jle(e){let t=e.gender?rr(e.gender):"",n=Kle(e),r=Xle(e),a=[];return t&&a.push(t),n&&a.push(n),r&&a.push(`Born as ${r}`),a.join(" Â· ")}function ece(e){let t=D$(e),n=A$(e),r=[];return t&&r.push(t),n&&r.push(n),r.join(" Â· ")}var tce=e=>{if(!e.communication?.length)return;let t=e.communication?.find(n=>n.preferred===!0);return t?.language?.coding?.[0]?.display?t.language.coding[0].display:e.communication[0]?.language?.coding?.[0]?.display};function nce(e){let{patient:t,encounter:n,condition:r,onSubmit:a}=e,[i,l]=b.useState(r?.code),[u,d]=b.useState(r?.clinicalStatus),h=b.useCallback(p=>{let m=Pc({...r,resourceType:"Condition",category:[{coding:[{system:Jr+"/CodeSystem/condition-category",code:"problem-list-item",display:"Problem List Item"}],text:"Problem List Item"}],subject:Me(t),encounter:n&&Me(n),code:i,clinicalStatus:u,onsetDateTime:p.onsetDateTime?VR(p.onsetDateTime):void 0},yt+"/fhir/us/core/StructureDefinition/us-core-condition-problems-health-concerns");a(m)},[t,n,r,i,u,a]);return s.jsx(ar,{onSubmit:h,children:s.jsxs(oe,{children:[s.jsx(mi,{name:"code",label:"Problem",path:"Condition.code","data-autofocus":!0,binding:yt+"/fhir/us/core/ValueSet/us-core-condition-code",defaultValue:r?.code,onChange:p=>l(p),outcome:void 0}),s.jsx(mi,{name:"clinicalStatus",label:"Status",path:"Condition.clinicalStatus",binding:yt+"/fhir/ValueSet/condition-clinical",defaultValue:r?.clinicalStatus,onChange:p=>d(p),outcome:void 0}),s.jsx(Wn,{name:"onsetDateTime",label:"Dx Date",defaultValue:r?.onsetDateTime,required:!0}),s.jsx(fe,{justify:"flex-end",gap:4,mt:"md",children:s.jsx(Nr,{children:"Save"})})]})},r?.id)}function rce(e){let t=Ae(),{patient:n,encounter:r}=e,[a,i]=b.useState(e.problems.filter(g=>g.verificationStatus?.coding?.[0]?.code!=="entered-in-error")),[l,u]=b.useState(),[d,{open:h,close:p}]=La(!1),m=b.useCallback(async g=>{if(g.id){let y=await t.updateResource(g);i(a.map(S=>S.id===y.id?y:S))}else{let y=await t.createResource(g);i([y,...a])}u(void 0),p()},[t,a,p]);return s.jsxs(s.Fragment,{children:[s.jsx(ml,{title:"Problems",onAdd:()=>{u(void 0),h()},children:a.length>0?s.jsx(Ue,{direction:"column",gap:8,children:a.map(g=>s.jsx(ol,{onClick:()=>{u(g),h()},children:s.jsxs(ne,{children:[s.jsx(Y,{fw:500,className:Go.itemText,children:nr(g)}),s.jsxs(fe,{mt:2,gap:4,children:[g.clinicalStatus?.coding?.[0]?.code&&s.jsx(il,{"data-testid":"status-badge",color:ace(g.clinicalStatus?.coding?.[0]?.code),variant:"light",status:g.clinicalStatus?.coding?.[0]?.code}),s.jsx(Y,{size:"xs",fw:500,c:"dimmed",children:vn(g.onsetDateTime)})]})]})},g.id))}):s.jsx(Y,{children:"(none)"})}),s.jsx(Mt,{opened:d,onClose:p,title:l?"Edit Problem":"Add Problem",children:s.jsx(nce,{patient:n,encounter:r,condition:l,onSubmit:m})})]})}var ace=e=>{if(!e)return"gray";switch(e){case"active":case"recurrence":case"relapse":return"green";case"inactive":return"orange";case"remission":return"blue";case"resolved":return"teal";default:return"gray"}},Jx=Jr+"/CodeSystem/v3-NullFlavor",gP={38628009:"Homosexual",20430005:"Heterosexual",42035005:"Bisexual",OTH:"Other",UNK:"Unknown",ASKU:"Asked but no answer"},ice={38628009:Ys,20430005:Ys,42035005:Ys,OTH:Jx,UNK:Jx,ASKU:Jx};function oce(e){let{patient:t,encounter:n}=e,r=Ae(),[a,i]=b.useState(e.sexualOrientation),[l,{open:u,close:d}]=La(!1),[h,p]=b.useState(null),m=b.useCallback(g=>{let y=g.sexualOrientation;r.createResource({resourceType:"Observation",meta:{profile:[yt+"/fhir/us/core/ValueSet/us-core-sexual-orientation"]},status:"final",category:[{coding:[{system:Jr+"/CodeSystem/observation-category",code:"social-history",display:"Social History"}],text:"Social History"}],code:{coding:[{system:Wo,code:"76690-7",display:"Sexual orientation"}],text:"Sexual orientation"},subject:Me(t),encounter:n?Me(n):void 0,effectiveDateTime:new Date().toISOString(),valueCodeableConcept:{coding:[{system:ice[y],code:g.sexualOrientation}],text:gP[y]}}).then(S=>{i(S),d()}).catch(console.error)},[r,t,n,d]);return s.jsxs(s.Fragment,{children:[s.jsx(ml,{title:"Sexual Orientation",onAdd:()=>{u()},children:a?s.jsx(Ue,{direction:"column",gap:8,children:s.jsx(ne,{onMouseEnter:()=>p(0),onMouseLeave:()=>p(null),children:s.jsx(Vn,{"data-testid":"sexual-orientation-button",onClick:g=>{ya(g),e.onClickResource&&e.onClickResource(a)},children:s.jsx(ne,{pr:h===0?24:0,children:s.jsx(Y,{size:"sm",fw:500,children:a.valueCodeableConcept?.text??"Unknown"})})})})}):s.jsx(Y,{children:"(none)"})}),s.jsx(Mt,{opened:l,onClose:d,title:"Set Sexual Orientation",children:s.jsx(ar,{onSubmit:m,children:s.jsxs(oe,{children:[s.jsx(Nn.Group,{name:"sexualOrientation",label:"Sexual Orientation",required:!0,children:Object.entries(gP).map(([g,y])=>s.jsx(Nn,{value:g,label:y,my:"xs"},g))}),s.jsx(fe,{justify:"flex-end",gap:4,mt:"md",children:s.jsx(Nr,{children:"Save"})})]})})})]})}var vP={266919005:"Never smoked tobacco",266927001:"Tobacco smoking consumption unknown","428041000124106":"Occasional tobacco smoker","428061000124105":"Light tobacco smoker","428071000124103":"Heavy tobacco smoker",449868002:"Smokes tobacco daily",77176002:"Smoker",8517006:"Ex-smoker"};function sce(e){let t=Ae(),[n,r]=b.useState(e.smokingStatus),[a,{open:i,close:l}]=La(!1),u=b.useCallback(d=>{t.createResource({resourceType:"Observation",meta:{profile:[yt+"/fhir/us/core/StructureDefinition/us-core-smokingstatus"]},status:"final",category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/observation-category",code:"social-history",display:"Social History"}],text:"Social History"}],code:{coding:[{system:Wo,code:"72166-2",display:"Tobacco smoking status"}],text:"Tobacco smoking status"},subject:Me(e.patient),encounter:e.encounter?Me(e.encounter):void 0,effectiveDateTime:new Date().toISOString(),valueCodeableConcept:{coding:[{system:Ys,version:Ys+"/731000124108",code:d.smokingStatus}],text:vP[d.smokingStatus]}}).then(h=>{r(h),l()}).catch(console.error)},[t,e.patient,e.encounter,l]);return s.jsxs(s.Fragment,{children:[s.jsx(ml,{title:"Smoking Status",onAdd:()=>{i()},children:n?.valueCodeableConcept?s.jsx(Vn,{"data-testid":"smoking-status-button",onClick:()=>e.onClickResource?.(n),children:s.jsx(Y,{children:tl(n.valueCodeableConcept)})}):s.jsx(Y,{children:"(none)"})}),s.jsx(Mt,{opened:a,onClose:l,title:"Set Smoking Status",children:s.jsx(ar,{onSubmit:u,children:s.jsxs(oe,{children:[s.jsx(Nn.Group,{name:"smokingStatus",label:"Smoking Status",required:!0,children:Object.entries(vP).map(([d,h])=>s.jsx(Nn,{value:d,label:h,my:"xs"},d))}),s.jsx(fe,{justify:"flex-end",gap:4,mt:"md",children:s.jsx(Nr,{children:"Save"})})]})})})]})}function lce(e,t){return t?e.component?.find(n=>n.code?.coding?.[0].code===t)?.valueQuantity:e.valueQuantity}function cce(e,t,n,r,a){if(k$(a.value))return{...O$(e,t,n,r),valueQuantity:a}}function uce(e,t,n,r,a){let i=a.filter(l=>k$(l.valueQuantity?.value));if(i.length!==0)return{...O$(e,t,n,r),component:i}}function O$(e,t,n,r){return{resourceType:"Observation",status:"preliminary",subject:Me(e),encounter:t?Me(t):void 0,effectiveDateTime:new Date().toISOString(),category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/observation-category",code:"vital-signs",display:"Vital Signs"}]}],code:Dj(n,r)}}function Dj(e,t){return{coding:[{code:e,display:t,system:Wo}],text:t}}function eS(e,t){return{value:e,system:OZ,unit:t,code:t}}function k$(e){return e!==void 0&&!Number.isNaN(e)&&Number.isFinite(e)}var Aj="85354-9",M$="8480-6",P$="8462-4",tS=[{name:"systolic",short:"BP Sys",code:Aj,component:M$,title:"Blood Pressure",unit:"mm[Hg]"},{name:"diastolic",short:"BP Dias",code:Aj,component:P$,title:"Blood Pressure",unit:"mm[Hg]"},{name:"heartRate",short:"HR",code:"8867-4",title:"Heart Rate",unit:"/min"},{name:"bodyTemperature",short:"Temp",code:"8310-5",title:"Body Temperature",unit:"Cel"},{name:"respiratoryRate",short:"RR",code:"9279-1",title:"Respiratory Rate",unit:"/min"},{name:"height",short:"Ht",code:"8302-2",title:"Height",unit:"cm"},{name:"weight",short:"Wt",code:"29463-7",title:"Weight",unit:"kg"},{name:"bmi",short:"BMI",code:"39156-5",title:"BMI",unit:"kg/m2"},{name:"oxygen",short:"O2",code:"2708-6",title:"Oxygen",unit:"%"},{name:"headCircumference",short:"HC",code:"9843-4",title:"Head Circumference",unit:"cm"}];function dce(e){let t=Ae(),{patient:n,encounter:r}=e,[a,i]=b.useState(e.vitals),[l,{open:u,close:d}]=La(!1),h=b.useCallback(p=>{let m=[];m.push(uce(n,r,Aj,"Blood pressure",[{code:Dj(M$,"Systolic blood pressure"),valueQuantity:eS(Number.parseFloat(p.systolic),"mm[Hg]")},{code:Dj(P$,"Diastolic blood pressure"),valueQuantity:eS(Number.parseFloat(p.diastolic),"mm[Hg]")}]));for(let g of tS)g.component||m.push(cce(n,r,g.code,g.title,eS(Number.parseFloat(p[g.name]),g.unit)));Promise.all(m.filter(Boolean).map(g=>t.createResource(g))).then(g=>i([...g,...a])).catch(console.error),d()},[t,n,r,a,d]);return s.jsxs(s.Fragment,{children:[s.jsx(ml,{title:"Vitals",onAdd:()=>{u()},children:s.jsx(oe,{children:tS.map(p=>{let m=a.find(g=>g.code?.coding?.[0].code===p.code);return s.jsxs(fe,{align:"center",children:[s.jsx(Y,{c:"dimmed",children:p.short}),m&&s.jsx(Y,{children:io(lce(m,p.component))})]},p.name)})})}),s.jsx(Mt,{opened:l,onClose:d,title:"Add Vitals",children:s.jsxs(ar,{onSubmit:h,children:[s.jsx(UT,{cols:2,children:tS.map((p,m)=>s.jsx(et,{name:p.name,label:p.short,description:`${p.title} (${p.unit})`,"data-autofocus":m===0,autoFocus:m===0},p.name))}),s.jsx(wi,{name:"notes",label:"Notes"}),s.jsx(fe,{justify:"flex-end",gap:4,mt:"md",children:s.jsx(Nr,{children:"Save"})})]})})]})}function ky(e){let t=Ae(),{patient:n,onClickResource:r,onRequestLabs:a}=e,i=Rt(n),[l,u]=b.useState(),[d,h]=b.useState();b.useEffect(()=>{let m=`Patient/${rd(n)}`,g={_count:100,_sort:"-_lastUpdated"};Promise.all([t.searchResources("AllergyIntolerance",{patient:m,...g}),t.searchResources("Condition",{patient:m,...g}),t.searchResources("MedicationRequest",{subject:m,...g}),t.searchResources("Observation",{subject:m,...g}),t.searchResources("Appointment",{patient:m,...g}),t.searchResources("Encounter",{subject:m,...g}),t.searchResources("Coverage",{beneficiary:m,...g}),t.searchResources("Immunization",{patient:m,...g}),t.searchResources("Procedure",{subject:m,...g}),t.searchResources("Device",{patient:m,...g}),t.searchResources("Goal",{subject:m,...g}),t.searchResources("ServiceRequest",{subject:m,...g}),t.searchResources("DiagnosticReport",{subject:m,...g})]).then(y=>{let S=y[3];u({allergies:y[0],problems:y[1],medicationRequests:y[2],sexualOrientation:S.find(x=>x.code?.coding?.[0].code==="76690-7"),smokingStatus:S.find(x=>x.code?.coding?.[0].code==="72166-2"),vitals:S.filter(x=>x.category?.[0]?.coding?.[0].code==="vital-signs"),appointments:y[4],encounters:y[5],coverages:y[6],immunizations:y[7],procedures:y[8],devices:y[9],goals:y[10],serviceRequests:y[11],diagnosticReports:y[12]})}).catch(console.error)},[t,n]),b.useEffect(()=>{i?.id&&t.readHistory("Patient",i.id).then(m=>{let g=m.entry?.[m.entry.length-1]?.resource?.meta?.lastUpdated;h(typeof g=="string"?g:"")}).catch(()=>{})},[i?.id,t]);let p=i?tce(i):void 0;return i?s.jsxs(Ue,{direction:"column",gap:"xs",w:"100%",h:"100%",className:ev.panel,children:[s.jsxs(ol,{onClick:()=>{r?.(i)},children:[s.jsxs(fe,{align:"center",gap:"sm",p:16,children:[s.jsx(xa,{value:i,size:48,radius:48,style:{border:"2px solid white"}}),s.jsxs(oe,{gap:0,style:{flex:1,minWidth:0},children:[s.jsx(va,{label:Gn(i.name?.[0]),position:"top-start",openDelay:650,children:s.jsx(Y,{fz:"h4",fw:800,truncate:!0,style:{minWidth:0},children:Gn(i.name?.[0])})}),(()=>{let m=typeof d=="string"&&d.length>0?d:void 0;if(!m)return null;let g=new Date(m);return s.jsxs(Y,{fz:"xs",mt:-2,fw:500,c:"gray.6",truncate:!0,style:{minWidth:0},children:["Patient since ",g.getMonth()+1,"/",g.getDate(),"/",g.getFullYear()]})})()]})]}),s.jsx(ht,{})]}),s.jsx(oe,{gap:"xs",px:16,pt:12,pb:16,style:{flex:2,overflowY:"auto",minHeight:0},children:l&&s.jsxs(s.Fragment,{children:[s.jsxs(oe,{gap:"xs",py:8,children:[s.jsx(Pu,{patient:i,value:i.birthDate?`${i.birthDate} (${uJ(i.birthDate)})`:void 0,icon:s.jsx(pre,{size:16,stroke:2,color:"var(--mantine-color-gray-6)"}),placeholder:"Add Birthdate",label:"Birthdate & Age",onClickResource:r}),s.jsx(Pu,{patient:i,value:i.gender?Jle(i):void 0,icon:s.jsx(Nre,{size:16,stroke:2,color:"var(--mantine-color-gray-6)"}),placeholder:"Add Gender & Identity",label:"Gender & Identity",onClickResource:r}),s.jsx(Pu,{patient:i,value:D$(i)||A$(i)?ece(i):void 0,icon:s.jsx(Zne,{size:16,stroke:2,color:"var(--mantine-color-gray-6)"}),placeholder:"Add Race & Ethnicity",label:"Race & Ethnicity",onClickResource:r}),s.jsx(Pu,{patient:i,value:i.address?.[0]?dR(i.address[0]):void 0,icon:s.jsx(eae,{size:16,stroke:2,color:"var(--mantine-color-gray-6)"}),placeholder:"Add Location",label:"Location",onClickResource:r}),s.jsx(Pu,{patient:i,value:p,icon:s.jsx(Yre,{size:16,stroke:2,color:"var(--mantine-color-gray-6)"}),placeholder:"Add Language",label:"Language",onClickResource:r}),s.jsx(Pu,{patient:i,value:Zle(i),icon:s.jsx(gae,{size:16,stroke:2,color:"var(--mantine-color-gray-6)"}),placeholder:"Add General Practitioner",label:"General Practitioner",onClickResource:r})]}),s.jsx(ht,{}),s.jsx($le,{coverages:l.coverages||[],onClickResource:r}),s.jsx(ht,{}),s.jsx(Ile,{patient:i,allergies:l.allergies,onClickResource:r}),s.jsx(ht,{}),s.jsx(rce,{patient:i,problems:l.problems,onClickResource:r}),s.jsx(ht,{}),s.jsx(Yle,{patient:i,medicationRequests:l.medicationRequests,onClickResource:r}),s.jsx(ht,{}),s.jsx(Ule,{patient:i,serviceRequests:l.serviceRequests,diagnosticReports:l.diagnosticReports,onClickResource:r,onRequestLabs:a}),s.jsx(ht,{}),s.jsx(oce,{patient:i,sexualOrientation:l.sexualOrientation,onClickResource:r}),s.jsx(ht,{}),s.jsx(sce,{patient:i,smokingStatus:l.smokingStatus,onClickResource:r}),s.jsx(ht,{}),s.jsx(dce,{patient:i,vitals:l.vitals,onClickResource:r}),s.jsx(ht,{})]})})]}):null}function fce(e){let{patient:t,...n}=e,r=b.useCallback((a,i,l)=>{let u=`${i}/${l}`,d=100;return Promise.allSettled([a.readHistory("Patient",l),a.search("Communication",{subject:u,_count:d}),a.search("Device",{patient:u,_count:d}),a.search("DeviceRequest",{patient:u,_count:d}),a.search("DiagnosticReport",{subject:u,_count:d}),a.search("Media",{subject:u,_count:d}),a.search("ServiceRequest",{subject:u,_count:d}),a.search("Task",{subject:u,_count:d})])},[]);return s.jsx(w$,{value:t,loadTimelineResources:r,createCommunication:(a,i,l)=>({resourceType:"Communication",status:"completed",subject:Me(a),sender:Me(i),sent:new Date().toISOString(),payload:[{contentString:l}]}),createMedia:(a,i,l)=>({resourceType:"Media",status:"completed",subject:Me(a),operator:Me(i),issued:new Date().toISOString(),content:l}),...n})}var rc=30,tv=50;function Oj(e){let t=e.formState,n=e.item,r=e.responseItem;function a(m){t&&e.context&&t.onChangeAnswer(e.context,e.item,m)}let i=n.type;if(!i)return null;let l=n.linkId;if(!l)return null;let u;n.initial&&n.initial.length>0?u=n.initial[0]:n.answerOption&&n.answerOption.length>0&&(u=n.answerOption.find(m=>m.initialSelected));let d=n_(r,e.index)??RR(u),h=kr(r,`${yt}/fhir/StructureDefinition/questionnaire-validationError`),p=null;switch(i){case kt.display:p=s.jsx("p",{children:e.item.text},e.item.linkId);break;case kt.boolean:p=s.jsx(h$,{title:e.item.text,htmlFor:e.item.linkId,children:s.jsx(hi,{id:e.item.linkId,name:e.item.linkId,required:e.required??n.required,defaultChecked:d?.value,onChange:m=>a([{valueBoolean:m.currentTarget.checked}])})},e.item.linkId);break;case kt.decimal:p=s.jsx(et,{type:"number",step:"any",id:l,name:l,required:e.required??n.required,defaultValue:d?.value,onChange:m=>a(m.currentTarget.value===""?[]:[{valueDecimal:m.currentTarget.valueAsNumber}])});break;case kt.integer:p=s.jsx(et,{type:"number",step:1,id:l,name:l,required:e.required??n.required,defaultValue:d?.value,onChange:m=>a(m.currentTarget.value===""?[]:[{valueInteger:m.currentTarget.valueAsNumber}])});break;case kt.date:p=s.jsx(et,{type:"date",id:l,name:l,required:e.required??n.required,defaultValue:d?.value,onChange:m=>a([{valueDate:m.currentTarget.value}])});break;case kt.dateTime:p=s.jsx(Wn,{name:l,required:e.required??n.required,defaultValue:d?.value,onChange:m=>a([{valueDateTime:m}])});break;case kt.time:p=s.jsx(et,{type:"time",id:l,name:l,required:e.required??n.required,defaultValue:d?.value,onChange:m=>a([{valueTime:m.currentTarget.value}])});break;case kt.string:case kt.url:p=s.jsx(et,{id:l,name:l,required:e.required??n.required,defaultValue:d?.value,onChange:m=>{let g=m.currentTarget.value;a(g===""?[]:[{valueString:g}])}});break;case kt.text:p=s.jsx(wi,{id:l,name:l,required:e.required??n.required,defaultValue:d?.value,onChange:m=>{let g=m.currentTarget.value;a(g===""?[]:[{valueString:g}])}});break;case kt.attachment:p=s.jsx(fe,{py:4,children:s.jsx(a$,{path:"",name:l,defaultValue:d?.value,onChange:m=>a([{valueAttachment:m}])})});break;case kt.reference:p=s.jsx(mc,{name:l,required:e.required??n.required,targetTypes:bne(n),searchCriteria:xne(n,t?.subject,t?.encounter),defaultValue:d?.value,onChange:m=>a([{valueReference:m}])});break;case kt.quantity:p=s.jsx(pc,{path:"",name:l,required:e.required??n.required,defaultValue:d?.value,onChange:m=>a([{valueQuantity:m}]),disableWheel:!0});break;case kt.choice:case kt.openChoice:bce(n)?p=s.jsx(gce,{name:l,item:n,required:e.required??n.required,initial:u,response:r,onChangeAnswer:m=>a(m)}):yce(n)||n.answerValueSet&&!xce(n)?p=s.jsx(hce,{name:l,item:n,required:e.required??n.required,initial:u,response:r,onChangeAnswer:m=>a(m)}):p=s.jsx(mce,{name:l,item:n,required:e.required??n.required,initial:u,response:r,onChangeAnswer:m=>a(m)});break;default:return null}return s.jsxs(s.Fragment,{children:[p,h?.valueString&&s.jsx(Y,{c:"red",size:"lg",mt:4,children:h.valueString})]})}function hce(e){let{name:t,item:n,required:r,initial:a,onChangeAnswer:i,response:l}=e;if(!n.answerOption?.length&&!n.answerValueSet)return s.jsx(t_,{});let u=RR(a),d=n_(l)??u,h=L$(l),p=n.repeats||Sce(n);if(n.answerValueSet)return s.jsx(Zh,{name:t,placeholder:"Select items",binding:n.answerValueSet,maxValues:p?void 0:1,required:r,onChange:m=>{p?m.length===0?i([{}]):i(m.map(g=>({valueCoding:g}))):i([{valueCoding:m[0]}])},defaultValue:d?.value});if(p){let{propertyName:m,data:g}=wce(n);return s.jsx(ny,{data:g,placeholder:"Select items",searchable:!0,defaultValue:h||[uc(u)],required:r,onChange:y=>{if(y.length===0)i([{}]);else{let S=Rz(y,m,n);i(S)}}})}else{let m=[""];if(n.answerOption)for(let g of n.answerOption){let y=bo(g);m.push(uc(y))}return s.jsx(Vr,{id:t,name:t,required:r,onChange:g=>{let y=g.currentTarget.selectedIndex;if(y===0){i([{}]);return}let S=n.answerOption[y-1],x=bo(S),C="value"+rr(x.type);i([{[C]:x.value}])},defaultValue:dc(d?.value)||d?.value,data:m})}}function pce(e,t){return e?t.valueSetExpand({url:e,count:rc+1}).then(n=>n.expansion?.contains??[]):Promise.resolve([])}function N$(e){let t=Ae(),[n,r]=b.useState([]),[a,i]=b.useState(!1);return b.useEffect(()=>{async function l(){if(e){i(!0);try{let u=await pce(e,t);r(u)}catch(u){console.error("Error loading value set:",u)}finally{i(!1)}}}l().catch(console.error)},[e,t]),[n,a]}function I$(e,t){return e.map((n,r)=>{let a=`${t}-valueset-${r}`,i={type:"Coding",value:{system:n.system,code:n.code,display:n.display}};return[a,i]})}function mce(e){let{name:t,item:n,required:r,initial:a,onChangeAnswer:i,response:l}=e,u=Wh("QuestionnaireItemAnswerOption","value[x]"),d=RR(a),[h,p]=N$(n.answerValueSet),m=[],g;if(n.answerValueSet)m.push(...I$(h,t));else if(n.answerOption){let C=n.answerOption.slice(0,tv).map((T,j)=>{let R=`${t}-option-${j}`,_=bo(T);return _?.value?(d&&ad(_)===ad(d)&&(g=R),[R,_]):null}).filter(T=>T!==null);m.push(...C)}let y=n_(l),S=vce(m,y);if(p)return s.jsx(Y,{children:"Loading options..."});if(m.length===0)return s.jsx(t_,{});let x=m.slice(0,rc);return s.jsxs(s.Fragment,{children:[s.jsx(Nn.Group,{name:t,value:S??g,required:r,onChange:C=>{let T=m.find(j=>j[0]===C);if(T){let j=T[1],R="value"+rr(j.type);i([{[R]:j.value}])}},children:x.map(([C,T])=>s.jsx(Nn,{id:C,value:C,py:4,required:r,label:s.jsx(Vi,{property:u,propertyType:T.type,value:T.value})},C))}),(n.answerValueSet&&m.length>rc||n.answerOption&&m.length>tv)&&s.jsxs(Y,{size:"sm",c:"dimmed",mt:"xs",children:["Showing first ",rc," options"]})]})}function gce(e){let{name:t,item:n,onChangeAnswer:r,response:a}=e,i=Wh("QuestionnaireItemAnswerOption","value[x]"),[l,u]=N$(n.answerValueSet),d=n.answerValueSet?(a?.answer?.map(S=>S.valueCoding)||[]).filter(S=>S!==void 0):L$(a),[h,p]=b.useState(d),m=[];if(n.answerValueSet)m.push(...I$(l,t));else if(n.answerOption){let S=n.answerOption.slice(0,tv).map((x,C)=>{let T=`${t}-option-${C}`,j=bo(x);return j?.value?[T,j]:null}).filter(x=>x!==null);m.push(...S)}if(u)return s.jsx(Y,{children:"Loading options..."});if(m.length===0)return s.jsx(t_,{});let g=m.slice(0,rc),y=(S,x)=>{if(n.answerValueSet){let C=h,T;x?T=[...C,S.value]:T=C.filter(j=>!pi(j,S.value)),p(T),T.length===0?r([{}]):r(T.map(j=>({valueCoding:j})))}else{let C=h,T=uc(S),j;if(x?j=[...C,T]:j=C.filter(R=>R!==T),p(j),j.length===0)r([{}]);else{let R=Rz(j,"value"+rr(S.type),n);r(R)}}};return s.jsxs(fe,{style:{flexDirection:"column",alignItems:"flex-start"},children:[g.map(([S,x])=>{let C=uc(x),T=n.answerValueSet?h.some(j=>pi(j,x.value)):h.includes(C);return s.jsx(hi,{id:S,label:s.jsx(Vi,{property:i,propertyType:x.type,value:x.value}),checked:T,onChange:j=>y(x,j.currentTarget.checked)},S)}),(n.answerValueSet&&m.length>rc||n.answerOption&&m.length>tv)&&s.jsxs(Y,{size:"sm",c:"dimmed",children:["Showing first ",rc," options"]})]})}function t_(){return s.jsx(et,{disabled:!0,placeholder:"No Answers Defined"})}function n_(e,t=0){return bo(e?.answer?.[t]??{})}function L$(e){let t=e?.answer;return t?t.map(n=>bo(n)).map(n=>dc(n?.value)||n?.value).filter(Boolean):[]}function vce(e,t){return e.find(n=>pi(n[1].value,t?.value))?.[0]}function My(e,t){return!!e.extension?.some(n=>n.url===Ez&&n.valueCodeableConcept?.coding?.[0]?.code===t)}function yce(e){return My(e,"drop-down")}function bce(e){return My(e,"check-box")}function xce(e){return My(e,"radio-button")}function Sce(e){return My(e,"multi-select")}function wce(e){if(e.answerOption?.length===0)return{propertyName:"",data:[]};let t=e.answerOption[0],n=bo(t),r="value"+rr(n.type),a=(e.answerOption??[]).map(i=>{let l=bo(i),u=uc(l);return{value:u,label:u}});return{propertyName:r,data:a}}var nv=class{constructor(e,t,n,r){if(Jt(this,"x"),Jt(this,"y"),Jt(this,"pressure"),Jt(this,"time"),isNaN(e)||isNaN(t))throw new Error(`Point is invalid: (${e}, ${t})`);this.x=+e,this.y=+t,this.pressure=n||0,this.time=r||Date.now()}distanceTo(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}equals(e){return this.x===e.x&&this.y===e.y&&this.pressure===e.pressure&&this.time===e.time}velocityFrom(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):0}},Cce=class z${constructor(t,n,r,a,i,l){this.startPoint=t,this.control2=n,this.control1=r,this.endPoint=a,this.startWidth=i,this.endWidth=l}static fromPoints(t,n){let r=this.calculateControlPoints(t[0],t[1],t[2]).c2,a=this.calculateControlPoints(t[1],t[2],t[3]).c1;return new z$(t[1],r,a,t[2],n.start,n.end)}static calculateControlPoints(t,n,r){let a=t.x-n.x,i=t.y-n.y,l=n.x-r.x,u=n.y-r.y,d={x:(t.x+n.x)/2,y:(t.y+n.y)/2},h={x:(n.x+r.x)/2,y:(n.y+r.y)/2},p=Math.sqrt(a*a+i*i),m=Math.sqrt(l*l+u*u),g=d.x-h.x,y=d.y-h.y,S=p+m==0?0:m/(p+m),x={x:h.x+g*S,y:h.y+y*S},C=n.x-x.x,T=n.y-x.y;return{c1:new nv(d.x+C,d.y+T),c2:new nv(h.x+C,h.y+T)}}length(){let t=0,n,r;for(let a=0;a<=10;a+=1){let i=a/10,l=this.point(i,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),u=this.point(i,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(a>0){let d=l-n,h=u-r;t+=Math.sqrt(d*d+h*h)}n=l,r=u}return t}point(t,n,r,a,i){return n*(1-t)*(1-t)*(1-t)+3*r*(1-t)*(1-t)*t+3*a*(1-t)*t*t+i*t*t*t}},jce=class{constructor(){Jt(this,"_et");try{this._et=new EventTarget}catch{this._et=document}}addEventListener(e,t,n){this._et.addEventListener(e,t,n)}dispatchEvent(e){return this._et.dispatchEvent(e)}removeEventListener(e,t,n){this._et.removeEventListener(e,t,n)}};function Ece(e,t=250){let n=0,r=null,a,i,l,u=()=>{n=Date.now(),r=null,a=e.apply(i,l),r||(i=null,l=[])};return function(...d){let h=Date.now(),p=t-(h-n);return i=this,l=d,p<=0||p>t?(r&&(clearTimeout(r),r=null),n=h,a=e.apply(i,l),r||(i=null,l=[])):r||(r=window.setTimeout(u,p)),a}}var Tce=class kj extends jce{constructor(t,n={}){super(),Jt(this,"dotSize"),Jt(this,"minWidth"),Jt(this,"maxWidth"),Jt(this,"penColor"),Jt(this,"minDistance"),Jt(this,"velocityFilterWeight"),Jt(this,"compositeOperation"),Jt(this,"backgroundColor"),Jt(this,"throttle"),Jt(this,"canvasContextOptions"),Jt(this,"_ctx"),Jt(this,"_drawingStroke",!1),Jt(this,"_isEmpty",!0),Jt(this,"_dataUrl"),Jt(this,"_dataUrlOptions"),Jt(this,"_lastPoints",[]),Jt(this,"_data",[]),Jt(this,"_lastVelocity",0),Jt(this,"_lastWidth",0),Jt(this,"_strokeMoveUpdate"),Jt(this,"_strokePointerId"),this.canvas=t,this.velocityFilterWeight=n.velocityFilterWeight||.7,this.minWidth=n.minWidth||.5,this.maxWidth=n.maxWidth||2.5,this.throttle=n.throttle??16,this.minDistance=n.minDistance??5,this.dotSize=n.dotSize||0,this.penColor=n.penColor||"black",this.backgroundColor=n.backgroundColor||"rgba(0,0,0,0)",this.compositeOperation=n.compositeOperation||"source-over",this.canvasContextOptions=n.canvasContextOptions??{},this._strokeMoveUpdate=this.throttle?Ece(kj.prototype._strokeUpdate,this.throttle):kj.prototype._strokeUpdate,this._handleMouseDown=this._handleMouseDown.bind(this),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this._handleTouchStart=this._handleTouchStart.bind(this),this._handleTouchMove=this._handleTouchMove.bind(this),this._handleTouchEnd=this._handleTouchEnd.bind(this),this._handlePointerDown=this._handlePointerDown.bind(this),this._handlePointerMove=this._handlePointerMove.bind(this),this._handlePointerUp=this._handlePointerUp.bind(this),this._handlePointerCancel=this._handlePointerCancel.bind(this),this._handleTouchCancel=this._handleTouchCancel.bind(this),this._ctx=t.getContext("2d",this.canvasContextOptions),this.clear(),this.on()}clear(){let{_ctx:t,canvas:n}=this;t.fillStyle=this.backgroundColor,t.clearRect(0,0,n.width,n.height),t.fillRect(0,0,n.width,n.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0,this._dataUrl=void 0,this._dataUrlOptions=void 0,this._strokePointerId=void 0}redraw(){let t=this._data,n=this._dataUrl,r=this._dataUrlOptions;this.clear(),n&&this.fromDataURL(n,r),this.fromData(t,{clear:!1})}fromDataURL(t,n={}){return new Promise((r,a)=>{let i=new Image,l=n.ratio||window.devicePixelRatio||1,u=n.width||this.canvas.width/l,d=n.height||this.canvas.height/l,h=n.xOffset||0,p=n.yOffset||0;this._reset(this._getPointGroupOptions()),i.onload=()=>{this._ctx.drawImage(i,h,p,u,d),r()},i.onerror=m=>{a(m)},i.crossOrigin="anonymous",i.src=t,this._isEmpty=!1,this._dataUrl=t,this._dataUrlOptions={...n}})}toDataURL(t="image/png",n){switch(t){case"image/svg+xml":return typeof n!="object"&&(n=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(n))}`;default:return typeof n!="number"&&(n=void 0),this.canvas.toDataURL(t,n)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none",this.canvas.style.webkitUserSelect="none";let t=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!t?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.style.webkitUserSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerDown),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this._removeMoveUpEventListeners()}_getListenerFunctions(){let t=window.document===this.canvas.ownerDocument?window:this.canvas.ownerDocument.defaultView??this.canvas.ownerDocument;return{addEventListener:t.addEventListener.bind(t),removeEventListener:t.removeEventListener.bind(t)}}_removeMoveUpEventListeners(){let{removeEventListener:t}=this._getListenerFunctions();t("pointermove",this._handlePointerMove),t("pointerup",this._handlePointerUp),t("pointercancel",this._handlePointerCancel),t("mousemove",this._handleMouseMove),t("mouseup",this._handleMouseUp),t("touchmove",this._handleTouchMove),t("touchend",this._handleTouchEnd),t("touchcancel",this._handleTouchCancel)}isEmpty(){return this._isEmpty}fromData(t,{clear:n=!0}={}){n&&this.clear(),this._fromData(t,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(t)}toData(){return this._data}_isLeftButtonPressed(t,n){return n?t.buttons===1:(t.buttons&1)===1}_pointerEventToSignatureEvent(t){return{event:t,type:t.type,x:t.clientX,y:t.clientY,pressure:"pressure"in t?t.pressure:0}}_touchEventToSignatureEvent(t){let n=t.changedTouches[0];return{event:t,type:t.type,x:n.clientX,y:n.clientY,pressure:n.force}}_handleMouseDown(t){!this._isLeftButtonPressed(t,!0)||this._drawingStroke||this._strokeBegin(this._pointerEventToSignatureEvent(t))}_handleMouseMove(t){if(!this._isLeftButtonPressed(t,!0)||!this._drawingStroke){this._strokeEnd(this._pointerEventToSignatureEvent(t),!1);return}this._strokeMoveUpdate(this._pointerEventToSignatureEvent(t))}_handleMouseUp(t){this._isLeftButtonPressed(t)||this._strokeEnd(this._pointerEventToSignatureEvent(t))}_handleTouchStart(t){t.targetTouches.length!==1||this._drawingStroke||(t.cancelable&&t.preventDefault(),this._strokeBegin(this._touchEventToSignatureEvent(t)))}_handleTouchMove(t){if(t.targetTouches.length===1){if(t.cancelable&&t.preventDefault(),!this._drawingStroke){this._strokeEnd(this._touchEventToSignatureEvent(t),!1);return}this._strokeMoveUpdate(this._touchEventToSignatureEvent(t))}}_handleTouchEnd(t){t.targetTouches.length===0&&(t.cancelable&&t.preventDefault(),this._strokeEnd(this._touchEventToSignatureEvent(t)))}_handlePointerCancel(t){this._allowPointerId(t)&&(t.preventDefault(),this._strokeEnd(this._pointerEventToSignatureEvent(t),!1))}_handleTouchCancel(t){t.cancelable&&t.preventDefault(),this._strokeEnd(this._touchEventToSignatureEvent(t),!1)}_getPointerId(t){return t.persistentDeviceId||t.pointerId}_allowPointerId(t,n=!1){return typeof this._strokePointerId>"u"?n:this._getPointerId(t)===this._strokePointerId}_handlePointerDown(t){this._drawingStroke||!this._isLeftButtonPressed(t)||!this._allowPointerId(t,!0)||(this._strokePointerId=this._getPointerId(t),t.preventDefault(),this._strokeBegin(this._pointerEventToSignatureEvent(t)))}_handlePointerMove(t){if(this._allowPointerId(t)){if(!this._isLeftButtonPressed(t,!0)||!this._drawingStroke){this._strokeEnd(this._pointerEventToSignatureEvent(t),!1);return}t.preventDefault(),this._strokeMoveUpdate(this._pointerEventToSignatureEvent(t))}}_handlePointerUp(t){this._isLeftButtonPressed(t)||!this._allowPointerId(t)||(t.preventDefault(),this._strokeEnd(this._pointerEventToSignatureEvent(t)))}_getPointGroupOptions(t){return{penColor:t&&"penColor"in t?t.penColor:this.penColor,dotSize:t&&"dotSize"in t?t.dotSize:this.dotSize,minWidth:t&&"minWidth"in t?t.minWidth:this.minWidth,maxWidth:t&&"maxWidth"in t?t.maxWidth:this.maxWidth,velocityFilterWeight:t&&"velocityFilterWeight"in t?t.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:t&&"compositeOperation"in t?t.compositeOperation:this.compositeOperation}}_strokeBegin(t){if(!this.dispatchEvent(new CustomEvent("beginStroke",{detail:t,cancelable:!0})))return;let{addEventListener:n}=this._getListenerFunctions();switch(t.event.type){case"mousedown":n("mousemove",this._handleMouseMove,{passive:!1}),n("mouseup",this._handleMouseUp,{passive:!1});break;case"touchstart":n("touchmove",this._handleTouchMove,{passive:!1}),n("touchend",this._handleTouchEnd,{passive:!1}),n("touchcancel",this._handleTouchCancel,{passive:!1});break;case"pointerdown":n("pointermove",this._handlePointerMove,{passive:!1}),n("pointerup",this._handlePointerUp,{passive:!1}),n("pointercancel",this._handlePointerCancel,{passive:!1});break}this._drawingStroke=!0;let r=this._getPointGroupOptions(),a={...r,points:[]};this._data.push(a),this._reset(r),this._strokeUpdate(t)}_strokeUpdate(t){if(!this._drawingStroke)return;if(this._data.length===0){this._strokeBegin(t);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:t}));let n=this._createPoint(t.x,t.y,t.pressure),r=this._data[this._data.length-1],a=r.points,i=a.length>0&&a[a.length-1],l=i?n.distanceTo(i)<=this.minDistance:!1,u=this._getPointGroupOptions(r);if(!i||!(i&&l)){let d=this._addPoint(n,u);i?d&&this._drawCurve(d,u):this._drawDot(n,u),a.push({time:n.time,x:n.x,y:n.y,pressure:n.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:t}))}_strokeEnd(t,n=!0){this._removeMoveUpEventListeners(),this._drawingStroke&&(n&&this._strokeUpdate(t),this._drawingStroke=!1,this._strokePointerId=void 0,this.dispatchEvent(new CustomEvent("endStroke",{detail:t})))}_handlePointerEvents(){this._drawingStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerDown,{passive:!1})}_handleMouseEvents(){this._drawingStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown,{passive:!1})}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart,{passive:!1})}_reset(t){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(t.minWidth+t.maxWidth)/2,this._ctx.fillStyle=t.penColor,this._ctx.globalCompositeOperation=t.compositeOperation}_createPoint(t,n,r){let a=this.canvas.getBoundingClientRect();return new nv(t-a.left,n-a.top,r,new Date().getTime())}_addPoint(t,n){let{_lastPoints:r}=this;if(r.push(t),r.length>2){r.length===3&&r.unshift(r[0]);let a=this._calculateCurveWidths(r[1],r[2],n),i=Cce.fromPoints(r,a);return r.shift(),i}return null}_calculateCurveWidths(t,n,r){let a=r.velocityFilterWeight*n.velocityFrom(t)+(1-r.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(a,r),l={end:i,start:this._lastWidth};return this._lastVelocity=a,this._lastWidth=i,l}_strokeWidth(t,n){return Math.max(n.maxWidth/(t+1),n.minWidth)}_drawCurveSegment(t,n,r){let a=this._ctx;a.moveTo(t,n),a.arc(t,n,r,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(t,n){let r=this._ctx,a=t.endWidth-t.startWidth,i=Math.ceil(t.length())*2;r.beginPath(),r.fillStyle=n.penColor;for(let l=0;l<i;l+=1){let u=l/i,d=u*u,h=d*u,p=1-u,m=p*p,g=m*p,y=g*t.startPoint.x;y+=3*m*u*t.control1.x,y+=3*p*d*t.control2.x,y+=h*t.endPoint.x;let S=g*t.startPoint.y;S+=3*m*u*t.control1.y,S+=3*p*d*t.control2.y,S+=h*t.endPoint.y;let x=Math.min(t.startWidth+h*a,n.maxWidth);this._drawCurveSegment(y,S,x)}r.closePath(),r.fill()}_drawDot(t,n){let r=this._ctx,a=n.dotSize>0?n.dotSize:(n.minWidth+n.maxWidth)/2;r.beginPath(),this._drawCurveSegment(t.x,t.y,a),r.closePath(),r.fillStyle=n.penColor,r.fill()}_fromData(t,n,r){for(let a of t){let{points:i}=a,l=this._getPointGroupOptions(a);if(i.length>1)for(let u=0;u<i.length;u+=1){let d=i[u],h=new nv(d.x,d.y,d.pressure,d.time);u===0&&this._reset(l);let p=this._addPoint(h,l);p&&n(p,l)}else this._reset(l),r(i[0],l)}}toSVG({includeBackgroundColor:t=!1,includeDataUrl:n=!1}={}){let r=this._data,a=Math.max(window.devicePixelRatio||1,1),i=0,l=0,u=this.canvas.width/a,d=this.canvas.height/a,h=document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.setAttribute("xmlns","http://www.w3.org/2000/svg"),h.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),h.setAttribute("viewBox",`${i} ${l} ${u} ${d}`),h.setAttribute("width",u.toString()),h.setAttribute("height",d.toString()),t&&this.backgroundColor){let p=document.createElement("rect");p.setAttribute("width","100%"),p.setAttribute("height","100%"),p.setAttribute("fill",this.backgroundColor),h.appendChild(p)}if(n&&this._dataUrl){let p=this._dataUrlOptions?.ratio||window.devicePixelRatio||1,m=this._dataUrlOptions?.width||this.canvas.width/p,g=this._dataUrlOptions?.height||this.canvas.height/p,y=this._dataUrlOptions?.xOffset||0,S=this._dataUrlOptions?.yOffset||0,x=document.createElement("image");x.setAttribute("x",y.toString()),x.setAttribute("y",S.toString()),x.setAttribute("width",m.toString()),x.setAttribute("height",g.toString()),x.setAttribute("preserveAspectRatio","none"),x.setAttribute("href",this._dataUrl),h.appendChild(x)}return this._fromData(r,(p,{penColor:m})=>{let g=document.createElement("path");if(!isNaN(p.control1.x)&&!isNaN(p.control1.y)&&!isNaN(p.control2.x)&&!isNaN(p.control2.y)){let y=`M ${p.startPoint.x.toFixed(3)},${p.startPoint.y.toFixed(3)} C ${p.control1.x.toFixed(3)},${p.control1.y.toFixed(3)} ${p.control2.x.toFixed(3)},${p.control2.y.toFixed(3)} ${p.endPoint.x.toFixed(3)},${p.endPoint.y.toFixed(3)}`;g.setAttribute("d",y),g.setAttribute("stroke-width",(p.endWidth*2.25).toFixed(3)),g.setAttribute("stroke",m),g.setAttribute("fill","none"),g.setAttribute("stroke-linecap","round"),h.appendChild(g)}},(p,{penColor:m,dotSize:g,minWidth:y,maxWidth:S})=>{let x=document.createElement("circle"),C=g>0?g:(y+S)/2;x.setAttribute("r",C.toString()),x.setAttribute("cx",p.x.toString()),x.setAttribute("cy",p.y.toString()),x.setAttribute("fill",m),h.appendChild(x)}),h.outerHTML}};function Rce(e){let t=Ae(),{width:n=500,height:r=200,defaultValue:a,who:i,onChange:l,...u}=e,d=b.useRef(null),h=b.useRef(null),p=b.useRef(l);return p.current=l,b.useEffect(()=>{function m(){p.current?.({type:[{system:yt+"/fhir/signature-type",code:"ProofOfOrigin",display:"Proof of Origin"}],when:new Date().toISOString(),who:i??Me(t.getProfile()),data:h.current?.toDataURL().split(",")[1]})}if(d.current){let g=new Tce(d.current);a?.data&&g.fromDataURL(a.data).catch(console.error),g.addEventListener("endStroke",m),h.current=g}return()=>{h.current&&h.current.removeEventListener("beginStroke",m)}},[t,a,i]),s.jsxs(tn,{withBorder:!0,p:0,w:n,h:r,pos:"relative",...u,children:[s.jsx("canvas",{ref:d,width:n,height:r,"aria-label":"Signature input area"}),s.jsx(Pe,{onClick:()=>{h.current&&h.current.clear(),p.current?.(void 0)},"aria-label":"Clear signature",pos:"absolute",top:0,right:0,size:"xs",leftSection:s.jsx(PR,{size:16}),variant:"subtle",color:"gray",children:"Clear"})]})}function $$(e){let t=[...e.context,e.responseItem];return s.jsxs("div",{children:[e.item.text&&s.jsx(Sr,{order:3,mb:"md",children:e.item.text}),s.jsx(Mj,{formState:e.formState,context:t,items:e.item.item??[],responseItems:e.responseItem.item??[]})]},e.item.linkId)}function _ce(e){return s.jsxs(s.Fragment,{children:[e.responseItems.map(t=>s.jsx($$,{formState:e.formState,context:e.context,item:e.item,responseItem:t},`group-${t.id}`)),s.jsx($a,{onClick:()=>e.formState.onAddGroup(e.context,e.item),children:`Add Group: ${e.item.text}`})]})}function Dce(e){let{formState:t,context:n,item:r,responseItem:a}=e,i=r.type!==kt.choice&&r.type!==kt.openChoice,l=a.answer&&a.answer.length>0?a.answer:[{}];return s.jsxs(ua,{htmlFor:e.item.linkId,title:e.item.text,withAsterisk:e.item.required,children:[s.jsx(oe,{gap:"xs",children:l?.map((u,d)=>s.jsx(Oj,{formState:t,context:n,item:r,responseItem:a,index:d},`${r.linkId}-${d}`))}),i&&s.jsx($a,{onClick:()=>t.onAddAnswer(n,r),children:"Add Item"})]},e.item.linkId)}function Mj(e){let{formState:t,context:n,items:r,responseItems:a}=e;return s.jsx(oe,{children:r.map((i,l)=>{if(!une(i,t.questionnaireResponse))return null;if(i.type===kt.display)return s.jsx("p",{children:i.text},`display-${i.id}-${l}`);let u=a.filter(d=>d.linkId===i.linkId);return i.type===kt.group&&i.repeats?s.jsx(_ce,{formState:t,context:n,item:i,responseItems:u},`repeating-group-${i.id}-${l}`):i.type===kt.group?s.jsx($$,{formState:t,context:n,item:i,responseItem:u[0]},`group-${i.id}-${l}`):i.type===kt.boolean?s.jsx(Oj,{formState:t,context:n,item:i,responseItem:u[0],index:0},`boolean-item-${i.id}-${l}`):i.repeats?s.jsx(Dce,{formState:t,context:n,item:i,responseItem:u[0]},`repeating-item-${i.id}-${l}`):s.jsx(ua,{htmlFor:i.linkId,title:i.text,withAsterisk:i.required,children:s.jsx(Oj,{formState:t,context:n,item:i,responseItem:u[0],index:0})},`repeating-item-${i.id}-${l}`)})})}function Ace(e){let{formState:t,submitButtonText:n,excludeButtons:r,children:a}=e,i=t.pages,l=t.activePage,u=l>0,d=l<i.length-1,h=l===i.length-1;return s.jsxs(s.Fragment,{children:[s.jsx(nd,{active:l,allowNextStepsSelect:!1,p:6,children:i.map((p,m)=>s.jsx(nd.Step,{label:p.title,children:m===l&&a},p.linkId))}),!r&&s.jsxs(fe,{justify:"flex-end",mt:"xl",gap:"xs",children:[u&&s.jsx(Pe,{onClick:t.onPrevPage,children:"Back"}),d&&s.jsx(Pe,{onClick:p=>{p.currentTarget.closest("form").reportValidity()&&t.onNextPage()},children:"Next"}),h&&s.jsx(Nr,{children:n??"Submit"})]})]})}function Py(e){let t=Ae(),[n,r]=b.useState(!1),a=b.useRef(e);a.current=e;let i=b.useCallback(m=>{r(!1),a.current.onChange?.(m)},[]),l=jne({questionnaire:e.questionnaire,defaultValue:e.questionnaireResponse,subject:e.subject,encounter:e.encounter,source:e.source,disablePagination:e.disablePagination,onChange:i}),u=b.useRef(l);u.current=l;let d=b.useMemo(()=>l.loading?!1:!!kr(l.questionnaire,cne),[l]),h=b.useMemo(()=>l.loading?!1:!!l.questionnaireResponse.extension?.find(m=>m.url===hg),[l]),p=b.useCallback(()=>{let m=u.current;if(m.loading)return;let g=a.current.onSubmit;if(!g)return;if(d&&!h){r(!0);return}let y=m.questionnaire,S=m.questionnaireResponse,x=a.current.subject,C=a.current.source;if(!C){let T=t.getProfile();T&&(C=Me(T))}g({...S,questionnaire:y.url??Oe(y),subject:x,source:C,authored:new Date().toISOString(),status:"completed"})},[t,d,h]);return l.loading?null:s.jsxs(ar,{testid:"questionnaire-form",onSubmit:p,children:[l.questionnaire.title&&s.jsx(Sr,{children:l.questionnaire.title}),l.pagination?s.jsx(Ace,{formState:l,submitButtonText:e.submitButtonText,excludeButtons:e.excludeButtons,children:s.jsx(Mj,{formState:l,context:[],items:l.items,responseItems:l.responseItems})}):s.jsxs(s.Fragment,{children:[s.jsx(Mj,{formState:l,context:[],items:l.items,responseItems:l.responseItems}),d&&s.jsxs(oe,{mt:"md",gap:0,children:[s.jsx(Y,{size:"sm",fw:500,children:"Signature"}),s.jsx(Rce,{onChange:l.onChangeSignature}),!h&&n&&s.jsx(Y,{c:"red",size:"sm",children:"Signature is required."})]}),!e.excludeButtons&&s.jsx(fe,{justify:"flex-end",mt:"xl",gap:"xs",children:s.jsx(Nr,{children:e.submitButtonText??"Submit"})})]})]})}function q$(e){let{item:t}=e,{text:n,answer:r,item:a}=t,i=b.useMemo(()=>r&&r.length>0?s.jsx(s.Fragment,{children:r.map((l,u)=>s.jsx(Oce,{answer:l},`answer-${u}`))}):a&&a.length>0?s.jsx(s.Fragment,{children:a.map((l,u)=>s.jsx(q$,{item:l},`nested-${l.id??u}`))}):s.jsx(Y,{c:"dimmed",children:"No answer"}),[r,a]);return s.jsxs(oe,{gap:0,pb:"xs",children:[s.jsx(Y,{size:"lg",fw:600,id:t.id?`question-${t.id}`:void 0,component:"h3",children:n}),i]})}function Oce({answer:e}){if(!e)return s.jsx(Y,{c:"dimmed",children:"Invalid answer"});let t=Object.entries(e).filter(([,a])=>a!=null);if(t.length===0)return s.jsx(Y,{c:"dimmed",children:"No valid answer data"});let[n,r]=t[0];switch(n){case"valueInteger":return s.jsx(Y,{children:r});case"valueQuantity":return s.jsx(Xg,{value:r});case"valueString":return s.jsx(Y,{children:r});case"valueCoding":return s.jsx(Yf,{value:{coding:[r]}});case"valueRange":return s.jsx(HR,{value:r});case"valueDateTime":return s.jsx(Y,{children:vn(r)});case"valueBoolean":return s.jsx(Y,{children:r?"True":"False"});case"valueReference":return s.jsx(Y,{children:r.display??r.reference});default:return s.jsx(Y,{children:r.toString()})}}function kce(e){let t=Rt(e.questionnaireResponse);return s.jsx(oe,{gap:0,children:t?.item?.map((n,r)=>s.jsx(q$,{item:n},`item-${n.id??r}`))})}var yP={splitButton:"ResourceForm_splitButton",menuControl:"ResourceForm_menuControl"};function Mce(e){let{outcome:t}=e,n=Ae(),r=Rt(e.defaultValue),a=r?.resourceType,[i,l]=b.useState(!1),[u,d]=b.useState(),h=n.getAccessPolicy(),p=wn();b.useEffect(()=>{if(r)if(e.profileUrl){let y=e.profileUrl;n.requestProfileSchema(e.profileUrl,{expandProfile:!0}).then(()=>{let S=Mc(y);if(S){l(!0);let x=Fte(r,S);d(x)}else console.error(`Schema not found for ${y}`)}).catch(S=>{console.error("Error in requestProfileSchema",S)})}else n.requestSchema(a).then(()=>{d(r),l(!0)}).catch(console.log)},[n,r,a,e.profileUrl]);let m=b.useMemo(()=>r&&fz(r,ec.READ,h),[h,r]),g=b.useMemo(()=>n.isSuperAdmin()||!h||!Hn(u?.resourceType)?!0:Qee(h,u?.resourceType),[n,h,u?.resourceType]);return!i||!u?s.jsx("div",{children:"Loading..."}):g?s.jsxs("form",{noValidate:!0,autoComplete:"off",onSubmit:y=>{y.preventDefault(),e.onSubmit&&e.onSubmit(u)},children:[s.jsxs(oe,{mb:"xl",children:[s.jsx(ua,{title:"Resource Type",htmlFor:"resourceType",outcome:t,children:s.jsx(et,{name:"resourceType",defaultValue:u.resourceType,disabled:!0})}),s.jsx(ua,{title:"ID",htmlFor:"id",outcome:t,children:s.jsx(et,{name:"id",defaultValue:u.id,disabled:!0})})]}),s.jsx(YR,{path:u.resourceType,valuePath:u.resourceType,typeName:a,defaultValue:u,outcome:t,onChange:d,profileUrl:e.profileUrl,accessPolicyResource:m}),s.jsxs(fe,{justify:"flex-end",mt:"xl",wrap:"nowrap",gap:0,children:[s.jsx(Pe,{type:"submit",className:Ic((e.onPatch||e.onDelete)&&yP.splitButton),children:r?.id?"Update":"Create"}),(e.onPatch||e.onDelete)&&s.jsxs(ye,{transitionProps:{transition:"pop"},position:"bottom-end",withinPortal:!0,children:[s.jsx(ye.Target,{children:s.jsx(xt,{variant:"filled",color:p.primaryColor,size:36,className:yP.menuControl,"aria-label":"More actions",children:s.jsx(AR,{size:14,stroke:1.5})})}),s.jsxs(ye.Dropdown,{children:[e.onPatch&&s.jsx(ye.Item,{leftSection:s.jsx(Mre,{size:14,stroke:1.5}),onClick:()=>{e.onPatch(u)},children:"Patch"}),e.onDelete&&s.jsx(ye.Item,{color:"red",leftSection:s.jsx(PR,{size:14,stroke:1.5,color:"red"}),onClick:()=>{e.onDelete(u)},children:"Delete"})]})]})]})]}):s.jsxs(dl,{color:"red",title:"Permission denied",icon:s.jsx(by,{}),children:["Your access level prevents you from editing and creating ",u.resourceType," resources."]})}function Pce(e){let t=Ae(),[n,r]=b.useState(e.history);return b.useEffect(()=>{!e.history&&e.resourceType&&e.id&&t.readHistory(e.resourceType,e.id).then(r).catch(console.log)},[t,e.history,e.resourceType,e.id]),n?s.jsxs(Le,{withTableBorder:!0,withRowBorders:!0,withColumnBorders:!0,children:[s.jsx(Le.Thead,{children:s.jsxs(Le.Tr,{children:[s.jsx(Le.Th,{children:"Author"}),s.jsx(Le.Th,{children:"Date"}),s.jsx(Le.Th,{children:"Version"})]})}),s.jsx(Le.Tbody,{children:n.entry?.map((a,i)=>s.jsx(Nce,{entry:a},"entry-"+i))})]}):s.jsx("div",{children:"Loading..."})}function Nce(e){let{response:t,resource:n}=e.entry;return n?s.jsxs(Le.Tr,{children:[s.jsx(Le.Td,{children:s.jsx(pg,{value:n.meta?.author,link:!0})}),s.jsx(Le.Td,{children:Ua(n.meta?.lastUpdated)}),s.jsx(Le.Td,{children:s.jsx(ba,{to:Ice(n),children:n.meta?.versionId})})]}):s.jsx(Le.Tr,{children:s.jsx(Le.Td,{colSpan:3,children:Vt(t?.outcome)})})}function Ice(e){return`/${e.resourceType}/${e.id}/_history/${e.meta?.versionId}`}var nS={exports:{}},Of={},rS={exports:{}},aS={};var bP;function Lce(){return bP||(bP=1,(function(e){function t(N,z){var $=N.length;N.push(z);e:for(;0<$;){var G=$-1>>>1,X=N[G];if(0<a(X,z))N[G]=z,N[$]=X,$=G;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var z=N[0],$=N.pop();if($!==z){N[0]=$;e:for(var G=0,X=N.length,H=X>>>1;G<H;){var F=2*(G+1)-1,Q=N[F],J=F+1,re=N[J];if(0>a(Q,$))J<X&&0>a(re,Q)?(N[G]=re,N[J]=$,G=J):(N[G]=Q,N[F]=$,G=F);else if(J<X&&0>a(re,$))N[G]=re,N[J]=$,G=J;else break e}}return z}function a(N,z){var $=N.sortIndex-z.sortIndex;return $!==0?$:N.id-z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],h=[],p=1,m=null,g=3,y=!1,S=!1,x=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function _(N){for(var z=n(h);z!==null;){if(z.callback===null)r(h);else if(z.startTime<=N)r(h),z.sortIndex=z.expirationTime,t(d,z);else break;z=n(h)}}function A(N){if(x=!1,_(N),!S)if(n(d)!==null)S=!0,k||(k=!0,V());else{var z=n(h);z!==null&&W(A,z.startTime-N)}}var k=!1,D=-1,O=5,M=-1;function I(){return C?!0:!(e.unstable_now()-M<O)}function L(){if(C=!1,k){var N=e.unstable_now();M=N;var z=!0;try{e:{S=!1,x&&(x=!1,j(D),D=-1),y=!0;var $=g;try{t:{for(_(N),m=n(d);m!==null&&!(m.expirationTime>N&&I());){var G=m.callback;if(typeof G=="function"){m.callback=null,g=m.priorityLevel;var X=G(m.expirationTime<=N);if(N=e.unstable_now(),typeof X=="function"){m.callback=X,_(N),z=!0;break t}m===n(d)&&r(d),_(N)}else r(d);m=n(d)}if(m!==null)z=!0;else{var H=n(h);H!==null&&W(A,H.startTime-N),z=!1}}break e}finally{m=null,g=$,y=!1}z=void 0}}finally{z?V():k=!1}}}var V;if(typeof R=="function")V=function(){R(L)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,U=q.port2;q.port1.onmessage=L,V=function(){U.postMessage(null)}}else V=function(){T(L,0)};function W(N,z){D=T(function(){N(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(N){switch(g){case 1:case 2:case 3:var z=3;break;default:z=g}var $=g;g=z;try{return N()}finally{g=$}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(N,z){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var $=g;g=N;try{return z()}finally{g=$}},e.unstable_scheduleCallback=function(N,z,$){var G=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?G+$:G):$=G,N){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=$+X,N={id:p++,callback:z,priorityLevel:N,startTime:$,expirationTime:X,sortIndex:-1},$>G?(N.sortIndex=$,t(h,N),n(d)===null&&N===n(h)&&(x?(j(D),D=-1):x=!0,W(A,$-G))):(N.sortIndex=X,t(d,N),S||y||(S=!0,k||(k=!0,V()))),N},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(N){var z=g;return function(){var $=g;g=z;try{return N.apply(this,arguments)}finally{g=$}}}})(aS)),aS}var xP;function zce(){return xP||(xP=1,rS.exports=Lce()),rS.exports}var SP;function $ce(){if(SP)return Of;SP=1;var e=zce(),t=rE(),n=b5();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function i(o){var c=o,f=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(f=c.return),o=c.return;while(o)}return c.tag===3?f:null}function l(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function d(o){if(i(o)!==o)throw Error(r(188))}function h(o){var c=o.alternate;if(!c){if(c=i(o),c===null)throw Error(r(188));return c!==o?null:o}for(var f=o,v=c;;){var w=f.return;if(w===null)break;var E=w.alternate;if(E===null){if(v=w.return,v!==null){f=v;continue}break}if(w.child===E.child){for(E=w.child;E;){if(E===f)return d(w),o;if(E===v)return d(w),c;E=E.sibling}throw Error(r(188))}if(f.return!==v.return)f=w,v=E;else{for(var P=!1,B=w.child;B;){if(B===f){P=!0,f=w,v=E;break}if(B===v){P=!0,v=w,f=E;break}B=B.sibling}if(!P){for(B=E.child;B;){if(B===f){P=!0,f=E,v=w;break}if(B===v){P=!0,v=E,f=w;break}B=B.sibling}if(!P)throw Error(r(189))}}if(f.alternate!==v)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:c}function p(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=p(o),c!==null)return c;o=o.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),R=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function V(o){return o===null||typeof o!="object"?null:(o=L&&o[L]||o["@@iterator"],typeof o=="function"?o:null)}var q=Symbol.for("react.client.reference");function U(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===q?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case x:return"Fragment";case T:return"Profiler";case C:return"StrictMode";case A:return"Suspense";case k:return"SuspenseList";case M:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case S:return"Portal";case R:return o.displayName||"Context";case j:return(o._context.displayName||"Context")+".Consumer";case _:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case D:return c=o.displayName||null,c!==null?c:U(o.type)||"Memo";case O:c=o._payload,o=o._init;try{return U(o(c))}catch{}}return null}var W=Array.isArray,N=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},G=[],X=-1;function H(o){return{current:o}}function F(o){0>X||(o.current=G[X],G[X]=null,X--)}function Q(o,c){X++,G[X]=o.current,o.current=c}var J=H(null),re=H(null),ue=H(null),Ee=H(null);function Re(o,c){switch(Q(ue,c),Q(re,o),Q(J,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?hO(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=hO(c),o=pO(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}F(J),Q(J,o)}function Se(){F(J),F(re),F(ue)}function Ge(o){o.memoizedState!==null&&Q(Ee,o);var c=J.current,f=pO(c,o.type);c!==f&&(Q(re,o),Q(J,f))}function Ze(o){re.current===o&&(F(J),F(re)),Ee.current===o&&(F(Ee),xf._currentValue=$)}var Fe,ze;function pt(o){if(Fe===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);Fe=c&&c[1]||"",ze=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fe+o+ze}var Xe=!1;function Ut(o,c){if(!o||Xe)return"";Xe=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var je=function(){throw Error()};if(Object.defineProperty(je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(je,[])}catch(ge){var he=ge}Reflect.construct(o,[],je)}else{try{je.call()}catch(ge){he=ge}o.call(je.prototype)}}else{try{throw Error()}catch(ge){he=ge}(je=o())&&typeof je.catch=="function"&&je.catch(function(){})}}catch(ge){if(ge&&he&&typeof ge.stack=="string")return[ge.stack,he.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=v.DetermineComponentFrameRoot(),P=E[0],B=E[1];if(P&&B){var Z=P.split(`
`),ce=B.split(`
`);for(w=v=0;v<Z.length&&!Z[v].includes("DetermineComponentFrameRoot");)v++;for(;w<ce.length&&!ce[w].includes("DetermineComponentFrameRoot");)w++;if(v===Z.length||w===ce.length)for(v=Z.length-1,w=ce.length-1;1<=v&&0<=w&&Z[v]!==ce[w];)w--;for(;1<=v&&0<=w;v--,w--)if(Z[v]!==ce[w]){if(v!==1||w!==1)do if(v--,w--,0>w||Z[v]!==ce[w]){var be=`
`+Z[v].replace(" at new "," at ");return o.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",o.displayName)),be}while(1<=v&&0<=w);break}}}finally{Xe=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?pt(f):""}function ot(o,c){switch(o.tag){case 26:case 27:case 5:return pt(o.type);case 16:return pt("Lazy");case 13:return o.child!==c&&c!==null?pt("Suspense Fallback"):pt("Suspense");case 19:return pt("SuspenseList");case 0:case 15:return Ut(o.type,!1);case 11:return Ut(o.type.render,!1);case 1:return Ut(o.type,!0);case 31:return pt("Activity");default:return""}}function Dt(o){try{var c="",f=null;do c+=ot(o,f),f=o,o=o.return;while(o);return c}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var Tt=Object.prototype.hasOwnProperty,Ve=e.unstable_scheduleCallback,dt=e.unstable_cancelCallback,ct=e.unstable_shouldYield,ft=e.unstable_requestPaint,lt=e.unstable_now,vt=e.unstable_getCurrentPriorityLevel,dr=e.unstable_ImmediatePriority,Ht=e.unstable_UserBlockingPriority,At=e.unstable_NormalPriority,zn=e.unstable_LowPriority,Cr=e.unstable_IdlePriority,Ga=e.log,Kn=e.unstable_setDisableYieldValue,Wt=null,Ct=null;function Ir(o){if(typeof Ga=="function"&&Kn(o),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(Wt,o)}catch{}}var _n=Math.clz32?Math.clz32:$n,ps=Math.log,bl=Math.LN2;function $n(o){return o>>>=0,o===0?32:31-(ps(o)/bl|0)|0}var kn=256,Ca=262144,Ti=4194304;function ja(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Ri(o,c,f){var v=o.pendingLanes;if(v===0)return 0;var w=0,E=o.suspendedLanes,P=o.pingedLanes;o=o.warmLanes;var B=v&134217727;return B!==0?(v=B&~E,v!==0?w=ja(v):(P&=B,P!==0?w=ja(P):f||(f=B&~o,f!==0&&(w=ja(f))))):(B=v&~E,B!==0?w=ja(B):P!==0?w=ja(P):f||(f=v&~o,f!==0&&(w=ja(f)))),w===0?0:c!==0&&c!==w&&(c&E)===0&&(E=w&-w,f=c&-c,E>=f||E===32&&(f&4194048)!==0)?c:w}function jr(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function xl(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qn(){var o=Ti;return Ti<<=1,(Ti&62914560)===0&&(Ti=4194304),o}function Ki(o){for(var c=[],f=0;31>f;f++)c.push(o);return c}function Eo(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Pd(o,c,f,v,w,E){var P=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var B=o.entanglements,Z=o.expirationTimes,ce=o.hiddenUpdates;for(f=P&~f;0<f;){var be=31-_n(f),je=1<<be;B[be]=0,Z[be]=-1;var he=ce[be];if(he!==null)for(ce[be]=null,be=0;be<he.length;be++){var ge=he[be];ge!==null&&(ge.lane&=-536870913)}f&=~je}v!==0&&Hc(o,v,0),E!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=E&~(P&~c))}function Hc(o,c,f){o.pendingLanes|=c,o.suspendedLanes&=~c;var v=31-_n(c);o.entangledLanes|=c,o.entanglements[v]=o.entanglements[v]|1073741824|f&261930}function K(o,c){var f=o.entangledLanes|=c;for(o=o.entanglements;f;){var v=31-_n(f),w=1<<v;w&c|o[v]&c&&(o[v]|=c),f&=~w}}function ae(o,c){var f=c&-c;return f=(f&42)!==0?1:pe(f),(f&(o.suspendedLanes|c))!==0?0:f}function pe(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Te(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function _e(){var o=z.p;return o!==0?o:(o=window.event,o===void 0?32:LO(o.type))}function Be(o,c){var f=z.p;try{return z.p=o,c()}finally{z.p=f}}var $e=Math.random().toString(36).slice(2),ke="__reactFiber$"+$e,Ie="__reactProps$"+$e,He="__reactContainer$"+$e,Ye="__reactEvents$"+$e,Ke="__reactListeners$"+$e,Ot="__reactHandles$"+$e,Qe="__reactResources$"+$e,rn="__reactMarker$"+$e;function Cn(o){delete o[ke],delete o[Ie],delete o[Ye],delete o[Ke],delete o[Ot]}function Ft(o){var c=o[ke];if(c)return c;for(var f=o.parentNode;f;){if(c=f[He]||f[ke]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(o=SO(o);o!==null;){if(f=o[ke])return f;o=SO(o)}return c}o=f,f=o.parentNode}return null}function Gt(o){if(o=o[ke]||o[He]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function Ea(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function Ya(o){var c=o[Qe];return c||(c=o[Qe]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function un(o){o[rn]=!0}var Ta=new Set,Fc={};function Ra(o,c){na(o,c),na(o+"Capture",c)}function na(o,c){for(Fc[o]=c,o=0;o<c.length;o++)Ta.add(c[o])}var Vc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sl={},It={};function fr(o){return Tt.call(It,o)?!0:Tt.call(Sl,o)?!1:Vc.test(o)?It[o]=!0:(Sl[o]=!0,!1)}function _i(o,c,f){if(fr(c))if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+f)}}function Qa(o,c,f){if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+f)}}function Yt(o,c,f,v){if(v===null)o.removeAttribute(f);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(c,f,""+v)}}function Er(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Nd(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function u0(o,c,f){var v=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var w=v.get,E=v.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return w.call(this)},set:function(P){f=""+P,E.call(this,P)}}),Object.defineProperty(o,c,{enumerable:v.enumerable}),{getValue:function(){return f},setValue:function(P){f=""+P},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function d0(o){if(!o._valueTracker){var c=Nd(o)?"checked":"value";o._valueTracker=u0(o,c,""+o[c])}}function o2(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var f=c.getValue(),v="";return o&&(v=Nd(o)?o.checked?"true":"false":o.value),o=v,o!==f?(c.setValue(o),!0):!1}function gp(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var fq=/[\n"\\]/g;function Ka(o){return o.replace(fq,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function f0(o,c,f,v,w,E,P,B){o.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?o.type=P:o.removeAttribute("type"),c!=null?P==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Er(c)):o.value!==""+Er(c)&&(o.value=""+Er(c)):P!=="submit"&&P!=="reset"||o.removeAttribute("value"),c!=null?h0(o,P,Er(c)):f!=null?h0(o,P,Er(f)):v!=null&&o.removeAttribute("value"),w==null&&E!=null&&(o.defaultChecked=!!E),w!=null&&(o.checked=w&&typeof w!="function"&&typeof w!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?o.name=""+Er(B):o.removeAttribute("name")}function s2(o,c,f,v,w,E,P,B){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(o.type=E),c!=null||f!=null){if(!(E!=="submit"&&E!=="reset"||c!=null)){d0(o);return}f=f!=null?""+Er(f):"",c=c!=null?""+Er(c):f,B||c===o.value||(o.value=c),o.defaultValue=c}v=v??w,v=typeof v!="function"&&typeof v!="symbol"&&!!v,o.checked=B?o.checked:!!v,o.defaultChecked=!!v,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(o.name=P),d0(o)}function h0(o,c,f){c==="number"&&gp(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function Wc(o,c,f,v){if(o=o.options,c){c={};for(var w=0;w<f.length;w++)c["$"+f[w]]=!0;for(f=0;f<o.length;f++)w=c.hasOwnProperty("$"+o[f].value),o[f].selected!==w&&(o[f].selected=w),w&&v&&(o[f].defaultSelected=!0)}else{for(f=""+Er(f),c=null,w=0;w<o.length;w++){if(o[w].value===f){o[w].selected=!0,v&&(o[w].defaultSelected=!0);return}c!==null||o[w].disabled||(c=o[w])}c!==null&&(c.selected=!0)}}function l2(o,c,f){if(c!=null&&(c=""+Er(c),c!==o.value&&(o.value=c),f==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=f!=null?""+Er(f):""}function c2(o,c,f,v){if(c==null){if(v!=null){if(f!=null)throw Error(r(92));if(W(v)){if(1<v.length)throw Error(r(93));v=v[0]}f=v}f==null&&(f=""),c=f}f=Er(c),o.defaultValue=f,v=o.textContent,v===f&&v!==""&&v!==null&&(o.value=v),d0(o)}function Gc(o,c){if(c){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=c;return}}o.textContent=c}var hq=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function u2(o,c,f){var v=c.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?v?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":v?o.setProperty(c,f):typeof f!="number"||f===0||hq.has(c)?c==="float"?o.cssFloat=f:o[c]=(""+f).trim():o[c]=f+"px"}function d2(o,c,f){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,f!=null){for(var v in f)!f.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?o.setProperty(v,""):v==="float"?o.cssFloat="":o[v]="");for(var w in c)v=c[w],c.hasOwnProperty(w)&&f[w]!==v&&u2(o,w,v)}else for(var E in c)c.hasOwnProperty(E)&&u2(o,E,c[E])}function p0(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pq=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mq=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vp(o){return mq.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function To(){}var m0=null;function g0(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Yc=null,Qc=null;function f2(o){var c=Gt(o);if(c&&(o=c.stateNode)){var f=o[Ie]||null;e:switch(o=c.stateNode,c.type){case"input":if(f0(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),c=f.name,f.type==="radio"&&c!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Ka(""+c)+'"][type="radio"]'),c=0;c<f.length;c++){var v=f[c];if(v!==o&&v.form===o.form){var w=v[Ie]||null;if(!w)throw Error(r(90));f0(v,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(c=0;c<f.length;c++)v=f[c],v.form===o.form&&o2(v)}break e;case"textarea":l2(o,f.value,f.defaultValue);break e;case"select":c=f.value,c!=null&&Wc(o,!!f.multiple,c,!1)}}}var v0=!1;function h2(o,c,f){if(v0)return o(c,f);v0=!0;try{var v=o(c);return v}finally{if(v0=!1,(Yc!==null||Qc!==null)&&(am(),Yc&&(c=Yc,o=Qc,Qc=Yc=null,f2(c),o)))for(c=0;c<o.length;c++)f2(o[c])}}function Id(o,c){var f=o.stateNode;if(f===null)return null;var v=f[Ie]||null;if(v===null)return null;f=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,c,typeof f));return f}var Ro=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y0=!1;if(Ro)try{var Ld={};Object.defineProperty(Ld,"passive",{get:function(){y0=!0}}),window.addEventListener("test",Ld,Ld),window.removeEventListener("test",Ld,Ld)}catch{y0=!1}var ms=null,b0=null,yp=null;function p2(){if(yp)return yp;var o,c=b0,f=c.length,v,w="value"in ms?ms.value:ms.textContent,E=w.length;for(o=0;o<f&&c[o]===w[o];o++);var P=f-o;for(v=1;v<=P&&c[f-v]===w[E-v];v++);return yp=w.slice(o,1<v?1-v:void 0)}function bp(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function xp(){return!0}function m2(){return!1}function ra(o){function c(f,v,w,E,P){this._reactName=f,this._targetInst=w,this.type=v,this.nativeEvent=E,this.target=P,this.currentTarget=null;for(var B in o)o.hasOwnProperty(B)&&(f=o[B],this[B]=f?f(E):E[B]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?xp:m2,this.isPropagationStopped=m2,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=xp)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=xp)},persist:function(){},isPersistent:xp}),c}var wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sp=ra(wl),zd=m({},wl,{view:0,detail:0}),gq=ra(zd),x0,S0,$d,wp=m({},zd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:C0,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==$d&&($d&&o.type==="mousemove"?(x0=o.screenX-$d.screenX,S0=o.screenY-$d.screenY):S0=x0=0,$d=o),x0)},movementY:function(o){return"movementY"in o?o.movementY:S0}}),g2=ra(wp),vq=m({},wp,{dataTransfer:0}),yq=ra(vq),bq=m({},zd,{relatedTarget:0}),w0=ra(bq),xq=m({},wl,{animationName:0,elapsedTime:0,pseudoElement:0}),Sq=ra(xq),wq=m({},wl,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Cq=ra(wq),jq=m({},wl,{data:0}),v2=ra(jq),Eq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _q(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=Rq[o])?!!c[o]:!1}function C0(){return _q}var Dq=m({},zd,{key:function(o){if(o.key){var c=Eq[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=bp(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Tq[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:C0,charCode:function(o){return o.type==="keypress"?bp(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?bp(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Aq=ra(Dq),Oq=m({},wp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),y2=ra(Oq),kq=m({},zd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:C0}),Mq=ra(kq),Pq=m({},wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nq=ra(Pq),Iq=m({},wp,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Lq=ra(Iq),zq=m({},wl,{newState:0,oldState:0}),$q=ra(zq),qq=[9,13,27,32],j0=Ro&&"CompositionEvent"in window,qd=null;Ro&&"documentMode"in document&&(qd=document.documentMode);var Uq=Ro&&"TextEvent"in window&&!qd,b2=Ro&&(!j0||qd&&8<qd&&11>=qd),x2=" ",S2=!1;function w2(o,c){switch(o){case"keyup":return qq.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C2(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Kc=!1;function Bq(o,c){switch(o){case"compositionend":return C2(c);case"keypress":return c.which!==32?null:(S2=!0,x2);case"textInput":return o=c.data,o===x2&&S2?null:o;default:return null}}function Hq(o,c){if(Kc)return o==="compositionend"||!j0&&w2(o,c)?(o=p2(),yp=b0=ms=null,Kc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return b2&&c.locale!=="ko"?null:c.data;default:return null}}var Fq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j2(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!Fq[o.type]:c==="textarea"}function E2(o,c,f,v){Yc?Qc?Qc.push(v):Qc=[v]:Yc=v,c=dm(c,"onChange"),0<c.length&&(f=new Sp("onChange","change",null,f,v),o.push({event:f,listeners:c}))}var Ud=null,Bd=null;function Vq(o){sO(o,0)}function Cp(o){var c=Ea(o);if(o2(c))return o}function T2(o,c){if(o==="change")return c}var R2=!1;if(Ro){var E0;if(Ro){var T0="oninput"in document;if(!T0){var _2=document.createElement("div");_2.setAttribute("oninput","return;"),T0=typeof _2.oninput=="function"}E0=T0}else E0=!1;R2=E0&&(!document.documentMode||9<document.documentMode)}function D2(){Ud&&(Ud.detachEvent("onpropertychange",A2),Bd=Ud=null)}function A2(o){if(o.propertyName==="value"&&Cp(Bd)){var c=[];E2(c,Bd,o,g0(o)),h2(Vq,c)}}function Wq(o,c,f){o==="focusin"?(D2(),Ud=c,Bd=f,Ud.attachEvent("onpropertychange",A2)):o==="focusout"&&D2()}function Gq(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Cp(Bd)}function Yq(o,c){if(o==="click")return Cp(c)}function Qq(o,c){if(o==="input"||o==="change")return Cp(c)}function Kq(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var _a=typeof Object.is=="function"?Object.is:Kq;function Hd(o,c){if(_a(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var f=Object.keys(o),v=Object.keys(c);if(f.length!==v.length)return!1;for(v=0;v<f.length;v++){var w=f[v];if(!Tt.call(c,w)||!_a(o[w],c[w]))return!1}return!0}function O2(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function k2(o,c){var f=O2(o);o=0;for(var v;f;){if(f.nodeType===3){if(v=o+f.textContent.length,o<=c&&v>=c)return{node:f,offset:c-o};o=v}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=O2(f)}}function M2(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?M2(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function P2(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=gp(o.document);c instanceof o.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)o=c.contentWindow;else break;c=gp(o.document)}return c}function R0(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var Xq=Ro&&"documentMode"in document&&11>=document.documentMode,Xc=null,_0=null,Fd=null,D0=!1;function N2(o,c,f){var v=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;D0||Xc==null||Xc!==gp(v)||(v=Xc,"selectionStart"in v&&R0(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Fd&&Hd(Fd,v)||(Fd=v,v=dm(_0,"onSelect"),0<v.length&&(c=new Sp("onSelect","select",null,c,f),o.push({event:c,listeners:v}),c.target=Xc)))}function Cl(o,c){var f={};return f[o.toLowerCase()]=c.toLowerCase(),f["Webkit"+o]="webkit"+c,f["Moz"+o]="moz"+c,f}var Zc={animationend:Cl("Animation","AnimationEnd"),animationiteration:Cl("Animation","AnimationIteration"),animationstart:Cl("Animation","AnimationStart"),transitionrun:Cl("Transition","TransitionRun"),transitionstart:Cl("Transition","TransitionStart"),transitioncancel:Cl("Transition","TransitionCancel"),transitionend:Cl("Transition","TransitionEnd")},A0={},I2={};Ro&&(I2=document.createElement("div").style,"AnimationEvent"in window||(delete Zc.animationend.animation,delete Zc.animationiteration.animation,delete Zc.animationstart.animation),"TransitionEvent"in window||delete Zc.transitionend.transition);function jl(o){if(A0[o])return A0[o];if(!Zc[o])return o;var c=Zc[o],f;for(f in c)if(c.hasOwnProperty(f)&&f in I2)return A0[o]=c[f];return o}var L2=jl("animationend"),z2=jl("animationiteration"),$2=jl("animationstart"),Zq=jl("transitionrun"),Jq=jl("transitionstart"),eU=jl("transitioncancel"),q2=jl("transitionend"),U2=new Map,O0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");O0.push("scrollEnd");function Di(o,c){U2.set(o,c),Ra(c,[o])}var jp=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Xa=[],Jc=0,k0=0;function Ep(){for(var o=Jc,c=k0=Jc=0;c<o;){var f=Xa[c];Xa[c++]=null;var v=Xa[c];Xa[c++]=null;var w=Xa[c];Xa[c++]=null;var E=Xa[c];if(Xa[c++]=null,v!==null&&w!==null){var P=v.pending;P===null?w.next=w:(w.next=P.next,P.next=w),v.pending=w}E!==0&&B2(f,w,E)}}function Tp(o,c,f,v){Xa[Jc++]=o,Xa[Jc++]=c,Xa[Jc++]=f,Xa[Jc++]=v,k0|=v,o.lanes|=v,o=o.alternate,o!==null&&(o.lanes|=v)}function M0(o,c,f,v){return Tp(o,c,f,v),Rp(o)}function El(o,c){return Tp(o,null,null,c),Rp(o)}function B2(o,c,f){o.lanes|=f;var v=o.alternate;v!==null&&(v.lanes|=f);for(var w=!1,E=o.return;E!==null;)E.childLanes|=f,v=E.alternate,v!==null&&(v.childLanes|=f),E.tag===22&&(o=E.stateNode,o===null||o._visibility&1||(w=!0)),o=E,E=E.return;return o.tag===3?(E=o.stateNode,w&&c!==null&&(w=31-_n(f),o=E.hiddenUpdates,v=o[w],v===null?o[w]=[c]:v.push(c),c.lane=f|536870912),E):null}function Rp(o){if(50<hf)throw hf=0,Bb=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var eu={};function tU(o,c,f,v){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Da(o,c,f,v){return new tU(o,c,f,v)}function P0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function _o(o,c){var f=o.alternate;return f===null?(f=Da(o.tag,c,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=c,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,c=o.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function H2(o,c){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,c=f.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function _p(o,c,f,v,w,E){var P=0;if(v=o,typeof o=="function")P0(o)&&(P=1);else if(typeof o=="string")P=oB(o,f,J.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case M:return o=Da(31,f,c,w),o.elementType=M,o.lanes=E,o;case x:return Tl(f.children,w,E,c);case C:P=8,w|=24;break;case T:return o=Da(12,f,c,w|2),o.elementType=T,o.lanes=E,o;case A:return o=Da(13,f,c,w),o.elementType=A,o.lanes=E,o;case k:return o=Da(19,f,c,w),o.elementType=k,o.lanes=E,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case R:P=10;break e;case j:P=9;break e;case _:P=11;break e;case D:P=14;break e;case O:P=16,v=null;break e}P=29,f=Error(r(130,o===null?"null":typeof o,"")),v=null}return c=Da(P,f,c,w),c.elementType=o,c.type=v,c.lanes=E,c}function Tl(o,c,f,v){return o=Da(7,o,v,c),o.lanes=f,o}function N0(o,c,f){return o=Da(6,o,null,c),o.lanes=f,o}function F2(o){var c=Da(18,null,null,0);return c.stateNode=o,c}function I0(o,c,f){return c=Da(4,o.children!==null?o.children:[],o.key,c),c.lanes=f,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var V2=new WeakMap;function Za(o,c){if(typeof o=="object"&&o!==null){var f=V2.get(o);return f!==void 0?f:(c={value:o,source:c,stack:Dt(c)},V2.set(o,c),c)}return{value:o,source:c,stack:Dt(c)}}var tu=[],nu=0,Dp=null,Vd=0,Ja=[],ei=0,gs=null,Xi=1,Zi="";function Do(o,c){tu[nu++]=Vd,tu[nu++]=Dp,Dp=o,Vd=c}function W2(o,c,f){Ja[ei++]=Xi,Ja[ei++]=Zi,Ja[ei++]=gs,gs=o;var v=Xi;o=Zi;var w=32-_n(v)-1;v&=~(1<<w),f+=1;var E=32-_n(c)+w;if(30<E){var P=w-w%5;E=(v&(1<<P)-1).toString(32),v>>=P,w-=P,Xi=1<<32-_n(c)+w|f<<w|v,Zi=E+o}else Xi=1<<E|f<<w|v,Zi=o}function L0(o){o.return!==null&&(Do(o,1),W2(o,1,0))}function z0(o){for(;o===Dp;)Dp=tu[--nu],tu[nu]=null,Vd=tu[--nu],tu[nu]=null;for(;o===gs;)gs=Ja[--ei],Ja[ei]=null,Zi=Ja[--ei],Ja[ei]=null,Xi=Ja[--ei],Ja[ei]=null}function G2(o,c){Ja[ei++]=Xi,Ja[ei++]=Zi,Ja[ei++]=gs,Xi=c.id,Zi=c.overflow,gs=o}var Tr=null,mn=null,Bt=!1,vs=null,ti=!1,$0=Error(r(519));function ys(o){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wd(Za(c,o)),$0}function Y2(o){var c=o.stateNode,f=o.type,v=o.memoizedProps;switch(c[ke]=o,c[Ie]=v,f){case"dialog":Nt("cancel",c),Nt("close",c);break;case"iframe":case"object":case"embed":Nt("load",c);break;case"video":case"audio":for(f=0;f<mf.length;f++)Nt(mf[f],c);break;case"source":Nt("error",c);break;case"img":case"image":case"link":Nt("error",c),Nt("load",c);break;case"details":Nt("toggle",c);break;case"input":Nt("invalid",c),s2(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":Nt("invalid",c);break;case"textarea":Nt("invalid",c),c2(c,v.value,v.defaultValue,v.children)}f=v.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||c.textContent===""+f||v.suppressHydrationWarning===!0||dO(c.textContent,f)?(v.popover!=null&&(Nt("beforetoggle",c),Nt("toggle",c)),v.onScroll!=null&&Nt("scroll",c),v.onScrollEnd!=null&&Nt("scrollend",c),v.onClick!=null&&(c.onclick=To),c=!0):c=!1,c||ys(o,!0)}function Q2(o){for(Tr=o.return;Tr;)switch(Tr.tag){case 5:case 31:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:Tr=Tr.return}}function ru(o){if(o!==Tr)return!1;if(!Bt)return Q2(o),Bt=!0,!1;var c=o.tag,f;if((f=c!==3&&c!==27)&&((f=c===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||rx(o.type,o.memoizedProps)),f=!f),f&&mn&&ys(o),Q2(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));mn=xO(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));mn=xO(o)}else c===27?(c=mn,ks(o.type)?(o=lx,lx=null,mn=o):mn=c):mn=Tr?ri(o.stateNode.nextSibling):null;return!0}function Rl(){mn=Tr=null,Bt=!1}function q0(){var o=vs;return o!==null&&(sa===null?sa=o:sa.push.apply(sa,o),vs=null),o}function Wd(o){vs===null?vs=[o]:vs.push(o)}var U0=H(null),_l=null,Ao=null;function bs(o,c,f){Q(U0,c._currentValue),c._currentValue=f}function Oo(o){o._currentValue=U0.current,F(U0)}function B0(o,c,f){for(;o!==null;){var v=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),o===f)break;o=o.return}}function H0(o,c,f,v){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var E=w.dependencies;if(E!==null){var P=w.child;E=E.firstContext;e:for(;E!==null;){var B=E;E=w;for(var Z=0;Z<c.length;Z++)if(B.context===c[Z]){E.lanes|=f,B=E.alternate,B!==null&&(B.lanes|=f),B0(E.return,f,o),v||(P=null);break e}E=B.next}}else if(w.tag===18){if(P=w.return,P===null)throw Error(r(341));P.lanes|=f,E=P.alternate,E!==null&&(E.lanes|=f),B0(P,f,o),P=null}else P=w.child;if(P!==null)P.return=w;else for(P=w;P!==null;){if(P===o){P=null;break}if(w=P.sibling,w!==null){w.return=P.return,P=w;break}P=P.return}w=P}}function au(o,c,f,v){o=null;for(var w=c,E=!1;w!==null;){if(!E){if((w.flags&524288)!==0)E=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var P=w.alternate;if(P===null)throw Error(r(387));if(P=P.memoizedProps,P!==null){var B=w.type;_a(w.pendingProps.value,P.value)||(o!==null?o.push(B):o=[B])}}else if(w===Ee.current){if(P=w.alternate,P===null)throw Error(r(387));P.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(xf):o=[xf])}w=w.return}o!==null&&H0(c,o,f,v),c.flags|=262144}function Ap(o){for(o=o.firstContext;o!==null;){if(!_a(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Dl(o){_l=o,Ao=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Rr(o){return K2(_l,o)}function Op(o,c){return _l===null&&Dl(o),K2(o,c)}function K2(o,c){var f=c._currentValue;if(c={context:c,memoizedValue:f,next:null},Ao===null){if(o===null)throw Error(r(308));Ao=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Ao=Ao.next=c;return f}var nU=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(f,v){o.push(v)}};this.abort=function(){c.aborted=!0,o.forEach(function(f){return f()})}},rU=e.unstable_scheduleCallback,aU=e.unstable_NormalPriority,Xn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function F0(){return{controller:new nU,data:new Map,refCount:0}}function Gd(o){o.refCount--,o.refCount===0&&rU(aU,function(){o.controller.abort()})}var Yd=null,V0=0,iu=0,ou=null;function iU(o,c){if(Yd===null){var f=Yd=[];V0=0,iu=Yb(),ou={status:"pending",value:void 0,then:function(v){f.push(v)}}}return V0++,c.then(X2,X2),c}function X2(){if(--V0===0&&Yd!==null){ou!==null&&(ou.status="fulfilled");var o=Yd;Yd=null,iu=0,ou=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function oU(o,c){var f=[],v={status:"pending",value:null,reason:null,then:function(w){f.push(w)}};return o.then(function(){v.status="fulfilled",v.value=c;for(var w=0;w<f.length;w++)(0,f[w])(c)},function(w){for(v.status="rejected",v.reason=w,w=0;w<f.length;w++)(0,f[w])(void 0)}),v}var Z2=N.S;N.S=function(o,c){NA=lt(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&iU(o,c),Z2!==null&&Z2(o,c)};var Al=H(null);function W0(){var o=Al.current;return o!==null?o:dn.pooledCache}function kp(o,c){c===null?Q(Al,Al.current):Q(Al,c.pool)}function J2(){var o=W0();return o===null?null:{parent:Xn._currentValue,pool:o}}var su=Error(r(460)),G0=Error(r(474)),Mp=Error(r(542)),Pp={then:function(){}};function eD(o){return o=o.status,o==="fulfilled"||o==="rejected"}function tD(o,c,f){switch(f=o[f],f===void 0?o.push(c):f!==c&&(c.then(To,To),c=f),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,rD(o),o;default:if(typeof c.status=="string")c.then(To,To);else{if(o=dn,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(v){if(c.status==="pending"){var w=c;w.status="fulfilled",w.value=v}},function(v){if(c.status==="pending"){var w=c;w.status="rejected",w.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,rD(o),o}throw kl=c,su}}function Ol(o){try{var c=o._init;return c(o._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(kl=f,su):f}}var kl=null;function nD(){if(kl===null)throw Error(r(459));var o=kl;return kl=null,o}function rD(o){if(o===su||o===Mp)throw Error(r(483))}var lu=null,Qd=0;function Np(o){var c=Qd;return Qd+=1,lu===null&&(lu=[]),tD(lu,o,c)}function Kd(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Ip(o,c){throw c.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function aD(o){function c(ie,ee){if(o){var le=ie.deletions;le===null?(ie.deletions=[ee],ie.flags|=16):le.push(ee)}}function f(ie,ee){if(!o)return null;for(;ee!==null;)c(ie,ee),ee=ee.sibling;return null}function v(ie){for(var ee=new Map;ie!==null;)ie.key!==null?ee.set(ie.key,ie):ee.set(ie.index,ie),ie=ie.sibling;return ee}function w(ie,ee){return ie=_o(ie,ee),ie.index=0,ie.sibling=null,ie}function E(ie,ee,le){return ie.index=le,o?(le=ie.alternate,le!==null?(le=le.index,le<ee?(ie.flags|=67108866,ee):le):(ie.flags|=67108866,ee)):(ie.flags|=1048576,ee)}function P(ie){return o&&ie.alternate===null&&(ie.flags|=67108866),ie}function B(ie,ee,le,we){return ee===null||ee.tag!==6?(ee=N0(le,ie.mode,we),ee.return=ie,ee):(ee=w(ee,le),ee.return=ie,ee)}function Z(ie,ee,le,we){var nt=le.type;return nt===x?be(ie,ee,le.props.children,we,le.key):ee!==null&&(ee.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===O&&Ol(nt)===ee.type)?(ee=w(ee,le.props),Kd(ee,le),ee.return=ie,ee):(ee=_p(le.type,le.key,le.props,null,ie.mode,we),Kd(ee,le),ee.return=ie,ee)}function ce(ie,ee,le,we){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==le.containerInfo||ee.stateNode.implementation!==le.implementation?(ee=I0(le,ie.mode,we),ee.return=ie,ee):(ee=w(ee,le.children||[]),ee.return=ie,ee)}function be(ie,ee,le,we,nt){return ee===null||ee.tag!==7?(ee=Tl(le,ie.mode,we,nt),ee.return=ie,ee):(ee=w(ee,le),ee.return=ie,ee)}function je(ie,ee,le){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=N0(""+ee,ie.mode,le),ee.return=ie,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case y:return le=_p(ee.type,ee.key,ee.props,null,ie.mode,le),Kd(le,ee),le.return=ie,le;case S:return ee=I0(ee,ie.mode,le),ee.return=ie,ee;case O:return ee=Ol(ee),je(ie,ee,le)}if(W(ee)||V(ee))return ee=Tl(ee,ie.mode,le,null),ee.return=ie,ee;if(typeof ee.then=="function")return je(ie,Np(ee),le);if(ee.$$typeof===R)return je(ie,Op(ie,ee),le);Ip(ie,ee)}return null}function he(ie,ee,le,we){var nt=ee!==null?ee.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return nt!==null?null:B(ie,ee,""+le,we);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case y:return le.key===nt?Z(ie,ee,le,we):null;case S:return le.key===nt?ce(ie,ee,le,we):null;case O:return le=Ol(le),he(ie,ee,le,we)}if(W(le)||V(le))return nt!==null?null:be(ie,ee,le,we,null);if(typeof le.then=="function")return he(ie,ee,Np(le),we);if(le.$$typeof===R)return he(ie,ee,Op(ie,le),we);Ip(ie,le)}return null}function ge(ie,ee,le,we,nt){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return ie=ie.get(le)||null,B(ee,ie,""+we,nt);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case y:return ie=ie.get(we.key===null?le:we.key)||null,Z(ee,ie,we,nt);case S:return ie=ie.get(we.key===null?le:we.key)||null,ce(ee,ie,we,nt);case O:return we=Ol(we),ge(ie,ee,le,we,nt)}if(W(we)||V(we))return ie=ie.get(le)||null,be(ee,ie,we,nt,null);if(typeof we.then=="function")return ge(ie,ee,le,Np(we),nt);if(we.$$typeof===R)return ge(ie,ee,le,Op(ee,we),nt);Ip(ee,we)}return null}function qe(ie,ee,le,we){for(var nt=null,Qt=null,We=ee,jt=ee=0,zt=null;We!==null&&jt<le.length;jt++){We.index>jt?(zt=We,We=null):zt=We.sibling;var Kt=he(ie,We,le[jt],we);if(Kt===null){We===null&&(We=zt);break}o&&We&&Kt.alternate===null&&c(ie,We),ee=E(Kt,ee,jt),Qt===null?nt=Kt:Qt.sibling=Kt,Qt=Kt,We=zt}if(jt===le.length)return f(ie,We),Bt&&Do(ie,jt),nt;if(We===null){for(;jt<le.length;jt++)We=je(ie,le[jt],we),We!==null&&(ee=E(We,ee,jt),Qt===null?nt=We:Qt.sibling=We,Qt=We);return Bt&&Do(ie,jt),nt}for(We=v(We);jt<le.length;jt++)zt=ge(We,ie,jt,le[jt],we),zt!==null&&(o&&zt.alternate!==null&&We.delete(zt.key===null?jt:zt.key),ee=E(zt,ee,jt),Qt===null?nt=zt:Qt.sibling=zt,Qt=zt);return o&&We.forEach(function(Ls){return c(ie,Ls)}),Bt&&Do(ie,jt),nt}function it(ie,ee,le,we){if(le==null)throw Error(r(151));for(var nt=null,Qt=null,We=ee,jt=ee=0,zt=null,Kt=le.next();We!==null&&!Kt.done;jt++,Kt=le.next()){We.index>jt?(zt=We,We=null):zt=We.sibling;var Ls=he(ie,We,Kt.value,we);if(Ls===null){We===null&&(We=zt);break}o&&We&&Ls.alternate===null&&c(ie,We),ee=E(Ls,ee,jt),Qt===null?nt=Ls:Qt.sibling=Ls,Qt=Ls,We=zt}if(Kt.done)return f(ie,We),Bt&&Do(ie,jt),nt;if(We===null){for(;!Kt.done;jt++,Kt=le.next())Kt=je(ie,Kt.value,we),Kt!==null&&(ee=E(Kt,ee,jt),Qt===null?nt=Kt:Qt.sibling=Kt,Qt=Kt);return Bt&&Do(ie,jt),nt}for(We=v(We);!Kt.done;jt++,Kt=le.next())Kt=ge(We,ie,jt,Kt.value,we),Kt!==null&&(o&&Kt.alternate!==null&&We.delete(Kt.key===null?jt:Kt.key),ee=E(Kt,ee,jt),Qt===null?nt=Kt:Qt.sibling=Kt,Qt=Kt);return o&&We.forEach(function(vB){return c(ie,vB)}),Bt&&Do(ie,jt),nt}function cn(ie,ee,le,we){if(typeof le=="object"&&le!==null&&le.type===x&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case y:e:{for(var nt=le.key;ee!==null;){if(ee.key===nt){if(nt=le.type,nt===x){if(ee.tag===7){f(ie,ee.sibling),we=w(ee,le.props.children),we.return=ie,ie=we;break e}}else if(ee.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===O&&Ol(nt)===ee.type){f(ie,ee.sibling),we=w(ee,le.props),Kd(we,le),we.return=ie,ie=we;break e}f(ie,ee);break}else c(ie,ee);ee=ee.sibling}le.type===x?(we=Tl(le.props.children,ie.mode,we,le.key),we.return=ie,ie=we):(we=_p(le.type,le.key,le.props,null,ie.mode,we),Kd(we,le),we.return=ie,ie=we)}return P(ie);case S:e:{for(nt=le.key;ee!==null;){if(ee.key===nt)if(ee.tag===4&&ee.stateNode.containerInfo===le.containerInfo&&ee.stateNode.implementation===le.implementation){f(ie,ee.sibling),we=w(ee,le.children||[]),we.return=ie,ie=we;break e}else{f(ie,ee);break}else c(ie,ee);ee=ee.sibling}we=I0(le,ie.mode,we),we.return=ie,ie=we}return P(ie);case O:return le=Ol(le),cn(ie,ee,le,we)}if(W(le))return qe(ie,ee,le,we);if(V(le)){if(nt=V(le),typeof nt!="function")throw Error(r(150));return le=nt.call(le),it(ie,ee,le,we)}if(typeof le.then=="function")return cn(ie,ee,Np(le),we);if(le.$$typeof===R)return cn(ie,ee,Op(ie,le),we);Ip(ie,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,ee!==null&&ee.tag===6?(f(ie,ee.sibling),we=w(ee,le),we.return=ie,ie=we):(f(ie,ee),we=N0(le,ie.mode,we),we.return=ie,ie=we),P(ie)):f(ie,ee)}return function(ie,ee,le,we){try{Qd=0;var nt=cn(ie,ee,le,we);return lu=null,nt}catch(We){if(We===su||We===Mp)throw We;var Qt=Da(29,We,null,ie.mode);return Qt.lanes=we,Qt.return=ie,Qt}finally{}}}var Ml=aD(!0),iD=aD(!1),xs=!1;function Y0(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Q0(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Ss(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function ws(o,c,f){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(Xt&2)!==0){var w=v.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),v.pending=c,c=Rp(o),B2(o,null,f),c}return Tp(o,v,c,f),Rp(o)}function Xd(o,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194048)!==0)){var v=c.lanes;v&=o.pendingLanes,f|=v,c.lanes=f,K(o,f)}}function K0(o,c){var f=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,f===v)){var w=null,E=null;if(f=f.firstBaseUpdate,f!==null){do{var P={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};E===null?w=E=P:E=E.next=P,f=f.next}while(f!==null);E===null?w=E=c:E=E.next=c}else w=E=c;f={baseState:v.baseState,firstBaseUpdate:w,lastBaseUpdate:E,shared:v.shared,callbacks:v.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=c}var X0=!1;function Zd(){if(X0){var o=ou;if(o!==null)throw o}}function Jd(o,c,f,v){X0=!1;var w=o.updateQueue;xs=!1;var E=w.firstBaseUpdate,P=w.lastBaseUpdate,B=w.shared.pending;if(B!==null){w.shared.pending=null;var Z=B,ce=Z.next;Z.next=null,P===null?E=ce:P.next=ce,P=Z;var be=o.alternate;be!==null&&(be=be.updateQueue,B=be.lastBaseUpdate,B!==P&&(B===null?be.firstBaseUpdate=ce:B.next=ce,be.lastBaseUpdate=Z))}if(E!==null){var je=w.baseState;P=0,be=ce=Z=null,B=E;do{var he=B.lane&-536870913,ge=he!==B.lane;if(ge?(Lt&he)===he:(v&he)===he){he!==0&&he===iu&&(X0=!0),be!==null&&(be=be.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var qe=o,it=B;he=c;var cn=f;switch(it.tag){case 1:if(qe=it.payload,typeof qe=="function"){je=qe.call(cn,je,he);break e}je=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=it.payload,he=typeof qe=="function"?qe.call(cn,je,he):qe,he==null)break e;je=m({},je,he);break e;case 2:xs=!0}}he=B.callback,he!==null&&(o.flags|=64,ge&&(o.flags|=8192),ge=w.callbacks,ge===null?w.callbacks=[he]:ge.push(he))}else ge={lane:he,tag:B.tag,payload:B.payload,callback:B.callback,next:null},be===null?(ce=be=ge,Z=je):be=be.next=ge,P|=he;if(B=B.next,B===null){if(B=w.shared.pending,B===null)break;ge=B,B=ge.next,ge.next=null,w.lastBaseUpdate=ge,w.shared.pending=null}}while(!0);be===null&&(Z=je),w.baseState=Z,w.firstBaseUpdate=ce,w.lastBaseUpdate=be,E===null&&(w.shared.lanes=0),Rs|=P,o.lanes=P,o.memoizedState=je}}function oD(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function sD(o,c){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)oD(f[o],c)}var cu=H(null),Lp=H(0);function lD(o,c){o=qo,Q(Lp,o),Q(cu,c),qo=o|c.baseLanes}function Z0(){Q(Lp,qo),Q(cu,cu.current)}function J0(){qo=Lp.current,F(cu),F(Lp)}var Aa=H(null),ni=null;function Cs(o){var c=o.alternate;Q(Un,Un.current&1),Q(Aa,o),ni===null&&(c===null||cu.current!==null||c.memoizedState!==null)&&(ni=o)}function eb(o){Q(Un,Un.current),Q(Aa,o),ni===null&&(ni=o)}function cD(o){o.tag===22?(Q(Un,Un.current),Q(Aa,o),ni===null&&(ni=o)):js()}function js(){Q(Un,Un.current),Q(Aa,Aa.current)}function Oa(o){F(Aa),ni===o&&(ni=null),F(Un)}var Un=H(0);function zp(o){for(var c=o;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||ox(f)||sx(f)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var ko=0,St=null,sn=null,Zn=null,$p=!1,uu=!1,Pl=!1,qp=0,ef=0,du=null,sU=0;function Mn(){throw Error(r(321))}function tb(o,c){if(c===null)return!1;for(var f=0;f<c.length&&f<o.length;f++)if(!_a(o[f],c[f]))return!1;return!0}function nb(o,c,f,v,w,E){return ko=E,St=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,N.H=o===null||o.memoizedState===null?WD:vb,Pl=!1,E=f(v,w),Pl=!1,uu&&(E=dD(c,f,v,w)),uD(o),E}function uD(o){N.H=rf;var c=sn!==null&&sn.next!==null;if(ko=0,Zn=sn=St=null,$p=!1,ef=0,du=null,c)throw Error(r(300));o===null||Jn||(o=o.dependencies,o!==null&&Ap(o)&&(Jn=!0))}function dD(o,c,f,v){St=o;var w=0;do{if(uu&&(du=null),ef=0,uu=!1,25<=w)throw Error(r(301));if(w+=1,Zn=sn=null,o.updateQueue!=null){var E=o.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}N.H=GD,E=c(f,v)}while(uu);return E}function lU(){var o=N.H,c=o.useState()[0];return c=typeof c.then=="function"?tf(c):c,o=o.useState()[0],(sn!==null?sn.memoizedState:null)!==o&&(St.flags|=1024),c}function rb(){var o=qp!==0;return qp=0,o}function ab(o,c,f){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~f}function ib(o){if($p){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}$p=!1}ko=0,Zn=sn=St=null,uu=!1,ef=qp=0,du=null}function Yr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?St.memoizedState=Zn=o:Zn=Zn.next=o,Zn}function Bn(){if(sn===null){var o=St.alternate;o=o!==null?o.memoizedState:null}else o=sn.next;var c=Zn===null?St.memoizedState:Zn.next;if(c!==null)Zn=c,sn=o;else{if(o===null)throw St.alternate===null?Error(r(467)):Error(r(310));sn=o,o={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},Zn===null?St.memoizedState=Zn=o:Zn=Zn.next=o}return Zn}function Up(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tf(o){var c=ef;return ef+=1,du===null&&(du=[]),o=tD(du,o,c),c=St,(Zn===null?c.memoizedState:Zn.next)===null&&(c=c.alternate,N.H=c===null||c.memoizedState===null?WD:vb),o}function Bp(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return tf(o);if(o.$$typeof===R)return Rr(o)}throw Error(r(438,String(o)))}function ob(o){var c=null,f=St.updateQueue;if(f!==null&&(c=f.memoCache),c==null){var v=St.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(w){return w.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),f===null&&(f=Up(),St.updateQueue=f),f.memoCache=c,f=c.data[c.index],f===void 0)for(f=c.data[c.index]=Array(o),v=0;v<o;v++)f[v]=I;return c.index++,f}function Mo(o,c){return typeof c=="function"?c(o):c}function Hp(o){var c=Bn();return sb(c,sn,o)}function sb(o,c,f){var v=o.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=f;var w=o.baseQueue,E=v.pending;if(E!==null){if(w!==null){var P=w.next;w.next=E.next,E.next=P}c.baseQueue=w=E,v.pending=null}if(E=o.baseState,w===null)o.memoizedState=E;else{c=w.next;var B=P=null,Z=null,ce=c,be=!1;do{var je=ce.lane&-536870913;if(je!==ce.lane?(Lt&je)===je:(ko&je)===je){var he=ce.revertLane;if(he===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),je===iu&&(be=!0);else if((ko&he)===he){ce=ce.next,he===iu&&(be=!0);continue}else je={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},Z===null?(B=Z=je,P=E):Z=Z.next=je,St.lanes|=he,Rs|=he;je=ce.action,Pl&&f(E,je),E=ce.hasEagerState?ce.eagerState:f(E,je)}else he={lane:je,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},Z===null?(B=Z=he,P=E):Z=Z.next=he,St.lanes|=je,Rs|=je;ce=ce.next}while(ce!==null&&ce!==c);if(Z===null?P=E:Z.next=B,!_a(E,o.memoizedState)&&(Jn=!0,be&&(f=ou,f!==null)))throw f;o.memoizedState=E,o.baseState=P,o.baseQueue=Z,v.lastRenderedState=E}return w===null&&(v.lanes=0),[o.memoizedState,v.dispatch]}function lb(o){var c=Bn(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var v=f.dispatch,w=f.pending,E=c.memoizedState;if(w!==null){f.pending=null;var P=w=w.next;do E=o(E,P.action),P=P.next;while(P!==w);_a(E,c.memoizedState)||(Jn=!0),c.memoizedState=E,c.baseQueue===null&&(c.baseState=E),f.lastRenderedState=E}return[E,v]}function fD(o,c,f){var v=St,w=Bn(),E=Bt;if(E){if(f===void 0)throw Error(r(407));f=f()}else f=c();var P=!_a((sn||w).memoizedState,f);if(P&&(w.memoizedState=f,Jn=!0),w=w.queue,db(mD.bind(null,v,w,o),[o]),w.getSnapshot!==c||P||Zn!==null&&Zn.memoizedState.tag&1){if(v.flags|=2048,fu(9,{destroy:void 0},pD.bind(null,v,w,f,c),null),dn===null)throw Error(r(349));E||(ko&127)!==0||hD(v,c,f)}return f}function hD(o,c,f){o.flags|=16384,o={getSnapshot:c,value:f},c=St.updateQueue,c===null?(c=Up(),St.updateQueue=c,c.stores=[o]):(f=c.stores,f===null?c.stores=[o]:f.push(o))}function pD(o,c,f,v){c.value=f,c.getSnapshot=v,gD(c)&&vD(o)}function mD(o,c,f){return f(function(){gD(c)&&vD(o)})}function gD(o){var c=o.getSnapshot;o=o.value;try{var f=c();return!_a(o,f)}catch{return!0}}function vD(o){var c=El(o,2);c!==null&&la(c,o,2)}function cb(o){var c=Yr();if(typeof o=="function"){var f=o;if(o=f(),Pl){Ir(!0);try{f()}finally{Ir(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:o},c}function yD(o,c,f,v){return o.baseState=f,sb(o,sn,typeof v=="function"?v:Mo)}function cU(o,c,f,v,w){if(Wp(o))throw Error(r(485));if(o=c.action,o!==null){var E={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){E.listeners.push(P)}};N.T!==null?f(!0):E.isTransition=!1,v(E),f=c.pending,f===null?(E.next=c.pending=E,bD(c,E)):(E.next=f.next,c.pending=f.next=E)}}function bD(o,c){var f=c.action,v=c.payload,w=o.state;if(c.isTransition){var E=N.T,P={};N.T=P;try{var B=f(w,v),Z=N.S;Z!==null&&Z(P,B),xD(o,c,B)}catch(ce){ub(o,c,ce)}finally{E!==null&&P.types!==null&&(E.types=P.types),N.T=E}}else try{E=f(w,v),xD(o,c,E)}catch(ce){ub(o,c,ce)}}function xD(o,c,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(v){SD(o,c,v)},function(v){return ub(o,c,v)}):SD(o,c,f)}function SD(o,c,f){c.status="fulfilled",c.value=f,wD(c),o.state=f,c=o.pending,c!==null&&(f=c.next,f===c?o.pending=null:(f=f.next,c.next=f,bD(o,f)))}function ub(o,c,f){var v=o.pending;if(o.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=f,wD(c),c=c.next;while(c!==v)}o.action=null}function wD(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function CD(o,c){return c}function jD(o,c){if(Bt){var f=dn.formState;if(f!==null){e:{var v=St;if(Bt){if(mn){t:{for(var w=mn,E=ti;w.nodeType!==8;){if(!E){w=null;break t}if(w=ri(w.nextSibling),w===null){w=null;break t}}E=w.data,w=E==="F!"||E==="F"?w:null}if(w){mn=ri(w.nextSibling),v=w.data==="F!";break e}}ys(v)}v=!1}v&&(c=f[0])}}return f=Yr(),f.memoizedState=f.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:CD,lastRenderedState:c},f.queue=v,f=HD.bind(null,St,v),v.dispatch=f,v=cb(!1),E=gb.bind(null,St,!1,v.queue),v=Yr(),w={state:c,dispatch:null,action:o,pending:null},v.queue=w,f=cU.bind(null,St,w,E,f),w.dispatch=f,v.memoizedState=o,[c,f,!1]}function ED(o){var c=Bn();return TD(c,sn,o)}function TD(o,c,f){if(c=sb(o,c,CD)[0],o=Hp(Mo)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=tf(c)}catch(P){throw P===su?Mp:P}else v=c;c=Bn();var w=c.queue,E=w.dispatch;return f!==c.memoizedState&&(St.flags|=2048,fu(9,{destroy:void 0},uU.bind(null,w,f),null)),[v,E,o]}function uU(o,c){o.action=c}function RD(o){var c=Bn(),f=sn;if(f!==null)return TD(c,f,o);Bn(),c=c.memoizedState,f=Bn();var v=f.queue.dispatch;return f.memoizedState=o,[c,v,!1]}function fu(o,c,f,v){return o={tag:o,create:f,deps:v,inst:c,next:null},c=St.updateQueue,c===null&&(c=Up(),St.updateQueue=c),f=c.lastEffect,f===null?c.lastEffect=o.next=o:(v=f.next,f.next=o,o.next=v,c.lastEffect=o),o}function _D(){return Bn().memoizedState}function Fp(o,c,f,v){var w=Yr();St.flags|=o,w.memoizedState=fu(1|c,{destroy:void 0},f,v===void 0?null:v)}function Vp(o,c,f,v){var w=Bn();v=v===void 0?null:v;var E=w.memoizedState.inst;sn!==null&&v!==null&&tb(v,sn.memoizedState.deps)?w.memoizedState=fu(c,E,f,v):(St.flags|=o,w.memoizedState=fu(1|c,E,f,v))}function DD(o,c){Fp(8390656,8,o,c)}function db(o,c){Vp(2048,8,o,c)}function dU(o){St.flags|=4;var c=St.updateQueue;if(c===null)c=Up(),St.updateQueue=c,c.events=[o];else{var f=c.events;f===null?c.events=[o]:f.push(o)}}function AD(o){var c=Bn().memoizedState;return dU({ref:c,nextImpl:o}),function(){if((Xt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function OD(o,c){return Vp(4,2,o,c)}function kD(o,c){return Vp(4,4,o,c)}function MD(o,c){if(typeof c=="function"){o=o();var f=c(o);return function(){typeof f=="function"?f():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function PD(o,c,f){f=f!=null?f.concat([o]):null,Vp(4,4,MD.bind(null,c,o),f)}function fb(){}function ND(o,c){var f=Bn();c=c===void 0?null:c;var v=f.memoizedState;return c!==null&&tb(c,v[1])?v[0]:(f.memoizedState=[o,c],o)}function ID(o,c){var f=Bn();c=c===void 0?null:c;var v=f.memoizedState;if(c!==null&&tb(c,v[1]))return v[0];if(v=o(),Pl){Ir(!0);try{o()}finally{Ir(!1)}}return f.memoizedState=[v,c],v}function hb(o,c,f){return f===void 0||(ko&1073741824)!==0&&(Lt&261930)===0?o.memoizedState=c:(o.memoizedState=f,o=LA(),St.lanes|=o,Rs|=o,f)}function LD(o,c,f,v){return _a(f,c)?f:cu.current!==null?(o=hb(o,f,v),_a(o,c)||(Jn=!0),o):(ko&42)===0||(ko&1073741824)!==0&&(Lt&261930)===0?(Jn=!0,o.memoizedState=f):(o=LA(),St.lanes|=o,Rs|=o,c)}function zD(o,c,f,v,w){var E=z.p;z.p=E!==0&&8>E?E:8;var P=N.T,B={};N.T=B,gb(o,!1,c,f);try{var Z=w(),ce=N.S;if(ce!==null&&ce(B,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var be=oU(Z,v);nf(o,c,be,Pa(o))}else nf(o,c,v,Pa(o))}catch(je){nf(o,c,{then:function(){},status:"rejected",reason:je},Pa())}finally{z.p=E,P!==null&&B.types!==null&&(P.types=B.types),N.T=P}}function fU(){}function pb(o,c,f,v){if(o.tag!==5)throw Error(r(476));var w=$D(o).queue;zD(o,w,c,$,f===null?fU:function(){return qD(o),f(v)})}function $D(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:$},next:null};var f={};return c.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:f},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function qD(o){var c=$D(o);c.next===null&&(c=o.alternate.memoizedState),nf(o,c.next.queue,{},Pa())}function mb(){return Rr(xf)}function UD(){return Bn().memoizedState}function BD(){return Bn().memoizedState}function hU(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var f=Pa();o=Ss(f);var v=ws(c,o,f);v!==null&&(la(v,c,f),Xd(v,c,f)),c={cache:F0()},o.payload=c;return}c=c.return}}function pU(o,c,f){var v=Pa();f={lane:v,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Wp(o)?FD(c,f):(f=M0(o,c,f,v),f!==null&&(la(f,o,v),VD(f,c,v)))}function HD(o,c,f){var v=Pa();nf(o,c,f,v)}function nf(o,c,f,v){var w={lane:v,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(Wp(o))FD(c,w);else{var E=o.alternate;if(o.lanes===0&&(E===null||E.lanes===0)&&(E=c.lastRenderedReducer,E!==null))try{var P=c.lastRenderedState,B=E(P,f);if(w.hasEagerState=!0,w.eagerState=B,_a(B,P))return Tp(o,c,w,0),dn===null&&Ep(),!1}catch{}finally{}if(f=M0(o,c,w,v),f!==null)return la(f,o,v),VD(f,c,v),!0}return!1}function gb(o,c,f,v){if(v={lane:2,revertLane:Yb(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},Wp(o)){if(c)throw Error(r(479))}else c=M0(o,f,v,2),c!==null&&la(c,o,2)}function Wp(o){var c=o.alternate;return o===St||c!==null&&c===St}function FD(o,c){uu=$p=!0;var f=o.pending;f===null?c.next=c:(c.next=f.next,f.next=c),o.pending=c}function VD(o,c,f){if((f&4194048)!==0){var v=c.lanes;v&=o.pendingLanes,f|=v,c.lanes=f,K(o,f)}}var rf={readContext:Rr,use:Bp,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useLayoutEffect:Mn,useInsertionEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useSyncExternalStore:Mn,useId:Mn,useHostTransitionStatus:Mn,useFormState:Mn,useActionState:Mn,useOptimistic:Mn,useMemoCache:Mn,useCacheRefresh:Mn};rf.useEffectEvent=Mn;var WD={readContext:Rr,use:Bp,useCallback:function(o,c){return Yr().memoizedState=[o,c===void 0?null:c],o},useContext:Rr,useEffect:DD,useImperativeHandle:function(o,c,f){f=f!=null?f.concat([o]):null,Fp(4194308,4,MD.bind(null,c,o),f)},useLayoutEffect:function(o,c){return Fp(4194308,4,o,c)},useInsertionEffect:function(o,c){Fp(4,2,o,c)},useMemo:function(o,c){var f=Yr();c=c===void 0?null:c;var v=o();if(Pl){Ir(!0);try{o()}finally{Ir(!1)}}return f.memoizedState=[v,c],v},useReducer:function(o,c,f){var v=Yr();if(f!==void 0){var w=f(c);if(Pl){Ir(!0);try{f(c)}finally{Ir(!1)}}}else w=c;return v.memoizedState=v.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},v.queue=o,o=o.dispatch=pU.bind(null,St,o),[v.memoizedState,o]},useRef:function(o){var c=Yr();return o={current:o},c.memoizedState=o},useState:function(o){o=cb(o);var c=o.queue,f=HD.bind(null,St,c);return c.dispatch=f,[o.memoizedState,f]},useDebugValue:fb,useDeferredValue:function(o,c){var f=Yr();return hb(f,o,c)},useTransition:function(){var o=cb(!1);return o=zD.bind(null,St,o.queue,!0,!1),Yr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,f){var v=St,w=Yr();if(Bt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=c(),dn===null)throw Error(r(349));(Lt&127)!==0||hD(v,c,f)}w.memoizedState=f;var E={value:f,getSnapshot:c};return w.queue=E,DD(mD.bind(null,v,E,o),[o]),v.flags|=2048,fu(9,{destroy:void 0},pD.bind(null,v,E,f,c),null),f},useId:function(){var o=Yr(),c=dn.identifierPrefix;if(Bt){var f=Zi,v=Xi;f=(v&~(1<<32-_n(v)-1)).toString(32)+f,c="_"+c+"R_"+f,f=qp++,0<f&&(c+="H"+f.toString(32)),c+="_"}else f=sU++,c="_"+c+"r_"+f.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:mb,useFormState:jD,useActionState:jD,useOptimistic:function(o){var c=Yr();c.memoizedState=c.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=f,c=gb.bind(null,St,!0,f),f.dispatch=c,[o,c]},useMemoCache:ob,useCacheRefresh:function(){return Yr().memoizedState=hU.bind(null,St)},useEffectEvent:function(o){var c=Yr(),f={impl:o};return c.memoizedState=f,function(){if((Xt&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},vb={readContext:Rr,use:Bp,useCallback:ND,useContext:Rr,useEffect:db,useImperativeHandle:PD,useInsertionEffect:OD,useLayoutEffect:kD,useMemo:ID,useReducer:Hp,useRef:_D,useState:function(){return Hp(Mo)},useDebugValue:fb,useDeferredValue:function(o,c){var f=Bn();return LD(f,sn.memoizedState,o,c)},useTransition:function(){var o=Hp(Mo)[0],c=Bn().memoizedState;return[typeof o=="boolean"?o:tf(o),c]},useSyncExternalStore:fD,useId:UD,useHostTransitionStatus:mb,useFormState:ED,useActionState:ED,useOptimistic:function(o,c){var f=Bn();return yD(f,sn,o,c)},useMemoCache:ob,useCacheRefresh:BD};vb.useEffectEvent=AD;var GD={readContext:Rr,use:Bp,useCallback:ND,useContext:Rr,useEffect:db,useImperativeHandle:PD,useInsertionEffect:OD,useLayoutEffect:kD,useMemo:ID,useReducer:lb,useRef:_D,useState:function(){return lb(Mo)},useDebugValue:fb,useDeferredValue:function(o,c){var f=Bn();return sn===null?hb(f,o,c):LD(f,sn.memoizedState,o,c)},useTransition:function(){var o=lb(Mo)[0],c=Bn().memoizedState;return[typeof o=="boolean"?o:tf(o),c]},useSyncExternalStore:fD,useId:UD,useHostTransitionStatus:mb,useFormState:RD,useActionState:RD,useOptimistic:function(o,c){var f=Bn();return sn!==null?yD(f,sn,o,c):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:ob,useCacheRefresh:BD};GD.useEffectEvent=AD;function yb(o,c,f,v){c=o.memoizedState,f=f(v,c),f=f==null?c:m({},c,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var bb={enqueueSetState:function(o,c,f){o=o._reactInternals;var v=Pa(),w=Ss(v);w.payload=c,f!=null&&(w.callback=f),c=ws(o,w,v),c!==null&&(la(c,o,v),Xd(c,o,v))},enqueueReplaceState:function(o,c,f){o=o._reactInternals;var v=Pa(),w=Ss(v);w.tag=1,w.payload=c,f!=null&&(w.callback=f),c=ws(o,w,v),c!==null&&(la(c,o,v),Xd(c,o,v))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var f=Pa(),v=Ss(f);v.tag=2,c!=null&&(v.callback=c),c=ws(o,v,f),c!==null&&(la(c,o,f),Xd(c,o,f))}};function YD(o,c,f,v,w,E,P){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,E,P):c.prototype&&c.prototype.isPureReactComponent?!Hd(f,v)||!Hd(w,E):!0}function QD(o,c,f,v){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,v),c.state!==o&&bb.enqueueReplaceState(c,c.state,null)}function Nl(o,c){var f=c;if("ref"in c){f={};for(var v in c)v!=="ref"&&(f[v]=c[v])}if(o=o.defaultProps){f===c&&(f=m({},f));for(var w in o)f[w]===void 0&&(f[w]=o[w])}return f}function KD(o){jp(o)}function XD(o){console.error(o)}function ZD(o){jp(o)}function Gp(o,c){try{var f=o.onUncaughtError;f(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function JD(o,c,f){try{var v=o.onCaughtError;v(f.value,{componentStack:f.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function xb(o,c,f){return f=Ss(f),f.tag=3,f.payload={element:null},f.callback=function(){Gp(o,c)},f}function eA(o){return o=Ss(o),o.tag=3,o}function tA(o,c,f,v){var w=f.type.getDerivedStateFromError;if(typeof w=="function"){var E=v.value;o.payload=function(){return w(E)},o.callback=function(){JD(c,f,v)}}var P=f.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(o.callback=function(){JD(c,f,v),typeof w!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var B=v.stack;this.componentDidCatch(v.value,{componentStack:B!==null?B:""})})}function mU(o,c,f,v,w){if(f.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=f.alternate,c!==null&&au(c,f,w,!0),f=Aa.current,f!==null){switch(f.tag){case 31:case 13:return ni===null?im():f.alternate===null&&Pn===0&&(Pn=3),f.flags&=-257,f.flags|=65536,f.lanes=w,v===Pp?f.flags|=16384:(c=f.updateQueue,c===null?f.updateQueue=new Set([v]):c.add(v),Vb(o,v,w)),!1;case 22:return f.flags|=65536,v===Pp?f.flags|=16384:(c=f.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},f.updateQueue=c):(f=c.retryQueue,f===null?c.retryQueue=new Set([v]):f.add(v)),Vb(o,v,w)),!1}throw Error(r(435,f.tag))}return Vb(o,v,w),im(),!1}if(Bt)return c=Aa.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=w,v!==$0&&(o=Error(r(422),{cause:v}),Wd(Za(o,f)))):(v!==$0&&(c=Error(r(423),{cause:v}),Wd(Za(c,f))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,v=Za(v,f),w=xb(o.stateNode,v,w),K0(o,w),Pn!==4&&(Pn=2)),!1;var E=Error(r(520),{cause:v});if(E=Za(E,f),ff===null?ff=[E]:ff.push(E),Pn!==4&&(Pn=2),c===null)return!0;v=Za(v,f),f=c;do{switch(f.tag){case 3:return f.flags|=65536,o=w&-w,f.lanes|=o,o=xb(f.stateNode,v,o),K0(f,o),!1;case 1:if(c=f.type,E=f.stateNode,(f.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(_s===null||!_s.has(E))))return f.flags|=65536,w&=-w,f.lanes|=w,w=eA(w),tA(w,o,f,v),K0(f,w),!1}f=f.return}while(f!==null);return!1}var Sb=Error(r(461)),Jn=!1;function _r(o,c,f,v){c.child=o===null?iD(c,null,f,v):Ml(c,o.child,f,v)}function nA(o,c,f,v,w){f=f.render;var E=c.ref;if("ref"in v){var P={};for(var B in v)B!=="ref"&&(P[B]=v[B])}else P=v;return Dl(c),v=nb(o,c,f,P,E,w),B=rb(),o!==null&&!Jn?(ab(o,c,w),Po(o,c,w)):(Bt&&B&&L0(c),c.flags|=1,_r(o,c,v,w),c.child)}function rA(o,c,f,v,w){if(o===null){var E=f.type;return typeof E=="function"&&!P0(E)&&E.defaultProps===void 0&&f.compare===null?(c.tag=15,c.type=E,aA(o,c,E,v,w)):(o=_p(f.type,null,v,c,c.mode,w),o.ref=c.ref,o.return=c,c.child=o)}if(E=o.child,!Db(o,w)){var P=E.memoizedProps;if(f=f.compare,f=f!==null?f:Hd,f(P,v)&&o.ref===c.ref)return Po(o,c,w)}return c.flags|=1,o=_o(E,v),o.ref=c.ref,o.return=c,c.child=o}function aA(o,c,f,v,w){if(o!==null){var E=o.memoizedProps;if(Hd(E,v)&&o.ref===c.ref)if(Jn=!1,c.pendingProps=v=E,Db(o,w))(o.flags&131072)!==0&&(Jn=!0);else return c.lanes=o.lanes,Po(o,c,w)}return wb(o,c,f,v,w)}function iA(o,c,f,v){var w=v.children,E=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((c.flags&128)!==0){if(E=E!==null?E.baseLanes|f:f,o!==null){for(v=c.child=o.child,w=0;v!==null;)w=w|v.lanes|v.childLanes,v=v.sibling;v=w&~E}else v=0,c.child=null;return oA(o,c,E,f,v)}if((f&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&kp(c,E!==null?E.cachePool:null),E!==null?lD(c,E):Z0(),cD(c);else return v=c.lanes=536870912,oA(o,c,E!==null?E.baseLanes|f:f,f,v)}else E!==null?(kp(c,E.cachePool),lD(c,E),js(),c.memoizedState=null):(o!==null&&kp(c,null),Z0(),js());return _r(o,c,w,f),c.child}function af(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function oA(o,c,f,v,w){var E=W0();return E=E===null?null:{parent:Xn._currentValue,pool:E},c.memoizedState={baseLanes:f,cachePool:E},o!==null&&kp(c,null),Z0(),cD(c),o!==null&&au(o,c,v,!0),c.childLanes=w,null}function Yp(o,c){return c=Kp({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function sA(o,c,f){return Ml(c,o.child,null,f),o=Yp(c,c.pendingProps),o.flags|=2,Oa(c),c.memoizedState=null,o}function gU(o,c,f){var v=c.pendingProps,w=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(Bt){if(v.mode==="hidden")return o=Yp(c,v),c.lanes=536870912,af(null,o);if(eb(c),(o=mn)?(o=bO(o,ti),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:gs!==null?{id:Xi,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},f=F2(o),f.return=c,c.child=f,Tr=c,mn=null)):o=null,o===null)throw ys(c);return c.lanes=536870912,null}return Yp(c,v)}var E=o.memoizedState;if(E!==null){var P=E.dehydrated;if(eb(c),w)if(c.flags&256)c.flags&=-257,c=sA(o,c,f);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(r(558));else if(Jn||au(o,c,f,!1),w=(f&o.childLanes)!==0,Jn||w){if(v=dn,v!==null&&(P=ae(v,f),P!==0&&P!==E.retryLane))throw E.retryLane=P,El(o,P),la(v,o,P),Sb;im(),c=sA(o,c,f)}else o=E.treeContext,mn=ri(P.nextSibling),Tr=c,Bt=!0,vs=null,ti=!1,o!==null&&G2(c,o),c=Yp(c,v),c.flags|=4096;return c}return o=_o(o.child,{mode:v.mode,children:v.children}),o.ref=c.ref,c.child=o,o.return=c,o}function Qp(o,c){var f=c.ref;if(f===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(c.flags|=4194816)}}function wb(o,c,f,v,w){return Dl(c),f=nb(o,c,f,v,void 0,w),v=rb(),o!==null&&!Jn?(ab(o,c,w),Po(o,c,w)):(Bt&&v&&L0(c),c.flags|=1,_r(o,c,f,w),c.child)}function lA(o,c,f,v,w,E){return Dl(c),c.updateQueue=null,f=dD(c,v,f,w),uD(o),v=rb(),o!==null&&!Jn?(ab(o,c,E),Po(o,c,E)):(Bt&&v&&L0(c),c.flags|=1,_r(o,c,f,E),c.child)}function cA(o,c,f,v,w){if(Dl(c),c.stateNode===null){var E=eu,P=f.contextType;typeof P=="object"&&P!==null&&(E=Rr(P)),E=new f(v,E),c.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=bb,c.stateNode=E,E._reactInternals=c,E=c.stateNode,E.props=v,E.state=c.memoizedState,E.refs={},Y0(c),P=f.contextType,E.context=typeof P=="object"&&P!==null?Rr(P):eu,E.state=c.memoizedState,P=f.getDerivedStateFromProps,typeof P=="function"&&(yb(c,f,P,v),E.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(P=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),P!==E.state&&bb.enqueueReplaceState(E,E.state,null),Jd(c,v,E,w),Zd(),E.state=c.memoizedState),typeof E.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(o===null){E=c.stateNode;var B=c.memoizedProps,Z=Nl(f,B);E.props=Z;var ce=E.context,be=f.contextType;P=eu,typeof be=="object"&&be!==null&&(P=Rr(be));var je=f.getDerivedStateFromProps;be=typeof je=="function"||typeof E.getSnapshotBeforeUpdate=="function",B=c.pendingProps!==B,be||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(B||ce!==P)&&QD(c,E,v,P),xs=!1;var he=c.memoizedState;E.state=he,Jd(c,v,E,w),Zd(),ce=c.memoizedState,B||he!==ce||xs?(typeof je=="function"&&(yb(c,f,je,v),ce=c.memoizedState),(Z=xs||YD(c,f,Z,v,he,ce,P))?(be||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(c.flags|=4194308)):(typeof E.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=ce),E.props=v,E.state=ce,E.context=P,v=Z):(typeof E.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{E=c.stateNode,Q0(o,c),P=c.memoizedProps,be=Nl(f,P),E.props=be,je=c.pendingProps,he=E.context,ce=f.contextType,Z=eu,typeof ce=="object"&&ce!==null&&(Z=Rr(ce)),B=f.getDerivedStateFromProps,(ce=typeof B=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P!==je||he!==Z)&&QD(c,E,v,Z),xs=!1,he=c.memoizedState,E.state=he,Jd(c,v,E,w),Zd();var ge=c.memoizedState;P!==je||he!==ge||xs||o!==null&&o.dependencies!==null&&Ap(o.dependencies)?(typeof B=="function"&&(yb(c,f,B,v),ge=c.memoizedState),(be=xs||YD(c,f,be,v,he,ge,Z)||o!==null&&o.dependencies!==null&&Ap(o.dependencies))?(ce||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(v,ge,Z),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(v,ge,Z)),typeof E.componentDidUpdate=="function"&&(c.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof E.componentDidUpdate!="function"||P===o.memoizedProps&&he===o.memoizedState||(c.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===o.memoizedProps&&he===o.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=ge),E.props=v,E.state=ge,E.context=Z,v=be):(typeof E.componentDidUpdate!="function"||P===o.memoizedProps&&he===o.memoizedState||(c.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===o.memoizedProps&&he===o.memoizedState||(c.flags|=1024),v=!1)}return E=v,Qp(o,c),v=(c.flags&128)!==0,E||v?(E=c.stateNode,f=v&&typeof f.getDerivedStateFromError!="function"?null:E.render(),c.flags|=1,o!==null&&v?(c.child=Ml(c,o.child,null,w),c.child=Ml(c,null,f,w)):_r(o,c,f,w),c.memoizedState=E.state,o=c.child):o=Po(o,c,w),o}function uA(o,c,f,v){return Rl(),c.flags|=256,_r(o,c,f,v),c.child}var Cb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jb(o){return{baseLanes:o,cachePool:J2()}}function Eb(o,c,f){return o=o!==null?o.childLanes&~f:0,c&&(o|=Ma),o}function dA(o,c,f){var v=c.pendingProps,w=!1,E=(c.flags&128)!==0,P;if((P=E)||(P=o!==null&&o.memoizedState===null?!1:(Un.current&2)!==0),P&&(w=!0,c.flags&=-129),P=(c.flags&32)!==0,c.flags&=-33,o===null){if(Bt){if(w?Cs(c):js(),(o=mn)?(o=bO(o,ti),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:gs!==null?{id:Xi,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},f=F2(o),f.return=c,c.child=f,Tr=c,mn=null)):o=null,o===null)throw ys(c);return sx(o)?c.lanes=32:c.lanes=536870912,null}var B=v.children;return v=v.fallback,w?(js(),w=c.mode,B=Kp({mode:"hidden",children:B},w),v=Tl(v,w,f,null),B.return=c,v.return=c,B.sibling=v,c.child=B,v=c.child,v.memoizedState=jb(f),v.childLanes=Eb(o,P,f),c.memoizedState=Cb,af(null,v)):(Cs(c),Tb(c,B))}var Z=o.memoizedState;if(Z!==null&&(B=Z.dehydrated,B!==null)){if(E)c.flags&256?(Cs(c),c.flags&=-257,c=Rb(o,c,f)):c.memoizedState!==null?(js(),c.child=o.child,c.flags|=128,c=null):(js(),B=v.fallback,w=c.mode,v=Kp({mode:"visible",children:v.children},w),B=Tl(B,w,f,null),B.flags|=2,v.return=c,B.return=c,v.sibling=B,c.child=v,Ml(c,o.child,null,f),v=c.child,v.memoizedState=jb(f),v.childLanes=Eb(o,P,f),c.memoizedState=Cb,c=af(null,v));else if(Cs(c),sx(B)){if(P=B.nextSibling&&B.nextSibling.dataset,P)var ce=P.dgst;P=ce,v=Error(r(419)),v.stack="",v.digest=P,Wd({value:v,source:null,stack:null}),c=Rb(o,c,f)}else if(Jn||au(o,c,f,!1),P=(f&o.childLanes)!==0,Jn||P){if(P=dn,P!==null&&(v=ae(P,f),v!==0&&v!==Z.retryLane))throw Z.retryLane=v,El(o,v),la(P,o,v),Sb;ox(B)||im(),c=Rb(o,c,f)}else ox(B)?(c.flags|=192,c.child=o.child,c=null):(o=Z.treeContext,mn=ri(B.nextSibling),Tr=c,Bt=!0,vs=null,ti=!1,o!==null&&G2(c,o),c=Tb(c,v.children),c.flags|=4096);return c}return w?(js(),B=v.fallback,w=c.mode,Z=o.child,ce=Z.sibling,v=_o(Z,{mode:"hidden",children:v.children}),v.subtreeFlags=Z.subtreeFlags&65011712,ce!==null?B=_o(ce,B):(B=Tl(B,w,f,null),B.flags|=2),B.return=c,v.return=c,v.sibling=B,c.child=v,af(null,v),v=c.child,B=o.child.memoizedState,B===null?B=jb(f):(w=B.cachePool,w!==null?(Z=Xn._currentValue,w=w.parent!==Z?{parent:Z,pool:Z}:w):w=J2(),B={baseLanes:B.baseLanes|f,cachePool:w}),v.memoizedState=B,v.childLanes=Eb(o,P,f),c.memoizedState=Cb,af(o.child,v)):(Cs(c),f=o.child,o=f.sibling,f=_o(f,{mode:"visible",children:v.children}),f.return=c,f.sibling=null,o!==null&&(P=c.deletions,P===null?(c.deletions=[o],c.flags|=16):P.push(o)),c.child=f,c.memoizedState=null,f)}function Tb(o,c){return c=Kp({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Kp(o,c){return o=Da(22,o,null,c),o.lanes=0,o}function Rb(o,c,f){return Ml(c,o.child,null,f),o=Tb(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function fA(o,c,f){o.lanes|=c;var v=o.alternate;v!==null&&(v.lanes|=c),B0(o.return,c,f)}function _b(o,c,f,v,w,E){var P=o.memoizedState;P===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:f,tailMode:w,treeForkCount:E}:(P.isBackwards=c,P.rendering=null,P.renderingStartTime=0,P.last=v,P.tail=f,P.tailMode=w,P.treeForkCount=E)}function hA(o,c,f){var v=c.pendingProps,w=v.revealOrder,E=v.tail;v=v.children;var P=Un.current,B=(P&2)!==0;if(B?(P=P&1|2,c.flags|=128):P&=1,Q(Un,P),_r(o,c,v,f),v=Bt?Vd:0,!B&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&fA(o,f,c);else if(o.tag===19)fA(o,f,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(w){case"forwards":for(f=c.child,w=null;f!==null;)o=f.alternate,o!==null&&zp(o)===null&&(w=f),f=f.sibling;f=w,f===null?(w=c.child,c.child=null):(w=f.sibling,f.sibling=null),_b(c,!1,w,f,E,v);break;case"backwards":case"unstable_legacy-backwards":for(f=null,w=c.child,c.child=null;w!==null;){if(o=w.alternate,o!==null&&zp(o)===null){c.child=w;break}o=w.sibling,w.sibling=f,f=w,w=o}_b(c,!0,f,null,E,v);break;case"together":_b(c,!1,null,null,void 0,v);break;default:c.memoizedState=null}return c.child}function Po(o,c,f){if(o!==null&&(c.dependencies=o.dependencies),Rs|=c.lanes,(f&c.childLanes)===0)if(o!==null){if(au(o,c,f,!1),(f&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,f=_o(o,o.pendingProps),c.child=f,f.return=c;o.sibling!==null;)o=o.sibling,f=f.sibling=_o(o,o.pendingProps),f.return=c;f.sibling=null}return c.child}function Db(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Ap(o)))}function vU(o,c,f){switch(c.tag){case 3:Re(c,c.stateNode.containerInfo),bs(c,Xn,o.memoizedState.cache),Rl();break;case 27:case 5:Ge(c);break;case 4:Re(c,c.stateNode.containerInfo);break;case 10:bs(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,eb(c),null;break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(Cs(c),c.flags|=128,null):(f&c.child.childLanes)!==0?dA(o,c,f):(Cs(c),o=Po(o,c,f),o!==null?o.sibling:null);Cs(c);break;case 19:var w=(o.flags&128)!==0;if(v=(f&c.childLanes)!==0,v||(au(o,c,f,!1),v=(f&c.childLanes)!==0),w){if(v)return hA(o,c,f);c.flags|=128}if(w=c.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Q(Un,Un.current),v)break;return null;case 22:return c.lanes=0,iA(o,c,f,c.pendingProps);case 24:bs(c,Xn,o.memoizedState.cache)}return Po(o,c,f)}function pA(o,c,f){if(o!==null)if(o.memoizedProps!==c.pendingProps)Jn=!0;else{if(!Db(o,f)&&(c.flags&128)===0)return Jn=!1,vU(o,c,f);Jn=(o.flags&131072)!==0}else Jn=!1,Bt&&(c.flags&1048576)!==0&&W2(c,Vd,c.index);switch(c.lanes=0,c.tag){case 16:e:{var v=c.pendingProps;if(o=Ol(c.elementType),c.type=o,typeof o=="function")P0(o)?(v=Nl(o,v),c.tag=1,c=cA(null,c,o,v,f)):(c.tag=0,c=wb(null,c,o,v,f));else{if(o!=null){var w=o.$$typeof;if(w===_){c.tag=11,c=nA(null,c,o,v,f);break e}else if(w===D){c.tag=14,c=rA(null,c,o,v,f);break e}}throw c=U(o)||o,Error(r(306,c,""))}}return c;case 0:return wb(o,c,c.type,c.pendingProps,f);case 1:return v=c.type,w=Nl(v,c.pendingProps),cA(o,c,v,w,f);case 3:e:{if(Re(c,c.stateNode.containerInfo),o===null)throw Error(r(387));v=c.pendingProps;var E=c.memoizedState;w=E.element,Q0(o,c),Jd(c,v,null,f);var P=c.memoizedState;if(v=P.cache,bs(c,Xn,v),v!==E.cache&&H0(c,[Xn],f,!0),Zd(),v=P.element,E.isDehydrated)if(E={element:v,isDehydrated:!1,cache:P.cache},c.updateQueue.baseState=E,c.memoizedState=E,c.flags&256){c=uA(o,c,v,f);break e}else if(v!==w){w=Za(Error(r(424)),c),Wd(w),c=uA(o,c,v,f);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(mn=ri(o.firstChild),Tr=c,Bt=!0,vs=null,ti=!0,f=iD(c,null,v,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Rl(),v===w){c=Po(o,c,f);break e}_r(o,c,v,f)}c=c.child}return c;case 26:return Qp(o,c),o===null?(f=EO(c.type,null,c.pendingProps,null))?c.memoizedState=f:Bt||(f=c.type,o=c.pendingProps,v=fm(ue.current).createElement(f),v[ke]=c,v[Ie]=o,Dr(v,f,o),un(v),c.stateNode=v):c.memoizedState=EO(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Ge(c),o===null&&Bt&&(v=c.stateNode=wO(c.type,c.pendingProps,ue.current),Tr=c,ti=!0,w=mn,ks(c.type)?(lx=w,mn=ri(v.firstChild)):mn=w),_r(o,c,c.pendingProps.children,f),Qp(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Bt&&((w=v=mn)&&(v=GU(v,c.type,c.pendingProps,ti),v!==null?(c.stateNode=v,Tr=c,mn=ri(v.firstChild),ti=!1,w=!0):w=!1),w||ys(c)),Ge(c),w=c.type,E=c.pendingProps,P=o!==null?o.memoizedProps:null,v=E.children,rx(w,E)?v=null:P!==null&&rx(w,P)&&(c.flags|=32),c.memoizedState!==null&&(w=nb(o,c,lU,null,null,f),xf._currentValue=w),Qp(o,c),_r(o,c,v,f),c.child;case 6:return o===null&&Bt&&((o=f=mn)&&(f=YU(f,c.pendingProps,ti),f!==null?(c.stateNode=f,Tr=c,mn=null,o=!0):o=!1),o||ys(c)),null;case 13:return dA(o,c,f);case 4:return Re(c,c.stateNode.containerInfo),v=c.pendingProps,o===null?c.child=Ml(c,null,v,f):_r(o,c,v,f),c.child;case 11:return nA(o,c,c.type,c.pendingProps,f);case 7:return _r(o,c,c.pendingProps,f),c.child;case 8:return _r(o,c,c.pendingProps.children,f),c.child;case 12:return _r(o,c,c.pendingProps.children,f),c.child;case 10:return v=c.pendingProps,bs(c,c.type,v.value),_r(o,c,v.children,f),c.child;case 9:return w=c.type._context,v=c.pendingProps.children,Dl(c),w=Rr(w),v=v(w),c.flags|=1,_r(o,c,v,f),c.child;case 14:return rA(o,c,c.type,c.pendingProps,f);case 15:return aA(o,c,c.type,c.pendingProps,f);case 19:return hA(o,c,f);case 31:return gU(o,c,f);case 22:return iA(o,c,f,c.pendingProps);case 24:return Dl(c),v=Rr(Xn),o===null?(w=W0(),w===null&&(w=dn,E=F0(),w.pooledCache=E,E.refCount++,E!==null&&(w.pooledCacheLanes|=f),w=E),c.memoizedState={parent:v,cache:w},Y0(c),bs(c,Xn,w)):((o.lanes&f)!==0&&(Q0(o,c),Jd(c,null,null,f),Zd()),w=o.memoizedState,E=c.memoizedState,w.parent!==v?(w={parent:v,cache:v},c.memoizedState=w,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=w),bs(c,Xn,v)):(v=E.cache,bs(c,Xn,v),v!==w.cache&&H0(c,[Xn],f,!0))),_r(o,c,c.pendingProps.children,f),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function No(o){o.flags|=4}function Ab(o,c,f,v,w){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(w&335544128)===w)if(o.stateNode.complete)o.flags|=8192;else if(UA())o.flags|=8192;else throw kl=Pp,G0}else o.flags&=-16777217}function mA(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!AO(c))if(UA())o.flags|=8192;else throw kl=Pp,G0}function Xp(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?qn():536870912,o.lanes|=c,gu|=c)}function of(o,c){if(!Bt)switch(o.tailMode){case"hidden":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function gn(o){var c=o.alternate!==null&&o.alternate.child===o.child,f=0,v=0;if(c)for(var w=o.child;w!==null;)f|=w.lanes|w.childLanes,v|=w.subtreeFlags&65011712,v|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)f|=w.lanes|w.childLanes,v|=w.subtreeFlags,v|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=v,o.childLanes=f,c}function yU(o,c,f){var v=c.pendingProps;switch(z0(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(c),null;case 1:return gn(c),null;case 3:return f=c.stateNode,v=null,o!==null&&(v=o.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),Oo(Xn),Se(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(ru(c)?No(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,q0())),gn(c),null;case 26:var w=c.type,E=c.memoizedState;return o===null?(No(c),E!==null?(gn(c),mA(c,E)):(gn(c),Ab(c,w,null,v,f))):E?E!==o.memoizedState?(No(c),gn(c),mA(c,E)):(gn(c),c.flags&=-16777217):(o=o.memoizedProps,o!==v&&No(c),gn(c),Ab(c,w,o,v,f)),null;case 27:if(Ze(c),f=ue.current,w=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==v&&No(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return gn(c),null}o=J.current,ru(c)?Y2(c):(o=wO(w,v,f),c.stateNode=o,No(c))}return gn(c),null;case 5:if(Ze(c),w=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==v&&No(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return gn(c),null}if(E=J.current,ru(c))Y2(c);else{var P=fm(ue.current);switch(E){case 1:E=P.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:E=P.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":E=P.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":E=P.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":E=P.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof v.is=="string"?P.createElement("select",{is:v.is}):P.createElement("select"),v.multiple?E.multiple=!0:v.size&&(E.size=v.size);break;default:E=typeof v.is=="string"?P.createElement(w,{is:v.is}):P.createElement(w)}}E[ke]=c,E[Ie]=v;e:for(P=c.child;P!==null;){if(P.tag===5||P.tag===6)E.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===c)break e;for(;P.sibling===null;){if(P.return===null||P.return===c)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}c.stateNode=E;e:switch(Dr(E,w,v),w){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&No(c)}}return gn(c),Ab(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,f),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==v&&No(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(r(166));if(o=ue.current,ru(c)){if(o=c.stateNode,f=c.memoizedProps,v=null,w=Tr,w!==null)switch(w.tag){case 27:case 5:v=w.memoizedProps}o[ke]=c,o=!!(o.nodeValue===f||v!==null&&v.suppressHydrationWarning===!0||dO(o.nodeValue,f)),o||ys(c,!0)}else o=fm(o).createTextNode(v),o[ke]=c,c.stateNode=o}return gn(c),null;case 31:if(f=c.memoizedState,o===null||o.memoizedState!==null){if(v=ru(c),f!==null){if(o===null){if(!v)throw Error(r(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[ke]=c}else Rl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;gn(c),o=!1}else f=q0(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=f),o=!0;if(!o)return c.flags&256?(Oa(c),c):(Oa(c),null);if((c.flags&128)!==0)throw Error(r(558))}return gn(c),null;case 13:if(v=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=ru(c),v!==null&&v.dehydrated!==null){if(o===null){if(!w)throw Error(r(318));if(w=c.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[ke]=c}else Rl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;gn(c),w=!1}else w=q0(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return c.flags&256?(Oa(c),c):(Oa(c),null)}return Oa(c),(c.flags&128)!==0?(c.lanes=f,c):(f=v!==null,o=o!==null&&o.memoizedState!==null,f&&(v=c.child,w=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(w=v.alternate.memoizedState.cachePool.pool),E=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(E=v.memoizedState.cachePool.pool),E!==w&&(v.flags|=2048)),f!==o&&f&&(c.child.flags|=8192),Xp(c,c.updateQueue),gn(c),null);case 4:return Se(),o===null&&Zb(c.stateNode.containerInfo),gn(c),null;case 10:return Oo(c.type),gn(c),null;case 19:if(F(Un),v=c.memoizedState,v===null)return gn(c),null;if(w=(c.flags&128)!==0,E=v.rendering,E===null)if(w)of(v,!1);else{if(Pn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(E=zp(o),E!==null){for(c.flags|=128,of(v,!1),o=E.updateQueue,c.updateQueue=o,Xp(c,o),c.subtreeFlags=0,o=f,f=c.child;f!==null;)H2(f,o),f=f.sibling;return Q(Un,Un.current&1|2),Bt&&Do(c,v.treeForkCount),c.child}o=o.sibling}v.tail!==null&&lt()>nm&&(c.flags|=128,w=!0,of(v,!1),c.lanes=4194304)}else{if(!w)if(o=zp(E),o!==null){if(c.flags|=128,w=!0,o=o.updateQueue,c.updateQueue=o,Xp(c,o),of(v,!0),v.tail===null&&v.tailMode==="hidden"&&!E.alternate&&!Bt)return gn(c),null}else 2*lt()-v.renderingStartTime>nm&&f!==536870912&&(c.flags|=128,w=!0,of(v,!1),c.lanes=4194304);v.isBackwards?(E.sibling=c.child,c.child=E):(o=v.last,o!==null?o.sibling=E:c.child=E,v.last=E)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=lt(),o.sibling=null,f=Un.current,Q(Un,w?f&1|2:f&1),Bt&&Do(c,v.treeForkCount),o):(gn(c),null);case 22:case 23:return Oa(c),J0(),v=c.memoizedState!==null,o!==null?o.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(f&536870912)!==0&&(c.flags&128)===0&&(gn(c),c.subtreeFlags&6&&(c.flags|=8192)):gn(c),f=c.updateQueue,f!==null&&Xp(c,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==f&&(c.flags|=2048),o!==null&&F(Al),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),c.memoizedState.cache!==f&&(c.flags|=2048),Oo(Xn),gn(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function bU(o,c){switch(z0(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Oo(Xn),Se(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Ze(c),null;case 31:if(c.memoizedState!==null){if(Oa(c),c.alternate===null)throw Error(r(340));Rl()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Oa(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Rl()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return F(Un),null;case 4:return Se(),null;case 10:return Oo(c.type),null;case 22:case 23:return Oa(c),J0(),o!==null&&F(Al),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return Oo(Xn),null;case 25:return null;default:return null}}function gA(o,c){switch(z0(c),c.tag){case 3:Oo(Xn),Se();break;case 26:case 27:case 5:Ze(c);break;case 4:Se();break;case 31:c.memoizedState!==null&&Oa(c);break;case 13:Oa(c);break;case 19:F(Un);break;case 10:Oo(c.type);break;case 22:case 23:Oa(c),J0(),o!==null&&F(Al);break;case 24:Oo(Xn)}}function sf(o,c){try{var f=c.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var w=v.next;f=w;do{if((f.tag&o)===o){v=void 0;var E=f.create,P=f.inst;v=E(),P.destroy=v}f=f.next}while(f!==w)}}catch(B){on(c,c.return,B)}}function Es(o,c,f){try{var v=c.updateQueue,w=v!==null?v.lastEffect:null;if(w!==null){var E=w.next;v=E;do{if((v.tag&o)===o){var P=v.inst,B=P.destroy;if(B!==void 0){P.destroy=void 0,w=c;var Z=f,ce=B;try{ce()}catch(be){on(w,Z,be)}}}v=v.next}while(v!==E)}}catch(be){on(c,c.return,be)}}function vA(o){var c=o.updateQueue;if(c!==null){var f=o.stateNode;try{sD(c,f)}catch(v){on(o,o.return,v)}}}function yA(o,c,f){f.props=Nl(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(v){on(o,c,v)}}function lf(o,c){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var v=o.stateNode;break;case 30:v=o.stateNode;break;default:v=o.stateNode}typeof f=="function"?o.refCleanup=f(v):f.current=v}}catch(w){on(o,c,w)}}function Ji(o,c){var f=o.ref,v=o.refCleanup;if(f!==null)if(typeof v=="function")try{v()}catch(w){on(o,c,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(w){on(o,c,w)}else f.current=null}function bA(o){var c=o.type,f=o.memoizedProps,v=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":f.autoFocus&&v.focus();break e;case"img":f.src?v.src=f.src:f.srcSet&&(v.srcset=f.srcSet)}}catch(w){on(o,o.return,w)}}function Ob(o,c,f){try{var v=o.stateNode;UU(v,o.type,f,c),v[Ie]=c}catch(w){on(o,o.return,w)}}function xA(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&ks(o.type)||o.tag===4}function kb(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||xA(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&ks(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Mb(o,c,f){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,c):(c=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,c.appendChild(o),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=To));else if(v!==4&&(v===27&&ks(o.type)&&(f=o.stateNode,c=null),o=o.child,o!==null))for(Mb(o,c,f),o=o.sibling;o!==null;)Mb(o,c,f),o=o.sibling}function Zp(o,c,f){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?f.insertBefore(o,c):f.appendChild(o);else if(v!==4&&(v===27&&ks(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(Zp(o,c,f),o=o.sibling;o!==null;)Zp(o,c,f),o=o.sibling}function SA(o){var c=o.stateNode,f=o.memoizedProps;try{for(var v=o.type,w=c.attributes;w.length;)c.removeAttributeNode(w[0]);Dr(c,v,f),c[ke]=o,c[Ie]=f}catch(E){on(o,o.return,E)}}var Io=!1,er=!1,Pb=!1,wA=typeof WeakSet=="function"?WeakSet:Set,hr=null;function xU(o,c){if(o=o.containerInfo,tx=bm,o=P2(o),R0(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var v=f.getSelection&&f.getSelection();if(v&&v.rangeCount!==0){f=v.anchorNode;var w=v.anchorOffset,E=v.focusNode;v=v.focusOffset;try{f.nodeType,E.nodeType}catch{f=null;break e}var P=0,B=-1,Z=-1,ce=0,be=0,je=o,he=null;t:for(;;){for(var ge;je!==f||w!==0&&je.nodeType!==3||(B=P+w),je!==E||v!==0&&je.nodeType!==3||(Z=P+v),je.nodeType===3&&(P+=je.nodeValue.length),(ge=je.firstChild)!==null;)he=je,je=ge;for(;;){if(je===o)break t;if(he===f&&++ce===w&&(B=P),he===E&&++be===v&&(Z=P),(ge=je.nextSibling)!==null)break;je=he,he=je.parentNode}je=ge}f=B===-1||Z===-1?null:{start:B,end:Z}}else f=null}f=f||{start:0,end:0}}else f=null;for(nx={focusedElem:o,selectionRange:f},bm=!1,hr=c;hr!==null;)if(c=hr,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,hr=o;else for(;hr!==null;){switch(c=hr,E=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(f=0;f<o.length;f++)w=o[f],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&E!==null){o=void 0,f=c,w=E.memoizedProps,E=E.memoizedState,v=f.stateNode;try{var qe=Nl(f.type,w);o=v.getSnapshotBeforeUpdate(qe,E),v.__reactInternalSnapshotBeforeUpdate=o}catch(it){on(f,f.return,it)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,f=o.nodeType,f===9)ix(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":ix(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,hr=o;break}hr=c.return}}function CA(o,c,f){var v=f.flags;switch(f.tag){case 0:case 11:case 15:zo(o,f),v&4&&sf(5,f);break;case 1:if(zo(o,f),v&4)if(o=f.stateNode,c===null)try{o.componentDidMount()}catch(P){on(f,f.return,P)}else{var w=Nl(f.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(w,c,o.__reactInternalSnapshotBeforeUpdate)}catch(P){on(f,f.return,P)}}v&64&&vA(f),v&512&&lf(f,f.return);break;case 3:if(zo(o,f),v&64&&(o=f.updateQueue,o!==null)){if(c=null,f.child!==null)switch(f.child.tag){case 27:case 5:c=f.child.stateNode;break;case 1:c=f.child.stateNode}try{sD(o,c)}catch(P){on(f,f.return,P)}}break;case 27:c===null&&v&4&&SA(f);case 26:case 5:zo(o,f),c===null&&v&4&&bA(f),v&512&&lf(f,f.return);break;case 12:zo(o,f);break;case 31:zo(o,f),v&4&&TA(o,f);break;case 13:zo(o,f),v&4&&RA(o,f),v&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=DU.bind(null,f),QU(o,f))));break;case 22:if(v=f.memoizedState!==null||Io,!v){c=c!==null&&c.memoizedState!==null||er,w=Io;var E=er;Io=v,(er=c)&&!E?$o(o,f,(f.subtreeFlags&8772)!==0):zo(o,f),Io=w,er=E}break;case 30:break;default:zo(o,f)}}function jA(o){var c=o.alternate;c!==null&&(o.alternate=null,jA(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&Cn(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var jn=null,aa=!1;function Lo(o,c,f){for(f=f.child;f!==null;)EA(o,c,f),f=f.sibling}function EA(o,c,f){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Wt,f)}catch{}switch(f.tag){case 26:er||Ji(f,c),Lo(o,c,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:er||Ji(f,c);var v=jn,w=aa;ks(f.type)&&(jn=f.stateNode,aa=!1),Lo(o,c,f),vf(f.stateNode),jn=v,aa=w;break;case 5:er||Ji(f,c);case 6:if(v=jn,w=aa,jn=null,Lo(o,c,f),jn=v,aa=w,jn!==null)if(aa)try{(jn.nodeType===9?jn.body:jn.nodeName==="HTML"?jn.ownerDocument.body:jn).removeChild(f.stateNode)}catch(E){on(f,c,E)}else try{jn.removeChild(f.stateNode)}catch(E){on(f,c,E)}break;case 18:jn!==null&&(aa?(o=jn,vO(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),ju(o)):vO(jn,f.stateNode));break;case 4:v=jn,w=aa,jn=f.stateNode.containerInfo,aa=!0,Lo(o,c,f),jn=v,aa=w;break;case 0:case 11:case 14:case 15:Es(2,f,c),er||Es(4,f,c),Lo(o,c,f);break;case 1:er||(Ji(f,c),v=f.stateNode,typeof v.componentWillUnmount=="function"&&yA(f,c,v)),Lo(o,c,f);break;case 21:Lo(o,c,f);break;case 22:er=(v=er)||f.memoizedState!==null,Lo(o,c,f),er=v;break;default:Lo(o,c,f)}}function TA(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{ju(o)}catch(f){on(c,c.return,f)}}}function RA(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{ju(o)}catch(f){on(c,c.return,f)}}function SU(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new wA),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new wA),c;default:throw Error(r(435,o.tag))}}function Jp(o,c){var f=SU(o);c.forEach(function(v){if(!f.has(v)){f.add(v);var w=AU.bind(null,o,v);v.then(w,w)}})}function ia(o,c){var f=c.deletions;if(f!==null)for(var v=0;v<f.length;v++){var w=f[v],E=o,P=c,B=P;e:for(;B!==null;){switch(B.tag){case 27:if(ks(B.type)){jn=B.stateNode,aa=!1;break e}break;case 5:jn=B.stateNode,aa=!1;break e;case 3:case 4:jn=B.stateNode.containerInfo,aa=!0;break e}B=B.return}if(jn===null)throw Error(r(160));EA(E,P,w),jn=null,aa=!1,E=w.alternate,E!==null&&(E.return=null),w.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)_A(c,o),c=c.sibling}var Ai=null;function _A(o,c){var f=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:ia(c,o),oa(o),v&4&&(Es(3,o,o.return),sf(3,o),Es(5,o,o.return));break;case 1:ia(c,o),oa(o),v&512&&(er||f===null||Ji(f,f.return)),v&64&&Io&&(o=o.updateQueue,o!==null&&(v=o.callbacks,v!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?v:f.concat(v))));break;case 26:var w=Ai;if(ia(c,o),oa(o),v&512&&(er||f===null||Ji(f,f.return)),v&4){var E=f!==null?f.memoizedState:null;if(v=o.memoizedState,f===null)if(v===null)if(o.stateNode===null){e:{v=o.type,f=o.memoizedProps,w=w.ownerDocument||w;t:switch(v){case"title":E=w.getElementsByTagName("title")[0],(!E||E[rn]||E[ke]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=w.createElement(v),w.head.insertBefore(E,w.querySelector("head > title"))),Dr(E,v,f),E[ke]=o,un(E),v=E;break e;case"link":var P=_O("link","href",w).get(v+(f.href||""));if(P){for(var B=0;B<P.length;B++)if(E=P[B],E.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&E.getAttribute("rel")===(f.rel==null?null:f.rel)&&E.getAttribute("title")===(f.title==null?null:f.title)&&E.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){P.splice(B,1);break t}}E=w.createElement(v),Dr(E,v,f),w.head.appendChild(E);break;case"meta":if(P=_O("meta","content",w).get(v+(f.content||""))){for(B=0;B<P.length;B++)if(E=P[B],E.getAttribute("content")===(f.content==null?null:""+f.content)&&E.getAttribute("name")===(f.name==null?null:f.name)&&E.getAttribute("property")===(f.property==null?null:f.property)&&E.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&E.getAttribute("charset")===(f.charSet==null?null:f.charSet)){P.splice(B,1);break t}}E=w.createElement(v),Dr(E,v,f),w.head.appendChild(E);break;default:throw Error(r(468,v))}E[ke]=o,un(E),v=E}o.stateNode=v}else DO(w,o.type,o.stateNode);else o.stateNode=RO(w,v,o.memoizedProps);else E!==v?(E===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):E.count--,v===null?DO(w,o.type,o.stateNode):RO(w,v,o.memoizedProps)):v===null&&o.stateNode!==null&&Ob(o,o.memoizedProps,f.memoizedProps)}break;case 27:ia(c,o),oa(o),v&512&&(er||f===null||Ji(f,f.return)),f!==null&&v&4&&Ob(o,o.memoizedProps,f.memoizedProps);break;case 5:if(ia(c,o),oa(o),v&512&&(er||f===null||Ji(f,f.return)),o.flags&32){w=o.stateNode;try{Gc(w,"")}catch(qe){on(o,o.return,qe)}}v&4&&o.stateNode!=null&&(w=o.memoizedProps,Ob(o,w,f!==null?f.memoizedProps:w)),v&1024&&(Pb=!0);break;case 6:if(ia(c,o),oa(o),v&4){if(o.stateNode===null)throw Error(r(162));v=o.memoizedProps,f=o.stateNode;try{f.nodeValue=v}catch(qe){on(o,o.return,qe)}}break;case 3:if(mm=null,w=Ai,Ai=hm(c.containerInfo),ia(c,o),Ai=w,oa(o),v&4&&f!==null&&f.memoizedState.isDehydrated)try{ju(c.containerInfo)}catch(qe){on(o,o.return,qe)}Pb&&(Pb=!1,DA(o));break;case 4:v=Ai,Ai=hm(o.stateNode.containerInfo),ia(c,o),oa(o),Ai=v;break;case 12:ia(c,o),oa(o);break;case 31:ia(c,o),oa(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,Jp(o,v)));break;case 13:ia(c,o),oa(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(tm=lt()),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,Jp(o,v)));break;case 22:w=o.memoizedState!==null;var Z=f!==null&&f.memoizedState!==null,ce=Io,be=er;if(Io=ce||w,er=be||Z,ia(c,o),er=be,Io=ce,oa(o),v&8192)e:for(c=o.stateNode,c._visibility=w?c._visibility&-2:c._visibility|1,w&&(f===null||Z||Io||er||Il(o)),f=null,c=o;;){if(c.tag===5||c.tag===26){if(f===null){Z=f=c;try{if(E=Z.stateNode,w)P=E.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{B=Z.stateNode;var je=Z.memoizedProps.style,he=je!=null&&je.hasOwnProperty("display")?je.display:null;B.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(qe){on(Z,Z.return,qe)}}}else if(c.tag===6){if(f===null){Z=c;try{Z.stateNode.nodeValue=w?"":Z.memoizedProps}catch(qe){on(Z,Z.return,qe)}}}else if(c.tag===18){if(f===null){Z=c;try{var ge=Z.stateNode;w?yO(ge,!0):yO(Z.stateNode,!1)}catch(qe){on(Z,Z.return,qe)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=o.updateQueue,v!==null&&(f=v.retryQueue,f!==null&&(v.retryQueue=null,Jp(o,f))));break;case 19:ia(c,o),oa(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,Jp(o,v)));break;case 30:break;case 21:break;default:ia(c,o),oa(o)}}function oa(o){var c=o.flags;if(c&2){try{for(var f,v=o.return;v!==null;){if(xA(v)){f=v;break}v=v.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var w=f.stateNode,E=kb(o);Zp(o,E,w);break;case 5:var P=f.stateNode;f.flags&32&&(Gc(P,""),f.flags&=-33);var B=kb(o);Zp(o,B,P);break;case 3:case 4:var Z=f.stateNode.containerInfo,ce=kb(o);Mb(o,ce,Z);break;default:throw Error(r(161))}}catch(be){on(o,o.return,be)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function DA(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;DA(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function zo(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)CA(o,c.alternate,c),c=c.sibling}function Il(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Es(4,c,c.return),Il(c);break;case 1:Ji(c,c.return);var f=c.stateNode;typeof f.componentWillUnmount=="function"&&yA(c,c.return,f),Il(c);break;case 27:vf(c.stateNode);case 26:case 5:Ji(c,c.return),Il(c);break;case 22:c.memoizedState===null&&Il(c);break;case 30:Il(c);break;default:Il(c)}o=o.sibling}}function $o(o,c,f){for(f=f&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,w=o,E=c,P=E.flags;switch(E.tag){case 0:case 11:case 15:$o(w,E,f),sf(4,E);break;case 1:if($o(w,E,f),v=E,w=v.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(ce){on(v,v.return,ce)}if(v=E,w=v.updateQueue,w!==null){var B=v.stateNode;try{var Z=w.shared.hiddenCallbacks;if(Z!==null)for(w.shared.hiddenCallbacks=null,w=0;w<Z.length;w++)oD(Z[w],B)}catch(ce){on(v,v.return,ce)}}f&&P&64&&vA(E),lf(E,E.return);break;case 27:SA(E);case 26:case 5:$o(w,E,f),f&&v===null&&P&4&&bA(E),lf(E,E.return);break;case 12:$o(w,E,f);break;case 31:$o(w,E,f),f&&P&4&&TA(w,E);break;case 13:$o(w,E,f),f&&P&4&&RA(w,E);break;case 22:E.memoizedState===null&&$o(w,E,f),lf(E,E.return);break;case 30:break;default:$o(w,E,f)}c=c.sibling}}function Nb(o,c){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&Gd(f))}function Ib(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Gd(o))}function Oi(o,c,f,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)AA(o,c,f,v),c=c.sibling}function AA(o,c,f,v){var w=c.flags;switch(c.tag){case 0:case 11:case 15:Oi(o,c,f,v),w&2048&&sf(9,c);break;case 1:Oi(o,c,f,v);break;case 3:Oi(o,c,f,v),w&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Gd(o)));break;case 12:if(w&2048){Oi(o,c,f,v),o=c.stateNode;try{var E=c.memoizedProps,P=E.id,B=E.onPostCommit;typeof B=="function"&&B(P,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(Z){on(c,c.return,Z)}}else Oi(o,c,f,v);break;case 31:Oi(o,c,f,v);break;case 13:Oi(o,c,f,v);break;case 23:break;case 22:E=c.stateNode,P=c.alternate,c.memoizedState!==null?E._visibility&2?Oi(o,c,f,v):cf(o,c):E._visibility&2?Oi(o,c,f,v):(E._visibility|=2,hu(o,c,f,v,(c.subtreeFlags&10256)!==0||!1)),w&2048&&Nb(P,c);break;case 24:Oi(o,c,f,v),w&2048&&Ib(c.alternate,c);break;default:Oi(o,c,f,v)}}function hu(o,c,f,v,w){for(w=w&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var E=o,P=c,B=f,Z=v,ce=P.flags;switch(P.tag){case 0:case 11:case 15:hu(E,P,B,Z,w),sf(8,P);break;case 23:break;case 22:var be=P.stateNode;P.memoizedState!==null?be._visibility&2?hu(E,P,B,Z,w):cf(E,P):(be._visibility|=2,hu(E,P,B,Z,w)),w&&ce&2048&&Nb(P.alternate,P);break;case 24:hu(E,P,B,Z,w),w&&ce&2048&&Ib(P.alternate,P);break;default:hu(E,P,B,Z,w)}c=c.sibling}}function cf(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var f=o,v=c,w=v.flags;switch(v.tag){case 22:cf(f,v),w&2048&&Nb(v.alternate,v);break;case 24:cf(f,v),w&2048&&Ib(v.alternate,v);break;default:cf(f,v)}c=c.sibling}}var uf=8192;function pu(o,c,f){if(o.subtreeFlags&uf)for(o=o.child;o!==null;)OA(o,c,f),o=o.sibling}function OA(o,c,f){switch(o.tag){case 26:pu(o,c,f),o.flags&uf&&o.memoizedState!==null&&sB(f,Ai,o.memoizedState,o.memoizedProps);break;case 5:pu(o,c,f);break;case 3:case 4:var v=Ai;Ai=hm(o.stateNode.containerInfo),pu(o,c,f),Ai=v;break;case 22:o.memoizedState===null&&(v=o.alternate,v!==null&&v.memoizedState!==null?(v=uf,uf=16777216,pu(o,c,f),uf=v):pu(o,c,f));break;default:pu(o,c,f)}}function kA(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function df(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var v=c[f];hr=v,PA(v,o)}kA(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)MA(o),o=o.sibling}function MA(o){switch(o.tag){case 0:case 11:case 15:df(o),o.flags&2048&&Es(9,o,o.return);break;case 3:df(o);break;case 12:df(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,em(o)):df(o);break;default:df(o)}}function em(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var v=c[f];hr=v,PA(v,o)}kA(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Es(8,c,c.return),em(c);break;case 22:f=c.stateNode,f._visibility&2&&(f._visibility&=-3,em(c));break;default:em(c)}o=o.sibling}}function PA(o,c){for(;hr!==null;){var f=hr;switch(f.tag){case 0:case 11:case 15:Es(8,f,c);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var v=f.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Gd(f.memoizedState.cache)}if(v=f.child,v!==null)v.return=f,hr=v;else e:for(f=o;hr!==null;){v=hr;var w=v.sibling,E=v.return;if(jA(v),v===f){hr=null;break e}if(w!==null){w.return=E,hr=w;break e}hr=E}}}var wU={getCacheForType:function(o){var c=Rr(Xn),f=c.data.get(o);return f===void 0&&(f=o(),c.data.set(o,f)),f},cacheSignal:function(){return Rr(Xn).controller.signal}},CU=typeof WeakMap=="function"?WeakMap:Map,Xt=0,dn=null,Pt=null,Lt=0,an=0,ka=null,Ts=!1,mu=!1,Lb=!1,qo=0,Pn=0,Rs=0,Ll=0,zb=0,Ma=0,gu=0,ff=null,sa=null,$b=!1,tm=0,NA=0,nm=1/0,rm=null,_s=null,ir=0,Ds=null,vu=null,Uo=0,qb=0,Ub=null,IA=null,hf=0,Bb=null;function Pa(){return(Xt&2)!==0&&Lt!==0?Lt&-Lt:N.T!==null?Yb():_e()}function LA(){if(Ma===0)if((Lt&536870912)===0||Bt){var o=Ca;Ca<<=1,(Ca&3932160)===0&&(Ca=262144),Ma=o}else Ma=536870912;return o=Aa.current,o!==null&&(o.flags|=32),Ma}function la(o,c,f){(o===dn&&(an===2||an===9)||o.cancelPendingCommit!==null)&&(yu(o,0),As(o,Lt,Ma,!1)),Eo(o,f),((Xt&2)===0||o!==dn)&&(o===dn&&((Xt&2)===0&&(Ll|=f),Pn===4&&As(o,Lt,Ma,!1)),eo(o))}function zA(o,c,f){if((Xt&6)!==0)throw Error(r(327));var v=!f&&(c&127)===0&&(c&o.expiredLanes)===0||jr(o,c),w=v?TU(o,c):Fb(o,c,!0),E=v;do{if(w===0){mu&&!v&&As(o,c,0,!1);break}else{if(f=o.current.alternate,E&&!jU(f)){w=Fb(o,c,!1),E=!1;continue}if(w===2){if(E=c,o.errorRecoveryDisabledLanes&E)var P=0;else P=o.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){c=P;e:{var B=o;w=ff;var Z=B.current.memoizedState.isDehydrated;if(Z&&(yu(B,P).flags|=256),P=Fb(B,P,!1),P!==2){if(Lb&&!Z){B.errorRecoveryDisabledLanes|=E,Ll|=E,w=4;break e}E=sa,sa=w,E!==null&&(sa===null?sa=E:sa.push.apply(sa,E))}w=P}if(E=!1,w!==2)continue}}if(w===1){yu(o,0),As(o,c,0,!0);break}e:{switch(v=o,E=w,E){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:As(v,c,Ma,!Ts);break e;case 2:sa=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(w=tm+300-lt(),10<w)){if(As(v,c,Ma,!Ts),Ri(v,0,!0)!==0)break e;Uo=c,v.timeoutHandle=mO($A.bind(null,v,f,sa,rm,$b,c,Ma,Ll,gu,Ts,E,"Throttled",-0,0),w);break e}$A(v,f,sa,rm,$b,c,Ma,Ll,gu,Ts,E,null,-0,0)}}break}while(!0);eo(o)}function $A(o,c,f,v,w,E,P,B,Z,ce,be,je,he,ge){if(o.timeoutHandle=-1,je=c.subtreeFlags,je&8192||(je&16785408)===16785408){je={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:To},OA(c,E,je);var qe=(E&62914560)===E?tm-lt():(E&4194048)===E?NA-lt():0;if(qe=lB(je,qe),qe!==null){Uo=E,o.cancelPendingCommit=qe(GA.bind(null,o,c,E,f,v,w,P,B,Z,be,je,null,he,ge)),As(o,E,P,!ce);return}}GA(o,c,E,f,v,w,P,B,Z)}function jU(o){for(var c=o;;){var f=c.tag;if((f===0||f===11||f===15)&&c.flags&16384&&(f=c.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var v=0;v<f.length;v++){var w=f[v],E=w.getSnapshot;w=w.value;try{if(!_a(E(),w))return!1}catch{return!1}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function As(o,c,f,v){c&=~zb,c&=~Ll,o.suspendedLanes|=c,o.pingedLanes&=~c,v&&(o.warmLanes|=c),v=o.expirationTimes;for(var w=c;0<w;){var E=31-_n(w),P=1<<E;v[E]=-1,w&=~P}f!==0&&Hc(o,f,c)}function am(){return(Xt&6)===0?(pf(0),!1):!0}function Hb(){if(Pt!==null){if(an===0)var o=Pt.return;else o=Pt,Ao=_l=null,ib(o),lu=null,Qd=0,o=Pt;for(;o!==null;)gA(o.alternate,o),o=o.return;Pt=null}}function yu(o,c){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,FU(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),Uo=0,Hb(),dn=o,Pt=f=_o(o.current,null),Lt=c,an=0,ka=null,Ts=!1,mu=jr(o,c),Lb=!1,gu=Ma=zb=Ll=Rs=Pn=0,sa=ff=null,$b=!1,(c&8)!==0&&(c|=c&32);var v=o.entangledLanes;if(v!==0)for(o=o.entanglements,v&=c;0<v;){var w=31-_n(v),E=1<<w;c|=o[w],v&=~E}return qo=c,Ep(),f}function qA(o,c){St=null,N.H=rf,c===su||c===Mp?(c=nD(),an=3):c===G0?(c=nD(),an=4):an=c===Sb?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,ka=c,Pt===null&&(Pn=1,Gp(o,Za(c,o.current)))}function UA(){var o=Aa.current;return o===null?!0:(Lt&4194048)===Lt?ni===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?o===ni:!1}function BA(){var o=N.H;return N.H=rf,o===null?rf:o}function HA(){var o=N.A;return N.A=wU,o}function im(){Pn=4,Ts||(Lt&4194048)!==Lt&&Aa.current!==null||(mu=!0),(Rs&134217727)===0&&(Ll&134217727)===0||dn===null||As(dn,Lt,Ma,!1)}function Fb(o,c,f){var v=Xt;Xt|=2;var w=BA(),E=HA();(dn!==o||Lt!==c)&&(rm=null,yu(o,c)),c=!1;var P=Pn;e:do try{if(an!==0&&Pt!==null){var B=Pt,Z=ka;switch(an){case 8:Hb(),P=6;break e;case 3:case 2:case 9:case 6:Aa.current===null&&(c=!0);var ce=an;if(an=0,ka=null,bu(o,B,Z,ce),f&&mu){P=0;break e}break;default:ce=an,an=0,ka=null,bu(o,B,Z,ce)}}EU(),P=Pn;break}catch(be){qA(o,be)}while(!0);return c&&o.shellSuspendCounter++,Ao=_l=null,Xt=v,N.H=w,N.A=E,Pt===null&&(dn=null,Lt=0,Ep()),P}function EU(){for(;Pt!==null;)FA(Pt)}function TU(o,c){var f=Xt;Xt|=2;var v=BA(),w=HA();dn!==o||Lt!==c?(rm=null,nm=lt()+500,yu(o,c)):mu=jr(o,c);e:do try{if(an!==0&&Pt!==null){c=Pt;var E=ka;t:switch(an){case 1:an=0,ka=null,bu(o,c,E,1);break;case 2:case 9:if(eD(E)){an=0,ka=null,VA(c);break}c=function(){an!==2&&an!==9||dn!==o||(an=7),eo(o)},E.then(c,c);break e;case 3:an=7;break e;case 4:an=5;break e;case 7:eD(E)?(an=0,ka=null,VA(c)):(an=0,ka=null,bu(o,c,E,7));break;case 5:var P=null;switch(Pt.tag){case 26:P=Pt.memoizedState;case 5:case 27:var B=Pt;if(P?AO(P):B.stateNode.complete){an=0,ka=null;var Z=B.sibling;if(Z!==null)Pt=Z;else{var ce=B.return;ce!==null?(Pt=ce,om(ce)):Pt=null}break t}}an=0,ka=null,bu(o,c,E,5);break;case 6:an=0,ka=null,bu(o,c,E,6);break;case 8:Hb(),Pn=6;break e;default:throw Error(r(462))}}RU();break}catch(be){qA(o,be)}while(!0);return Ao=_l=null,N.H=v,N.A=w,Xt=f,Pt!==null?0:(dn=null,Lt=0,Ep(),Pn)}function RU(){for(;Pt!==null&&!ct();)FA(Pt)}function FA(o){var c=pA(o.alternate,o,qo);o.memoizedProps=o.pendingProps,c===null?om(o):Pt=c}function VA(o){var c=o,f=c.alternate;switch(c.tag){case 15:case 0:c=lA(f,c,c.pendingProps,c.type,void 0,Lt);break;case 11:c=lA(f,c,c.pendingProps,c.type.render,c.ref,Lt);break;case 5:ib(c);default:gA(f,c),c=Pt=H2(c,qo),c=pA(f,c,qo)}o.memoizedProps=o.pendingProps,c===null?om(o):Pt=c}function bu(o,c,f,v){Ao=_l=null,ib(c),lu=null,Qd=0;var w=c.return;try{if(mU(o,w,c,f,Lt)){Pn=1,Gp(o,Za(f,o.current)),Pt=null;return}}catch(E){if(w!==null)throw Pt=w,E;Pn=1,Gp(o,Za(f,o.current)),Pt=null;return}c.flags&32768?(Bt||v===1?o=!0:mu||(Lt&536870912)!==0?o=!1:(Ts=o=!0,(v===2||v===9||v===3||v===6)&&(v=Aa.current,v!==null&&v.tag===13&&(v.flags|=16384))),WA(c,o)):om(c)}function om(o){var c=o;do{if((c.flags&32768)!==0){WA(c,Ts);return}o=c.return;var f=yU(c.alternate,c,qo);if(f!==null){Pt=f;return}if(c=c.sibling,c!==null){Pt=c;return}Pt=c=o}while(c!==null);Pn===0&&(Pn=5)}function WA(o,c){do{var f=bU(o.alternate,o);if(f!==null){f.flags&=32767,Pt=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!c&&(o=o.sibling,o!==null)){Pt=o;return}Pt=o=f}while(o!==null);Pn=6,Pt=null}function GA(o,c,f,v,w,E,P,B,Z){o.cancelPendingCommit=null;do sm();while(ir!==0);if((Xt&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(E=c.lanes|c.childLanes,E|=k0,Pd(o,f,E,P,B,Z),o===dn&&(Pt=dn=null,Lt=0),vu=c,Ds=o,Uo=f,qb=E,Ub=w,IA=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,OU(At,function(){return ZA(),null})):(o.callbackNode=null,o.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=N.T,N.T=null,w=z.p,z.p=2,P=Xt,Xt|=4;try{xU(o,c,f)}finally{Xt=P,z.p=w,N.T=v}}ir=1,YA(),QA(),KA()}}function YA(){if(ir===1){ir=0;var o=Ds,c=vu,f=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||f){f=N.T,N.T=null;var v=z.p;z.p=2;var w=Xt;Xt|=4;try{_A(c,o);var E=nx,P=P2(o.containerInfo),B=E.focusedElem,Z=E.selectionRange;if(P!==B&&B&&B.ownerDocument&&M2(B.ownerDocument.documentElement,B)){if(Z!==null&&R0(B)){var ce=Z.start,be=Z.end;if(be===void 0&&(be=ce),"selectionStart"in B)B.selectionStart=ce,B.selectionEnd=Math.min(be,B.value.length);else{var je=B.ownerDocument||document,he=je&&je.defaultView||window;if(he.getSelection){var ge=he.getSelection(),qe=B.textContent.length,it=Math.min(Z.start,qe),cn=Z.end===void 0?it:Math.min(Z.end,qe);!ge.extend&&it>cn&&(P=cn,cn=it,it=P);var ie=k2(B,it),ee=k2(B,cn);if(ie&&ee&&(ge.rangeCount!==1||ge.anchorNode!==ie.node||ge.anchorOffset!==ie.offset||ge.focusNode!==ee.node||ge.focusOffset!==ee.offset)){var le=je.createRange();le.setStart(ie.node,ie.offset),ge.removeAllRanges(),it>cn?(ge.addRange(le),ge.extend(ee.node,ee.offset)):(le.setEnd(ee.node,ee.offset),ge.addRange(le))}}}}for(je=[],ge=B;ge=ge.parentNode;)ge.nodeType===1&&je.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<je.length;B++){var we=je[B];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}bm=!!tx,nx=tx=null}finally{Xt=w,z.p=v,N.T=f}}o.current=c,ir=2}}function QA(){if(ir===2){ir=0;var o=Ds,c=vu,f=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||f){f=N.T,N.T=null;var v=z.p;z.p=2;var w=Xt;Xt|=4;try{CA(o,c.alternate,c)}finally{Xt=w,z.p=v,N.T=f}}ir=3}}function KA(){if(ir===4||ir===3){ir=0,ft();var o=Ds,c=vu,f=Uo,v=IA;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?ir=5:(ir=0,vu=Ds=null,XA(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(_s=null),Te(f),c=c.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Wt,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=N.T,w=z.p,z.p=2,N.T=null;try{for(var E=o.onRecoverableError,P=0;P<v.length;P++){var B=v[P];E(B.value,{componentStack:B.stack})}}finally{N.T=c,z.p=w}}(Uo&3)!==0&&sm(),eo(o),w=o.pendingLanes,(f&261930)!==0&&(w&42)!==0?o===Bb?hf++:(hf=0,Bb=o):hf=0,pf(0)}}function XA(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Gd(c)))}function sm(){return YA(),QA(),KA(),ZA()}function ZA(){if(ir!==5)return!1;var o=Ds,c=qb;qb=0;var f=Te(Uo),v=N.T,w=z.p;try{z.p=32>f?32:f,N.T=null,f=Ub,Ub=null;var E=Ds,P=Uo;if(ir=0,vu=Ds=null,Uo=0,(Xt&6)!==0)throw Error(r(331));var B=Xt;if(Xt|=4,MA(E.current),AA(E,E.current,P,f),Xt=B,pf(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Wt,E)}catch{}return!0}finally{z.p=w,N.T=v,XA(o,c)}}function JA(o,c,f){c=Za(f,c),c=xb(o.stateNode,c,2),o=ws(o,c,2),o!==null&&(Eo(o,2),eo(o))}function on(o,c,f){if(o.tag===3)JA(o,o,f);else for(;c!==null;){if(c.tag===3){JA(c,o,f);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(_s===null||!_s.has(v))){o=Za(f,o),f=eA(2),v=ws(c,f,2),v!==null&&(tA(f,v,c,o),Eo(v,2),eo(v));break}}c=c.return}}function Vb(o,c,f){var v=o.pingCache;if(v===null){v=o.pingCache=new CU;var w=new Set;v.set(c,w)}else w=v.get(c),w===void 0&&(w=new Set,v.set(c,w));w.has(f)||(Lb=!0,w.add(f),o=_U.bind(null,o,c,f),c.then(o,o))}function _U(o,c,f){var v=o.pingCache;v!==null&&v.delete(c),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,dn===o&&(Lt&f)===f&&(Pn===4||Pn===3&&(Lt&62914560)===Lt&&300>lt()-tm?(Xt&2)===0&&yu(o,0):zb|=f,gu===Lt&&(gu=0)),eo(o)}function eO(o,c){c===0&&(c=qn()),o=El(o,c),o!==null&&(Eo(o,c),eo(o))}function DU(o){var c=o.memoizedState,f=0;c!==null&&(f=c.retryLane),eO(o,f)}function AU(o,c){var f=0;switch(o.tag){case 31:case 13:var v=o.stateNode,w=o.memoizedState;w!==null&&(f=w.retryLane);break;case 19:v=o.stateNode;break;case 22:v=o.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(c),eO(o,f)}function OU(o,c){return Ve(o,c)}var lm=null,xu=null,Wb=!1,cm=!1,Gb=!1,Os=0;function eo(o){o!==xu&&o.next===null&&(xu===null?lm=xu=o:xu=xu.next=o),cm=!0,Wb||(Wb=!0,MU())}function pf(o,c){if(!Gb&&cm){Gb=!0;do for(var f=!1,v=lm;v!==null;){if(o!==0){var w=v.pendingLanes;if(w===0)var E=0;else{var P=v.suspendedLanes,B=v.pingedLanes;E=(1<<31-_n(42|o)+1)-1,E&=w&~(P&~B),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(f=!0,aO(v,E))}else E=Lt,E=Ri(v,v===dn?E:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(E&3)===0||jr(v,E)||(f=!0,aO(v,E));v=v.next}while(f);Gb=!1}}function kU(){tO()}function tO(){cm=Wb=!1;var o=0;Os!==0&&HU()&&(o=Os);for(var c=lt(),f=null,v=lm;v!==null;){var w=v.next,E=nO(v,c);E===0?(v.next=null,f===null?lm=w:f.next=w,w===null&&(xu=f)):(f=v,(o!==0||(E&3)!==0)&&(cm=!0)),v=w}ir!==0&&ir!==5||pf(o),Os!==0&&(Os=0)}function nO(o,c){for(var f=o.suspendedLanes,v=o.pingedLanes,w=o.expirationTimes,E=o.pendingLanes&-62914561;0<E;){var P=31-_n(E),B=1<<P,Z=w[P];Z===-1?((B&f)===0||(B&v)!==0)&&(w[P]=xl(B,c)):Z<=c&&(o.expiredLanes|=B),E&=~B}if(c=dn,f=Lt,f=Ri(o,o===c?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v=o.callbackNode,f===0||o===c&&(an===2||an===9)||o.cancelPendingCommit!==null)return v!==null&&v!==null&&dt(v),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||jr(o,f)){if(c=f&-f,c===o.callbackPriority)return c;switch(v!==null&&dt(v),Te(f)){case 2:case 8:f=Ht;break;case 32:f=At;break;case 268435456:f=Cr;break;default:f=At}return v=rO.bind(null,o),f=Ve(f,v),o.callbackPriority=c,o.callbackNode=f,c}return v!==null&&v!==null&&dt(v),o.callbackPriority=2,o.callbackNode=null,2}function rO(o,c){if(ir!==0&&ir!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(sm()&&o.callbackNode!==f)return null;var v=Lt;return v=Ri(o,o===dn?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v===0?null:(zA(o,v,c),nO(o,lt()),o.callbackNode!=null&&o.callbackNode===f?rO.bind(null,o):null)}function aO(o,c){if(sm())return null;zA(o,c,!0)}function MU(){VU(function(){(Xt&6)!==0?Ve(dr,kU):tO()})}function Yb(){if(Os===0){var o=iu;o===0&&(o=kn,kn<<=1,(kn&261888)===0&&(kn=256)),Os=o}return Os}function iO(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:vp(""+o)}function oO(o,c){var f=c.ownerDocument.createElement("input");return f.name=c.name,f.value=c.value,o.id&&f.setAttribute("form",o.id),c.parentNode.insertBefore(f,c),o=new FormData(o),f.parentNode.removeChild(f),o}function PU(o,c,f,v,w){if(c==="submit"&&f&&f.stateNode===w){var E=iO((w[Ie]||null).action),P=v.submitter;P&&(c=(c=P[Ie]||null)?iO(c.formAction):P.getAttribute("formAction"),c!==null&&(E=c,P=null));var B=new Sp("action","action",null,v,w);o.push({event:B,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Os!==0){var Z=P?oO(w,P):new FormData(w);pb(f,{pending:!0,data:Z,method:w.method,action:E},null,Z)}}else typeof E=="function"&&(B.preventDefault(),Z=P?oO(w,P):new FormData(w),pb(f,{pending:!0,data:Z,method:w.method,action:E},E,Z))},currentTarget:w}]})}}for(var Qb=0;Qb<O0.length;Qb++){var Kb=O0[Qb],NU=Kb.toLowerCase(),IU=Kb[0].toUpperCase()+Kb.slice(1);Di(NU,"on"+IU)}Di(L2,"onAnimationEnd"),Di(z2,"onAnimationIteration"),Di($2,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(Zq,"onTransitionRun"),Di(Jq,"onTransitionStart"),Di(eU,"onTransitionCancel"),Di(q2,"onTransitionEnd"),na("onMouseEnter",["mouseout","mouseover"]),na("onMouseLeave",["mouseout","mouseover"]),na("onPointerEnter",["pointerout","pointerover"]),na("onPointerLeave",["pointerout","pointerover"]),Ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ra("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mf));function sO(o,c){c=(c&4)!==0;for(var f=0;f<o.length;f++){var v=o[f],w=v.event;v=v.listeners;e:{var E=void 0;if(c)for(var P=v.length-1;0<=P;P--){var B=v[P],Z=B.instance,ce=B.currentTarget;if(B=B.listener,Z!==E&&w.isPropagationStopped())break e;E=B,w.currentTarget=ce;try{E(w)}catch(be){jp(be)}w.currentTarget=null,E=Z}else for(P=0;P<v.length;P++){if(B=v[P],Z=B.instance,ce=B.currentTarget,B=B.listener,Z!==E&&w.isPropagationStopped())break e;E=B,w.currentTarget=ce;try{E(w)}catch(be){jp(be)}w.currentTarget=null,E=Z}}}}function Nt(o,c){var f=c[Ye];f===void 0&&(f=c[Ye]=new Set);var v=o+"__bubble";f.has(v)||(lO(c,o,2,!1),f.add(v))}function Xb(o,c,f){var v=0;c&&(v|=4),lO(f,o,v,c)}var um="_reactListening"+Math.random().toString(36).slice(2);function Zb(o){if(!o[um]){o[um]=!0,Ta.forEach(function(f){f!=="selectionchange"&&(LU.has(f)||Xb(f,!1,o),Xb(f,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[um]||(c[um]=!0,Xb("selectionchange",!1,c))}}function lO(o,c,f,v){switch(LO(c)){case 2:var w=dB;break;case 8:w=fB;break;default:w=hx}f=w.bind(null,c,f,o),w=void 0,!y0||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(w=!0),v?w!==void 0?o.addEventListener(c,f,{capture:!0,passive:w}):o.addEventListener(c,f,!0):w!==void 0?o.addEventListener(c,f,{passive:w}):o.addEventListener(c,f,!1)}function Jb(o,c,f,v,w){var E=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var P=v.tag;if(P===3||P===4){var B=v.stateNode.containerInfo;if(B===w)break;if(P===4)for(P=v.return;P!==null;){var Z=P.tag;if((Z===3||Z===4)&&P.stateNode.containerInfo===w)return;P=P.return}for(;B!==null;){if(P=Ft(B),P===null)return;if(Z=P.tag,Z===5||Z===6||Z===26||Z===27){v=E=P;continue e}B=B.parentNode}}v=v.return}h2(function(){var ce=E,be=g0(f),je=[];e:{var he=U2.get(o);if(he!==void 0){var ge=Sp,qe=o;switch(o){case"keypress":if(bp(f)===0)break e;case"keydown":case"keyup":ge=Aq;break;case"focusin":qe="focus",ge=w0;break;case"focusout":qe="blur",ge=w0;break;case"beforeblur":case"afterblur":ge=w0;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=g2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=yq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=Mq;break;case L2:case z2:case $2:ge=Sq;break;case q2:ge=Nq;break;case"scroll":case"scrollend":ge=gq;break;case"wheel":ge=Lq;break;case"copy":case"cut":case"paste":ge=Cq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=y2;break;case"toggle":case"beforetoggle":ge=$q}var it=(c&4)!==0,cn=!it&&(o==="scroll"||o==="scrollend"),ie=it?he!==null?he+"Capture":null:he;it=[];for(var ee=ce,le;ee!==null;){var we=ee;if(le=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||le===null||ie===null||(we=Id(ee,ie),we!=null&&it.push(gf(ee,we,le))),cn)break;ee=ee.return}0<it.length&&(he=new ge(he,qe,null,f,be),je.push({event:he,listeners:it}))}}if((c&7)===0){e:{if(he=o==="mouseover"||o==="pointerover",ge=o==="mouseout"||o==="pointerout",he&&f!==m0&&(qe=f.relatedTarget||f.fromElement)&&(Ft(qe)||qe[He]))break e;if((ge||he)&&(he=be.window===be?be:(he=be.ownerDocument)?he.defaultView||he.parentWindow:window,ge?(qe=f.relatedTarget||f.toElement,ge=ce,qe=qe?Ft(qe):null,qe!==null&&(cn=i(qe),it=qe.tag,qe!==cn||it!==5&&it!==27&&it!==6)&&(qe=null)):(ge=null,qe=ce),ge!==qe)){if(it=g2,we="onMouseLeave",ie="onMouseEnter",ee="mouse",(o==="pointerout"||o==="pointerover")&&(it=y2,we="onPointerLeave",ie="onPointerEnter",ee="pointer"),cn=ge==null?he:Ea(ge),le=qe==null?he:Ea(qe),he=new it(we,ee+"leave",ge,f,be),he.target=cn,he.relatedTarget=le,we=null,Ft(be)===ce&&(it=new it(ie,ee+"enter",qe,f,be),it.target=le,it.relatedTarget=cn,we=it),cn=we,ge&&qe)t:{for(it=zU,ie=ge,ee=qe,le=0,we=ie;we;we=it(we))le++;we=0;for(var nt=ee;nt;nt=it(nt))we++;for(;0<le-we;)ie=it(ie),le--;for(;0<we-le;)ee=it(ee),we--;for(;le--;){if(ie===ee||ee!==null&&ie===ee.alternate){it=ie;break t}ie=it(ie),ee=it(ee)}it=null}else it=null;ge!==null&&cO(je,he,ge,it,!1),qe!==null&&cn!==null&&cO(je,cn,qe,it,!0)}}e:{if(he=ce?Ea(ce):window,ge=he.nodeName&&he.nodeName.toLowerCase(),ge==="select"||ge==="input"&&he.type==="file")var Qt=T2;else if(j2(he))if(R2)Qt=Qq;else{Qt=Gq;var We=Wq}else ge=he.nodeName,!ge||ge.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?ce&&p0(ce.elementType)&&(Qt=T2):Qt=Yq;if(Qt&&(Qt=Qt(o,ce))){E2(je,Qt,f,be);break e}We&&We(o,he,ce),o==="focusout"&&ce&&he.type==="number"&&ce.memoizedProps.value!=null&&h0(he,"number",he.value)}switch(We=ce?Ea(ce):window,o){case"focusin":(j2(We)||We.contentEditable==="true")&&(Xc=We,_0=ce,Fd=null);break;case"focusout":Fd=_0=Xc=null;break;case"mousedown":D0=!0;break;case"contextmenu":case"mouseup":case"dragend":D0=!1,N2(je,f,be);break;case"selectionchange":if(Xq)break;case"keydown":case"keyup":N2(je,f,be)}var jt;if(j0)e:{switch(o){case"compositionstart":var zt="onCompositionStart";break e;case"compositionend":zt="onCompositionEnd";break e;case"compositionupdate":zt="onCompositionUpdate";break e}zt=void 0}else Kc?w2(o,f)&&(zt="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(zt="onCompositionStart");zt&&(b2&&f.locale!=="ko"&&(Kc||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&Kc&&(jt=p2()):(ms=be,b0="value"in ms?ms.value:ms.textContent,Kc=!0)),We=dm(ce,zt),0<We.length&&(zt=new v2(zt,o,null,f,be),je.push({event:zt,listeners:We}),jt?zt.data=jt:(jt=C2(f),jt!==null&&(zt.data=jt)))),(jt=Uq?Bq(o,f):Hq(o,f))&&(zt=dm(ce,"onBeforeInput"),0<zt.length&&(We=new v2("onBeforeInput","beforeinput",null,f,be),je.push({event:We,listeners:zt}),We.data=jt)),PU(je,o,ce,f,be)}sO(je,c)})}function gf(o,c,f){return{instance:o,listener:c,currentTarget:f}}function dm(o,c){for(var f=c+"Capture",v=[];o!==null;){var w=o,E=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||E===null||(w=Id(o,f),w!=null&&v.unshift(gf(o,w,E)),w=Id(o,c),w!=null&&v.push(gf(o,w,E))),o.tag===3)return v;o=o.return}return[]}function zU(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function cO(o,c,f,v,w){for(var E=c._reactName,P=[];f!==null&&f!==v;){var B=f,Z=B.alternate,ce=B.stateNode;if(B=B.tag,Z!==null&&Z===v)break;B!==5&&B!==26&&B!==27||ce===null||(Z=ce,w?(ce=Id(f,E),ce!=null&&P.unshift(gf(f,ce,Z))):w||(ce=Id(f,E),ce!=null&&P.push(gf(f,ce,Z)))),f=f.return}P.length!==0&&o.push({event:c,listeners:P})}var $U=/\r\n?/g,qU=/\u0000|\uFFFD/g;function uO(o){return(typeof o=="string"?o:""+o).replace($U,`
`).replace(qU,"")}function dO(o,c){return c=uO(c),uO(o)===c}function ln(o,c,f,v,w,E){switch(f){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||Gc(o,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&Gc(o,""+v);break;case"className":Qa(o,"class",v);break;case"tabIndex":Qa(o,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Qa(o,f,v);break;case"style":d2(o,v,E);break;case"data":if(c!=="object"){Qa(o,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||f!=="href")){o.removeAttribute(f);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(f);break}v=vp(""+v),o.setAttribute(f,v);break;case"action":case"formAction":if(typeof v=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(f==="formAction"?(c!=="input"&&ln(o,c,"name",w.name,w,null),ln(o,c,"formEncType",w.formEncType,w,null),ln(o,c,"formMethod",w.formMethod,w,null),ln(o,c,"formTarget",w.formTarget,w,null)):(ln(o,c,"encType",w.encType,w,null),ln(o,c,"method",w.method,w,null),ln(o,c,"target",w.target,w,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(f);break}v=vp(""+v),o.setAttribute(f,v);break;case"onClick":v!=null&&(o.onclick=To);break;case"onScroll":v!=null&&Nt("scroll",o);break;case"onScrollEnd":v!=null&&Nt("scrollend",o);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(f=v.__html,f!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":o.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){o.removeAttribute("xlink:href");break}f=vp(""+v),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(f,""+v):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":v===!0?o.setAttribute(f,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(f,v):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?o.setAttribute(f,v):o.removeAttribute(f);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?o.removeAttribute(f):o.setAttribute(f,v);break;case"popover":Nt("beforetoggle",o),Nt("toggle",o),_i(o,"popover",v);break;case"xlinkActuate":Yt(o,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Yt(o,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Yt(o,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Yt(o,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Yt(o,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Yt(o,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Yt(o,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Yt(o,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Yt(o,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":_i(o,"is",v);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=pq.get(f)||f,_i(o,f,v))}}function ex(o,c,f,v,w,E){switch(f){case"style":d2(o,v,E);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(f=v.__html,f!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof v=="string"?Gc(o,v):(typeof v=="number"||typeof v=="bigint")&&Gc(o,""+v);break;case"onScroll":v!=null&&Nt("scroll",o);break;case"onScrollEnd":v!=null&&Nt("scrollend",o);break;case"onClick":v!=null&&(o.onclick=To);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fc.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(w=f.endsWith("Capture"),c=f.slice(2,w?f.length-7:void 0),E=o[Ie]||null,E=E!=null?E[f]:null,typeof E=="function"&&o.removeEventListener(c,E,w),typeof v=="function")){typeof E!="function"&&E!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(c,v,w);break e}f in o?o[f]=v:v===!0?o.setAttribute(f,""):_i(o,f,v)}}}function Dr(o,c,f){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",o),Nt("load",o);var v=!1,w=!1,E;for(E in f)if(f.hasOwnProperty(E)){var P=f[E];if(P!=null)switch(E){case"src":v=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:ln(o,c,E,P,f,null)}}w&&ln(o,c,"srcSet",f.srcSet,f,null),v&&ln(o,c,"src",f.src,f,null);return;case"input":Nt("invalid",o);var B=E=P=w=null,Z=null,ce=null;for(v in f)if(f.hasOwnProperty(v)){var be=f[v];if(be!=null)switch(v){case"name":w=be;break;case"type":P=be;break;case"checked":Z=be;break;case"defaultChecked":ce=be;break;case"value":E=be;break;case"defaultValue":B=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,c));break;default:ln(o,c,v,be,f,null)}}s2(o,E,B,Z,ce,P,w,!1);return;case"select":Nt("invalid",o),v=P=E=null;for(w in f)if(f.hasOwnProperty(w)&&(B=f[w],B!=null))switch(w){case"value":E=B;break;case"defaultValue":P=B;break;case"multiple":v=B;default:ln(o,c,w,B,f,null)}c=E,f=P,o.multiple=!!v,c!=null?Wc(o,!!v,c,!1):f!=null&&Wc(o,!!v,f,!0);return;case"textarea":Nt("invalid",o),E=w=v=null;for(P in f)if(f.hasOwnProperty(P)&&(B=f[P],B!=null))switch(P){case"value":v=B;break;case"defaultValue":w=B;break;case"children":E=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(91));break;default:ln(o,c,P,B,f,null)}c2(o,v,w,E);return;case"option":for(Z in f)if(f.hasOwnProperty(Z)&&(v=f[Z],v!=null))switch(Z){case"selected":o.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:ln(o,c,Z,v,f,null)}return;case"dialog":Nt("beforetoggle",o),Nt("toggle",o),Nt("cancel",o),Nt("close",o);break;case"iframe":case"object":Nt("load",o);break;case"video":case"audio":for(v=0;v<mf.length;v++)Nt(mf[v],o);break;case"image":Nt("error",o),Nt("load",o);break;case"details":Nt("toggle",o);break;case"embed":case"source":case"link":Nt("error",o),Nt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in f)if(f.hasOwnProperty(ce)&&(v=f[ce],v!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:ln(o,c,ce,v,f,null)}return;default:if(p0(c)){for(be in f)f.hasOwnProperty(be)&&(v=f[be],v!==void 0&&ex(o,c,be,v,f,void 0));return}}for(B in f)f.hasOwnProperty(B)&&(v=f[B],v!=null&&ln(o,c,B,v,f,null))}function UU(o,c,f,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,E=null,P=null,B=null,Z=null,ce=null,be=null;for(ge in f){var je=f[ge];if(f.hasOwnProperty(ge)&&je!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":Z=je;default:v.hasOwnProperty(ge)||ln(o,c,ge,null,v,je)}}for(var he in v){var ge=v[he];if(je=f[he],v.hasOwnProperty(he)&&(ge!=null||je!=null))switch(he){case"type":E=ge;break;case"name":w=ge;break;case"checked":ce=ge;break;case"defaultChecked":be=ge;break;case"value":P=ge;break;case"defaultValue":B=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,c));break;default:ge!==je&&ln(o,c,he,ge,v,je)}}f0(o,P,B,Z,ce,be,E,w);return;case"select":ge=P=B=he=null;for(E in f)if(Z=f[E],f.hasOwnProperty(E)&&Z!=null)switch(E){case"value":break;case"multiple":ge=Z;default:v.hasOwnProperty(E)||ln(o,c,E,null,v,Z)}for(w in v)if(E=v[w],Z=f[w],v.hasOwnProperty(w)&&(E!=null||Z!=null))switch(w){case"value":he=E;break;case"defaultValue":B=E;break;case"multiple":P=E;default:E!==Z&&ln(o,c,w,E,v,Z)}c=B,f=P,v=ge,he!=null?Wc(o,!!f,he,!1):!!v!=!!f&&(c!=null?Wc(o,!!f,c,!0):Wc(o,!!f,f?[]:"",!1));return;case"textarea":ge=he=null;for(B in f)if(w=f[B],f.hasOwnProperty(B)&&w!=null&&!v.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:ln(o,c,B,null,v,w)}for(P in v)if(w=v[P],E=f[P],v.hasOwnProperty(P)&&(w!=null||E!=null))switch(P){case"value":he=w;break;case"defaultValue":ge=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==E&&ln(o,c,P,w,v,E)}l2(o,he,ge);return;case"option":for(var qe in f)if(he=f[qe],f.hasOwnProperty(qe)&&he!=null&&!v.hasOwnProperty(qe))switch(qe){case"selected":o.selected=!1;break;default:ln(o,c,qe,null,v,he)}for(Z in v)if(he=v[Z],ge=f[Z],v.hasOwnProperty(Z)&&he!==ge&&(he!=null||ge!=null))switch(Z){case"selected":o.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:ln(o,c,Z,he,v,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var it in f)he=f[it],f.hasOwnProperty(it)&&he!=null&&!v.hasOwnProperty(it)&&ln(o,c,it,null,v,he);for(ce in v)if(he=v[ce],ge=f[ce],v.hasOwnProperty(ce)&&he!==ge&&(he!=null||ge!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,c));break;default:ln(o,c,ce,he,v,ge)}return;default:if(p0(c)){for(var cn in f)he=f[cn],f.hasOwnProperty(cn)&&he!==void 0&&!v.hasOwnProperty(cn)&&ex(o,c,cn,void 0,v,he);for(be in v)he=v[be],ge=f[be],!v.hasOwnProperty(be)||he===ge||he===void 0&&ge===void 0||ex(o,c,be,he,v,ge);return}}for(var ie in f)he=f[ie],f.hasOwnProperty(ie)&&he!=null&&!v.hasOwnProperty(ie)&&ln(o,c,ie,null,v,he);for(je in v)he=v[je],ge=f[je],!v.hasOwnProperty(je)||he===ge||he==null&&ge==null||ln(o,c,je,he,v,ge)}function fO(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function BU(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,f=performance.getEntriesByType("resource"),v=0;v<f.length;v++){var w=f[v],E=w.transferSize,P=w.initiatorType,B=w.duration;if(E&&B&&fO(P)){for(P=0,B=w.responseEnd,v+=1;v<f.length;v++){var Z=f[v],ce=Z.startTime;if(ce>B)break;var be=Z.transferSize,je=Z.initiatorType;be&&fO(je)&&(Z=Z.responseEnd,P+=be*(Z<B?1:(B-ce)/(Z-ce)))}if(--v,c+=8*(E+P)/(w.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var tx=null,nx=null;function fm(o){return o.nodeType===9?o:o.ownerDocument}function hO(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pO(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function rx(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var ax=null;function HU(){var o=window.event;return o&&o.type==="popstate"?o===ax?!1:(ax=o,!0):(ax=null,!1)}var mO=typeof setTimeout=="function"?setTimeout:void 0,FU=typeof clearTimeout=="function"?clearTimeout:void 0,gO=typeof Promise=="function"?Promise:void 0,VU=typeof queueMicrotask=="function"?queueMicrotask:typeof gO<"u"?function(o){return gO.resolve(null).then(o).catch(WU)}:mO;function WU(o){setTimeout(function(){throw o})}function ks(o){return o==="head"}function vO(o,c){var f=c,v=0;do{var w=f.nextSibling;if(o.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"||f==="/&"){if(v===0){o.removeChild(w),ju(c);return}v--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")v++;else if(f==="html")vf(o.ownerDocument.documentElement);else if(f==="head"){f=o.ownerDocument.head,vf(f);for(var E=f.firstChild;E;){var P=E.nextSibling,B=E.nodeName;E[rn]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&E.rel.toLowerCase()==="stylesheet"||f.removeChild(E),E=P}}else f==="body"&&vf(o.ownerDocument.body);f=w}while(f);ju(c)}function yO(o,c){var f=o;o=0;do{var v=f.nextSibling;if(f.nodeType===1?c?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(c?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),v&&v.nodeType===8)if(f=v.data,f==="/$"){if(o===0)break;o--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||o++;f=v}while(f)}function ix(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var f=c;switch(c=c.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":ix(f),Cn(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function GU(o,c,f,v){for(;o.nodeType===1;){var w=f;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(v){if(!o[rn])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(E=o.getAttribute("rel"),E==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(E!==w.rel||o.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||o.getAttribute("title")!==(w.title==null?null:w.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(E=o.getAttribute("src"),(E!==(w.src==null?null:w.src)||o.getAttribute("type")!==(w.type==null?null:w.type)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&E&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var E=w.name==null?null:""+w.name;if(w.type==="hidden"&&o.getAttribute("name")===E)return o}else return o;if(o=ri(o.nextSibling),o===null)break}return null}function YU(o,c,f){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=ri(o.nextSibling),o===null))return null;return o}function bO(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=ri(o.nextSibling),o===null))return null;return o}function ox(o){return o.data==="$?"||o.data==="$~"}function sx(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function QU(o,c){var f=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||f.readyState!=="loading")c();else{var v=function(){c(),f.removeEventListener("DOMContentLoaded",v)};f.addEventListener("DOMContentLoaded",v),o._reactRetry=v}}function ri(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var lx=null;function xO(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"||f==="/&"){if(c===0)return ri(o.nextSibling);c--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||c++}o=o.nextSibling}return null}function SO(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(c===0)return o;c--}else f!=="/$"&&f!=="/&"||c++}o=o.previousSibling}return null}function wO(o,c,f){switch(c=fm(f),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function vf(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);Cn(o)}var ai=new Map,CO=new Set;function hm(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Bo=z.d;z.d={f:KU,r:XU,D:ZU,C:JU,L:eB,m:tB,X:rB,S:nB,M:aB};function KU(){var o=Bo.f(),c=am();return o||c}function XU(o){var c=Gt(o);c!==null&&c.tag===5&&c.type==="form"?qD(c):Bo.r(o)}var Su=typeof document>"u"?null:document;function jO(o,c,f){var v=Su;if(v&&typeof c=="string"&&c){var w=Ka(c);w='link[rel="'+o+'"][href="'+w+'"]',typeof f=="string"&&(w+='[crossorigin="'+f+'"]'),CO.has(w)||(CO.add(w),o={rel:o,crossOrigin:f,href:c},v.querySelector(w)===null&&(c=v.createElement("link"),Dr(c,"link",o),un(c),v.head.appendChild(c)))}}function ZU(o){Bo.D(o),jO("dns-prefetch",o,null)}function JU(o,c){Bo.C(o,c),jO("preconnect",o,c)}function eB(o,c,f){Bo.L(o,c,f);var v=Su;if(v&&o&&c){var w='link[rel="preload"][as="'+Ka(c)+'"]';c==="image"&&f&&f.imageSrcSet?(w+='[imagesrcset="'+Ka(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(w+='[imagesizes="'+Ka(f.imageSizes)+'"]')):w+='[href="'+Ka(o)+'"]';var E=w;switch(c){case"style":E=wu(o);break;case"script":E=Cu(o)}ai.has(E)||(o=m({rel:"preload",href:c==="image"&&f&&f.imageSrcSet?void 0:o,as:c},f),ai.set(E,o),v.querySelector(w)!==null||c==="style"&&v.querySelector(yf(E))||c==="script"&&v.querySelector(bf(E))||(c=v.createElement("link"),Dr(c,"link",o),un(c),v.head.appendChild(c)))}}function tB(o,c){Bo.m(o,c);var f=Su;if(f&&o){var v=c&&typeof c.as=="string"?c.as:"script",w='link[rel="modulepreload"][as="'+Ka(v)+'"][href="'+Ka(o)+'"]',E=w;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Cu(o)}if(!ai.has(E)&&(o=m({rel:"modulepreload",href:o},c),ai.set(E,o),f.querySelector(w)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(bf(E)))return}v=f.createElement("link"),Dr(v,"link",o),un(v),f.head.appendChild(v)}}}function nB(o,c,f){Bo.S(o,c,f);var v=Su;if(v&&o){var w=Ya(v).hoistableStyles,E=wu(o);c=c||"default";var P=w.get(E);if(!P){var B={loading:0,preload:null};if(P=v.querySelector(yf(E)))B.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":c},f),(f=ai.get(E))&&cx(o,f);var Z=P=v.createElement("link");un(Z),Dr(Z,"link",o),Z._p=new Promise(function(ce,be){Z.onload=ce,Z.onerror=be}),Z.addEventListener("load",function(){B.loading|=1}),Z.addEventListener("error",function(){B.loading|=2}),B.loading|=4,pm(P,c,v)}P={type:"stylesheet",instance:P,count:1,state:B},w.set(E,P)}}}function rB(o,c){Bo.X(o,c);var f=Su;if(f&&o){var v=Ya(f).hoistableScripts,w=Cu(o),E=v.get(w);E||(E=f.querySelector(bf(w)),E||(o=m({src:o,async:!0},c),(c=ai.get(w))&&ux(o,c),E=f.createElement("script"),un(E),Dr(E,"link",o),f.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},v.set(w,E))}}function aB(o,c){Bo.M(o,c);var f=Su;if(f&&o){var v=Ya(f).hoistableScripts,w=Cu(o),E=v.get(w);E||(E=f.querySelector(bf(w)),E||(o=m({src:o,async:!0,type:"module"},c),(c=ai.get(w))&&ux(o,c),E=f.createElement("script"),un(E),Dr(E,"link",o),f.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},v.set(w,E))}}function EO(o,c,f,v){var w=(w=ue.current)?hm(w):null;if(!w)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(c=wu(f.href),f=Ya(w).hoistableStyles,v=f.get(c),v||(v={type:"style",instance:null,count:0,state:null},f.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=wu(f.href);var E=Ya(w).hoistableStyles,P=E.get(o);if(P||(w=w.ownerDocument||w,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(o,P),(E=w.querySelector(yf(o)))&&!E._p&&(P.instance=E,P.state.loading=5),ai.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},ai.set(o,f),E||iB(w,o,f,P.state))),c&&v===null)throw Error(r(528,""));return P}if(c&&v!==null)throw Error(r(529,""));return null;case"script":return c=f.async,f=f.src,typeof f=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Cu(f),f=Ya(w).hoistableScripts,v=f.get(c),v||(v={type:"script",instance:null,count:0,state:null},f.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function wu(o){return'href="'+Ka(o)+'"'}function yf(o){return'link[rel="stylesheet"]['+o+"]"}function TO(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function iB(o,c,f,v){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=o.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),Dr(c,"link",f),un(c),o.head.appendChild(c))}function Cu(o){return'[src="'+Ka(o)+'"]'}function bf(o){return"script[async]"+o}function RO(o,c,f){if(c.count++,c.instance===null)switch(c.type){case"style":var v=o.querySelector('style[data-href~="'+Ka(f.href)+'"]');if(v)return c.instance=v,un(v),v;var w=m({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return v=(o.ownerDocument||o).createElement("style"),un(v),Dr(v,"style",w),pm(v,f.precedence,o),c.instance=v;case"stylesheet":w=wu(f.href);var E=o.querySelector(yf(w));if(E)return c.state.loading|=4,c.instance=E,un(E),E;v=TO(f),(w=ai.get(w))&&cx(v,w),E=(o.ownerDocument||o).createElement("link"),un(E);var P=E;return P._p=new Promise(function(B,Z){P.onload=B,P.onerror=Z}),Dr(E,"link",v),c.state.loading|=4,pm(E,f.precedence,o),c.instance=E;case"script":return E=Cu(f.src),(w=o.querySelector(bf(E)))?(c.instance=w,un(w),w):(v=f,(w=ai.get(E))&&(v=m({},f),ux(v,w)),o=o.ownerDocument||o,w=o.createElement("script"),un(w),Dr(w,"link",v),o.head.appendChild(w),c.instance=w);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,pm(v,f.precedence,o));return c.instance}function pm(o,c,f){for(var v=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=v.length?v[v.length-1]:null,E=w,P=0;P<v.length;P++){var B=v[P];if(B.dataset.precedence===c)E=B;else if(E!==w)break}E?E.parentNode.insertBefore(o,E.nextSibling):(c=f.nodeType===9?f.head:f,c.insertBefore(o,c.firstChild))}function cx(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function ux(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var mm=null;function _O(o,c,f){if(mm===null){var v=new Map,w=mm=new Map;w.set(f,v)}else w=mm,v=w.get(f),v||(v=new Map,w.set(f,v));if(v.has(o))return v;for(v.set(o,null),f=f.getElementsByTagName(o),w=0;w<f.length;w++){var E=f[w];if(!(E[rn]||E[ke]||o==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var P=E.getAttribute(c)||"";P=o+P;var B=v.get(P);B?B.push(E):v.set(P,[E])}}return v}function DO(o,c,f){o=o.ownerDocument||o,o.head.insertBefore(f,c==="title"?o.querySelector("head > title"):null)}function oB(o,c,f){if(f===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function AO(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function sB(o,c,f,v){if(f.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var w=wu(v.href),E=c.querySelector(yf(w));if(E){c=E._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=gm.bind(o),c.then(o,o)),f.state.loading|=4,f.instance=E,un(E);return}E=c.ownerDocument||c,v=TO(v),(w=ai.get(w))&&cx(v,w),E=E.createElement("link"),un(E);var P=E;P._p=new Promise(function(B,Z){P.onload=B,P.onerror=Z}),Dr(E,"link",v),f.instance=E}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(f,c),(c=f.state.preload)&&(f.state.loading&3)===0&&(o.count++,f=gm.bind(o),c.addEventListener("load",f),c.addEventListener("error",f))}}var dx=0;function lB(o,c){return o.stylesheets&&o.count===0&&ym(o,o.stylesheets),0<o.count||0<o.imgCount?function(f){var v=setTimeout(function(){if(o.stylesheets&&ym(o,o.stylesheets),o.unsuspend){var E=o.unsuspend;o.unsuspend=null,E()}},6e4+c);0<o.imgBytes&&dx===0&&(dx=62500*BU());var w=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&ym(o,o.stylesheets),o.unsuspend)){var E=o.unsuspend;o.unsuspend=null,E()}},(o.imgBytes>dx?50:800)+c);return o.unsuspend=f,function(){o.unsuspend=null,clearTimeout(v),clearTimeout(w)}}:null}function gm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ym(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var vm=null;function ym(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,vm=new Map,c.forEach(cB,o),vm=null,gm.call(o))}function cB(o,c){if(!(c.state.loading&4)){var f=vm.get(o);if(f)var v=f.get(null);else{f=new Map,vm.set(o,f);for(var w=o.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<w.length;E++){var P=w[E];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(f.set(P.dataset.precedence,P),v=P)}v&&f.set(null,v)}w=c.instance,P=w.getAttribute("data-precedence"),E=f.get(P)||v,E===v&&f.set(null,w),f.set(P,w),this.count++,v=gm.bind(this),w.addEventListener("load",v),w.addEventListener("error",v),E?E.parentNode.insertBefore(w,E.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(w,o.firstChild)),c.state.loading|=4}}var xf={$$typeof:R,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function uB(o,c,f,v,w,E,P,B,Z){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.hiddenUpdates=Ki(null),this.identifierPrefix=v,this.onUncaughtError=w,this.onCaughtError=E,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function OO(o,c,f,v,w,E,P,B,Z,ce,be,je){return o=new uB(o,c,f,P,Z,ce,be,je,B),c=1,E===!0&&(c|=24),E=Da(3,null,null,c),o.current=E,E.stateNode=o,c=F0(),c.refCount++,o.pooledCache=c,c.refCount++,E.memoizedState={element:v,isDehydrated:f,cache:c},Y0(E),o}function kO(o){return o?(o=eu,o):eu}function MO(o,c,f,v,w,E){w=kO(w),v.context===null?v.context=w:v.pendingContext=w,v=Ss(c),v.payload={element:f},E=E===void 0?null:E,E!==null&&(v.callback=E),f=ws(o,v,c),f!==null&&(la(f,o,c),Xd(f,o,c))}function PO(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<c?f:c}}function fx(o,c){PO(o,c),(o=o.alternate)&&PO(o,c)}function NO(o){if(o.tag===13||o.tag===31){var c=El(o,67108864);c!==null&&la(c,o,67108864),fx(o,67108864)}}function IO(o){if(o.tag===13||o.tag===31){var c=Pa();c=pe(c);var f=El(o,c);f!==null&&la(f,o,c),fx(o,c)}}var bm=!0;function dB(o,c,f,v){var w=N.T;N.T=null;var E=z.p;try{z.p=2,hx(o,c,f,v)}finally{z.p=E,N.T=w}}function fB(o,c,f,v){var w=N.T;N.T=null;var E=z.p;try{z.p=8,hx(o,c,f,v)}finally{z.p=E,N.T=w}}function hx(o,c,f,v){if(bm){var w=px(v);if(w===null)Jb(o,c,v,xm,f),zO(o,v);else if(pB(w,o,c,f,v))v.stopPropagation();else if(zO(o,v),c&4&&-1<hB.indexOf(o)){for(;w!==null;){var E=Gt(w);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var P=ja(E.pendingLanes);if(P!==0){var B=E;for(B.pendingLanes|=2,B.entangledLanes|=2;P;){var Z=1<<31-_n(P);B.entanglements[1]|=Z,P&=~Z}eo(E),(Xt&6)===0&&(nm=lt()+500,pf(0))}}break;case 31:case 13:B=El(E,2),B!==null&&la(B,E,2),am(),fx(E,2)}if(E=px(v),E===null&&Jb(o,c,v,xm,f),E===w)break;w=E}w!==null&&v.stopPropagation()}else Jb(o,c,v,null,f)}}function px(o){return o=g0(o),mx(o)}var xm=null;function mx(o){if(xm=null,o=Ft(o),o!==null){var c=i(o);if(c===null)o=null;else{var f=c.tag;if(f===13){if(o=l(c),o!==null)return o;o=null}else if(f===31){if(o=u(c),o!==null)return o;o=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return xm=o,null}function LO(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vt()){case dr:return 2;case Ht:return 8;case At:case zn:return 32;case Cr:return 268435456;default:return 32}default:return 32}}var gx=!1,Ms=null,Ps=null,Ns=null,Sf=new Map,wf=new Map,Is=[],hB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zO(o,c){switch(o){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":Sf.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":wf.delete(c.pointerId)}}function Cf(o,c,f,v,w,E){return o===null||o.nativeEvent!==E?(o={blockedOn:c,domEventName:f,eventSystemFlags:v,nativeEvent:E,targetContainers:[w]},c!==null&&(c=Gt(c),c!==null&&NO(c)),o):(o.eventSystemFlags|=v,c=o.targetContainers,w!==null&&c.indexOf(w)===-1&&c.push(w),o)}function pB(o,c,f,v,w){switch(c){case"focusin":return Ms=Cf(Ms,o,c,f,v,w),!0;case"dragenter":return Ps=Cf(Ps,o,c,f,v,w),!0;case"mouseover":return Ns=Cf(Ns,o,c,f,v,w),!0;case"pointerover":var E=w.pointerId;return Sf.set(E,Cf(Sf.get(E)||null,o,c,f,v,w)),!0;case"gotpointercapture":return E=w.pointerId,wf.set(E,Cf(wf.get(E)||null,o,c,f,v,w)),!0}return!1}function $O(o){var c=Ft(o.target);if(c!==null){var f=i(c);if(f!==null){if(c=f.tag,c===13){if(c=l(f),c!==null){o.blockedOn=c,Be(o.priority,function(){IO(f)});return}}else if(c===31){if(c=u(f),c!==null){o.blockedOn=c,Be(o.priority,function(){IO(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Sm(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var f=px(o.nativeEvent);if(f===null){f=o.nativeEvent;var v=new f.constructor(f.type,f);m0=v,f.target.dispatchEvent(v),m0=null}else return c=Gt(f),c!==null&&NO(c),o.blockedOn=f,!1;c.shift()}return!0}function qO(o,c,f){Sm(o)&&f.delete(c)}function mB(){gx=!1,Ms!==null&&Sm(Ms)&&(Ms=null),Ps!==null&&Sm(Ps)&&(Ps=null),Ns!==null&&Sm(Ns)&&(Ns=null),Sf.forEach(qO),wf.forEach(qO)}function wm(o,c){o.blockedOn===c&&(o.blockedOn=null,gx||(gx=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,mB)))}var Cm=null;function UO(o){Cm!==o&&(Cm=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Cm===o&&(Cm=null);for(var c=0;c<o.length;c+=3){var f=o[c],v=o[c+1],w=o[c+2];if(typeof v!="function"){if(mx(v||f)===null)continue;break}var E=Gt(f);E!==null&&(o.splice(c,3),c-=3,pb(E,{pending:!0,data:w,method:f.method,action:v},v,w))}}))}function ju(o){function c(Z){return wm(Z,o)}Ms!==null&&wm(Ms,o),Ps!==null&&wm(Ps,o),Ns!==null&&wm(Ns,o),Sf.forEach(c),wf.forEach(c);for(var f=0;f<Is.length;f++){var v=Is[f];v.blockedOn===o&&(v.blockedOn=null)}for(;0<Is.length&&(f=Is[0],f.blockedOn===null);)$O(f),f.blockedOn===null&&Is.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(v=0;v<f.length;v+=3){var w=f[v],E=f[v+1],P=w[Ie]||null;if(typeof E=="function")P||UO(f);else if(P){var B=null;if(E&&E.hasAttribute("formAction")){if(w=E,P=E[Ie]||null)B=P.formAction;else if(mx(w)!==null)continue}else B=P.action;typeof B=="function"?f[v+1]=B:(f.splice(v,3),v-=3),UO(f)}}}function BO(){function o(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(P){return w=P})},focusReset:"manual",scroll:"manual"})}function c(){w!==null&&(w(),w=null),v||setTimeout(f,20)}function f(){if(!v&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,w=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(f,100),function(){v=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),w!==null&&(w(),w=null)}}}function vx(o){this._internalRoot=o}jm.prototype.render=vx.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var f=c.current,v=Pa();MO(f,v,o,c,null,null)},jm.prototype.unmount=vx.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;MO(o.current,2,null,o,null,null),am(),c[He]=null}};function jm(o){this._internalRoot=o}jm.prototype.unstable_scheduleHydration=function(o){if(o){var c=_e();o={blockedOn:null,target:o,priority:c};for(var f=0;f<Is.length&&c!==0&&c<Is[f].priority;f++);Is.splice(f,0,o),f===0&&$O(o)}};var HO=t.version;if(HO!=="19.2.3")throw Error(r(527,HO,"19.2.3"));z.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=h(c),o=o!==null?p(o):null,o=o===null?null:o.stateNode,o};var gB={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Em=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Em.isDisabled&&Em.supportsFiber)try{Wt=Em.inject(gB),Ct=Em}catch{}}return Of.createRoot=function(o,c){if(!a(o))throw Error(r(299));var f=!1,v="",w=KD,E=XD,P=ZD;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(E=c.onCaughtError),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),c=OO(o,1,!1,null,null,f,v,null,w,E,P,BO),o[He]=c.current,Zb(o),new vx(c)},Of.hydrateRoot=function(o,c,f){if(!a(o))throw Error(r(299));var v=!1,w="",E=KD,P=XD,B=ZD,Z=null;return f!=null&&(f.unstable_strictMode===!0&&(v=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onUncaughtError!==void 0&&(E=f.onUncaughtError),f.onCaughtError!==void 0&&(P=f.onCaughtError),f.onRecoverableError!==void 0&&(B=f.onRecoverableError),f.formState!==void 0&&(Z=f.formState)),c=OO(o,1,!0,c,f??null,v,w,Z,E,P,B,BO),c.context=kO(null),f=c.current,v=Pa(),v=pe(v),w=Ss(v),w.callback=null,ws(f,w,v),f=v,c.current.lanes=f,Eo(c,f),eo(c),o[He]=c.current,Zb(o),new jm(c)},Of.version="19.2.3",Of}var wP;function qce(){if(wP)return nS.exports;wP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),nS.exports=$ce(),nS.exports}var Uce=qce();var U$=e=>{throw TypeError(e)},Bce=(e,t,n)=>t.has(e)||U$("Cannot "+n),iS=(e,t,n)=>(Bce(e,t,"read from private field"),n?n.call(e):t.get(e)),Hce=(e,t,n)=>t.has(e)?U$("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),CP="popstate";function Fce(e={}){function t(r,a){let{pathname:i,search:l,hash:u}=r.location;return ch("",{pathname:i,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:So(a)}return Wce(t,n,null,e)}function bt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function On(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Vce(){return Math.random().toString(36).substring(2,10)}function jP(e,t){return{usr:e.state,key:e.key,idx:t}}function ch(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?fs(t):t,state:n,key:t&&t.key||r||Vce()}}function So({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function fs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Wce(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:i=!1}=r,l=a.history,u="POP",d=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function m(){u="POP";let C=p(),T=C==null?null:C-h;h=C,d&&d({action:u,location:x.location,delta:T})}function g(C,T){u="PUSH";let j=ch(x.location,C,T);h=p()+1;let R=jP(j,h),_=x.createHref(j);try{l.pushState(R,"",_)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;a.location.assign(_)}i&&d&&d({action:u,location:x.location,delta:1})}function y(C,T){u="REPLACE";let j=ch(x.location,C,T);h=p();let R=jP(j,h),_=x.createHref(j);l.replaceState(R,"",_),i&&d&&d({action:u,location:x.location,delta:0})}function S(C){return B$(C)}let x={get action(){return u},get location(){return e(a,l)},listen(C){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(CP,m),d=C,()=>{a.removeEventListener(CP,m),d=null}},createHref(C){return t(a,C)},createURL:S,encodeLocation(C){let T=S(C);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:g,replace:y,go(C){return l.go(C)}};return x}function B$(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),bt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:So(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Uf,EP=class{constructor(e){if(Hce(this,Uf,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(iS(this,Uf).has(e))return iS(this,Uf).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){iS(this,Uf).set(e,t)}};Uf=new WeakMap;var Gce=new Set(["lazy","caseSensitive","path","id","index","children"]);function Yce(e){return Gce.has(e)}var Qce=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function Kce(e){return Qce.has(e)}function Xce(e){return e.index===!0}function uh(e,t,n=[],r={},a=!1){return e.map((i,l)=>{let u=[...n,String(l)],d=typeof i.id=="string"?i.id:u.join("-");if(bt(i.index!==!0||!i.children,"Cannot specify children on an index route"),bt(a||!r[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),Xce(i)){let h={...i,id:d};return r[d]=TP(h,t(h)),h}else{let h={...i,id:d,children:void 0};return r[d]=TP(h,t(h)),i.children&&(h.children=uh(i.children,t,u,r,a)),h}})}function TP(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function Fs(e,t,n="/"){return Bf(e,t,n,!1)}function Bf(e,t,n,r){let a=typeof t=="string"?fs(t):t,i=gi(a.pathname||"/",n);if(i==null)return null;let l=H$(e);Jce(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=uue(i);u=lue(l[d],h,r)}return u}function Zce(e,t){let{route:n,pathname:r,params:a}=e;return{id:n.id,pathname:r,params:a,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function H$(e,t=[],n=[],r="",a=!1){let i=(l,u,d=a,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;bt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let m=po([r,p.relativePath]),g=n.concat(p);l.children&&l.children.length>0&&(bt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),H$(l.children,t,g,m,d)),!(l.path==null&&!l.index)&&t.push({path:m,score:oue(m,l.index),routesMeta:g})};return e.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))i(l,u);else for(let d of F$(l.path))i(l,u,!0,d)}),t}function F$(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let l=F$(r.join("/")),u=[];return u.push(...l.map(d=>d===""?i:[i,d].join("/"))),a&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function Jce(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:sue(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var eue=/^:[\w-]+$/,tue=3,nue=2,rue=1,aue=10,iue=-2,RP=e=>e==="*";function oue(e,t){let n=e.split("/"),r=n.length;return n.some(RP)&&(r+=iue),t&&(r+=nue),n.filter(a=>!RP(a)).reduce((a,i)=>a+(eue.test(i)?tue:i===""?rue:aue),r)}function sue(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function lue(e,t,n=!1){let{routesMeta:r}=e,a={},i="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,p=i==="/"?t:t.slice(i.length)||"/",m=rv({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),g=d.route;if(!m&&h&&n&&!r[r.length-1].route.index&&(m=rv({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(a,m.params),l.push({params:a,pathname:po([i,m.pathname]),pathnameBase:pue(po([i,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(i=po([i,m.pathnameBase]))}return l}function rv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=cue(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:m},g)=>{if(p==="*"){let S=u[g]||"";l=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const y=u[g];return m&&!y?h[p]=void 0:h[p]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:l,pattern:e}}function cue(e,t=!1,n=!0){On(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function uue(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return On(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function gi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function due({basename:e,pathname:t}){return t==="/"?e:po([e,t])}var fue=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ny=e=>fue.test(e);function hue(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?fs(e):e,i;if(n)if(Ny(n))i=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),On(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?i=_P(n.substring(1),"/"):i=_P(n,t)}else i=t;return{pathname:i,search:mue(r),hash:gue(a)}}function _P(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function oS(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function V$(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Iy(e){let t=V$(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Ly(e,t,n,r=!1){let a;typeof e=="string"?a=fs(e):(a={...e},bt(!a.pathname||!a.pathname.includes("?"),oS("?","pathname","search",a)),bt(!a.pathname||!a.pathname.includes("#"),oS("#","pathname","hash",a)),bt(!a.search||!a.search.includes("#"),oS("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,u;if(l==null)u=n;else{let m=t.length-1;if(!r&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;a.pathname=g.join("/")}u=m>=0?t[m]:"/"}let d=hue(a,u),h=l&&l!=="/"&&l.endsWith("/"),p=(i||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var po=e=>e.join("/").replace(/\/\/+/g,"/"),pue=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mue=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gue=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,zy=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function dh(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function ep(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Gs=Symbol("Uninstrumented");function vue(e,t){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(a=>a({id:t.id,index:t.index,path:t.path,instrument(i){let l=Object.keys(n);for(let u of l)i[u]&&n[u].push(i[u])}}));let r={};if(typeof t.lazy=="function"&&n.lazy.length>0){let a=Hu(n.lazy,t.lazy,()=>{});a&&(r.lazy=a)}if(typeof t.lazy=="object"){let a=t.lazy;["middleware","loader","action"].forEach(i=>{let l=a[i],u=n[`lazy.${i}`];if(typeof l=="function"&&u.length>0){let d=Hu(u,l,()=>{});d&&(r.lazy=Object.assign(r.lazy||{},{[i]:d}))}})}return["loader","action"].forEach(a=>{let i=t[a];if(typeof i=="function"&&n[a].length>0){let l=i[Gs]??i,u=Hu(n[a],l,(...d)=>DP(d[0]));u&&(u[Gs]=l,r[a]=u)}}),t.middleware&&t.middleware.length>0&&n.middleware.length>0&&(r.middleware=t.middleware.map(a=>{let i=a[Gs]??a,l=Hu(n.middleware,i,(...u)=>DP(u[0]));return l?(l[Gs]=i,l):a})),r}function yue(e,t){let n={navigate:[],fetch:[]};if(t.forEach(r=>r({instrument(a){let i=Object.keys(a);for(let l of i)a[l]&&n[l].push(a[l])}})),n.navigate.length>0){let r=e.navigate[Gs]??e.navigate,a=Hu(n.navigate,r,(...i)=>{let[l,u]=i;return{to:typeof l=="number"||typeof l=="string"?l:l?So(l):".",...AP(e,u??{})}});a&&(a[Gs]=r,e.navigate=a)}if(n.fetch.length>0){let r=e.fetch[Gs]??e.fetch,a=Hu(n.fetch,r,(...i)=>{let[l,,u,d]=i;return{href:u??".",fetcherKey:l,...AP(e,d??{})}});a&&(a[Gs]=r,e.fetch=a)}return e}function Hu(e,t,n){return e.length===0?null:async(...r)=>{let a=await W$(e,n(...r),()=>t(...r),e.length-1);if(a.type==="error")throw a.value;return a.value}}async function W$(e,t,n,r){let a=e[r],i;if(a){let l,u=async()=>(l?console.error("You cannot call instrumented handlers more than once"):l=W$(e,t,n,r-1),i=await l,bt(i,"Expected a result"),i.type==="error"&&i.value instanceof Error?{status:"error",error:i.value}:{status:"success",error:void 0});try{await a(u,t)}catch(d){console.error("An instrumentation function threw an error:",d)}l||await u(),await l}else try{i={type:"success",value:await n()}}catch(l){i={type:"error",value:l}}return i||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function DP(e){let{request:t,context:n,params:r,unstable_pattern:a}=e;return{request:bue(t),params:{...r},unstable_pattern:a,context:xue(n)}}function AP(e,t){return{currentUrl:So(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function bue(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function xue(e){if(wue(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var Sue=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wue(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===Sue}var G$=["POST","PUT","PATCH","DELETE"],Cue=new Set(G$),jue=["GET",...G$],Eue=new Set(jue),Tue=new Set([301,302,303,307,308]),Rue=new Set([307,308]),sS={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},_ue={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},kf={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Due=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Y$="remix-router-transitions",Q$=Symbol("ResetLoaderData");function Aue(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";bt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],a=e.mapRouteProperties||Due,i=a;if(e.unstable_instrumentations){let K=e.unstable_instrumentations;i=ae=>({...a(ae),...vue(K.map(pe=>pe.route).filter(Boolean),ae)})}let l={},u=uh(e.routes,i,void 0,l),d,h=e.basename||"/";h.startsWith("/")||(h=`/${h}`);let p=e.dataStrategy||Nue,m={...e.future},g=null,y=new Set,S=null,x=null,C=null,T=e.hydrationData!=null,j=Fs(u,e.history.location,h),R=!1,_=null,A;if(j==null&&!e.patchRoutesOnNavigation){let K=li(404,{pathname:e.history.location.pathname}),{matches:ae,route:pe}=qm(u);A=!0,j=ae,_={[pe.id]:K}}else if(j&&!e.hydrationData&&qn(j,u,e.history.location.pathname).active&&(j=null),j)if(j.some(K=>K.route.lazy))A=!1;else if(!j.some(K=>r_(K.route)))A=!0;else{let K=e.hydrationData?e.hydrationData.loaderData:null,ae=e.hydrationData?e.hydrationData.errors:null;if(ae){let pe=j.findIndex(Te=>ae[Te.route.id]!==void 0);A=j.slice(0,pe+1).every(Te=>!Nj(Te.route,K,ae))}else A=j.every(pe=>!Nj(pe.route,K,ae))}else{A=!1,j=[];let K=qn(null,u,e.history.location.pathname);K.active&&K.matches&&(R=!0,j=K.matches)}let k,D={historyAction:e.history.action,location:e.history.location,matches:j,initialized:A,navigation:sS,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||_,fetchers:new Map,blockers:new Map},O="POP",M=null,I=!1,L,V=!1,q=new Map,U=null,W=!1,N=!1,z=new Set,$=new Map,G=0,X=-1,H=new Map,F=new Set,Q=new Map,J=new Map,re=new Set,ue=new Map,Ee,Re=null;function Se(){if(g=e.history.listen(({action:K,location:ae,delta:pe})=>{if(Ee){Ee(),Ee=void 0;return}On(ue.size===0||pe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Te=Ca({currentLocation:D.location,nextLocation:ae,historyAction:K});if(Te&&pe!=null){let _e=new Promise(Be=>{Ee=Be});e.history.go(pe*-1),kn(Te,{state:"blocked",location:ae,proceed(){kn(Te,{state:"proceeding",proceed:void 0,reset:void 0,location:ae}),_e.then(()=>e.history.go(pe))},reset(){let Be=new Map(D.blockers);Be.set(Te,kf),Fe({blockers:Be})}}),M?.resolve(),M=null;return}return Ut(K,ae)}),n){Xue(t,q);let K=()=>Zue(t,q);t.addEventListener("pagehide",K),U=()=>t.removeEventListener("pagehide",K)}return D.initialized||Ut("POP",D.location,{initialHydration:!0}),k}function Ge(){g&&g(),U&&U(),y.clear(),L&&L.abort(),D.fetchers.forEach((K,ae)=>Kn(ae)),D.blockers.forEach((K,ae)=>$n(ae))}function Ze(K){return y.add(K),()=>y.delete(K)}function Fe(K,ae={}){K.matches&&(K.matches=K.matches.map(_e=>{let Be=l[_e.route.id],$e=_e.route;return $e.element!==Be.element||$e.errorElement!==Be.errorElement||$e.hydrateFallbackElement!==Be.hydrateFallbackElement?{..._e,route:Be}:_e})),D={...D,...K};let pe=[],Te=[];D.fetchers.forEach((_e,Be)=>{_e.state==="idle"&&(re.has(Be)?pe.push(Be):Te.push(Be))}),re.forEach(_e=>{!D.fetchers.has(_e)&&!$.has(_e)&&pe.push(_e)}),[...y].forEach(_e=>_e(D,{deletedFetchers:pe,newErrors:K.errors??null,viewTransitionOpts:ae.viewTransitionOpts,flushSync:ae.flushSync===!0})),pe.forEach(_e=>Kn(_e)),Te.forEach(_e=>D.fetchers.delete(_e))}function ze(K,ae,{flushSync:pe}={}){let Te=D.actionData!=null&&D.navigation.formMethod!=null&&Kr(D.navigation.formMethod)&&D.navigation.state==="loading"&&K.state?._isRedirect!==!0,_e;ae.actionData?Object.keys(ae.actionData).length>0?_e=ae.actionData:_e=null:Te?_e=D.actionData:_e=null;let Be=ae.loaderData?qP(D.loaderData,ae.loaderData,ae.matches||[],ae.errors):D.loaderData,$e=D.blockers;$e.size>0&&($e=new Map($e),$e.forEach((Ye,Ke)=>$e.set(Ke,kf)));let ke=W?!1:xl(K,ae.matches||D.matches),Ie=I===!0||D.navigation.formMethod!=null&&Kr(D.navigation.formMethod)&&K.state?._isRedirect!==!0;d&&(u=d,d=void 0),W||O==="POP"||(O==="PUSH"?e.history.push(K,K.state):O==="REPLACE"&&e.history.replace(K,K.state));let He;if(O==="POP"){let Ye=q.get(D.location.pathname);Ye&&Ye.has(K.pathname)?He={currentLocation:D.location,nextLocation:K}:q.has(K.pathname)&&(He={currentLocation:K,nextLocation:D.location})}else if(V){let Ye=q.get(D.location.pathname);Ye?Ye.add(K.pathname):(Ye=new Set([K.pathname]),q.set(D.location.pathname,Ye)),He={currentLocation:D.location,nextLocation:K}}Fe({...ae,actionData:_e,loaderData:Be,historyAction:O,location:K,initialized:!0,navigation:sS,revalidation:"idle",restoreScrollPosition:ke,preventScrollReset:Ie,blockers:$e},{viewTransitionOpts:He,flushSync:pe===!0}),O="POP",I=!1,V=!1,W=!1,N=!1,M?.resolve(),M=null,Re?.resolve(),Re=null}async function pt(K,ae){if(M?.resolve(),M=null,typeof K=="number"){M||(M=FP());let Qe=M.promise;return e.history.go(K),Qe}let pe=Pj(D.location,D.matches,h,K,ae?.fromRouteId,ae?.relative),{path:Te,submission:_e,error:Be}=OP(!1,pe,ae),$e=D.location,ke=ch(D.location,Te,ae&&ae.state);ke={...ke,...e.history.encodeLocation(ke)};let Ie=ae&&ae.replace!=null?ae.replace:void 0,He="PUSH";Ie===!0?He="REPLACE":Ie===!1||_e!=null&&Kr(_e.formMethod)&&_e.formAction===D.location.pathname+D.location.search&&(He="REPLACE");let Ye=ae&&"preventScrollReset"in ae?ae.preventScrollReset===!0:void 0,Ke=(ae&&ae.flushSync)===!0,Ot=Ca({currentLocation:$e,nextLocation:ke,historyAction:He});if(Ot){kn(Ot,{state:"blocked",location:ke,proceed(){kn(Ot,{state:"proceeding",proceed:void 0,reset:void 0,location:ke}),pt(K,ae)},reset(){let Qe=new Map(D.blockers);Qe.set(Ot,kf),Fe({blockers:Qe})}});return}await Ut(He,ke,{submission:_e,pendingError:Be,preventScrollReset:Ye,replace:ae&&ae.replace,enableViewTransition:ae&&ae.viewTransition,flushSync:Ke})}function Xe(){Re||(Re=FP()),Ht(),Fe({revalidation:"loading"});let K=Re.promise;return D.navigation.state==="submitting"?K:D.navigation.state==="idle"?(Ut(D.historyAction,D.location,{startUninterruptedRevalidation:!0}),K):(Ut(O||D.historyAction,D.navigation.location,{overrideNavigation:D.navigation,enableViewTransition:V===!0}),K)}async function Ut(K,ae,pe){L&&L.abort(),L=null,O=K,W=(pe&&pe.startUninterruptedRevalidation)===!0,jr(D.location,D.matches),I=(pe&&pe.preventScrollReset)===!0,V=(pe&&pe.enableViewTransition)===!0;let Te=d||u,_e=pe&&pe.overrideNavigation,Be=pe?.initialHydration&&D.matches&&D.matches.length>0&&!R?D.matches:Fs(Te,ae,h),$e=(pe&&pe.flushSync)===!0;if(Be&&D.initialized&&!N&&Hue(D.location,ae)&&!(pe&&pe.submission&&Kr(pe.submission.formMethod))){ze(ae,{matches:Be},{flushSync:$e});return}let ke=qn(Be,Te,ae.pathname);if(ke.active&&ke.matches&&(Be=ke.matches),!Be){let{error:Cn,notFoundMatches:Ft,route:Gt}=Ti(ae.pathname);ze(ae,{matches:Ft,loaderData:{},errors:{[Gt.id]:Cn}},{flushSync:$e});return}L=new AbortController;let Ie=Uu(e.history,ae,L.signal,pe&&pe.submission),He=e.getContext?await e.getContext():new EP,Ye;if(pe&&pe.pendingError)Ye=[Vs(Be).route.id,{type:"error",error:pe.pendingError}];else if(pe&&pe.submission&&Kr(pe.submission.formMethod)){let Cn=await ot(Ie,ae,pe.submission,Be,He,ke.active,pe&&pe.initialHydration===!0,{replace:pe.replace,flushSync:$e});if(Cn.shortCircuited)return;if(Cn.pendingActionResult){let[Ft,Gt]=Cn.pendingActionResult;if(Na(Gt)&&dh(Gt.error)&&Gt.error.status===404){L=null,ze(ae,{matches:Cn.matches,loaderData:{},errors:{[Ft]:Gt.error}});return}}Be=Cn.matches||Be,Ye=Cn.pendingActionResult,_e=lS(ae,pe.submission),$e=!1,ke.active=!1,Ie=Uu(e.history,Ie.url,Ie.signal)}let{shortCircuited:Ke,matches:Ot,loaderData:Qe,errors:rn}=await Dt(Ie,ae,Be,He,ke.active,_e,pe&&pe.submission,pe&&pe.fetcherSubmission,pe&&pe.replace,pe&&pe.initialHydration===!0,$e,Ye);Ke||(L=null,ze(ae,{matches:Ot||Be,...UP(Ye),loaderData:Qe,errors:rn}))}async function ot(K,ae,pe,Te,_e,Be,$e,ke={}){Ht();let Ie=Que(ae,pe);if(Fe({navigation:Ie},{flushSync:ke.flushSync===!0}),Be){let Ke=await Ki(Te,ae.pathname,K.signal);if(Ke.type==="aborted")return{shortCircuited:!0};if(Ke.type==="error"){if(Ke.partialMatches.length===0){let{matches:Qe,route:rn}=qm(u);return{matches:Qe,pendingActionResult:[rn.id,{type:"error",error:Ke.error}]}}let Ot=Vs(Ke.partialMatches).route.id;return{matches:Ke.partialMatches,pendingActionResult:[Ot,{type:"error",error:Ke.error}]}}else if(Ke.matches)Te=Ke.matches;else{let{notFoundMatches:Ot,error:Qe,route:rn}=Ti(ae.pathname);return{matches:Ot,pendingActionResult:[rn.id,{type:"error",error:Qe}]}}}let He,Ye=mg(Te,ae);if(!Ye.route.action&&!Ye.route.lazy)He={type:"error",error:li(405,{method:K.method,pathname:ae.pathname,routeId:Ye.route.id})};else{let Ke=Yu(i,l,K,Te,Ye,$e?[]:r,_e),Ot=await vt(K,Ke,_e,null);if(He=Ot[Ye.route.id],!He){for(let Qe of Te)if(Ot[Qe.route.id]){He=Ot[Qe.route.id];break}}if(K.signal.aborted)return{shortCircuited:!0}}if(tc(He)){let Ke;return ke&&ke.replace!=null?Ke=ke.replace:Ke=LP(He.response.headers.get("Location"),new URL(K.url),h)===D.location.pathname+D.location.search,await lt(K,He,!0,{submission:pe,replace:Ke}),{shortCircuited:!0}}if(Na(He)){let Ke=Vs(Te,Ye.route.id);return(ke&&ke.replace)!==!0&&(O="PUSH"),{matches:Te,pendingActionResult:[Ke.route.id,He,Ye.route.id]}}return{matches:Te,pendingActionResult:[Ye.route.id,He]}}async function Dt(K,ae,pe,Te,_e,Be,$e,ke,Ie,He,Ye,Ke){let Ot=Be||lS(ae,$e),Qe=$e||ke||HP(Ot),rn=!W&&!He;if(_e){if(rn){let fr=Tt(Ke);Fe({navigation:Ot,...fr!==void 0?{actionData:fr}:{}},{flushSync:Ye})}let It=await Ki(pe,ae.pathname,K.signal);if(It.type==="aborted")return{shortCircuited:!0};if(It.type==="error"){if(It.partialMatches.length===0){let{matches:_i,route:Qa}=qm(u);return{matches:_i,loaderData:{},errors:{[Qa.id]:It.error}}}let fr=Vs(It.partialMatches).route.id;return{matches:It.partialMatches,loaderData:{},errors:{[fr]:It.error}}}else if(It.matches)pe=It.matches;else{let{error:fr,notFoundMatches:_i,route:Qa}=Ti(ae.pathname);return{matches:_i,loaderData:{},errors:{[Qa.id]:fr}}}}let Cn=d||u,{dsMatches:Ft,revalidatingFetchers:Gt}=kP(K,Te,i,l,e.history,D,pe,Qe,ae,He?[]:r,He===!0,N,z,re,Q,F,Cn,h,e.patchRoutesOnNavigation!=null,Ke);if(X=++G,!e.dataStrategy&&!Ft.some(It=>It.shouldLoad)&&!Ft.some(It=>It.route.middleware&&It.route.middleware.length>0)&&Gt.length===0){let It=_n();return ze(ae,{matches:pe,loaderData:{},errors:Ke&&Na(Ke[1])?{[Ke[0]]:Ke[1].error}:null,...UP(Ke),...It?{fetchers:new Map(D.fetchers)}:{}},{flushSync:Ye}),{shortCircuited:!0}}if(rn){let It={};if(!_e){It.navigation=Ot;let fr=Tt(Ke);fr!==void 0&&(It.actionData=fr)}Gt.length>0&&(It.fetchers=Ve(Gt)),Fe(It,{flushSync:Ye})}Gt.forEach(It=>{Ct(It.key),It.controller&&$.set(It.key,It.controller)});let Ea=()=>Gt.forEach(It=>Ct(It.key));L&&L.signal.addEventListener("abort",Ea);let{loaderResults:Ya,fetcherResults:un}=await dr(Ft,Gt,K,Te);if(K.signal.aborted)return{shortCircuited:!0};L&&L.signal.removeEventListener("abort",Ea),Gt.forEach(It=>$.delete(It.key));let Ta=Um(Ya);if(Ta)return await lt(K,Ta.result,!0,{replace:Ie}),{shortCircuited:!0};if(Ta=Um(un),Ta)return F.add(Ta.key),await lt(K,Ta.result,!0,{replace:Ie}),{shortCircuited:!0};let{loaderData:Fc,errors:Ra}=$P(D,pe,Ya,Ke,Gt,un);He&&D.errors&&(Ra={...D.errors,...Ra});let na=_n(),Vc=ps(X),Sl=na||Vc||Gt.length>0;return{matches:pe,loaderData:Fc,errors:Ra,...Sl?{fetchers:new Map(D.fetchers)}:{}}}function Tt(K){if(K&&!Na(K[1]))return{[K[0]]:K[1].data};if(D.actionData)return Object.keys(D.actionData).length===0?null:D.actionData}function Ve(K){return K.forEach(ae=>{let pe=D.fetchers.get(ae.key),Te=Mf(void 0,pe?pe.data:void 0);D.fetchers.set(ae.key,Te)}),new Map(D.fetchers)}async function dt(K,ae,pe,Te){Ct(K);let _e=(Te&&Te.flushSync)===!0,Be=d||u,$e=Pj(D.location,D.matches,h,pe,ae,Te?.relative),ke=Fs(Be,$e,h),Ie=qn(ke,Be,$e);if(Ie.active&&Ie.matches&&(ke=Ie.matches),!ke){zn(K,ae,li(404,{pathname:$e}),{flushSync:_e});return}let{path:He,submission:Ye,error:Ke}=OP(!0,$e,Te);if(Ke){zn(K,ae,Ke,{flushSync:_e});return}let Ot=e.getContext?await e.getContext():new EP,Qe=(Te&&Te.preventScrollReset)===!0;if(Ye&&Kr(Ye.formMethod)){await ct(K,ae,He,ke,Ot,Ie.active,_e,Qe,Ye);return}Q.set(K,{routeId:ae,path:He}),await ft(K,ae,He,ke,Ot,Ie.active,_e,Qe,Ye)}async function ct(K,ae,pe,Te,_e,Be,$e,ke,Ie){Ht(),Q.delete(K);let He=D.fetchers.get(K);At(K,Kue(Ie,He),{flushSync:$e});let Ye=new AbortController,Ke=Uu(e.history,pe,Ye.signal,Ie);if(Be){let Yt=await Ki(Te,new URL(Ke.url).pathname,Ke.signal,K);if(Yt.type==="aborted")return;if(Yt.type==="error"){zn(K,ae,Yt.error,{flushSync:$e});return}else if(Yt.matches)Te=Yt.matches;else{zn(K,ae,li(404,{pathname:pe}),{flushSync:$e});return}}let Ot=mg(Te,pe);if(!Ot.route.action&&!Ot.route.lazy){let Yt=li(405,{method:Ie.formMethod,pathname:pe,routeId:ae});zn(K,ae,Yt,{flushSync:$e});return}$.set(K,Ye);let Qe=G,rn=Yu(i,l,Ke,Te,Ot,r,_e),Cn=await vt(Ke,rn,_e,K),Ft=Cn[Ot.route.id];if(!Ft){for(let Yt of rn)if(Cn[Yt.route.id]){Ft=Cn[Yt.route.id];break}}if(Ke.signal.aborted){$.get(K)===Ye&&$.delete(K);return}if(re.has(K)){if(tc(Ft)||Na(Ft)){At(K,Vo(void 0));return}}else{if(tc(Ft))if($.delete(K),X>Qe){At(K,Vo(void 0));return}else return F.add(K),At(K,Mf(Ie)),lt(Ke,Ft,!1,{fetcherSubmission:Ie,preventScrollReset:ke});if(Na(Ft)){zn(K,ae,Ft.error);return}}let Gt=D.navigation.location||D.location,Ea=Uu(e.history,Gt,Ye.signal),Ya=d||u,un=D.navigation.state!=="idle"?Fs(Ya,D.navigation.location,h):D.matches;bt(un,"Didn't find any matches after fetcher action");let Ta=++G;H.set(K,Ta);let Fc=Mf(Ie,Ft.data);D.fetchers.set(K,Fc);let{dsMatches:Ra,revalidatingFetchers:na}=kP(Ea,_e,i,l,e.history,D,un,Ie,Gt,r,!1,N,z,re,Q,F,Ya,h,e.patchRoutesOnNavigation!=null,[Ot.route.id,Ft]);na.filter(Yt=>Yt.key!==K).forEach(Yt=>{let Er=Yt.key,Nd=D.fetchers.get(Er),u0=Mf(void 0,Nd?Nd.data:void 0);D.fetchers.set(Er,u0),Ct(Er),Yt.controller&&$.set(Er,Yt.controller)}),Fe({fetchers:new Map(D.fetchers)});let Vc=()=>na.forEach(Yt=>Ct(Yt.key));Ye.signal.addEventListener("abort",Vc);let{loaderResults:Sl,fetcherResults:It}=await dr(Ra,na,Ea,_e);if(Ye.signal.aborted)return;if(Ye.signal.removeEventListener("abort",Vc),H.delete(K),$.delete(K),na.forEach(Yt=>$.delete(Yt.key)),D.fetchers.has(K)){let Yt=Vo(Ft.data);D.fetchers.set(K,Yt)}let fr=Um(Sl);if(fr)return lt(Ea,fr.result,!1,{preventScrollReset:ke});if(fr=Um(It),fr)return F.add(fr.key),lt(Ea,fr.result,!1,{preventScrollReset:ke});let{loaderData:_i,errors:Qa}=$P(D,un,Sl,void 0,na,It);ps(Ta),D.navigation.state==="loading"&&Ta>X?(bt(O,"Expected pending action"),L&&L.abort(),ze(D.navigation.location,{matches:un,loaderData:_i,errors:Qa,fetchers:new Map(D.fetchers)})):(Fe({errors:Qa,loaderData:qP(D.loaderData,_i,un,Qa),fetchers:new Map(D.fetchers)}),N=!1)}async function ft(K,ae,pe,Te,_e,Be,$e,ke,Ie){let He=D.fetchers.get(K);At(K,Mf(Ie,He?He.data:void 0),{flushSync:$e});let Ye=new AbortController,Ke=Uu(e.history,pe,Ye.signal);if(Be){let Gt=await Ki(Te,new URL(Ke.url).pathname,Ke.signal,K);if(Gt.type==="aborted")return;if(Gt.type==="error"){zn(K,ae,Gt.error,{flushSync:$e});return}else if(Gt.matches)Te=Gt.matches;else{zn(K,ae,li(404,{pathname:pe}),{flushSync:$e});return}}let Ot=mg(Te,pe);$.set(K,Ye);let Qe=G,rn=Yu(i,l,Ke,Te,Ot,r,_e),Ft=(await vt(Ke,rn,_e,K))[Ot.route.id];if($.get(K)===Ye&&$.delete(K),!Ke.signal.aborted){if(re.has(K)){At(K,Vo(void 0));return}if(tc(Ft))if(X>Qe){At(K,Vo(void 0));return}else{F.add(K),await lt(Ke,Ft,!1,{preventScrollReset:ke});return}if(Na(Ft)){zn(K,ae,Ft.error);return}At(K,Vo(Ft.data))}}async function lt(K,ae,pe,{submission:Te,fetcherSubmission:_e,preventScrollReset:Be,replace:$e}={}){pe||(M?.resolve(),M=null),ae.response.headers.has("X-Remix-Revalidate")&&(N=!0);let ke=ae.response.headers.get("Location");bt(ke,"Expected a Location header on the redirect Response"),ke=LP(ke,new URL(K.url),h);let Ie=ch(D.location,ke,{_isRedirect:!0});if(n){let rn=!1;if(ae.response.headers.has("X-Remix-Reload-Document"))rn=!0;else if(Ny(ke)){const Cn=B$(ke,!0);rn=Cn.origin!==t.location.origin||gi(Cn.pathname,h)==null}if(rn){$e?t.location.replace(ke):t.location.assign(ke);return}}L=null;let He=$e===!0||ae.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ye,formAction:Ke,formEncType:Ot}=D.navigation;!Te&&!_e&&Ye&&Ke&&Ot&&(Te=HP(D.navigation));let Qe=Te||_e;if(Rue.has(ae.response.status)&&Qe&&Kr(Qe.formMethod))await Ut(He,Ie,{submission:{...Qe,formAction:ke},preventScrollReset:Be||I,enableViewTransition:pe?V:void 0});else{let rn=lS(Ie,Te);await Ut(He,Ie,{overrideNavigation:rn,fetcherSubmission:_e,preventScrollReset:Be||I,enableViewTransition:pe?V:void 0})}}async function vt(K,ae,pe,Te){let _e,Be={};try{_e=await Lue(p,K,ae,Te,pe,!1)}catch($e){return ae.filter(ke=>ke.shouldLoad).forEach(ke=>{Be[ke.route.id]={type:"error",error:$e}}),Be}if(K.signal.aborted)return Be;for(let[$e,ke]of Object.entries(_e))if(Gue(ke)){let Ie=ke.result;Be[$e]={type:"redirect",response:Uue(Ie,K,$e,ae,h)}}else Be[$e]=await que(ke);return Be}async function dr(K,ae,pe,Te){let _e=vt(pe,K,Te,null),Be=Promise.all(ae.map(async Ie=>{if(Ie.matches&&Ie.match&&Ie.request&&Ie.controller){let Ye=(await vt(Ie.request,Ie.matches,Te,Ie.key))[Ie.match.route.id];return{[Ie.key]:Ye}}else return Promise.resolve({[Ie.key]:{type:"error",error:li(404,{pathname:Ie.path})}})})),$e=await _e,ke=(await Be).reduce((Ie,He)=>Object.assign(Ie,He),{});return{loaderResults:$e,fetcherResults:ke}}function Ht(){N=!0,Q.forEach((K,ae)=>{$.has(ae)&&z.add(ae),Ct(ae)})}function At(K,ae,pe={}){D.fetchers.set(K,ae),Fe({fetchers:new Map(D.fetchers)},{flushSync:(pe&&pe.flushSync)===!0})}function zn(K,ae,pe,Te={}){let _e=Vs(D.matches,ae);Kn(K),Fe({errors:{[_e.route.id]:pe},fetchers:new Map(D.fetchers)},{flushSync:(Te&&Te.flushSync)===!0})}function Cr(K){return J.set(K,(J.get(K)||0)+1),re.has(K)&&re.delete(K),D.fetchers.get(K)||_ue}function Ga(K,ae){Ct(K,ae?.reason),At(K,Vo(null))}function Kn(K){let ae=D.fetchers.get(K);$.has(K)&&!(ae&&ae.state==="loading"&&H.has(K))&&Ct(K),Q.delete(K),H.delete(K),F.delete(K),re.delete(K),z.delete(K),D.fetchers.delete(K)}function Wt(K){let ae=(J.get(K)||0)-1;ae<=0?(J.delete(K),re.add(K)):J.set(K,ae),Fe({fetchers:new Map(D.fetchers)})}function Ct(K,ae){let pe=$.get(K);pe&&(pe.abort(ae),$.delete(K))}function Ir(K){for(let ae of K){let pe=Cr(ae),Te=Vo(pe.data);D.fetchers.set(ae,Te)}}function _n(){let K=[],ae=!1;for(let pe of F){let Te=D.fetchers.get(pe);bt(Te,`Expected fetcher: ${pe}`),Te.state==="loading"&&(F.delete(pe),K.push(pe),ae=!0)}return Ir(K),ae}function ps(K){let ae=[];for(let[pe,Te]of H)if(Te<K){let _e=D.fetchers.get(pe);bt(_e,`Expected fetcher: ${pe}`),_e.state==="loading"&&(Ct(pe),H.delete(pe),ae.push(pe))}return Ir(ae),ae.length>0}function bl(K,ae){let pe=D.blockers.get(K)||kf;return ue.get(K)!==ae&&ue.set(K,ae),pe}function $n(K){D.blockers.delete(K),ue.delete(K)}function kn(K,ae){let pe=D.blockers.get(K)||kf;bt(pe.state==="unblocked"&&ae.state==="blocked"||pe.state==="blocked"&&ae.state==="blocked"||pe.state==="blocked"&&ae.state==="proceeding"||pe.state==="blocked"&&ae.state==="unblocked"||pe.state==="proceeding"&&ae.state==="unblocked",`Invalid blocker state transition: ${pe.state} -> ${ae.state}`);let Te=new Map(D.blockers);Te.set(K,ae),Fe({blockers:Te})}function Ca({currentLocation:K,nextLocation:ae,historyAction:pe}){if(ue.size===0)return;ue.size>1&&On(!1,"A router only supports one blocker at a time");let Te=Array.from(ue.entries()),[_e,Be]=Te[Te.length-1],$e=D.blockers.get(_e);if(!($e&&$e.state==="proceeding")&&Be({currentLocation:K,nextLocation:ae,historyAction:pe}))return _e}function Ti(K){let ae=li(404,{pathname:K}),pe=d||u,{matches:Te,route:_e}=qm(pe);return{notFoundMatches:Te,route:_e,error:ae}}function ja(K,ae,pe){if(S=K,C=ae,x=pe||null,!T&&D.navigation===sS){T=!0;let Te=xl(D.location,D.matches);Te!=null&&Fe({restoreScrollPosition:Te})}return()=>{S=null,C=null,x=null}}function Ri(K,ae){return x&&x(K,ae.map(Te=>Zce(Te,D.loaderData)))||K.key}function jr(K,ae){if(S&&C){let pe=Ri(K,ae);S[pe]=C()}}function xl(K,ae){if(S){let pe=Ri(K,ae),Te=S[pe];if(typeof Te=="number")return Te}return null}function qn(K,ae,pe){if(e.patchRoutesOnNavigation)if(K){if(Object.keys(K[0].params).length>0)return{active:!0,matches:Bf(ae,pe,h,!0)}}else return{active:!0,matches:Bf(ae,pe,h,!0)||[]};return{active:!1,matches:null}}async function Ki(K,ae,pe,Te){if(!e.patchRoutesOnNavigation)return{type:"success",matches:K};let _e=K;for(;;){let Be=d==null,$e=d||u,ke=l;try{await e.patchRoutesOnNavigation({signal:pe,path:ae,matches:_e,fetcherKey:Te,patch:(Ye,Ke)=>{pe.aborted||MP(Ye,Ke,$e,ke,i,!1)}})}catch(Ye){return{type:"error",error:Ye,partialMatches:_e}}finally{Be&&!pe.aborted&&(u=[...u])}if(pe.aborted)return{type:"aborted"};let Ie=Fs($e,ae,h),He=null;if(Ie){if(Object.keys(Ie[0].params).length===0)return{type:"success",matches:Ie};if(He=Bf($e,ae,h,!0),!(He&&_e.length<He.length&&Eo(_e,He.slice(0,_e.length))))return{type:"success",matches:Ie}}if(He||(He=Bf($e,ae,h,!0)),!He||Eo(_e,He))return{type:"success",matches:null};_e=He}}function Eo(K,ae){return K.length===ae.length&&K.every((pe,Te)=>pe.route.id===ae[Te].route.id)}function Pd(K){l={},d=uh(K,i,void 0,l)}function Hc(K,ae,pe=!1){let Te=d==null;MP(K,ae,d||u,l,i,pe),Te&&(u=[...u],Fe({}))}return k={get basename(){return h},get future(){return m},get state(){return D},get routes(){return u},get window(){return t},initialize:Se,subscribe:Ze,enableScrollRestoration:ja,navigate:pt,fetch:dt,revalidate:Xe,createHref:K=>e.history.createHref(K),encodeLocation:K=>e.history.encodeLocation(K),getFetcher:Cr,resetFetcher:Ga,deleteFetcher:Wt,dispose:Ge,getBlocker:bl,deleteBlocker:$n,patchRoutes:Hc,_internalFetchControllers:$,_internalSetRoutes:Pd,_internalSetStateDoNotUseOrYouWillBreakYourApp(K){Fe(K)}},e.unstable_instrumentations&&(k=yue(k,e.unstable_instrumentations.map(K=>K.router).filter(Boolean))),k}function Oue(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Pj(e,t,n,r,a,i){let l,u;if(a){l=[];for(let h of t)if(l.push(h),h.route.id===a){u=h;break}}else l=t,u=t[t.length-1];let d=Ly(r||".",Iy(l),gi(e.pathname,n)||e.pathname,i==="path");if(r==null&&(d.search=e.search,d.hash=e.hash),(r==null||r===""||r===".")&&u){let h=a_(d.search);if(u.route.index&&!h)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let p=new URLSearchParams(d.search),m=p.getAll("index");p.delete("index"),m.filter(y=>y).forEach(y=>p.append("index",y));let g=p.toString();d.search=g?`?${g}`:""}}return n!=="/"&&(d.pathname=due({basename:n,pathname:d.pathname})),So(d)}function OP(e,t,n){if(!n||!Oue(n))return{path:t};if(n.formMethod&&!Yue(n.formMethod))return{path:t,error:li(405,{method:n.formMethod})};let r=()=>({path:t,error:li(400,{type:"invalid-body"})}),i=(n.formMethod||"get").toUpperCase(),l=t7(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Kr(i))return r();let m=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,[y,S])=>`${g}${y}=${S}
`,""):String(n.body);return{path:t,submission:{formMethod:i,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:m}}}else if(n.formEncType==="application/json"){if(!Kr(i))return r();try{let m=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:i,formAction:l,formEncType:n.formEncType,formData:void 0,json:m,text:void 0}}}catch{return r()}}}bt(typeof FormData=="function","FormData is not available in this environment");let u,d;if(n.formData)u=Lj(n.formData),d=n.formData;else if(n.body instanceof FormData)u=Lj(n.body),d=n.body;else if(n.body instanceof URLSearchParams)u=n.body,d=zP(u);else if(n.body==null)u=new URLSearchParams,d=new FormData;else try{u=new URLSearchParams(n.body),d=zP(u)}catch{return r()}let h={formMethod:i,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Kr(h.formMethod))return{path:t,submission:h};let p=fs(t);return e&&p.search&&a_(p.search)&&u.append("index",""),p.search=`?${u}`,{path:So(p),submission:h}}function kP(e,t,n,r,a,i,l,u,d,h,p,m,g,y,S,x,C,T,j,R){let _=R?Na(R[1])?R[1].error:R[1].data:void 0,A=a.createURL(i.location),k=a.createURL(d),D;if(p&&i.errors){let U=Object.keys(i.errors)[0];D=l.findIndex(W=>W.route.id===U)}else if(R&&Na(R[1])){let U=R[0];D=l.findIndex(W=>W.route.id===U)-1}let O=R?R[1].statusCode:void 0,M=O&&O>=400,I={currentUrl:A,currentParams:i.matches[0]?.params||{},nextUrl:k,nextParams:l[0].params,...u,actionResult:_,actionStatus:O},L=ep(l),V=l.map((U,W)=>{let{route:N}=U,z=null;if(D!=null&&W>D?z=!1:N.lazy?z=!0:r_(N)?p?z=Nj(N,i.loaderData,i.errors):kue(i.loaderData,i.matches[W],U)&&(z=!0):z=!1,z!==null)return Ij(n,r,e,L,U,h,t,z);let $=M?!1:m||A.pathname+A.search===k.pathname+k.search||A.search!==k.search||Mue(i.matches[W],U),G={...I,defaultShouldRevalidate:$},X=av(U,G);return Ij(n,r,e,L,U,h,t,X,G)}),q=[];return S.forEach((U,W)=>{if(p||!l.some(Q=>Q.route.id===U.routeId)||y.has(W))return;let N=i.fetchers.get(W),z=N&&N.state!=="idle"&&N.data===void 0,$=Fs(C,U.path,T);if(!$){if(j&&z)return;q.push({key:W,routeId:U.routeId,path:U.path,matches:null,match:null,request:null,controller:null});return}if(x.has(W))return;let G=mg($,U.path),X=new AbortController,H=Uu(a,U.path,X.signal),F=null;if(g.has(W))g.delete(W),F=Yu(n,r,H,$,G,h,t);else if(z)m&&(F=Yu(n,r,H,$,G,h,t));else{let Q={...I,defaultShouldRevalidate:M?!1:m};av(G,Q)&&(F=Yu(n,r,H,$,G,h,t,Q))}F&&q.push({key:W,routeId:U.routeId,path:U.path,matches:F,match:G,request:H,controller:X})}),{dsMatches:V,revalidatingFetchers:q}}function r_(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function Nj(e,t,n){if(e.lazy)return!0;if(!r_(e))return!1;let r=t!=null&&e.id in t,a=n!=null&&n[e.id]!==void 0;return!r&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!a}function kue(e,t,n){let r=!t||n.route.id!==t.route.id,a=!e.hasOwnProperty(n.route.id);return r||a}function Mue(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function av(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function MP(e,t,n,r,a,i){let l;if(e){let h=r[e];bt(h,`No route found to patch children into: routeId = ${e}`),h.children||(h.children=[]),l=h.children}else l=n;let u=[],d=[];if(t.forEach(h=>{let p=l.find(m=>K$(h,m));p?d.push({existingRoute:p,newRoute:h}):u.push(h)}),u.length>0){let h=uh(u,a,[e||"_","patch",String(l?.length||"0")],r);l.push(...h)}if(i&&d.length>0)for(let h=0;h<d.length;h++){let{existingRoute:p,newRoute:m}=d[h],g=p,[y]=uh([m],a,[],{},!0);Object.assign(g,{element:y.element?y.element:g.element,errorElement:y.errorElement?y.errorElement:g.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:g.hydrateFallbackElement})}}function K$(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>t.children?.some(a=>K$(n,a))):!1}var PP=new WeakMap,X$=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let a=n[t.id];if(bt(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let i=a.lazy[e];if(!i)return;let l=PP.get(a);l||(l={},PP.set(a,l));let u=l[e];if(u)return u;let d=(async()=>{let h=Yce(e),m=a[e]!==void 0&&e!=="hasErrorBoundary";if(h)On(!h,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),l[e]=Promise.resolve();else if(m)On(!1,`Route "${a.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let g=await i();g!=null&&(Object.assign(a,{[e]:g}),Object.assign(a,r(a)))}typeof a.lazy=="object"&&(a.lazy[e]=void 0,Object.values(a.lazy).every(g=>g===void 0)&&(a.lazy=void 0))})();return l[e]=d,d},NP=new WeakMap;function Pue(e,t,n,r,a){let i=n[e.id];if(bt(i,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let p=NP.get(i);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let m=(async()=>{bt(typeof e.lazy=="function","No lazy route function found");let g=await e.lazy(),y={};for(let S in g){let x=g[S];if(x===void 0)continue;let C=Kce(S),j=i[S]!==void 0&&S!=="hasErrorBoundary";C?On(!C,"Route property "+S+" is not a supported property to be returned from a lazy route function. This property will be ignored."):j?On(!j,`Route "${i.id}" has a static property "${S}" defined but its lazy function is also returning a value for this property. The lazy route property "${S}" will be ignored.`):y[S]=x}Object.assign(i,y),Object.assign(i,{...r(i),lazy:void 0})})();return NP.set(i,m),m.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:m}}let l=Object.keys(e.lazy),u=[],d;for(let p of l){if(a&&a.includes(p))continue;let m=X$({key:p,route:e,manifest:n,mapRouteProperties:r});m&&(u.push(m),p===t&&(d=m))}let h=u.length>0?Promise.all(u).then(()=>{}):void 0;return h?.catch(()=>{}),d?.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:d}}async function IP(e){let t=e.matches.filter(a=>a.shouldLoad),n={};return(await Promise.all(t.map(a=>a.resolve()))).forEach((a,i)=>{n[t[i].route.id]=a}),n}async function Nue(e){return e.matches.some(t=>t.route.middleware)?Z$(e,()=>IP(e)):IP(e)}function Z$(e,t){return Iue(e,t,r=>r,Vue,n);function n(r,a,i){if(i)return Promise.resolve(Object.assign(i.value,{[a]:{type:"error",result:r}}));{let{matches:l}=e,u=Math.min(Math.max(l.findIndex(h=>h.route.id===a),0),Math.max(l.findIndex(h=>h.shouldCallHandler()),0)),d=Vs(l,l[u].route.id).route.id;return Promise.resolve({[d]:{type:"error",result:r}})}}}async function Iue(e,t,n,r,a){let{matches:i,request:l,params:u,context:d,unstable_pattern:h}=e,p=i.flatMap(g=>g.route.middleware?g.route.middleware.map(y=>[g.route.id,y]):[]);return await J$({request:l,params:u,context:d,unstable_pattern:h},p,t,n,r,a)}async function J$(e,t,n,r,a,i,l=0){let{request:u}=e;if(u.signal.aborted)throw u.signal.reason??new Error(`Request aborted: ${u.method} ${u.url}`);let d=t[l];if(!d)return await n();let[h,p]=d,m,g=async()=>{if(m)throw new Error("You may only call `next()` once per middleware");try{return m={value:await J$(e,t,n,r,a,i,l+1)},m.value}catch(y){return m={value:await i(y,h,m)},m.value}};try{let y=await p(e,g),S=y!=null?r(y):void 0;return a(S)?S:m?S??m.value:(m={value:await g()},m.value)}catch(y){return await i(y,h,m)}}function e7(e,t,n,r,a){let i=X$({key:"middleware",route:r.route,manifest:t,mapRouteProperties:e}),l=Pue(r.route,Kr(n.method)?"action":"loader",t,e,a);return{middleware:i,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function Ij(e,t,n,r,a,i,l,u,d=null){let h=!1,p=e7(e,t,n,a,i);return{...a,_lazyPromises:p,shouldLoad:u,shouldRevalidateArgs:d,shouldCallHandler(m){return h=!0,d?typeof m=="boolean"?av(a,{...d,defaultShouldRevalidate:m}):av(a,d):u},resolve(m){let{lazy:g,loader:y,middleware:S}=a.route,x=h||u||m&&!Kr(n.method)&&(g||y),C=S&&S.length>0&&!y&&!g;return x&&(Kr(n.method)||!C)?zue({request:n,unstable_pattern:r,match:a,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:m,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function Yu(e,t,n,r,a,i,l,u=null){return r.map(d=>d.route.id!==a.route.id?{...d,shouldLoad:!1,shouldRevalidateArgs:u,shouldCallHandler:()=>!1,_lazyPromises:e7(e,t,n,d,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Ij(e,t,n,ep(r),d,i,l,!0,u))}async function Lue(e,t,n,r,a,i){n.some(h=>h._lazyPromises?.middleware)&&await Promise.all(n.map(h=>h._lazyPromises?.middleware));let l={request:t,unstable_pattern:ep(n),params:n[0].params,context:a,matches:n},d=await e({...l,fetcherKey:r,runClientMiddleware:h=>{let p=l;return Z$(p,()=>h({...p,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(h=>[h._lazyPromises?.handler,h._lazyPromises?.route]))}catch{}return d}async function zue({request:e,unstable_pattern:t,match:n,lazyHandlerPromise:r,lazyRoutePromise:a,handlerOverride:i,scopedContext:l}){let u,d,h=Kr(e.method),p=h?"action":"loader",m=g=>{let y,S=new Promise((T,j)=>y=j);d=()=>y(),e.signal.addEventListener("abort",d);let x=T=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${n.route.id}]`)):g({request:e,unstable_pattern:t,params:n.params,context:l},...T!==void 0?[T]:[]),C=(async()=>{try{return{type:"data",result:await(i?i(j=>x(j)):x())}}catch(T){return{type:"error",result:T}}})();return Promise.race([C,S])};try{let g=h?n.route.action:n.route.loader;if(r||a)if(g){let y,[S]=await Promise.all([m(g).catch(x=>{y=x}),r,a]);if(y!==void 0)throw y;u=S}else{await r;let y=h?n.route.action:n.route.loader;if(y)[u]=await Promise.all([m(y),a]);else if(p==="action"){let S=new URL(e.url),x=S.pathname+S.search;throw li(405,{method:e.method,pathname:x,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(g)u=await m(g);else{let y=new URL(e.url),S=y.pathname+y.search;throw li(404,{pathname:S})}}catch(g){return{type:"error",result:g}}finally{d&&e.signal.removeEventListener("abort",d)}return u}async function $ue(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function que(e){let{result:t,type:n}=e;if(n7(t)){let r;try{r=await $ue(t)}catch(a){return{type:"error",error:a}}return n==="error"?{type:"error",error:new zy(t.status,t.statusText,r),statusCode:t.status,headers:t.headers}:{type:"data",data:r,statusCode:t.status,headers:t.headers}}return n==="error"?BP(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:Fue(t),statusCode:dh(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:dh(t)?t.status:void 0}:BP(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function Uue(e,t,n,r,a){let i=e.headers.get("Location");if(bt(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ny(i)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);i=Pj(new URL(t.url),l,a,i),e.headers.set("Location",i)}return e}function LP(e,t,n){if(Ny(e)){let r=e,a=r.startsWith("//")?new URL(t.protocol+r):new URL(r),i=gi(a.pathname,n)!=null;if(a.origin===t.origin&&i)return a.pathname+a.search+a.hash}return e}function Uu(e,t,n,r){let a=e.createURL(t7(t)).toString(),i={signal:n};if(r&&Kr(r.formMethod)){let{formMethod:l,formEncType:u}=r;i.method=l.toUpperCase(),u==="application/json"?(i.headers=new Headers({"Content-Type":u}),i.body=JSON.stringify(r.json)):u==="text/plain"?i.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?i.body=Lj(r.formData):i.body=r.formData}return new Request(a,i)}function Lj(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function zP(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Bue(e,t,n,r=!1,a=!1){let i={},l=null,u,d=!1,h={},p=n&&Na(n[1])?n[1].error:void 0;return e.forEach(m=>{if(!(m.route.id in t))return;let g=m.route.id,y=t[g];if(bt(!tc(y),"Cannot handle redirect results in processLoaderData"),Na(y)){let S=y.error;if(p!==void 0&&(S=p,p=void 0),l=l||{},a)l[g]=S;else{let x=Vs(e,g);l[x.route.id]==null&&(l[x.route.id]=S)}r||(i[g]=Q$),d||(d=!0,u=dh(y.error)?y.error.status:500),y.headers&&(h[g]=y.headers)}else i[g]=y.data,y.statusCode&&y.statusCode!==200&&!d&&(u=y.statusCode),y.headers&&(h[g]=y.headers)}),p!==void 0&&n&&(l={[n[0]]:p},n[2]&&(i[n[2]]=void 0)),{loaderData:i,errors:l,statusCode:u||200,loaderHeaders:h}}function $P(e,t,n,r,a,i){let{loaderData:l,errors:u}=Bue(t,n,r);return a.filter(d=>!d.matches||d.matches.some(h=>h.shouldLoad)).forEach(d=>{let{key:h,match:p,controller:m}=d;if(m&&m.signal.aborted)return;let g=i[h];if(bt(g,"Did not find corresponding fetcher result"),Na(g)){let y=Vs(e.matches,p?.route.id);u&&u[y.route.id]||(u={...u,[y.route.id]:g.error}),e.fetchers.delete(h)}else if(tc(g))bt(!1,"Unhandled fetcher revalidation redirect");else{let y=Vo(g.data);e.fetchers.set(h,y)}}),{loaderData:l,errors:u}}function qP(e,t,n,r){let a=Object.entries(t).filter(([,i])=>i!==Q$).reduce((i,[l,u])=>(i[l]=u,i),{});for(let i of n){let l=i.route.id;if(!t.hasOwnProperty(l)&&e.hasOwnProperty(l)&&i.route.loader&&(a[l]=e[l]),r&&r.hasOwnProperty(l))break}return a}function UP(e){return e?Na(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Vs(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function qm(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function li(e,{pathname:t,routeId:n,method:r,type:a,message:i}={}){let l="Unknown Server Error",u="Unknown @remix-run/router error";return e===400?(l="Bad Request",r&&t&&n?u=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(u="Unable to encode submission body")):e===403?(l="Forbidden",u=`Route "${n}" does not match URL "${t}"`):e===404?(l="Not Found",u=`No route matches URL "${t}"`):e===405&&(l="Method Not Allowed",r&&t&&n?u=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(u=`Invalid request method "${r.toUpperCase()}"`)),new zy(e||500,l,new Error(u),!0)}function Um(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,a]=t[n];if(tc(a))return{key:r,result:a}}}function t7(e){let t=typeof e=="string"?fs(e):e;return So({...t,hash:""})}function Hue(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Fue(e){return new zy(e.init?.status??500,e.init?.statusText??"Internal Server Error",e.data)}function Vue(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,n])=>typeof t=="string"&&Wue(n))}function Wue(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function Gue(e){return n7(e.result)&&Tue.has(e.result.status)}function Na(e){return e.type==="error"}function tc(e){return(e&&e.type)==="redirect"}function BP(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function n7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Yue(e){return Eue.has(e.toUpperCase())}function Kr(e){return Cue.has(e.toUpperCase())}function a_(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function mg(e,t){let n=typeof t=="string"?fs(t).search:t.search;if(e[e.length-1].route.index&&a_(n||""))return e[e.length-1];let r=V$(e);return r[r.length-1]}function HP(e){let{formMethod:t,formAction:n,formEncType:r,text:a,formData:i,json:l}=e;if(!(!t||!n||!r)){if(a!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(l!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function lS(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Que(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Mf(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Kue(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Vo(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Xue(e,t){try{let n=e.sessionStorage.getItem(Y$);if(n){let r=JSON.parse(n);for(let[a,i]of Object.entries(r||{}))i&&Array.isArray(i)&&t.set(a,new Set(i||[]))}}catch{}}function Zue(e,t){if(t.size>0){let n={};for(let[r,a]of t)n[r]=[...a];try{e.sessionStorage.setItem(Y$,JSON.stringify(n))}catch(r){On(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function FP(){let e,t,n=new Promise((r,a)=>{e=async i=>{r(i);try{await n}catch{}},t=async i=>{a(i);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var zc=b.createContext(null);zc.displayName="DataRouter";var tp=b.createContext(null);tp.displayName="DataRouterState";b.createContext(!1);var i_=b.createContext({isTransitioning:!1});i_.displayName="ViewTransition";var r7=b.createContext(new Map);r7.displayName="Fetchers";var Jue=b.createContext(null);Jue.displayName="Await";var Ci=b.createContext(null);Ci.displayName="Navigation";var np=b.createContext(null);np.displayName="Location";var ji=b.createContext({outlet:null,matches:[],isDataRoute:!1});ji.displayName="Route";var o_=b.createContext(null);o_.displayName="RouteError";function ede(e,{relative:t}={}){bt(_d(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(Ci),{hash:a,pathname:i,search:l}=rp(e,{relative:t}),u=i;return n!=="/"&&(u=i==="/"?n:po([n,i])),r.createHref({pathname:u,search:l,hash:a})}function _d(){return b.useContext(np)!=null}function Wa(){return bt(_d(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(np).location}var a7="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function i7(e){b.useContext(Ci).static||b.useLayoutEffect(e)}function Rn(){let{isDataRoute:e}=b.useContext(ji);return e?mde():tde()}function tde(){bt(_d(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(zc),{basename:t,navigator:n}=b.useContext(Ci),{matches:r}=b.useContext(ji),{pathname:a}=Wa(),i=JSON.stringify(Iy(r)),l=b.useRef(!1);return i7(()=>{l.current=!0}),b.useCallback((d,h={})=>{if(On(l.current,a7),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=Ly(d,JSON.parse(i),a,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:po([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,i,a,e])}var nde=b.createContext(null);function rde(e){let t=b.useContext(ji).outlet;return b.useMemo(()=>t&&b.createElement(nde.Provider,{value:e},t),[t,e])}function wr(){let{matches:e}=b.useContext(ji),t=e[e.length-1];return t?t.params:{}}function rp(e,{relative:t}={}){let{matches:n}=b.useContext(ji),{pathname:r}=Wa(),a=JSON.stringify(Iy(n));return b.useMemo(()=>Ly(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function ade(e,t){return o7(e,t)}function o7(e,t,n,r,a){bt(_d(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=b.useContext(Ci),{matches:l}=b.useContext(ji),u=l[l.length-1],d=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let j=m&&m.path||"";s7(h,!m||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let g=Wa(),y;if(t){let j=typeof t=="string"?fs(t):t;bt(p==="/"||j.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${j.pathname}" was given in the \`location\` prop.`),y=j}else y=g;let S=y.pathname||"/",x=S;if(p!=="/"){let j=p.replace(/^\//,"").split("/");x="/"+S.replace(/^\//,"").split("/").slice(j.length).join("/")}let C=Fs(e,{pathname:x});On(m||C!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),On(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=cde(C&&C.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:po([p,i.encodeLocation?i.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:po([p,i.encodeLocation?i.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),l,n,r,a);return t&&T?b.createElement(np.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},T):T}function ide(){let e=pde(),t=dh(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=b.createElement(b.Fragment,null,b.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:i},"ErrorBoundary")," or"," ",b.createElement("code",{style:i},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:a},n):null,l)}var ode=b.createElement(ide,null),sde=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(ji.Provider,{value:this.props.routeContext},b.createElement(o_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lde({routeContext:e,match:t,children:n}){let r=b.useContext(zc);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(ji.Provider,{value:e},n)}function cde(e,t=[],n=null,r=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=n?.errors;if(l!=null){let p=i.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);bt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,p+1))}let u=!1,d=-1;if(n)for(let p=0;p<i.length;p++){let m=i[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:g,errors:y}=n,S=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||S){u=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}let h=n&&r?(p,m)=>{r(p,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:ep(n.matches),errorInfo:m})}:void 0;return i.reduceRight((p,m,g)=>{let y,S=!1,x=null,C=null;n&&(y=l&&m.route.id?l[m.route.id]:void 0,x=m.route.errorElement||ode,u&&(d<0&&g===0?(s7("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,C=null):d===g&&(S=!0,C=m.route.hydrateFallbackElement||null)));let T=t.concat(i.slice(0,g+1)),j=()=>{let R;return y?R=x:S?R=C:m.route.Component?R=b.createElement(m.route.Component,null):m.route.element?R=m.route.element:R=p,b.createElement(lde,{match:m,routeContext:{outlet:p,matches:T,isDataRoute:n!=null},children:R})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?b.createElement(sde,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:j(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:h}):j()},null)}function s_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ude(e){let t=b.useContext(zc);return bt(t,s_(e)),t}function dde(e){let t=b.useContext(tp);return bt(t,s_(e)),t}function fde(e){let t=b.useContext(ji);return bt(t,s_(e)),t}function l_(e){let t=fde(e),n=t.matches[t.matches.length-1];return bt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function hde(){return l_("useRouteId")}function pde(){let e=b.useContext(o_),t=dde("useRouteError"),n=l_("useRouteError");return e!==void 0?e:t.errors?.[n]}function mde(){let{router:e}=ude("useNavigate"),t=l_("useNavigate"),n=b.useRef(!1);return i7(()=>{n.current=!0}),b.useCallback(async(a,i={})=>{On(n.current,a7),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var VP={};function s7(e,t,n){!t&&!VP[e]&&(VP[e]=!0,On(!1,n))}var WP={};function GP(e,t){!e&&!WP[t]&&(WP[t]=!0,console.warn(t))}var gde="useOptimistic",YP=aE[gde],vde=()=>{};function yde(e){return YP?YP(e):[e,vde]}function bde(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&On(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:b.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&On(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:b.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&On(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:b.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var xde=["HydrateFallback","hydrateFallbackElement"],Sde=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function wde({router:e,flushSync:t,unstable_onError:n,unstable_useTransitions:r}){let[a,i]=b.useState(e.state),[l,u]=yde(a),[d,h]=b.useState(),[p,m]=b.useState({isTransitioning:!1}),[g,y]=b.useState(),[S,x]=b.useState(),[C,T]=b.useState(),j=b.useRef(new Map),R=b.useCallback((D,{deletedFetchers:O,newErrors:M,flushSync:I,viewTransitionOpts:L})=>{M&&n&&Object.values(M).forEach(q=>n(q,{location:D.location,params:D.matches[0]?.params??{},unstable_pattern:ep(D.matches)})),D.fetchers.forEach((q,U)=>{q.data!==void 0&&j.current.set(U,q.data)}),O.forEach(q=>j.current.delete(q)),GP(I===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let V=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(GP(L==null||V,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!L||!V){t&&I?t(()=>i(D)):r===!1?i(D):b.startTransition(()=>{r===!0&&u(q=>QP(q,D)),i(D)});return}if(t&&I){t(()=>{S&&(g?.resolve(),S.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let q=e.window.document.startViewTransition(()=>{t(()=>i(D))});q.finished.finally(()=>{t(()=>{y(void 0),x(void 0),h(void 0),m({isTransitioning:!1})})}),t(()=>x(q));return}S?(g?.resolve(),S.skipTransition(),T({state:D,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(h(D),m({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[e.window,t,S,g,r,u,n]);b.useLayoutEffect(()=>e.subscribe(R),[e,R]),b.useEffect(()=>{p.isTransitioning&&!p.flushSync&&y(new Sde)},[p]),b.useEffect(()=>{if(g&&d&&e.window){let D=d,O=g.promise,M=e.window.document.startViewTransition(async()=>{r===!1?i(D):b.startTransition(()=>{r===!0&&u(I=>QP(I,D)),i(D)}),await O});M.finished.finally(()=>{y(void 0),x(void 0),h(void 0),m({isTransitioning:!1})}),x(M)}},[d,g,e.window,r,u]),b.useEffect(()=>{g&&d&&l.location.key===d.location.key&&g.resolve()},[g,S,l.location,d]),b.useEffect(()=>{!p.isTransitioning&&C&&(h(C.state),m({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),T(void 0))},[p.isTransitioning,C]);let _=b.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:D=>e.navigate(D),push:(D,O,M)=>e.navigate(D,{state:O,preventScrollReset:M?.preventScrollReset}),replace:(D,O,M)=>e.navigate(D,{replace:!0,state:O,preventScrollReset:M?.preventScrollReset})}),[e]),A=e.basename||"/",k=b.useMemo(()=>({router:e,navigator:_,static:!1,basename:A,unstable_onError:n}),[e,_,A,n]);return b.createElement(b.Fragment,null,b.createElement(zc.Provider,{value:k},b.createElement(tp.Provider,{value:l},b.createElement(r7.Provider,{value:j.current},b.createElement(i_.Provider,{value:p},b.createElement(Ede,{basename:A,location:l.location,navigationType:l.historyAction,navigator:_,unstable_useTransitions:r===!0},b.createElement(Cde,{routes:e.routes,future:e.future,state:l,unstable_onError:n})))))),null)}function QP(e,t){return{...e,navigation:t.navigation.state!=="idle"?t.navigation:e.navigation,revalidation:t.revalidation!=="idle"?t.revalidation:e.revalidation,actionData:t.navigation.state!=="submitting"?t.actionData:e.actionData,fetchers:t.fetchers}}var Cde=b.memo(jde);function jde({routes:e,future:t,state:n,unstable_onError:r}){return o7(e,void 0,n,r,t)}function KP({to:e,replace:t,state:n,relative:r}){bt(_d(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=b.useContext(Ci);On(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=b.useContext(ji),{pathname:l}=Wa(),u=Rn(),d=Ly(e,Iy(i),l,r==="path"),h=JSON.stringify(d);return b.useEffect(()=>{u(JSON.parse(h),{replace:t,state:n,relative:r})},[u,h,r,t,n]),null}function c_(e){return rde(e.context)}function ut(e){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ede({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:i=!1,unstable_useTransitions:l}){bt(!_d(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:u,navigator:a,static:i,unstable_useTransitions:l,future:{}}),[u,a,i,l]);typeof n=="string"&&(n=fs(n));let{pathname:h="/",search:p="",hash:m="",state:g=null,key:y="default"}=n,S=b.useMemo(()=>{let x=gi(h,u);return x==null?null:{location:{pathname:x,search:p,hash:m,state:g,key:y},navigationType:r}},[u,h,p,m,g,y,r]);return On(S!=null,`<Router basename="${u}"> is not able to match the URL "${h}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:b.createElement(Ci.Provider,{value:d},b.createElement(np.Provider,{children:t,value:S}))}function Tde({children:e,location:t}){return ade(zj(e),t)}function zj(e,t=[]){let n=[];return b.Children.forEach(e,(r,a)=>{if(!b.isValidElement(r))return;let i=[...t,a];if(r.type===b.Fragment){n.push.apply(n,zj(r.props.children,i));return}bt(r.type===ut,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=zj(r.props.children,i)),n.push(l)}),n}var gg="get",vg="application/x-www-form-urlencoded";function $y(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Rde(e){return $y(e)&&e.tagName.toLowerCase()==="button"}function _de(e){return $y(e)&&e.tagName.toLowerCase()==="form"}function Dde(e){return $y(e)&&e.tagName.toLowerCase()==="input"}function Ade(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ode(e,t){return e.button===0&&(!t||t==="_self")&&!Ade(e)}function $j(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function kde(e,t){let n=$j(e);return t&&t.forEach((r,a)=>{n.has(a)||t.getAll(a).forEach(i=>{n.append(a,i)})}),n}var Bm=null;function Mde(){if(Bm===null)try{new FormData(document.createElement("form"),0),Bm=!1}catch{Bm=!0}return Bm}var Pde=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cS(e){return e!=null&&!Pde.has(e)?(On(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vg}"`),null):e}function Nde(e,t){let n,r,a,i,l;if(_de(e)){let u=e.getAttribute("action");r=u?gi(u,t):null,n=e.getAttribute("method")||gg,a=cS(e.getAttribute("enctype"))||vg,i=new FormData(e)}else if(Rde(e)||Dde(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(r=d?gi(d,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||gg,a=cS(e.getAttribute("formenctype"))||cS(u.getAttribute("enctype"))||vg,i=new FormData(u,e),!Mde()){let{name:h,type:p,value:m}=e;if(p==="image"){let g=h?`${h}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else h&&i.append(h,m)}}else{if($y(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gg,r=null,a=vg,l=e}return i&&a==="text/plain"&&(l=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function u_(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ide(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&gi(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Lde(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zde(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function $de(e,t,n){let r=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let l=await Lde(i,n);return l.links?l.links():[]}return[]}));return Hde(r.flat(1).filter(zde).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function XP(e,t,n,r,a,i){let l=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,u=(d,h)=>n[h].pathname!==d.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==d.params["*"];return i==="assets"?t.filter((d,h)=>l(d,h)||u(d,h)):i==="data"?t.filter((d,h)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function qde(e,t,{includeHydrateFallback:n}={}){return Ude(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function Ude(e){return[...new Set(e)]}function Bde(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Hde(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let i=JSON.stringify(Bde(a));return n.has(i)||(n.add(i),r.push({key:i,link:a})),r},[])}function l7(){let e=b.useContext(zc);return u_(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Fde(){let e=b.useContext(tp);return u_(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var d_=b.createContext(void 0);d_.displayName="FrameworkContext";function c7(){let e=b.useContext(d_);return u_(e,"You must render this element inside a <HydratedRouter> element"),e}function Vde(e,t){let n=b.useContext(d_),[r,a]=b.useState(!1),[i,l]=b.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:m}=t,g=b.useRef(null);b.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let x=T=>{T.forEach(j=>{l(j.isIntersecting)})},C=new IntersectionObserver(x,{threshold:.5});return g.current&&C.observe(g.current),()=>{C.disconnect()}}},[e]),b.useEffect(()=>{if(r){let x=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(x)}}},[r]);let y=()=>{a(!0)},S=()=>{a(!1),l(!1)};return n?e!=="intent"?[i,g,{}]:[i,g,{onFocus:Pf(u,y),onBlur:Pf(d,S),onMouseEnter:Pf(h,y),onMouseLeave:Pf(p,S),onTouchStart:Pf(m,y)}]:[!1,g,{}]}function Pf(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Wde({page:e,...t}){let{router:n}=l7(),r=b.useMemo(()=>Fs(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?b.createElement(Yde,{page:e,matches:r,...t}):null}function Gde(e){let{manifest:t,routeModules:n}=c7(),[r,a]=b.useState([]);return b.useEffect(()=>{let i=!1;return $de(e,t,n).then(l=>{i||a(l)}),()=>{i=!0}},[e,t,n]),r}function Yde({page:e,matches:t,...n}){let r=Wa(),{manifest:a,routeModules:i}=c7(),{basename:l}=l7(),{loaderData:u,matches:d}=Fde(),h=b.useMemo(()=>XP(e,t,d,a,r,"data"),[e,t,d,a,r]),p=b.useMemo(()=>XP(e,t,d,a,r,"assets"),[e,t,d,a,r]),m=b.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let S=new Set,x=!1;if(t.forEach(T=>{let j=a.routes[T.route.id];!j||!j.hasLoader||(!h.some(R=>R.route.id===T.route.id)&&T.route.id in u&&i[T.route.id]?.shouldRevalidate||j.hasClientLoader?x=!0:S.add(T.route.id))}),S.size===0)return[];let C=Ide(e,l,"data");return x&&S.size>0&&C.searchParams.set("_routes",t.filter(T=>S.has(T.route.id)).map(T=>T.route.id).join(",")),[C.pathname+C.search]},[l,u,r,a,h,t,e,i]),g=b.useMemo(()=>qde(p,a),[p,a]),y=Gde(p);return b.createElement(b.Fragment,null,m.map(S=>b.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),g.map(S=>b.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),y.map(({key:S,link:x})=>b.createElement("link",{key:S,nonce:n.nonce,...x})))}function Qde(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var u7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{u7&&(window.__reactRouterVersion="7.10.1")}catch{}function Kde(e,t){return Aue({basename:t?.basename,getContext:t?.getContext,future:t?.future,history:Fce({window:t?.window}),hydrationData:Xde(),routes:e,mapRouteProperties:bde,hydrationRouteProperties:xde,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window,unstable_instrumentations:t?.unstable_instrumentations}).initialize()}function Xde(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:Zde(e.errors)}),e}function Zde(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,a]of t)if(a&&a.__type==="RouteErrorResponse")n[r]=new zy(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let i=window[a.__subType];if(typeof i=="function")try{let l=new i(a.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let i=new Error(a.message);i.stack="",n[r]=i}}else n[r]=a;return n}var d7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f_=b.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:i,replace:l,state:u,target:d,to:h,preventScrollReset:p,viewTransition:m,...g},y){let{basename:S,unstable_useTransitions:x}=b.useContext(Ci),C=typeof h=="string"&&d7.test(h),T,j=!1;if(typeof h=="string"&&C&&(T=h,u7))try{let I=new URL(window.location.href),L=h.startsWith("//")?new URL(I.protocol+h):new URL(h),V=gi(L.pathname,S);L.origin===I.origin&&V!=null?h=V+L.search+L.hash:j=!0}catch{On(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=ede(h,{relative:a}),[_,A,k]=Vde(r,g),D=nfe(h,{replace:l,state:u,target:d,preventScrollReset:p,relative:a,viewTransition:m,unstable_useTransitions:x});function O(I){t&&t(I),I.defaultPrevented||D(I)}let M=b.createElement("a",{...g,...k,href:T||R,onClick:j||i?t:O,ref:Qde(y,A),target:d,"data-discover":!C&&n==="render"?"true":void 0});return _&&!C?b.createElement(b.Fragment,null,M,b.createElement(Wde,{page:R})):M});f_.displayName="Link";var Jde=b.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:i,to:l,viewTransition:u,children:d,...h},p){let m=rp(l,{relative:h.relative}),g=Wa(),y=b.useContext(tp),{navigator:S,basename:x}=b.useContext(Ci),C=y!=null&&lfe(m)&&u===!0,T=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,j=g.pathname,R=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(j=j.toLowerCase(),R=R?R.toLowerCase():null,T=T.toLowerCase()),R&&x&&(R=gi(R,x)||R);const _=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let A=j===T||!a&&j.startsWith(T)&&j.charAt(_)==="/",k=R!=null&&(R===T||!a&&R.startsWith(T)&&R.charAt(T.length)==="/"),D={isActive:A,isPending:k,isTransitioning:C},O=A?t:void 0,M;typeof r=="function"?M=r(D):M=[r,A?"active":null,k?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let I=typeof i=="function"?i(D):i;return b.createElement(f_,{...h,"aria-current":O,className:M,ref:p,style:I,to:l,viewTransition:u},typeof d=="function"?d(D):d)});Jde.displayName="NavLink";var efe=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:i,method:l=gg,action:u,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:m,...g},y)=>{let{unstable_useTransitions:S}=b.useContext(Ci),x=ofe(),C=sfe(u,{relative:h}),T=l.toLowerCase()==="get"?"get":"post",j=typeof u=="string"&&d7.test(u),R=_=>{if(d&&d(_),_.defaultPrevented)return;_.preventDefault();let A=_.nativeEvent.submitter,k=A?.getAttribute("formmethod")||l,D=()=>x(A||_.currentTarget,{fetcherKey:t,method:k,navigate:n,replace:a,state:i,relative:h,preventScrollReset:p,viewTransition:m});S&&n!==!1?b.startTransition(()=>D()):D()};return b.createElement("form",{ref:y,method:T,action:C,onSubmit:r?d:R,...g,"data-discover":!j&&e==="render"?"true":void 0})});efe.displayName="Form";function tfe(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f7(e){let t=b.useContext(zc);return bt(t,tfe(e)),t}function nfe(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:i,viewTransition:l,unstable_useTransitions:u}={}){let d=Rn(),h=Wa(),p=rp(e,{relative:i});return b.useCallback(m=>{if(Ode(m,t)){m.preventDefault();let g=n!==void 0?n:So(h)===So(p),y=()=>d(e,{replace:g,state:r,preventScrollReset:a,relative:i,viewTransition:l});u?b.startTransition(()=>y()):y()}},[h,d,p,n,r,t,e,a,i,l,u])}function rfe(e){On(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=b.useRef($j(e)),n=b.useRef(!1),r=Wa(),a=b.useMemo(()=>kde(r.search,n.current?null:t.current),[r.search]),i=Rn(),l=b.useCallback((u,d)=>{const h=$j(typeof u=="function"?u(new URLSearchParams(a)):u);n.current=!0,i("?"+h,d)},[i,a]);return[a,l]}var afe=0,ife=()=>`__${String(++afe)}__`;function ofe(){let{router:e}=f7("useSubmit"),{basename:t}=b.useContext(Ci),n=hde(),r=e.fetch,a=e.navigate;return b.useCallback(async(i,l={})=>{let{action:u,method:d,encType:h,formData:p,body:m}=Nde(i,t);if(l.navigate===!1){let g=l.fetcherKey||ife();await r(g,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||d,formEncType:l.encType||h,flushSync:l.flushSync})}else await a(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||d,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,a,t,n])}function sfe(e,{relative:t}={}){let{basename:n}=b.useContext(Ci),r=b.useContext(ji);bt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i={...rp(e||".",{relative:t})},l=Wa();if(e==null){i.search=l.search;let u=new URLSearchParams(i.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();i.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:po([n,i.pathname])),So(i)}function lfe(e,{relative:t}={}){let n=b.useContext(i_);bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=f7("useViewTransitionState"),a=rp(e,{relative:t});if(!n.isTransitioning)return!1;let i=gi(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=gi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return rv(a.pathname,l)!=null||rv(a.pathname,i)!=null}var cfe={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};const _t=(e,t,n,r)=>{const a=b.forwardRef(({color:i="currentColor",size:l=24,stroke:u=2,title:d,className:h,children:p,...m},g)=>b.createElement("svg",{ref:g,...cfe[e],width:l,height:l,className:["tabler-icon",`tabler-icon-${t}`,h].join(" "),strokeWidth:u,stroke:i,...m},[d&&b.createElement("title",{key:"svg-title"},d),...r.map(([y,S])=>b.createElement(y,S)),...Array.isArray(p)?p:[p]]));return a.displayName=`${n}`,a};const ufe=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],dfe=_t("outline","alert-circle","AlertCircle",ufe);const ffe=[["path",{d:"M12 3c7.2 0 9 1.8 9 9s-1.8 9 -9 9s-9 -1.8 -9 -9s1.8 -9 9 -9z",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],h7=_t("outline","alert-square-rounded","AlertSquareRounded",ffe);const hfe=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 13l-6 6",key:"svg-1"}],["path",{d:"M6 13l6 6",key:"svg-2"}]],pfe=_t("outline","arrow-down","ArrowDown",hfe);const mfe=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 11l-6 -6",key:"svg-1"}],["path",{d:"M6 11l6 -6",key:"svg-2"}]],gfe=_t("outline","arrow-up","ArrowUp",mfe);const vfe=[["path",{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M8 14v4",key:"svg-4"}],["path",{d:"M12 14v4",key:"svg-5"}],["path",{d:"M16 14v4",key:"svg-6"}]],yfe=_t("outline","calendar-month","CalendarMonth",vfe);const bfe=[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]],fh=_t("outline","check","Check",bfe);const xfe=[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]],h_=_t("outline","chevron-down","ChevronDown",xfe);const Sfe=[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]],wfe=_t("outline","chevron-left","ChevronLeft",Sfe);const Cfe=[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]],qj=_t("outline","chevron-right","ChevronRight",Cfe);const jfe=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-1"}]],qy=_t("outline","circle-check","CircleCheck",jfe);const Efe=[["path",{d:"M20.042 16.045a9 9 0 0 0 -12.087 -12.087m-2.318 1.677a9 9 0 1 0 12.725 12.73",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]],yc=_t("outline","circle-off","CircleOff",Efe);const Tfe=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M9 12h6",key:"svg-1"}],["path",{d:"M12 9v6",key:"svg-2"}]],Rfe=_t("outline","circle-plus","CirclePlus",Tfe);const _fe=[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M9 14l2 2l4 -4",key:"svg-2"}]],Uj=_t("outline","clipboard-check","ClipboardCheck",_fe);const Dfe=[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M9 12l.01 0",key:"svg-2"}],["path",{d:"M13 12l2 0",key:"svg-3"}],["path",{d:"M9 16l.01 0",key:"svg-4"}],["path",{d:"M13 16l2 0",key:"svg-5"}]],p7=_t("outline","clipboard-list","ClipboardList",Dfe);const Afe=[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]],Ofe=_t("outline","download","Download",Afe);const kfe=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M9 9l1 0",key:"svg-2"}],["path",{d:"M9 13l6 0",key:"svg-3"}],["path",{d:"M9 17l6 0",key:"svg-4"}]],yg=_t("outline","file-text","FileText",kfe);const Mfe=[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]],Pfe=_t("outline","filter","Filter",Mfe);const Nfe=[["path",{d:"M9 3l6 0",key:"svg-0"}],["path",{d:"M10 9l4 0",key:"svg-1"}],["path",{d:"M10 3v6l-4 11a.7 .7 0 0 0 .5 1h11a.7 .7 0 0 0 .5 -1l-4 -11v-6",key:"svg-2"}]],Ife=_t("outline","flask","Flask",Nfe);const Lfe=[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 4v16",key:"svg-1"}],["path",{d:"M15 10l-2 2l2 2",key:"svg-2"}]],zfe=_t("outline","layout-sidebar-left-collapse","LayoutSidebarLeftCollapse",Lfe);const $fe=[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 4v16",key:"svg-1"}],["path",{d:"M14 10l2 2l-2 2",key:"svg-2"}]],qfe=_t("outline","layout-sidebar-left-expand","LayoutSidebarLeftExpand",$fe);const Ufe=[["path",{d:"M5 11m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M12 16m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M8 11v-5a4 4 0 0 1 8 0",key:"svg-2"}]],Bfe=_t("outline","lock-open","LockOpen",Ufe);const Hfe=[["path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z",key:"svg-0"}],["path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M8 11v-4a4 4 0 1 1 8 0v4",key:"svg-2"}]],iv=_t("outline","lock","Lock",Hfe);const Ffe=[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]],Vfe=_t("outline","mail","Mail",Ffe);const Wfe=[["path",{d:"M3 20l1.3 -3.9c-2.324 -3.437 -1.426 -7.872 2.1 -10.374c3.526 -2.501 8.59 -2.296 11.845 .48c3.255 2.777 3.695 7.266 1.029 10.501c-2.666 3.235 -7.615 4.215 -11.574 2.293l-4.7 1",key:"svg-0"}]],m7=_t("outline","message-circle","MessageCircle",Wfe);const Gfe=[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]],ov=_t("outline","pencil","Pencil",Gfe);const Yfe=[["path",{d:"M4.5 12.5l8 -8a4.94 4.94 0 0 1 7 7l-8 8a4.94 4.94 0 0 1 -7 -7",key:"svg-0"}],["path",{d:"M8.5 8.5l7 7",key:"svg-1"}]],Qfe=_t("outline","pill","Pill",Yfe);const Kfe=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]],$c=_t("outline","plus","Plus",Kfe);const Xfe=[["path",{d:"M4 7h3a1 1 0 0 0 1 -1v-1a2 2 0 0 1 4 0v1a1 1 0 0 0 1 1h3a1 1 0 0 1 1 1v3a1 1 0 0 0 1 1h1a2 2 0 0 1 0 4h-1a1 1 0 0 0 -1 1v3a1 1 0 0 1 -1 1h-3a1 1 0 0 1 -1 -1v-1a2 2 0 0 0 -4 0v1a1 1 0 0 1 -1 1h-3a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1h1a2 2 0 0 0 0 -4h-1a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1",key:"svg-0"}]],Zfe=_t("outline","puzzle","Puzzle",Xfe);const Jfe=[["path",{d:"M6 4m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v4a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M12 2v2",key:"svg-1"}],["path",{d:"M9 12v9",key:"svg-2"}],["path",{d:"M15 12v9",key:"svg-3"}],["path",{d:"M5 16l4 -2",key:"svg-4"}],["path",{d:"M15 14l4 2",key:"svg-5"}],["path",{d:"M9 18h6",key:"svg-6"}],["path",{d:"M10 8v.01",key:"svg-7"}],["path",{d:"M14 8v.01",key:"svg-8"}]],uS=_t("outline","robot","Robot",Jfe);const ehe=[["path",{d:"M10 14l11 -11",key:"svg-0"}],["path",{d:"M21 3l-6.5 18a.55 .55 0 0 1 -1 0l-3.5 -7l-7 -3.5a.55 .55 0 0 1 0 -1l18 -6.5",key:"svg-1"}]],p_=_t("outline","send","Send",ehe);const the=[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]],nhe=_t("outline","settings","Settings",the);const rhe=[["path",{d:"M3 17c3.333 -3.333 5 -6 5 -8c0 -3 -1 -3 -2 -3s-2.032 1.085 -2 3c.034 2.048 1.658 4.877 2.5 6c1.5 2 2.5 2.5 3.5 1l2 -3c.333 2.667 1.333 4 3 4c.53 0 2.639 -2 3 -2c.517 0 1.517 .667 3 2",key:"svg-0"}]],g7=_t("outline","signature","Signature",rhe);const ahe=[["path",{d:"M6 4h-1a2 2 0 0 0 -2 2v3.5h0a5.5 5.5 0 0 0 11 0v-3.5a2 2 0 0 0 -2 -2h-1",key:"svg-0"}],["path",{d:"M8 15a6 6 0 1 0 12 0v-3",key:"svg-1"}],["path",{d:"M11 3v2",key:"svg-2"}],["path",{d:"M6 3v2",key:"svg-3"}],["path",{d:"M20 10m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-4"}]],ihe=_t("outline","stethoscope","Stethoscope",ahe);const ohe=[["path",{d:"M3 3m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M3 17m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M17 3m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-2"}],["path",{d:"M17 17m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-3"}],["path",{d:"M11 5h2",key:"svg-4"}],["path",{d:"M5 11v2",key:"svg-5"}],["path",{d:"M19 11v2",key:"svg-6"}],["path",{d:"M11 19h2",key:"svg-7"}]],she=_t("outline","transform-point","TransformPoint",ohe);const lhe=[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]],Bj=_t("outline","trash","Trash",lhe);const che=[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-1"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-2"}]],uhe=_t("outline","user-check","UserCheck",che);const dhe=[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]],fhe=_t("outline","user","User",dhe);const hhe=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M3.6 9h16.8",key:"svg-1"}],["path",{d:"M3.6 15h16.8",key:"svg-2"}],["path",{d:"M11.5 3a17 17 0 0 0 0 18",key:"svg-3"}],["path",{d:"M12.5 3a17 17 0 0 1 0 18",key:"svg-4"}]],phe=_t("outline","world","World",hhe);const mhe=[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]],ghe=_t("outline","x","X",mhe);var qc="https://www.medplum.com/bots",vhe="https://dosespot.com/clinic-favorite-medication-id",v7={system:qc,value:"dosespot-patient-sync-bot"},yhe={system:qc,value:"dosespot-iframe-bot"},bhe={system:qc,value:"dosespot-add-favorite-medication-bot"},xhe={system:qc,value:"dosespot-search-medication-bot"},She={system:qc,value:"dosespot-medication-history-bot"},whe={system:qc,value:"dosespot-prescriptions-sync-bot"},Che={system:qc,value:"dosespot-notification-counts-bot"};function jhe(){let[e,t]=b.useState(void 0),[n,r]=b.useState(void 0),a=Ae(),i={selectedMedication:n,directions:e},l=b.useCallback(async()=>{if(!n)throw new Error("Must select a medication before adding a favorite medication");let d={resourceType:"MedicationKnowledge",code:{...n},administrationGuidelines:[{dosage:[{dosage:[{patientInstruction:e||""}],type:{coding:[{system:"https://dosespot.com/patient-instructions"}]}}]}]};return a.executeBot(bhe,d)},[n,e,a]),u=b.useCallback(async d=>await a.executeBot(xhe,{name:d}),[a]);return{state:i,searchMedications:u,setSelectedMedication:d=>{let h;fy(d)?h={...d}:dy(d)&&(h={text:d.display||"",coding:[d]}),r(h)},setSelectedMedicationDirections:d=>{t(d)},saveFavoriteMedication:l,clear:()=>{r(void 0),t(void 0)}}}function Ehe(e){let t=Ae(),{patientId:n,onPatientSyncSuccess:r,onIframeSuccess:a,onError:i}=e,l=b.useRef(!1),[u,d]=b.useState(void 0),h=b.useRef(r);h.current=r;let p=b.useRef(a);p.current=a;let m=b.useRef(i);m.current=i;let g=b.useCallback(async()=>{if(!l.current){l.current=!0;try{n&&(await t.executeBot(v7,{patientId:n}),h.current?.());let y=await t.executeBot(yhe,{patientId:n});y.url&&(d(y.url),p.current?.(y.url))}catch(y){m.current?.(y)}}},[t,n]);return b.useEffect(()=>{g().catch(console.error)},[g]),u}var The=1e4;function Rhe(e){let t=Ae(),{onChange:n,onError:r}={},a=t.getProjectMembership()?.identifier?.some(g=>g.system?.includes("dosespot")),i=The,l=b.useRef(void 0),[u,d]=b.useState(void 0),h=b.useCallback(()=>{let g=l.current;g&&clearInterval(g)},[]),p=b.useCallback(async()=>{try{let g=await t.executeBot(Che,{}),y=0;g.PendingPrescriptionsCount&&(y+=g.PendingPrescriptionsCount),g.PendingRxChangeCount&&(y+=g.PendingRxChangeCount),g.RefillRequestsCount&&(y+=g.RefillRequestsCount),g.TransactionErrorsCount&&(y+=g.TransactionErrorsCount),y!==u&&(d(y),n?.(y))}catch(g){r?.(g),h()}},[t,u,n,r,h]),m=b.useCallback(()=>{l.current=setInterval(()=>{p().catch(console.error)},i)},[p,i]);return b.useEffect(()=>(a&&m(),h),[a,m,h]),u}var _he=e=>e?.code?.text||"";function ZP(){const e=Rhe(),t=s.jsx(Qfe,{size:20,color:"gray"});return e?s.jsx(Fv,{inline:!0,label:e.toLocaleString(),size:16,offset:2,position:"bottom-end",color:"red",children:t}):t}function Uc(e){const{patientId:t}=wr();if(!t&&!e?.ignoreMissingPatientId)throw new Error("Patient ID not found");return Rt({reference:`Patient/${t}`},e?.setOutcome)}const Dhe="_footer_67of4_1",Ahe="_taskDetails_67of4_8",JP={footer:Dhe,taskDetails:Ahe},Ohe=()=>{const{patientId:e,encounterId:t,taskId:n}=wr(),r=Uc(),a=Ae(),i=Rn(),l=Pr(),[u,d]=b.useState(void 0),[h,p]=b.useState(!0),[m,g]=b.useState(),[y,S]=b.useState(),[x,C]=b.useState(),[T,j]=b.useState("");b.useEffect(()=>{(async()=>{const A=await a.readResource("Task",n);C(A.status),d(A),S(A.restriction?.period?.end)})().catch(A=>{Fr.show({color:"red",icon:s.jsx(yc,{}),title:"Error",message:Vt(A)})})},[a,n]);const R=async()=>{if(!u)return;const _={...u},A=T.trim();A!==""&&(_.note=[...u.note||[],{text:A,authorReference:l&&Me(l),time:new Date().toISOString()}]),x&&(_.status=x),y&&(_.restriction={..._.restriction,period:{..._.restriction?.period,end:y}}),m&&(_.owner={reference:Oe(m)});try{await a.updateResource(_),Fr.show({icon:s.jsx(qy,{}),title:"Success",message:"Task updated"}),d(_),i(`/Patient/${e}/Encounter/${t}`)?.catch(console.error)}catch{Fr.show({color:"red",icon:s.jsx(yc,{}),title:"Error",message:"Failed to update the task."})}};return u?s.jsx(Mt,{opened:h,onClose:()=>{i(-1)?.catch(console.error),p(!1)},size:"xl",styles:{body:{padding:0,height:"60vh"}},children:s.jsxs(oe,{h:"100%",justify:"space-between",gap:0,children:[s.jsx(ne,{flex:1,miw:0,children:s.jsxs(vr,{p:"md",h:"100%",children:[s.jsx(vr.Col,{span:6,pr:"lg",children:s.jsxs(oe,{gap:"sm",children:[s.jsx(lr,{p:"md",radius:"md",className:JP.taskDetails,children:s.jsxs(oe,{gap:"sm",children:[s.jsx(Y,{fz:"lg",fw:700,children:u?.code?.text}),u?.description&&s.jsx(Y,{children:u.description}),r?.name&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(Y,{children:"View Patient"}),s.jsx(Pe,{variant:"subtle",component:f_,to:`/Patient/${r.id}`,children:Gn(r.name?.[0])})]})]})}),s.jsx(fa,{name:"practitioner",resourceType:"Practitioner",label:"Assigned to",defaultValue:u?.owner?{reference:u.owner.reference}:void 0,onChange:_=>{g(_)}}),s.jsx(Wn,{name:"Due Date",placeholder:"End",label:"Due Date",defaultValue:y,onChange:S}),u?.status&&s.jsx(rl,{name:"status",label:"Status",binding:"http://hl7.org/fhir/ValueSet/task-status|4.0.1",maxValues:1,defaultValue:x,onChange:_=>{_&&C(_)}})]})}),s.jsx(vr.Col,{span:6,pr:"md",children:s.jsxs(oe,{gap:"sm",children:[s.jsx(Y,{children:"Note"}),s.jsx(Y,{c:"dimmed",children:"Optional free form details about this task"}),s.jsx(wi,{placeholder:"Add note to this task",minRows:3,value:T,onChange:_=>j(_.currentTarget.value)})]})})]})}),s.jsx(ne,{className:JP.footer,h:70,p:"md",children:s.jsx(Pe,{variant:"filled",onClick:R,children:"Save Changes"})})]})}):s.jsx(Fi,{})};function y7(e){return!!e?.identifier?.some(t=>t.system?.includes("dosespot"))}const hh=1500;async function m_(e,t){if(!t.definitionCanonical||t.definitionCanonical.length===0)return t;const n=await e.searchResources("ChargeItemDefinition",`url=${t.definitionCanonical[0]}`);if(n.length===0)return t;const r=n[0];return await e.post(e.fhirUrl("ChargeItemDefinition",r.id,"$apply"),{resourceType:"Parameters",parameter:[{name:"chargeItem",valueReference:{reference:Oe(t)}}]})}async function khe(e,t){if(!t)return[];const n=await e.searchResources("ChargeItem",`context=${Oe(t)}`);return await Promise.all(n.map(a=>m_(e,a)))}function g_(e){return e.reduce((t,n)=>t+(n.priceOverride?.value||0),0)}async function b7(e,t){return e.createResource({resourceType:"Coverage",status:"active",type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActCode",code:"SELFPAY",display:"Self Pay"}],text:"Self Pay"},subscriber:{reference:`Patient/${t}`},beneficiary:{reference:`Patient/${t}`},payor:[{reference:`Patient/${t}`}],period:{start:new Date().toISOString()}})}async function x7(e,t,n,r,a){let l=(await e.searchResources("Coverage",`patient=Patient/${t}&status=active`))[0];l||(l=await b7(e,t));const u={resourceType:"Claim",status:"draft",type:{coding:[{code:"professional"}]},use:"claim",created:new Date().toISOString(),patient:{reference:`Patient/${t}`},provider:{reference:`Practitioner/${r}`,type:"Practitioner"},priority:{coding:[{code:"normal"}]},insurance:[{sequence:1,focal:!0,coverage:{reference:Oe(l)}}],item:S7(a,{reference:`Encounter/${n}`}),total:{value:g_(a)}};return e.createResource(u)}function S7(e,t){return e.filter(r=>r.code?.coding?.some(a=>a.system===sM)).map((r,a)=>{const i=r.extension?.filter(l=>l.url==="http://hl7.org/fhir/StructureDefinition/chargeitem-modifier").map(l=>l.valueCodeableConcept).filter(l=>l!==void 0);return{sequence:a+1,encounter:[t],productOrService:{coding:r.code.coding?.filter(l=>l.system===sM),text:r.code.text},net:r.priceOverride,...i&&i.length>0?{modifier:i}:{}}})}const rt=e=>{Fr.show({color:"red",icon:te.createElement(yc),title:"Error",message:Vt(e)})};function Mhe(e,t){const n=Ae(),r=Rt(e),a=Rt(t),[i,l]=b.useState(r),[u,d]=b.useState(),[h,p]=b.useState(),[m,g]=b.useState([]),[y,S]=b.useState(),[x,C]=b.useState([]),[T,j]=b.useState(),R=r??i;b.useEffect(()=>{async function k(){if(r){const O=await khe(n,r);C(O)}}async function D(){if(!r?.id)return;const O=await n.searchResources("Claim",`encounter=${Oe(r)}`);O.length!==0&&d(O[0])}k().catch(rt),D().catch(rt)},[r,n]);const _=b.useCallback(async()=>{if(!r)return;const k=await n.searchResources("Task",`encounter=${Oe(r)}`,{cache:"no-cache"});k.sort((D,O)=>{const M=new Date(D.authoredOn||"").getTime(),I=new Date(O.authoredOn||"").getTime();return M-I}),g(k)},[n,r]),A=b.useCallback(async()=>{if(!r)return;const D=(await n.searchResources("ClinicalImpression",`encounter=${Oe(r)}`))?.[0];S(D)},[n,r]);return b.useEffect(()=>{r&&(_().catch(k=>rt(k)),A().catch(k=>rt(k)))},[r,_,A]),b.useEffect(()=>{r&&(async()=>{if(r?.participant?.[0]?.individual){const D=await n.readReference(r.participant[0].individual);p(D)}})().catch(D=>rt(D))},[r,n]),b.useEffect(()=>{r&&(async()=>{const D=r?.appointment?.at(-1);if(D){const O=await n.readReference(D);j(O)}})().catch(D=>rt(D))},[r,n]),b.useEffect(()=>{(async()=>{if(u)return;const D=a?.id;if(!D||!r?.id||!h?.id||x.length===0)return;const O=await x7(n,D,r.id,h.id,x);O&&d(O)})().catch(D=>rt(D))},[a,r,n,u,h,x]),{encounter:R,claim:u,practitioner:h,tasks:m,clinicalImpression:y,chargeItems:x,appointment:T,setEncounter:l,setClaim:d,setPractitioner:p,setTasks:g,setClinicalImpression:S,setChargeItems:C,setAppointment:j}}const Phe=500;function Uy(e,t=Phe){const n=Xo(async r=>await e.updateResource(r),t);return async r=>(n(r),r)}var qr=(e=>(e.Unsigned="unsigned",e.Signed="signed",e.SignedAndLocked="signedAndLocked",e))(qr||{});async function w7(e,t,n,r,a,i){const l=await e.createResource({resourceType:"Appointment",status:"booked",start:t.toISOString(),end:n.toISOString(),participant:[{actor:{reference:Oe(a),display:Gn(a.name?.[0])},status:"accepted"},{actor:{reference:Oe(e.getProfile()),display:Gn(e.getProfile()?.name)},status:"accepted"}]}),u=await e.createResource({resourceType:"Encounter",status:"planned",statusHistory:[],classHistory:[],class:r,subject:Me(a),appointment:[Me(l)],participant:[{individual:{reference:Oe(e.getProfile())}}]}),d={resourceType:"ClinicalImpression",status:"in-progress",description:"Initial clinical impression",subject:Me(a),encounter:Me(u),date:new Date().toISOString()};return await e.createResource(d),await e.post(e.fhirUrl("PlanDefinition",i.id,"$apply"),{resourceType:"Parameters",parameter:[{name:"subject",valueString:Oe(a)},{name:"encounter",valueString:Oe(u)},{name:"practitioner",valueString:Oe(e.getProfile())}]}),await Nhe(e,u,a,i),await Ihe(e,u,a),u}async function Nhe(e,t,n,r){const a=kr(r,`${yt}/fhir/uv/order-catalog/StructureDefinition/ServiceBillingCode`),i=kr(r,"http://medplum.com/fhir/StructureDefinition/applicable-charge-definition");if(!a?.valueCodeableConcept||!i?.valueCanonical){console.log("PlanDefinition missing required extensions for charge item creation");return}if(!a.valueCodeableConcept.coding?.find(d=>d.system==="http://www.ama-assn.org/go/cpt"))return;const u={resourceType:"ChargeItem",status:"planned",subject:Me(n),context:Me(t),occurrenceDateTime:new Date().toISOString(),code:a.valueCodeableConcept,extension:[a],quantity:{value:1},definitionCanonical:[i.valueCanonical]};await e.createResource(u)}async function Ihe(e,t,n){const r=await e.search("Task",{encounter:Oe(t)});r.entry?.length&&await Promise.all(r.entry.map(async a=>{const l=a.resource.focus?.reference;if(l?.startsWith("ServiceRequest/"))try{const u=await e.readReference({reference:l});await Lhe(e,n,u)}catch(u){console.error(`Error processing ServiceRequest ${l}:`,u)}}))}async function Lhe(e,t,n){const r=kr(n,"http://medplum.com/fhir/StructureDefinition/applicable-charge-definition");if(!r?.valueCanonical||!n.code?.coding?.find(u=>u.system==="http://www.ama-assn.org/go/cpt"))return;const a=r?.valueCanonical,i=a?[a]:[],l={resourceType:"ChargeItem",status:"planned",supportingInformation:[{reference:`ServiceRequest/${n.id}`}],subject:Me(t),context:n.encounter,occurrenceDateTime:n.occurrenceDateTime||new Date().toISOString(),code:n.code||{coding:[]},quantity:{value:1},definitionCanonical:i};await e.createResource(l)}async function zhe(e,t,n,r){const a={...t,status:r,...r==="in-progress"&&!t.period?.start&&{period:{...t.period,start:new Date().toISOString()}},...r==="finished"&&!t.period?.end&&{period:{...t.period,end:new Date().toISOString()}}};if(n){const i=n;switch(r){case"cancelled":i.status="cancelled";break;case"finished":i.status="fulfilled";break;case"in-progress":i.status="checked-in";break;case"arrived":i.status="arrived";break}await e.updateResource(i)}return e.updateResource(a)}const $he=e=>{const{onSign:t}=e,n=Pr(),r=n?Me(n):void 0,a=i=>{if(!r){rt("No author information found");return}t(r,i)};return s.jsxs(oe,{gap:"md",children:[s.jsx(tn,{p:"sm",withBorder:!0,radius:"md",children:s.jsxs(fe,{gap:"sm",children:[s.jsx(xa,{value:r,radius:"xl",size:36}),s.jsx(Y,{size:"sm",fw:500,children:r?.display})]})}),s.jsxs(oe,{gap:0,children:[s.jsx(Pe,{fullWidth:!0,leftSection:s.jsx(iv,{size:18}),onClick:()=>a(!0),mt:"md",children:"Sign & Lock Note"}),s.jsx(Pe,{variant:"outline",fullWidth:!0,leftSection:s.jsx(g7,{size:18}),onClick:()=>a(!1),mt:"md",children:"Just Sign"})]})]})},qhe=e=>{const{encounter:t,practitioner:n,chartNoteStatus:r=qr.Unsigned,onStatusChange:a,onTabChange:i,onSign:l}=e,[u,d]=b.useState(t.status),[h,p]=b.useState("notes"),[m,{open:g,close:y}]=La(!1),[S,{open:x,close:C}]=La(!1),T=I=>{if(I==="cancelled"){g();return}d(I),a?.(I)},j=()=>{d("cancelled"),a?.("cancelled"),y()},R=(I,L)=>{l?.(I,L),C()},_=I=>{p(I),i?.(I)},A=()=>{r!==qr.SignedAndLocked&&x()},k=n?.name?.[0]?Gn(n.name[0]):"Unknown Provider",D=vn(t.period?.start),O=D?`${D} Â· ${k}`:k,M=()=>u==="planned"?s.jsxs(s.Fragment,{children:[s.jsx(ye.Item,{onClick:()=>T("arrived"),children:"Arrived"}),s.jsx(ye.Item,{onClick:()=>T("in-progress"),children:"In Progress"}),s.jsx(ye.Item,{onClick:()=>T("finished"),children:"Finished"}),s.jsx(ye.Item,{onClick:()=>T("cancelled"),children:"Cancelled"}),s.jsx(ye.Divider,{})]}):u==="arrived"?s.jsxs(s.Fragment,{children:[s.jsx(ye.Item,{onClick:()=>T("in-progress"),children:"In Progress"}),s.jsx(ye.Item,{onClick:()=>T("finished"),children:"Finished"}),s.jsx(ye.Item,{onClick:()=>T("cancelled"),children:"Cancelled"}),s.jsx(ye.Divider,{})]}):u==="in-progress"?s.jsxs(s.Fragment,{children:[s.jsx(ye.Item,{onClick:()=>T("finished"),children:"Finished"}),s.jsx(ye.Item,{onClick:()=>T("cancelled"),children:"Cancelled"})]}):null;return s.jsxs(s.Fragment,{children:[s.jsxs(tn,{shadow:"sm",p:0,children:[s.jsxs(Ue,{justify:"space-between",align:"center",p:"lg",children:[s.jsxs(oe,{gap:0,children:[s.jsx(Y,{fw:800,size:"lg",children:t.basedOn?.[0]?.display||"Visit"}),s.jsx(Y,{fw:500,size:"xs",c:"dimmed",children:O})]}),s.jsx(fe,{children:u==="cancelled"||u==="finished"?s.jsxs(s.Fragment,{children:[u==="finished"&&r===qr.Unsigned&&s.jsx(xt,{radius:"50%",variant:"outline",color:"gray",onClick:A,children:s.jsx(iv,{size:16})}),u==="finished"&&r===qr.Signed&&s.jsx(xt,{radius:"50%",variant:"outline",color:"gray",onClick:A,children:s.jsx(Bfe,{size:16})}),u==="finished"&&r===qr.SignedAndLocked&&s.jsx(xt,{radius:"50%",variant:"filled",color:"blue",onClick:A,children:s.jsx(iv,{size:16})}),s.jsx(Pe,{variant:"light",color:eN(u),radius:"xl",size:"sm",children:tN(u)})]}):s.jsxs(ye,{position:"bottom-end",shadow:"md",children:[s.jsx(ye.Target,{children:s.jsx(Pe,{variant:"light",color:eN(u),rightSection:s.jsx(h_,{size:16}),radius:"xl",size:"sm",children:tN(u)})}),s.jsx(ye.Dropdown,{children:M()})]})})]}),s.jsx(ne,{px:"md",pb:"md",children:s.jsx(el,{value:h,onChange:I=>_(I),data:[{label:"Note & Tasks",value:"notes"},{label:"Details & Billing",value:"details"}],fullWidth:!0,radius:"md",color:"gray",size:"md",styles:I=>({root:{backgroundColor:I.colors.gray[1],borderRadius:I.radius.md},indicator:{backgroundColor:I.white},label:{fontWeight:500,color:I.colors.dark[9],padding:`${I.spacing.xs} ${I.spacing.md}`}})})})]}),s.jsxs(Mt,{opened:m,onClose:y,children:[s.jsx(Y,{size:"lg",fw:500,children:"Are you sure you want to cancel this encounter?"}),s.jsx(Y,{size:"sm",c:"dimmed",mt:"xs",children:"This action cannot be undone."}),s.jsxs(fe,{justify:"flex-end",mt:"xl",gap:"xs",children:[s.jsx(Pe,{onClick:y,color:"red",variant:"outline",children:"No, keep it"}),s.jsx(Pe,{onClick:j,color:"red",children:"Yes, cancel it"})]})]}),s.jsx(Mt,{opened:S,onClose:C,title:"Signing As",children:s.jsx($he,{onSign:R})})]})},eN=e=>e==="finished"?"green":e==="cancelled"?"red":e==="arrived"||e==="in-progress"||e==="planned"?"blue":"gray",tN=e=>e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),Uhe=({provenances:e,chartNoteStatus:t,encounter:n})=>{const r=Ae(),a=Pr(),i=a?Me(a):void 0,[l,u]=b.useState([]),[d,h]=b.useState([]),[p,m]=b.useState(""),[g,y]=b.useState(!1);b.useEffect(()=>{(async()=>{const C=e.map(T=>({practitionerName:T.agent?.[0]?.who?.display||"Unknown Practitioner",timestamp:vn(T.recorded)}));u(C)})().catch(rt)},[e,r]),b.useEffect(()=>{const x=async()=>{try{const T=(await r.searchResources("DocumentReference",{encounter:`Encounter/${n.id}`,type:"55107-7",_sort:"-date"})).map(j=>{const R=j.author?.[0]?.display||"Unknown Author",_=j.date?vn(j.date):"Unknown Date",A=j.content?.[0]?.attachment?.data,k=A?atob(A):"";return{authorName:R,timestamp:_,text:k}});h(T)}catch(C){rt(C)}};n.id&&x().catch(console.error)},[n.id,r]);const S=async()=>{y(!0);try{const x=await r.createResource({resourceType:"DocumentReference",status:"current",type:{coding:[{system:"http://loinc.org",code:"55107-7",display:"Addendum Document"}]},subject:n.subject,author:[{reference:i?.reference,display:i?.display}],context:{encounter:[{reference:`Encounter/${n.id}`}]},date:new Date().toISOString(),content:[{attachment:{contentType:"text/plain",data:btoa(p),title:"Addendum"}}]});h([...d,{authorName:i?.display||"Unknown Author",timestamp:vn(x.date),text:p}]),m("")}catch(x){rt(x)}finally{y(!1)}};return l.length===0?null:s.jsx(lr,{withBorder:!0,shadow:"sm",children:s.jsxs(oe,{gap:"md",children:[l.map((x,C)=>s.jsxs(oe,{children:[s.jsxs(fe,{gap:"sm",children:[l.length-1===C&&t===qr.SignedAndLocked?s.jsx(iv,{size:20}):s.jsx(g7,{size:20}),s.jsxs(Y,{fw:500,children:[l.length-1===C&&t===qr.SignedAndLocked?"Signed and Locked by ":"Signed by ",x.practitionerName]}),s.jsx(Y,{c:"dimmed",size:"sm",children:x.timestamp})]}),s.jsx(ht,{})]},`prov-${C}`)),d.map((x,C)=>s.jsxs(oe,{children:[s.jsxs(fe,{gap:"sm",align:"flex-start",children:[s.jsx(ov,{size:20}),s.jsxs(oe,{gap:"xs",style:{flex:1},children:[s.jsxs(fe,{gap:"sm",children:[s.jsxs(Y,{fw:500,children:["Addendum by ",x.authorName]}),s.jsx(Y,{c:"dimmed",size:"sm",children:x.timestamp})]}),s.jsx(Y,{size:"sm",style:{whiteSpace:"pre-wrap"},children:x.text})]})]}),s.jsx(ht,{})]},`addendum-${C}`)),s.jsx(Y,{fw:600,mt:"sm",children:"Add Addendum"}),s.jsx(wi,{placeholder:"Add an addendum to this Visit...",value:p,onChange:x=>m(x.target.value),autosize:!0,minRows:3,maxRows:6}),s.jsx(fe,{justify:"flex-end",children:s.jsx(Pe,{leftSection:s.jsx(ov,{size:16}),onClick:S,disabled:!p.trim()||g,loading:g,children:"Add Addendum"})})]})})},Bhe=({task:e})=>s.jsx(ne,{p:"md",children:s.jsxs(oe,{gap:"xs",children:[e.code?.text&&s.jsx(Y,{fw:500,size:"lg",children:e.code.text}),s.jsx(Y,{children:e.description}),e.focus?.reference?.startsWith("ServiceRequest/")&&s.jsx(Pe,{component:"a",href:`/${e.focus.reference}`,target:"_blank",children:"View Service Request"})]})}),C7=({task:e,onChangeResponse:t})=>{const n=Ae(),r=Pr(),[a,i]=b.useState(void 0),[l,u]=b.useState(void 0),[d,h]=b.useState(!1),[p,m]=b.useState(void 0);b.useEffect(()=>{(async()=>{if(l&&e.status==="completed"&&l?.status!=="completed"){const S={...l,status:"completed"};await n.updateResource(S)}})().catch(rt)},[e,l,n]);const g=y=>{const x={...l||y,item:y.item,status:"in-progress",authored:new Date().toISOString(),source:r&&Me(r),encounter:e.encounter};t?.(x)};return b.useEffect(()=>{const y=async()=>{const S=e.input?.[0]?.valueReference,x=e.output?.[0]?.valueReference;if(x){const C=await n.readReference(x);u(C)}if(S){const C=await n.readReference(S);i(C)}};m(void 0),h(!0),y().catch(S=>{m(Or(S))}).finally(()=>h(!1))},[n,e]),d?s.jsx(Hhe,{}):s.jsxs(ne,{p:0,children:[e.status!=="completed"&&a&&s.jsx(Py,{questionnaire:a,questionnaireResponse:l,excludeButtons:!0,onChange:g}),e.status==="completed"&&l&&s.jsx(kce,{questionnaireResponse:l}),p&&s.jsx(Lc,{outcome:p})]})},Hhe=()=>s.jsxs(oe,{gap:"lg",children:[s.jsxs(oe,{gap:"xs",children:[s.jsx(Et,{height:24,width:"60%"}),s.jsx(Et,{height:16,width:"85%"})]}),s.jsxs(oe,{gap:"sm",children:[s.jsx(Et,{height:18,width:"45%"}),s.jsxs(fe,{gap:"md",children:[s.jsx(Et,{height:20,width:20,radius:"xl"}),s.jsx(Et,{height:16,width:"15%"}),s.jsx(Et,{height:20,width:20,radius:"xl"}),s.jsx(Et,{height:16,width:"12%"})]})]}),s.jsxs(oe,{gap:"sm",children:[s.jsx(Et,{height:18,width:"38%"}),s.jsx(Et,{height:36,width:"100%",radius:"md"})]}),s.jsxs(oe,{gap:"sm",children:[s.jsx(Et,{height:18,width:"52%"}),s.jsxs(oe,{gap:"xs",children:[s.jsxs(fe,{gap:"sm",children:[s.jsx(Et,{height:16,width:16,radius:"sm"}),s.jsx(Et,{height:14,width:"25%"})]}),s.jsxs(fe,{gap:"sm",children:[s.jsx(Et,{height:16,width:16,radius:"sm"}),s.jsx(Et,{height:14,width:"30%"})]}),s.jsxs(fe,{gap:"sm",children:[s.jsx(Et,{height:16,width:16,radius:"sm"}),s.jsx(Et,{height:14,width:"22%"})]})]})]}),s.jsxs(oe,{gap:"sm",children:[s.jsx(Et,{height:18,width:"42%"}),s.jsx(Et,{height:80,width:"100%",radius:"md"})]}),s.jsxs(oe,{gap:"sm",children:[s.jsx(Et,{height:18,width:"48%"}),s.jsxs(fe,{gap:"md",children:[s.jsx(Et,{height:20,width:20,radius:"xl"}),s.jsx(Et,{height:16,width:"18%"}),s.jsx(Et,{height:20,width:20,radius:"xl"}),s.jsx(Et,{height:16,width:"20%"}),s.jsx(Et,{height:20,width:20,radius:"xl"}),s.jsx(Et,{height:16,width:"16%"})]})]})]}),Fhe=e=>{const{task:t,enabled:n=!0,onActionButtonClicked:r,onChangeStatus:a}=e,i=Whe(t.status);return s.jsx(ne,{p:"md",style:{borderTop:"1px solid #eee",margin:0},children:s.jsxs(Ue,{justify:"space-between",align:"center",w:"100%",m:0,children:[s.jsxs(Ue,{align:"center",gap:8,children:[s.jsx(Y,{children:"Task Status:"}),n?s.jsxs(ye,{position:"bottom-start",children:[s.jsx(ye.Target,{children:s.jsx(Bi,{variant:"light",color:i,size:"lg",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:0},rightSection:s.jsx(h_,{size:16}),children:t.status.replaceAll("-"," ").replaceAll(/\b\w/g,l=>l.toUpperCase())})}),s.jsx(ye.Dropdown,{style:{width:140},children:Vhe.map(l=>s.jsx(ye.Item,{rightSection:t.status===l.value?s.jsx("div",{style:{marginLeft:4,display:"flex",alignItems:"center"},children:s.jsx(fh,{size:16,color:"gray"})}):null,onClick:()=>a(l.value),children:l.label},l.value))})]}):s.jsx(Bi,{variant:"light",color:i,size:"lg",children:t.status.replaceAll("-"," ").replaceAll(/\b\w/g,l=>l.toUpperCase())})]}),n&&s.jsx(va,{label:"Edit Task",openDelay:500,children:s.jsx(xt,{onClick:r,color:"gray",variant:"subtle","aria-label":"Edit Task",size:"lg",children:s.jsx(ov,{size:20})})})]})})},Vhe=[{value:"completed",label:"Completed"},{value:"ready",label:"Ready"},{value:"in-progress",label:"In Progress"},{value:"on-hold",label:"On Hold"},{value:"cancelled",label:"Cancelled"}],Whe=e=>({completed:"green",cancelled:"red"})[e]??"blue";var Ghe=Object.defineProperty,Yhe=(e,t,n)=>t in e?Ghe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qhe=(e,t,n)=>Yhe(e,t+"",n);function j7(e){if(e.item)for(let t of e.item)t.linkId=t.linkId??t.id,t.initial=t.answerOption?void 0:t.initial;return e}function Khe(e,t,n){let r=[],a=t&&fJ(t);for(let i of sv(j7(e).item))if(i.required||n&&xj(i,"https://www.healthgorilla.com/fhir/StructureDefinition/questionnaire-requiredwhenspecimen")===!0){let l=a?.[i.linkId];if(l&&l.length>0){let u=!1;for(let d of l)if(rz(cc({type:"QuestionnaireResponseItemAnswer",value:d},"value[x]"))?.some(h=>h.value)){u=!0;continue}if(u)continue}r.push(i.linkId)}return r}function*sv(e){if(e)for(let t of e)yield t,t.item&&(yield*sv(t.item))}var E7="https://medplum.com/profiles/integrations/health-gorilla/StructureDefinition/MedplumHealthGorillaOrder",Xhe="billTo",Zhe="performingLabAccountNumber",T7="https://www.healthgorilla.com",Jhe=T7+"/fhir/StructureDefinition/requestgroup-authorizedBy",epe=yt+"/fhir/sid/us-npi",tpe=["patient","insurance","customer-account","self"];function npe(e){return e==="patient"||e==="insurance"||e==="customer-account"||e==="self"}var R7=["routine","urgent","asap","stat"];function rpe(e){return R7.includes(e)}function Hm(e,t){return Ia(t)&&t.reference.startsWith(e+"/")}function Fm(){return"urn:uuid:"+mz()}function ape(e){let t=_7(e);if(t)throw new ipe(t)}function _7(e){let t={};if(e.patient||(t.patient={message:"Patient is required"}),e.requester||(t.requester={message:"Requesting Practitioner is required"}),e.performingLab||(t.performingLab={message:"Performing Lab is required"}),!e.selectedTests||e.selectedTests.length===0)t.selectedTests={message:"At least one test must be selected"};else for(let n of e.selectedTests){let r=e.testMetadata?.[n.code];r?.priority&&!rpe(r.priority)&&(t.testMetadata??={},t.testMetadata[n.code]??={},t.testMetadata[n.code].priority={message:`Priority for ${dc(n,!0)} must be one of ${R7.join(", ")}`});let a=r?.aoeQuestionnaire;if(a){let i=Khe(a,r.aoeResponses,!!e.specimenCollectedDateTime);i.length>0&&(t.testMetadata??={},t.testMetadata[n.code]??={},t.testMetadata[n.code].aoeResponses={message:`Missing required AOE responses for ${dc(n,!0)}: ${i.join(", ")}`})}}if(!npe(e.billingInformation?.billTo))t.billingInformation??={},e.billingInformation?.billTo?t.billingInformation.billTo={message:`Bill to must be one of: ${tpe.join(", ")}`}:t.billingInformation.billTo={message:"Bill to is required"};else if(e.billingInformation.billTo==="insurance"){let n=e.billingInformation.patientCoverage?.length??0;(n<1||n>3)&&(t.billingInformation??={},t.billingInformation.patientCoverage={message:"BillingInformation.patientCoverage must contain 1-3 Coverage resources when billing to insurance"})}if(Object.keys(t).length>0)return t}var ipe=class extends Error{constructor(e){super(`Invalid lab order inputs: ${JSON.stringify(e)}`),Qhe(this,"errors"),this.errors=e}};function ope(e){ape(e);let{patient:t,requester:n,requestingLocation:r,performingLab:a,performingLabAccountNumber:i,selectedTests:l,testMetadata:u,diagnoses:d,specimenCollectedDateTime:h,billingInformation:p,orderNotes:m}=e,g={resourceType:"Bundle",type:"transaction"},y=Fm(),S=[],x=[],C=Ia(t)?t:Me(t),T=Ia(n)?n:Me(n),j=Me(a),R=[];for(let D of l){let O=u[D.code],M;O?.aoeResponses&&(M=Hi(O.aoeResponses),M.id=Fm(),x.push({fullUrl:M.id,resource:M,request:{method:"POST",url:"QuestionnaireResponse"}}));let I={resourceType:"ServiceRequest",id:Fm(),status:"draft",intent:"order",basedOn:[{reference:y}],subject:C,requester:T,performer:[j],category:[{coding:[{system:Ys,code:"103693007",display:"Diagnostic procedure"}]}],code:{coding:[D]},priority:O?.priority??"routine",note:O?.notes?[{authorReference:T,time:new Date().toISOString(),text:O.notes}]:void 0,supportingInfo:M?[{reference:M.id}]:void 0};R.push({fullUrl:I.id,resource:I,request:{method:"POST",url:"ServiceRequest"}})}let _;if(h&&(_={resourceType:"Specimen",id:Fm(),subject:C,collection:{collectedDateTime:h.toISOString()}},x.push({fullUrl:_.id,resource:_,request:{method:"POST",url:"Specimen"}})),S.push({url:Xhe,valueString:p.billTo}),i&&S.push({url:Zhe,valueString:i}),r){let D=Ia(r)?r:Me(r);S.push({url:Jhe,valueReference:D})}let A;p.billTo==="insurance"&&(A=(p.patientCoverage??[]).map(D=>Me(D)));let k={resourceType:"ServiceRequest",id:y,meta:{profile:[E7]},extension:S,status:"draft",intent:"order",subject:C,requester:T,performer:[j],reasonCode:d,category:[{coding:[{system:Ys,code:"108252007",display:"Laboratory procedure"}]}],code:{coding:l},insurance:A,specimen:_?[{reference:_.id}]:void 0,note:m?[{authorReference:T,time:new Date().toISOString(),text:m}]:void 0};x.push({fullUrl:k.id,resource:k,request:{method:"POST",url:"ServiceRequest"}}),x.push(...R);for(let D of x)D.resource&&delete D.resource.id;return g.entry=x,g}function spe(e,t){return async n=>{let r=await e.executeBot(t,n,Dn.JSON);if(r.type==="error")throw new Error("Error executing autocomplete bot",{cause:r});let{result:a}=r;switch(r.type){case"lab":{if(Array.isArray(a)&&a.every(i=>zi(i,"Organization")))return{type:"lab",result:a};break}case"test":{let{result:i}=r;if(Array.isArray(i)&&i.every(l=>dy(l)))return{type:"test",result:i};break}case"aoe":{let{result:i}=r;if(i===void 0||i.resourceType==="Questionnaire")return{type:"aoe",result:i};break}}throw new Error(`Invalid bot response for ${JSON.stringify(n)}`)}}var D7=b.createContext(void 0);function lpe(e){let{children:t,...n}=e;return s.jsx(D7.Provider,{value:n,children:t})}var cpe=["priority","notes","aoeResponses"],upe=[],dpe=[],fpe={},hpe={};function ppe(e,t){switch(t.type){case"add":return mpe(e,t);case"remove":return gpe(e,t);case"set":return vpe(e,t);case"updateMetadata":return ype(e,t);case"aoeLoaded":return bpe(e,t);case"aoeError":return xpe(e,t);case"specimenCollectionDateChange":return Spe(e,t);default:return e}}function mpe(e,t){return e.selectedTests.some(n=>n.code===t.test.code)?e:{...e,selectedTests:[...e.selectedTests,t.test],testMetadata:{...e.testMetadata,[t.test.code]:{aoeStatus:"loading"}}}}function gpe(e,t){return{...e,selectedTests:e.selectedTests.filter(n=>n.code!==t.test.code),testMetadata:Object.fromEntries(Object.entries(e.testMetadata).filter(([n])=>n!==t.test.code))}}function vpe(e,t){return{...e,selectedTests:t.tests,testMetadata:Object.fromEntries(t.tests.map(n=>[n.code,e.testMetadata[n.code]??{aoeStatus:"loading"}]))}}function ype(e,t){let{test:n,partialMetadata:r}=t,a=e.testMetadata[n.code];if(!e.selectedTests.some(u=>u.code===n.code)||!a)return console.warn(`Cannot update metadata for test ${n.code} since it is not a selected tests`),e;let i=r,l=Object.keys(r).filter(u=>!cpe.includes(u));return l.length>0&&(console.warn(`Cannot update test metadata fields: ${l.join(", ")}`),i=Object.fromEntries(Object.entries(r).filter(([u])=>!l.includes(u)))),{...e,testMetadata:{...e.testMetadata,[n.code]:{...a,...i}}}}function bpe(e,t){let n;for(let[r,a]of t.testAoes){let i=e.testMetadata[r.code];i&&(n??={...e.testMetadata},n[r.code]={...i,aoeStatus:a?"loaded":"none",aoeQuestionnaire:a&&(A7(a,e.specimenCollectedDateTime)??a)})}return n?{...e,testMetadata:n}:e}function xpe(e,t){let n;for(let r of t.tests){let a=e.testMetadata[r.code];!a||a.aoeStatus!=="loading"||(n??={...e.testMetadata},n[r.code]={...a,aoeStatus:"error"})}return n?{...e,testMetadata:n}:e}function Spe(e,t){let n;for(let r of e.selectedTests){let a=e.testMetadata[r.code];if(a&&a.aoeQuestionnaire){let i=A7(a.aoeQuestionnaire,t.newDate);i&&(n??={...e.testMetadata},n[r.code]={...a,aoeQuestionnaire:i})}}return{...e,testMetadata:n??e.testMetadata,specimenCollectedDateTime:t.newDate}}function wpe(e){let t=Ae(),[n,r]=b.useState(),[a,i]=b.useState(),[l,u]=b.useReducer(ppe,{specimenCollectedDateTime:void 0,selectedTests:upe,testMetadata:fpe}),[d,h]=b.useState(dpe),[p,m]=b.useState(hpe),[g,y]=b.useState(),S=b.useMemo(()=>spe(t,{system:"https://www.medplum.com/integrations/bot-identifier",value:"health-gorilla-labs/autocomplete"}),[t]),x=b.useCallback(async D=>{let O=await S({type:"aoe",testCode:D}),M=O.result;return M&&j7(M),O.result},[S]),C=b.useRef([]);b.useEffect(()=>{if(C.current===l.selectedTests)return;C.current=l.selectedTests;let D=[];async function O(){let M=[];for(let I of l.selectedTests)l.testMetadata[I.code]?.aoeStatus==="loading"&&(D.push(I),M.push(new Promise((L,V)=>{x(I).then(q=>{L([I,q])}).catch(V)})));return Promise.all(M)}O().then(M=>{M.length!==0&&u({type:"aoeLoaded",testAoes:M})}).catch(M=>{console.error("Error fetching AOE questions",M),u({type:"aoeError",tests:D})})},[x,l]);let T=b.useMemo(()=>Hm("Patient",e.patient)?e.patient:zi(e.patient)?Me(e.patient):void 0,[e.patient]),j=b.useMemo(()=>{if(Hm("Practitioner",e.requester))return e.requester;if(zi(e.requester))return Me(e.requester)},[e.requester]),R=b.useMemo(()=>Hm("Location",e.requestingLocation)||Hm("Organization",e.requestingLocation)?e.requestingLocation:zi(e.requestingLocation)?Me(e.requestingLocation):void 0,[e.requestingLocation]),_=b.useMemo(()=>{let D=Hi({performingLab:n,performingLabAccountNumber:a,selectedTests:l.selectedTests,testMetadata:l.testMetadata,diagnoses:d,billingInformation:p,specimenCollectedDateTime:l.specimenCollectedDateTime,orderNotes:g});return D.specimenCollectedDateTime&&(D.specimenCollectedDateTime=new Date(D.specimenCollectedDateTime)),D},[n,a,l.selectedTests,l.testMetadata,l.specimenCollectedDateTime,d,p,g]),A=b.useCallback(async()=>{if(!T)return Object.assign([],{bundle:{resourceType:"Bundle",type:"searchset",entry:[],total:0}});let D=new URLSearchParams({patient:T.reference,status:"active"});return(await t.searchResources("Coverage",D)).sort((O,M)=>(O.order??Number.POSITIVE_INFINITY)-(M.order??Number.POSITIVE_INFINITY))},[t,T]),k=b.useCallback(D=>{m(O=>({...O,...D}))},[]);return b.useMemo(()=>({state:_,searchAvailableLabs:async D=>(await S({type:"lab",query:D})).result,searchAvailableTests:async D=>{if(!n)return[];let O=hJ(n,T7);if(!O)throw new Error("No Health Gorilla identifier found for performing lab");return D.length===0?[]:(await S({type:"test",query:D,labId:O})).result},setPerformingLab:D=>{r(D)},setPerformingLabAccountNumber:D=>{i(D)},addTest:D=>{u({type:"add",test:D})},removeTest:D=>{u({type:"remove",test:D})},setTests:D=>{u({type:"set",tests:D})},updateTestMetadata:(D,O)=>{u({type:"updateMetadata",test:D,partialMetadata:O})},addDiagnosis(D){h(O=>O.some(M=>Vm(M)===Vm(D))?O:[...O,D])},removeDiagnosis(D){h(O=>{let M=O.findIndex(L=>Vm(L)===Vm(D));if(M===-1)return O;let I=[...O];return I.splice(M,1),I})},setDiagnoses:D=>{h(D)},getActivePatientCoverages:A,updateBillingInformation:k,setSpecimenCollectedDateTime:D=>{u({type:"specimenCollectionDateChange",newDate:D})},setOrderNotes:D=>{y(D||void 0)},validateOrder:()=>_7({patient:T,requester:j,performingLab:_.performingLab,performingLabAccountNumber:_.performingLabAccountNumber,selectedTests:_.selectedTests,testMetadata:_.testMetadata,diagnoses:_.diagnoses,billingInformation:_.billingInformation,specimenCollectedDateTime:_.specimenCollectedDateTime,orderNotes:_.orderNotes}),createOrderBundle:async()=>{let D=ope({patient:T,requester:j,requestingLocation:R,performingLab:_.performingLab,performingLabAccountNumber:_.performingLabAccountNumber,selectedTests:_.selectedTests,testMetadata:_.testMetadata,diagnoses:_.diagnoses,billingInformation:_.billingInformation,specimenCollectedDateTime:_.specimenCollectedDateTime,orderNotes:_.orderNotes}),O=await t.executeBatch(D),M;for(let I of O?.entry??[]){if(!I.response?.status.startsWith("2"))throw new Error("Error creating lab order: Non-2XX status code in response entry",{cause:O});I.resource?.meta?.profile?.includes(E7)&&(M=I.resource)}if(!M)throw new Error("Error creating lab order: Lab Order Service Request not found in response entries",{cause:O});return{transactionResponse:O,serviceRequest:M}}}),[A,S,t,T,n,R,j,_,k])}function Vm(e){return e.coding[0].code}var nN="https://www.healthgorilla.com/fhir/StructureDefinition/questionnaire-requiredwhenspecimen";function A7(e,t){let n,r=!!t;for(let a of sv(e.item))if(xj(a,nN)===!0&&!!a.required!==r){n=Hi(e);break}if(n){for(let a of sv(n.item))xj(a,nN)===!0&&!!a.required!==r&&(a.required=r);return n}}function v_(){let e=b.useContext(D7);if(e===void 0)throw new Error("useHealthGorillaLabOrderContext must be used within a HealthGorillaLabOrderProvider");return e}function Cpe({patient:e,performingLab:t,error:n}){const{searchAvailableLabs:r,setPerformingLab:a}=v_();return b.useEffect(()=>{t&&a(t)},[t,a]),s.jsx(Nc,{required:!0,error:n?.message,label:"Performing lab",disabled:!e,maxValues:1,defaultValue:t,loadOptions:r,toOption:jpe,onChange:i=>{i.length>0?a(i[0]):a(void 0)}})}function jpe(e){return{value:Oe(e)??"",label:nr(e),resource:e}}function Epe({test:e,metadata:t,error:n}){const{updateTestMetadata:r}=v_();return t?s.jsx(lr,{withBorder:!0,shadow:"none",children:s.jsxs(oe,{gap:"xs",children:[s.jsx(Y,{fw:500,children:e.display}),t?s.jsxs(s.Fragment,{children:[s.jsx(Nn.Group,{value:t.priority,error:n?.priority?.message,onChange:a=>{if(!a){console.warn("New value for priority unexpectedly falsey",a);return}r(e,{priority:a})},label:"Priority",withAsterisk:!0,children:s.jsxs(oe,{gap:4,children:[s.jsx(Nn,{value:"routine",label:"Routine"}),s.jsx(Nn,{value:"urgent",label:"Urgent"}),s.jsx(Nn,{value:"asap",label:"ASAP"}),s.jsx(Nn,{value:"stat",label:"Stat"})]})}),s.jsx(et,{label:"Notes",value:t.notes??"",onChange:a=>{r(e,{notes:a.currentTarget.value})},placeholder:"Test notes"}),t.aoeStatus==="loading"&&s.jsx(Y,{children:"Loading AoE..."}),t.aoeStatus==="error"&&s.jsx(Y,{children:"Error fetching AoE"}),t.aoeStatus==="loaded"&&t.aoeQuestionnaire&&s.jsxs(s.Fragment,{children:[n?.aoeResponses?.message&&s.jsx(Y,{c:"red",children:n.aoeResponses.message}),s.jsx(Py,{questionnaire:t.aoeQuestionnaire,disablePagination:!0,excludeButtons:!0,onChange:a=>{r(e,{aoeResponses:a})}})]})]}):s.jsx("div",{children:"Missing metadata"})]})},e.code):s.jsxs(lr,{withBorder:!0,shadow:"none",children:[s.jsx(Y,{fw:500,children:e.display}),s.jsx("div",{children:"Missing metadata"})]},e.code)}const Tpe=[],Rpe=3;function _pe({patient:e,error:t}){const{getActivePatientCoverages:n,updateBillingInformation:r,state:a}=v_(),[i,l]=b.useState(Tpe),u=a.billingInformation.billTo!=="insurance";return b.useEffect(()=>{n().then(d=>{l(d.map((h,p)=>({coverage:h,selected:p<=2})))}).catch(console.error)},[n,e]),b.useEffect(()=>{const d=i?.filter(h=>h.selected).map(h=>h.coverage).slice(0,3);r({patientCoverage:Ape(d)})},[i,r]),s.jsx(nn.Wrapper,{c:u?"dimmed":void 0,label:"Patient coverages (max 3)",error:t?.message,children:i?.length?s.jsx(ed,{type:"ordered",listStyleType:"none",spacing:4,children:i.map(({coverage:d},h)=>{const p=d.payor?.find(g=>g.display)?.display||"Unknown",m=s.jsx(Vv,{c:u||h>=Rpe?"dimmed":void 0,children:s.jsxs(fe,{align:"center",gap:4,children:[Dpe(h),s.jsxs(xt.Group,{children:[s.jsx(xt,{disabled:u||h===0,variant:"default",size:"sm","aria-label":"Move up",onClick:()=>{const g=[...i],y=g[h];g[h]=g[h-1],g[h-1]=y,l(g)},children:s.jsx(gfe,{style:{width:me(16)},stroke:1.5})}),s.jsx(xt,{disabled:u||h===i.length-1,variant:"default",size:"sm","aria-label":"Move down",onClick:()=>{const g=[...i],y=g[h];g[h]=g[h+1],g[h+1]=y,l(g)},children:s.jsx(pfe,{style:{width:me(16)},stroke:1.5})})]}),s.jsx(Y,{children:p})]})},d.id);return h===3?[s.jsx(ht,{label:"Additional coverages that will not be submitted",labelPosition:"center",my:"xs"},"more-divider"),m]:m})}):s.jsx(Y,{children:"No coverages found"})})}function Dpe(e){return s.jsx(Y,{fw:500,display:"inline-block",w:16,h:16,lh:1,ta:"center",children:e<3?`${e+1}.`:""})}function Ape(e){if(e.length===0)return e;if(e.length===1)return e;if(e.length===2)return e;if(e.length===3)return e;throw new Error("Invalid number of coverages")}async function Ope(e,t){return e.executeBot({system:"https://www.medplum.com/integrations/bot-identifier",value:"health-gorilla-labs/send-to-health-gorilla"},t,Dn.FHIR_JSON)}function y_(e){const{encounter:t,task:n,tests:r,performingLab:a,onSubmitLabOrder:i}=e,l=Ae(),{patientId:u}=wr(),[d,h]=b.useState(),[p,m]=b.useState(l.getProfile()),g=Rt(t),y=Rt(n),S=wpe({patient:d,requester:p}),{state:x,searchAvailableTests:C,setTests:T,setDiagnoses:j,updateBillingInformation:R,setSpecimenCollectedDateTime:_,setOrderNotes:A,createOrderBundle:k}=S,[D,O]=b.useState(!1),[M,I]=b.useState(),L=b.useRef(void 0);b.useEffect(()=>{r&&(L.current===void 0||L.current.length!==r.length||L.current.some((U,W)=>U.code!==r[W]?.code))&&(T(r),L.current=r)},[r,T]),b.useEffect(()=>{u&&l.readResource("Patient",u).then(q=>{h(q)}).catch(q=>{rt(q)})},[u,l]);const V=async()=>{try{O(!0),I(void 0);let{serviceRequest:q}=await k();g&&(q={...q,encounter:Me(g)}),y&&await l.updateResource({...y,output:[...y.output||[],{type:{text:"ServiceRequest"},valueReference:Me(q)}],focus:Me(q)}),await Ope(l,q),wt({title:"Lab Order Submitted",message:"The lab order has been successfully submitted.",color:"green"}),i({...q,status:"active"})}catch(q){I({generic:q}),rt(q)}finally{O(!1)}};return s.jsx(lpe,{...S,children:s.jsx(Ih,{size:"md",children:s.jsx(Ry,{children:s.jsxs(oe,{gap:"md",children:[s.jsx(nn.Wrapper,{label:"Requester",required:!0,error:M?.validation?.requester?.message,children:s.jsx(fa,{resourceType:"Practitioner",name:"Requester",onChange:m,defaultValue:p,searchCriteria:{identifier:`${epe}|`}})}),s.jsx(nn.Wrapper,{label:"Patient",required:!0,error:M?.validation?.patient?.message,children:s.jsx(fa,{resourceType:"Patient",name:"patient",defaultValue:d,onChange:h})}),s.jsx(Cpe,{patient:d,performingLab:a,error:M?.validation?.performingLab}),s.jsxs("div",{children:[s.jsx(Nc,{required:!0,error:M?.validation?.selectedTests?.message,label:"Selected tests",disabled:!x.performingLab,maxValues:10,defaultValue:r,loadOptions:C,toOption:kpe,onChange:T}),x.selectedTests.length>0&&s.jsx(fe,{mt:"md",gap:"md",align:"flex-start",wrap:"wrap",children:x.selectedTests.map(q=>s.jsx(Epe,{test:q,metadata:x.testMetadata[q.code],error:M?.validation?.testMetadata?.[q.code]},q.code))})]}),s.jsx("div",{children:s.jsx(Zh,{label:"Diagnoses",binding:"http://hl7.org/fhir/sid/icd-10-cm",name:"diagnoses",maxValues:10,onChange:q=>{const U=q.map(W=>({coding:[W]}));j(U)}})}),s.jsxs(fe,{align:"flex-start",gap:48,children:[s.jsx("div",{children:s.jsx(Nn.Group,{value:x.billingInformation.billTo,error:M?.validation?.billingInformation?.billTo?.message,onChange:q=>{R({billTo:q})},label:"Bill to",withAsterisk:!0,children:s.jsxs(oe,{gap:4,children:[s.jsx(Nn,{value:"patient",label:"Patient"}),s.jsx(Nn,{value:"insurance",label:"Insurance"}),s.jsx(Nn,{value:"customer-account",label:"Customer"})]})})}),d&&s.jsx(_pe,{patient:d,error:M?.validation?.billingInformation?.patientCoverage})]}),s.jsx(et,{label:"Order notes",onChange:q=>A(q.currentTarget.value)}),s.jsx(Wn,{label:"Specimen collection time",name:"",onChange:q=>{_(q?new Date(q):void 0)}}),s.jsx(fe,{children:s.jsx(Pe,{onClick:V,loading:D,disabled:D,children:"Submit Order"})})]})})})})}function kpe(e){return{value:O7(e),label:Mpe(e),resource:e}}function O7(e){return typeof e.code=="string"?e.code:JSON.stringify(e)}function Mpe(e){return typeof e.display=="string"?e.display:O7(e)}const Ppe="http://snomed.info/sct",Npe="108252007",Ipe=e=>{const{task:t}=e,n=Ae(),r=Rt(t.focus),[a,i]=b.useState(!1),[l,u]=b.useState(void 0),d={resourceType:"Organization",id:"258a1dbb-ccec-4cb3-b9ff-4dc28f8f28a0",name:"HGDX LabCorp",identifier:[{system:"https://www.healthgorilla.com",value:"f-388554647b89801ea5e8320b"}]},h=r?.code?.coding?.filter(m=>m.system===Ppe&&m.code!==Npe).map(m=>({system:"urn:uuid:f:388554647b89801ea5e8320b",code:m.code,display:m.display}));b.useEffect(()=>{(async()=>{const g=await n.readReference(t.focus);u(g)})().catch(rt)},[n,t.focus]);const p=async m=>{i(!1),u(m)};return r?s.jsxs(s.Fragment,{children:[s.jsxs(oe,{p:0,children:[s.jsx(oe,{gap:0,children:s.jsx(Sr,{children:nr(t)})}),(l?.status==="draft"||l?.status==="on-hold")&&s.jsx(fe,{children:s.jsx(Pe,{onClick:()=>i(!0),variant:"outline",leftSection:s.jsx($c,{size:16}),children:"Request Labs"})}),l?.status!=="draft"&&l?.status!=="on-hold"&&s.jsxs(s.Fragment,{children:[s.jsxs(Y,{children:[" âœ… Order Sent | Requisition: ",l?.requisition?.value," "]}),s.jsx(fe,{children:s.jsx(Pe,{component:"a",target:"_blank",href:`/${t.for?.reference}/labs/${l?.id}`,children:"View in Labs"})})]})]}),s.jsx(Mt,{opened:a,onClose:()=>i(!1),size:"xl",centered:!0,title:"Order Labs",children:s.jsx(y_,{encounter:t.encounter,task:t,tests:h,performingLab:d,onSubmitLabOrder:p})})]}):s.jsx("div",{children:"Loading..."})},Lpe=e=>{const{task:t,enabled:n=!0,onUpdateTask:r}=e,a=Rn(),i=Ae(),l=async()=>{a(`Task/${t.id}`)?.catch(console.error)},u=g=>{h(t,g)},d=g=>{p(t,g)},h=Xo(async(g,y)=>{try{if(y.id)await i.updateResource(y);else{const S=await i.createResource(y),x=await i.updateResource({...g,output:[{type:{text:"QuestionnaireResponse"},valueReference:{reference:Oe(S)}}]});r(x)}}catch(S){console.error(S)}},hh),p=Xo(async(g,y)=>{const S=await i.updateResource({...g,output:[{type:{text:"DiagnosticReport"},valueReference:{reference:Oe(y)}}]});r(S)},hh),m=async g=>{const y={...t,status:g};await zpe(y,i,r)};return s.jsx(lr,{withBorder:!0,shadow:"sm",p:0,children:s.jsxs(oe,{gap:"xs",children:[s.jsxs(oe,{p:"md",children:[t.focus?.reference?.startsWith("Questionnaire/")&&s.jsx(C7,{task:t,onChangeResponse:u},t.id),t.focus?.reference?.startsWith("ServiceRequest/")&&s.jsx(Ipe,{task:t,saveDiagnosticReport:d},t.id),!t.focus?.reference?.startsWith("ServiceRequest/")&&!t.focus?.reference?.startsWith("Questionnaire/")&&s.jsx(Bhe,{task:t},t.id)]}),s.jsx(Fhe,{task:t,enabled:n,onActionButtonClicked:l,onChangeStatus:m})]})})},zpe=async(e,t,n)=>{try{const r=await t.updateResource(e);n(r)}catch(r){wt({color:"red",icon:s.jsx(yc,{}),title:"Error",message:Vt(r)})}},$pe=e=>{const{practitioner:t,encounter:n,onEncounterChange:r}=e,a=async u=>{if(!n||!u)return;const d={...n,participant:[{individual:{reference:Oe(u)}}]};r(d)},i=async u=>{if(!n||!u)return;const d={...n,period:{start:u}};r(d)},l=async u=>{if(!n||!u)return;const d={...n,period:{end:u}};r(d)};return s.jsxs(oe,{gap:0,children:[s.jsx(Y,{fw:600,size:"lg",mb:"md",children:"Visit Details"}),s.jsx(lr,{withBorder:!0,shadow:"sm",p:"md",children:s.jsxs(oe,{gap:"md",children:[s.jsx(fa,{resourceType:"Practitioner",name:"practitioner",label:"Practitioner",defaultValue:t,onChange:a}),s.jsx(Wn,{name:"checkin",label:"Check in",defaultValue:n.period?.start,onChange:i}),s.jsx(Wn,{name:"checkout",label:"Check out",defaultValue:n.period?.end,onChange:l})]})})]})};function qpe(e){const{condition:t,rank:n,total:r,onChange:a,onRemove:i}=e;return s.jsxs(Ue,{justify:"space-between",children:[s.jsx(fe,{children:s.jsxs(fe,{children:[s.jsx(ly,{w:80,value:n.toString(),data:Array.from({length:r},(l,u)=>(u+1).toString()),onChange:l=>{l&&a?.(t,l)}}),s.jsx(Y,{children:t?.code?.coding?.[0]?.display||""})]})}),s.jsx(xt,{variant:"subtle",color:"gray",onClick:()=>{i?.(t)},children:s.jsx(ghe,{size:16})})]})}function Upe(e){const{patient:t,encounter:n,onSubmit:r}=e,[a,i]=b.useState(),[l,u]=b.useState(),d=b.useCallback(()=>{if(!a){rt("Please select a diagnosis");return}const h=Pc({resourceType:"Condition",category:[{coding:[{system:Jr+"/CodeSystem/condition-category",code:"problem-list-item",display:"Problem List Item"}],text:"Problem List Item"}],subject:Me(t),encounter:n&&Me(n),code:{coding:a.coding?[...a.coding]:[]},clinicalStatus:l},yt+"/fhir/us/core/StructureDefinition/us-core-condition-problems-health-concerns");r(h)},[t,n,a,l,r]);return s.jsx(ar,{onSubmit:d,children:s.jsxs(oe,{children:[s.jsx(mi,{binding:"http://hl7.org/fhir/sid/icd-10-cm/vs",label:"ICD-10 Code",name:"diagnosis",path:"Condition.code",required:!0,onChange:h=>i(h)}),s.jsx(mi,{name:"clinicalStatus",label:"Status",path:"Condition.clinicalStatus",binding:yt+"/fhir/ValueSet/condition-clinical",onChange:h=>u(h),required:!0}),s.jsx(fe,{justify:"flex-end",gap:4,mt:"md",children:s.jsx(Nr,{children:"Save"})})]})})}const Bpe=e=>{const{patient:t,encounter:n,conditions:r,setConditions:a,onDiagnosisChange:i}=e,l=Ae(),[u,d]=b.useState(!1);b.useEffect(()=>{(async()=>{if(!n)return;const y=n.diagnosis?.map(x=>x.condition?.reference).filter(Boolean)||[],S=await Promise.all(y.map(x=>l.readReference({reference:x})));if(S.length>0&&n?.diagnosis){const x=new Map,C=n.diagnosis?.map(j=>j.condition?.reference)||[],T=S.filter(j=>C.includes(Oe(j)));n.diagnosis.forEach((j,R)=>{j.condition?.reference&&x.set(j.condition.reference,j.rank||R)}),T.sort((j,R)=>{const _=Oe(j),A=Oe(R);if(x.has(_)&&x.has(A)){const k=x.get(_)??0,D=x.get(A)??0;return k-D}return x.has(_)?-1:x.has(A)?1:0}),a(T)}})().catch(y=>rt(y))},[n,l,a]);const h=async(g,y)=>{if(!r||r.length===0||!n)return;const S=Number(y),x=r.length,C=Math.max(1,Math.min(S,x)),T=[...r],j=T.findIndex(_=>Oe(_)===Oe(g));if(j===-1)return;const R=T.splice(j,1)[0];T.splice(C-1,0,R),a(T),i(T.map((_,A)=>({condition:{reference:`Condition/${_.id}`},rank:A+1})))},p=async g=>{if(r)try{await l.deleteResource("Condition",g.id),a(r?.filter(x=>x.id!==g.id));const S=n.diagnosis?.filter(x=>x.condition?.reference!==Oe(g))?.map((x,C)=>({...x,rank:C+1}));a(r?.filter(x=>x.id!==g.id)||[]),i(S||[])}catch(y){rt(y)}},m=async g=>{try{const y=await l.createResource(g);if(n){const S=[...n.diagnosis||[],{condition:{reference:`Condition/${y.id}`},rank:n.diagnosis?.length?n.diagnosis.length+1:1}];a([...r||[],y]),i(S)}}catch(y){rt(y)}finally{d(!1)}};return s.jsxs(s.Fragment,{children:[s.jsxs(oe,{gap:0,children:[s.jsx(Y,{fw:600,size:"lg",mb:"md",children:"Diagnosis"}),s.jsx(lr,{withBorder:!0,shadow:"sm",children:s.jsxs(oe,{gap:"md",children:[r&&r.length>0&&r.map((g,y)=>s.jsx(qpe,{condition:g,rank:y+1,total:r.length,onChange:h,onRemove:p},g.id??y)),s.jsx(Ue,{children:s.jsx(Pe,{onClick:()=>d(!0),children:"Add Diagnosis"})})]})})]}),s.jsx(Mt,{opened:u,onClose:()=>d(!1),title:"Add Diagnosis",children:s.jsx(Upe,{patient:t,encounter:n,onSubmit:m})})]})},dS=`${yt}/fhir/StructureDefinition/chargeitem-modifier`,rN="http://www.ama-assn.org/go/cpt";function Hpe(e){const{chargeItem:t,onChange:n,onDelete:r}=e,a=Ae(),[i,l]=b.useState(),[u,d]=b.useState(),[h,p]=b.useState();b.useEffect(()=>{p(t.priceOverride),l(x(t));const j=t?.code?.coding?.filter(R=>R.system===rN)??[];d({coding:j})},[t]);const m=j=>{const R={...t},_=t.code?.coding?.filter(A=>A.system!==rN)??[];R.code={...j??{},coding:[...j?.coding??[],..._]},n(R)},g=async j=>{if(!j){const k={...t};k.extension=void 0,await y(k);return}const R={...t};R.extension=R.extension?[...R.extension]:[];const _={url:dS,valueCodeableConcept:j},A=R.extension.findIndex(k=>k.url===dS);A>=0?R.extension[A]=_:R.extension.push(_),await y(R)},y=async j=>{await a.updateResource(j);const R=await m_(a,j);n(R)},S=async()=>{await a.deleteResource("ChargeItem",t.id),r(t)},x=j=>{if(j?.extension)return j.extension.find(_=>_.url===dS)?.valueCodeableConcept},C=`cpt-${t.id}-${JSON.stringify(u?.coding)}`,T=`modifier-${t.id}-${JSON.stringify(i)}`;return s.jsx(lr,{withBorder:!0,shadow:"sm",p:0,children:s.jsxs(oe,{gap:"xs",p:"md",children:[s.jsxs(Ue,{justify:"space-between",align:"flex-start",children:[s.jsx(ne,{flex:1,mr:"md",maw:"calc(100% - 60px)",children:s.jsx(mi,{binding:"http://www.ama-assn.org/go/cpt/vs",label:"CPT Code",name:"cptCode",path:"cptCode",defaultValue:u,onChange:m,readOnly:!0,disabled:!0},C)}),s.jsxs(ye,{shadow:"md",width:200,position:"bottom-end",children:[s.jsx(ye.Target,{children:s.jsx(xt,{variant:"subtle",children:s.jsx(Bj,{size:24})})}),s.jsx(ye.Dropdown,{children:s.jsx(ye.Item,{color:"red",leftSection:s.jsx(Bj,{size:16}),onClick:S,children:"Delete"})})]})]}),s.jsx(mi,{binding:"http://hl7.org/fhir/ValueSet/claim-modifiers",label:"Modifiers",name:"modifiers",path:"modifiers",defaultValue:i,onChange:g},T),s.jsxs(vr,{columns:12,mt:"md",children:[s.jsx(vr.Col,{span:7,children:s.jsx(Ue,{h:"100%",direction:"column",justify:"flex-end",pt:4,children:s.jsx(Y,{size:"sm",c:"dimmed",children:"Price calculated from Price chart, taking into account applied modifiers and patient's selected insurance plan."})})}),s.jsxs(vr.Col,{span:5,children:[s.jsx(Y,{size:"sm",fw:500,mb:8,children:"Calculated Price"}),s.jsx(et,{value:h?.value?`$${h.value.toFixed(2)}`:"N/A",readOnly:!0})]})]})]})})}const Fpe=e=>{const{chargeItems:t,updateChargeItems:n,patient:r,encounter:a}=e,[i,l]=b.useState(t),[u,{open:d,close:h}]=La(!1),p=Ae();b.useEffect(()=>{l(t)},[t]);const m=b.useCallback(async x=>{const C=i.map(T=>T.id===x.id?x:T);n(C)},[i,n]),g=b.useCallback(async x=>{const C=i.filter(T=>T.id!==x.id);n(C)},[i,n]),y=b.useCallback(async()=>{d()},[d]),S=b.useCallback(async(x,C)=>{if(!x||!C){rt("Please select both CPT code and charge item definition");return}try{const T={resourceType:"ChargeItem",status:"planned",subject:Me(r),context:Me(a),occurrenceDateTime:new Date().toISOString(),extension:[{url:`${yt}/fhir/uv/order-catalog/StructureDefinition/ServiceBillingCode`,valueCodeableConcept:x}],code:x,quantity:{value:1},definitionCanonical:C.url?[C.url]:[]},j=await p.createResource(T),R=await m_(p,j);n([...i,R]),h()}catch(T){rt(T)}},[r,a,i,n,p,h]);return s.jsxs(oe,{gap:0,children:[s.jsxs(Ue,{justify:"space-between",align:"center",mb:"md",children:[s.jsx(Y,{fw:600,size:"lg",children:"Charge Items"}),s.jsx(Pe,{leftSection:s.jsx($c,{size:16}),onClick:y,children:"Add Charge Item"})]}),t.length>0?s.jsxs(oe,{gap:"md",children:[t.map(x=>s.jsx(Hpe,{chargeItem:x,onChange:m,onDelete:g},x.id)),s.jsx(lr,{withBorder:!0,shadow:"sm",children:s.jsxs(Ue,{justify:"space-between",align:"center",children:[s.jsx(Y,{size:"lg",fw:500,children:"Total Calculated Price to Bill"}),s.jsx(ne,{children:s.jsx(et,{w:300,value:`$${g_(t)}`,readOnly:!0})})]})})]}):s.jsx(lr,{withBorder:!0,shadow:"sm",children:s.jsx(oe,{gap:"md",align:"center",children:s.jsx(Y,{c:"dimmed",children:"No charge items available"})})}),s.jsx(Vpe,{opened:u,onClose:h,onSubmit:S})]})};function Vpe({opened:e,onClose:t,onSubmit:n}){const r=Ae(),[a,i]=b.useState(),[l,u]=b.useState(),d=b.useCallback(async(g,y)=>{const S=new URLSearchParams({title:g,_count:"10",status:"active"});try{return await r.searchResources("ChargeItemDefinition",S,{signal:y})}catch(x){return y.aborted||console.error("Error searching ChargeItemDefinition:",x),[]}},[r]),h=b.useCallback(g=>{g.length>0&&u(g[0])},[]),p=b.useCallback(()=>{n(a,l),i(void 0),u(void 0)},[a,l,n]),m=b.useCallback(()=>{i(void 0),u(void 0),t()},[t]);return s.jsx(Mt,{opened:e,onClose:m,title:"Add Charge Item",size:"md",children:s.jsxs(oe,{gap:"md",children:[s.jsx(mi,{binding:"http://www.ama-assn.org/go/cpt/vs",label:"CPT Code",name:"cptCode",path:"ChargeItem.code",placeholder:"Search for CPT code...",required:!0,onChange:i}),s.jsxs(ne,{children:[s.jsxs(Y,{size:"sm",fw:500,mb:5,children:["Charge Item Definition"," ",s.jsx(Y,{span:!0,c:"red",children:"*"})]}),s.jsx(Nc,{placeholder:"Search for charge item definition...",onChange:h,toOption:g=>{const y=g;return{value:y.id||"",label:y.title||y.id||"Untitled",resource:y}},maxValues:1,loadOptions:d})]}),s.jsxs(Ue,{justify:"flex-end",gap:"sm",mt:"md",children:[s.jsx(Pe,{variant:"subtle",onClick:m,children:"Cancel"}),s.jsx(Pe,{onClick:p,disabled:!a||!l,children:"Add Charge Item"})]})]})})}const Wpe=e=>{const{encounter:t,setEncounter:n,claim:r,patient:a,practitioner:i,setPractitioner:l,chargeItems:u,setChargeItems:d,setClaim:h}=e,p=Ae(),[m,g]=b.useState([]),[y,S]=b.useState(),x=Uy(p);b.useEffect(()=>{(async()=>{if(!a)return;const A=await p.searchResources("Coverage",`patient=${Oe(a)}`);A.length>0&&S(A[0])})().catch(A=>rt(A))},[p,a]);const C=async()=>{if(!r?.id||!a?.id)return;let _=y;if(!_){const O=await p.searchResources("Coverage",`patient=${Oe(a)}&status=active`);if(O===void 0){rt("Failed to fetch coverage information");return}O.length>0?_=O[0]:_=await b7(p,a.id)}const A=Gpe(m||[]),k={...r,insurance:[{sequence:1,focal:!0,coverage:{reference:Oe(_)}}],diagnosis:A},D=await p.post(p.fhirUrl("Claim","$export"),{resourceType:"Parameters",parameter:[{name:"resource",resource:k}]});if(D.resourceType==="Media"&&D.content?.url){const O=D.content.url;window.open(O,"_blank")}else rt("Failed to download PDF")},T=b.useCallback(async _=>{const A={...t,diagnosis:_};n(A),await x(A)},[t,n,x]),j=Xo(async _=>{try{const A=await p.updateResource(_);if(n(A),A?.participant?.[0]?.individual){const k=await p.readReference(A.participant[0].individual);l(k)}if(!a?.id||!t?.id||!i?.id||!u?.length)return;if(r){if(r.provider?.reference!==Oe(i)){const D=await p.updateResource({...r,provider:{reference:Oe(i)}});h(D)}}else{const k=await x7(p,a.id,t.id,i.id,u);k&&h(k)}}catch(A){rt(A)}},hh),R=b.useCallback(async _=>{if(d(_),r?.id&&_.length>0&&t){const A={...r,item:S7(_,{reference:Oe(t)}),total:{value:g_(_)}};h(A),await x(A)}},[d,r,t,h,x]);return s.jsxs(oe,{gap:"md",children:[r&&s.jsx(lr,{withBorder:!0,shadow:"sm",children:s.jsxs(Ue,{justify:"space-between",children:[s.jsxs(ye,{shadow:"md",width:200,children:[s.jsx(ye.Target,{children:s.jsx(Pe,{variant:"outline",leftSection:s.jsx(Ofe,{size:16}),children:"Export Claim"})}),s.jsxs(ye.Dropdown,{children:[s.jsx(ye.Label,{children:"Export Options"}),s.jsx(ye.Item,{leftSection:s.jsx(yg,{size:14}),onClick:async()=>{await C()},children:"CMS 1500 Form"}),s.jsx(ye.Item,{leftSection:s.jsx(yg,{size:14}),onClick:()=>{wt({title:"EDI X12",message:"Please contact sales to enable EDI X12 export",color:"blue"})},children:"EDI X12"}),s.jsx(ye.Item,{leftSection:s.jsx(yg,{size:14}),onClick:()=>{wt({title:"NUCC Crosswalk",message:"Please contact sales to enable NUCC Crosswalk export",color:"blue"})},children:"NUCC Crosswalk CSV"})]})]}),s.jsx(Pe,{variant:"outline",leftSection:s.jsx(p_,{size:16}),children:"Request to connect a billing service"})]})}),s.jsx(fe,{grow:!0,align:"flex-start",children:s.jsx($pe,{practitioner:i,encounter:t,onEncounterChange:j})}),t&&s.jsx(Bpe,{patient:a,encounter:t,conditions:m,setConditions:g,onDiagnosisChange:T}),u&&s.jsx(Fpe,{patient:a,encounter:t,chargeItems:u,updateChargeItems:R})]})},Gpe=e=>e.map((t,n)=>{const r=t.code?.coding?.find(a=>a.system===`${yt}/fhir/sid/icd-10-cm`);return{diagnosisCodeableConcept:{coding:r?[{...r,system:`${yt}/fhir/sid/icd-10`}]:[]},sequence:n+1,type:[{coding:[{code:n===0?"principal":"secondary"}]}]}}),Ype="http://terminology.hl7.org/CodeSystem/v3-ActReason",Qpe="http://terminology.hl7.org/CodeSystem/provenance-participant-type",Kpe="http://terminology.hl7.org/CodeSystem/v3-DocumentCompletion",Xpe=new Set(["completed","cancelled","failed","rejected","entered-in-error"]),k7=e=>{const{encounter:t}=e,n=Ae(),a=Rt(t)?.subject,i=Rt(a),[l,u]=b.useState("notes"),{encounter:d,claim:h,practitioner:p,tasks:m,clinicalImpression:g,chargeItems:y,appointment:S,setEncounter:x,setClaim:C,setPractitioner:T,setTasks:j,setChargeItems:R}=Mhe(t,a),[_,A]=b.useState(g?.note?.[0]?.text),k=Uy(n,hh),[D,O]=b.useState([]),[M,I]=b.useState(qr.Unsigned);b.useEffect(()=>{if(!d)return;(async()=>{const z=await n.searchResources("Provenance",`target=${Oe(d)}`);O(z),z.length>0&&g?.status==="completed"?I(qr.SignedAndLocked):z.length>0?I(qr.Signed):I(qr.Unsigned)})().catch(z=>rt(z))},[g,d,n]);const L=b.useCallback(N=>{j(z=>z.map($=>$.id===N.id?N:$))},[j]),V=b.useCallback(async N=>{if(d)try{const z=await zhe(n,d,S,N);x(z)}catch(z){rt(z)}},[d,n,x,S]),q=N=>{u(N)},U=async N=>{if(A(N.target.value),!!g)try{if(!N.target.value||N.target.value===""){const{note:z,...$}=g;await k($)}else{const z={...g,note:[{text:N.target.value}]};await k(z)}}catch(z){rt(z)}},W=async(N,z)=>{if(!d)return;if(z){const G=m.filter(H=>!Xpe.has(H.status)),X=await Promise.all(G.map(H=>n.updateResource({...H,status:"completed"})));j(m.map(H=>X.find(Q=>Q.id===H.id)||H))}const $=await n.createResource({resourceType:"Provenance",target:[Me(d)],recorded:new Date().toISOString(),reason:[{coding:[{system:Ype,code:"SIGN",display:"Signed"}]}],agent:[{type:{coding:[{system:Qpe,code:"author"}]},who:N}],signature:[{type:[{system:Kpe,code:"LA",display:"legally authenticated"}],when:new Date().toISOString(),who:N}]});O([...D,$]),I(z?qr.SignedAndLocked:qr.Signed)};return!i||!d?s.jsx(Fi,{}):s.jsx(s.Fragment,{children:s.jsxs(oe,{justify:"space-between",gap:0,children:[s.jsx(qhe,{encounter:d,chartNoteStatus:M,practitioner:p,onStatusChange:V,onTabChange:q,onSign:W}),s.jsxs(ne,{p:"md",children:[l==="notes"&&s.jsxs(oe,{gap:"md",children:[s.jsx(Uhe,{encounter:d,provenances:D,chartNoteStatus:M}),g&&s.jsxs(lr,{withBorder:!0,shadow:"sm",mt:"md",children:[s.jsx(Sr,{children:"Fill chart note"}),s.jsx(wi,{defaultValue:g.note?.[0]?.text,value:_,onChange:U,autosize:!0,minRows:4,maxRows:8,disabled:M===qr.SignedAndLocked})]}),m.map(N=>s.jsx(Lpe,{task:N,onUpdateTask:L,enabled:M!==qr.SignedAndLocked},N.id))]}),l==="details"&&s.jsx(Wpe,{encounter:d,setEncounter:x,claim:h,patient:i,practitioner:p,setPractitioner:T,chargeItems:y,setChargeItems:R,setClaim:C})]})]})})},Zpe=()=>{const{encounterId:e}=wr();if(!e)return rt("Encounter ID not found"),null;const t={reference:`Encounter/${e}`};return s.jsxs(s.Fragment,{children:[s.jsx(k7,{encounter:t}),s.jsx(c_,{})]})},Jpe="_footer_k50sx_1",eme="_planDefinition_k50sx_8",aN={footer:Jpe,planDefinition:eme},tme=()=>{const e=Rn(),t=Ae(),n=Uc(),[r,a]=b.useState(!0),[i,l]=b.useState(),[u,d]=b.useState(),[h,p]=b.useState(),[m,g]=b.useState(),[y,S]=b.useState(),[x,C]=b.useState(!1),T=async()=>{if(!n||!h||!i||!u||!y||!m){wt({color:"yellow",icon:s.jsx(h7,{}),title:"Error",message:"Please fill out required fields."});return}C(!0);try{const j=await w7(t,i,u,h,n,m);wt({icon:s.jsx(qy,{}),title:"Success",message:"Encounter created"}),e(`/Patient/${n.id}/Encounter/${j.id}`)?.catch(console.error)}catch(j){wt({color:"red",icon:s.jsx(yc,{}),title:"Error",message:Vt(j)})}finally{C(!1)}};return s.jsx(Mt,{opened:r,onClose:()=>{e(-1)?.catch(console.error),a(!1)},size:"60%",title:"New encounter",styles:{title:{fontSize:"1.125rem",fontWeight:600},body:{padding:0,height:"60vh"}},children:s.jsxs(oe,{h:"100%",justify:"space-between",gap:0,children:[s.jsx(ne,{flex:1,miw:0,children:s.jsxs(vr,{p:"md",h:"100%",children:[s.jsx(vr.Col,{span:6,pr:"md",children:s.jsxs(oe,{gap:"md",children:[s.jsx(fa,{resourceType:"Patient",name:"Patient-id",defaultValue:n,disabled:!0,required:!0}),s.jsx(Wn,{name:"start",label:"Start Time",required:!0,onChange:j=>{l(new Date(j))}}),s.jsx(Wn,{name:"end",label:"End Time",required:!0,onChange:j=>{d(new Date(j))}}),s.jsx(FR,{name:"class",label:"Class",binding:"http://terminology.hl7.org/ValueSet/v3-ActEncounterCode",required:!0,onChange:p,path:"Encounter.type"}),s.jsx(rl,{name:"status",label:"Status",binding:"http://hl7.org/fhir/ValueSet/encounter-status|4.0.1",maxValues:1,required:!0,onChange:j=>{j&&S(j)}})]})}),s.jsx(vr.Col,{span:6,children:s.jsxs(lr,{padding:"lg",radius:"md",className:aN.planDefinition,children:[s.jsx(Y,{size:"md",fw:500,mb:"xs",children:"Apply care template"}),s.jsxs(Y,{size:"sm",color:"dimmed",mb:"lg",children:["You can select template for new encounter. Tasks from the template will be automatically added to the encounter. Administrators can create and edit templates in the"," ",s.jsx(Y,{component:"a",href:"#",variant:"link",children:"Medplum app"}),"."]}),s.jsx(fa,{name:"plandefinition",resourceType:"PlanDefinition",onChange:j=>g(j),required:!0})]})})]})}),s.jsx(ne,{className:aN.footer,h:70,p:"md",children:s.jsx(Pe,{fullWidth:!1,onClick:T,loading:x,disabled:x,children:"Create Encounter"})})]})})};function nme({clinicFavoriteMedications:e,loadingFavorites:t}){return t?s.jsx(lr,{withBorder:!0,p:"xl",children:s.jsx(Wv,{visible:!0})}):!e||e.length===0?s.jsx(Y,{c:"dimmed",ta:"center",py:"xl",children:"No favorite medications found"}):s.jsxs(Le,{children:[s.jsx(Le.Thead,{children:s.jsxs(Le.Tr,{children:[s.jsx(Le.Th,{children:"Medication"}),s.jsx(Le.Th,{children:"NDC"}),s.jsx(Le.Th,{children:"RxNorm"}),s.jsx(Le.Th,{children:"Directions"})]})}),s.jsx(Le.Tbody,{children:e.map((n,r)=>s.jsxs(Le.Tr,{children:[s.jsx(Le.Td,{children:s.jsx(Y,{fw:500,children:_he(n)})}),s.jsx(Le.Td,{children:n.code?vM(n.code,MZ):""}),s.jsx(Le.Td,{children:n.code?vM(n.code,kZ):""}),s.jsx(Le.Td,{children:n.administrationGuidelines?.[0]?.dosage?.[0]?.dosage?.[0]?.patientInstruction||""})]},n.id||r))})]})}const Ar=[];for(let e=0;e<256;++e)Ar.push((e+256).toString(16).slice(1));function rme(e,t=0){return(Ar[e[t+0]]+Ar[e[t+1]]+Ar[e[t+2]]+Ar[e[t+3]]+"-"+Ar[e[t+4]]+Ar[e[t+5]]+"-"+Ar[e[t+6]]+Ar[e[t+7]]+"-"+Ar[e[t+8]]+Ar[e[t+9]]+"-"+Ar[e[t+10]]+Ar[e[t+11]]+Ar[e[t+12]]+Ar[e[t+13]]+Ar[e[t+14]]+Ar[e[t+15]]).toLowerCase()}let fS;const ame=new Uint8Array(16);function ime(){if(!fS){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");fS=crypto.getRandomValues.bind(crypto)}return fS(ame)}const ome=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),iN={randomUUID:ome};function sme(e,t,n){if(iN.randomUUID&&!e)return iN.randomUUID();e=e||{};const r=e.random??e.rng?.()??ime();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,rme(r)}function lme(){const[e,t]=b.useState(!1),[n,r]=b.useState(!1),[a,i]=b.useState(!0),[l,u]=b.useState(),{state:d,saveFavoriteMedication:h,searchMedications:p,setSelectedMedicationDirections:m,setSelectedMedication:g,clear:y}=jhe(),S=Ae();b.useEffect(()=>{(async()=>{try{i(!0);const j={resourceType:"MedicationKnowledge",filters:[{code:"code",operator:"eq",value:`${vhe}|`}]},R=Qs(j),_=await S.search("MedicationKnowledge",R);u(_.entry?.map(A=>A.resource)||[])}catch(j){rt(j)}finally{i(!1)}})().catch(rt)},[S]);const x=async()=>{try{r(!0);const T=await h();u(j=>[T,...j||[]]),t(!1),wt({title:"Medication added to favorites",message:"The medication has been added to your favorites",color:"green"})}catch(T){rt({title:"Error adding medication to favorites",message:Vt(T),color:"red"})}finally{y(),r(!1)}},C=T=>({value:sme(),label:T.text||"Unknown Medication",resource:T});return s.jsxs(Ih,{size:"xl",py:"xl",children:[s.jsxs(tn,{mb:"lg",p:"md",withBorder:!0,shadow:"sm",children:[s.jsxs(fe,{justify:"space-between",mb:"md",children:[s.jsx(Sr,{order:2,children:"DoseSpot Medication Favorites"}),s.jsx(Pe,{leftSection:s.jsx($c,{size:16}),onClick:()=>t(!0),children:"Add Favorite Medication"})]}),s.jsx(nme,{clinicFavoriteMedications:l,loadingFavorites:a})]}),s.jsx(Mt,{opened:e,onClose:()=>{t(!1),y()},title:"Medication",size:"lg",withCloseButton:!0,children:s.jsxs(ne,{children:[s.jsx(Nc,{placeholder:"Search medications...",loadOptions:p,toOption:C,onChange:T=>{T.length>0?g(T[0]):g(void 0)},minInputLength:3,clearable:!0,maxValues:1}),d.selectedMedication&&fy(d.selectedMedication)&&s.jsxs(oe,{gap:"md",mt:"lg",children:[s.jsx(ht,{}),s.jsx(et,{label:"Directions",placeholder:"e.g., Take 1 tablet by mouth daily",value:d.directions,onChange:T=>m(T.target.value),required:!0})]}),s.jsx(fe,{justify:"flex-end",gap:"md",mt:"md",children:s.jsx(Pe,{onClick:()=>x(),disabled:!d.directions||!d.selectedMedication||n,loading:n,children:"Add Favorite"})})]})})]})}const cme="_icon_zqlev_1",ume={icon:cme};function dme(e){return s.jsxs(tn,{radius:"md",withBorder:!0,shadow:"md",p:"md",bg:"var(--mantine-color-body)",maw:300,children:[s.jsxs(fe,{wrap:"nowrap",children:[s.jsx(Jo,{src:e.imageUrl,size:48,radius:"md",style:{border:"1px solid var(--mantine-color-gray-2)"}}),s.jsxs("div",{children:[s.jsx(Y,{fz:"xl",fw:800,children:e.name}),s.jsxs(fe,{wrap:"nowrap",gap:4,mt:-2,children:[s.jsx(phe,{stroke:2,size:12,color:"var(--mantine-primary-color-6)",className:ume.icon}),s.jsx(Y,{fz:"xs",c:"dimmed",children:s.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--mantine-primary-color-6)",textDecoration:"none"},children:e.displayUrl})})]})]})]}),s.jsx(fe,{mt:"sm",gap:4,children:e.tags.map(t=>s.jsx(Bi,{variant:"light",color:"gray",size:"sm",children:t},t))}),s.jsx(Y,{fz:"sm",mt:"sm",h:80,children:e.description}),s.jsx(Pe,{variant:"default",fullWidth:!0,mt:"md",onClick:e.onClick,children:"Request Integration"})]})}const fme=[{name:"Okta",tags:["Authentication"],description:"Implement SSO for healthcare staff with HIPAA-compliant authentication protocols.",displayUrl:"okta.com",url:"https://www.okta.com",imageUrl:"okta.png"},{name:"Auth0",tags:["Authentication"],description:"Manage identity access for patient portals and provider applications across multiple platforms.",displayUrl:"auth0.com",url:"https://auth0.com",imageUrl:"auth0.png"},{name:"Google Authentication",tags:["Authentication"],description:"Add Google's authentication system to your EHR for standardized sign-in.",displayUrl:"cloud.google.com",url:"https://cloud.google.com/identity",imageUrl:"google.png"},{name:"Microsoft Entra SSO",tags:["Authentication"],description:"Integrate Microsoft's identity platform with clinical systems for centralized access management.",displayUrl:"microsoft.com",url:"https://learn.microsoft.com/en-us/entra/identity-platform",imageUrl:"entra.png"},{name:"Labcorp",tags:["Diagnostics"],description:"Place orders and receive lab results directly in your EHR from Labcorp.",displayUrl:"labcorp.com",url:"https://www.labcorp.com",imageUrl:"labcorp.png"},{name:"Quest Diagnostics",tags:["Diagnostics"],description:"Place orders and receive lab results directly in your EHR from Quest.",displayUrl:"questdiagnostics.com",url:"https://www.questdiagnostics.com",imageUrl:"quest.png"},{name:"Health Gorilla",tags:["HIE","Diagnostics"],description:"Access nationwide clinical data networks for patient records diagnostic reports and ADT notifications.",displayUrl:"healthgorilla.com",url:"https://www.healthgorilla.com",imageUrl:"healthgorilla.png"},{name:"Candid Health",tags:["Billing"],description:"Integrate automated eligibility verification and claims processing with your practice management system.",displayUrl:"candidhealth.com",url:"https://www.candidhealth.com",imageUrl:"candid.png"},{name:"Particle",tags:["HIE"],description:"Import and export clinical data with other healthcare organizations through standardized models.",displayUrl:"particlehealth.com",url:"https://www.particlehealth.com",imageUrl:"particle.png"},{name:"Epic Systems",tags:["EHR"],description:"Connect to your existing Epic EHR through FHIR APIs to exchange clinical data.",displayUrl:"epic.com",url:"https://www.epic.com",imageUrl:"epic.png"},{name:"reCAPTCHA",tags:["Security"],description:"Implement bot protection for online patient registration forms while maintaining usability.",displayUrl:"google.com/recaptcha",url:"https://www.google.com/recaptcha",imageUrl:"recaptcha.png"},{name:"Datadog",tags:["Observability"],description:"Monitor healthcare application performance to identify issues before they impact clinical workflows.",displayUrl:"datadog.com",url:"https://www.datadog.com",imageUrl:"datadog.png"},{name:"Sumo Logic",tags:["Observability"],description:"Analyze system logs and user activities across healthcare IT systems for compliance verification.",displayUrl:"sumologic.com",url:"https://www.sumologic.com",imageUrl:"sumo.png"},{name:"Snowflake",tags:["Data warehouse"],description:"Store clinical and operational data in a cloud database with access controls, allowing for analysis and reporting without managing physical servers.",displayUrl:"snowflake.com",url:"https://www.snowflake.com",imageUrl:"snowflake.png"},{name:"OpenAI",tags:["AI"],description:"Implement AI-powered features for clinical documentation and workflow management.",displayUrl:"openai.com",url:"https://openai.com",imageUrl:"openai.png"},{name:"Stripe",tags:["Billing"],description:"Send invoices, process payments, and automate reconciliation to complement your revenue cycle management.",displayUrl:"stripe.com",url:"https://stripe.com",imageUrl:"stripe.png"},{name:"Acuity Scheduling",tags:["Scheduling"],description:"Manage your clinical availability and appointments with comprehensive scheduling tools.",displayUrl:"acuityscheduling.com",url:"https://www.acuityscheduling.com",imageUrl:"acuity.png"},{name:"Cal.com",tags:["Scheduling"],description:"Open source scheduling platform for managing availability and appointments.",displayUrl:"cal.com",url:"https://cal.com",imageUrl:"calcom.png"},{name:"Claude",tags:["AI"],description:"Implement AI-powered features for clinical documentation and workflow management.",displayUrl:"anthropic.com/claude",url:"https://www.anthropic.com/claude",imageUrl:"claude.png"},{name:"DeepSeek",tags:["AI"],description:"Implement AI-powered features for clinical documentation and workflow management.",displayUrl:"deepseek.com",url:"https://www.deepseek.com",imageUrl:"deepseek.png"},{name:"Azure",tags:["Cloud Services"],description:"Deploy HIPAA-compliant applications with specialized services for protected health information.",displayUrl:"azure.microsoft.com",url:"https://azure.microsoft.com",imageUrl:"azure.png"},{name:"Healthie",tags:["EHR","Practice Management"],description:"Connect to your existing Healthie account to exchange clinical data.",displayUrl:"gethealthie.com",url:"https://gethealthie.com",imageUrl:"healthie.png"}];function hme(){function e(t){const n=`Integration Request: ${t.name}`,r=`Hello Medplum team,

I would like to request an integration with ${t.name}.

Here are the details:

Name: ${t.name}
Description: ${t.description}
URL: ${t.url}

Thank you!`;window.location.href=`mailto:hello@medplum.com?subject=${encodeURIComponent(n)}&body=${encodeURIComponent(r)}`}return s.jsx(Ue,{mih:50,gap:"md",justify:"center",align:"flex-end",direction:"row",wrap:"wrap",m:"xl",children:fme.map(t=>s.jsx(dme,{name:t.name,displayUrl:t.displayUrl,url:t.url,tags:t.tags,description:t.description,imageUrl:`/img/integrations/${t.imageUrl}`,onClick:()=>e(t)},t.name))})}const pme="_content_1vkzb_1",mme="_contentContainer_1vkzb_8",gme="_selected_1vkzb_13",hS={content:pme,contentContainer:mme,selected:gme},vme=e=>{const{topic:t,lastCommunication:n,isSelected:r,onSelectedItem:a}=e,i=Rt(t.subject),l=Gn(i?.name?.[0]),u=n?.payload?.[0]?.contentString,d=u?.length&&u.length>100?u.slice(0,100)+"...":u,h=n?.sender?.display?`${n?.sender?.display}: `:"",p=d?`${h} ${d}`:"No messages available",m=t.topic?.text??p;return s.jsx(ba,{to:a(t),c:"dark",children:s.jsxs(fe,{p:"xs",align:"center",wrap:"nowrap",className:$t(hS.contentContainer,{[hS.selected]:r}),children:[s.jsx(xa,{value:t.subject,radius:"xl",size:36}),s.jsxs(oe,{gap:0,children:[s.jsx(Y,{size:"sm",fw:700,truncate:"end",children:l}),s.jsx(Y,{size:"sm",fw:400,c:"gray.7",lineClamp:2,className:hS.content,children:m}),s.jsx(Y,{size:"xs",c:"gray.6",style:{marginTop:2},children:n?Ua(n.sent):""})]})]})})},yme=e=>{const{threads:t,selectedCommunication:n,onSelectedItem:r}=e;return s.jsx(oe,{gap:0,children:t.map(a=>{const i=a[0],l=a[1],u=n?.id===i.id;return s.jsxs(b.Fragment,{children:[s.jsx(vme,{topic:i,lastCommunication:l,isSelected:u,onSelectedItem:r}),s.jsx(ht,{})]},i.id)})})},bme=e=>{const{subject:t,opened:n,onClose:r,onSubmit:a}=e,i=Ae(),[l,u]=b.useState(""),[d,h]=b.useState([]),[p,m]=b.useState(t?Me(t):void 0),g=Pr(),y=b.useMemo(()=>g?Me(g):void 0,[g]),S=async()=>{if(!p){wt({title:"Error",message:"Please select a patient",color:"red"});return}const x={resourceType:"Communication",status:"in-progress",subject:p,sender:y,recipient:[p,...d.map(C=>({reference:C.reference}))],topic:{text:l}};try{const C=await i.createResource(x);a?.(C),r()}catch(C){rt(C)}};return s.jsx(Mt,{opened:n,onClose:r,title:"New Message",size:"md",children:s.jsxs(oe,{gap:"xl",children:[s.jsxs(oe,{gap:0,children:[s.jsx(Y,{fw:500,children:"Patient"}),s.jsx(Y,{c:"dimmed",children:"Select a patient"}),s.jsx(fa,{resourceType:"Patient",name:"patient",required:!0,defaultValue:p,onChange:x=>{m(x?Me(x):void 0)}})]}),s.jsxs(oe,{gap:0,children:[s.jsx(Y,{fw:500,children:"Practitioner (optional)"}),s.jsx(Y,{c:"dimmed",children:"Select one or more practitioners"}),s.jsx(Py,{questionnaire:xme,excludeButtons:!0,onChange:x=>{const C=x.item?.[0].answer?.map(T=>T.valueReference).filter(T=>T!==void 0)??[];h(C)}})]}),s.jsxs(oe,{gap:0,children:[s.jsx(Y,{fw:500,children:"Topic (optional)"}),s.jsx(Y,{c:"dimmed",children:"Enter a topic for the message"}),s.jsx(et,{placeholder:"Enter your topic",value:l,onChange:x=>u(x.target.value)})]}),s.jsx(Pe,{onClick:S,children:"Next"})]})})},xme={resourceType:"Questionnaire",status:"active",item:[{linkId:"q1",type:"reference",repeats:!0,extension:[{url:"http://hl7.org/fhir/StructureDefinition/questionnaire-referenceResource",valueCodeableConcept:{coding:[{system:"http://hl7.org/fhir/fhir-types",display:"Practitioner",code:"Practitioner"}]}}]}]};function Sme({query:e,threadId:t,offset:n,count:r}){const a=Ae(),[i,l]=b.useState(!1),[u,d]=b.useState([]),[h,p]=b.useState(void 0),[m,g]=b.useState(null),[y,S]=b.useState(void 0);return b.useEffect(()=>{const T=async()=>{const j=new URLSearchParams(e);j.append("identifier:not","ai-message-topic"),j.append("part-of:missing","true"),n!==void 0&&j.append("_offset",n.toString()),j.append("_count",r.toString()),j.append("_total","accurate");const R=await a.search("Communication",j.toString(),{cache:"no-cache"}),_=R.entry?.map(M=>M.resource).filter(M=>M!==void 0)||[];if(R.total!==void 0&&S(R.total),_.length===0){d([]);return}const k=`
        query {
          ${_.map(M=>{const L=`thread_${M.id?.replace(/-/g,"")||""}`,V=Oe(M);return`
          ${L}: CommunicationList(
            part_of: "${V}"
            _sort: "-sent"
            _count: 1
          ) {
            id
            meta {
              lastUpdated
            }
            partOf {
              reference
            }
            sender {
              display
              reference
            }
            payload {
              contentString
            }
            sent
            status
          }
        `}).join(`
`)}
        }
      `,D=await a.graphql(k),O=_.map(M=>{const L=`thread_${M.id?.replace(/-/g,"")||""}`,V=D.data[L],q=V&&V.length>0?V[0]:void 0;return[M,q]}).filter(M=>M[1]!==void 0);d(O)};l(!0),T().catch(j=>{console.error("Error fetching inbox threads:",j),g(j)}).finally(()=>{l(!1)})},[a,e,n,r]),b.useEffect(()=>{(async()=>{if(t){const j=u.find(R=>R[0].id===t);if(j)p(j[0]);else try{const R=await a.readResource("Communication",t);if(R.partOf===void 0)p(R);else{const _=R.partOf[0].reference;if(_){const A=await a.readReference({reference:_});p(A)}}}catch(R){g(R)}}else p(void 0)})().catch(j=>{g(j)})},[t,u,a]),{loading:i,error:m,threadMessages:u,selectedThread:h,total:y,addThreadMessage:T=>{d(j=>[[T,void 0],...j])},handleThreadStatusChange:async T=>{if(h)try{const j=await a.updateResource({...h,status:T});p(j),d(R=>R.map(([_,A])=>_.id===j.id?[j,A]:[_,A]))}catch(j){g(j)}}}}const wme="_container_273ev_1",Cme="_rightBorder_273ev_9",jme="_button_273ev_13",Eme="_selected_273ev_20",ql={container:wme,rightBorder:Cme,button:jme,selected:Eme};function M7(e){const{query:t,threadId:n,subject:r,showPatientSummary:a=!1,handleNewThread:i,onSelectedItem:l}=e,[u,{open:d,close:h}]=La(!1),[p,m]=b.useState("in-progress"),[g,y]=b.useState(1),S=20,x=b.useMemo(()=>`${t}&status=${p}`,[t,p]),C=(g-1)*S,{loading:T,error:j,threadMessages:R,selectedThread:_,total:A,handleThreadStatusChange:k,addThreadMessage:D}=Sme({query:x,threadId:n,offset:C,count:S});b.useEffect(()=>{j&&rt(j)},[j]);const O=L=>{m(L),y(1)},M=async L=>{try{await k(L)}catch(V){rt(V)}},I=L=>{D(L),i(L)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:ql.container,children:s.jsxs(Ue,{direction:"row",h:"100%",w:"100%",children:[s.jsx(Ue,{direction:"column",w:300,h:"100%",className:ql.rightBorder,children:s.jsxs(tn,{h:"100%",style:{display:"flex",flexDirection:"column"},children:[s.jsxs(Sn,{style:{flex:1},scrollbarSize:10,type:"hover",scrollHideDelay:250,children:[s.jsxs(Ue,{h:64,align:"center",justify:"space-between",p:"md",children:[s.jsx(Y,{fz:"h4",fw:800,truncate:!0,children:"Messages"}),s.jsx(xt,{radius:"50%",variant:"filled",color:"blue",onClick:d,children:s.jsx($c,{size:16})})]}),s.jsx(ht,{}),s.jsxs(Ue,{p:"md",gap:"xs",children:[s.jsx(Pe,{className:$t(ql.button,{[ql.selected]:p==="in-progress"}),h:32,radius:"xl",onClick:()=>O("in-progress"),children:"In progress"}),s.jsx(Pe,{className:$t(ql.button,{[ql.selected]:p==="completed"}),h:32,radius:"xl",onClick:()=>O("completed"),children:"Completed"})]}),s.jsx(ht,{}),T?s.jsx(oe,{gap:"md",p:"md",children:Array.from({length:10}).map((L,V)=>s.jsxs(Ue,{gap:"sm",align:"flex-start",children:[s.jsx(Et,{height:40,width:40,radius:"50%"}),s.jsx(ne,{style:{flex:1},children:s.jsxs(Ue,{direction:"column",gap:"xs",children:[s.jsx(Et,{height:16,width:`${Math.random()*40+60}%`}),s.jsx(Et,{height:14,width:`${Math.random()*50+40}%`})]})})]},V))}):R.length>0&&s.jsx(yme,{threads:R,selectedCommunication:_,onSelectedItem:l}),R.length===0&&!T&&s.jsx(_me,{})]}),!T&&A!==void 0&&A>S&&s.jsx(ne,{p:"md",children:s.jsx(gr,{children:s.jsx(Fa,{value:g,total:Math.ceil(A/S),onChange:y,size:"sm",siblings:1,boundaries:1})})})]})}),_?s.jsxs(s.Fragment,{children:[s.jsx(Ue,{direction:"column",style:{flex:1},h:"100%",className:ql.rightBorder,children:s.jsx(tn,{h:"100%",children:s.jsxs(oe,{h:"100%",gap:0,children:[s.jsxs(Ue,{h:64,align:"center",justify:"space-between",p:"md",children:[s.jsx(Y,{fw:800,truncate:!0,fz:"lg",children:_.topic?.text??"Messages"}),s.jsxs(ye,{position:"bottom-end",shadow:"md",children:[s.jsx(ye.Target,{children:s.jsx(Pe,{variant:"light",color:Rme(_.status),rightSection:_.status==="completed"?void 0:s.jsx(h_,{size:16}),radius:"xl",size:"sm",children:_.status.split("-").map(L=>L.charAt(0).toUpperCase()+L.slice(1)).join(" ")})}),_.status!=="completed"&&s.jsx(s.Fragment,{children:s.jsx(ye.Dropdown,{children:s.jsx(ye.Item,{onClick:()=>M("completed"),children:"Completed"})})})]})]}),s.jsx(ht,{}),s.jsx(Ue,{direction:"column",style:{flex:1},h:"100%",children:s.jsx(cse,{title:"Messages",thread:_,excludeHeader:!0},`${Oe(_)}`)})]})})}),_.subject&&a&&s.jsx(Ue,{direction:"column",w:300,h:"100%",children:s.jsx(Sn,{p:0,h:"100%",scrollbarSize:10,type:"hover",scrollHideDelay:250,children:s.jsx(ky,{patient:_.subject},_.id)})})]}):s.jsx(Ue,{direction:"column",style:{flex:1},h:"100%",children:s.jsx(Tme,{})})]})}),s.jsx(bme,{subject:r,opened:u,onClose:h,onSubmit:I})]})}function Tme(){return s.jsx(gr,{h:"100%",w:"100%",children:s.jsxs(oe,{align:"center",gap:"md",children:[s.jsx(Oc,{size:64,variant:"light",color:"gray",children:s.jsx(m7,{size:32})}),s.jsx(oe,{align:"center",gap:"xs",children:s.jsx(Y,{size:"sm",c:"dimmed",ta:"center",children:"Select a message from the list to view details"})})]})})}function Rme(e){return e==="completed"?"green":e==="stopped"?"red":"blue"}function _me(){return s.jsx(Ue,{direction:"column",h:"100%",justify:"center",align:"center",children:s.jsxs(oe,{align:"center",gap:"md",pt:"xl",children:[s.jsx(m7,{size:64,color:"var(--mantine-color-gray-4)"}),s.jsx(Y,{size:"lg",c:"dimmed",fw:500,children:"No messages found"})]})})}const Dme="_container_n1ott_1",Ame={container:Dme};function pS(){const{messageId:e}=wr(),t=Rn(),n=a=>{t(`/Communication/${a.id}`)?.catch(console.error)},r=a=>`/Communication/${a.id}`;return s.jsx("div",{className:Ame.container,children:s.jsx(M7,{threadId:e,query:"_sort=-_lastUpdated",showPatientSummary:!0,handleNewThread:n,onSelectedItem:r})})}function oN(){const{patientId:e,messageId:t}=wr(),n=Rn(),r=i=>`/Patient/${e}/Communication/${i.id}`,a=i=>{n(`/Patient/${e}/Communication/${i.id}`)?.catch(console.error)};return s.jsx("div",{style:{height:"calc(100vh - 98px)"},children:s.jsx(M7,{threadId:t,query:`subject=${`Patient/${e}`}&_sort=-_lastUpdated`,subject:{reference:`Patient/${e}`},showPatientSummary:!1,handleNewThread:a,onSelectedItem:r})})}function Ome({patientId:e}){const t=Ae(),[n,r]=b.useState(new Date().toISOString().split("T")[0]),[a,i]=b.useState(new Date().toISOString().split("T")[0]),[l,u]=b.useState(new Date().toISOString().split("T")[0]),[d,h]=b.useState(new Date().toISOString().split("T")[0]),[p,m]=b.useState(!1),g=b.useCallback(async()=>{if(!n||!a){wt({color:"red",title:"Error",message:"Please select both start and end dates"});return}try{await t.executeBot(whe,{patientId:e,start:n,end:a}),wt({color:"green",title:"Success",message:"Prescriptions synced successfully"})}catch(x){wt({color:"red",title:"Error",message:Vt(x)})}},[t,e,n,a]),y=b.useCallback(async()=>{try{await t.executeBot(She,{patientId:e,start:l,end:d}),wt({color:"green",title:"Success",message:"History synced successfully"})}catch(x){wt({color:"red",title:"Error",message:Vt(x)})}},[t,e,l,d]),S=b.useCallback(async()=>{try{await t.executeBot(v7,{patientId:e}),wt({color:"green",title:"Success",message:"Patient sync success"})}catch(x){wt({color:"red",title:"Error",message:Vt(x)})}},[t,e]);return s.jsxs(s.Fragment,{children:[s.jsx(fe,{style:{position:"absolute",top:8,right:8,zIndex:100},children:s.jsxs(Pe,{variant:"subtle",size:"sm",onClick:()=>m(!0),children:[s.jsx(nhe,{size:16,style:{marginRight:8}}),"Advanced Options"]})}),s.jsx(Mt,{opened:p,onClose:()=>m(!1),size:"lg",title:"Advanced DoseSpot Options",styles:{title:{fontSize:"1.5rem",fontWeight:600}},children:s.jsx(ne,{children:s.jsxs(oe,{children:[s.jsxs(ne,{children:[s.jsx(Y,{mb:"sm",children:"Prescriptions Sync"}),s.jsx(Y,{c:"dimmed",mb:"md",children:"Fetches recently completed and active prescriptions from DoseSpot for the specified date range and patient. This will create or update MedicationRequest resources."}),s.jsxs(fe,{align:"flex-end",children:[s.jsx(et,{label:"Start Date",type:"date",value:n,onChange:x=>r(x.target.value)}),s.jsx(et,{label:"End Date",type:"date",value:a,onChange:x=>i(x.target.value)}),s.jsx(Pe,{onClick:g,children:"Sync Prescriptions"})]})]}),s.jsxs(ne,{mt:"md",children:[s.jsx(Y,{mb:"sm",children:"Medication History Sync"}),s.jsx(Y,{c:"dimmed",mb:"md",children:"Retrieves medication history from DoseSpot for this patient and adds MedicationRequest resources to Medplum."}),s.jsxs(fe,{align:"flex-end",children:[s.jsx(et,{label:"Start Date",type:"date",value:l,onChange:x=>u(x.target.value)}),s.jsx(et,{label:"End Date",type:"date",value:d,onChange:x=>h(x.target.value)}),s.jsx(Pe,{onClick:y,children:"Sync History"})]})]}),s.jsxs(ne,{mt:"md",children:[s.jsx(Y,{mb:"sm",children:"Patient Information Sync"}),s.jsx(Y,{c:"dimmed",mb:"md",children:"Syncs patient between Medplum and DoseSpot. It creates an identifier for the patient in Medplum to link it to the patient's record in DoseSpot. It also adds MedicationRequest and AllergyIntolerance resources from Medplum to that patient's record in DoseSpot."}),s.jsx(Pe,{onClick:S,children:"Sync Patient"})]})]})})})]})}function sN(){const{patientId:e}=wr(),t=Ehe({patientId:e,onPatientSyncSuccess:()=>wt({color:"green",title:"Success",message:"Patient sync success"}),onIframeSuccess:()=>wt({color:"green",title:"Success",message:"DoseSpot iframe success"}),onError:n=>wt({color:"red",title:"Error",message:Vt(n)})});return s.jsxs(ne,{pos:"relative",children:[e&&s.jsx(Ome,{patientId:e}),s.jsx("div",{children:t&&s.jsx("iframe",{id:"dosespot-iframe",name:"dosespot-iframe",frameBorder:0,src:t,style:{width:"100%",height:"100%",minHeight:"calc(100vh)",border:"none"}})})]})}function b_(e){const{missingProfileMessage:t,onSubmit:n,...r}=e,a=e.profileUrl,i=Ae(),[l,u]=b.useState(!0),[d,h]=b.useState(),[p,m]=b.useState();b.useEffect(()=>{a&&i.requestProfileSchema(a,{expandProfile:!0}).finally(()=>u(!1)).then(()=>{const y=Mc(a);y&&m(y)}).catch(y=>{console.error(y),h(y)})},[i,a]);const g=b.useCallback(y=>{n&&(a&&Pc(y,a),n(y))},[n,a]);if(a&&l)return s.jsx(Fi,{});if(a&&!p){const y=s.jsxs(s.Fragment,{children:[t&&s.jsx("p",{children:t}),d&&s.jsxs("p",{children:["Server error: ",Vt(d)]})]});return s.jsx(dl,{icon:s.jsx(dfe,{size:16}),title:"Not found",color:"red",children:y})}return s.jsx(Mce,{onSubmit:g,...r})}const By={Patient:"http://hl7.org/fhir/us/core/StructureDefinition/us-core-patient",ServiceRequest:"http://medplum.com/StructureDefinition/medplum-provider-lab-procedure-servicerequest",Device:"http://hl7.org/fhir/us/core/StructureDefinition/us-core-implantable-device"},kme=s.jsxs("p",{children:["Could not find the"," ",s.jsx($a,{href:By.Patient,target:"_blank",children:"US Core Patient Profile"})]});function Mme(){const e=Ae(),{patientId:t}=wr(),[n,r]=b.useState(),a=Rn(),[i,l]=b.useState();b.useEffect(()=>{e.readResource("Patient",t).then(d=>r(Hi(d))).catch(d=>{l(Or(d)),wt({color:"red",message:Vt(d),autoClose:!1})})},[e,t]);const u=b.useCallback(d=>{l(void 0),e.updateResource(d).then(()=>{a(`/Patient/${t}/timeline`)?.catch(console.error),wt({color:"green",message:"Success"})}).catch(h=>{l(Or(h)),wt({color:"red",message:Vt(h),autoClose:!1})})},[e,a,t]);return n?s.jsx(al,{children:s.jsx(b_,{missingProfileMessage:kme,defaultValue:n,onSubmit:u,outcome:i,profileUrl:By.Patient})}):null}function Pme(){const{patientId:e}=wr();return s.jsx(al,{maw:600,children:s.jsx(Ole,{patient:{reference:`Patient/${e}`}})})}const Xs={AllergyIntolerance:`${yt}/fhir/us/core/StructureDefinition/us-core-allergyintolerance`,CareTeam:`${yt}/fhir/us/core/StructureDefinition/us-core-careteam`,Coverage:`${yt}/fhir/us/core/StructureDefinition/us-core-coverage`,Immunization:`${yt}/fhir/us/core/StructureDefinition/us-core-immunization`,MedicationRequest:`${yt}/fhir/us/core/StructureDefinition/us-core-medicationrequest`,Patient:`${yt}/fhir/us/core/StructureDefinition/us-core-patient`,ObservationSexualOrientation:`${yt}/fhir/us/core/StructureDefinition/us-core-observation-sexual-orientation`,ObservationSmokingStatus:`${yt}/fhir/us/core/StructureDefinition/us-core-smokingstatus`},mS={race:yt+"/fhir/us/core/StructureDefinition/us-core-race",ethnicity:yt+"/fhir/us/core/StructureDefinition/us-core-ethnicity",veteran:yt+"/fhir/us/military-service/StructureDefinition/military-service-veteran-status"},Nu={housingStatus:{coding:[{code:"71802-3",system:Wo,display:"Housing status"}]},educationLevel:{coding:[{code:"82589-3",system:Wo,display:"Highest Level of Education"}]},smokingStatus:{coding:[{code:"72166-2",system:Wo,display:"Tobacco smoking status"}]},sexualOrientation:{coding:[{code:"76690-7",system:Wo,display:"Sexual orientation"}]},pregnancyStatus:{coding:[{code:"82810-3",system:Wo,display:"Pregnancy status"}]},estimatedDeliveryDate:{coding:[{code:"11778-8",system:Wo,display:"Estimated date of delivery"}]}},Iu={socialHistory:{coding:[{system:Jr+"/CodeSystem/observation-category",code:"social-history",display:"Social History"}]},sdoh:{coding:[{system:yt+"/fhir/us/core/CodeSystem/us-core-tags",code:"sdoh",display:"SDOH"}]}},Wm={adr:{coding:[{system:Jr+"/CodeSystem/consentscope",code:"adr",display:"Advanced Care Directive"}]},patientPrivacy:{coding:[{system:Jr+"/CodeSystem/consentscope",code:"patient-privacy",display:"Patient Privacy"}]},treatment:{coding:[{system:Jr+"/CodeSystem/consentscope",code:"treatment",display:"Treatment"}]}},Gm={acd:{coding:[{system:Jr+"/CodeSystem/consentcategorycodes",code:"acd",display:"Advanced Care Directive"}]},nopp:{coding:[{system:Jr+"/CodeSystem/v3-ActCode",code:"nopp",display:"Notice of Privacy Practices"}]},pay:{coding:[{system:Jr+"/CodeSystem/v3-ActCode",code:"pay",display:"Payment"}]},med:{coding:[{system:Jr+"/CodeSystem/v3-ActCode",code:"med",display:"Medical"}]}},Ym={hipaaNpp:{coding:[{system:Jr+"/CodeSystem/consentpolicycodes",code:"hipaa-npp",display:"HIPAA Notice of Privacy Practices"}]},hipaaSelfPay:{coding:[{system:Jr+"/CodeSystem/consentpolicycodes",code:"hipaa-self-pay",display:"HIPAA Self-Pay Restriction"}]},cric:{coding:[{system:Jr+"/CodeSystem/consentpolicycodes",code:"cric",display:"Common Rule Informed Consent"}]},adr:{coding:[{system:"http://medplum.com",code:"BasicADR",display:"Advanced Care Directive"}]}};async function Lu(e,t,n,r,a,i,l){if(!i||!n)return;let u={resourceType:"Observation",status:"final",subject:Me(t),code:n,category:[r],effectiveDateTime:new Date().toISOString()};l&&(u=Pc(u,l)),a==="valueCodeableConcept"?u.valueCodeableConcept={coding:[i]}:a==="valueDateTime"&&(u.valueDateTime=i.valueDateTime);const d=n.coding?.[0];await e.upsertResource(u,{code:`${d.system}|${d.code}`,subject:Oe(t)})}function gS(e,t,n,r,a){let i=r?.[n];if(n==="valueBoolean"&&(i=!!i),i!==void 0)if(e.extension||=[],a){const l=[{url:a,[n]:i}];n==="valueCoding"&&i.display&&l.push({url:"text",valueString:i.display}),e.extension.push({url:t,extension:l})}else e.extension.push({url:t,[n]:i})}function lN(e,t,n=!1){if(!t)return;const r=e.communication??[];let a=r.find(i=>i.language.coding?.[0].code===t?.code);a||(a={language:{coding:[t]}},r.push(a)),n&&(a.preferred=n),e.communication=r}async function Nme(e,t,n){const r=n["allergy-substance"]?.valueCoding;if(!r)return;const a=n["allergy-reaction"]?.valueString,i=n["allergy-onset"]?.valueDateTime;await e.upsertResource({resourceType:"AllergyIntolerance",meta:{profile:[Xs.AllergyIntolerance]},clinicalStatus:{text:"Active",coding:[{system:"http://hl7.org/fhir/ValueSet/allergyintolerance-clinical",code:"active",display:"Active"}]},verificationStatus:{text:"Unconfirmed",coding:[{system:"http://hl7.org/fhir/ValueSet/allergyintolerance-verification",code:"unconfirmed",display:"Unconfirmed"}]},patient:Me(t),code:{coding:[r]},reaction:a?[{manifestation:[{text:a}]}]:void 0,onsetDateTime:i},{patient:Oe(t),code:`${r.system}|${r.code}`})}async function Ime(e,t,n){const r=n["medication-code"]?.valueCoding;if(!r)return;const a=n["medication-note"]?.valueString;await e.upsertResource({resourceType:"MedicationRequest",meta:{profile:[Xs.MedicationRequest]},subject:Me(t),status:"active",intent:"order",requester:Me(t),medicationCodeableConcept:{coding:[r]},note:a?[{text:a}]:void 0},{subject:Oe(t),code:`${r.system}|${r.code}`})}async function Lme(e,t,n){const r=n["medical-history-problem"]?.valueCoding;if(!r)return;const a=n["medical-history-clinical-status"]?.valueCoding,i=n["medical-history-onset"]?.valueDateTime;await e.upsertResource({resourceType:"Condition",subject:Me(t),code:{coding:[r]},clinicalStatus:a?{coding:[a]}:void 0,onsetDateTime:i},{subject:Oe(t),code:`${r?.system}|${r?.code}`})}async function zme(e,t,n){const r=n["family-member-history-problem"]?.valueCoding,a=n["family-member-history-relationship"]?.valueCoding;if(!r||!a)return;const i=n["family-member-history-deceased"]?.valueBoolean;await e.upsertResource({resourceType:"FamilyMemberHistory",patient:Me(t),status:"completed",relationship:{coding:[a]},condition:[{code:{coding:[r]}}],deceasedBoolean:i},{patient:Oe(t),code:`${r.system}|${r.code}`,relationship:`${a.system}|${a.code}`})}async function $me(e,t,n){const r=n["immunization-vaccine"]?.valueCoding,a=n["immunization-date"]?.valueDateTime;!r||!a||await e.upsertResource({resourceType:"Immunization",meta:{profile:[Xs.Immunization]},status:"completed",vaccineCode:{coding:[r]},patient:Me(t),occurrenceDateTime:a},{status:"completed","vaccine-code":`${r.system}|${r.code}`,patient:Oe(t),date:a})}async function qme(e,t,n){await e.upsertResource({resourceType:"CareTeam",meta:{profile:[Xs.CareTeam]},status:"proposed",name:"Patient Preferred Pharmacy",subject:Me(t),participant:[{member:n,role:[{coding:[{system:Ys,code:"76166008",display:"Practical aid (pharmacy) (occupation)"}]}]}]},{name:"Patient Preferred Pharmacy",subject:Oe(t)})}async function Ume(e,t,n){const r=n["insurance-provider"].valueReference,a=n["subscriber-id"].valueString,i=n["relationship-to-subscriber"].valueCoding,l=n["related-person"];if(i.code&&!["other","self","injured"].includes(i.code)&&l){const u=Hj(l,"related-person-"),d=Hme(i);await e.createResource({resourceType:"RelatedPerson",patient:Me(t),relationship:d?[{coding:[d]}]:void 0,name:u?[u]:void 0,birthDate:l["related-person-dob"]?.valueDate,gender:l["related-person-gender-identity"]?.valueCoding?.code??void 0})}await e.upsertResource({resourceType:"Coverage",meta:{profile:[Xs.Coverage]},status:"active",beneficiary:Me(t),subscriberId:a,relationship:{coding:[i]},payor:[r]},{beneficiary:Oe(t),payor:Oe(r)})}async function Qm(e,t,n,r,a,i,l){await e.createResource({resourceType:"Consent",patient:Me(t),status:n?"active":"rejected",scope:r,category:[a],policyRule:i,dateTime:l})}function P7(e,t){if(e)return e.reduce((n,r)=>{if(n||!r)return n;if(r.linkId===t)return r;if(r.item)return P7(r.item,t)},void 0)}function Ul(e,t,n){const r=P7(e.item,n);if(r.type!=="group"||!r?.item)return[];const a=t.item?.filter(l=>l.linkId===n);return!a||a?.length===0?[]:a.map(l=>{const u={};return(h=>{h.forEach(({linkId:p,answer:m,item:g})=>{if(g){const y={};g.forEach(S=>{S.answer&&(y[S.linkId]=S.answer?.[0]??{})}),u[p]=y}else u[p]=m?.[0]??{}})})(l.item||[]),u})}function Nf(e){if(e)return new Date(e).toISOString()}function Hj(e,t=""){const n={},r=[];return e[`${t}first-name`]?.valueString&&r.push(e[`${t}first-name`].valueString),e[`${t}middle-name`]?.valueString&&r.push(e[`${t}middle-name`].valueString),r.length>0&&(n.given=r),e[`${t}last-name`]?.valueString&&(n.family=e[`${t}last-name`].valueString),Object.keys(n).length>0?n:void 0}function Bme(e){const t={};return e.street?.valueString&&(t.line=[e.street.valueString]),e.city?.valueString&&(t.city=e.city.valueString),e.state?.valueCoding?.code&&(t.state=e.state.valueCoding.code),e.zip?.valueString&&(t.postalCode=e.zip.valueString),Object.keys(t).length>0?{use:"home",type:"physical",...t}:void 0}function Hme(e){switch(e.code){case"child":return{system:"http://terminology.hl7.org/CodeSystem/v3-RoleCode",code:"PRN",display:"parent"};case"parent":return{system:"http://terminology.hl7.org/CodeSystem/v3-RoleCode",code:"CHILD",display:"child"};case"spouse":case"common":return{system:"http://terminology.hl7.org/CodeSystem/v3-RoleCode",code:"SPS",display:"spouse"};default:return}}async function Fme(e,t,n){const r=dJ(n);let a={resourceType:"Patient"};a=Pc(a,Xs.Patient);const i=Hj(r);i&&(a.name=[i]),r.dob?.valueDate&&(a.birthDate=r.dob.valueDate);const l=Bme(r);l&&(a.address=[l]),r["gender-identity"]?.valueCoding?.code&&(a.gender=r["gender-identity"].valueCoding.code),r.phone?.valueString&&(a.telecom=[{system:"phone",value:r.phone.valueString}]),r.ssn?.valueString&&(a.identifier=[{type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/v2-0203",code:"SS"}]},system:"http://hl7.org/fhir/sid/us-ssn",value:r.ssn.valueString}]);const u=Ul(t,n,"emergency-contact");if(u){a.contact=[];for(const C of u)a.contact.push({relationship:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/v2-0131",code:"EP",display:"Emergency contact person"}]}],name:Hj(C,"emergency-contact-"),telecom:[{system:"phone",value:C["emergency-contact-phone"]?.valueString}]})}gS(a,mS.race,"valueCoding",r.race,"ombCategory"),gS(a,mS.ethnicity,"valueCoding",r.ethnicity,"ombCategory"),gS(a,mS.veteran,"valueBoolean",r["veteran-status"]),lN(a,r["languages-spoken"]?.valueCoding),lN(a,r["preferred-language"]?.valueCoding,!0),a=await e.createResource(a),n.subject=Me(a),await e.createResource(n),await Lu(e,a,Nu.sexualOrientation,Iu.socialHistory,"valueCodeableConcept",r["sexual-orientation"]?.valueCoding,Xs.ObservationSexualOrientation),await Lu(e,a,Nu.housingStatus,Iu.sdoh,"valueCodeableConcept",r["housing-status"]?.valueCoding),await Lu(e,a,Nu.educationLevel,Iu.sdoh,"valueCodeableConcept",r["education-level"]?.valueCoding),await Lu(e,a,Nu.smokingStatus,Iu.socialHistory,"valueCodeableConcept",r["smoking-status"]?.valueCoding,Xs.ObservationSmokingStatus),await Lu(e,a,Nu.pregnancyStatus,Iu.socialHistory,"valueCodeableConcept",r["pregnancy-status"]?.valueCoding);const d=Nf(r["estimated-delivery-date"]?.valueDate);await Lu(e,a,Nu.estimatedDeliveryDate,Iu.socialHistory,"valueDateTime",d?{valueDateTime:d}:void 0);const h=Ul(t,n,"allergies");for(const C of h)await Nme(e,a,C);const p=Ul(t,n,"medications");for(const C of p)await Ime(e,a,C);const m=Ul(t,n,"medical-history");for(const C of m)await Lme(e,a,C);const g=Ul(t,n,"family-member-history");for(const C of g)await zme(e,a,C);const y=Ul(t,n,"vaccination-history");for(const C of y)await $me(e,a,C);const S=Ul(t,n,"coverage-information");for(const C of S)await Ume(e,a,C);const x=r["preferred-pharmacy-reference"]?.valueReference;return x&&await qme(e,a,x),await Qm(e,a,!!r["consent-for-treatment-signature"]?.valueBoolean,Wm.treatment,Gm.med,Ym.cric,Nf(r["consent-for-treatment-date"]?.valueDate)),await Qm(e,a,!!r["agreement-to-pay-for-treatment-help"]?.valueBoolean,Wm.treatment,Gm.pay,Ym.hipaaSelfPay,Nf(r["agreement-to-pay-for-treatment-date"]?.valueDate)),await Qm(e,a,!!r["notice-of-privacy-practices-signature"]?.valueBoolean,Wm.patientPrivacy,Gm.nopp,Ym.hipaaNpp,Nf(r["notice-of-privacy-practices-date"]?.valueDate)),await Qm(e,a,!!r["acknowledgement-for-advance-directives-signature"]?.valueBoolean,Wm.adr,Gm.acd,Ym.adr,Nf(r["acknowledgement-for-advance-directives-date"]?.valueDate)),a}function Vme(){const e=Rn(),t=Ae(),n=Pr(),r=b.useCallback(async a=>{if(!(!Km||!n))try{const i=await Fme(t,Km,a);e(`/Patient/${i.id}/timeline`)?.catch(console.error)}catch(i){wt({color:"red",message:Vt(i),autoClose:!1})}},[t,e,n]);return Km?s.jsx(al,{width:800,children:s.jsx(Py,{questionnaire:Km,onSubmit:r})}):s.jsx(Fi,{})}const Km={resourceType:"Questionnaire",status:"active",title:"Patient Intake Questionnaire",url:"https://medplum.com/Questionnaire/patient-intake-questionnaire-example",name:"patient-intake",item:[{linkId:"patient-demographics",text:"Demographics",type:"group",item:[{linkId:"first-name",text:"First Name",type:"string",required:!0},{linkId:"middle-name",text:"Middle Name",type:"string"},{linkId:"last-name",text:"Last Name",type:"string",required:!0},{linkId:"dob",text:"Date of Birth",type:"date"},{linkId:"street",text:"Street",type:"string"},{linkId:"city",text:"City",type:"string"},{linkId:"state",text:"State",type:"choice",answerValueSet:"http://hl7.org/fhir/us/core/ValueSet/us-core-usps-state"},{linkId:"zip",text:"Zip",type:"string"},{linkId:"phone",text:"Phone",type:"string"},{linkId:"ssn",text:"Social Security Number",type:"string",required:!0},{linkId:"race",text:"Race",type:"choice",answerValueSet:"http://hl7.org/fhir/us/core/ValueSet/omb-race-category"},{linkId:"ethnicity",text:"Ethnicity",type:"choice",answerValueSet:"http://hl7.org/fhir/us/core/ValueSet/omb-ethnicity-category"},{linkId:"gender-identity",text:"Gender Identity",type:"choice",answerValueSet:"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1021.32",required:!0},{linkId:"sexual-orientation",text:"Sexual Orientation",type:"choice",answerValueSet:"http://hl7.org/fhir/us/core/ValueSet/us-core-sexual-orientation"}]},{linkId:"emergency-contact",text:"Emergency Contact",type:"group",repeats:!0,item:[{linkId:"emergency-contact-first-name",text:"First Name",type:"string"},{linkId:"emergency-contact-middle-name",text:"Middle Name",type:"string"},{linkId:"emergency-contact-last-name",text:"Last Name",type:"string"},{linkId:"emergency-contact-phone",text:"Phone",type:"string"}]},{linkId:"allergies",text:"Allergies",type:"group",repeats:!0,item:[{linkId:"allergy-substance",text:"Substance",type:"choice",answerValueSet:"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1186.8"},{linkId:"allergy-reaction",text:"Reaction",type:"string"},{linkId:"allergy-onset",text:"Onset",type:"dateTime"}]},{linkId:"medications",text:"Current medications",type:"group",repeats:!0,item:[{linkId:"medication-code",text:"Medication Name",type:"choice",answerValueSet:"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1010.4"},{linkId:"medication-note",text:"Note",type:"string"}]},{linkId:"medical-history",text:"Medical History",type:"group",repeats:!0,item:[{linkId:"medical-history-problem",text:"Problem",type:"choice",answerValueSet:"http://hl7.org/fhir/us/core/ValueSet/us-core-condition-code"},{linkId:"medical-history-clinical-status",text:"Status",type:"choice",answerValueSet:"http://hl7.org/fhir/ValueSet/condition-clinical"},{linkId:"medical-history-onset",text:"Onset",type:"dateTime"}]},{linkId:"family-member-history",text:"Family Member History",type:"group",repeats:!0,item:[{linkId:"family-member-history-problem",text:"Problem",type:"choice",answerValueSet:"http://hl7.org/fhir/us/core/ValueSet/us-core-condition-code"},{linkId:"family-member-history-relationship",text:"Relationship",type:"choice",answerValueSet:"http://terminology.hl7.org/ValueSet/v3-FamilyMember"},{linkId:"family-member-history-deceased",text:"Deceased",type:"boolean"}]},{linkId:"vaccination-history",text:"Vaccination History",type:"group",repeats:!0,item:[{linkId:"immunization-vaccine",text:"Vaccine",type:"choice",answerValueSet:"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1010.6"},{linkId:"immunization-date",text:"Administration Date",type:"dateTime"}]},{linkId:"preferred-pharmacy",text:"Preferred Pharmacy",type:"group",item:[{linkId:"preferred-pharmacy-reference",text:"Pharmacy",type:"reference",extension:[{id:"reference-pharmacy",url:"http://hl7.org/fhir/StructureDefinition/questionnaire-referenceResource",valueCodeableConcept:{coding:[{system:"http://hl7.org/fhir/fhir-types",display:"Organizations",code:"Organization"}]}}]}]},{linkId:"coverage-information",text:"Coverage Information",type:"group",repeats:!0,item:[{linkId:"insurance-provider",text:"Insurance Provider",type:"reference",required:!0,extension:[{id:"reference-insurance",url:"http://hl7.org/fhir/StructureDefinition/questionnaire-referenceResource",valueCodeableConcept:{coding:[{system:"http://hl7.org/fhir/fhir-types",display:"Organizations",code:"Organization"}]}}]},{linkId:"subscriber-id",text:"Subscriber ID",type:"string",required:!0},{linkId:"relationship-to-subscriber",text:"Relationship to Subscriber",type:"choice",answerValueSet:"http://hl7.org/fhir/ValueSet/subscriber-relationship",required:!0},{linkId:"related-person",text:"Subscriber Information",type:"group",enableBehavior:"all",enableWhen:[{question:"relationship-to-subscriber",operator:"!=",answerCoding:{system:"http://terminology.hl7.org/CodeSystem/subscriber-relationship",code:"other",display:"Other"}},{question:"relationship-to-subscriber",operator:"!=",answerCoding:{system:"http://terminology.hl7.org/CodeSystem/subscriber-relationship",code:"self",display:"Self"}},{question:"relationship-to-subscriber",operator:"!=",answerCoding:{system:"http://terminology.hl7.org/CodeSystem/subscriber-relationship",code:"injured",display:"Injured Party"}}],item:[{linkId:"related-person-first-name",text:"First Name",type:"string"},{linkId:"related-person-middle-name",text:"Middle Name",type:"string"},{linkId:"related-person-last-name",text:"Last Name",type:"string"},{linkId:"related-person-dob",text:"Date of Birth",type:"date"},{linkId:"related-person-gender-identity",text:"Gender Identity",type:"choice",answerValueSet:"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1021.32"}]}]},{linkId:"social-determinants-of-health",text:"Social Determinants of Health",type:"group",item:[{linkId:"housing-status",text:"Housing Status",type:"choice",answerValueSet:"http://terminology.hl7.org/ValueSet/v3-LivingArrangement"},{linkId:"education-level",text:"Education Level",type:"choice",answerValueSet:"http://terminology.hl7.org/ValueSet/v3-EducationLevel"},{linkId:"smoking-status",text:"Smoking Status",type:"choice",answerValueSet:"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.11.20.9.38"},{linkId:"veteran-status",text:"Veteran Status",type:"boolean"},{linkId:"pregnancy-status",text:"Pregnancy Status",type:"choice",code:[{code:"82810-3",display:"Pregnancy status",system:"http://loinc.org"}],answerValueSet:"http://example.com/pregnancy-status"},{linkId:"estimated-delivery-date",text:"Estimated Delivery Date",type:"date",code:[{code:"11778-8",display:"Estimated date of delivery",system:"http://loinc.org"}],enableWhen:[{question:"pregnancy-status",operator:"=",answerCoding:{system:"http://snomed.info/sct",code:"77386006",display:"Pregnancy"}}]}]},{linkId:"languages-spoken",text:"Languages Spoken",type:"choice",answerValueSet:"http://hl7.org/fhir/ValueSet/languages",repeats:!0},{linkId:"preferred-language",text:"Preferred Language",type:"choice",answerValueSet:"http://hl7.org/fhir/ValueSet/languages"},{linkId:"consent-for-treatment",text:"Consent for Treatment",type:"group",item:[{linkId:"consent-for-treatment-signature",text:"I the undersigned patient (or authorized representative, or parent/guardian), consent to and authorize the performance of any treatments, examinations, medical services, surgical or diagnostic procedures, including lab and radiographic studies, as ordered by this office and itâ€™s healthcare providers.",type:"boolean"},{linkId:"consent-for-treatment-date",text:"Date",type:"date"}]},{linkId:"agreement-to-pay-for-treatment",text:"Agreement to Pay for Treatment",type:"group",item:[{linkId:"agreement-to-pay-for-treatment-help",text:"I, the responsible party, hereby agree to pay all the charges submitted by this office during the course of treatment for the patient. If the patient has insurance coverage with a managed care organization, with which this office has a contractual agreement, I agree to pay all applicable coâ€payments, coâ€insurance and deductibles, which arise during the course of treatment for the patient. The responsible party also agrees to pay for treatment rendered to the patient, which is not considered to be a covered service by my insurer and/or a third party insurer or other payor. I understand that Sample Hospital provides charges on a sliding fee; based on family size and household annual income, and that services will not be refused due to inability to pay at the time of the visit.",type:"boolean"},{linkId:"agreement-to-pay-for-treatment-date",text:"Date",type:"date"}]},{linkId:"notice-of-privacy-practices",text:"Notice of Privacy Practices",type:"group",item:[{linkId:"notice-of-privacy-practices-help",text:`Sample Hospital Notice of Privacy Practices gives information about how Sample Hospital may use and release protected health information (PHI) about you. I understand that:
- I have the right to receive a copy of Sample Hospitalâ€™s Notice of Privacy Practices.
- I may request a copy at any time.
- Sample Hospitalâ€˜s Notice of Privacy Practices may be revised.`,type:"display"},{linkId:"notice-of-privacy-practices-signature",text:"I acknowledge the above and that I have received a copy of Sample Hospitalâ€™s Notice of Privacy Practices.",type:"boolean"},{linkId:"notice-of-privacy-practices-date",text:"Date",type:"date"}]},{linkId:"acknowledgement-for-advance-directives",text:"Acknowledgement for Advance Directives",type:"group",item:[{linkId:"acknowledgement-for-advance-directives-help",text:"An Advance Medical Directive is a document by which a person makes provision for health care decisions in the event that, in the future, he/she becomes unable to make those decisions.",type:"display"},{linkId:"acknowledgement-for-advance-directives-signature",text:"I acknowledge I have received information about Advance Directives.",type:"boolean"},{linkId:"acknowledgement-for-advance-directives-date",text:"Date",type:"date"}]}]},Wme="_title_y95po_8",Gme="_contentContainer_y95po_16",Yme="_selected_y95po_28",vS={title:Wme,contentContainer:Gme,selected:Yme};function Qme(e){const{item:t,selectedItem:n,activeTab:r,onItemSelect:a}=e,i=n?.id===t.id,l=Rt(t.requester);return s.jsx(ba,{to:a(t),c:"dark",children:s.jsx(fe,{align:"center",wrap:"nowrap",className:$t(vS.contentContainer,{[vS.selected]:i}),children:s.jsxs(oe,{gap:0,style:{flex:1,minWidth:0},children:[s.jsxs(fe,{justify:"space-between",align:"flex-start",style:{minWidth:0},children:[s.jsx(Y,{fw:700,className:vS.title,style:{flex:1,minWidth:0},children:Zme(t)}),r!=="completed"&&s.jsx(Bi,{size:"sm",color:Kme(t.status),variant:"light",children:Xme(t.status)})]}),ege(t,r).map((u,d)=>s.jsx(Y,{size:"sm",c:"#2E2E2E",children:u},d)),s.jsx(Y,{size:"sm",c:"dimmed",children:Jme(t,l)})]})})})}const Kme=e=>{switch(e){case"active":return"blue";case"draft":case"requested":return"yellow";case"on-hold":return"orange";case"revoked":case"cancelled":case"entered-in-error":return"red";case"completed":return"green";case"unknown":return"gray";default:return"gray"}},Xme=e=>{switch(e){case"active":return"Active";case"draft":return"Draft";case"requested":return"Requested";case"on-hold":return"On Hold";case"revoked":return"Revoked";case"cancelled":return"Cancelled";case"entered-in-error":return"Error";case"completed":return"Completed";case"unknown":return"Unknown";default:return e||"Unknown"}},Zme=e=>e.code?.coding&&e.code.coding.length>=2?e.code.coding.map(t=>t.display).join(", "):e.code?.text?e.code.text:e.code?.coding?.[0]?.display||"Lab Order",Jme=(e,t)=>{const n=vn(e.authoredOn||e.meta?.lastUpdated);return t?.resourceType==="Practitioner"?`Ordered ${n} by ${Gn(t.name?.[0])}`:`Ordered ${n}`},ege=(e,t)=>{const n=[];if(t==="completed"){const r=e.meta?.lastUpdated?vn(e.meta.lastUpdated):"Unknown date";n.push(`Completed ${r}`)}else e.requisition?.value&&n.push(`REQ #${e.requisition.value}`);return n};function cN({activeTab:e}){return s.jsx(Ue,{direction:"column",h:"100%",justify:"center",align:"center",children:s.jsx(oe,{align:"center",gap:"md",pt:"xl",children:s.jsx(Y,{size:"md",c:"dimmed",fw:400,children:"Lab details will appear here when selected."})})})}const Fj="https://www.healthgorilla.com";async function tge(e,t){const n=N7(t);if(!n)return[];const r=new URLSearchParams({category:"LabOrderRequisition",identifier:`${Fj}|${n}`,_sort:"-_lastUpdated"});return await e.searchResources("DocumentReference",r,{cache:"no-cache"})}function N7(e){if(e.requisition?.system===Fj)return e.requisition.value;if(e.identifier){const t=e.identifier.find(n=>n.system===Fj);if(t?.value)return t.value}}const nge="_button_16d85_1",rge="_selected_16d85_8",Xm={button:nge,selected:rge};function I7(e){const{order:t}=e,n=Ae(),r=Rt(t.subject),a=Rt(t.requester),[i,l]=b.useState([]),[u,d]=b.useState([]),[h,p]=b.useState(!1),[m,g]=b.useState([]),[y,S]=b.useState(!1),[x,C]=b.useState(null),[T,j]=b.useState(!1),[R,_]=b.useState(t.status!=="completed"?"progress":"report");b.useEffect(()=>{(async()=>{const M=await n.searchResources("DiagnosticReport",{"based-on":`ServiceRequest/${t.id}`,_sort:"-_lastUpdated",_count:1});l(M)})().catch(rt)},[n,t.id]);const A=i.length>0?i[0]:void 0,k=b.useMemo(()=>{const O=[{id:"order-sent",title:"Order Sent",description:"Lab order has been submitted",icon:s.jsx(p_,{size:16}),status:"completed",timestamp:t.authoredOn||t.meta?.lastUpdated?vn(t.authoredOn||t.meta?.lastUpdated):void 0},{id:"lab-acknowledged",title:"Order Acknowledged",description:"Lab has received and acknowledged the order",icon:s.jsx(fh,{size:16}),status:"pending"},{id:"testing",title:"Testing",description:"Lab is processing the sample",icon:s.jsx(Ife,{size:16}),status:"pending"},{id:"final",title:"Final",description:"Results are ready",icon:s.jsx(Uj,{size:16}),status:"pending"}];let M=0;return t.authoredOn&&(M=1),(t.requisition?.value||u.length>0)&&(O[1].status="completed",O[1].timestamp=t.requisition?.value?"Acknowledged":void 0,M=2),A?.effectiveDateTime&&(O[2].status="completed",O[2].timestamp=vn(A.effectiveDateTime),M=3),A?.issued&&A.status==="final"&&(O[3].status="completed",O[3].timestamp=vn(A.issued),M=4),M<O.length&&(O[M].status="current"),O},[t,A,u]),D=O=>O==="completed"?"green":O==="current"?"blue":"gray.2";return b.useEffect(()=>((async()=>{if(!t.id){d([]);return}p(!0),d([]);try{const M=await tge(n,t);d(M)}catch(M){console.error("Error fetching lab order requisition documents:",M),d([])}finally{p(!1)}})().catch(console.error),()=>{d([]),p(!1)}),[n,t]),b.useEffect(()=>((async()=>{if(!t.id){g([]);return}S(!0),g([]);try{const M=N7(t);if(!M){g([]);return}const I=new URLSearchParams({category:"SpecimenLabel",identifier:`https://www.healthgorilla.com|${M}`,_sort:"-_lastUpdated"}),L=await n.searchResources("DocumentReference",I,{cache:"no-cache"});g(L)}catch(M){console.error("Error fetching specimen label documents:",M),g([])}finally{S(!1)}})().catch(console.error),()=>{g([]),S(!1)}),[n,t]),b.useEffect(()=>((async()=>{if(C(null),t.supportingInfo&&t.supportingInfo.length>0){const M=t.supportingInfo.find(I=>I.reference?.startsWith("QuestionnaireResponse/"));if(M?.reference)try{j(!0);const I=await n.readResource("QuestionnaireResponse",M.reference.split("/")[1]);C(I);return}catch(I){console.error("Error fetching questionnaire response from current order:",I)}finally{j(!1)}}if(t.id)try{j(!0);const M=await n.searchResources("ServiceRequest",{subject:t.subject?.reference,code:t.code?.coding?.[0]?.code,_count:50});if(M&&M.length>0){const I=M.find(L=>L.basedOn&&L.basedOn.length>0&&L.basedOn.some(q=>q.reference===`ServiceRequest/${t.id}`)?L.supportingInfo?.some(q=>q.reference?.startsWith("QuestionnaireResponse/"))??!1:!1);if(I){if(I.supportingInfo&&I.supportingInfo.length>0){const L=I.supportingInfo.find(V=>V.reference?.startsWith("QuestionnaireResponse/"));if(L?.reference){const V=await n.readResource("QuestionnaireResponse",L.reference.split("/")[1]);C(V)}}}else{const L=M.find(V=>V.supportingInfo?.some(q=>q.reference?.startsWith("QuestionnaireResponse/")));if(L){const V=L.supportingInfo?.find(q=>q.reference?.startsWith("QuestionnaireResponse/"));if(V?.reference){const q=await n.readResource("QuestionnaireResponse",V.reference.split("/")[1]);C(q)}}}}}catch(M){console.error("Error fetching questionnaire response from original order:",M)}finally{j(!1)}})().catch(console.error),()=>{C(null),j(!1)}),[n,t]),s.jsx(Sn,{h:"100%",children:s.jsx(tn,{h:"100%",children:s.jsxs(oe,{gap:"0",children:[s.jsx(oe,{gap:"md",p:"md",children:s.jsxs(oe,{gap:"md",children:[s.jsxs(oe,{gap:"0",children:[s.jsx(Y,{size:"xl",fw:800,children:t.code?.coding&&t.code.coding.length>=2?t.code.coding.map(O=>O.display).join(", "):t.code?.text?t.code.text:t.code?.coding?.[0]?.display||"Lab Order"}),s.jsx(Y,{size:"sm",c:"gray.7",children:t.status==="completed"&&t.meta?.lastUpdated?`Completed ${vn(t.meta.lastUpdated)} â€¢ Ordered ${vn(t.authoredOn||t.meta?.lastUpdated)}`:`Ordered ${vn(t.authoredOn||t.meta?.lastUpdated)}`})]}),s.jsx(ht,{}),s.jsxs(fe,{justify:"space-between",align:"center",children:[s.jsxs(fe,{gap:"xs",children:[s.jsx(Pe,{className:$t(Xm.button,{[Xm.selected]:R===(t.status!=="completed"?"progress":"report")}),h:32,radius:"xl",onClick:()=>_(t.status!=="completed"?"progress":"report"),children:t.status!=="completed"?"Progress Tracker":"Report"}),s.jsx(Pe,{className:$t(Xm.button,{[Xm.selected]:R==="order"}),h:32,radius:"xl",onClick:()=>_("order"),children:"Order Details"})]}),s.jsx(Bi,{size:"lg",color:age(t.status),variant:"light",children:ige(t.status)})]})]})}),s.jsxs(oe,{gap:"xs",p:"md",children:[R==="order"&&s.jsxs(oe,{gap:"md",children:[s.jsxs(oe,{gap:"sm",mb:"xl",children:[s.jsxs(fe,{align:"flex-start",gap:"lg",children:[s.jsx(Y,{fw:500,size:"sm",style:{width:"150px"},c:"dimmed",children:"Order Date"}),s.jsx(Y,{size:"sm",children:vn(t.authoredOn||t.meta?.lastUpdated)})]}),t.code?.coding&&s.jsxs(fe,{align:"flex-start",gap:"lg",children:[s.jsx(Y,{fw:500,size:"sm",style:{width:"150px"},c:"dimmed",children:"Test Code"}),s.jsx(oe,{gap:"xs",children:t.code.coding.map((O,M)=>s.jsxs(Y,{size:"sm",children:[O.display," (",O.code,")"]},M))})]}),a?.resourceType==="Practitioner"&&s.jsxs(fe,{align:"flex-start",gap:"lg",children:[s.jsx(Y,{fw:500,size:"sm",style:{width:"150px"},c:"dimmed",children:"Ordering provider"}),s.jsx(Y,{size:"sm",children:Gn(a.name?.[0])})]}),t.performer?.[0]?.display&&s.jsxs(fe,{align:"flex-start",gap:"lg",children:[s.jsx(Y,{fw:500,size:"sm",style:{width:"150px"},c:"dimmed",children:"Performing lab"}),s.jsx(Y,{size:"sm",children:t.performer[0].display})]}),t.requisition?.value&&s.jsxs(fe,{align:"flex-start",gap:"lg",children:[s.jsx(Y,{fw:500,size:"sm",style:{width:"150px"},c:"dimmed",children:"Requisition ID"}),s.jsx(Y,{size:"sm",children:t.requisition.value})]}),r?.resourceType==="Patient"&&s.jsxs(fe,{align:"flex-start",gap:"lg",children:[s.jsx(Y,{fw:500,size:"sm",style:{width:"150px"},c:"dimmed",children:"Patient"}),s.jsx(Y,{size:"sm",children:Gn(r.name?.[0])})]}),t.priority&&s.jsxs(fe,{align:"flex-start",gap:"lg",children:[s.jsx(Y,{fw:500,size:"sm",style:{width:"150px"},c:"dimmed",children:"Priority"}),s.jsx(Y,{size:"sm",children:t.priority})]}),t.reasonCode&&s.jsxs(fe,{align:"flex-start",gap:"lg",children:[s.jsx(Y,{fw:500,size:"sm",style:{width:"150px"},c:"dimmed",children:"Reason"}),s.jsx(oe,{gap:"xs",children:t.reasonCode.map((O,M)=>s.jsx(Y,{size:"sm",children:O.text||O.coding?.[0]?.display},M))})]}),t.note&&s.jsxs(fe,{align:"flex-start",gap:"lg",children:[s.jsx(Y,{fw:500,size:"sm",style:{width:"150px"},c:"dimmed",children:"Notes"}),s.jsx(oe,{gap:"xs",children:t.note.map((O,M)=>s.jsx(Y,{size:"sm",children:O.text},M))})]}),t.orderDetail&&s.jsxs(s.Fragment,{children:[s.jsx(ht,{}),s.jsxs(oe,{gap:"sm",children:[s.jsx(Y,{fw:800,size:"lg",children:"Order Details"}),t.orderDetail.map((O,M)=>s.jsxs(fe,{align:"flex-start",children:[s.jsxs(Y,{fw:500,size:"sm",children:["Detail ",M+1,":"]}),s.jsx(Y,{size:"sm",children:O.text||O.coding?.[0]?.display})]},M))]})]})]}),s.jsx(ht,{}),s.jsxs(oe,{gap:"lg",mb:"xl",children:[s.jsx(Y,{fw:800,size:"md",pb:"0",children:"Requisition Document"}),h&&s.jsxs(fe,{children:[s.jsx(tr,{size:"sm"}),s.jsx(Y,{size:"sm",c:"dimmed",children:"Loading requisition documents..."})]}),!h&&u.length>0&&s.jsx(oe,{gap:"md",children:u.map((O,M)=>s.jsx(oe,{gap:"xs",children:O.content&&O.content.length>0&&s.jsx(oe,{gap:"xs",children:O.content.map((I,L)=>s.jsxs("div",{style:{height:"600px",borderRadius:"4px",overflow:"hidden",border:"1px solid #3C3C3C"},children:[s.jsx("style",{children:`
                                  div[data-testid="attachment-iframe"] {
                                    height: 600px !important;
                                  }
                                  div[data-testid="attachment-iframe"] iframe {
                                    height: 600px !important;
                                  }
                                `}),s.jsx(Ks,{value:I.attachment})]},L))})},O.id||M))}),!h&&u.length===0&&s.jsx(oe,{gap:"xs",children:s.jsx(Y,{size:"sm",c:"dimmed",children:"No lab order requisition documents found."})})]}),x&&s.jsxs(s.Fragment,{children:[s.jsx(ht,{}),s.jsxs(oe,{gap:"md",mb:"xl",children:[s.jsx(Y,{fw:800,size:"md",children:"Order Entry Questions"}),T&&s.jsxs(fe,{children:[s.jsx(tr,{size:"sm"}),s.jsx(Y,{size:"sm",c:"dimmed",children:"Loading questionnaire response..."})]}),!T&&x&&s.jsx(oe,{gap:"sm",children:x.item&&x.item.length>0?x.item.map((O,M)=>s.jsxs(fe,{align:"flex-start",style:{alignItems:"flex-start"},gap:"lg",children:[s.jsx("div",{style:{width:"150px",flexShrink:0},children:s.jsx(Y,{fw:500,size:"sm",c:"dimmed",children:O.text||O.linkId||`Question ${M+1}`})}),s.jsx("div",{style:{flex:1},children:O.answer&&O.answer.length>0?s.jsx(oe,{gap:"xs",children:O.answer.map((I,L)=>{let V="No answer provided";return I.valueString?V=I.valueString:I.valueCoding?.display?V=I.valueCoding.display:I.valueCoding?.code?V=`${I.valueCoding.code}${I.valueCoding.display?` - ${I.valueCoding.display}`:""}`:I.valueBoolean!==void 0?V=I.valueBoolean.toString():I.valueInteger!==void 0?V=I.valueInteger.toString():I.valueDecimal!==void 0?V=I.valueDecimal.toString():I.valueDate?V=I.valueDate:I.valueDateTime?V=I.valueDateTime:I.valueTime?V=I.valueTime:I.valueUri?V=I.valueUri:I.valueQuantity?V=`${I.valueQuantity.value}${I.valueQuantity.unit?` ${I.valueQuantity.unit}`:""}`:I.valueReference?.display?V=I.valueReference.display:I.valueReference?.reference?V=I.valueReference.reference:I.valueAttachment?.title?V=I.valueAttachment.title:I.valueAttachment?.url&&(V=I.valueAttachment.url),s.jsx(Y,{size:"sm",children:V},L)})}):s.jsx(Y,{size:"sm",c:"dimmed",children:"No answer provided"})})]},M)):s.jsx(Y,{size:"sm",c:"dimmed",children:"No questionnaire items found."})})]})]}),s.jsx(ht,{}),s.jsxs(oe,{gap:"lg",mb:"xl",children:[s.jsx(Y,{fw:800,size:"md",pb:"0",children:"Specimen Label"}),y&&s.jsxs(fe,{children:[s.jsx(tr,{size:"sm"}),s.jsx(Y,{size:"sm",c:"dimmed",children:"Loading specimen label documents..."})]}),!y&&m.length>0&&s.jsx(oe,{gap:"md",children:m.map((O,M)=>s.jsx(oe,{gap:"xs",children:O.content&&O.content.length>0&&s.jsx(oe,{gap:"xs",children:O.content.map((I,L)=>s.jsxs("div",{style:{height:"600px",borderRadius:"4px",overflow:"hidden",border:"1px solid #3C3C3C"},children:[s.jsx("style",{children:`
                                  div[data-testid="attachment-iframe"] {
                                    height: 600px !important;
                                  }
                                  div[data-testid="attachment-iframe"] iframe {
                                    height: 600px !important;
                                  }
                                `}),s.jsx(Ks,{value:I.attachment})]},L))})},O.id||M))}),!y&&m.length===0&&s.jsx(Y,{size:"sm",c:"dimmed",children:"No specimen label documents found."})]})]}),R==="progress"&&s.jsx(oe,{gap:"md",children:s.jsx(oe,{p:"xl",align:"center",children:s.jsx(ah,{active:k.findIndex(O=>O.status==="current"),bulletSize:24,lineWidth:2,color:"green",styles:{root:{maxWidth:"400px"}},children:k.map((O,M)=>{const I=k[M+1],L=O.status==="current"&&I,V=O.status==="completed"&&I?.status==="completed",q=O.status==="completed"&&I?.status==="current",U=O.status==="pending"&&I?.status==="pending";return s.jsx(ah.Item,{lineVariant:L||U?"dotted":"solid",bullet:s.jsx(Oc,{size:32,radius:"xl",color:D(O.status),variant:"filled",style:{color:O.status==="pending"?"var(--mantine-color-gray-8)":void 0},"data-completed-to-completed":V?"true":void 0,"data-completed-to-current":q?"true":void 0,children:O.icon}),title:s.jsxs(fe,{gap:"xs",align:"center",children:[s.jsx(Y,{fw:O.status==="current"?600:500,size:"sm",children:O.title}),O.timestamp&&s.jsx(Bi,{size:"xs",variant:"light",color:"gray",children:O.timestamp})]}),children:s.jsx(Y,{size:"sm",c:"dimmed",children:O.description})},O.id)})})})}),R==="report"&&A&&s.jsxs(oe,{gap:"sm",mb:"xl",children:[A.result&&A.result.length>0&&s.jsx(oe,{pt:"md",children:s.jsx(XR,{value:A.result,hideObservationNotes:!1})}),s.jsxs(oe,{mt:"md",children:[s.jsxs(fe,{align:"flex-start",children:[s.jsx(Y,{fw:500,size:"sm",style:{minWidth:"150px"},c:"dimmed",children:"Report Status"}),s.jsx(Y,{size:"sm",style:{textTransform:"capitalize"},children:A.status})]}),A.issued&&s.jsxs(fe,{align:"flex-start",children:[s.jsx(Y,{fw:500,size:"sm",style:{minWidth:"150px"},c:"dimmed",children:"Issue Date"}),s.jsx(Y,{size:"sm",children:vn(A.issued)})]}),A.conclusion&&s.jsxs(fe,{align:"flex-start",children:[s.jsx(Y,{fw:500,size:"sm",style:{minWidth:"150px"},c:"dimmed",children:"Interpretation"}),s.jsx(Y,{size:"sm",children:A.conclusion})]})]}),A?.presentedForm&&A.presentedForm.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(ht,{mt:"xl"}),s.jsxs(oe,{gap:"lg",mb:"xl",children:[s.jsx(Y,{fw:800,size:"md",pb:"0",children:"Lab Document"}),s.jsx(oe,{gap:"md",children:A.presentedForm.map((O,M)=>s.jsx(oe,{gap:"xs",children:s.jsxs("div",{style:{height:"600px",borderRadius:"4px",overflow:"hidden",border:"1px solid #3C3C3C"},children:[s.jsx("style",{children:`
                              div[data-testid="attachment-iframe"] {
                                height: 600px !important;
                              }
                              div[data-testid="attachment-iframe"] iframe {
                                height: 600px !important;
                              }
                            `}),s.jsx(Ks,{value:O})]})},M))})]})]})]})]})]})})})}const age=e=>{switch(e){case"active":return"blue";case"draft":case"requested":return"yellow";case"on-hold":return"orange";case"revoked":case"cancelled":case"entered-in-error":return"red";case"completed":return"green";case"unknown":return"gray";default:return"gray"}},ige=e=>{switch(e){case"active":return"Active";case"draft":return"Draft";case"requested":return"Requested";case"on-hold":return"On Hold";case"revoked":return"Revoked";case"cancelled":return"Cancelled";case"entered-in-error":return"Error";case"completed":return"Completed";case"unknown":return"Unknown";default:return e||"Unknown"}},oge="_borderRight_69kh1_1",sge="_button_69kh1_27",lge="_selected_69kh1_34",zu={borderRight:oge,button:sge,selected:lge};function uN(){const{patientId:e,serviceRequestId:t}=wr(),n=Rn(),r=Ae(),[a,i]=b.useState("completed"),[l,u]=b.useState([]),[d,h]=b.useState([]),[p,m]=b.useState(!1),[g,y]=b.useState(!1),S=Uc(),x=b.useMemo(()=>S?Oe(S):void 0,[S]),[C,T]=b.useState(),j=b.useCallback(async()=>{if(!x){rt("Patient not found");return}try{const O=new URLSearchParams({subject:x,_count:"100",_sort:"-_lastUpdated",_fields:"_lastUpdated,code,status,orderDetail,category,subject,requester,performer,requisition,identifier,authoredOn,priority,reasonCode,note,supportingInfo,basedOn"}),M=await r.searchResources("ServiceRequest",O,{cache:"no-cache"});u(cge(M)),h(uge(M))}catch(O){rt(O)}},[r,x]),R=b.useCallback(async()=>{m(!0);try{await j()}finally{m(!1)}},[j]);b.useEffect(()=>{e&&R().catch(rt)},[e,R]);const _=b.useCallback(O=>`/Patient/${e}/ServiceRequest/${O.id}`,[e]);b.useEffect(()=>{(async()=>{if(t){const I=(a==="open"?l:d).find(L=>L.id===t);if(I)T(I);else{const L=await r.readResource("ServiceRequest",t);L&&T(L)}}else T(void 0)})().catch(rt)},[a,l,d,t,r]);const A=O=>{i(O)},k=()=>{y(!1),R().then(()=>{i("open"),n(`/Patient/${e}/ServiceRequest`)?.catch(console.error)}).catch(rt)},D=a==="completed"?d:l;return s.jsxs(ne,{w:"100%",h:"100%",children:[s.jsxs(Ue,{h:"100%",children:[s.jsx(ne,{w:350,h:"100%",children:s.jsxs(Ue,{direction:"column",h:"100%",className:zu.borderRight,children:[s.jsx(tn,{children:s.jsxs(Ue,{h:64,align:"center",justify:"space-between",p:"md",children:[s.jsxs(fe,{gap:"xs",children:[s.jsx(Pe,{className:$t(zu.button,{[zu.selected]:a==="completed"}),h:32,radius:"xl",onClick:()=>A("completed"),children:"Completed"}),s.jsx(Pe,{className:$t(zu.button,{[zu.selected]:a==="open"}),h:32,radius:"xl",onClick:()=>A("open"),children:"Open"})]}),s.jsx(xt,{radius:"50%",variant:"filled",color:"blue",onClick:()=>y(!0),children:s.jsx($c,{size:16})})]})}),s.jsx(ht,{}),s.jsx(tn,{style:{flex:1,overflow:"hidden"},children:s.jsxs(Sn,{h:"100%",id:"lab-list-scrollarea",p:"0.5rem",children:[p&&s.jsx(fge,{}),!p&&D.length===0&&s.jsx(dge,{activeTab:a}),!p&&D.length>0&&D.map((O,M)=>s.jsxs(te.Fragment,{children:[s.jsx(Qme,{item:O,selectedItem:C,activeTab:a,onItemSelect:_}),M<D.length-1&&s.jsx(ne,{px:"0.5rem",children:s.jsx(ht,{})})]},O.id))]})})]})}),D.length>0?s.jsx(s.Fragment,{children:s.jsx(ne,{h:"100%",style:{flex:1},className:zu.borderRight,children:C?s.jsx(I7,{order:C},C.id):s.jsx(cN,{activeTab:"open"})})}):s.jsx(Ue,{direction:"column",h:"100%",style:{flex:1},children:s.jsx(cN,{activeTab:a})})]}),s.jsx(Mt,{opened:g,onClose:()=>y(!1),size:"xl",centered:!0,title:"Order Labs",children:s.jsx(y_,{onSubmitLabOrder:k})})]})}function cge(e){const t=["completed","draft","entered-in-error"],n=new Set;e.forEach(i=>{i.status==="completed"&&i.id&&n.add(i.id)});const r=new Set;return e.filter(i=>{if(t.includes(i.status||"")||i.basedOn&&i.basedOn.find(d=>{if(d.reference?.startsWith("ServiceRequest/")){const[,h]=d.reference.split("/");return n.has(h)}return!1}))return!1;const l=i.requisition?.value;return l&&r.has(l)?!1:(l&&r.add(l),!0)}).sort((i,l)=>{const u=i.meta?.lastUpdated||i.authoredOn,d=l.meta?.lastUpdated||l.authoredOn;return new Date(d||0).getTime()-new Date(u||0).getTime()})}function uge(e){const t=new Set;return e.filter(r=>{if(r.status!=="completed")return!1;const a=r.requisition?.value;return a&&t.has(a)?!1:(a&&t.add(a),!0)}).sort((r,a)=>{const i=r.meta?.lastUpdated||r.authoredOn,l=a.meta?.lastUpdated||a.authoredOn;return new Date(l||0).getTime()-new Date(i||0).getTime()})}function dge({activeTab:e}){return s.jsx(Ue,{direction:"column",h:"100%",justify:"center",align:"center",children:s.jsx(oe,{align:"center",gap:"md",pt:"xl",children:s.jsxs(Y,{size:"md",c:"dimmed",fw:400,children:["No ",e," labs to display."]})})})}function fge(){return s.jsx(oe,{gap:"md",p:"md",children:Array.from({length:6}).map((e,t)=>s.jsxs(oe,{children:[s.jsxs(Ue,{direction:"column",gap:"xs",align:"flex-start",children:[s.jsx(Et,{height:16,width:`${Math.random()*40+60}%`}),s.jsx(Et,{height:14,width:`${Math.random()*50+40}%`}),s.jsx(Et,{height:14,width:`${Math.random()*50+40}%`})]}),s.jsx(ht,{})]},t))})}const hge="_container_2xqhj_1",pge="_sidebar_2xqhj_9",mge="_scrollArea_2xqhj_15",gge="_content_2xqhj_19",Zm={container:hge,sidebar:pge,scrollArea:mge,content:gge};function L7(e){return`/Patient/${e}`}function z7(e,t){return e?.id?`${L7(e.id)}${t.startsWith("/")?"":"/"}${t}`:t}function vge(e,t){return`${L7(e)}/${t.url.replace("%patient.id",e)}`}function yge(e){const t=y7(e);return bge.filter(n=>n.id!=="dosespot"||t)}const bge=[{id:"timeline",url:"",label:"Timeline"},{id:"edit",url:"edit",label:"Edit"},{id:"encounter",url:"Encounter?_count=20&_fields=_lastUpdated,period,status,serviceType&_sort=-_lastUpdated&patient=%patient.id",label:"Visits"},{id:"tasks",url:"Task",label:"Tasks"},{id:"meds",url:"MedicationRequest?_fields=medication[x],intent,status&_offset=0&_sort=-_lastUpdated&patient=%patient.id",label:"Meds"},{id:"labs",url:"ServiceRequest",label:"Labs"},{id:"devices",url:"Device?_fields=manufacturer,deviceName,status,distinctIdentifier,serialNumber&_offset=0&_sort=-_lastUpdated&patient=%patient.id",label:"Devices"},{id:"documentreference",url:"DocumentReference?_fields=_lastUpdated,category,type,status,author&_offset=0&_sort=-_lastUpdated&patient=%patient.id",label:"Documents"},{id:"careplan",url:"CarePlan?_fields=_lastUpdated,status,intent,category,period&_sort=-_lastUpdated&patient=%patient.id",label:"Care Plans"},{id:"message",url:"Communication",label:"Messages"},{id:"dosespot",url:"dosespot",label:"DoseSpot"},{id:"export",url:"export",label:"Export"}];function xge({tabs:e,currentTab:t,onTabChange:n}){return s.jsx(tn,{w:"100%",children:s.jsx(Li,{value:t.toLowerCase(),onChange:n,children:s.jsx(Li.List,{style:{display:"flex",width:"100%",overflowX:"auto",overflowY:"hidden",flexWrap:"nowrap"},children:e.map(r=>s.jsx(Li.Tab,{value:r.id,children:r.label},r.id))})})})}function dN(e,t){const n=e.pathname.split("/")[3]??"";return n?t.find(a=>a.id===n||a.url.toLowerCase().startsWith(n.toLowerCase())):void 0}function Sge(){const e=Rn(),t=Wa(),r=Ae().getProjectMembership(),[a,i]=b.useState(),l=Uc({setOutcome:i}),[u,d]=b.useState(!1),h=yge(r),[p,m]=b.useState(()=>(dN(t,h)??h[0]).id),g=b.useCallback(x=>{if(!l?.id){console.error("Not within a patient context");return}const C=x?h.find(T=>T.id===x):h[0];C&&(m(C.id),e(vge(l.id,C))?.catch(console.error))},[e,l?.id,h]);b.useEffect(()=>{const x=dN(t,h);x&&x.id!==p&&m(x.id)},[p,t,h]);const y=b.useCallback(()=>{d(!1)},[]);if(a&&!rR(a))return s.jsx(al,{children:s.jsx(Lc,{outcome:a})});const S=l?.id;return S?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Zm.container,children:[s.jsx("div",{className:Zm.sidebar,children:s.jsx(Sn,{className:Zm.scrollArea,children:s.jsx(ky,{patient:l,onClickResource:x=>e(`/Patient/${S}/${x.resourceType}/${x.id}`)?.catch(console.error),onRequestLabs:()=>{d(!0)}})})}),s.jsxs("div",{className:Zm.content,children:[s.jsx(xge,{tabs:h,currentTab:p,onTabChange:g}),s.jsx(c_,{})]})]},Oe(l)),s.jsx(Mt,{opened:u,onClose:y,size:"xl",centered:!0,title:"Order Labs",children:s.jsx(y_,{onSubmitLabOrder:y})})]}):s.jsx(al,{children:s.jsx(tr,{})})}function x_(e,t){const n=Ae(),r=b.useRef(e),[a,i]=b.useState();return b.useEffect(()=>{e!==r.current&&(r.current=e,i(void 0),e&&n.requestSchema(e).then(()=>{Hh(e)?i(e):(i(void 0),t?.onInvalidResourceType&&t.onInvalidResourceType(e))}).catch(console.error))},[n,t,e]),a}function wge(){const e=Ae(),t=Uc(),n=Rn(),r=Wa(),[a,i]=b.useState();return x_(a?.resourceType,{onInvalidResourceType:()=>n("..")?.catch(console.error)}),b.useEffect(()=>{if(!t)return;const l=wR(r.pathname+r.search),u=Cge(l);r.pathname===`/Patient/${t.id}/${u.resourceType}`&&r.search===Qs(u)?i(u):n(`/Patient/${t.id}/${u.resourceType}${Qs(u)}`)?.catch(console.error)},[e,t,n,r]),!t||!a?.resourceType||!a.fields||a.fields.length===0?s.jsx(Fi,{}):s.jsx(tn,{shadow:"xs",m:"md",p:"xs",children:s.jsx(T$,{checkboxesEnabled:!0,search:a,onClick:l=>n(`/Patient/${t.id}/${l.resource.resourceType}/${l.resource.id}`)?.catch(console.error),onAuxClick:l=>window.open(`/Patient/${t.id}/${l.resource.resourceType}/${l.resource.id}`,"_blank"),onNew:()=>{n(z7(t,`/${a.resourceType}/new`))?.catch(console.error)},onChange:l=>{n(`/Patient/${t.id}/${a.resourceType}${Qs(l.definition)}`)?.catch(console.error)}})})}function Cge(e){const t=e.fields??["_id","_lastUpdated"],n=e.offset??0,r=e.count??Gh;return{...e,fields:t,offset:n,count:r}}const jge="_container_1q736_1",$7={container:jge},Ege="_borderRight_13sw5_9",Tge="_segmentedControl_13sw5_13",Rge="_button_13sw5_35",_ge="_selected_13sw5_42",Yl={borderRight:Ege,segmentedControl:Tge,button:Rge,selected:_ge};var ph=(e=>(e.STATUS="status",e.OWNER="owner",e.PERFORMER_TYPE="performerType",e.PRIORITY="priority",e.PATIENT="patient",e))(ph||{});const Dge=["draft","requested","received","accepted","rejected","ready","cancelled","in-progress","on-hold","failed","completed"];function Age(e){const{status:t,performerType:n,performerTypes:r,onFilterChange:a}=e,i=r?.filter((l,u,d)=>{const h=l.coding?.[0]?.code||l.text;return h&&d.findIndex(p=>(p.coding?.[0]?.code||p.text)===h)===u})||[];return s.jsxs(ye,{shadow:"md",width:200,position:"bottom-start",children:[s.jsx(ye.Target,{children:s.jsx(xt,{variant:"light",color:"gray",size:32,radius:"xl","aria-label":"Filter tasks",children:s.jsx(Pfe,{size:16})})}),s.jsxs(ye.Dropdown,{children:[s.jsx(ye.Label,{children:"Filters"}),s.jsx(ye.Item,{children:s.jsxs(ye,{trigger:"hover",openDelay:100,closeDelay:400,position:"right-start",offset:5,children:[s.jsx(ye.Target,{children:s.jsxs(Ue,{align:"center",justify:"space-between",w:"100%",children:[s.jsxs(Ue,{align:"center",gap:"xs",children:[s.jsx(ihe,{size:16}),s.jsx(Y,{size:"sm",children:"Status"})]}),s.jsx(qj,{size:16})]})}),s.jsxs(ye.Dropdown,{children:[s.jsx(ye.Label,{children:"Task Status"}),Dge.map(l=>s.jsx(ye.Item,{onClick:()=>a?.(ph.STATUS,l),rightSection:t===l?s.jsx(fh,{size:16}):null,children:s.jsx(Y,{size:"sm",children:l})},l))]})]})}),s.jsx(ye.Item,{children:s.jsxs(ye,{trigger:"hover",openDelay:100,closeDelay:400,position:"right-start",offset:5,children:[s.jsx(ye.Target,{children:s.jsxs(Ue,{align:"center",justify:"space-between",w:"100%",children:[s.jsxs(Ue,{align:"center",gap:"xs",children:[s.jsx(uhe,{size:16}),s.jsx(Y,{size:"sm",children:"Performer Type"})]}),s.jsx(qj,{size:16})]})}),s.jsxs(ye.Dropdown,{children:[s.jsx(ye.Label,{children:"Performer Types"}),i.length>0?i.map((l,u)=>s.jsx(ye.Item,{onClick:()=>a?.(ph.PERFORMER_TYPE,l),rightSection:n?.coding?.[0]?.code===l.coding?.[0]?.code?s.jsx(fh,{size:16}):null,children:s.jsx(Y,{size:"sm",children:l.coding?.[0]?.display??l.coding?.[0]?.code??"Unknown"})},`${l.coding?.[0]?.code??u}`)):s.jsx(ye.Item,{disabled:!0,children:s.jsx(Y,{size:"sm",c:"dimmed",children:"No performer types available"})})]})]})})]})]})}const Oge="_content_1vkzb_1",kge="_contentContainer_1vkzb_8",Mge="_selected_1vkzb_13",yS={content:Oge,contentContainer:kge,selected:Mge};function Pge(e){const{task:t,selectedTask:n,onSelectedItem:r}=e,a=n?.id===t.id,i=Rt(t.for),l=Rt(t.owner),u=t?.authoredOn?`from ${vn(t?.authoredOn)}`:"",d=r(t);return s.jsx(ba,{to:d,c:"dark",children:s.jsx(fe,{p:"xs",align:"center",wrap:"nowrap",className:$t(yS.contentContainer,{[yS.selected]:a}),children:s.jsxs(oe,{gap:0,children:[s.jsx(Y,{fw:700,className:yS.content,children:t.code?.text??`Task ${u}`}),t.restriction?.period&&s.jsxs(Y,{fw:500,children:["Due ",vn(t.restriction?.period?.end)]}),i?.resourceType==="Patient"&&s.jsxs(Y,{children:["For: ",Gn(i.name?.[0])]}),l?.resourceType==="Practitioner"&&s.jsxs(Y,{size:"sm",children:["Assigned to ",Gn(l.name?.[0])]})]})})})}function Nge(e){const{notFound:t=!1}=e;return s.jsx(Ue,{direction:"row",h:"100%",w:"100%",children:s.jsx(gr,{h:"100%",w:"100%",children:s.jsxs(oe,{align:"center",gap:"md",children:[s.jsx(Oc,{size:64,variant:"light",color:"gray",children:s.jsx(p7,{size:32})}),s.jsxs(oe,{align:"center",gap:"xs",children:[s.jsx(Y,{size:"lg",fw:500,c:"dimmed",children:t?"Task not found":"No task selected"}),!t&&s.jsx(Y,{size:"sm",c:"dimmed",ta:"center",children:"Select a task from the list to view details, add notes, and manage properties"})]})]})})})}function Ige(e){const{opened:t,onClose:n,onTaskCreated:r}=e,a=Ae(),i=Pr(),[l,u]=b.useState(""),[d,h]=b.useState(""),[p,m]=b.useState("order"),[g,y]=b.useState("draft"),[S,x]=b.useState("routine"),[C,T]=b.useState(),[j,R]=b.useState(),[_,A]=b.useState(),[k,D]=b.useState(),[O,M]=b.useState(),[I,L]=b.useState(!1),V=async()=>{if(!l.trim()){Fr.show({color:"red",icon:s.jsx(yc,{}),title:"Validation Error",message:"Task title is required"});return}L(!0);try{const U={resourceType:"Task",status:g,intent:p,priority:S,code:k||{text:l},description:d.trim()||void 0,for:_,authoredOn:new Date().toISOString(),requester:i?Me(i):void 0,owner:C,performerType:O?[O]:void 0,restriction:j?{period:{end:j}}:void 0},W=await a.createResource(U);Fr.show({icon:s.jsx(qy,{}),title:"Success",message:"Task created successfully"}),r?.(W),q()}catch(U){Fr.show({color:"red",icon:s.jsx(yc,{}),title:"Error",message:Vt(U)})}finally{L(!1)}},q=()=>{u(""),h(""),m("order"),y("draft"),x("routine"),T(void 0),R(void 0),D(void 0),M(void 0),A(void 0),L(!1),n()};return s.jsx(Mt,{opened:t,onClose:q,size:"xl",title:"Create New Task",styles:{body:{padding:0,height:"70vh"}},children:s.jsxs(oe,{h:"100%",justify:"space-between",gap:0,children:[s.jsx(ne,{flex:1,miw:0,children:s.jsxs(vr,{p:"md",h:"100%",children:[s.jsx(vr.Col,{span:6,pr:"lg",children:s.jsx(oe,{gap:"md",h:"100%",children:s.jsx(ne,{children:s.jsxs(oe,{gap:"sm",children:[s.jsx(et,{label:"Title",placeholder:"Enter task title",value:l,onChange:U=>u(U.currentTarget.value),required:!0,size:"md"}),s.jsx(wi,{label:"Description",placeholder:"Enter task description (optional)",value:d,onChange:U=>h(U.currentTarget.value),minRows:4,autosize:!0,maxRows:8})]})})})}),s.jsx(vr.Col,{span:6,pl:"lg",children:s.jsx(oe,{gap:"md",h:"100%",children:s.jsx(ne,{children:s.jsxs(oe,{gap:"sm",children:[s.jsx(rl,{name:"status",label:"Status",binding:"http://hl7.org/fhir/ValueSet/task-status",maxValues:1,defaultValue:g,onChange:U=>y(U||"draft"),required:!0}),s.jsx(Wn,{name:"dueDate",label:"Due Date",placeholder:"Select due date (optional)",defaultValue:j,onChange:R}),s.jsx(rl,{name:"priority",label:"Priority",binding:"http://hl7.org/fhir/ValueSet/request-priority",maxValues:1,defaultValue:S,onChange:U=>x(U||"routine")}),s.jsx(fa,{resourceType:"Patient",name:"patient",label:"Patient",placeholder:"Select patient",defaultValue:_,onChange:U=>A(U?Me(U):void 0)}),s.jsxs(ne,{children:[s.jsx(Y,{size:"sm",fw:500,mb:"xs",children:"Assignee"}),s.jsx(mc,{name:"assignee",targetTypes:["Practitioner","Organization"],placeholder:"Select assignee (optional)",onChange:U=>T(U)})]}),s.jsx(mi,{name:"performerType",label:"Performer Type",placeholder:"Select performer type (optional)",binding:"http://hl7.org/fhir/ValueSet/performer-role",maxValues:1,onChange:U=>M(U),path:"Task.performerType"})]})})})})]})}),s.jsxs(oe,{p:"md",children:[s.jsx(ht,{}),s.jsx(Pe,{variant:"filled",w:"100%",onClick:V,loading:I,children:"Create Task"})]})]})})}function Lge(e){const t=/(https?:\/\/[^\s]+)/g;return e.split(t).map((r,a)=>t.test(r)?s.jsx($a,{href:r,target:"_blank",rel:"noopener noreferrer",children:r},a):r)}function zge(e){const{note:t}=e,n=Rt(t.authorReference);return s.jsxs(oe,{gap:"md",pt:"sm",pb:"sm",children:[s.jsxs(fe,{align:"center",gap:"xs",children:[s.jsx(xa,{value:t.authorReference,radius:"xl",size:36}),s.jsx(Y,{fw:500,children:n&&nr(n)}),s.jsx(Y,{children:Ua(t.time??"")})]}),s.jsx(Y,{children:t.text?Lge(t.text):""}),s.jsx(ht,{})]})}function $ge(e){const{task:t,allowEdit:n=!0,onTaskChange:r,onDeleteTask:a}=e,i=Ae(),l=Uy(i),u=Pr(),d=Rt(t),[h,p]=b.useState(""),[m,g]=b.useState(!1),y=async()=>{if(!d)return;const j={text:h,authorReference:u&&Me(u),time:new Date().toISOString()},R=[...d.note||[],j];try{const _={...d,note:R};r?.(_),p("")}catch(_){rt(_)}},S=()=>{g(!0)},x=async()=>{d&&(a?.(d),g(!1))},C=async()=>{if(d)try{const j={...d,status:"completed"};r?.(j),await l(j)}catch(j){rt(j)}},T=Xo(async(j,R)=>{try{if(R.id)await i.updateResource(R);else{const _=await i.createResource(R),A=await i.updateResource({...j,output:[{type:{text:"QuestionnaireResponse"},valueReference:{reference:Oe(_)}}]});r?.(A)}}catch(_){rt(_)}},hh);return d?s.jsx(Ue,{direction:"column",h:"100%",children:s.jsxs(tn,{h:"100%",children:[s.jsxs(Ue,{justify:"space-between",p:"lg",h:72,children:[s.jsx(Ue,{justify:"left",align:"center",direction:"row",pr:"md",children:s.jsxs(Y,{size:"xl",fw:600,lh:1.2,children:[d.code?.text??"Task",d?.authoredOn&&` from ${vn(d?.authoredOn)}`]})}),n&&s.jsxs(Ue,{align:"center",gap:"md",children:[a&&s.jsx(xt,{variant:"outline",c:"dimmed",color:"gray","aria-label":"Delete Task",radius:"xl",w:36,h:36,onClick:()=>S(),children:s.jsx(Bj,{size:24})}),s.jsx(xt,{variant:d.status==="completed"?"filled":"outline",color:d.status==="completed"?"blue":"gray","aria-label":"Mark as Completed",radius:"xl",w:36,h:36,onClick:()=>C(),children:s.jsx(fh,{size:24})})]})]}),s.jsxs(Sn,{w:"100%",h:"calc(100% - 70px)",p:"lg",children:[d.description&&s.jsxs(oe,{mb:"lg",children:[s.jsx(Y,{size:"lg",children:d.description}),s.jsx(ht,{})]}),s.jsxs(oe,{children:[d?.focus?.reference?.startsWith("Questionnaire/")&&s.jsxs(s.Fragment,{children:[s.jsxs(oe,{gap:0,children:[s.jsx(Y,{size:"lg",fw:600,mb:"lg",children:"Related Questionnaire"}),s.jsx(lr,{withBorder:!0,shadow:"sm",p:"md",children:s.jsx(C7,{task:d,onChangeResponse:j=>T(d,j)},d.focus.reference)})]}),s.jsx(ht,{})]}),s.jsxs(oe,{gap:0,children:[s.jsx(Y,{size:"lg",fw:600,mb:"md",children:"Notes"}),d.note?.map((j,R)=>s.jsx(zge,{note:j,index:R},j.id||R)),n&&s.jsxs(oe,{gap:"xs",children:[s.jsx(wi,{placeholder:"Add a note...",minRows:4,value:h??"",onChange:j=>p(j.currentTarget.value),autosize:!0}),s.jsx(Ue,{justify:"flex-end",children:s.jsx(Pe,{type:"submit",disabled:!h||h.trim()==="",onClick:y,children:"Submit"})})]})]})]})]}),s.jsx(Mt,{opened:m,onClose:()=>g(!1),title:"Delete Task",size:"md",centered:!0,children:s.jsxs(oe,{gap:"md",children:[s.jsx(Y,{children:"Are you sure you want to delete this task? This action cannot be undone."}),s.jsxs(Y,{fw:500,c:"dimmed",children:["Task: ",nr(d)]}),s.jsxs(Ue,{justify:"flex-end",gap:"sm",children:[s.jsx(Pe,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),s.jsx(Pe,{color:"red",onClick:x,children:"Delete"})]})]})})]})}):s.jsx(Fi,{})}function qge(e){const{task:t,onTaskChange:n,...r}=e,[a,i]=b.useState(t),[l,u]=b.useState(a?.restriction?.period?.end);b.useEffect(()=>{i(t)},[t]);const d=async S=>{u(S),await y({...a,restriction:{...a?.restriction,period:{end:S}}})},h=async S=>{await y({...a,for:S})},p=async S=>{await y({...a,priority:S})},m=async S=>{await y({...a,owner:S})},g=async S=>{S&&await y({...a,status:S})},y=async S=>{n(S)};return s.jsx(tn,{...r,children:s.jsxs(Ue,{direction:"column",gap:"lg",children:[s.jsxs(oe,{gap:"xs",children:[s.jsx(rl,{name:"status",label:"Status",binding:"http://hl7.org/fhir/ValueSet/task-status",maxValues:1,defaultValue:a?.status,onChange:g},`${a?.status}-${a?.id}`),s.jsx(Wn,{name:"Due Date",placeholder:"End",label:"Due Date",defaultValue:l,onChange:d}),s.jsxs(oe,{gap:0,children:[s.jsx(Y,{size:"sm",fw:500,children:"Assignee"}),s.jsx(mc,{name:"owner",targetTypes:["Practitioner","Organization"],defaultValue:a?.owner?{reference:a.owner.reference}:void 0,onChange:async S=>{await m(S?{reference:S.reference}:void 0)}})]}),s.jsx(rl,{name:"priority",label:"Priority",binding:"http://hl7.org/fhir/ValueSet/request-priority",maxValues:1,defaultValue:a?.priority?.toString(),onChange:S=>p(S??"")}),a?.basedOn&&a.basedOn.length>0?s.jsx(fa,{label:"Based On",resourceType:a.basedOn[0].reference?.split("/").pop(),name:"basedOn-0",defaultValue:a.basedOn[0],disabled:!0}):s.jsxs(oe,{gap:0,children:[s.jsx(Y,{size:"sm",fw:500,children:"Based On"}),s.jsx(mc,{name:"basedOn",placeholder:"Select any resource...",onChange:async S=>{if(S?.reference){const x=[...a?.basedOn||[],S];await y({...a,basedOn:x})}}})]})]}),s.jsx(ht,{}),s.jsxs(oe,{gap:"xs",pt:"md",children:[s.jsx(fa,{label:"Patient",resourceType:"Patient",name:"patient",defaultValue:a?.for,onChange:async S=>{await h(S?{reference:Oe(S)}:void 0)}}),a?.encounter&&s.jsx(fa,{label:"Encounter",resourceType:"Encounter",name:"encounter",defaultValue:a.encounter})]})]})})}function q7(e){const{task:t,onTaskChange:n,onDeleteTask:r}=e,a=Ae(),i=Rt(t),[l,u]=b.useState(i),[d,h]=b.useState("properties");b.useEffect(()=>{i&&u(i)},[i]);const p=l?.for,m=Rt(p),g=Uy(a);if(!l)return s.jsx(ne,{h:"100%",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(Y,{c:"dimmed",children:"No task selected"})});const y=async T=>{u(T),n?.(T),await g(T)},S=async T=>{try{await a.deleteResource("Task",T.id),r?.(T)}catch(j){rt(j)}},x=T=>{h(T)},C=()=>{const T=[{label:"Properties",value:"properties"},{label:"Activity Log",value:"activity-log"}];return m&&T.push({label:"Patient Summary",value:"patient-summary"}),T};return s.jsxs(s.Fragment,{children:[s.jsx(ne,{h:"100%",style:{flex:1},className:Yl.borderRight,children:s.jsx($ge,{task:l,onTaskChange:y,onDeleteTask:r?S:void 0})}),s.jsx(ne,{h:"100%",w:"400px",children:s.jsxs(tn,{h:"100%",style:{overflow:"hidden"},children:[s.jsx(ne,{px:"md",pb:"md",pt:"md",children:s.jsx(el,{value:d,onChange:x,data:C(),fullWidth:!0,radius:"md",color:"gray",size:"sm",className:Yl.segmentedControl})}),s.jsxs(ne,{children:[d==="properties"&&s.jsx(Sn,{h:"calc(100vh - 120px)",children:s.jsx(qge,{p:"md",task:l,onTaskChange:y},l.id)}),d==="activity-log"&&s.jsx(Sn,{h:"calc(100vh - 120px)",children:s.jsx(w$,{value:l,loadTimelineResources:async(T,j,R)=>Promise.allSettled([T.readHistory("Task",R)])})}),d==="patient-summary"&&m?.resourceType==="Patient"&&s.jsx(Sn,{h:"calc(100vh - 120px)",children:s.jsx(ky,{patient:m})})]})]})})]})}function U7(e){const{query:t,selectedTaskId:n,onTaskChange:r,onDeleteTask:a,onSelectedItem:i}=e,l=Ae(),u=Pr(),d=Rn(),[h,p]=b.useState([]),[m,g]=b.useState(void 0),[y,S]=b.useState(!1),x=b.useMemo(()=>u?Me(u):void 0,[u]),[C,T]=b.useState([]),[j,R]=b.useState(!1),[_,A]=b.useState(1),[k,D]=b.useState(void 0),[O,M]=b.useState({showMyTasks:!0,status:void 0,performerType:void 0}),I=20,L=b.useCallback(async()=>{const $=new URLSearchParams(t);x&&O.showMyTasks&&$.append("owner",Oe(x)),O.status&&$.append("status",O.status);const G=(_-1)*I;$.append("_offset",G.toString()),$.append("_count",I.toString()),$.append("_total","accurate");const X=await l.search("Task",$.toString(),{cache:"no-cache"});let H=[];X.entry&&(H=X.entry.map(Q=>Q.resource).filter(Q=>Q!==void 0)),X.total!==void 0&&D(X.total);const F=H.flatMap(Q=>Q.performerType||[]);O.performerType&&(H=H.filter(Q=>Q.performerType?.[0]?.coding?.[0]?.code===O.performerType?.coding?.[0]?.code)),T(F),p(H)},[l,x,O,t,_,I]);b.useEffect(()=>{S(!0),L().catch(rt).finally(()=>S(!1))},[l,x,O,t,L]),b.useEffect(()=>{(async()=>{if(n){const G=h.find(X=>X.id===n);if(G)g(G);else{const X=await l.readResource("Task",n);g(X)}}else g(void 0)})().catch(()=>{g(void 0)})},[n,h,l,d]);const V=$=>{L().catch(rt),q($).catch(rt)},q=async $=>{p(h.map(G=>G.id===$.id?$:G)),r($),g($)},U=async $=>{p(h.filter(G=>G.id!==$.id)),a($)},W=($,G)=>{switch(A(1),$){case ph.STATUS:M(X=>({...X,status:X.status!==G?G:void 0}));break;case ph.PERFORMER_TYPE:{const X=O.performerType?.coding?.[0]?.code,H=G?.coding?.[0]?.code;M(F=>({...F,performerType:X!==H?G:void 0}));break}}},N=$=>{A(1),M({showMyTasks:$,status:void 0,performerType:void 0})},z=k!==void 0?Math.ceil(k/I):1;return s.jsxs(ne,{w:"100%",h:"100%",children:[s.jsxs(Ue,{h:"100%",children:[s.jsx(ne,{w:350,h:"100%",children:s.jsxs(Ue,{direction:"column",h:"100%",className:Yl.borderRight,children:[s.jsx(tn,{children:s.jsxs(Ue,{h:64,align:"center",justify:"space-between",p:"md",children:[s.jsxs(fe,{gap:"xs",children:[s.jsx(Pe,{className:$t(Yl.button,{[Yl.selected]:O.showMyTasks}),h:32,radius:"xl",onClick:()=>N(!0),children:"My Tasks"}),s.jsx(Pe,{className:$t(Yl.button,{[Yl.selected]:!O.showMyTasks}),h:32,radius:"xl",onClick:()=>N(!1),children:"All Tasks"}),s.jsx(Age,{status:O.status,performerType:O.performerType,performerTypes:C,onFilterChange:W})]}),s.jsx(xt,{radius:"50%",variant:"filled",color:"blue",onClick:()=>R(!0),children:s.jsx($c,{size:16})})]})}),s.jsx(ht,{}),s.jsxs(tn,{style:{flex:1,overflow:"hidden",display:"flex",flexDirection:"column"},children:[s.jsxs(Sn,{style:{flex:1},id:"task-list-scrollarea",children:[y&&s.jsx(Bge,{}),!y&&h.length===0&&s.jsx(Uge,{}),!y&&h.length>0&&h.map(($,G)=>s.jsxs(te.Fragment,{children:[s.jsx(Pge,{task:$,selectedTask:m,onSelectedItem:i}),G<h.length-1&&s.jsx(ht,{})]},$.id))]}),!y&&k!==void 0&&k>I&&s.jsx(ne,{p:"md",children:s.jsx(gr,{children:s.jsx(Fa,{value:_,total:z,onChange:A,size:"sm",siblings:1,boundaries:1})})})]})]})}),m?s.jsx(q7,{task:m,onTaskChange:q,onDeleteTask:U}):s.jsx(Ue,{direction:"column",h:"100%",style:{flex:1},children:s.jsx(Nge,{})})]}),s.jsx(Ige,{opened:j,onClose:()=>R(!1),onTaskCreated:V})]})}function Uge(){return s.jsx(Ue,{direction:"column",h:"100%",justify:"center",align:"center",children:s.jsxs(oe,{align:"center",gap:"md",pt:"xl",children:[s.jsx(p7,{size:64,color:"var(--mantine-color-gray-4)"}),s.jsx(Y,{size:"lg",c:"dimmed",fw:500,children:"No tasks found"})]})})}function Bge(){return s.jsx(oe,{gap:"md",p:"md",children:Array.from({length:6}).map((e,t)=>s.jsxs(oe,{children:[s.jsxs(Ue,{direction:"column",gap:"xs",align:"flex-start",children:[s.jsx(Et,{height:16,width:`${Math.random()*40+60}%`}),s.jsx(Et,{height:14,width:`${Math.random()*50+40}%`}),s.jsx(Et,{height:14,width:`${Math.random()*50+40}%`})]}),s.jsx(ht,{})]},t))})}function fN(){const{patientId:e,taskId:t}=wr(),n=Rn(),r=l=>`/Patient/${e}/Task/${l.id}`,a=l=>{n(r(l))?.catch(console.error)},i=l=>{n(`/Patient/${e}/Task`)?.catch(console.error)};return s.jsx("div",{className:$7.container,children:s.jsx(U7,{query:`patient=Patient/${e}&_sort=-_lastUpdated`,selectedTaskId:t,onTaskChange:a,onDeleteTask:i,onSelectedItem:r})})}function hN(){const e=Uc();return e?s.jsx(fce,{patient:e}):s.jsx(tr,{})}const Hge={Task:["for"],MedicationRequest:["subject"],ServiceRequest:["subject"],Device:["patient"],DiagnosticReport:["subject"],DocumentReference:["subject"],Appointment:["participant.actor"],CarePlan:["subject"]};function pN(e,t){const n={resourceType:e},r=Hge[e];if(t&&r)for(const a of r){const i=a.split(".");if(i.length===1)n[a]=Me(t);else if(i.length===2){const[l,u]=i;n[l]=[{[u]:Me(t)}]}else throw new Error("Can only process keys with one or two parts")}return n}function Fge(e){const t=e.split("/");if(t.length>=3&&t[2]==="new")return t[1]}function bS(){const e=Ae(),[t,n]=b.useState(),r=Uc({ignoreMissingPatientId:!0,setOutcome:n}),a=Rn(),i=wr(),l=i.resourceType||Fge(location.pathname),u=i.patientId,[d,h]=b.useState(!!u),[p,m]=b.useState(()=>l?pN(l,r):{}),g=l&&By[l];b.useEffect(()=>{r&&l&&m(pN(l,r)),h(!1)},[r,l]);const y=S=>{t&&n(void 0),e.createResource(S).then(x=>a(z7(r,"/"+x.resourceType+"/"+x.id))).catch(x=>{n&&n(Or(x)),wt({color:"red",message:Vt(x),autoClose:!1,styles:{description:{whiteSpace:"pre-line"}}})})};return d?s.jsx(Fi,{}):s.jsx(al,{shadow:"xs",children:s.jsxs(oe,{children:[s.jsxs(Y,{fw:500,children:["NewÂ ",l]}),s.jsx(b_,{defaultValue:p,onSubmit:y,outcome:t,profileUrl:g})]})})}function mN(){const{resourceType:e,id:t}=wr(),n=Rt({reference:e+"/"+t});return n?s.jsxs(oe,{children:[s.jsx(Sr,{children:nr(n)}),s.jsx(Dy,{value:n},`${e}/${t}`)]}):null}function gN(){const e=Ae(),{resourceType:t,id:n}=wr(),[r,a]=b.useState(),i=Rn(),[l,u]=b.useState(),d=t&&By[t];b.useEffect(()=>{t&&n&&e.readResource(t,n).then(m=>a(Hi(m))).catch(m=>{u(Or(m)),wt({color:"red",message:Vt(m),autoClose:!1})})},[e,t,n]);const h=b.useCallback(m=>{u(void 0),e.updateResource(m).then(()=>{i("..")?.catch(console.error),wt({color:"green",message:"Success"})}).catch(g=>{u(Or(g)),wt({color:"red",message:Vt(g),autoClose:!1})})},[e,i]),p=b.useCallback(()=>i("..")?.catch(console.error),[i]);return r?s.jsx(b_,{defaultValue:r,onSubmit:h,onDelete:p,outcome:l,profileUrl:d}):null}function vN(){const{resourceType:e,id:t}=wr();return!e||!t?null:s.jsx(Pce,{resourceType:e,id:t},`${e}/${t}`)}const Vge="_tab_1897b_1",Wge={tab:Vge},Gge=["Details","Edit","History"];function yN(){const e=Rn(),t=Ae(),{resourceType:n,id:r}=wr(),[a,i]=b.useState(void 0);return x_(n,{onInvalidResourceType:()=>e("..")?.catch(console.error)}),b.useEffect(()=>{n&&r&&t.readResource(n,r).then(i).catch(console.error)},[t,n,r,e]),a?s.jsx(al,{children:s.jsxs(oe,{children:[s.jsx(Rle,{variant:"pills",baseUrl:`/${n}/${r}`,tabs:Gge,classNames:Wge}),s.jsx(c_,{})]})},Oe(a)):null}var bg={exports:{}},Yge=bg.exports,bN;function Qge(){return bN||(bN=1,(function(e,t){(function(n,r){e.exports=r()})(Yge,(function(){var n=1e3,r=6e4,a=36e5,i="millisecond",l="second",u="minute",d="hour",h="day",p="week",m="month",g="quarter",y="year",S="date",x="Invalid Date",C=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,j={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(U){var W=["th","st","nd","rd"],N=U%100;return"["+U+(W[(N-20)%10]||W[N]||W[0])+"]"}},R=function(U,W,N){var z=String(U);return!z||z.length>=W?U:""+Array(W+1-z.length).join(N)+U},_={s:R,z:function(U){var W=-U.utcOffset(),N=Math.abs(W),z=Math.floor(N/60),$=N%60;return(W<=0?"+":"-")+R(z,2,"0")+":"+R($,2,"0")},m:function U(W,N){if(W.date()<N.date())return-U(N,W);var z=12*(N.year()-W.year())+(N.month()-W.month()),$=W.clone().add(z,m),G=N-$<0,X=W.clone().add(z+(G?-1:1),m);return+(-(z+(N-$)/(G?$-X:X-$))||0)},a:function(U){return U<0?Math.ceil(U)||0:Math.floor(U)},p:function(U){return{M:m,y,w:p,d:h,D:S,h:d,m:u,s:l,ms:i,Q:g}[U]||String(U||"").toLowerCase().replace(/s$/,"")},u:function(U){return U===void 0}},A="en",k={};k[A]=j;var D="$isDayjsObject",O=function(U){return U instanceof V||!(!U||!U[D])},M=function U(W,N,z){var $;if(!W)return A;if(typeof W=="string"){var G=W.toLowerCase();k[G]&&($=G),N&&(k[G]=N,$=G);var X=W.split("-");if(!$&&X.length>1)return U(X[0])}else{var H=W.name;k[H]=W,$=H}return!z&&$&&(A=$),$||!z&&A},I=function(U,W){if(O(U))return U.clone();var N=typeof W=="object"?W:{};return N.date=U,N.args=arguments,new V(N)},L=_;L.l=M,L.i=O,L.w=function(U,W){return I(U,{locale:W.$L,utc:W.$u,x:W.$x,$offset:W.$offset})};var V=(function(){function U(N){this.$L=M(N.locale,null,!0),this.parse(N),this.$x=this.$x||N.x||{},this[D]=!0}var W=U.prototype;return W.parse=function(N){this.$d=(function(z){var $=z.date,G=z.utc;if($===null)return new Date(NaN);if(L.u($))return new Date;if($ instanceof Date)return new Date($);if(typeof $=="string"&&!/Z$/i.test($)){var X=$.match(C);if(X){var H=X[2]-1||0,F=(X[7]||"0").substring(0,3);return G?new Date(Date.UTC(X[1],H,X[3]||1,X[4]||0,X[5]||0,X[6]||0,F)):new Date(X[1],H,X[3]||1,X[4]||0,X[5]||0,X[6]||0,F)}}return new Date($)})(N),this.init()},W.init=function(){var N=this.$d;this.$y=N.getFullYear(),this.$M=N.getMonth(),this.$D=N.getDate(),this.$W=N.getDay(),this.$H=N.getHours(),this.$m=N.getMinutes(),this.$s=N.getSeconds(),this.$ms=N.getMilliseconds()},W.$utils=function(){return L},W.isValid=function(){return this.$d.toString()!==x},W.isSame=function(N,z){var $=I(N);return this.startOf(z)<=$&&$<=this.endOf(z)},W.isAfter=function(N,z){return I(N)<this.startOf(z)},W.isBefore=function(N,z){return this.endOf(z)<I(N)},W.$g=function(N,z,$){return L.u(N)?this[z]:this.set($,N)},W.unix=function(){return Math.floor(this.valueOf()/1e3)},W.valueOf=function(){return this.$d.getTime()},W.startOf=function(N,z){var $=this,G=!!L.u(z)||z,X=L.p(N),H=function(Se,Ge){var Ze=L.w($.$u?Date.UTC($.$y,Ge,Se):new Date($.$y,Ge,Se),$);return G?Ze:Ze.endOf(h)},F=function(Se,Ge){return L.w($.toDate()[Se].apply($.toDate("s"),(G?[0,0,0,0]:[23,59,59,999]).slice(Ge)),$)},Q=this.$W,J=this.$M,re=this.$D,ue="set"+(this.$u?"UTC":"");switch(X){case y:return G?H(1,0):H(31,11);case m:return G?H(1,J):H(0,J+1);case p:var Ee=this.$locale().weekStart||0,Re=(Q<Ee?Q+7:Q)-Ee;return H(G?re-Re:re+(6-Re),J);case h:case S:return F(ue+"Hours",0);case d:return F(ue+"Minutes",1);case u:return F(ue+"Seconds",2);case l:return F(ue+"Milliseconds",3);default:return this.clone()}},W.endOf=function(N){return this.startOf(N,!1)},W.$set=function(N,z){var $,G=L.p(N),X="set"+(this.$u?"UTC":""),H=($={},$[h]=X+"Date",$[S]=X+"Date",$[m]=X+"Month",$[y]=X+"FullYear",$[d]=X+"Hours",$[u]=X+"Minutes",$[l]=X+"Seconds",$[i]=X+"Milliseconds",$)[G],F=G===h?this.$D+(z-this.$W):z;if(G===m||G===y){var Q=this.clone().set(S,1);Q.$d[H](F),Q.init(),this.$d=Q.set(S,Math.min(this.$D,Q.daysInMonth())).$d}else H&&this.$d[H](F);return this.init(),this},W.set=function(N,z){return this.clone().$set(N,z)},W.get=function(N){return this[L.p(N)]()},W.add=function(N,z){var $,G=this;N=Number(N);var X=L.p(z),H=function(J){var re=I(G);return L.w(re.date(re.date()+Math.round(J*N)),G)};if(X===m)return this.set(m,this.$M+N);if(X===y)return this.set(y,this.$y+N);if(X===h)return H(1);if(X===p)return H(7);var F=($={},$[u]=r,$[d]=a,$[l]=n,$)[X]||1,Q=this.$d.getTime()+N*F;return L.w(Q,this)},W.subtract=function(N,z){return this.add(-1*N,z)},W.format=function(N){var z=this,$=this.$locale();if(!this.isValid())return $.invalidDate||x;var G=N||"YYYY-MM-DDTHH:mm:ssZ",X=L.z(this),H=this.$H,F=this.$m,Q=this.$M,J=$.weekdays,re=$.months,ue=$.meridiem,Ee=function(Ge,Ze,Fe,ze){return Ge&&(Ge[Ze]||Ge(z,G))||Fe[Ze].slice(0,ze)},Re=function(Ge){return L.s(H%12||12,Ge,"0")},Se=ue||function(Ge,Ze,Fe){var ze=Ge<12?"AM":"PM";return Fe?ze.toLowerCase():ze};return G.replace(T,(function(Ge,Ze){return Ze||(function(Fe){switch(Fe){case"YY":return String(z.$y).slice(-2);case"YYYY":return L.s(z.$y,4,"0");case"M":return Q+1;case"MM":return L.s(Q+1,2,"0");case"MMM":return Ee($.monthsShort,Q,re,3);case"MMMM":return Ee(re,Q);case"D":return z.$D;case"DD":return L.s(z.$D,2,"0");case"d":return String(z.$W);case"dd":return Ee($.weekdaysMin,z.$W,J,2);case"ddd":return Ee($.weekdaysShort,z.$W,J,3);case"dddd":return J[z.$W];case"H":return String(H);case"HH":return L.s(H,2,"0");case"h":return Re(1);case"hh":return Re(2);case"a":return Se(H,F,!0);case"A":return Se(H,F,!1);case"m":return String(F);case"mm":return L.s(F,2,"0");case"s":return String(z.$s);case"ss":return L.s(z.$s,2,"0");case"SSS":return L.s(z.$ms,3,"0");case"Z":return X}return null})(Ge)||X.replace(":","")}))},W.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},W.diff=function(N,z,$){var G,X=this,H=L.p(z),F=I(N),Q=(F.utcOffset()-this.utcOffset())*r,J=this-F,re=function(){return L.m(X,F)};switch(H){case y:G=re()/12;break;case m:G=re();break;case g:G=re()/3;break;case p:G=(J-Q)/6048e5;break;case h:G=(J-Q)/864e5;break;case d:G=J/a;break;case u:G=J/r;break;case l:G=J/n;break;default:G=J}return $?G:L.a(G)},W.daysInMonth=function(){return this.endOf(m).$D},W.$locale=function(){return k[this.$L]},W.locale=function(N,z){if(!N)return this.$L;var $=this.clone(),G=M(N,z,!0);return G&&($.$L=G),$},W.clone=function(){return L.w(this.$d,this)},W.toDate=function(){return new Date(this.valueOf())},W.toJSON=function(){return this.isValid()?this.toISOString():null},W.toISOString=function(){return this.$d.toISOString()},W.toString=function(){return this.$d.toUTCString()},U})(),q=V.prototype;return I.prototype=q,[["$ms",i],["$s",l],["$m",u],["$H",d],["$W",h],["$M",m],["$y",y],["$D",S]].forEach((function(U){q[U[1]]=function(W){return this.$g(W,U[0],U[1])}})),I.extend=function(U,W){return U.$i||(U(W,V,I),U.$i=!0),I},I.locale=M,I.isDayjs=O,I.unix=function(U){return I(1e3*U)},I.en=k[A],I.Ls=k,I.p={},I}))})(bg)),bg.exports}var Kge=Qge();const Bl=Tn(Kge);var xg={exports:{}},Xge=xg.exports,xN;function Zge(){return xN||(xN=1,(function(e,t){(function(n,r){e.exports=r()})(Xge,(function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function(a,i,l){var u,d=function(g,y,S){S===void 0&&(S={});var x=new Date(g),C=(function(T,j){j===void 0&&(j={});var R=j.timeZoneName||"short",_=T+"|"+R,A=r[_];return A||(A=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:T,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:R}),r[_]=A),A})(y,S);return C.formatToParts(x)},h=function(g,y){for(var S=d(g,y),x=[],C=0;C<S.length;C+=1){var T=S[C],j=T.type,R=T.value,_=n[j];_>=0&&(x[_]=parseInt(R,10))}var A=x[3],k=A===24?0:A,D=x[0]+"-"+x[1]+"-"+x[2]+" "+k+":"+x[4]+":"+x[5]+":000",O=+g;return(l.utc(D).valueOf()-(O-=O%1e3))/6e4},p=i.prototype;p.tz=function(g,y){g===void 0&&(g=u);var S,x=this.utcOffset(),C=this.toDate(),T=C.toLocaleString("en-US",{timeZone:g}),j=Math.round((C-new Date(T))/1e3/60),R=15*-Math.round(C.getTimezoneOffset()/15)-j;if(!Number(R))S=this.utcOffset(0,y);else if(S=l(T,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(R,!0),y){var _=S.utcOffset();S=S.add(x-_,"minute")}return S.$x.$timezone=g,S},p.offsetName=function(g){var y=this.$x.$timezone||l.tz.guess(),S=d(this.valueOf(),y,{timeZoneName:g}).find((function(x){return x.type.toLowerCase()==="timezonename"}));return S&&S.value};var m=p.startOf;p.startOf=function(g,y){if(!this.$x||!this.$x.$timezone)return m.call(this,g,y);var S=l(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return m.call(S,g,y).tz(this.$x.$timezone,!0)},l.tz=function(g,y,S){var x=S&&y,C=S||y||u,T=h(+l(),C);if(typeof g!="string")return l(g).tz(C);var j=(function(k,D,O){var M=k-60*D*1e3,I=h(M,O);if(D===I)return[M,D];var L=h(M-=60*(I-D)*1e3,O);return I===L?[M,I]:[k-60*Math.min(I,L)*1e3,Math.max(I,L)]})(l.utc(g,x).valueOf(),T,C),R=j[0],_=j[1],A=l(R).utcOffset(_);return A.$x.$timezone=C,A},l.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},l.tz.setDefault=function(g){u=g}}}))})(xg)),xg.exports}var Jge=Zge();const eve=Tn(Jge);var Sg={exports:{}},tve=Sg.exports,SN;function nve(){return SN||(SN=1,(function(e,t){(function(n,r){e.exports=r()})(tve,(function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(i,l,u){var d=l.prototype;u.utc=function(x){var C={date:x,utc:!0,args:arguments};return new l(C)},d.utc=function(x){var C=u(this.toDate(),{locale:this.$L,utc:!0});return x?C.add(this.utcOffset(),n):C},d.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var h=d.parse;d.parse=function(x){x.utc&&(this.$u=!0),this.$utils().u(x.$offset)||(this.$offset=x.$offset),h.call(this,x)};var p=d.init;d.init=function(){if(this.$u){var x=this.$d;this.$y=x.getUTCFullYear(),this.$M=x.getUTCMonth(),this.$D=x.getUTCDate(),this.$W=x.getUTCDay(),this.$H=x.getUTCHours(),this.$m=x.getUTCMinutes(),this.$s=x.getUTCSeconds(),this.$ms=x.getUTCMilliseconds()}else p.call(this)};var m=d.utcOffset;d.utcOffset=function(x,C){var T=this.$utils().u;if(T(x))return this.$u?0:T(this.$offset)?m.call(this):this.$offset;if(typeof x=="string"&&(x=(function(A){A===void 0&&(A="");var k=A.match(r);if(!k)return null;var D=(""+k[0]).match(a)||["-",0,0],O=D[0],M=60*+D[1]+ +D[2];return M===0?0:O==="+"?M:-M})(x),x===null))return this;var j=Math.abs(x)<=16?60*x:x;if(j===0)return this.utc(C);var R=this.clone();if(C)return R.$offset=j,R.$u=!1,R;var _=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(R=this.local().add(j+_,n)).$offset=j,R.$x.$localOffset=_,R};var g=d.format;d.format=function(x){var C=x||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return g.call(this,C)},d.valueOf=function(){var x=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*x},d.isUTC=function(){return!!this.$u},d.toISOString=function(){return this.toDate().toISOString()},d.toString=function(){return this.toDate().toUTCString()};var y=d.toDate;d.toDate=function(x){return x==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():y.call(this)};var S=d.diff;d.diff=function(x,C,T){if(x&&this.$u===x.$u)return S.call(this,x,C,T);var j=this.local(),R=u(x).local();return S.call(j,R,C,T)}}}))})(Sg)),Sg.exports}var rve=nve();const B7=Tn(rve);function ts(e){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(e)}function ave(e,t){if(ts(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ts(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H7(e){var t=ave(e,"string");return ts(t)=="symbol"?t:t+""}function Ql(e,t,n){return(t=H7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(n),!0).forEach(function(r){Ql(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wo(e,t){if(e==null)return{};var n,r,a=Dc(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function cr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,H7(r.key),r)}}function ur(e,t,n){return t&&CN(e.prototype,t),n&&CN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lv(e){return lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lv(e)}function F7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F7=function(){return!!e})()}function ive(e,t){if(t&&(ts(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D6(e)}function Wr(e,t,n){return t=lv(t),ive(e,F7()?Reflect.construct(t,n||[],lv(e).constructor):t.apply(e,n))}function Gr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bg(e,t)}function V7(e){if(Array.isArray(e))return e}function ove(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,l,u=[],d=!0,h=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw a}}return u}}function Vj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function S_(e,t){if(e){if(typeof e=="string")return Vj(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vj(e,t):void 0}}function W7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ui(e,t){return V7(e)||ove(e,t)||S_(e,t)||W7()}function G7(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=G7(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Ln(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=G7(e))&&(r&&(r+=" "),r+=t);return r}var xS,jN;function sve(){if(jN)return xS;jN=1;var e=function(t,n,r,a,i,l,u,d){if(!t){var h;if(n===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[r,a,i,l,u,d],m=0;h=new Error(n.replace(/%s/g,function(){return p[m++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}};return xS=e,xS}var lve=sve();const mh=Tn(lve);var cve=function(){};function uve(e,t){var n={};return Object.keys(e).forEach(function(r){n[wg(r)]=cve}),n}function EN(e,t){return e[t]!==void 0}function wg(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function dve(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function Y7(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function Q7(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function K7(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Y7.__suppressDeprecationWarning=!0;Q7.__suppressDeprecationWarning=!0;K7.__suppressDeprecationWarning=!0;function fve(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,a=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),n!==null||r!==null||a!==null){var i=e.displayName||e.name,l=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+l+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=Y7,t.componentWillReceiveProps=Q7),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=K7;var u=t.componentDidUpdate;t.componentDidUpdate=function(h,p,m){var g=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:m;u.call(this,h,p,g)}}return e}var hve="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function X7(e,t,n){n===void 0&&(n=[]);var r=e.displayName||e.name||"Component",a=dve(e),i=Object.keys(t),l=i.map(wg);a||!n.length||mh(!1);var u=(function(h){JT(p,h);function p(){for(var g,y=arguments.length,S=new Array(y),x=0;x<y;x++)S[x]=arguments[x];g=h.call.apply(h,[this].concat(S))||this,g.handlers=Object.create(null),i.forEach(function(T){var j=t[T],R=function(A){if(g.props[j]){var k;g._notifying=!0;for(var D=arguments.length,O=new Array(D>1?D-1:0),M=1;M<D;M++)O[M-1]=arguments[M];(k=g.props)[j].apply(k,[A].concat(O)),g._notifying=!1}g.unmounted||g.setState(function(I){var L,V=I.values;return{values:En(Object.create(null),V,(L={},L[T]=A,L))}})};g.handlers[j]=R}),n.length&&(g.attachRef=function(T){g.inner=T});var C=Object.create(null);return i.forEach(function(T){C[T]=g.props[wg(T)]}),g.state={values:C,prevProps:{}},g}var m=p.prototype;return m.shouldComponentUpdate=function(){return!this._notifying},p.getDerivedStateFromProps=function(y,S){var x=S.values,C=S.prevProps,T={values:En(Object.create(null),x),prevProps:{}};return i.forEach(function(j){T.prevProps[j]=y[j],!EN(y,j)&&EN(C,j)&&(T.values[j]=y[wg(j)])}),T},m.componentWillUnmount=function(){this.unmounted=!0},m.render=function(){var y=this,S=this.props,x=S.innerRef,C=Dc(S,["innerRef"]);l.forEach(function(j){delete C[j]});var T={};return i.forEach(function(j){var R=y.props[j];T[j]=R!==void 0?R:y.state.values[j]}),te.createElement(e,En({},C,T,this.handlers,{ref:x||this.attachRef}))},p})(te.Component);fve(u),u.displayName="Uncontrolled("+r+")",u.propTypes=En({innerRef:function(){}},uve(t)),n.forEach(function(h){u.prototype[h]=function(){var m;return(m=this.inner)[h].apply(m,arguments)}});var d=u;return te.forwardRef&&(d=te.forwardRef(function(h,p){return te.createElement(u,En({},h,{innerRef:p,__source:{fileName:hve,lineNumber:128},__self:this}))}),d.propTypes=u.propTypes),d.ControlledComponent=e,d.deferControlTo=function(h,p,m){return p===void 0&&(p={}),X7(h,En({},t,p),m)},d}var cv="milliseconds",gh="seconds",vh="minutes",yh="hours",bc="day",sd="week",bh="month",xc="year",Sc="decade",wc="century",Z7={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:3600*1e3,day:1440*60*1e3,week:10080*60*1e3},pve={month:1,year:12,decade:120,century:1200};function mve(e){return[31,gve(e),31,30,31,30,31,31,30,31,30,31]}function gve(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Wi(e,t,n){switch(e=new Date(e),n){case cv:case gh:case vh:case yh:case bc:case sd:return vve(e,t*Z7[n]);case bh:case xc:case Sc:case wc:return yve(e,t*pve[n])}throw new TypeError('Invalid units: "'+n+'"')}function vve(e,t){var n=new Date(+e+t);return bve(e,n)}function yve(e,t){var n=e.getFullYear(),r=e.getMonth(),a=e.getDate(),i=n*12+r+t,l=Math.trunc(i/12),u=i%12,d=Math.min(a,mve(l)[u]),h=new Date(e);return h.setFullYear(l),h.setDate(1),h.setMonth(u),h.setDate(d),h}function bve(e,t){var n=e.getTimezoneOffset(),r=t.getTimezoneOffset(),a=r-n;return new Date(+t+a*Z7.minutes)}function xh(e,t,n){return Wi(e,-t,n)}function Mr(e,t,n){switch(e=new Date(e),t){case wc:case Sc:case xc:e=dv(e,0);case bh:e=r8(e,1);case sd:case bc:e=Ch(e,0);case yh:e=ld(e,0);case vh:e=wh(e,0);case gh:e=Sh(e,0)}return t===Sc&&(e=xh(e,Cc(e)%10,"year")),t===wc&&(e=xh(e,Cc(e)%100,"year")),t===sd&&(e=a8(e,0,n)),e}function uv(e,t,n){switch(e=new Date(e),e=Mr(e,t,n),t){case wc:case Sc:case xc:case bh:case sd:e=Wi(e,1,t),e=xh(e,1,bc),e.setHours(23,59,59,999);break;case bc:e.setHours(23,59,59,999);break;case yh:case vh:case gh:e=Wi(e,1,t),e=xh(e,1,cv)}return e}var ap=Ad(function(e,t){return e===t}),w_=Ad(function(e,t){return e!==t}),Hy=Ad(function(e,t){return e>t}),ip=Ad(function(e,t){return e>=t}),C_=Ad(function(e,t){return e<t}),Dd=Ad(function(e,t){return e<=t});function J7(){return new Date(Math.min.apply(Math,arguments))}function e8(){return new Date(Math.max.apply(Math,arguments))}function t8(e,t,n,r){return r=r||"day",(!t||ip(e,t,r))&&(!n||Dd(e,n,r))}var Sh=gl("Milliseconds"),wh=gl("Seconds"),ld=gl("Minutes"),Ch=gl("Hours"),n8=gl("Day"),r8=gl("Date"),dv=gl("Month"),Cc=gl("FullYear");function xve(e,t){return t===void 0?Cc(Mr(e,Sc)):Wi(e,t+10,xc)}function Sve(e,t){return t===void 0?Cc(Mr(e,wc)):Wi(e,t+100,xc)}function a8(e,t,n){var r=(n8(e)+7-(n||0))%7;return t===void 0?r:Wi(e,t-r,bc)}function wve(e,t,n,r){var a,i,l;switch(n){case cv:case gh:case vh:case yh:case bc:case sd:a=t.getTime()-e.getTime();break;case bh:case xc:case Sc:case wc:a=(Cc(t)-Cc(e))*12+dv(t)-dv(e);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case cv:i=1;break;case gh:i=1e3;break;case vh:i=1e3*60;break;case yh:i=1e3*60*60;break;case bc:i=1e3*60*60*24;break;case sd:i=1e3*60*60*24*7;break;case bh:i=1;break;case xc:i=12;break;case Sc:i=120;break;case wc:i=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return l=a/i,r?l:Math.round(l)}function gl(e){var t=(function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}})(e);return function(n,r){if(r===void 0)return n["get"+e]();var a=new Date(n);return a["set"+e](r),t&&a["get"+e]()!=r&&(e==="Hours"||r>=t&&a.getHours()-n.getHours()<Math.floor(r/t))&&a["set"+e](r+t),a}}function Ad(e){return function(t,n,r){return e(+Mr(t,r),+Mr(n,r))}}const TN=Object.freeze(Object.defineProperty({__proto__:null,add:Wi,century:Sve,date:r8,day:n8,decade:xve,diff:wve,endOf:uv,eq:ap,gt:Hy,gte:ip,hours:Ch,inRange:t8,lt:C_,lte:Dd,max:e8,milliseconds:Sh,min:J7,minutes:ld,month:dv,neq:w_,seconds:wh,startOf:Mr,subtract:xh,weekday:a8,year:Cc},Symbol.toStringTag,{value:"Module"}));function Cve(e){if(Array.isArray(e))return Vj(e)}function i8(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cg(e){return Cve(e)||i8(e)||S_(e)||jve()}var SS,RN;function o8(){if(RN)return SS;RN=1;function e(t,n,r){var a=-1,i=t.length;n<0&&(n=-n>i?0:i+n),r=r>i?i:r,r<0&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var l=Array(i);++a<i;)l[a]=t[a+n];return l}return SS=e,SS}var wS,_N;function op(){if(_N)return wS;_N=1;function e(t,n){return t===n||t!==t&&n!==n}return wS=e,wS}var CS,DN;function s8(){if(DN)return CS;DN=1;var e=typeof Tm=="object"&&Tm&&Tm.Object===Object&&Tm;return CS=e,CS}var jS,AN;function jo(){if(AN)return jS;AN=1;var e=s8(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return jS=n,jS}var ES,ON;function Od(){if(ON)return ES;ON=1;var e=jo(),t=e.Symbol;return ES=t,ES}var TS,kN;function Eve(){if(kN)return TS;kN=1;var e=Od(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,a=e?e.toStringTag:void 0;function i(l){var u=n.call(l,a),d=l[a];try{l[a]=void 0;var h=!0}catch{}var p=r.call(l);return h&&(u?l[a]=d:delete l[a]),p}return TS=i,TS}var RS,MN;function Tve(){if(MN)return RS;MN=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return RS=n,RS}var _S,PN;function kd(){if(PN)return _S;PN=1;var e=Od(),t=Eve(),n=Tve(),r="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function l(u){return u==null?u===void 0?a:r:i&&i in Object(u)?t(u):n(u)}return _S=l,_S}var DS,NN;function hs(){if(NN)return DS;NN=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return DS=e,DS}var AS,IN;function j_(){if(IN)return AS;IN=1;var e=kd(),t=hs(),n="[object AsyncFunction]",r="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function l(u){if(!t(u))return!1;var d=e(u);return d==r||d==a||d==n||d==i}return AS=l,AS}var OS,LN;function E_(){if(LN)return OS;LN=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return OS=t,OS}var kS,zN;function sp(){if(zN)return kS;zN=1;var e=j_(),t=E_();function n(r){return r!=null&&t(r.length)&&!e(r)}return kS=n,kS}var MS,$N;function T_(){if($N)return MS;$N=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,a){var i=typeof r;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<a}return MS=n,MS}var PS,qN;function Fy(){if(qN)return PS;qN=1;var e=op(),t=sp(),n=T_(),r=hs();function a(i,l,u){if(!r(u))return!1;var d=typeof l;return(d=="number"?t(u)&&n(l,u.length):d=="string"&&l in u)?e(u[l],i):!1}return PS=a,PS}var NS,UN;function Rve(){if(UN)return NS;UN=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return NS=t,NS}var IS,BN;function _ve(){if(BN)return IS;BN=1;var e=Rve(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return IS=n,IS}var LS,HN;function vl(){if(HN)return LS;HN=1;function e(t){return t!=null&&typeof t=="object"}return LS=e,LS}var zS,FN;function lp(){if(FN)return zS;FN=1;var e=kd(),t=vl(),n="[object Symbol]";function r(a){return typeof a=="symbol"||t(a)&&e(a)==n}return zS=r,zS}var $S,VN;function Dve(){if(VN)return $S;VN=1;var e=_ve(),t=hs(),n=lp(),r=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(h){if(typeof h=="number")return h;if(n(h))return r;if(t(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=t(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=e(h);var m=i.test(h);return m||l.test(h)?u(h.slice(2),m?2:8):a.test(h)?r:+h}return $S=d,$S}var qS,WN;function l8(){if(WN)return qS;WN=1;var e=Dve(),t=1/0,n=17976931348623157e292;function r(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var i=a<0?-1:1;return i*n}return a===a?a:0}return qS=r,qS}var US,GN;function c8(){if(GN)return US;GN=1;var e=l8();function t(n){var r=e(n),a=r%1;return r===r?a?r-a:r:0}return US=t,US}var BS,YN;function Ave(){if(YN)return BS;YN=1;var e=o8(),t=Fy(),n=c8(),r=Math.ceil,a=Math.max;function i(l,u,d){(d?t(l,u,d):u===void 0)?u=1:u=a(n(u),0);var h=l==null?0:l.length;if(!h||u<1)return[];for(var p=0,m=0,g=Array(r(h/u));p<h;)g[m++]=e(l,p,p+=u);return g}return BS=i,BS}var Ove=Ave();const kve=Tn(Ove);function cp(e){return e&&e.ownerDocument||document}function Mve(e){var t=cp(e);return t&&t.defaultView||window}function Pve(e,t){return Mve(e).getComputedStyle(e,t)}var Nve=/([A-Z])/g;function Ive(e){return e.replace(Nve,"-$1").toLowerCase()}var Lve=/^ms-/;function Jm(e){return Ive(e).replace(Lve,"-ms-")}var zve=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function $ve(e){return!!(e&&zve.test(e))}function Bu(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(Jm(t))||Pve(e).getPropertyValue(Jm(t));Object.keys(t).forEach(function(a){var i=t[a];!i&&i!==0?e.style.removeProperty(Jm(a)):$ve(a)?r+=a+"("+i+") ":n+=Jm(a)+": "+i+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}function jh(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function qve(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function R_(e){return"window"in e&&e.window===e?e:qve(e)&&e.defaultView||!1}function u8(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function n(r,a){var i=R_(r);if(a===void 0)return i?i[e]:r[t];i?i.scrollTo(i[e],a):r[t]=a}return n}const d8=u8("pageXOffset"),f8=u8("pageYOffset");function ac(e){var t=cp(e),n={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return!r||!jh(r,e)||(e.getBoundingClientRect!==void 0&&(n=e.getBoundingClientRect()),n={top:n.top+f8(r)-(r.clientTop||0),left:n.left+d8(r)-(r.clientLeft||0),width:n.width,height:n.height}),n}var Uve=function(t){return!!t&&"offsetParent"in t};function Bve(e){for(var t=cp(e),n=e&&e.offsetParent;Uve(n)&&n.nodeName!=="HTML"&&Bu(n,"position")==="static";)n=n.offsetParent;return n||t.documentElement}var Hve=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function h8(e,t){var n={top:0,left:0},r;if(Bu(e,"position")==="fixed")r=e.getBoundingClientRect();else{var a=t||Bve(e);r=ac(e),Hve(a)!=="html"&&(n=ac(a));var i=String(Bu(a,"borderTopWidth")||0);n.top+=parseInt(i,10)-f8(a)||0;var l=String(Bu(a,"borderLeftWidth")||0);n.left+=parseInt(l,10)-d8(a)||0}var u=String(Bu(e,"marginTop")||0),d=String(Bu(e,"marginLeft")||0);return En({},r,{top:r.top-n.top-(parseInt(u,10)||0),left:r.left-n.left-(parseInt(d,10)||0)})}const __=!!(typeof window<"u"&&window.document&&window.document.createElement);var QN=new Date().getTime();function Fve(e){var t=new Date().getTime(),n=Math.max(0,16-(t-QN)),r=setTimeout(e,n);return QN=t,r}var Vve=["","webkit","moz","o","ms"],Wj="clearTimeout",Gj=Fve,KN=function(t,n){return t+(t?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};__&&Vve.some(function(e){var t=KN(e,"request");return t in window&&(Wj=KN(e,"cancel"),Gj=function(r){return window[t](r)}),!!Gj});var XN=function(t){typeof window[Wj]=="function"&&window[Wj](t)},p8=Gj,HS;function Wve(e,t){if(!HS){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;HS=function(i,l){return r.call(i,l)}}return HS(e,t)}var Gve=Function.prototype.bind.call(Function.prototype.call,[].slice);function Yve(e,t){return Gve(e.querySelectorAll(t))}var Yj=!1,Qj=!1;try{var FS={get passive(){return Yj=!0},get once(){return Qj=Yj=!0}};__&&(window.addEventListener("test",FS,FS),window.removeEventListener("test",FS,!0))}catch{}function Qve(e,t,n,r){if(r&&typeof r!="boolean"&&!Qj){var a=r.once,i=r.capture,l=n;!Qj&&a&&(l=n.__once||function u(d){this.removeEventListener(t,u,i),n.call(this,d)},n.__once=l),e.addEventListener(t,l,Yj?r:i)}e.addEventListener(t,n,r)}function Kve(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e},[e]),t}function ZN(e){const t=Kve(e);return b.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function JN(){return b.useState(null)}function Xve(){const e=b.useRef(!0),t=b.useRef(()=>e.current);return b.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function Zve(e){const t=Xve();return[e[0],b.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}var ha="top",vi="bottom",yi="right",pa="left",D_="auto",up=[ha,vi,yi,pa],cd="start",Eh="end",Jve="clippingParents",m8="viewport",If="popper",eye="reference",e4=up.reduce(function(e,t){return e.concat([t+"-"+cd,t+"-"+Eh])},[]),A_=[].concat(up,[D_]).reduce(function(e,t){return e.concat([t,t+"-"+cd,t+"-"+Eh])},[]),tye="beforeRead",nye="read",rye="afterRead",aye="beforeMain",iye="main",oye="afterMain",sye="beforeWrite",lye="write",cye="afterWrite",uye=[tye,nye,rye,aye,iye,oye,sye,lye,cye];function mo(e){return e.split("-")[0]}function Ba(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function jc(e){var t=Ba(e).Element;return e instanceof t||e instanceof Element}function go(e){var t=Ba(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function O_(e){if(typeof ShadowRoot>"u")return!1;var t=Ba(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var ic=Math.max,fv=Math.min,ud=Math.round;function Kj(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function g8(){return!/^((?!chrome|android).)*safari/i.test(Kj())}function dd(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),a=1,i=1;t&&go(e)&&(a=e.offsetWidth>0&&ud(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&ud(r.height)/e.offsetHeight||1);var l=jc(e)?Ba(e):window,u=l.visualViewport,d=!g8()&&n,h=(r.left+(d&&u?u.offsetLeft:0))/a,p=(r.top+(d&&u?u.offsetTop:0))/i,m=r.width/a,g=r.height/i;return{width:m,height:g,top:p,right:h+m,bottom:p+g,left:h,x:h,y:p}}function k_(e){var t=dd(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function v8(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&O_(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function sl(e){return e?(e.nodeName||"").toLowerCase():null}function ns(e){return Ba(e).getComputedStyle(e)}function dye(e){return["table","td","th"].indexOf(sl(e))>=0}function yl(e){return((jc(e)?e.ownerDocument:e.document)||window.document).documentElement}function Vy(e){return sl(e)==="html"?e:e.assignedSlot||e.parentNode||(O_(e)?e.host:null)||yl(e)}function t4(e){return!go(e)||ns(e).position==="fixed"?null:e.offsetParent}function fye(e){var t=/firefox/i.test(Kj()),n=/Trident/i.test(Kj());if(n&&go(e)){var r=ns(e);if(r.position==="fixed")return null}var a=Vy(e);for(O_(a)&&(a=a.host);go(a)&&["html","body"].indexOf(sl(a))<0;){var i=ns(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function dp(e){for(var t=Ba(e),n=t4(e);n&&dye(n)&&ns(n).position==="static";)n=t4(n);return n&&(sl(n)==="html"||sl(n)==="body"&&ns(n).position==="static")?t:n||fye(e)||t}function M_(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Qf(e,t,n){return ic(e,fv(t,n))}function hye(e,t,n){var r=Qf(e,t,n);return r>n?n:r}function y8(){return{top:0,right:0,bottom:0,left:0}}function b8(e){return Object.assign({},y8(),e)}function x8(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var pye=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,b8(typeof t!="number"?t:x8(t,up))};function mye(e){var t,n=e.state,r=e.name,a=e.options,i=n.elements.arrow,l=n.modifiersData.popperOffsets,u=mo(n.placement),d=M_(u),h=[pa,yi].indexOf(u)>=0,p=h?"height":"width";if(!(!i||!l)){var m=pye(a.padding,n),g=k_(i),y=d==="y"?ha:pa,S=d==="y"?vi:yi,x=n.rects.reference[p]+n.rects.reference[d]-l[d]-n.rects.popper[p],C=l[d]-n.rects.reference[d],T=dp(i),j=T?d==="y"?T.clientHeight||0:T.clientWidth||0:0,R=x/2-C/2,_=m[y],A=j-g[p]-m[S],k=j/2-g[p]/2+R,D=Qf(_,k,A),O=d;n.modifiersData[r]=(t={},t[O]=D,t.centerOffset=D-k,t)}}function gye(e){var t=e.state,n=e.options,r=n.element,a=r===void 0?"[data-popper-arrow]":r;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||v8(t.elements.popper,a)&&(t.elements.arrow=a))}const vye={name:"arrow",enabled:!0,phase:"main",fn:mye,effect:gye,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function fd(e){return e.split("-")[1]}var yye={top:"auto",right:"auto",bottom:"auto",left:"auto"};function bye(e,t){var n=e.x,r=e.y,a=t.devicePixelRatio||1;return{x:ud(n*a)/a||0,y:ud(r*a)/a||0}}function n4(e){var t,n=e.popper,r=e.popperRect,a=e.placement,i=e.variation,l=e.offsets,u=e.position,d=e.gpuAcceleration,h=e.adaptive,p=e.roundOffsets,m=e.isFixed,g=l.x,y=g===void 0?0:g,S=l.y,x=S===void 0?0:S,C=typeof p=="function"?p({x:y,y:x}):{x:y,y:x};y=C.x,x=C.y;var T=l.hasOwnProperty("x"),j=l.hasOwnProperty("y"),R=pa,_=ha,A=window;if(h){var k=dp(n),D="clientHeight",O="clientWidth";if(k===Ba(n)&&(k=yl(n),ns(k).position!=="static"&&u==="absolute"&&(D="scrollHeight",O="scrollWidth")),k=k,a===ha||(a===pa||a===yi)&&i===Eh){_=vi;var M=m&&k===A&&A.visualViewport?A.visualViewport.height:k[D];x-=M-r.height,x*=d?1:-1}if(a===pa||(a===ha||a===vi)&&i===Eh){R=yi;var I=m&&k===A&&A.visualViewport?A.visualViewport.width:k[O];y-=I-r.width,y*=d?1:-1}}var L=Object.assign({position:u},h&&yye),V=p===!0?bye({x:y,y:x},Ba(n)):{x:y,y:x};if(y=V.x,x=V.y,d){var q;return Object.assign({},L,(q={},q[_]=j?"0":"",q[R]=T?"0":"",q.transform=(A.devicePixelRatio||1)<=1?"translate("+y+"px, "+x+"px)":"translate3d("+y+"px, "+x+"px, 0)",q))}return Object.assign({},L,(t={},t[_]=j?x+"px":"",t[R]=T?y+"px":"",t.transform="",t))}function xye(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=r===void 0?!0:r,i=n.adaptive,l=i===void 0?!0:i,u=n.roundOffsets,d=u===void 0?!0:u,h={placement:mo(t.placement),variation:fd(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,n4(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:d})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,n4(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Sye={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:xye,data:{}};var eg={passive:!0};function wye(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,i=a===void 0?!0:a,l=r.resize,u=l===void 0?!0:l,d=Ba(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&h.forEach(function(p){p.addEventListener("scroll",n.update,eg)}),u&&d.addEventListener("resize",n.update,eg),function(){i&&h.forEach(function(p){p.removeEventListener("scroll",n.update,eg)}),u&&d.removeEventListener("resize",n.update,eg)}}const Cye={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:wye,data:{}};var jye={left:"right",right:"left",bottom:"top",top:"bottom"};function jg(e){return e.replace(/left|right|bottom|top/g,function(t){return jye[t]})}var Eye={start:"end",end:"start"};function r4(e){return e.replace(/start|end/g,function(t){return Eye[t]})}function P_(e){var t=Ba(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function N_(e){return dd(yl(e)).left+P_(e).scrollLeft}function Tye(e,t){var n=Ba(e),r=yl(e),a=n.visualViewport,i=r.clientWidth,l=r.clientHeight,u=0,d=0;if(a){i=a.width,l=a.height;var h=g8();(h||!h&&t==="fixed")&&(u=a.offsetLeft,d=a.offsetTop)}return{width:i,height:l,x:u+N_(e),y:d}}function Rye(e){var t,n=yl(e),r=P_(e),a=(t=e.ownerDocument)==null?void 0:t.body,i=ic(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),l=ic(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),u=-r.scrollLeft+N_(e),d=-r.scrollTop;return ns(a||n).direction==="rtl"&&(u+=ic(n.clientWidth,a?a.clientWidth:0)-i),{width:i,height:l,x:u,y:d}}function I_(e){var t=ns(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function S8(e){return["html","body","#document"].indexOf(sl(e))>=0?e.ownerDocument.body:go(e)&&I_(e)?e:S8(Vy(e))}function Kf(e,t){var n;t===void 0&&(t=[]);var r=S8(e),a=r===((n=e.ownerDocument)==null?void 0:n.body),i=Ba(r),l=a?[i].concat(i.visualViewport||[],I_(r)?r:[]):r,u=t.concat(l);return a?u:u.concat(Kf(Vy(l)))}function Xj(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function _ye(e,t){var n=dd(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function a4(e,t,n){return t===m8?Xj(Tye(e,n)):jc(t)?_ye(t,n):Xj(Rye(yl(e)))}function Dye(e){var t=Kf(Vy(e)),n=["absolute","fixed"].indexOf(ns(e).position)>=0,r=n&&go(e)?dp(e):e;return jc(r)?t.filter(function(a){return jc(a)&&v8(a,r)&&sl(a)!=="body"}):[]}function Aye(e,t,n,r){var a=t==="clippingParents"?Dye(e):[].concat(t),i=[].concat(a,[n]),l=i[0],u=i.reduce(function(d,h){var p=a4(e,h,r);return d.top=ic(p.top,d.top),d.right=fv(p.right,d.right),d.bottom=fv(p.bottom,d.bottom),d.left=ic(p.left,d.left),d},a4(e,l,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function w8(e){var t=e.reference,n=e.element,r=e.placement,a=r?mo(r):null,i=r?fd(r):null,l=t.x+t.width/2-n.width/2,u=t.y+t.height/2-n.height/2,d;switch(a){case ha:d={x:l,y:t.y-n.height};break;case vi:d={x:l,y:t.y+t.height};break;case yi:d={x:t.x+t.width,y:u};break;case pa:d={x:t.x-n.width,y:u};break;default:d={x:t.x,y:t.y}}var h=a?M_(a):null;if(h!=null){var p=h==="y"?"height":"width";switch(i){case cd:d[h]=d[h]-(t[p]/2-n[p]/2);break;case Eh:d[h]=d[h]+(t[p]/2-n[p]/2);break}}return d}function Th(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=r===void 0?e.placement:r,i=n.strategy,l=i===void 0?e.strategy:i,u=n.boundary,d=u===void 0?Jve:u,h=n.rootBoundary,p=h===void 0?m8:h,m=n.elementContext,g=m===void 0?If:m,y=n.altBoundary,S=y===void 0?!1:y,x=n.padding,C=x===void 0?0:x,T=b8(typeof C!="number"?C:x8(C,up)),j=g===If?eye:If,R=e.rects.popper,_=e.elements[S?j:g],A=Aye(jc(_)?_:_.contextElement||yl(e.elements.popper),d,p,l),k=dd(e.elements.reference),D=w8({reference:k,element:R,placement:a}),O=Xj(Object.assign({},R,D)),M=g===If?O:k,I={top:A.top-M.top+T.top,bottom:M.bottom-A.bottom+T.bottom,left:A.left-M.left+T.left,right:M.right-A.right+T.right},L=e.modifiersData.offset;if(g===If&&L){var V=L[a];Object.keys(I).forEach(function(q){var U=[yi,vi].indexOf(q)>=0?1:-1,W=[ha,vi].indexOf(q)>=0?"y":"x";I[q]+=V[W]*U})}return I}function Oye(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=n.boundary,i=n.rootBoundary,l=n.padding,u=n.flipVariations,d=n.allowedAutoPlacements,h=d===void 0?A_:d,p=fd(r),m=p?u?e4:e4.filter(function(S){return fd(S)===p}):up,g=m.filter(function(S){return h.indexOf(S)>=0});g.length===0&&(g=m);var y=g.reduce(function(S,x){return S[x]=Th(e,{placement:x,boundary:a,rootBoundary:i,padding:l})[mo(x)],S},{});return Object.keys(y).sort(function(S,x){return y[S]-y[x]})}function kye(e){if(mo(e)===D_)return[];var t=jg(e);return[r4(e),t,r4(t)]}function Mye(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,i=a===void 0?!0:a,l=n.altAxis,u=l===void 0?!0:l,d=n.fallbackPlacements,h=n.padding,p=n.boundary,m=n.rootBoundary,g=n.altBoundary,y=n.flipVariations,S=y===void 0?!0:y,x=n.allowedAutoPlacements,C=t.options.placement,T=mo(C),j=T===C,R=d||(j||!S?[jg(C)]:kye(C)),_=[C].concat(R).reduce(function(J,re){return J.concat(mo(re)===D_?Oye(t,{placement:re,boundary:p,rootBoundary:m,padding:h,flipVariations:S,allowedAutoPlacements:x}):re)},[]),A=t.rects.reference,k=t.rects.popper,D=new Map,O=!0,M=_[0],I=0;I<_.length;I++){var L=_[I],V=mo(L),q=fd(L)===cd,U=[ha,vi].indexOf(V)>=0,W=U?"width":"height",N=Th(t,{placement:L,boundary:p,rootBoundary:m,altBoundary:g,padding:h}),z=U?q?yi:pa:q?vi:ha;A[W]>k[W]&&(z=jg(z));var $=jg(z),G=[];if(i&&G.push(N[V]<=0),u&&G.push(N[z]<=0,N[$]<=0),G.every(function(J){return J})){M=L,O=!1;break}D.set(L,G)}if(O)for(var X=S?3:1,H=function(re){var ue=_.find(function(Ee){var Re=D.get(Ee);if(Re)return Re.slice(0,re).every(function(Se){return Se})});if(ue)return M=ue,"break"},F=X;F>0;F--){var Q=H(F);if(Q==="break")break}t.placement!==M&&(t.modifiersData[r]._skip=!0,t.placement=M,t.reset=!0)}}const Pye={name:"flip",enabled:!0,phase:"main",fn:Mye,requiresIfExists:["offset"],data:{_skip:!1}};function i4(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function o4(e){return[ha,yi,vi,pa].some(function(t){return e[t]>=0})}function Nye(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,l=Th(t,{elementContext:"reference"}),u=Th(t,{altBoundary:!0}),d=i4(l,r),h=i4(u,a,i),p=o4(d),m=o4(h);t.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:h,isReferenceHidden:p,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":m})}const Iye={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Nye};function Lye(e,t,n){var r=mo(e),a=[pa,ha].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,l=i[0],u=i[1];return l=l||0,u=(u||0)*a,[pa,yi].indexOf(r)>=0?{x:u,y:l}:{x:l,y:u}}function zye(e){var t=e.state,n=e.options,r=e.name,a=n.offset,i=a===void 0?[0,0]:a,l=A_.reduce(function(p,m){return p[m]=Lye(m,t.rects,i),p},{}),u=l[t.placement],d=u.x,h=u.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=h),t.modifiersData[r]=l}const $ye={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:zye};function qye(e){var t=e.state,n=e.name;t.modifiersData[n]=w8({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const Uye={name:"popperOffsets",enabled:!0,phase:"read",fn:qye,data:{}};function Bye(e){return e==="x"?"y":"x"}function Hye(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,i=a===void 0?!0:a,l=n.altAxis,u=l===void 0?!1:l,d=n.boundary,h=n.rootBoundary,p=n.altBoundary,m=n.padding,g=n.tether,y=g===void 0?!0:g,S=n.tetherOffset,x=S===void 0?0:S,C=Th(t,{boundary:d,rootBoundary:h,padding:m,altBoundary:p}),T=mo(t.placement),j=fd(t.placement),R=!j,_=M_(T),A=Bye(_),k=t.modifiersData.popperOffsets,D=t.rects.reference,O=t.rects.popper,M=typeof x=="function"?x(Object.assign({},t.rects,{placement:t.placement})):x,I=typeof M=="number"?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),L=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,V={x:0,y:0};if(k){if(i){var q,U=_==="y"?ha:pa,W=_==="y"?vi:yi,N=_==="y"?"height":"width",z=k[_],$=z+C[U],G=z-C[W],X=y?-O[N]/2:0,H=j===cd?D[N]:O[N],F=j===cd?-O[N]:-D[N],Q=t.elements.arrow,J=y&&Q?k_(Q):{width:0,height:0},re=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:y8(),ue=re[U],Ee=re[W],Re=Qf(0,D[N],J[N]),Se=R?D[N]/2-X-Re-ue-I.mainAxis:H-Re-ue-I.mainAxis,Ge=R?-D[N]/2+X+Re+Ee+I.mainAxis:F+Re+Ee+I.mainAxis,Ze=t.elements.arrow&&dp(t.elements.arrow),Fe=Ze?_==="y"?Ze.clientTop||0:Ze.clientLeft||0:0,ze=(q=L?.[_])!=null?q:0,pt=z+Se-ze-Fe,Xe=z+Ge-ze,Ut=Qf(y?fv($,pt):$,z,y?ic(G,Xe):G);k[_]=Ut,V[_]=Ut-z}if(u){var ot,Dt=_==="x"?ha:pa,Tt=_==="x"?vi:yi,Ve=k[A],dt=A==="y"?"height":"width",ct=Ve+C[Dt],ft=Ve-C[Tt],lt=[ha,pa].indexOf(T)!==-1,vt=(ot=L?.[A])!=null?ot:0,dr=lt?ct:Ve-D[dt]-O[dt]-vt+I.altAxis,Ht=lt?Ve+D[dt]+O[dt]-vt-I.altAxis:ft,At=y&&lt?hye(dr,Ve,Ht):Qf(y?dr:ct,Ve,y?Ht:ft);k[A]=At,V[A]=At-Ve}t.modifiersData[r]=V}}const Fye={name:"preventOverflow",enabled:!0,phase:"main",fn:Hye,requiresIfExists:["offset"]};function Vye(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Wye(e){return e===Ba(e)||!go(e)?P_(e):Vye(e)}function Gye(e){var t=e.getBoundingClientRect(),n=ud(t.width)/e.offsetWidth||1,r=ud(t.height)/e.offsetHeight||1;return n!==1||r!==1}function Yye(e,t,n){n===void 0&&(n=!1);var r=go(t),a=go(t)&&Gye(t),i=yl(t),l=dd(e,a,n),u={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!n)&&((sl(t)!=="body"||I_(i))&&(u=Wye(t)),go(t)?(d=dd(t,!0),d.x+=t.clientLeft,d.y+=t.clientTop):i&&(d.x=N_(i))),{x:l.left+u.scrollLeft-d.x,y:l.top+u.scrollTop-d.y,width:l.width,height:l.height}}function Qye(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function a(i){n.add(i.name);var l=[].concat(i.requires||[],i.requiresIfExists||[]);l.forEach(function(u){if(!n.has(u)){var d=t.get(u);d&&a(d)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||a(i)}),r}function Kye(e){var t=Qye(e);return uye.reduce(function(n,r){return n.concat(t.filter(function(a){return a.phase===r}))},[])}function Xye(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Zye(e){var t=e.reduce(function(n,r){var a=n[r.name];return n[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var s4={placement:"bottom",modifiers:[],strategy:"absolute"};function l4(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Jye(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,a=t.defaultOptions,i=a===void 0?s4:a;return function(u,d,h){h===void 0&&(h=i);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},s4,i),modifiersData:{},elements:{reference:u,popper:d},attributes:{},styles:{}},m=[],g=!1,y={state:p,setOptions:function(T){var j=typeof T=="function"?T(p.options):T;x(),p.options=Object.assign({},i,p.options,j),p.scrollParents={reference:jc(u)?Kf(u):u.contextElement?Kf(u.contextElement):[],popper:Kf(d)};var R=Kye(Zye([].concat(r,p.options.modifiers)));return p.orderedModifiers=R.filter(function(_){return _.enabled}),S(),y.update()},forceUpdate:function(){if(!g){var T=p.elements,j=T.reference,R=T.popper;if(l4(j,R)){p.rects={reference:Yye(j,dp(R),p.options.strategy==="fixed"),popper:k_(R)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(I){return p.modifiersData[I.name]=Object.assign({},I.data)});for(var _=0;_<p.orderedModifiers.length;_++){if(p.reset===!0){p.reset=!1,_=-1;continue}var A=p.orderedModifiers[_],k=A.fn,D=A.options,O=D===void 0?{}:D,M=A.name;typeof k=="function"&&(p=k({state:p,options:O,name:M,instance:y})||p)}}}},update:Xye(function(){return new Promise(function(C){y.forceUpdate(),C(p)})}),destroy:function(){x(),g=!0}};if(!l4(u,d))return y;y.setOptions(h).then(function(C){!g&&h.onFirstUpdate&&h.onFirstUpdate(C)});function S(){p.orderedModifiers.forEach(function(C){var T=C.name,j=C.options,R=j===void 0?{}:j,_=C.effect;if(typeof _=="function"){var A=_({state:p,name:T,instance:y,options:R}),k=function(){};m.push(A||k)}})}function x(){m.forEach(function(C){return C()}),m=[]}return y}}var e0e=Jye({defaultModifiers:[Iye,Uye,Sye,Cye,$ye,Pye,Fye,vye]}),c4=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},t0e={name:"applyStyles",enabled:!1},n0e={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var n=t.state;return function(){var r=n.elements,a=r.reference,i=r.popper;if("removeAttribute"in a){var l=(a.getAttribute("aria-describedby")||"").split(",").filter(function(u){return u.trim()!==i.id});l.length?a.setAttribute("aria-describedby",l.join(",")):a.removeAttribute("aria-describedby")}}},fn:function(t){var n,r=t.state,a=r.elements,i=a.popper,l=a.reference,u=(n=i.getAttribute("role"))==null?void 0:n.toLowerCase();if(i.id&&u==="tooltip"&&"setAttribute"in l){var d=l.getAttribute("aria-describedby");if(d&&d.split(",").indexOf(i.id)!==-1)return;l.setAttribute("aria-describedby",d?d+","+i.id:i.id)}}},r0e=[];function a0e(e,t,n){var r=n===void 0?{}:n,a=r.enabled,i=a===void 0?!0:a,l=r.placement,u=l===void 0?"bottom":l,d=r.strategy,h=d===void 0?"absolute":d,p=r.modifiers,m=p===void 0?r0e:p,g=Dc(r,["enabled","placement","strategy","modifiers"]),y=b.useRef(),S=b.useCallback(function(){var _;(_=y.current)==null||_.update()},[]),x=b.useCallback(function(){var _;(_=y.current)==null||_.forceUpdate()},[]),C=Zve(b.useState({placement:u,update:S,forceUpdate:x,attributes:{},styles:{popper:c4(h),arrow:{}}})),T=C[0],j=C[1],R=b.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(A){var k=A.state,D={},O={};Object.keys(k.elements).forEach(function(M){D[M]=k.styles[M],O[M]=k.attributes[M]}),j({state:k,styles:D,attributes:O,update:S,forceUpdate:x,placement:k.placement})}}},[S,x,j]);return b.useEffect(function(){!y.current||!i||y.current.setOptions({placement:u,strategy:h,modifiers:[].concat(m,[R,t0e])})},[h,u,R,i]),b.useEffect(function(){if(!(!i||e==null||t==null))return y.current=e0e(e,t,En({},g,{placement:u,strategy:h,modifiers:[].concat(m,[n0e,R])})),function(){y.current!=null&&(y.current.destroy(),y.current=void 0,j(function(_){return En({},_,{attributes:{},styles:{popper:c4(h)}})}))}},[i,e,t]),T}function i0e(e,t,n,r){var a=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,a),n.__once&&e.removeEventListener(t,n.__once,a)}function Hf(e,t,n,r){return Qve(e,t,n,r),function(){i0e(e,t,n,r)}}var VS,u4;function o0e(){if(u4)return VS;u4=1;var e=function(){};return VS=e,VS}var s0e=o0e();const l0e=Tn(s0e);function c0e(e){return e&&"setState"in e?Kl.findDOMNode(e):e??null}const u0e=(function(e){return cp(c0e(e))});var d0e=27,d4=function(){};function f0e(e){return e.button===0}function h0e(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var f4=function(t){return t&&("current"in t?t.current:t)};function p0e(e,t,n){var r=n===void 0?{}:n,a=r.disabled,i=r.clickTrigger,l=i===void 0?"click":i,u=b.useRef(!1),d=t||d4,h=b.useCallback(function(g){var y,S=f4(e);l0e(!!S,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),u.current=!S||h0e(g)||!f0e(g)||!!jh(S,(y=g.composedPath==null?void 0:g.composedPath()[0])!=null?y:g.target)},[e]),p=ZN(function(g){u.current||d(g)}),m=ZN(function(g){g.keyCode===d0e&&d(g)});b.useEffect(function(){if(!(a||e==null)){var g=window.event,y=u0e(f4(e)),S=Hf(y,l,h,!0),x=Hf(y,l,function(j){if(j===g){g=void 0;return}p(j)}),C=Hf(y,"keyup",function(j){if(j===g){g=void 0;return}m(j)}),T=[];return"ontouchstart"in y.documentElement&&(T=[].slice.call(y.body.children).map(function(j){return Hf(j,"mousemove",d4)})),function(){S(),x(),C(),T.forEach(function(j){return j()})}}},[e,a,l,h,p,m])}function m0e(e){var t={};return Array.isArray(e)?(e?.forEach(function(n){t[n.name]=n}),t):e||t}function g0e(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function v0e(e){var t,n,r,a,i=e.enabled,l=e.enableEvents,u=e.placement,d=e.flip,h=e.offset,p=e.fixed,m=e.containerPadding,g=e.arrowElement,y=e.popperConfig,S=y===void 0?{}:y,x=m0e(S.modifiers);return En({},S,{placement:u,enabled:i,strategy:p?"fixed":S.strategy,modifiers:g0e(En({},x,{eventListeners:{enabled:l},preventOverflow:En({},x.preventOverflow,{options:m?En({padding:m},(t=x.preventOverflow)==null?void 0:t.options):(n=x.preventOverflow)==null?void 0:n.options}),offset:{options:En({offset:h},(r=x.offset)==null?void 0:r.options)},arrow:En({},x.arrow,{enabled:!!g,options:En({},(a=x.arrow)==null?void 0:a.options,{element:g})}),flip:En({enabled:!!d},x.flip)}))})}var tg;function L_(e){if((!tg&&tg!==0||e)&&__){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),tg=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return tg}var WS=function(t){var n;return typeof document>"u"?null:t==null?cp().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(n=t)!=null&&n.nodeType&&t||null)};function h4(e,t){var n=b.useState(function(){return WS(e)}),r=n[0],a=n[1];if(!r){var i=WS(e);i&&a(i)}return b.useEffect(function(){},[t,r]),b.useEffect(function(){var l=WS(e);l!==r&&a(l)},[e,r]),r}const p4=e=>!e||typeof e=="function"?e:t=>{e.current=t};function y0e(e,t){const n=p4(e),r=p4(t);return a=>{n&&n(a),r&&r(a)}}function b0e(e,t){return b.useMemo(()=>y0e(e,t),[e,t])}var z_=te.forwardRef(function(e,t){var n=e.flip,r=e.offset,a=e.placement,i=e.containerPadding,l=i===void 0?5:i,u=e.popperConfig,d=u===void 0?{}:u,h=e.transition,p=JN(),m=p[0],g=p[1],y=JN(),S=y[0],x=y[1],C=b0e(g,t),T=h4(e.container),j=h4(e.target),R=b.useState(!e.show),_=R[0],A=R[1],k=a0e(j,m,v0e({placement:a,enableEvents:!!e.show,containerPadding:l||5,flip:n,offset:r,arrowElement:S,popperConfig:d})),D=k.styles,O=k.attributes,M=Dc(k,["styles","attributes"]);e.show?_&&A(!1):!e.transition&&!_&&A(!0);var I=function(){A(!0),e.onExited&&e.onExited.apply(e,arguments)},L=e.show||h&&!_;if(p0e(m,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!L)return null;var V=e.children(En({},M,{show:!!e.show,props:En({},O.popper,{style:D.popper,ref:C}),arrowProps:En({},O.arrow,{style:D.arrow,ref:x})}));if(h){var q=e.onExit,U=e.onExiting,W=e.onEnter,N=e.onEntering,z=e.onEntered;V=te.createElement(h,{in:e.show,appear:!0,onExit:q,onExiting:U,onExited:I,onEnter:W,onEntering:N,onEntered:z},V)}return T?Kl.createPortal(V,T):null});z_.displayName="Overlay";z_.propTypes={show:De.bool,placement:De.oneOf(A_),target:De.any,container:De.any,flip:De.bool,children:De.func.isRequired,containerPadding:De.number,popperConfig:De.object,rootClose:De.bool,rootCloseEvent:De.oneOf(["click","mousedown"]),rootCloseDisabled:De.bool,onHide:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];if(t.rootClose){var i;return(i=De.func).isRequired.apply(i,[t].concat(r))}return De.func.apply(De,[t].concat(r))},transition:De.elementType,onEnter:De.func,onEntering:De.func,onEntered:De.func,onExit:De.func,onExiting:De.func,onExited:De.func};var GS,m4;function x0e(){if(m4)return GS;m4=1;function e(){this.__data__=[],this.size=0}return GS=e,GS}var YS,g4;function Wy(){if(g4)return YS;g4=1;var e=op();function t(n,r){for(var a=n.length;a--;)if(e(n[a][0],r))return a;return-1}return YS=t,YS}var QS,v4;function S0e(){if(v4)return QS;v4=1;var e=Wy(),t=Array.prototype,n=t.splice;function r(a){var i=this.__data__,l=e(i,a);if(l<0)return!1;var u=i.length-1;return l==u?i.pop():n.call(i,l,1),--this.size,!0}return QS=r,QS}var KS,y4;function w0e(){if(y4)return KS;y4=1;var e=Wy();function t(n){var r=this.__data__,a=e(r,n);return a<0?void 0:r[a][1]}return KS=t,KS}var XS,b4;function C0e(){if(b4)return XS;b4=1;var e=Wy();function t(n){return e(this.__data__,n)>-1}return XS=t,XS}var ZS,x4;function j0e(){if(x4)return ZS;x4=1;var e=Wy();function t(n,r){var a=this.__data__,i=e(a,n);return i<0?(++this.size,a.push([n,r])):a[i][1]=r,this}return ZS=t,ZS}var JS,S4;function Gy(){if(S4)return JS;S4=1;var e=x0e(),t=S0e(),n=w0e(),r=C0e(),a=j0e();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,JS=i,JS}var e1,w4;function E0e(){if(w4)return e1;w4=1;var e=Gy();function t(){this.__data__=new e,this.size=0}return e1=t,e1}var t1,C4;function T0e(){if(C4)return t1;C4=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return t1=e,t1}var n1,j4;function R0e(){if(j4)return n1;j4=1;function e(t){return this.__data__.get(t)}return n1=e,n1}var r1,E4;function _0e(){if(E4)return r1;E4=1;function e(t){return this.__data__.has(t)}return r1=e,r1}var a1,T4;function D0e(){if(T4)return a1;T4=1;var e=jo(),t=e["__core-js_shared__"];return a1=t,a1}var i1,R4;function A0e(){if(R4)return i1;R4=1;var e=D0e(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return i1=n,i1}var o1,_4;function C8(){if(_4)return o1;_4=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return o1=n,o1}var s1,D4;function O0e(){if(D4)return s1;D4=1;var e=j_(),t=A0e(),n=hs(),r=C8(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,h=u.hasOwnProperty,p=RegExp("^"+d.call(h).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!n(g)||t(g))return!1;var y=e(g)?p:i;return y.test(r(g))}return s1=m,s1}var l1,A4;function k0e(){if(A4)return l1;A4=1;function e(t,n){return t?.[n]}return l1=e,l1}var c1,O4;function Bc(){if(O4)return c1;O4=1;var e=O0e(),t=k0e();function n(r,a){var i=t(r,a);return e(i)?i:void 0}return c1=n,c1}var u1,k4;function $_(){if(k4)return u1;k4=1;var e=Bc(),t=jo(),n=e(t,"Map");return u1=n,u1}var d1,M4;function Yy(){if(M4)return d1;M4=1;var e=Bc(),t=e(Object,"create");return d1=t,d1}var f1,P4;function M0e(){if(P4)return f1;P4=1;var e=Yy();function t(){this.__data__=e?e(null):{},this.size=0}return f1=t,f1}var h1,N4;function P0e(){if(N4)return h1;N4=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return h1=e,h1}var p1,I4;function N0e(){if(I4)return p1;I4=1;var e=Yy(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function a(i){var l=this.__data__;if(e){var u=l[i];return u===t?void 0:u}return r.call(l,i)?l[i]:void 0}return p1=a,p1}var m1,L4;function I0e(){if(L4)return m1;L4=1;var e=Yy(),t=Object.prototype,n=t.hasOwnProperty;function r(a){var i=this.__data__;return e?i[a]!==void 0:n.call(i,a)}return m1=r,m1}var g1,z4;function L0e(){if(z4)return g1;z4=1;var e=Yy(),t="__lodash_hash_undefined__";function n(r,a){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=e&&a===void 0?t:a,this}return g1=n,g1}var v1,$4;function z0e(){if($4)return v1;$4=1;var e=M0e(),t=P0e(),n=N0e(),r=I0e(),a=L0e();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,v1=i,v1}var y1,q4;function $0e(){if(q4)return y1;q4=1;var e=z0e(),t=Gy(),n=$_();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return y1=r,y1}var b1,U4;function q0e(){if(U4)return b1;U4=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return b1=e,b1}var x1,B4;function Qy(){if(B4)return x1;B4=1;var e=q0e();function t(n,r){var a=n.__data__;return e(r)?a[typeof r=="string"?"string":"hash"]:a.map}return x1=t,x1}var S1,H4;function U0e(){if(H4)return S1;H4=1;var e=Qy();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return S1=t,S1}var w1,F4;function B0e(){if(F4)return w1;F4=1;var e=Qy();function t(n){return e(this,n).get(n)}return w1=t,w1}var C1,V4;function H0e(){if(V4)return C1;V4=1;var e=Qy();function t(n){return e(this,n).has(n)}return C1=t,C1}var j1,W4;function F0e(){if(W4)return j1;W4=1;var e=Qy();function t(n,r){var a=e(this,n),i=a.size;return a.set(n,r),this.size+=a.size==i?0:1,this}return j1=t,j1}var E1,G4;function q_(){if(G4)return E1;G4=1;var e=$0e(),t=U0e(),n=B0e(),r=H0e(),a=F0e();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,E1=i,E1}var T1,Y4;function V0e(){if(Y4)return T1;Y4=1;var e=Gy(),t=$_(),n=q_(),r=200;function a(i,l){var u=this.__data__;if(u instanceof e){var d=u.__data__;if(!t||d.length<r-1)return d.push([i,l]),this.size=++u.size,this;u=this.__data__=new n(d)}return u.set(i,l),this.size=u.size,this}return T1=a,T1}var R1,Q4;function U_(){if(Q4)return R1;Q4=1;var e=Gy(),t=E0e(),n=T0e(),r=R0e(),a=_0e(),i=V0e();function l(u){var d=this.__data__=new e(u);this.size=d.size}return l.prototype.clear=t,l.prototype.delete=n,l.prototype.get=r,l.prototype.has=a,l.prototype.set=i,R1=l,R1}var _1,K4;function W0e(){if(K4)return _1;K4=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return _1=t,_1}var D1,X4;function G0e(){if(X4)return D1;X4=1;function e(t){return this.__data__.has(t)}return D1=e,D1}var A1,Z4;function Y0e(){if(Z4)return A1;Z4=1;var e=q_(),t=W0e(),n=G0e();function r(a){var i=-1,l=a==null?0:a.length;for(this.__data__=new e;++i<l;)this.add(a[i])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,A1=r,A1}var O1,J4;function Q0e(){if(J4)return O1;J4=1;function e(t,n){for(var r=-1,a=t==null?0:t.length;++r<a;)if(n(t[r],r,t))return!0;return!1}return O1=e,O1}var k1,e3;function K0e(){if(e3)return k1;e3=1;function e(t,n){return t.has(n)}return k1=e,k1}var M1,t3;function j8(){if(t3)return M1;t3=1;var e=Y0e(),t=Q0e(),n=K0e(),r=1,a=2;function i(l,u,d,h,p,m){var g=d&r,y=l.length,S=u.length;if(y!=S&&!(g&&S>y))return!1;var x=m.get(l),C=m.get(u);if(x&&C)return x==u&&C==l;var T=-1,j=!0,R=d&a?new e:void 0;for(m.set(l,u),m.set(u,l);++T<y;){var _=l[T],A=u[T];if(h)var k=g?h(A,_,T,u,l,m):h(_,A,T,l,u,m);if(k!==void 0){if(k)continue;j=!1;break}if(R){if(!t(u,function(D,O){if(!n(R,O)&&(_===D||p(_,D,d,h,m)))return R.push(O)})){j=!1;break}}else if(!(_===A||p(_,A,d,h,m))){j=!1;break}}return m.delete(l),m.delete(u),j}return M1=i,M1}var P1,n3;function E8(){if(n3)return P1;n3=1;var e=jo(),t=e.Uint8Array;return P1=t,P1}var N1,r3;function X0e(){if(r3)return N1;r3=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(a,i){r[++n]=[i,a]}),r}return N1=e,N1}var I1,a3;function Z0e(){if(a3)return I1;a3=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(a){r[++n]=a}),r}return I1=e,I1}var L1,i3;function J0e(){if(i3)return L1;i3=1;var e=Od(),t=E8(),n=op(),r=j8(),a=X0e(),i=Z0e(),l=1,u=2,d="[object Boolean]",h="[object Date]",p="[object Error]",m="[object Map]",g="[object Number]",y="[object RegExp]",S="[object Set]",x="[object String]",C="[object Symbol]",T="[object ArrayBuffer]",j="[object DataView]",R=e?e.prototype:void 0,_=R?R.valueOf:void 0;function A(k,D,O,M,I,L,V){switch(O){case j:if(k.byteLength!=D.byteLength||k.byteOffset!=D.byteOffset)return!1;k=k.buffer,D=D.buffer;case T:return!(k.byteLength!=D.byteLength||!L(new t(k),new t(D)));case d:case h:case g:return n(+k,+D);case p:return k.name==D.name&&k.message==D.message;case y:case x:return k==D+"";case m:var q=a;case S:var U=M&l;if(q||(q=i),k.size!=D.size&&!U)return!1;var W=V.get(k);if(W)return W==D;M|=u,V.set(k,D);var N=r(q(k),q(D),M,I,L,V);return V.delete(k),N;case C:if(_)return _.call(k)==_.call(D)}return!1}return L1=A,L1}var z1,o3;function B_(){if(o3)return z1;o3=1;function e(t,n){for(var r=-1,a=n.length,i=t.length;++r<a;)t[i+r]=n[r];return t}return z1=e,z1}var $1,s3;function Ei(){if(s3)return $1;s3=1;var e=Array.isArray;return $1=e,$1}var q1,l3;function T8(){if(l3)return q1;l3=1;var e=B_(),t=Ei();function n(r,a,i){var l=a(r);return t(r)?l:e(l,i(r))}return q1=n,q1}var U1,c3;function ebe(){if(c3)return U1;c3=1;function e(t,n){for(var r=-1,a=t==null?0:t.length,i=0,l=[];++r<a;){var u=t[r];n(u,r,t)&&(l[i++]=u)}return l}return U1=e,U1}var B1,u3;function R8(){if(u3)return B1;u3=1;function e(){return[]}return B1=e,B1}var H1,d3;function H_(){if(d3)return H1;d3=1;var e=ebe(),t=R8(),n=Object.prototype,r=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(l){return l==null?[]:(l=Object(l),e(a(l),function(u){return r.call(l,u)}))}:t;return H1=i,H1}var F1,f3;function tbe(){if(f3)return F1;f3=1;function e(t,n){for(var r=-1,a=Array(t);++r<t;)a[r]=n(r);return a}return F1=e,F1}var V1,h3;function nbe(){if(h3)return V1;h3=1;var e=kd(),t=vl(),n="[object Arguments]";function r(a){return t(a)&&e(a)==n}return V1=r,V1}var W1,p3;function F_(){if(p3)return W1;p3=1;var e=nbe(),t=vl(),n=Object.prototype,r=n.hasOwnProperty,a=n.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(l){return t(l)&&r.call(l,"callee")&&!a.call(l,"callee")};return W1=i,W1}var Ff={exports:{}},G1,m3;function rbe(){if(m3)return G1;m3=1;function e(){return!1}return G1=e,G1}Ff.exports;var g3;function Ky(){return g3||(g3=1,(function(e,t){var n=jo(),r=rbe(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,l=i&&i.exports===a,u=l?n.Buffer:void 0,d=u?u.isBuffer:void 0,h=d||r;e.exports=h})(Ff,Ff.exports)),Ff.exports}var Y1,v3;function abe(){if(v3)return Y1;v3=1;var e=kd(),t=E_(),n=vl(),r="[object Arguments]",a="[object Array]",i="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",h="[object Map]",p="[object Number]",m="[object Object]",g="[object RegExp]",y="[object Set]",S="[object String]",x="[object WeakMap]",C="[object ArrayBuffer]",T="[object DataView]",j="[object Float32Array]",R="[object Float64Array]",_="[object Int8Array]",A="[object Int16Array]",k="[object Int32Array]",D="[object Uint8Array]",O="[object Uint8ClampedArray]",M="[object Uint16Array]",I="[object Uint32Array]",L={};L[j]=L[R]=L[_]=L[A]=L[k]=L[D]=L[O]=L[M]=L[I]=!0,L[r]=L[a]=L[C]=L[i]=L[T]=L[l]=L[u]=L[d]=L[h]=L[p]=L[m]=L[g]=L[y]=L[S]=L[x]=!1;function V(q){return n(q)&&t(q.length)&&!!L[e(q)]}return Y1=V,Y1}var Q1,y3;function Xy(){if(y3)return Q1;y3=1;function e(t){return function(n){return t(n)}}return Q1=e,Q1}var Vf={exports:{}};Vf.exports;var b3;function V_(){return b3||(b3=1,(function(e,t){var n=s8(),r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,l=i&&n.process,u=(function(){try{var d=a&&a.require&&a.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();e.exports=u})(Vf,Vf.exports)),Vf.exports}var K1,x3;function W_(){if(x3)return K1;x3=1;var e=abe(),t=Xy(),n=V_(),r=n&&n.isTypedArray,a=r?t(r):e;return K1=a,K1}var X1,S3;function _8(){if(S3)return X1;S3=1;var e=tbe(),t=F_(),n=Ei(),r=Ky(),a=T_(),i=W_(),l=Object.prototype,u=l.hasOwnProperty;function d(h,p){var m=n(h),g=!m&&t(h),y=!m&&!g&&r(h),S=!m&&!g&&!y&&i(h),x=m||g||y||S,C=x?e(h.length,String):[],T=C.length;for(var j in h)(p||u.call(h,j))&&!(x&&(j=="length"||y&&(j=="offset"||j=="parent")||S&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||a(j,T)))&&C.push(j);return C}return X1=d,X1}var Z1,w3;function G_(){if(w3)return Z1;w3=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,a=typeof r=="function"&&r.prototype||e;return n===a}return Z1=t,Z1}var J1,C3;function D8(){if(C3)return J1;C3=1;function e(t,n){return function(r){return t(n(r))}}return J1=e,J1}var ew,j3;function ibe(){if(j3)return ew;j3=1;var e=D8(),t=e(Object.keys,Object);return ew=t,ew}var tw,E3;function obe(){if(E3)return tw;E3=1;var e=G_(),t=ibe(),n=Object.prototype,r=n.hasOwnProperty;function a(i){if(!e(i))return t(i);var l=[];for(var u in Object(i))r.call(i,u)&&u!="constructor"&&l.push(u);return l}return tw=a,tw}var nw,T3;function fp(){if(T3)return nw;T3=1;var e=_8(),t=obe(),n=sp();function r(a){return n(a)?e(a):t(a)}return nw=r,nw}var rw,R3;function A8(){if(R3)return rw;R3=1;var e=T8(),t=H_(),n=fp();function r(a){return e(a,n,t)}return rw=r,rw}var aw,_3;function sbe(){if(_3)return aw;_3=1;var e=A8(),t=1,n=Object.prototype,r=n.hasOwnProperty;function a(i,l,u,d,h,p){var m=u&t,g=e(i),y=g.length,S=e(l),x=S.length;if(y!=x&&!m)return!1;for(var C=y;C--;){var T=g[C];if(!(m?T in l:r.call(l,T)))return!1}var j=p.get(i),R=p.get(l);if(j&&R)return j==l&&R==i;var _=!0;p.set(i,l),p.set(l,i);for(var A=m;++C<y;){T=g[C];var k=i[T],D=l[T];if(d)var O=m?d(D,k,T,l,i,p):d(k,D,T,i,l,p);if(!(O===void 0?k===D||h(k,D,u,d,p):O)){_=!1;break}A||(A=T=="constructor")}if(_&&!A){var M=i.constructor,I=l.constructor;M!=I&&"constructor"in i&&"constructor"in l&&!(typeof M=="function"&&M instanceof M&&typeof I=="function"&&I instanceof I)&&(_=!1)}return p.delete(i),p.delete(l),_}return aw=a,aw}var iw,D3;function lbe(){if(D3)return iw;D3=1;var e=Bc(),t=jo(),n=e(t,"DataView");return iw=n,iw}var ow,A3;function cbe(){if(A3)return ow;A3=1;var e=Bc(),t=jo(),n=e(t,"Promise");return ow=n,ow}var sw,O3;function ube(){if(O3)return sw;O3=1;var e=Bc(),t=jo(),n=e(t,"Set");return sw=n,sw}var lw,k3;function dbe(){if(k3)return lw;k3=1;var e=Bc(),t=jo(),n=e(t,"WeakMap");return lw=n,lw}var cw,M3;function Zy(){if(M3)return cw;M3=1;var e=lbe(),t=$_(),n=cbe(),r=ube(),a=dbe(),i=kd(),l=C8(),u="[object Map]",d="[object Object]",h="[object Promise]",p="[object Set]",m="[object WeakMap]",g="[object DataView]",y=l(e),S=l(t),x=l(n),C=l(r),T=l(a),j=i;return(e&&j(new e(new ArrayBuffer(1)))!=g||t&&j(new t)!=u||n&&j(n.resolve())!=h||r&&j(new r)!=p||a&&j(new a)!=m)&&(j=function(R){var _=i(R),A=_==d?R.constructor:void 0,k=A?l(A):"";if(k)switch(k){case y:return g;case S:return u;case x:return h;case C:return p;case T:return m}return _}),cw=j,cw}var uw,P3;function fbe(){if(P3)return uw;P3=1;var e=U_(),t=j8(),n=J0e(),r=sbe(),a=Zy(),i=Ei(),l=Ky(),u=W_(),d=1,h="[object Arguments]",p="[object Array]",m="[object Object]",g=Object.prototype,y=g.hasOwnProperty;function S(x,C,T,j,R,_){var A=i(x),k=i(C),D=A?p:a(x),O=k?p:a(C);D=D==h?m:D,O=O==h?m:O;var M=D==m,I=O==m,L=D==O;if(L&&l(x)){if(!l(C))return!1;A=!0,M=!1}if(L&&!M)return _||(_=new e),A||u(x)?t(x,C,T,j,R,_):n(x,C,D,T,j,R,_);if(!(T&d)){var V=M&&y.call(x,"__wrapped__"),q=I&&y.call(C,"__wrapped__");if(V||q){var U=V?x.value():x,W=q?C.value():C;return _||(_=new e),R(U,W,T,j,_)}}return L?(_||(_=new e),r(x,C,T,j,R,_)):!1}return uw=S,uw}var dw,N3;function Y_(){if(N3)return dw;N3=1;var e=fbe(),t=vl();function n(r,a,i,l,u){return r===a?!0:r==null||a==null||!t(r)&&!t(a)?r!==r&&a!==a:e(r,a,i,l,n,u)}return dw=n,dw}var fw,I3;function hbe(){if(I3)return fw;I3=1;var e=Y_();function t(n,r){return e(n,r)}return fw=t,fw}var pbe=hbe();const mbe=Tn(pbe);function hw(e,t){var n=R_(e);return n?n.innerHeight:ac(e).height}function O8(e,t,n){e.closest&&!n&&e.closest(t);var r=e;do{if(Wve(r,t))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}var pw,L3;function gbe(){if(L3)return pw;L3=1;function e(t,n,r,a){for(var i=t.length,l=r+(a?1:-1);a?l--:++l<i;)if(n(t[l],l,t))return l;return-1}return pw=e,pw}var mw,z3;function vbe(){if(z3)return mw;z3=1;var e=U_(),t=Y_(),n=1,r=2;function a(i,l,u,d){var h=u.length,p=h,m=!d;if(i==null)return!p;for(i=Object(i);h--;){var g=u[h];if(m&&g[2]?g[1]!==i[g[0]]:!(g[0]in i))return!1}for(;++h<p;){g=u[h];var y=g[0],S=i[y],x=g[1];if(m&&g[2]){if(S===void 0&&!(y in i))return!1}else{var C=new e;if(d)var T=d(S,x,y,i,l,C);if(!(T===void 0?t(x,S,n|r,d,C):T))return!1}}return!0}return mw=a,mw}var gw,$3;function k8(){if($3)return gw;$3=1;var e=hs();function t(n){return n===n&&!e(n)}return gw=t,gw}var vw,q3;function ybe(){if(q3)return vw;q3=1;var e=k8(),t=fp();function n(r){for(var a=t(r),i=a.length;i--;){var l=a[i],u=r[l];a[i]=[l,u,e(u)]}return a}return vw=n,vw}var yw,U3;function M8(){if(U3)return yw;U3=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return yw=e,yw}var bw,B3;function bbe(){if(B3)return bw;B3=1;var e=vbe(),t=ybe(),n=M8();function r(a){var i=t(a);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(l){return l===a||e(l,a,i)}}return bw=r,bw}var xw,H3;function Q_(){if(H3)return xw;H3=1;var e=Ei(),t=lp(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,l){if(e(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||t(i)?!0:r.test(i)||!n.test(i)||l!=null&&i in Object(l)}return xw=a,xw}var Sw,F3;function xbe(){if(F3)return Sw;F3=1;var e=q_(),t="Expected a function";function n(r,a){if(typeof r!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var l=arguments,u=a?a.apply(this,l):l[0],d=i.cache;if(d.has(u))return d.get(u);var h=r.apply(this,l);return i.cache=d.set(u,h)||d,h};return i.cache=new(n.Cache||e),i}return n.Cache=e,Sw=n,Sw}var ww,V3;function Sbe(){if(V3)return ww;V3=1;var e=xbe(),t=500;function n(r){var a=e(r,function(l){return i.size===t&&i.clear(),l}),i=a.cache;return a}return ww=n,ww}var Cw,W3;function wbe(){if(W3)return Cw;W3=1;var e=Sbe(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(l,u,d,h){i.push(d?h.replace(n,"$1"):u||l)}),i});return Cw=r,Cw}var jw,G3;function K_(){if(G3)return jw;G3=1;function e(t,n){for(var r=-1,a=t==null?0:t.length,i=Array(a);++r<a;)i[r]=n(t[r],r,t);return i}return jw=e,jw}var Ew,Y3;function Cbe(){if(Y3)return Ew;Y3=1;var e=Od(),t=K_(),n=Ei(),r=lp(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function l(u){if(typeof u=="string")return u;if(n(u))return t(u,l)+"";if(r(u))return i?i.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return Ew=l,Ew}var Tw,Q3;function jbe(){if(Q3)return Tw;Q3=1;var e=Cbe();function t(n){return n==null?"":e(n)}return Tw=t,Tw}var Rw,K3;function Jy(){if(K3)return Rw;K3=1;var e=Ei(),t=Q_(),n=wbe(),r=jbe();function a(i,l){return e(i)?i:t(i,l)?[i]:n(r(i))}return Rw=a,Rw}var _w,X3;function hp(){if(X3)return _w;X3=1;var e=lp();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return _w=t,_w}var Dw,Z3;function e0(){if(Z3)return Dw;Z3=1;var e=Jy(),t=hp();function n(r,a){a=e(a,r);for(var i=0,l=a.length;r!=null&&i<l;)r=r[t(a[i++])];return i&&i==l?r:void 0}return Dw=n,Dw}var Aw,J3;function Ebe(){if(J3)return Aw;J3=1;var e=e0();function t(n,r,a){var i=n==null?void 0:e(n,r);return i===void 0?a:i}return Aw=t,Aw}var Ow,eI;function Tbe(){if(eI)return Ow;eI=1;function e(t,n){return t!=null&&n in Object(t)}return Ow=e,Ow}var kw,tI;function Rbe(){if(tI)return kw;tI=1;var e=Jy(),t=F_(),n=Ei(),r=T_(),a=E_(),i=hp();function l(u,d,h){d=e(d,u);for(var p=-1,m=d.length,g=!1;++p<m;){var y=i(d[p]);if(!(g=u!=null&&h(u,y)))break;u=u[y]}return g||++p!=m?g:(m=u==null?0:u.length,!!m&&a(m)&&r(y,m)&&(n(u)||t(u)))}return kw=l,kw}var Mw,nI;function _be(){if(nI)return Mw;nI=1;var e=Tbe(),t=Rbe();function n(r,a){return r!=null&&t(r,a,e)}return Mw=n,Mw}var Pw,rI;function Dbe(){if(rI)return Pw;rI=1;var e=Y_(),t=Ebe(),n=_be(),r=Q_(),a=k8(),i=M8(),l=hp(),u=1,d=2;function h(p,m){return r(p)&&a(m)?i(l(p),m):function(g){var y=t(g,p);return y===void 0&&y===m?n(g,p):e(m,y,u|d)}}return Pw=h,Pw}var Nw,aI;function t0(){if(aI)return Nw;aI=1;function e(t){return t}return Nw=e,Nw}var Iw,iI;function Abe(){if(iI)return Iw;iI=1;function e(t){return function(n){return n?.[t]}}return Iw=e,Iw}var Lw,oI;function Obe(){if(oI)return Lw;oI=1;var e=e0();function t(n){return function(r){return e(r,n)}}return Lw=t,Lw}var zw,sI;function kbe(){if(sI)return zw;sI=1;var e=Abe(),t=Obe(),n=Q_(),r=hp();function a(i){return n(i)?e(r(i)):t(i)}return zw=a,zw}var $w,lI;function n0(){if(lI)return $w;lI=1;var e=bbe(),t=Dbe(),n=t0(),r=Ei(),a=kbe();function i(l){return typeof l=="function"?l:l==null?n:typeof l=="object"?r(l)?t(l[0],l[1]):e(l):a(l)}return $w=i,$w}var qw,cI;function Mbe(){if(cI)return qw;cI=1;var e=gbe(),t=n0(),n=c8(),r=Math.max;function a(i,l,u){var d=i==null?0:i.length;if(!d)return-1;var h=u==null?0:n(u);return h<0&&(h=r(d+h,0)),e(i,t(l,3),h)}return qw=a,qw}var Pbe=Mbe();const Nbe=Tn(Pbe);var Uw,uI;function Ibe(){if(uI)return Uw;uI=1;var e=Math.ceil,t=Math.max;function n(r,a,i,l){for(var u=-1,d=t(e((a-r)/(i||1)),0),h=Array(d);d--;)h[l?d:++u]=r,r+=i;return h}return Uw=n,Uw}var Bw,dI;function Lbe(){if(dI)return Bw;dI=1;var e=Ibe(),t=Fy(),n=l8();function r(a){return function(i,l,u){return u&&typeof u!="number"&&t(i,l,u)&&(l=u=void 0),i=n(i),l===void 0?(l=i,i=0):l=n(l),u=u===void 0?i<l?1:-1:n(u),e(i,l,u,a)}}return Bw=r,Bw}var Hw,fI;function zbe(){if(fI)return Hw;fI=1;var e=Lbe(),t=e();return Hw=t,Hw}var $be=zbe();const qbe=Tn($be);var hI=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Ube(e,t){return!!(e===t||hI(e)&&hI(t))}function Bbe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Ube(e[n],t[n]))return!1;return!0}function P8(e,t){t===void 0&&(t=Bbe);var n=null;function r(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(n&&n.lastThis===this&&t(a,n.lastArgs))return n.lastResult;var l=e.apply(this,a);return n={lastResult:l,lastArgs:a,lastThis:this},l}return r.clear=function(){n=null},r}function Zj(e,t){var n=R_(e);return n?n.innerWidth:ac(e).width}var Fw,pI;function Hbe(){if(pI)return Fw;pI=1;var e=Od(),t=F_(),n=Ei(),r=e?e.isConcatSpreadable:void 0;function a(i){return n(i)||t(i)||!!(r&&i&&i[r])}return Fw=a,Fw}var Vw,mI;function N8(){if(mI)return Vw;mI=1;var e=B_(),t=Hbe();function n(r,a,i,l,u){var d=-1,h=r.length;for(i||(i=t),u||(u=[]);++d<h;){var p=r[d];a>0&&i(p)?a>1?n(p,a-1,i,l,u):e(u,p):l||(u[u.length]=p)}return u}return Vw=n,Vw}var Ww,gI;function Fbe(){if(gI)return Ww;gI=1;function e(t){return function(n,r,a){for(var i=-1,l=Object(n),u=a(n),d=u.length;d--;){var h=u[t?d:++i];if(r(l[h],h,l)===!1)break}return n}}return Ww=e,Ww}var Gw,vI;function Vbe(){if(vI)return Gw;vI=1;var e=Fbe(),t=e();return Gw=t,Gw}var Yw,yI;function X_(){if(yI)return Yw;yI=1;var e=Vbe(),t=fp();function n(r,a){return r&&e(r,a,t)}return Yw=n,Yw}var Qw,bI;function Wbe(){if(bI)return Qw;bI=1;var e=sp();function t(n,r){return function(a,i){if(a==null)return a;if(!e(a))return n(a,i);for(var l=a.length,u=r?l:-1,d=Object(a);(r?u--:++u<l)&&i(d[u],u,d)!==!1;);return a}}return Qw=t,Qw}var Kw,xI;function Gbe(){if(xI)return Kw;xI=1;var e=X_(),t=Wbe(),n=t(e);return Kw=n,Kw}var Xw,SI;function Ybe(){if(SI)return Xw;SI=1;var e=Gbe(),t=sp();function n(r,a){var i=-1,l=t(r)?Array(r.length):[];return e(r,function(u,d,h){l[++i]=a(u,d,h)}),l}return Xw=n,Xw}var Zw,wI;function Qbe(){if(wI)return Zw;wI=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return Zw=e,Zw}var Jw,CI;function Kbe(){if(CI)return Jw;CI=1;var e=lp();function t(n,r){if(n!==r){var a=n!==void 0,i=n===null,l=n===n,u=e(n),d=r!==void 0,h=r===null,p=r===r,m=e(r);if(!h&&!m&&!u&&n>r||u&&d&&p&&!h&&!m||i&&d&&p||!a&&p||!l)return 1;if(!i&&!u&&!m&&n<r||m&&a&&l&&!i&&!u||h&&a&&l||!d&&l||!p)return-1}return 0}return Jw=t,Jw}var eC,jI;function Xbe(){if(jI)return eC;jI=1;var e=Kbe();function t(n,r,a){for(var i=-1,l=n.criteria,u=r.criteria,d=l.length,h=a.length;++i<d;){var p=e(l[i],u[i]);if(p){if(i>=h)return p;var m=a[i];return p*(m=="desc"?-1:1)}}return n.index-r.index}return eC=t,eC}var tC,EI;function Zbe(){if(EI)return tC;EI=1;var e=K_(),t=e0(),n=n0(),r=Ybe(),a=Qbe(),i=Xy(),l=Xbe(),u=t0(),d=Ei();function h(p,m,g){m.length?m=e(m,function(x){return d(x)?function(C){return t(C,x.length===1?x[0]:x)}:x}):m=[u];var y=-1;m=e(m,i(n));var S=r(p,function(x,C,T){var j=e(m,function(R){return R(x)});return{criteria:j,index:++y,value:x}});return a(S,function(x,C){return l(x,C,g)})}return tC=h,tC}var nC,TI;function Jbe(){if(TI)return nC;TI=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return nC=e,nC}var rC,RI;function I8(){if(RI)return rC;RI=1;var e=Jbe(),t=Math.max;function n(r,a,i){return a=t(a===void 0?r.length-1:a,0),function(){for(var l=arguments,u=-1,d=t(l.length-a,0),h=Array(d);++u<d;)h[u]=l[a+u];u=-1;for(var p=Array(a+1);++u<a;)p[u]=l[u];return p[a]=i(h),e(r,this,p)}}return rC=n,rC}var aC,_I;function exe(){if(_I)return aC;_I=1;function e(t){return function(){return t}}return aC=e,aC}var iC,DI;function L8(){if(DI)return iC;DI=1;var e=Bc(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return iC=t,iC}var oC,AI;function txe(){if(AI)return oC;AI=1;var e=exe(),t=L8(),n=t0(),r=t?function(a,i){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:n;return oC=r,oC}var sC,OI;function nxe(){if(OI)return sC;OI=1;var e=800,t=16,n=Date.now;function r(a){var i=0,l=0;return function(){var u=n(),d=t-(u-l);if(l=u,d>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return sC=r,sC}var lC,kI;function z8(){if(kI)return lC;kI=1;var e=txe(),t=nxe(),n=t(e);return lC=n,lC}var cC,MI;function $8(){if(MI)return cC;MI=1;var e=t0(),t=I8(),n=z8();function r(a,i){return n(t(a,i,e),a+"")}return cC=r,cC}var uC,PI;function rxe(){if(PI)return uC;PI=1;var e=N8(),t=Zbe(),n=$8(),r=Fy(),a=n(function(i,l){if(i==null)return[];var u=l.length;return u>1&&r(i,l[0],l[1])?l=[]:u>2&&r(l[0],l[1],l[2])&&(l=[l[0]]),t(i,e(l,1),[])});return uC=a,uC}var axe=rxe();const ixe=Tn(axe);function q8(e){return V7(e)||i8(e)||S_(e)||W7()}var dC,NI;function oxe(){if(NI)return dC;NI=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return dC=e,dC}var fC,II;function sxe(){if(II)return fC;II=1;var e=hs(),t=G_(),n=oxe(),r=Object.prototype,a=r.hasOwnProperty;function i(l){if(!e(l))return n(l);var u=t(l),d=[];for(var h in l)h=="constructor"&&(u||!a.call(l,h))||d.push(h);return d}return fC=i,fC}var hC,LI;function r0(){if(LI)return hC;LI=1;var e=_8(),t=sxe(),n=sp();function r(a){return n(a)?e(a,!0):t(a)}return hC=r,hC}var pC,zI;function lxe(){if(zI)return pC;zI=1;var e=$8(),t=op(),n=Fy(),r=r0(),a=Object.prototype,i=a.hasOwnProperty,l=e(function(u,d){u=Object(u);var h=-1,p=d.length,m=p>2?d[2]:void 0;for(m&&n(d[0],d[1],m)&&(p=1);++h<p;)for(var g=d[h],y=r(g),S=-1,x=y.length;++S<x;){var C=y[S],T=u[C];(T===void 0||t(T,a[C])&&!i.call(u,C))&&(u[C]=g[C])}return u});return pC=l,pC}var cxe=lxe();const uxe=Tn(cxe);var mC,$I;function Z_(){if($I)return mC;$I=1;var e=L8();function t(n,r,a){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[r]=a}return mC=t,mC}var gC,qI;function dxe(){if(qI)return gC;qI=1;var e=Z_(),t=X_(),n=n0();function r(a,i){var l={};return i=n(i,3),t(a,function(u,d,h){e(l,d,i(u,d,h))}),l}return gC=r,gC}var fxe=dxe();const hxe=Tn(fxe);var vC,UI;function U8(){if(UI)return vC;UI=1;function e(t,n){for(var r=-1,a=t==null?0:t.length;++r<a&&n(t[r],r,t)!==!1;);return t}return vC=e,vC}var yC,BI;function B8(){if(BI)return yC;BI=1;var e=Z_(),t=op(),n=Object.prototype,r=n.hasOwnProperty;function a(i,l,u){var d=i[l];(!(r.call(i,l)&&t(d,u))||u===void 0&&!(l in i))&&e(i,l,u)}return yC=a,yC}var bC,HI;function pp(){if(HI)return bC;HI=1;var e=B8(),t=Z_();function n(r,a,i,l){var u=!i;i||(i={});for(var d=-1,h=a.length;++d<h;){var p=a[d],m=l?l(i[p],r[p],p,i,r):void 0;m===void 0&&(m=r[p]),u?t(i,p,m):e(i,p,m)}return i}return bC=n,bC}var xC,FI;function pxe(){if(FI)return xC;FI=1;var e=pp(),t=fp();function n(r,a){return r&&e(a,t(a),r)}return xC=n,xC}var SC,VI;function mxe(){if(VI)return SC;VI=1;var e=pp(),t=r0();function n(r,a){return r&&e(a,t(a),r)}return SC=n,SC}var Wf={exports:{}};Wf.exports;var WI;function gxe(){return WI||(WI=1,(function(e,t){var n=jo(),r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,l=i?n.Buffer:void 0,u=l?l.allocUnsafe:void 0;function d(h,p){if(p)return h.slice();var m=h.length,g=u?u(m):new h.constructor(m);return h.copy(g),g}e.exports=d})(Wf,Wf.exports)),Wf.exports}var wC,GI;function vxe(){if(GI)return wC;GI=1;function e(t,n){var r=-1,a=t.length;for(n||(n=Array(a));++r<a;)n[r]=t[r];return n}return wC=e,wC}var CC,YI;function yxe(){if(YI)return CC;YI=1;var e=pp(),t=H_();function n(r,a){return e(r,t(r),a)}return CC=n,CC}var jC,QI;function a0(){if(QI)return jC;QI=1;var e=D8(),t=e(Object.getPrototypeOf,Object);return jC=t,jC}var EC,KI;function H8(){if(KI)return EC;KI=1;var e=B_(),t=a0(),n=H_(),r=R8(),a=Object.getOwnPropertySymbols,i=a?function(l){for(var u=[];l;)e(u,n(l)),l=t(l);return u}:r;return EC=i,EC}var TC,XI;function bxe(){if(XI)return TC;XI=1;var e=pp(),t=H8();function n(r,a){return e(r,t(r),a)}return TC=n,TC}var RC,ZI;function F8(){if(ZI)return RC;ZI=1;var e=T8(),t=H8(),n=r0();function r(a){return e(a,n,t)}return RC=r,RC}var _C,JI;function xxe(){if(JI)return _C;JI=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var a=r.length,i=new r.constructor(a);return a&&typeof r[0]=="string"&&t.call(r,"index")&&(i.index=r.index,i.input=r.input),i}return _C=n,_C}var DC,eL;function J_(){if(eL)return DC;eL=1;var e=E8();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return DC=t,DC}var AC,tL;function Sxe(){if(tL)return AC;tL=1;var e=J_();function t(n,r){var a=r?e(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.byteLength)}return AC=t,AC}var OC,nL;function wxe(){if(nL)return OC;nL=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return OC=t,OC}var kC,rL;function Cxe(){if(rL)return kC;rL=1;var e=Od(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(a){return n?Object(n.call(a)):{}}return kC=r,kC}var MC,aL;function jxe(){if(aL)return MC;aL=1;var e=J_();function t(n,r){var a=r?e(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.length)}return MC=t,MC}var PC,iL;function Exe(){if(iL)return PC;iL=1;var e=J_(),t=Sxe(),n=wxe(),r=Cxe(),a=jxe(),i="[object Boolean]",l="[object Date]",u="[object Map]",d="[object Number]",h="[object RegExp]",p="[object Set]",m="[object String]",g="[object Symbol]",y="[object ArrayBuffer]",S="[object DataView]",x="[object Float32Array]",C="[object Float64Array]",T="[object Int8Array]",j="[object Int16Array]",R="[object Int32Array]",_="[object Uint8Array]",A="[object Uint8ClampedArray]",k="[object Uint16Array]",D="[object Uint32Array]";function O(M,I,L){var V=M.constructor;switch(I){case y:return e(M);case i:case l:return new V(+M);case S:return t(M,L);case x:case C:case T:case j:case R:case _:case A:case k:case D:return a(M,L);case u:return new V;case d:case m:return new V(M);case h:return n(M);case p:return new V;case g:return r(M)}}return PC=O,PC}var NC,oL;function V8(){if(oL)return NC;oL=1;var e=hs(),t=Object.create,n=(function(){function r(){}return function(a){if(!e(a))return{};if(t)return t(a);r.prototype=a;var i=new r;return r.prototype=void 0,i}})();return NC=n,NC}var IC,sL;function Txe(){if(sL)return IC;sL=1;var e=V8(),t=a0(),n=G_();function r(a){return typeof a.constructor=="function"&&!n(a)?e(t(a)):{}}return IC=r,IC}var LC,lL;function Rxe(){if(lL)return LC;lL=1;var e=Zy(),t=vl(),n="[object Map]";function r(a){return t(a)&&e(a)==n}return LC=r,LC}var zC,cL;function _xe(){if(cL)return zC;cL=1;var e=Rxe(),t=Xy(),n=V_(),r=n&&n.isMap,a=r?t(r):e;return zC=a,zC}var $C,uL;function Dxe(){if(uL)return $C;uL=1;var e=Zy(),t=vl(),n="[object Set]";function r(a){return t(a)&&e(a)==n}return $C=r,$C}var qC,dL;function Axe(){if(dL)return qC;dL=1;var e=Dxe(),t=Xy(),n=V_(),r=n&&n.isSet,a=r?t(r):e;return qC=a,qC}var UC,fL;function Oxe(){if(fL)return UC;fL=1;var e=U_(),t=U8(),n=B8(),r=pxe(),a=mxe(),i=gxe(),l=vxe(),u=yxe(),d=bxe(),h=A8(),p=F8(),m=Zy(),g=xxe(),y=Exe(),S=Txe(),x=Ei(),C=Ky(),T=_xe(),j=hs(),R=Axe(),_=fp(),A=r0(),k=1,D=2,O=4,M="[object Arguments]",I="[object Array]",L="[object Boolean]",V="[object Date]",q="[object Error]",U="[object Function]",W="[object GeneratorFunction]",N="[object Map]",z="[object Number]",$="[object Object]",G="[object RegExp]",X="[object Set]",H="[object String]",F="[object Symbol]",Q="[object WeakMap]",J="[object ArrayBuffer]",re="[object DataView]",ue="[object Float32Array]",Ee="[object Float64Array]",Re="[object Int8Array]",Se="[object Int16Array]",Ge="[object Int32Array]",Ze="[object Uint8Array]",Fe="[object Uint8ClampedArray]",ze="[object Uint16Array]",pt="[object Uint32Array]",Xe={};Xe[M]=Xe[I]=Xe[J]=Xe[re]=Xe[L]=Xe[V]=Xe[ue]=Xe[Ee]=Xe[Re]=Xe[Se]=Xe[Ge]=Xe[N]=Xe[z]=Xe[$]=Xe[G]=Xe[X]=Xe[H]=Xe[F]=Xe[Ze]=Xe[Fe]=Xe[ze]=Xe[pt]=!0,Xe[q]=Xe[U]=Xe[Q]=!1;function Ut(ot,Dt,Tt,Ve,dt,ct){var ft,lt=Dt&k,vt=Dt&D,dr=Dt&O;if(Tt&&(ft=dt?Tt(ot,Ve,dt,ct):Tt(ot)),ft!==void 0)return ft;if(!j(ot))return ot;var Ht=x(ot);if(Ht){if(ft=g(ot),!lt)return l(ot,ft)}else{var At=m(ot),zn=At==U||At==W;if(C(ot))return i(ot,lt);if(At==$||At==M||zn&&!dt){if(ft=vt||zn?{}:S(ot),!lt)return vt?d(ot,a(ft,ot)):u(ot,r(ft,ot))}else{if(!Xe[At])return dt?ot:{};ft=y(ot,At,lt)}}ct||(ct=new e);var Cr=ct.get(ot);if(Cr)return Cr;ct.set(ot,ft),R(ot)?ot.forEach(function(Wt){ft.add(Ut(Wt,Dt,Tt,Wt,ot,ct))}):T(ot)&&ot.forEach(function(Wt,Ct){ft.set(Ct,Ut(Wt,Dt,Tt,Ct,ot,ct))});var Ga=dr?vt?p:h:vt?A:_,Kn=Ht?void 0:Ga(ot);return t(Kn||ot,function(Wt,Ct){Kn&&(Ct=Wt,Wt=ot[Ct]),n(ft,Ct,Ut(Wt,Dt,Tt,Ct,ot,ct))}),ft}return UC=Ut,UC}var BC,hL;function kxe(){if(hL)return BC;hL=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return BC=e,BC}var HC,pL;function Mxe(){if(pL)return HC;pL=1;var e=e0(),t=o8();function n(r,a){return a.length<2?r:e(r,t(a,0,-1))}return HC=n,HC}var FC,mL;function Pxe(){if(mL)return FC;mL=1;var e=Jy(),t=kxe(),n=Mxe(),r=hp();function a(i,l){return l=e(l,i),i=n(i,l),i==null||delete i[r(t(l))]}return FC=a,FC}var VC,gL;function Nxe(){if(gL)return VC;gL=1;var e=kd(),t=a0(),n=vl(),r="[object Object]",a=Function.prototype,i=Object.prototype,l=a.toString,u=i.hasOwnProperty,d=l.call(Object);function h(p){if(!n(p)||e(p)!=r)return!1;var m=t(p);if(m===null)return!0;var g=u.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&l.call(g)==d}return VC=h,VC}var WC,vL;function Ixe(){if(vL)return WC;vL=1;var e=Nxe();function t(n){return e(n)?void 0:n}return WC=t,WC}var GC,yL;function Lxe(){if(yL)return GC;yL=1;var e=N8();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return GC=t,GC}var YC,bL;function zxe(){if(bL)return YC;bL=1;var e=Lxe(),t=I8(),n=z8();function r(a){return n(t(a,void 0,e),a+"")}return YC=r,YC}var QC,xL;function $xe(){if(xL)return QC;xL=1;var e=K_(),t=Oxe(),n=Pxe(),r=Jy(),a=pp(),i=Ixe(),l=zxe(),u=F8(),d=1,h=2,p=4,m=l(function(g,y){var S={};if(g==null)return S;var x=!1;y=e(y,function(T){return T=r(T,g),x||(x=T.length>1),T}),a(g,u(g),S),x&&(S=t(S,d|h|p,i));for(var C=y.length;C--;)n(S,y[C]);return S});return QC=m,QC}var qxe=$xe();const Uxe=Tn(qxe);var KC,SL;function Bxe(){if(SL)return KC;SL=1;var e=U8(),t=V8(),n=X_(),r=n0(),a=a0(),i=Ei(),l=Ky(),u=j_(),d=hs(),h=W_();function p(m,g,y){var S=i(m),x=S||l(m)||h(m);if(g=r(g,4),y==null){var C=m&&m.constructor;x?y=S?new C:[]:d(m)?y=u(C)?t(a(m)):{}:y={}}return(x?e:n)(m,function(T,j,R){return g(y,T,j,R)}),y}return KC=p,KC}var Hxe=Bxe();const Fxe=Tn(Hxe);var Eg={exports:{}},Vxe=Eg.exports,wL;function Wxe(){return wL||(wL=1,(function(e,t){(function(n,r){e.exports=r()})(Vxe,(function(){return function(n,r,a){r.prototype.isBetween=function(i,l,u,d){var h=a(i),p=a(l),m=(d=d||"()")[0]==="(",g=d[1]===")";return(m?this.isAfter(h,u):!this.isBefore(h,u))&&(g?this.isBefore(p,u):!this.isAfter(p,u))||(m?this.isBefore(h,u):!this.isAfter(h,u))&&(g?this.isAfter(p,u):!this.isBefore(p,u))}}}))})(Eg)),Eg.exports}var Gxe=Wxe();const Yxe=Tn(Gxe);var Tg={exports:{}},Qxe=Tg.exports,CL;function Kxe(){return CL||(CL=1,(function(e,t){(function(n,r){e.exports=r()})(Qxe,(function(){return function(n,r){r.prototype.isSameOrAfter=function(a,i){return this.isSame(a,i)||this.isAfter(a,i)}}}))})(Tg)),Tg.exports}var Xxe=Kxe();const Zxe=Tn(Xxe);var Rg={exports:{}},Jxe=Rg.exports,jL;function eSe(){return jL||(jL=1,(function(e,t){(function(n,r){e.exports=r()})(Jxe,(function(){return function(n,r){r.prototype.isSameOrBefore=function(a,i){return this.isSame(a,i)||this.isBefore(a,i)}}}))})(Rg)),Rg.exports}var tSe=eSe();const nSe=Tn(tSe);var _g={exports:{}},rSe=_g.exports,EL;function aSe(){return EL||(EL=1,(function(e,t){(function(n,r){e.exports=r()})(rSe,(function(){return function(n,r,a){var i=r.prototype,l=function(m){return m&&(m.indexOf?m:m.s)},u=function(m,g,y,S,x){var C=m.name?m:m.$locale(),T=l(C[g]),j=l(C[y]),R=T||j.map((function(A){return A.slice(0,S)}));if(!x)return R;var _=C.weekStart;return R.map((function(A,k){return R[(k+(_||0))%7]}))},d=function(){return a.Ls[a.locale()]},h=function(m,g){return m.formats[g]||(function(y){return y.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(S,x,C){return x||C.slice(1)}))})(m.formats[g.toUpperCase()])},p=function(){var m=this;return{months:function(g){return g?g.format("MMMM"):u(m,"months")},monthsShort:function(g){return g?g.format("MMM"):u(m,"monthsShort","months",3)},firstDayOfWeek:function(){return m.$locale().weekStart||0},weekdays:function(g){return g?g.format("dddd"):u(m,"weekdays")},weekdaysMin:function(g){return g?g.format("dd"):u(m,"weekdaysMin","weekdays",2)},weekdaysShort:function(g){return g?g.format("ddd"):u(m,"weekdaysShort","weekdays",3)},longDateFormat:function(g){return h(m.$locale(),g)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return p.bind(this)()},a.localeData=function(){var m=d();return{firstDayOfWeek:function(){return m.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(g){return h(m,g)},meridiem:m.meridiem,ordinal:m.ordinal}},a.months=function(){return u(d(),"months")},a.monthsShort=function(){return u(d(),"monthsShort","months",3)},a.weekdays=function(m){return u(d(),"weekdays",null,null,m)},a.weekdaysShort=function(m){return u(d(),"weekdaysShort","weekdays",3,m)},a.weekdaysMin=function(m){return u(d(),"weekdaysMin","weekdays",2,m)}}}))})(_g)),_g.exports}var iSe=aSe();const oSe=Tn(iSe);var Dg={exports:{}},sSe=Dg.exports,TL;function lSe(){return TL||(TL=1,(function(e,t){(function(n,r){e.exports=r()})(sSe,(function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,a,i){var l=a.prototype,u=l.format;i.en.formats=n,l.format=function(d){d===void 0&&(d="YYYY-MM-DDTHH:mm:ssZ");var h=this.$locale().formats,p=(function(m,g){return m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(y,S,x){var C=x&&x.toUpperCase();return S||g[x]||n[x]||g[C].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(T,j,R){return j||R.slice(1)}))}))})(d,h===void 0?{}:h);return u.call(this,p)}}}))})(Dg)),Dg.exports}var cSe=lSe();const uSe=Tn(cSe);var Ag={exports:{}},dSe=Ag.exports,RL;function fSe(){return RL||(RL=1,(function(e,t){(function(n,r){e.exports=r()})(dSe,(function(){return function(n,r,a){var i=function(l,u){if(!u||!u.length||u.length===1&&!u[0]||u.length===1&&Array.isArray(u[0])&&!u[0].length)return null;var d;u.length===1&&u[0].length>0&&(u=u[0]),d=(u=u.filter((function(p){return p})))[0];for(var h=1;h<u.length;h+=1)u[h].isValid()&&!u[h][l](d)||(d=u[h]);return d};a.max=function(){var l=[].slice.call(arguments,0);return i("isAfter",l)},a.min=function(){var l=[].slice.call(arguments,0);return i("isBefore",l)}}}))})(Ag)),Ag.exports}var hSe=fSe();const pSe=Tn(hSe);var Og={exports:{}},mSe=Og.exports,_L;function gSe(){return _L||(_L=1,(function(e,t){(function(n,r){e.exports=r()})(mSe,(function(){return function(n,r){r.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}}))})(Og)),Og.exports}var vSe=gSe();const ySe=Tn(vSe);function ao(e){return e.children}var ma={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},Xr={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},DL=Object.keys(Xr).map(function(e){return Xr[e]});De.oneOfType([De.string,De.func]);De.any;De.func;De.oneOfType([De.arrayOf(De.oneOf(DL)),De.objectOf(function(e,t){var n=DL.indexOf(t)!==-1&&typeof e[t]=="boolean";if(n)return null;for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];return De.elementType.apply(De,[e,t].concat(a))})]);De.oneOfType([De.oneOf(["overlap","no-overlap"]),De.func]);var AL={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function W8(e,t){var n=Mr(e,"month");return Mr(n,"week",t.startOfWeek())}function G8(e,t){var n=uv(e,"month");return uv(n,"week",t.startOfWeek())}function bSe(e,t){for(var n=W8(e,t),r=G8(e,t),a=[];Dd(n,r,"day");)a.push(n),n=Wi(n,1,"day");return a}function xSe(e,t){var n=Mr(e,t);return ap(n,e)?n:Wi(n,1,t)}function SSe(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=e,a=[];Dd(r,t,n);)a.push(r),r=Wi(r,1,n);return a}function wSe(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=Mr(e,"day"),e=Ch(e,Ch(t)),e=ld(e,ld(t)),e=wh(e,wh(t)),Sh(e,Sh(t)))}function OL(e){return Ch(e)===0&&ld(e)===0&&wh(e)===0&&Sh(e)===0}function CSe(e,t,n,r){return n==="day"&&(n="date"),Math.abs(TN[n](e,void 0,r)-TN[n](t,void 0,r))}function e2(e,t,n){return!n||n==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+Mr(e,n)/AL[n]-+Mr(t,n)/AL[n]))}var jSe=De.oneOfType([De.string,De.func]);function ESe(e,t,n,r,a){var i=typeof r=="function"?r(n,a,e):t.call(e,n,r,a);return mh(i==null||typeof i=="string","`localizer format(..)` must return a string, null, or undefined"),i}function TSe(e,t,n){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+n,0,0)}function t2(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function RSe(e,t){return e2(e,t,"minutes")+t2(e,t)}function _Se(e){var t=Mr(e,"day");return e2(t,e,"minutes")+t2(t,e)}function DSe(e,t){return C_(e,t,"day")}function ASe(e,t,n){var r=ap(e,t,"minutes");return r?ip(t,n,"minutes"):Hy(t,n,"minutes")}function Jj(e,t){return CSe(e,t,"day")}function OSe(e){var t=e.evtA,n=t.start,r=t.end,a=t.allDay,i=e.evtB,l=i.start,u=i.end,d=i.allDay,h=+Mr(n,"day")-+Mr(l,"day"),p=Jj(n,r),m=Jj(l,u);return h||m-p||!!d-!!a||+n-+l||+r-+u}function kSe(e){var t=e.event,n=t.start,r=t.end,a=e.range,i=a.start,l=a.end,u=Mr(n,"day"),d=Dd(u,l,"day"),h=w_(u,r,"minutes"),p=h?Hy(r,i,"minutes"):ip(r,i,"minutes");return d&&p}function MSe(e,t){return ap(e,t,"day")}function PSe(e,t){return OL(e)&&OL(t)}var NSe=ur(function e(t){var n=this;cr(this,e),mh(typeof t.format=="function","date localizer `format(..)` must be a function"),mh(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||jSe,this.formats=t.formats,this.format=function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return ESe.apply(void 0,[n,t.format].concat(a))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||wSe,this.inRange=t.inRange||t8,this.lt=t.lt||C_,this.lte=t.lte||Dd,this.gt=t.gt||Hy,this.gte=t.gte||ip,this.eq=t.eq||ap,this.neq=t.neq||w_,this.startOf=t.startOf||Mr,this.endOf=t.endOf||uv,this.add=t.add||Wi,this.range=t.range||SSe,this.diff=t.diff||e2,this.ceil=t.ceil||xSe,this.min=t.min||J7,this.max=t.max||e8,this.minutes=t.minutes||ld,this.daySpan=t.daySpan||Jj,this.firstVisibleDay=t.firstVisibleDay||W8,this.lastVisibleDay=t.lastVisibleDay||G8,this.visibleDays=t.visibleDays||bSe,this.getSlotDate=t.getSlotDate||TSe,this.getTimezoneOffset=t.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||t2,this.getTotalMin=t.getTotalMin||RSe,this.getMinutesFromMidnight=t.getMinutesFromMidnight||_Se,this.continuesPrior=t.continuesPrior||DSe,this.continuesAfter=t.continuesAfter||ASe,this.sortEvents=t.sortEvents||OSe,this.inEventRange=t.inEventRange||kSe,this.isSameDate=t.isSameDate||MSe,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||PSe,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function ISe(e,t,n,r){var a=fn(fn({},e.formats),n);return fn(fn({},e),{},{messages:r,startOfWeek:function(){return e.startOfWeek(t)},format:function(l,u){return e.format(l,a[u]||u,t)}})}var LSe=(function(e){function t(){var n;cr(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Wr(this,t,[].concat(a)),n.navigate=function(l){n.props.onNavigate(l)},n.view=function(l){n.props.onView(l)},n}return Gr(t,e),ur(t,[{key:"render",value:function(){var r=this.props,a=r.localizer.messages,i=r.label;return te.createElement("div",{className:"rbc-toolbar"},te.createElement("span",{className:"rbc-btn-group"},te.createElement("button",{type:"button",onClick:this.navigate.bind(null,ma.TODAY)},a.today),te.createElement("button",{type:"button",onClick:this.navigate.bind(null,ma.PREVIOUS)},a.previous),te.createElement("button",{type:"button",onClick:this.navigate.bind(null,ma.NEXT)},a.next)),te.createElement("span",{className:"rbc-toolbar-label"},i),te.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(a)))}},{key:"viewNamesGroup",value:function(r){var a=this,i=this.props.views,l=this.props.view;if(i.length>1)return i.map(function(u){return te.createElement("button",{type:"button",key:u,className:Ln({"rbc-active":l===u}),onClick:a.view.bind(null,u)},r[u])})}}])})(te.Component);function yn(e,t){e&&e.apply(null,[].concat(t))}var zSe={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function $Se(e){return fn(fn({},zSe),e)}function qSe(e){var t=e.ref,n=e.callback;b.useEffect(function(){var r=function(i){t.current&&!t.current.contains(i.target)&&n()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[t,n])}var USe=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],Y8=(function(e){function t(){return cr(this,t),Wr(this,t,arguments)}return Gr(t,e),ur(t,[{key:"render",value:function(){var r=this.props,a=r.style,i=r.className,l=r.event,u=r.selected,d=r.isAllDay,h=r.onSelect,p=r.onDoubleClick,m=r.onKeyPress,g=r.localizer,y=r.continuesPrior,S=r.continuesAfter,x=r.accessors,C=r.getters,T=r.children,j=r.components,R=j.event,_=j.eventWrapper,A=r.slotStart,k=r.slotEnd,D=wo(r,USe);delete D.resizable;var O=x.title(l),M=x.tooltip(l),I=x.end(l),L=x.start(l),V=x.allDay(l),q=d||V||g.diff(L,g.ceil(I,"day"),"day")>1,U=C.eventProp(l,L,I,u),W=te.createElement("div",{className:"rbc-event-content",title:M||void 0},R?te.createElement(R,{event:l,continuesPrior:y,continuesAfter:S,title:O,isAllDay:V,localizer:g,slotStart:A,slotEnd:k}):O);return te.createElement(_,Object.assign({},this.props,{type:"date"}),te.createElement("div",Object.assign({},D,{style:fn(fn({},U.style),a),className:Ln("rbc-event",i,U.className,{"rbc-selected":u,"rbc-event-allday":q,"rbc-event-continues-prior":y,"rbc-event-continues-after":S}),onClick:function(z){return h&&h(l,z)},onDoubleClick:function(z){return p&&p(l,z)},onKeyDown:function(z){return m&&m(l,z)}}),typeof T=="function"?T(W):W))}}])})(te.Component);function i0(e,t){return!e||t==null?!1:mbe(e,t)}function Q8(e,t){var n=e.right-e.left,r=n/t;return r}function K8(e,t,n,r){var a=Q8(e,r);return n?r-1-Math.floor((t-e.left)/a):Math.floor((t-e.left)/a)}function BSe(e,t){var n=t.x,r=t.y;return r>=e.top&&r<=e.bottom&&n>=e.left&&n<=e.right}function HSe(e,t,n,r,a){var i=-1,l=-1,u=r-1,d=Q8(t,r),h=K8(t,n.x,a,r),p=t.top<n.y&&t.bottom>n.y,m=t.top<e.y&&t.bottom>e.y,g=e.y>t.bottom,y=t.top>e.y,S=n.top<t.top&&n.bottom>t.bottom;return S&&(i=0,l=u),p&&(y?(i=0,l=h):g&&(i=h,l=u)),m&&(i=l=a?u-Math.floor((e.x-t.left)/d):Math.floor((e.x-t.left)/d),p?h<i?i=h:l=h:e.y<n.y?l=u:i=0),{startIdx:i,endIdx:l}}function FSe(e){var t=e.target,n=e.offset,r=e.container,a=e.box,i=ac(t),l=i.top,u=i.left,d=i.width,h=i.height,p=ac(r),m=p.top,g=p.left,y=p.width,S=p.height,x=ac(a),C=x.width,T=x.height,j=m+S,R=g+y,_=l+T,A=u+C,k=n.x,D=n.y,O=_>j?l-T-D:l+D+h,M=A>R?u+k-C+d:u+k;return{topOffset:O,leftOffset:M}}function VSe(e){var t=e.containerRef,n=e.accessors,r=e.getters,a=e.selected,i=e.components,l=e.localizer,u=e.position,d=e.show,h=e.events,p=e.slotStart,m=e.slotEnd,g=e.onSelect,y=e.onDoubleClick,S=e.onKeyPress,x=e.handleDragStart,C=e.popperRef,T=e.target,j=e.offset;qSe({ref:C,callback:d}),b.useLayoutEffect(function(){var A=FSe({target:T,offset:j,container:t.current,box:C.current}),k=A.topOffset,D=A.leftOffset;C.current.style.top="".concat(k,"px"),C.current.style.left="".concat(D,"px")},[j.x,j.y,T]);var R=u.width,_={minWidth:R+R/2};return te.createElement("div",{style:_,className:"rbc-overlay",ref:C},te.createElement("div",{className:"rbc-overlay-header"},l.format(p,"dayHeaderFormat")),h.map(function(A,k){return te.createElement(Y8,{key:k,type:"popup",localizer:l,event:A,getters:r,onSelect:g,accessors:n,components:i,onDoubleClick:y,onKeyPress:S,continuesPrior:l.lt(n.end(A),p,"day"),continuesAfter:l.gte(n.start(A),m,"day"),slotStart:p,slotEnd:m,selected:i0(A,a),draggable:!0,onDragStart:function(){return x(A)},onDragEnd:function(){return d()}})}))}var X8=te.forwardRef(function(e,t){return te.createElement(VSe,Object.assign({},e,{popperRef:t}))});X8.propTypes={accessors:De.object.isRequired,getters:De.object.isRequired,selected:De.object,components:De.object.isRequired,localizer:De.object.isRequired,position:De.object.isRequired,show:De.func.isRequired,events:De.array.isRequired,slotStart:De.instanceOf(Date).isRequired,slotEnd:De.instanceOf(Date),onSelect:De.func,onDoubleClick:De.func,onKeyPress:De.func,handleDragStart:De.func,style:De.object,offset:De.shape({x:De.number,y:De.number})};function WSe(e){var t=e.containerRef,n=e.popupOffset,r=n===void 0?5:n,a=e.overlay,i=e.accessors,l=e.localizer,u=e.components,d=e.getters,h=e.selected,p=e.handleSelectEvent,m=e.handleDoubleClickEvent,g=e.handleKeyPressEvent,y=e.handleDragStart,S=e.onHide,x=e.overlayDisplay,C=b.useRef(null);if(!a.position)return null;var T=r;isNaN(r)||(T={x:r,y:r});var j=a.position,R=a.events,_=a.date,A=a.end;return te.createElement(z_,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:S,target:a.target},function(k){var D=k.props;return te.createElement(X8,Object.assign({},D,{containerRef:t,ref:C,target:a.target,offset:T,accessors:i,getters:d,selected:h,components:u,localizer:l,position:j,show:x,events:R,slotStart:_,slotEnd:A,onSelect:p,onDoubleClick:m,onKeyPress:g,handleDragStart:y}))})}var n2=te.forwardRef(function(e,t){return te.createElement(WSe,Object.assign({},e,{containerRef:t}))});n2.propTypes={popupOffset:De.oneOfType([De.number,De.shape({x:De.number,y:De.number})]),overlay:De.shape({position:De.object,events:De.array,date:De.instanceOf(Date),end:De.instanceOf(Date)}),accessors:De.object.isRequired,localizer:De.object.isRequired,components:De.object.isRequired,getters:De.object.isRequired,selected:De.object,handleSelectEvent:De.func,handleDoubleClickEvent:De.func,handleKeyPressEvent:De.func,handleDragStart:De.func,onHide:De.func,overlayDisplay:De.func};function zr(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Hf(n,e,t,{passive:!1})}function GSe(e,t,n){return!e||jh(e,document.elementFromPoint(t,n))}function YSe(e,t){var n=t.clientX,r=t.clientY,a=document.elementFromPoint(n,r);return O8(a,".rbc-event",e)}function QSe(e,t){var n=t.clientX,r=t.clientY,a=document.elementFromPoint(n,r);return O8(a,".rbc-show-more",e)}function hv(e,t){return!!YSe(e,t)}function KSe(e,t){return!!QSe(e,t)}function Lf(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var kL=5,XSe=250,Z8=(function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.global,a=r===void 0?!1:r,i=n.longPressThreshold,l=i===void 0?250:i,u=n.validContainers,d=u===void 0?[]:u;cr(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||a,this.longPressThreshold=l,this.validContainers=d,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=zr("touchmove",function(){},window),this._removeKeyDownListener=zr("keydown",this._keyListener),this._removeKeyUpListener=zr("keyup",this._keyListener),this._removeDropFromOutsideListener=zr("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=zr("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return ur(e,[{key:"on",value:function(n,r){var a=this._listeners[n]||(this._listeners[n]=[]);return a.push(r),{remove:function(){var l=a.indexOf(r);l!==-1&&a.splice(l,1)}}}},{key:"emit",value:function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];var l,u=this._listeners[n]||[];return u.forEach(function(d){l===void 0&&(l=d.apply(void 0,a))}),l}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(n){var r=this._selectRect;return!r||!this.selecting?!1:ML(r,Ec(n))}},{key:"filter",value:function(n){var r=this._selectRect;return!r||!this.selecting?[]:n.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(n,r){var a=this,i=null,l=null,u=null,d=function(g){i=setTimeout(function(){p(),n(g)},a.longPressThreshold),l=zr("touchmove",function(){return p()}),u=zr("touchend",function(){return p()})},h=zr("touchstart",d),p=function(){i&&clearTimeout(i),l&&l(),u&&u(),i=null,l=null,u=null};return r&&d(r),function(){p(),h()}}},{key:"_addInitialEventListener",value:function(){var n=this,r=zr("mousedown",function(i){n._removeInitialEventListener(),n._handleInitialEvent(i),n._removeInitialEventListener=zr("mousedown",n._handleInitialEvent)}),a=zr("touchstart",function(i){n._removeInitialEventListener(),n._removeInitialEventListener=n._addLongPressListener(n._handleInitialEvent,i)});this._removeInitialEventListener=function(){r(),a()}}},{key:"_dropFromOutsideListener",value:function(n){var r=Lf(n),a=r.pageX,i=r.pageY,l=r.clientX,u=r.clientY;this.emit("dropFromOutside",{x:a,y:i,clientX:l,clientY:u}),n.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(n){var r=Lf(n),a=r.pageX,i=r.pageY,l=r.clientX,u=r.clientY;this.emit("dragOverFromOutside",{x:a,y:i,clientX:l,clientY:u}),n.preventDefault()}},{key:"_handleInitialEvent",value:function(n){if(this._initialEvent=n,!this.isDetached){var r=Lf(n),a=r.clientX,i=r.clientY,l=r.pageX,u=r.pageY,d=this.container(),h,p;if(!(n.which===3||n.button===2||!GSe(d,a,i))){if(!this.globalMouse&&d&&!jh(d,n.target)){var m=ZSe(0),g=m.top,y=m.left,S=m.bottom,x=m.right;if(p=Ec(d),h=ML({top:p.top-g,left:p.left-y,bottom:p.bottom+S,right:p.right+x},{top:u,left:l}),!h)return}var C=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(n.type),x:l,y:u,clientX:a,clientY:i});if(C!==!1)switch(n.type){case"mousedown":this._removeEndListener=zr("mouseup",this._handleTerminatingEvent),this._onEscListener=zr("keydown",this._handleTerminatingEvent),this._removeMoveListener=zr("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(n),this._removeEndListener=zr("touchend",this._handleTerminatingEvent),this._removeMoveListener=zr("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(n){var r=n.target,a=this.validContainers;return!a||!a.length||!r?!0:a.some(function(i){return!!r.closest(i)})}},{key:"_handleTerminatingEvent",value:function(n){var r=this.selecting,a=this._selectRect;if(!r&&n.type.includes("key")&&(n=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!n){var i=!this.container||jh(this.container(),n.target),l=this._isWithinValidContainer(n);return n.key==="Escape"||!l?this.emit("reset"):!r&&i?this._handleClickEvent(n):r?this.emit("select",a):this.emit("reset")}}},{key:"_handleClickEvent",value:function(n){var r=Lf(n),a=r.pageX,i=r.pageY,l=r.clientX,u=r.clientY,d=new Date().getTime();return this._lastClickData&&d-this._lastClickData.timestamp<XSe?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:i,clientX:l,clientY:u})):(this._lastClickData={timestamp:d},this.emit("click",{x:a,y:i,clientX:l,clientY:u}))}},{key:"_handleMoveEvent",value:function(n){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,a=r.x,i=r.y,l=Lf(n),u=l.pageX,d=l.pageY,h=Math.abs(a-u),p=Math.abs(i-d),m=Math.min(u,a),g=Math.min(d,i),y=this.selecting,S=this.isClick(u,d);S&&!y&&!(h||p)||(!y&&!S&&this.emit("selectStart",this._initialEventData),S||(this.selecting=!0,this._selectRect={top:g,left:m,x:u,y:d,right:m+h,bottom:g+p},this.emit("selecting",this._selectRect)),n.preventDefault())}}},{key:"_keyListener",value:function(n){this.ctrl=n.metaKey||n.ctrlKey}},{key:"isClick",value:function(n,r){var a=this._initialEventData,i=a.x,l=a.y,u=a.isTouch;return!u&&Math.abs(n-i)<=kL&&Math.abs(r-l)<=kL}}])})();function ZSe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return ts(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function ML(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Ec(e),a=r.top,i=r.left,l=r.right,u=l===void 0?i:l,d=r.bottom,h=d===void 0?a:d,p=Ec(t),m=p.top,g=p.left,y=p.right,S=y===void 0?g:y,x=p.bottom,C=x===void 0?m:x;return!(h-n<m||a+n>C||u-n<g||i+n>S)}function Ec(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),n=t.left+PL("left"),r=t.top+PL("top");return{top:r,left:n,right:(e.offsetWidth||0)+n,bottom:(e.offsetHeight||0)+r}}function PL(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var JSe=(function(e){function t(n,r){var a;return cr(this,t),a=Wr(this,t,[n,r]),a.state={selecting:!1},a.containerRef=b.createRef(),a}return Gr(t,e),ur(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,a=r.range,i=r.getNow,l=r.getters,u=r.date,d=r.components.dateCellWrapper,h=r.localizer,p=this.state,m=p.selecting,g=p.startIdx,y=p.endIdx,S=i();return te.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},a.map(function(x,C){var T=m&&C>=g&&C<=y,j=l.dayProp(x),R=j.className,_=j.style;return te.createElement(d,{key:C,value:x,range:a},te.createElement("div",{style:_,className:Ln("rbc-day-bg",R,T&&"rbc-selected-cell",h.isSameDate(x,S)&&"rbc-today",u&&h.neq(u,x,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,a=this.containerRef.current,i=this._selector=new Z8(this.props.container,{longPressThreshold:this.props.longPressThreshold}),l=function(d,h){if(!hv(a,d)&&!KSe(a,d)){var p=Ec(a),m=r.props,g=m.range,y=m.rtl;if(BSe(p,d)){var S=K8(p,d.x,y,g.length);r._selectSlot({startIdx:S,endIdx:S,action:h,box:d})}}r._initial={},r.setState({selecting:!1})};i.on("selecting",function(u){var d=r.props,h=d.range,p=d.rtl,m=-1,g=-1;if(r.state.selecting||(yn(r.props.onSelectStart,[u]),r._initial={x:u.x,y:u.y}),i.isSelected(a)){var y=Ec(a),S=HSe(r._initial,y,u,h.length,p);m=S.startIdx,g=S.endIdx}r.setState({selecting:!0,startIdx:m,endIdx:g})}),i.on("beforeSelect",function(u){if(r.props.selectable==="ignoreEvents")return!hv(r.containerRef.current,u)}),i.on("click",function(u){return l(u,"click")}),i.on("doubleClick",function(u){return l(u,"doubleClick")}),i.on("select",function(u){r._selectSlot(fn(fn({},r.state),{},{action:"select",bounds:u})),r._initial={},r.setState({selecting:!1}),yn(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var a=r.endIdx,i=r.startIdx,l=r.action,u=r.bounds,d=r.box;a!==-1&&i!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:i,end:a,action:l,bounds:u,box:d,resourceId:this.props.resourceId})}}])})(te.Component),ci={propTypes:{slotMetrics:De.object.isRequired,selected:De.object,isAllDay:De.bool,accessors:De.object.isRequired,localizer:De.object.isRequired,components:De.object.isRequired,getters:De.object.isRequired,onSelect:De.func,onDoubleClick:De.func,onKeyPress:De.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,n){var r=t.selected;t.isAllDay;var a=t.accessors,i=t.getters,l=t.onSelect,u=t.onDoubleClick,d=t.onKeyPress,h=t.localizer,p=t.slotMetrics,m=t.components,g=t.resizable,y=p.continuesPrior(n),S=p.continuesAfter(n);return te.createElement(Y8,{event:n,getters:i,localizer:h,accessors:a,components:m,onSelect:l,onDoubleClick:u,onKeyPress:d,continuesPrior:y,continuesAfter:S,slotStart:p.first,slotEnd:p.last,selected:i0(n,r),resizable:g})},renderSpan:function(t,n,r){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",i=Math.abs(n)/t*100+"%";return te.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:i,flexBasis:i,maxWidth:i}},a)}},J8=(function(e){function t(){return cr(this,t),Wr(this,t,arguments)}return Gr(t,e),ur(t,[{key:"render",value:function(){var r=this,a=this.props,i=a.segments,l=a.slotMetrics.slots,u=a.className,d=1;return te.createElement("div",{className:Ln(u,"rbc-row")},i.reduce(function(h,p,m){var g=p.event,y=p.left,S=p.right,x=p.span,C="_lvl_"+m,T=y-d,j=ci.renderEvent(r.props,g);return T&&h.push(ci.renderSpan(l,T,"".concat(C,"_gap"))),h.push(ci.renderSpan(l,x,C,j)),d=S+1,h},[]))}}])})(te.Component);J8.defaultProps=fn({},ci.defaultProps);function eq(e){var t=e.dateRange,n=e.unit,r=n===void 0?"day":n,a=e.localizer;return{first:t[0],last:a.add(t[t.length-1],1,r)}}function e1e(e,t,n,r){var a=eq({dateRange:t,localizer:r}),i=a.first,l=a.last,u=r.diff(i,l,"day"),d=r.max(r.startOf(n.start(e),"day"),i),h=r.min(r.ceil(n.end(e),"day"),l),p=Nbe(t,function(g){return r.isSameDate(g,d)}),m=r.diff(d,h,"day");return m=Math.min(m,u),m=Math.max(m-r.segmentOffset,1),{event:e,span:m,left:p+1,right:Math.max(p+m,1)}}function eE(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,n,r,a,i=[],l=[];for(n=0;n<e.length;n++){for(a=e[n],r=0;r<i.length&&t1e(a,i[r]);r++);r>=t?l.push(a):(i[r]||(i[r]=[])).push(a)}for(n=0;n<i.length;n++)i[n].sort(function(u,d){return u.left-d.left});return{levels:i,extra:l}}function Rh(e,t,n,r,a){var i={start:r.start(e),end:r.end(e)},l={start:t,end:n};return a.inEventRange({event:i,range:l})}function t1e(e,t){return t.some(function(n){return n.left<=e.right&&n.right>=e.left})}function n1e(e,t,n){var r=Cg(e),a=[],i=[];r.forEach(function(d){var h=t.start(d),p=t.end(d);n.daySpan(h,p)>1?a.push(d):i.push(d)});var l=a.sort(function(d,h){return tE(d,h,t,n)}),u=i.sort(function(d,h){return tE(d,h,t,n)});return[].concat(Cg(l),Cg(u))}function tE(e,t,n,r){var a={start:n.start(e),end:n.end(e),allDay:n.allDay(e)},i={start:n.start(t),end:n.end(t),allDay:n.allDay(t)};return r.sortEvents({evtA:a,evtB:i})}var nE=function(t,n){return t.left<=n&&t.right>=n},XC=function(t,n){return t.filter(function(r){return nE(r,n)}).map(function(r){return r.event})},tq=(function(e){function t(){return cr(this,t),Wr(this,t,arguments)}return Gr(t,e),ur(t,[{key:"render",value:function(){for(var r=this.props,a=r.segments,i=r.slotMetrics.slots,l=eE(a).levels[0],u=1,d=1,h=[];u<=i;){var p="_lvl_"+u,m=l.filter(function(_){return nE(_,u)})[0]||{},g=m.event,y=m.left,S=m.right,x=m.span;if(!g){var C=this.getHiddenEventsForSlot(a,u);if(C.length>0){var T=u-d;T&&h.push(ci.renderSpan(i,T,p+"_gap")),h.push(ci.renderSpan(i,1,p,this.renderShowMore(a,u))),d=u=u+1;continue}u++;continue}var j=Math.max(0,y-d);if(this.canRenderSlotEvent(y,x)){var R=ci.renderEvent(this.props,g);j&&h.push(ci.renderSpan(i,j,p+"_gap")),h.push(ci.renderSpan(i,x,p,R)),d=u=S+1}else j&&h.push(ci.renderSpan(i,j,p+"_gap")),h.push(ci.renderSpan(i,1,p,this.renderShowMore(a,u))),d=u=u+1}return te.createElement("div",{className:"rbc-row"},h)}},{key:"getHiddenEventsForSlot",value:function(r,a){var i=XC(r,a),l=eE(r).levels[0],u=l.filter(function(d){return nE(d,a)}).map(function(d){return d.event});return i.filter(function(d){return!u.some(function(h){return h===d})})}},{key:"canRenderSlotEvent",value:function(r,a){var i=this.props.segments;return qbe(r,r+a).every(function(l){var u=XC(i,l).length;return u===1})}},{key:"renderShowMore",value:function(r,a){var i=this,l=this.props,u=l.localizer,d=l.slotMetrics,h=l.components,p=d.getEventsForSlot(a),m=XC(r,a),g=m.length;if(h!=null&&h.showMore){var y=h.showMore,S=d.getDateForSlot(a-1);return g?te.createElement(y,{localizer:u,slotDate:S,slot:a,count:g,events:p,remainingEvents:m}):!1}return g?te.createElement("button",{type:"button",key:"sm_"+a,className:Ln("rbc-button-link","rbc-show-more"),onClick:function(C){return i.showMore(a,C)}},u.messages.showMore(g,m,p)):!1}},{key:"showMore",value:function(r,a){a.preventDefault(),a.stopPropagation(),this.props.onShowMore(r,a.target)}}])})(te.Component);tq.defaultProps=fn({},ci.defaultProps);var r1e=function(t){var n=t.children;return te.createElement("div",{className:"rbc-row-content-scroll-container"},n)},a1e=function(t,n){return t.left<=n&&t.right>=n},i1e=function(t,n){return t[0].range===n[0].range&&t[0].events===n[0].events};function nq(){return P8(function(e){for(var t=e.range,n=e.events,r=e.maxRows,a=e.minRows,i=e.accessors,l=e.localizer,u=eq({dateRange:t,localizer:l}),d=u.first,h=u.last,p=n.map(function(x){return e1e(x,t,i,l)}),m=eE(p,Math.max(r-1,1)),g=m.levels,y=m.extra,S=y.length>0?a-1:a;g.length<S;)g.push([]);return{first:d,last:h,levels:g,extra:y,range:t,slots:t.length,clone:function(C){var T=nq();return T(fn(fn({},e),C))},getDateForSlot:function(C){return t[C]},getSlotForDate:function(C){return t.find(function(T){return l.isSameDate(T,C)})},getEventsForSlot:function(C){return p.filter(function(T){return a1e(T,C)}).map(function(T){return T.event})},continuesPrior:function(C){return l.continuesPrior(i.start(C),d)},continuesAfter:function(C){var T=i.start(C),j=i.end(C);return l.continuesAfter(T,j,h)}}},i1e)}var _h=(function(e){function t(){var n;cr(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Wr(this,t,[].concat(a)),n.handleSelectSlot=function(l){var u=n.props,d=u.range,h=u.onSelectSlot;h(d.slice(l.start,l.end+1),l)},n.handleShowMore=function(l,u){var d=n.props,h=d.range,p=d.onShowMore,m=n.slotMetrics(n.props),g=Yve(n.containerRef.current,".rbc-row-bg")[0],y;g&&(y=g.children[l-1]);var S=m.getEventsForSlot(l);p(S,h[l-1],y,l,u)},n.getContainer=function(){var l=n.props.container;return l?l():n.containerRef.current},n.renderHeadingCell=function(l,u){var d=n.props,h=d.renderHeader,p=d.getNow,m=d.localizer;return h({date:l,key:"header_".concat(u),className:Ln("rbc-date-cell",m.isSameDate(l,p())&&"rbc-now")})},n.renderDummy=function(){var l=n.props,u=l.className,d=l.range,h=l.renderHeader,p=l.showAllEvents;return te.createElement("div",{className:u,ref:n.containerRef},te.createElement("div",{className:Ln("rbc-row-content",p&&"rbc-row-content-scrollable")},h&&te.createElement("div",{className:"rbc-row",ref:n.headingRowRef},d.map(n.renderHeadingCell)),te.createElement("div",{className:"rbc-row",ref:n.eventRowRef},te.createElement("div",{className:"rbc-row-segment"},te.createElement("div",{className:"rbc-event"},te.createElement("div",{className:"rbc-event-content"},"Â "))))))},n.containerRef=b.createRef(),n.headingRowRef=b.createRef(),n.eventRowRef=b.createRef(),n.slotMetrics=nq(),n}return Gr(t,e),ur(t,[{key:"getRowLimit",value:function(){var r,a=hw(this.eventRowRef.current),i=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?hw(this.headingRowRef.current):0,l=hw(this.containerRef.current)-i;return Math.max(Math.floor(l/a),1)}},{key:"render",value:function(){var r=this.props,a=r.date,i=r.rtl,l=r.range,u=r.className,d=r.selected,h=r.selectable,p=r.renderForMeasure,m=r.accessors,g=r.getters,y=r.components,S=r.getNow,x=r.renderHeader,C=r.onSelect,T=r.localizer,j=r.onSelectStart,R=r.onSelectEnd,_=r.onDoubleClick,A=r.onKeyPress,k=r.resourceId,D=r.longPressThreshold,O=r.isAllDay,M=r.resizable,I=r.showAllEvents;if(p)return this.renderDummy();var L=this.slotMetrics(this.props),V=L.levels,q=L.extra,U=I?r1e:ao,W=y.weekWrapper,N={selected:d,accessors:m,getters:g,localizer:T,components:y,onSelect:C,onDoubleClick:_,onKeyPress:A,resourceId:k,slotMetrics:L,resizable:M};return te.createElement("div",{className:u,role:"rowgroup",ref:this.containerRef},te.createElement(JSe,{localizer:T,date:a,getNow:S,rtl:i,range:l,selectable:h,container:this.getContainer,getters:g,onSelectStart:j,onSelectEnd:R,onSelectSlot:this.handleSelectSlot,components:y,longPressThreshold:D,resourceId:k}),te.createElement("div",{className:Ln("rbc-row-content",I&&"rbc-row-content-scrollable"),role:"row"},x&&te.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},l.map(this.renderHeadingCell)),te.createElement(U,null,te.createElement(W,Object.assign({isAllDay:O},N,{rtl:this.props.rtl}),V.map(function(z,$){return te.createElement(J8,Object.assign({key:$,segments:z},N))}),!!q.length&&te.createElement(tq,Object.assign({segments:q,onShowMore:this.handleShowMore},N))))))}}])})(te.Component);_h.defaultProps={minRows:0,maxRows:1/0};var r2=function(t){var n=t.label;return te.createElement("span",{role:"columnheader","aria-sort":"none"},n)},o1e=function(t){var n=t.label,r=t.drilldownView,a=t.onDrillDown;return r?te.createElement("button",{type:"button",className:"rbc-button-link",onClick:a},n):te.createElement("span",null,n)},s1e=["date","className"],l1e=function(t,n,r,a,i){return t.filter(function(l){return Rh(l,n,r,a,i)})},o0=(function(e){function t(){var n;cr(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Wr(this,t,[].concat(a)),n.getContainer=function(){return n.containerRef.current},n.renderWeek=function(l,u){var d=n.props,h=d.events,p=d.components,m=d.selectable,g=d.getNow,y=d.selected,S=d.date,x=d.localizer,C=d.longPressThreshold,T=d.accessors,j=d.getters,R=d.showAllEvents,_=n.state,A=_.needLimitMeasure,k=_.rowLimit,D=l1e(Cg(h),l[0],l[l.length-1],T,x),O=n1e(D,T,x);return te.createElement(_h,{key:u,ref:u===0?n.slotRowRef:void 0,container:n.getContainer,className:"rbc-month-row",getNow:g,date:S,range:l,events:O,maxRows:R?1/0:k,selected:y,selectable:m,components:p,accessors:T,getters:j,localizer:x,renderHeader:n.readerDateHeading,renderForMeasure:A,onShowMore:n.handleShowMore,onSelect:n.handleSelectEvent,onDoubleClick:n.handleDoubleClickEvent,onKeyPress:n.handleKeyPressEvent,onSelectSlot:n.handleSelectSlot,longPressThreshold:C,rtl:n.props.rtl,resizable:n.props.resizable,showAllEvents:R})},n.readerDateHeading=function(l){var u=l.date,d=l.className,h=wo(l,s1e),p=n.props,m=p.date,g=p.getDrilldownView,y=p.localizer,S=y.neq(m,u,"month"),x=y.isSameDate(u,m),C=g(u),T=y.format(u,"dateFormat"),j=n.props.components.dateHeader||o1e;return te.createElement("div",Object.assign({},h,{className:Ln(d,S&&"rbc-off-range",x&&"rbc-current"),role:"cell"}),te.createElement(j,{label:T,date:u,drilldownView:C,isOffRange:S,onDrillDown:function(_){return n.handleHeadingClick(u,C,_)}}))},n.handleSelectSlot=function(l,u){n._pendingSelection=n._pendingSelection.concat(l),clearTimeout(n._selectTimer),n._selectTimer=setTimeout(function(){return n.selectDates(u)})},n.handleHeadingClick=function(l,u,d){d.preventDefault(),n.clearSelection(),yn(n.props.onDrillDown,[l,u])},n.handleSelectEvent=function(){n.clearSelection();for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];yn(n.props.onSelectEvent,u)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];yn(n.props.onDoubleClickEvent,u)},n.handleKeyPressEvent=function(){n.clearSelection();for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];yn(n.props.onKeyPressEvent,u)},n.handleShowMore=function(l,u,d,h,p){var m=n.props,g=m.popup,y=m.onDrillDown,S=m.onShowMore,x=m.getDrilldownView,C=m.doShowMoreDrillDown;if(n.clearSelection(),g){var T=h8(d,n.containerRef.current);n.setState({overlay:{date:u,events:l,position:T,target:p}})}else C&&yn(y,[u,x(u)||Xr.DAY]);yn(S,[l,u,h])},n.overlayDisplay=function(){n.setState({overlay:null})},n.state={rowLimit:5,needLimitMeasure:!0,date:null},n.containerRef=b.createRef(),n.slotRowRef=b.createRef(),n._bgRows=[],n._pendingSelection=[],n}return Gr(t,e),ur(t,[{key:"componentDidMount",value:function(){var r=this,a;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){a||p8(function(){a=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,a=r.date,i=r.localizer,l=r.className,u=i.visibleDays(a,i),d=kve(u,7);return this._weekCount=d.length,te.createElement("div",{className:Ln("rbc-month-view",l),role:"table","aria-label":"Month View",ref:this.containerRef},te.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(d[0])),d.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var a=this.props,i=a.localizer,l=a.components,u=r[0],d=r[r.length-1],h=l.header||r2;return i.range(u,d,"day").map(function(p,m){return te.createElement("div",{key:"header_"+m,className:"rbc-header"},te.createElement(h,{date:p,localizer:i,label:i.format(p,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,a,i=this,l=(r=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&r!==void 0?r:{},u=this.props,d=u.accessors,h=u.localizer,p=u.components,m=u.getters,g=u.selected,y=u.popupOffset,S=u.handleDragStart,x=function(){return i.setState({overlay:null})};return te.createElement(n2,{overlay:l,accessors:d,localizer:h,components:p,getters:m,selected:g,popupOffset:y,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:S,show:!!l.position,overlayDisplay:this.overlayDisplay,onHide:x})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var a=this._pendingSelection.slice();this._pendingSelection=[],a.sort(function(u,d){return+u-+d});var i=new Date(a[0]),l=new Date(a[a.length-1]);l.setDate(a[a.length-1].getDate()+1),yn(this.props.onSelectSlot,{slots:a,start:i,end:l,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,a){var i=r.date,l=r.localizer;return{date:i,needLimitMeasure:l.neq(i,a.date,"month")}}}])})(te.Component);o0.range=function(e,t){var n=t.localizer,r=n.firstVisibleDay(e,n),a=n.lastVisibleDay(e,n);return{start:r,end:a}};o0.navigate=function(e,t,n){var r=n.localizer;switch(t){case ma.PREVIOUS:return r.add(e,-1,"month");case ma.NEXT:return r.add(e,1,"month");default:return e}};o0.title=function(e,t){var n=t.localizer;return n.format(e,"monthHeaderFormat")};var NL=function(t){var n=t.min,r=t.max,a=t.step,i=t.slots,l=t.localizer;return"".concat(+l.startOf(n,"minutes"))+"".concat(+l.startOf(r,"minutes"))+"".concat(a,"-").concat(i)};function a2(e){for(var t=e.min,n=e.max,r=e.step,a=e.timeslots,i=e.localizer,l=NL({step:r,localizer:i}),u=1+i.getTotalMin(t,n),d=i.getMinutesFromMidnight(t),h=Math.ceil((u-1)/(r*a)),p=h*a,m=new Array(h),g=new Array(p),y=0;y<h;y++){m[y]=new Array(a);for(var S=0;S<a;S++){var x=y*a+S,C=x*r;g[x]=m[y][S]=i.getSlotDate(t,d,C)}}var T=g.length*r;g.push(i.getSlotDate(t,d,T));function j(R){var _=i.diff(t,R,"minutes")+i.getDstOffset(t,R);return Math.min(_,u)}return{groups:m,update:function(_){return NL(_)!==l?a2(_):this},dateIsInGroup:function(_,A){var k=m[A+1];return i.inRange(_,m[A][0],k?k[0]:n,"minutes")},nextSlot:function(_){var A=g[Math.min(g.findIndex(function(k){return k===_||i.eq(k,_)})+1,g.length-1)];return i.eq(A,_)&&(A=i.add(_,r,"minutes")),A},closestSlotToPosition:function(_){var A=Math.min(g.length-1,Math.max(0,Math.floor(_*p)));return g[A]},closestSlotFromPoint:function(_,A){var k=Math.abs(A.top-A.bottom);return this.closestSlotToPosition((_.y-A.top)/k)},closestSlotFromDate:function(_){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(i.lt(_,t,"minutes"))return g[0];if(i.gt(_,n,"minutes"))return g[g.length-1];var k=i.diff(t,_,"minutes");return g[(k-k%r)/r+A]},startsBeforeDay:function(_){return i.lt(_,t,"day")},startsAfterDay:function(_){return i.gt(_,n,"day")},startsBefore:function(_){return i.lt(i.merge(t,_),t,"minutes")},startsAfter:function(_){return i.gt(i.merge(n,_),n,"minutes")},getRange:function(_,A,k,D){k||(_=i.min(n,i.max(t,_))),D||(A=i.min(n,i.max(t,A)));var O=j(_),M=j(A),I=M>r*p&&!i.eq(n,A)?(O-r)/(r*p)*100:O/(r*p)*100;return{top:I,height:M/(r*p)*100-I,start:j(_),startDate:_,end:j(A),endDate:A}},getCurrentTimePosition:function(_){var A=j(_),k=A/(r*p)*100;return k}}}var c1e=(function(){function e(t,n){var r=n.accessors,a=n.slotMetrics;cr(this,e);var i=a.getRange(r.start(t),r.end(t)),l=i.start,u=i.startDate,d=i.end,h=i.endDate,p=i.top,m=i.height;this.start=l,this.end=d,this.startMs=+u,this.endMs=+h,this.top=p,this.height=m,this.data=t}return ur(e,[{key:"_width",get:function(){if(this.rows){var n=this.rows.reduce(function(a,i){return Math.max(a,i.leaves.length+1)},0)+1;return 100/n}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var n=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:n;var a=this.row.leaves,i=a.indexOf(this);return i===a.length-1?n:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var n=this.row,r=n.leaves,a=n.xOffset,i=n._width,l=r.indexOf(this)+1;return a+l*i}}])})();function u1e(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function d1e(e){for(var t=ixe(e,["startMs",function(u){return-u.endMs}]),n=[];t.length>0;){var r=t.shift();n.push(r);for(var a=0;a<t.length;a++){var i=t[a];if(!(r.endMs>i.startMs)){if(a>0){var l=t.splice(a,1)[0];n.push(l)}break}}}return n}function rq(e){for(var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,a=e.accessors,i=t.map(function(p){return new c1e(p,{slotMetrics:r,accessors:a})}),l=d1e(i),u=[],d=function(){var m=l[h],g=u.find(function(x){return x.end>m.start||Math.abs(m.start-x.start)<n});if(!g)return m.rows=[],u.push(m),1;m.container=g;for(var y=null,S=g.rows.length-1;!y&&S>=0;S--)u1e(g.rows[S],m,n)&&(y=g.rows[S]);y?(y.leaves.push(m),m.row=y):(m.leaves=[],g.rows.push(m))},h=0;h<l.length;h++)d();return l.map(function(p){return{event:p.data,style:{top:p.top,height:p.height,width:p.width,xOffset:Math.max(0,p.xOffset)}}})}function aq(e,t,n){for(var r=0;r<e.friends.length;++r)if(!(n.indexOf(e.friends[r])>-1)){t=t>e.friends[r].idx?t:e.friends[r].idx,n.push(e.friends[r]);var a=aq(e.friends[r],t,n);t=t>a?t:a}return t}function f1e(e){var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,a=e.accessors,i=rq({events:t,minimumStartDifference:n,slotMetrics:r,accessors:a});i.sort(function(W,N){return W=W.style,N=N.style,W.top!==N.top?W.top>N.top?1:-1:W.height!==N.height?W.top+W.height<N.top+N.height?1:-1:0});for(var l=0;l<i.length;++l)i[l].friends=[],delete i[l].style.left,delete i[l].style.left,delete i[l].idx,delete i[l].size;for(var u=0;u<i.length-1;++u)for(var d=i[u],h=d.style.top,p=d.style.top+d.style.height,m=u+1;m<i.length;++m){var g=i[m],y=g.style.top,S=g.style.top+g.style.height;(y>=h&&S<=p||S>h&&S<=p||y>=h&&y<p)&&(d.friends.push(g),g.friends.push(d))}for(var x=0;x<i.length;++x){for(var C=i[x],T=[],j=0;j<100;++j)T.push(1);for(var R=0;R<C.friends.length;++R)C.friends[R].idx!==void 0&&(T[C.friends[R].idx]=0);C.idx=T.indexOf(1)}for(var _=0;_<i.length;++_){var A=0;if(!i[_].size){var k=[],D=aq(i[_],0,k);A=100/(D+1),i[_].size=A;for(var O=0;O<k.length;++O)k[O].size=A}}for(var M=0;M<i.length;++M){var I=i[M];I.style.left=I.idx*I.size;for(var L=0,V=0;V<I.friends.length;++V){var q=I.friends[V].idx;L=L>q?L:q}L<=I.idx&&(I.size=100-I.idx*I.size);var U=I.idx===0?0:3;I.style.width="calc(".concat(I.size,"% - ").concat(U,"px)"),I.style.height="calc(".concat(I.style.height,"% - 2px)"),I.style.xOffset="calc(".concat(I.style.left,"% + ").concat(U,"px)")}return i}var IL={overlap:rq,"no-overlap":f1e};function h1e(e){return!!(e&&e.constructor&&e.call&&e.apply)}function p1e(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,n=t;return t in IL&&(n=IL[t]),h1e(n)?n.apply(this,arguments):[]}var iq=(function(e){function t(){return cr(this,t),Wr(this,t,arguments)}return Gr(t,e),ur(t,[{key:"render",value:function(){var r=this.props,a=r.renderSlot,i=r.resource,l=r.group,u=r.getters,d=r.components,h=d===void 0?{}:d,p=h.timeSlotWrapper,m=p===void 0?ao:p,g=u?u.slotGroupProp(l):{};return te.createElement("div",Object.assign({className:"rbc-timeslot-group"},g),l.map(function(y,S){var x=u?u.slotProp(y,i):{};return te.createElement(m,{key:S,value:y,resource:i},te.createElement("div",Object.assign({},x,{className:Ln("rbc-time-slot",x.className)}),a&&a(y,S)))}))}}])})(b.Component);function ng(e){return typeof e=="string"?e:e+"%"}function m1e(e){var t=e.style,n=e.className,r=e.event,a=e.accessors,i=e.rtl,l=e.selected,u=e.label,d=e.continuesPrior,h=e.continuesAfter,p=e.getters,m=e.onClick,g=e.onDoubleClick,y=e.isBackgroundEvent,S=e.onKeyPress,x=e.components,C=x.event,T=x.eventWrapper,j=a.title(r),R=a.tooltip(r),_=a.end(r),A=a.start(r),k=p.eventProp(r,A,_,l),D=[te.createElement("div",{key:"1",className:"rbc-event-label"},u),te.createElement("div",{key:"2",className:"rbc-event-content"},C?te.createElement(C,{event:r,title:j}):j)],O=t.height,M=t.top,I=t.width,L=t.xOffset,V=fn(fn({},k.style),{},Ql({top:ng(M),height:ng(O),width:ng(I)},i?"right":"left",ng(L)));return te.createElement(T,Object.assign({type:"time"},e),te.createElement("div",{role:"button",tabIndex:0,onClick:m,onDoubleClick:g,style:V,onKeyDown:S,title:R?(typeof u=="string"?u+": ":"")+R:void 0,className:Ln(y?"rbc-background-event":"rbc-event",n,k.className,{"rbc-selected":l,"rbc-event-continues-earlier":d,"rbc-event-continues-later":h})},D))}var g1e=function(t){var n=t.children,r=t.className,a=t.style,i=t.innerRef;return te.createElement("div",{className:r,style:a,ref:i},n)},v1e=te.forwardRef(function(e,t){return te.createElement(g1e,Object.assign({},e,{innerRef:t}))}),y1e=["dayProp"],b1e=["eventContainerWrapper","timeIndicatorWrapper"],oq=(function(e){function t(){var n;cr(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Wr(this,t,[].concat(a)),n.state={selecting:!1,timeIndicatorPosition:null},n.intervalTriggered=!1,n.renderEvents=function(l){var u=l.events,d=l.isBackgroundEvent,h=n.props,p=h.rtl,m=h.selected,g=h.accessors,y=h.localizer,S=h.getters,x=h.components,C=h.step,T=h.timeslots,j=h.dayLayoutAlgorithm,R=h.resizable,_=n,A=_.slotMetrics,k=y.messages,D=p1e({events:u,accessors:g,slotMetrics:A,minimumStartDifference:Math.ceil(C*T/2),dayLayoutAlgorithm:j});return D.map(function(O,M){var I,L=O.event,V=O.style,q=g.end(L),U=g.start(L),W=(I=g.eventId(L))!==null&&I!==void 0?I:"evt_"+M,N="eventTimeRangeFormat",z,$=A.startsBeforeDay(U),G=A.startsAfterDay(q);$?N="eventTimeRangeEndFormat":G&&(N="eventTimeRangeStartFormat"),$&&G?z=k.allDay:z=y.format({start:U,end:q},N);var X=$||A.startsBefore(U),H=G||A.startsAfter(q);return te.createElement(m1e,{style:V,event:L,label:z,key:W,getters:S,rtl:p,components:x,continuesPrior:X,continuesAfter:H,accessors:g,resource:n.props.resource,selected:i0(L,m),onClick:function(Q){return n._select(fn(fn(fn({},L),n.props.resource&&{sourceResource:n.props.resource}),d&&{isBackgroundEvent:!0}),Q)},onDoubleClick:function(Q){return n._doubleClick(L,Q)},isBackgroundEvent:d,onKeyPress:function(Q){return n._keyPress(L,Q)},resizable:R})})},n._selectable=function(){var l=n.containerRef.current,u=n.props,d=u.longPressThreshold,h=u.localizer,p=n._selector=new Z8(function(){return l},{longPressThreshold:d}),m=function(x){var C=n.props.onSelecting,T=n.state||{},j=g(x),R=j.startDate,_=j.endDate;C&&(h.eq(T.startDate,R,"minutes")&&h.eq(T.endDate,_,"minutes")||C({start:R,end:_,resourceId:n.props.resource})===!1)||(n.state.start!==j.start||n.state.end!==j.end||n.state.selecting!==j.selecting)&&n.setState(j)},g=function(x){var C=n.slotMetrics.closestSlotFromPoint(x,Ec(l));n.state.selecting||(n._initialSlot=C);var T=n._initialSlot;h.lte(T,C)?C=n.slotMetrics.nextSlot(C):h.gt(T,C)&&(T=n.slotMetrics.nextSlot(T));var j=n.slotMetrics.getRange(h.min(T,C),h.max(T,C));return fn(fn({},j),{},{selecting:!0,top:"".concat(j.top,"%"),height:"".concat(j.height,"%")})},y=function(x,C){if(!hv(n.containerRef.current,x)){var T=g(x),j=T.startDate,R=T.endDate;n._selectSlot({startDate:j,endDate:R,action:C,box:x})}n.setState({selecting:!1})};p.on("selecting",m),p.on("selectStart",m),p.on("beforeSelect",function(S){if(n.props.selectable==="ignoreEvents")return!hv(n.containerRef.current,S)}),p.on("click",function(S){return y(S,"click")}),p.on("doubleClick",function(S){return y(S,"doubleClick")}),p.on("select",function(S){n.state.selecting&&(n._selectSlot(fn(fn({},n.state),{},{action:"select",bounds:S})),n.setState({selecting:!1}))}),p.on("reset",function(){n.state.selecting&&n.setState({selecting:!1})})},n._teardownSelectable=function(){n._selector&&(n._selector.teardown(),n._selector=null)},n._selectSlot=function(l){for(var u=l.startDate,d=l.endDate,h=l.action,p=l.bounds,m=l.box,g=u,y=[];n.props.localizer.lte(g,d);)y.push(g),g=new Date(+g+n.props.step*60*1e3);yn(n.props.onSelectSlot,{slots:y,start:u,end:d,resourceId:n.props.resource,action:h,bounds:p,box:m})},n._select=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];yn(n.props.onSelectEvent,u)},n._doubleClick=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];yn(n.props.onDoubleClickEvent,u)},n._keyPress=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];yn(n.props.onKeyPressEvent,u)},n.slotMetrics=a2(n.props),n.containerRef=b.createRef(),n}return Gr(t,e),ur(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,a){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable();var i=this.props,l=i.getNow,u=i.isNow,d=i.localizer,h=i.date,p=i.min,m=i.max,g=d.neq(r.getNow(),l(),"minutes");if(r.isNow!==u||g){if(this.clearTimeIndicatorInterval(),u){var y=!g&&d.eq(r.date,h,"minutes")&&a.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(y)}}else u&&(d.neq(r.min,p,"minutes")||d.neq(r.max,m,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!a&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,a=r.min,i=r.max,l=r.getNow,u=l();if(u>=a&&u<=i){var d=this.slotMetrics.getCurrentTimePosition(u);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:d})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,a=r.date,i=r.max,l=r.rtl,u=r.isNow,d=r.resource,h=r.accessors,p=r.localizer,m=r.getters,g=m.dayProp,y=wo(m,y1e),S=r.components,x=S.eventContainerWrapper,C=S.timeIndicatorWrapper,T=wo(S,b1e);this.slotMetrics=this.slotMetrics.update(this.props);var j=this.slotMetrics,R=this.state,_=R.selecting,A=R.top,k=R.height,D=R.startDate,O=R.endDate,M={start:D,end:O},I=g(i,d),L=I.className,V=I.style,q={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},U=T.dayColumnWrapper||v1e;return te.createElement(U,{ref:this.containerRef,date:a,style:V,className:Ln(L,"rbc-day-slot","rbc-time-column",u&&"rbc-now",u&&"rbc-today",_&&"rbc-slot-selecting"),slotMetrics:j,resource:d},j.groups.map(function(W,N){return te.createElement(iq,{key:N,group:W,resource:d,getters:y,components:T})}),te.createElement(x,{localizer:p,resource:d,accessors:h,getters:y,components:T,slotMetrics:j},te.createElement("div",{className:Ln("rbc-events-container",l&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),_&&te.createElement("div",{className:"rbc-slot-selection",style:{top:A,height:k}},te.createElement("span",null,p.format(M,"selectRangeFormat"))),u&&this.intervalTriggered&&te.createElement(C,q,te.createElement("div",q)))}}])})(te.Component);oq.defaultProps={dragThroughEvents:!0,timeslots:2};var sq=function(t){var n=t.label;return te.createElement(te.Fragment,null,n)},x1e=(function(e){function t(){var n;cr(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Wr(this,t,[].concat(a)),n.handleHeaderClick=function(l,u,d){d.preventDefault(),yn(n.props.onDrillDown,[l,u])},n.renderRow=function(l){var u=n.props,d=u.events,h=u.rtl,p=u.selectable,m=u.getNow,g=u.range,y=u.getters,S=u.localizer,x=u.accessors,C=u.components,T=u.resizable,j=x.resourceId(l),R=l?d.filter(function(_){return x.resource(_)===j}):d;return te.createElement(_h,{isAllDay:!0,rtl:h,getNow:m,minRows:2,maxRows:n.props.allDayMaxRows+1,range:g,events:R,resourceId:j,className:"rbc-allday-cell",selectable:p,selected:n.props.selected,components:C,accessors:x,getters:y,localizer:S,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyPress:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:T})},n}return Gr(t,e),ur(t,[{key:"renderHeaderCells",value:function(r){var a=this,i=this.props,l=i.localizer,u=i.getDrilldownView,d=i.getNow,h=i.getters.dayProp,p=i.components.header,m=p===void 0?r2:p,g=d();return r.map(function(y,S){var x=u(y),C=l.format(y,"dayFormat"),T=h(y),j=T.className,R=T.style,_=te.createElement(m,{date:y,label:C,localizer:l});return te.createElement("div",{key:S,style:R,className:Ln("rbc-header",j,l.isSameDate(y,g)&&"rbc-today")},x?te.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(k){return a.handleHeaderClick(y,x,k)}},_):te.createElement("span",null,_))})}},{key:"render",value:function(){var r=this,a=this.props,i=a.width,l=a.rtl,u=a.resources,d=a.range,h=a.events,p=a.getNow,m=a.accessors,g=a.selectable,y=a.components,S=a.getters,x=a.scrollRef,C=a.localizer,T=a.isOverflowing,j=a.components,R=j.timeGutterHeader,_=j.resourceHeader,A=_===void 0?sq:_,k=a.resizable,D={};T&&(D[l?"marginLeft":"marginRight"]="".concat(L_()-1,"px"));var O=u.groupEvents(h);return te.createElement("div",{style:D,ref:x,className:Ln("rbc-time-header",T&&"rbc-overflowing")},te.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},R&&te.createElement(R,null)),u.map(function(M,I){var L=ui(M,2),V=L[0],q=L[1];return te.createElement("div",{className:"rbc-time-header-content",key:V||I},q&&te.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(I)},te.createElement("div",{className:"rbc-header"},te.createElement(A,{index:I,label:m.resourceTitle(q),resource:q}))),te.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(d.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(d)),te.createElement(_h,{isAllDay:!0,rtl:l,getNow:p,minRows:2,maxRows:r.props.allDayMaxRows+1,range:d,events:O.get(V)||[],resourceId:q&&V,className:"rbc-allday-cell",selectable:g,selected:r.props.selected,components:y,accessors:m,getters:S,localizer:C,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:k}))}))}}])})(te.Component),S1e=(function(e){function t(){var n;cr(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Wr(this,t,[].concat(a)),n.handleHeaderClick=function(l,u,d){d.preventDefault(),yn(n.props.onDrillDown,[l,u])},n}return Gr(t,e),ur(t,[{key:"renderHeaderCells",value:function(r){var a=this,i=this.props,l=i.localizer,u=i.getDrilldownView,d=i.getNow,h=i.getters.dayProp,p=i.components,m=p.header,g=m===void 0?r2:m,y=p.resourceHeader,S=y===void 0?sq:y,x=i.resources,C=i.accessors,T=i.events,j=i.rtl,R=i.selectable,_=i.components,A=i.getters,k=i.resizable,D=d(),O=x.groupEvents(T);return r.map(function(M,I){var L=u(M),V=l.format(M,"dayFormat"),q=h(M),U=q.className,W=q.style,N=te.createElement(g,{date:M,label:V,localizer:l});return te.createElement("div",{key:I,className:"rbc-time-header-content rbc-resource-grouping"},te.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(r.length<=1?" rbc-time-header-cell-single-day":"")},te.createElement("div",{style:W,className:Ln("rbc-header",U,l.isSameDate(M,D)&&"rbc-today")},L?te.createElement("button",{type:"button",className:"rbc-button-link",onClick:function($){return a.handleHeaderClick(M,L,$)}},N):te.createElement("span",null,N))),te.createElement("div",{className:"rbc-row"},x.map(function(z,$){var G=ui(z,2),X=G[0],H=G[1];return te.createElement("div",{key:"resource_".concat(X,"_").concat($),className:Ln("rbc-header",U,l.isSameDate(M,D)&&"rbc-today")},te.createElement(S,{index:$,label:C.resourceTitle(H),resource:H}))})),te.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},x.map(function(z,$){var G=ui(z,2),X=G[0],H=G[1],F=(O.get(X)||[]).filter(function(Q){return l.isSameDate(Q.start,M)||l.isSameDate(Q.end,M)});return te.createElement(_h,{key:"resource_".concat(X,"_").concat($),isAllDay:!0,rtl:j,getNow:d,minRows:2,maxRows:a.props.allDayMaxRows+1,range:[M],events:F,resourceId:H&&X,className:"rbc-allday-cell",selectable:R,selected:a.props.selected,components:_,accessors:C,getters:A,localizer:l,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:k})})))})}},{key:"render",value:function(){var r=this.props,a=r.width,i=r.rtl,l=r.range,u=r.scrollRef,d=r.isOverflowing,h=r.components.timeGutterHeader,p={};return d&&(p[i?"marginLeft":"marginRight"]="".concat(L_()-1,"px")),te.createElement("div",{style:p,ref:u,className:Ln("rbc-time-header",d&&"rbc-overflowing")},te.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},h&&te.createElement(h,null)),this.renderHeaderCells(l))}}])})(te.Component);function w1e(e){var t=e.min,n=e.max,r=e.localizer;return r.getTimezoneOffset(t)!==r.getTimezoneOffset(n)?{start:r.add(t,-1,"day"),end:r.add(n,-1,"day")}:{start:t,end:n}}var C1e=function(t){var n=t.min,r=t.max,a=t.timeslots,i=t.step,l=t.localizer,u=t.getNow,d=t.resource,h=t.components,p=t.getters,m=t.gutterRef,g=h.timeGutterWrapper,y=b.useMemo(function(){return w1e({min:n,max:r,localizer:l})},[n?.toISOString(),r?.toISOString(),l]),S=y.start,x=y.end,C=b.useState(a2({min:S,max:x,timeslots:a,step:i,localizer:l})),T=ui(C,2),j=T[0],R=T[1];b.useEffect(function(){j&&R(j.update({min:S,max:x,timeslots:a,step:i,localizer:l}))},[S?.toISOString(),x?.toISOString(),a,i]);var _=b.useCallback(function(A,k){if(k)return null;var D=j.dateIsInGroup(u(),k);return te.createElement("span",{className:Ln("rbc-label",D&&"rbc-now")},l.format(A,"timeGutterFormat"))},[j,l,u]);return te.createElement(g,{slotMetrics:j},te.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:m},j.groups.map(function(A,k){return te.createElement(iq,{key:k,group:A,resource:d,components:h,renderSlot:_,getters:p})})))},j1e=te.forwardRef(function(e,t){return te.createElement(C1e,Object.assign({gutterRef:t},e))}),ZC={};function E1e(e,t){return{map:function(r){return e?e.map(function(a,i){return r([t.resourceId(a),a],i)}):[r([ZC,null],0)]},groupEvents:function(r){var a=new Map;return e?(r.forEach(function(i){var l=t.resource(i)||ZC;if(Array.isArray(l))l.forEach(function(d){var h=a.get(d)||[];h.push(i),a.set(d,h)});else{var u=a.get(l)||[];u.push(i),a.set(l,u)}}),a):(a.set(ZC,r),a)}}}var Md=(function(e){function t(n){var r;return cr(this,t),r=Wr(this,t,[n]),r.handleScroll=function(a){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=a.target.scrollLeft)},r.handleResize=function(){XN(r.rafHandle),r.rafHandle=p8(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];yn(r.props.onKeyPressEvent,i)},r.handleSelectEvent=function(){r.clearSelection();for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];yn(r.props.onSelectEvent,i)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];yn(r.props.onDoubleClickEvent,i)},r.handleShowMore=function(a,i,l,u,d){var h=r.props,p=h.popup,m=h.onDrillDown,g=h.onShowMore,y=h.getDrilldownView,S=h.doShowMoreDrillDown;if(r.clearSelection(),p){var x=h8(l,r.containerRef.current);r.setState({overlay:{date:i,events:a,position:fn(fn({},x),{},{width:"200px"}),target:d}})}else S&&yn(m,[i,y(i)||Xr.DAY]);yn(g,[a,i,u])},r.handleSelectAllDaySlot=function(a,i){var l=r.props.onSelectSlot,u=new Date(a[0]),d=new Date(a[a.length-1]);d.setDate(a[a.length-1].getDate()+1),yn(l,{slots:a,start:u,end:d,action:i.action,resourceId:i.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var a=r.contentRef.current;if(a!=null&&a.scrollHeight){var i=a.scrollHeight>a.clientHeight;r.state.isOverflowing!==i&&(r._updatingOverflow=!0,r.setState({isOverflowing:i},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=P8(function(a,i){return E1e(a,i)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=te.createRef(),r.contentRef=te.createRef(),r.containerRef=te.createRef(),r._scrollRatio=null,r.gutterRef=b.createRef(),r}return Gr(t,e),ur(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),XN(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(r,a,i,l,u,d,h,p,m,g){var y=this.props,S=y.min,x=y.max,C=(l.get(a)||[]).filter(function(j){return d.inRange(r,h.start(j),h.end(j),"day")}),T=(u.get(a)||[]).filter(function(j){return d.inRange(r,h.start(j),h.end(j),"day")});return te.createElement(oq,Object.assign({},this.props,{localizer:d,min:d.merge(r,S),max:d.merge(r,x),resource:i&&a,components:p,isNow:d.isSameDate(r,g),key:"".concat(a,"-").concat(r),date:r,events:C,backgroundEvents:T,dayLayoutAlgorithm:m}))}},{key:"renderResourcesFirst",value:function(r,a,i,l,u,d,h,p,m){var g=this;return a.map(function(y){var S=ui(y,2),x=S[0],C=S[1];return r.map(function(T){return g.renderDayColumn(T,x,C,i,l,u,d,p,m,h)})})}},{key:"renderRangeFirst",value:function(r,a,i,l,u,d,h,p,m){var g=this;return r.map(function(y){return te.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:y},a.map(function(S){var x=ui(S,2),C=x[0],T=x[1];return te.createElement("div",{style:{flex:1},key:d.resourceId(T)},g.renderDayColumn(y,C,T,i,l,u,d,p,m,h))}))})}},{key:"renderEvents",value:function(r,a,i,l){var u=this.props,d=u.accessors,h=u.localizer,p=u.resourceGroupingLayout,m=u.components,g=u.dayLayoutAlgorithm,y=this.memoizedResources(this.props.resources,d),S=y.groupEvents(a),x=y.groupEvents(i);return p?this.renderRangeFirst(r,y,S,x,h,d,l,m,g):this.renderResourcesFirst(r,y,S,x,h,d,l,m,g)}},{key:"render",value:function(){var r,a=this.props,i=a.events,l=a.backgroundEvents,u=a.range,d=a.width,h=a.rtl,p=a.selected,m=a.getNow,g=a.resources,y=a.components,S=a.accessors,x=a.getters,C=a.localizer,T=a.min,j=a.max,R=a.showMultiDayTimes,_=a.longPressThreshold,A=a.resizable,k=a.resourceGroupingLayout;d=d||this.state.gutterWidth;var D=u[0],O=u[u.length-1];this.slots=u.length;var M=[],I=[],L=[];i.forEach(function(q){if(Rh(q,D,O,S,C)){var U=S.start(q),W=S.end(q);S.allDay(q)||C.startAndEndAreDateOnly(U,W)||!R&&!C.isSameDate(U,W)?M.push(q):I.push(q)}}),l.forEach(function(q){Rh(q,D,O,S,C)&&L.push(q)}),M.sort(function(q,U){return tE(q,U,S,C)});var V={range:u,events:M,width:d,rtl:h,getNow:m,localizer:C,selected:p,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(g,S),selectable:this.props.selectable,accessors:S,getters:x,components:y,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:_,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:A};return te.createElement("div",{className:Ln("rbc-time-view",g&&"rbc-time-view-resources"),ref:this.containerRef},g&&g.length>1&&k?te.createElement(S1e,V):te.createElement(x1e,V),this.props.popup&&this.renderOverlay(),te.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},te.createElement(j1e,{date:D,ref:this.gutterRef,localizer:C,min:C.merge(D,T),max:C.merge(D,j),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:y,className:"rbc-time-gutter",getters:x}),this.renderEvents(u,I,L,m())))}},{key:"renderOverlay",value:function(){var r,a,i=this,l=(r=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&r!==void 0?r:{},u=this.props,d=u.accessors,h=u.localizer,p=u.components,m=u.getters,g=u.selected,y=u.popupOffset,S=u.handleDragStart,x=function(){return i.setState({overlay:null})};return te.createElement(n2,{overlay:l,accessors:d,localizer:h,components:p,getters:m,selected:g,popupOffset:y,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:S,show:!!l.position,overlayDisplay:this.overlayDisplay,onHide:x})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var a,i=(a=r.gutterRef)!==null&&a!==void 0&&a.current?Zj(r.gutterRef.current):void 0;i&&r.state.gutterWidth!==i&&r.setState({gutterWidth:i})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=r.min,i=r.max,l=r.scrollToTime,u=r.localizer,d=u.diff(u.merge(l,a),l,"milliseconds"),h=u.diff(a,i,"milliseconds");this._scrollRatio=d/h}}])})(b.Component);Md.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var T1e=["date","localizer","min","max","scrollToTime","enableAutoScroll"],s0=(function(e){function t(){return cr(this,t),Wr(this,t,arguments)}return Gr(t,e),ur(t,[{key:"render",value:function(){var r=this.props,a=r.date,i=r.localizer,l=r.min,u=l===void 0?i.startOf(new Date,"day"):l,d=r.max,h=d===void 0?i.endOf(new Date,"day"):d,p=r.scrollToTime,m=p===void 0?i.startOf(new Date,"day"):p,g=r.enableAutoScroll,y=g===void 0?!0:g,S=wo(r,T1e),x=t.range(a,{localizer:i});return te.createElement(Md,Object.assign({},S,{range:x,eventOffset:10,localizer:i,min:u,max:h,scrollToTime:m,enableAutoScroll:y}))}}])})(te.Component);s0.range=function(e,t){var n=t.localizer;return[n.startOf(e,"day")]};s0.navigate=function(e,t,n){var r=n.localizer;switch(t){case ma.PREVIOUS:return r.add(e,-1,"day");case ma.NEXT:return r.add(e,1,"day");default:return e}};s0.title=function(e,t){var n=t.localizer;return n.format(e,"dayHeaderFormat")};var R1e=["date","localizer","min","max","scrollToTime","enableAutoScroll"],ll=(function(e){function t(){return cr(this,t),Wr(this,t,arguments)}return Gr(t,e),ur(t,[{key:"render",value:function(){var r=this.props,a=r.date,i=r.localizer,l=r.min,u=l===void 0?i.startOf(new Date,"day"):l,d=r.max,h=d===void 0?i.endOf(new Date,"day"):d,p=r.scrollToTime,m=p===void 0?i.startOf(new Date,"day"):p,g=r.enableAutoScroll,y=g===void 0?!0:g,S=wo(r,R1e),x=t.range(a,this.props);return te.createElement(Md,Object.assign({},S,{range:x,eventOffset:15,localizer:i,min:u,max:h,scrollToTime:m,enableAutoScroll:y}))}}])})(te.Component);ll.defaultProps=Md.defaultProps;ll.navigate=function(e,t,n){var r=n.localizer;switch(t){case ma.PREVIOUS:return r.add(e,-1,"week");case ma.NEXT:return r.add(e,1,"week");default:return e}};ll.range=function(e,t){var n=t.localizer,r=n.startOfWeek(),a=n.startOf(e,"week",r),i=n.endOf(e,"week",r);return n.range(a,i)};ll.title=function(e,t){var n=t.localizer,r=ll.range(e,{localizer:n}),a=q8(r),i=a[0],l=a.slice(1);return n.format({start:i,end:l.pop()},"dayRangeHeaderFormat")};var _1e=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function i2(e,t){return ll.range(e,t).filter(function(n){return[6,0].indexOf(n.getDay())===-1})}var mp=(function(e){function t(){return cr(this,t),Wr(this,t,arguments)}return Gr(t,e),ur(t,[{key:"render",value:function(){var r=this.props,a=r.date,i=r.localizer,l=r.min,u=l===void 0?i.startOf(new Date,"day"):l,d=r.max,h=d===void 0?i.endOf(new Date,"day"):d,p=r.scrollToTime,m=p===void 0?i.startOf(new Date,"day"):p,g=r.enableAutoScroll,y=g===void 0?!0:g,S=wo(r,_1e),x=i2(a,this.props);return te.createElement(Md,Object.assign({},S,{range:x,eventOffset:15,localizer:i,min:u,max:h,scrollToTime:m,enableAutoScroll:y}))}}])})(te.Component);mp.defaultProps=Md.defaultProps;mp.range=i2;mp.navigate=ll.navigate;mp.title=function(e,t){var n=t.localizer,r=i2(e,{localizer:n}),a=q8(r),i=a[0],l=a.slice(1);return n.format({start:i,end:l.pop()},"dayRangeHeaderFormat")};var l0=30;function c0(e){var t=e.accessors,n=e.components,r=e.date,a=e.events,i=e.getters,l=e.length,u=l===void 0?l0:l,d=e.localizer,h=e.onDoubleClickEvent,p=e.onSelectEvent,m=e.selected,g=b.useRef(null),y=b.useRef(null),S=b.useRef(null),x=b.useRef(null),C=b.useRef(null);b.useEffect(function(){R()});var T=function(O,M,I){var L=n.event,V=n.date;return M=M.filter(function(q){return Rh(q,d.startOf(O,"day"),d.endOf(O,"day"),t,d)}),M.map(function(q,U){var W=t.title(q),N=t.end(q),z=t.start(q),$=i.eventProp(q,z,N,i0(q,m)),G=U===0&&d.format(O,"agendaDateFormat"),X=U===0?te.createElement("td",{rowSpan:M.length,className:"rbc-agenda-date-cell"},V?te.createElement(V,{day:O,label:G}):G):!1;return te.createElement("tr",{key:I+"_"+U,className:$.className,style:$.style},X,te.createElement("td",{className:"rbc-agenda-time-cell"},j(O,q)),te.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(F){return p&&p(q,F)},onDoubleClick:function(F){return h&&h(q,F)}},L?te.createElement(L,{event:q,title:W}):W))},[])},j=function(O,M){var I="",L=n.time,V=d.messages.allDay,q=t.end(M),U=t.start(M);return t.allDay(M)||(d.eq(U,q)?V=d.format(U,"agendaTimeFormat"):d.isSameDate(U,q)?V=d.format({start:U,end:q},"agendaTimeRangeFormat"):d.isSameDate(O,U)?V=d.format(U,"agendaTimeFormat"):d.isSameDate(O,q)&&(V=d.format(q,"agendaTimeFormat"))),d.gt(O,U,"day")&&(I="rbc-continues-prior"),d.lt(O,q,"day")&&(I+=" rbc-continues-after"),te.createElement("span",{className:I.trim()},L?te.createElement(L,{event:M,day:O,label:V}):V)},R=function(){if(C.current){var O=g.current,M=C.current.firstChild;if(M){var I=x.current.scrollHeight>x.current.clientHeight,L=[],V=L;L=[Zj(M.children[0]),Zj(M.children[1])],(V[0]!==L[0]||V[1]!==L[1])&&(y.current.style.width=L[0]+"px",S.current.style.width=L[1]+"px"),I?(dZ(O,"rbc-header-overflowing"),O.style.marginRight=L_()+"px"):fZ(O,"rbc-header-overflowing")}}},_=d.messages,A=d.add(r,u,"day"),k=d.range(r,A,"day");return a=a.filter(function(D){return Rh(D,d.startOf(r,"day"),d.endOf(A,"day"),t,d)}),a.sort(function(D,O){return+t.start(D)-+t.start(O)}),te.createElement("div",{className:"rbc-agenda-view"},a.length!==0?te.createElement(te.Fragment,null,te.createElement("table",{ref:g,className:"rbc-agenda-table"},te.createElement("thead",null,te.createElement("tr",null,te.createElement("th",{className:"rbc-header",ref:y},_.date),te.createElement("th",{className:"rbc-header",ref:S},_.time),te.createElement("th",{className:"rbc-header"},_.event)))),te.createElement("div",{className:"rbc-agenda-content",ref:x},te.createElement("table",{className:"rbc-agenda-table"},te.createElement("tbody",{ref:C},k.map(function(D,O){return T(D,a,O)}))))):te.createElement("span",{className:"rbc-agenda-empty"},_.noEventsInRange))}c0.range=function(e,t){var n=t.length,r=n===void 0?l0:n,a=t.localizer,i=a.add(e,r,"day");return{start:e,end:i}};c0.navigate=function(e,t,n){var r=n.length,a=r===void 0?l0:r,i=n.localizer;switch(t){case ma.PREVIOUS:return i.add(e,-a,"day");case ma.NEXT:return i.add(e,a,"day");default:return e}};c0.title=function(e,t){var n=t.length,r=n===void 0?l0:n,a=t.localizer,i=a.add(e,r,"day");return a.format({start:e,end:i},"agendaHeaderFormat")};var kg=Ql(Ql(Ql(Ql(Ql({},Xr.MONTH,o0),Xr.WEEK,ll),Xr.WORK_WEEK,mp),Xr.DAY,s0),Xr.AGENDA,c0),D1e=["action","date","today"];function A1e(e,t){var n=t.action,r=t.date,a=t.today,i=wo(t,D1e);switch(e=typeof e=="string"?kg[e]:e,n){case ma.TODAY:r=a||new Date;break;case ma.DATE:break;default:mh(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=e.navigate(r,n,i)}return r}function O1e(e,t){var n=null;return typeof t=="function"?n=t(e):typeof t=="string"&&ts(e)==="object"&&e!=null&&t in e&&(n=e[t]),n}var Fo=function(t){return function(n){return O1e(n,t)}},k1e=["view","date","getNow","onNavigate"],M1e=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function lq(e){if(Array.isArray(e))return e;for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var a=ui(r[n],2),i=a[0],l=a[1];l&&t.push(i)}return t}function P1e(e,t){var n=t.views,r=lq(n);return r.indexOf(e)!==-1}var cq=(function(e){function t(){var n;cr(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Wr(this,t,[].concat(a)),n.getViews=function(){var l=n.props.views;return Array.isArray(l)?Fxe(l,function(u,d){return u[d]=kg[d]},{}):ts(l)==="object"?hxe(l,function(u,d){return u===!0?kg[d]:u}):kg},n.getView=function(){var l=n.getViews();return l[n.props.view]},n.getDrilldownView=function(l){var u=n.props,d=u.view,h=u.drilldownView,p=u.getDrilldownView;return p?p(l,d,Object.keys(n.getViews())):h},n.handleRangeChange=function(l,u,d){var h=n.props,p=h.onRangeChange,m=h.localizer;p&&u.range&&p(u.range(l,{localizer:m}),d)},n.handleNavigate=function(l,u){var d=n.props,h=d.view,p=d.date,m=d.getNow,g=d.onNavigate,y=wo(d,k1e),S=n.getView(),x=m();p=A1e(S,fn(fn({},y),{},{action:l,date:u||p||x,today:x})),g(p,h,l),n.handleRangeChange(p,S)},n.handleViewChange=function(l){l!==n.props.view&&P1e(l,n.props)&&n.props.onView(l);var u=n.getViews();n.handleRangeChange(n.props.date||n.props.getNow(),u[l],l)},n.handleSelectEvent=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];yn(n.props.onSelectEvent,u)},n.handleDoubleClickEvent=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];yn(n.props.onDoubleClickEvent,u)},n.handleKeyPressEvent=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];yn(n.props.onKeyPressEvent,u)},n.handleSelectSlot=function(l){yn(n.props.onSelectSlot,l)},n.handleDrillDown=function(l,u){var d=n.props.onDrillDown;if(d){d(l,u,n.drilldownView);return}u&&n.handleViewChange(u),n.handleNavigate(ma.DATE,l)},n.state={context:t.getContext(n.props)},n}return Gr(t,e),ur(t,[{key:"render",value:function(){var r=this.props,a=r.view,i=r.toolbar,l=r.events,u=r.backgroundEvents,d=r.resourceGroupingLayout,h=r.style,p=r.className,m=r.elementProps,g=r.date,y=r.getNow,S=r.length,x=r.showMultiDayTimes,C=r.onShowMore,T=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var j=wo(r,M1e);g=g||y();var R=this.getView(),_=this.state.context,A=_.accessors,k=_.components,D=_.getters,O=_.localizer,M=_.viewNames,I=k.toolbar||LSe,L=R.title(g,{localizer:O,length:S});return te.createElement("div",Object.assign({},m,{className:Ln(p,"rbc-calendar",j.rtl&&"rbc-rtl"),style:h}),i&&te.createElement(I,{date:g,view:a,views:M,label:L,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:O}),te.createElement(R,Object.assign({},j,{events:l,backgroundEvents:u,date:g,getNow:y,length:S,localizer:O,getters:D,components:k,accessors:A,showMultiDayTimes:x,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:C,doShowMoreDrillDown:T,resourceGroupingLayout:d})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:t.getContext(r)}}},{key:"getContext",value:function(r){var a=r.startAccessor,i=r.endAccessor,l=r.allDayAccessor,u=r.tooltipAccessor,d=r.titleAccessor,h=r.resourceAccessor,p=r.resourceIdAccessor,m=r.resourceTitleAccessor,g=r.eventIdAccessor,y=r.eventPropGetter,S=r.backgroundEventPropGetter,x=r.slotPropGetter,C=r.slotGroupPropGetter,T=r.dayPropGetter,j=r.view,R=r.views,_=r.localizer,A=r.culture,k=r.messages,D=k===void 0?{}:k,O=r.components,M=O===void 0?{}:O,I=r.formats,L=I===void 0?{}:I,V=lq(R),q=$Se(D);return{viewNames:V,localizer:ISe(_,A,L,q),getters:{eventProp:function(){return y&&y.apply(void 0,arguments)||{}},backgroundEventProp:function(){return S&&S.apply(void 0,arguments)||{}},slotProp:function(){return x&&x.apply(void 0,arguments)||{}},slotGroupProp:function(){return C&&C.apply(void 0,arguments)||{}},dayProp:function(){return T&&T.apply(void 0,arguments)||{}}},components:uxe(M[j]||{},Uxe(M,V),{eventWrapper:ao,backgroundEventWrapper:ao,eventContainerWrapper:ao,dateCellWrapper:ao,weekWrapper:ao,timeSlotWrapper:ao,timeGutterWrapper:ao,timeIndicatorWrapper:ao}),accessors:{start:Fo(a),end:Fo(i),allDay:Fo(l),tooltip:Fo(u),title:Fo(d),resource:Fo(h),resourceId:Fo(p),resourceTitle:Fo(m),eventId:Fo(g)}}}}])})(te.Component);cq.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Xr.MONTH,views:[Xr.MONTH,Xr.WEEK,Xr.DAY,Xr.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Xr.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var N1e=X7(cq,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),I1e=function(t,n,r){var a=t.start,i=t.end;return r.format(a,"MMMM DD",n)+" â€“ "+r.format(i,r.eq(a,i,"month")?"DD":"MMMM DD",n)},L1e=function(t,n,r){var a=t.start,i=t.end;return r.format(a,"L",n)+" â€“ "+r.format(i,"L",n)},JC=function(t,n,r){var a=t.start,i=t.end;return r.format(a,"LT",n)+" â€“ "+r.format(i,"LT",n)},z1e=function(t,n,r){var a=t.start;return r.format(a,"LT",n)+" â€“ "},$1e=function(t,n,r){var a=t.end;return" â€“ "+r.format(a,"LT",n)},q1e={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:JC,eventTimeRangeFormat:JC,eventTimeRangeStartFormat:z1e,eventTimeRangeEndFormat:$1e,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:I1e,agendaHeaderFormat:L1e,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:JC};function Us(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function U1e(e){e.extend(Yxe),e.extend(Zxe),e.extend(nSe),e.extend(oSe),e.extend(uSe),e.extend(pSe),e.extend(B7),e.extend(ySe);var t=function(Q,J){return J?Q.locale(J):Q},n=e.tz?e.tz:e;function r(F){return n(F).toDate().getTimezoneOffset()}function a(F,Q){var J,re=n(F),ue=n(Q);if(!n.tz)return re.toDate().getTimezoneOffset()-ue.toDate().getTimezoneOffset();var Ee=(J=re.tz().$x.$timezone)!==null&&J!==void 0?J:e.tz.guess(),Re=-n.tz(+re,Ee).utcOffset(),Se=-n.tz(+ue,Ee).utcOffset();return Re-Se}function i(F){var Q=n(F).startOf("day");return a(Q,F)}function l(F,Q,J){var re=Us(J),ue=re?n(F).startOf(re):n(F),Ee=re?n(Q).startOf(re):n(Q);return[ue,Ee,re]}function u(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Q=arguments.length>1?arguments[1]:void 0,J=Us(Q);return J?n(F).startOf(J).toDate():n(F).toDate()}function d(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Q=arguments.length>1?arguments[1]:void 0,J=Us(Q);return J?n(F).endOf(J).toDate():n(F).toDate()}function h(F,Q,J){var re=l(F,Q,J),ue=ui(re,3),Ee=ue[0],Re=ue[1],Se=ue[2];return Ee.isSame(Re,Se)}function p(F,Q,J){return!h(F,Q,J)}function m(F,Q,J){var re=l(F,Q,J),ue=ui(re,3),Ee=ue[0],Re=ue[1],Se=ue[2];return Ee.isAfter(Re,Se)}function g(F,Q,J){var re=l(F,Q,J),ue=ui(re,3),Ee=ue[0],Re=ue[1],Se=ue[2];return Ee.isBefore(Re,Se)}function y(F,Q,J){var re=l(F,Q,J),ue=ui(re,3),Ee=ue[0],Re=ue[1],Se=ue[2];return Ee.isSameOrBefore(Re,Se)}function S(F,Q,J){var re=l(F,Q,J),ue=ui(re,3),Ee=ue[0],Re=ue[1],Se=ue[2];return Ee.isSameOrBefore(Re,Se)}function x(F,Q,J){var re=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",ue=Us(re),Ee=n(F),Re=n(Q),Se=n(J);return Ee.isBetween(Re,Se,ue,"[]")}function C(F,Q){var J=n(F),re=n(Q),ue=e.min(J,re);return ue.toDate()}function T(F,Q){var J=n(F),re=n(Q),ue=e.max(J,re);return ue.toDate()}function j(F,Q){if(!F&&!Q)return null;var J=n(Q).format("HH:mm:ss"),re=n(F).startOf("day").format("MM/DD/YYYY");return n("".concat(re," ").concat(J)).toDate()}function R(F,Q,J){var re=Us(J);return n(F).add(Q,re).toDate()}function _(F,Q){for(var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",re=Us(J),ue=n(F).toDate(),Ee=[];S(ue,Q);)Ee.push(ue),ue=R(ue,1,re);return Ee}function A(F,Q){var J=Us(Q),re=u(F,J);return h(re,F)?re:R(re,1,J)}function k(F,Q){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",re=Us(J),ue=n(F),Ee=n(Q);return Ee.diff(ue,re)}function D(F){var Q=n(F);return Q.minutes()}function O(F){var Q=F?e.localeData(F):e.localeData();return Q?Q.firstDayOfWeek():0}function M(F){var Q=n(F).startOf("month"),J=n(Q).startOf("week");if(n(Q).isLeapYear()){var re=Q.toDate().getDay(),ue=Q.toDate().getDate()-re+(re==0?-6:1);J.date(ue)}return J.toDate()}function I(F){return n(F).endOf("month").endOf("week").toDate()}function L(F){for(var Q=M(F),J=I(F),re=[];S(Q,J);)re.push(Q),Q=R(Q,1,"d");return re}function V(F,Q,J){return n(F).startOf("day").minute(Q+J).toDate()}function q(F,Q){return k(F,Q,"minutes")}function U(F){var Q=n(F).startOf("day"),J=n(F);return J.diff(Q,"minutes")+i(F)}function W(F,Q){var J=n(F),re=n(Q);return J.isBefore(re,"day")}function N(F,Q,J){var re=n(Q),ue=n(J);return re.isSameOrAfter(ue,"minutes")}function z(F,Q){var J=n(F),re=n(Q);return re.diff(J,"day")}function $(F){var Q=F.evtA,J=Q.start,re=Q.end,ue=Q.allDay,Ee=F.evtB,Re=Ee.start,Se=Ee.end,Ge=Ee.allDay,Ze=+u(J,"day")-+u(Re,"day"),Fe=z(J,re),ze=z(Re,Se);return Ze||ze-Fe||!!Ge-!!ue||+J-+Re||+re-+Se}function G(F){var Q=F.event,J=Q.start,re=Q.end,ue=F.range,Ee=ue.start,Re=ue.end,Se=n(J).startOf("day"),Ge=n(re),Ze=n(Ee),Fe=n(Re),ze=Se.isSameOrBefore(Fe,"day"),pt=!Se.isSame(Ge,"minutes"),Xe=pt?Ge.isAfter(Ze,"minutes"):Ge.isSameOrAfter(Ze,"minutes");return ze&&Xe}function X(F,Q){var J=n(F),re=n(Q);return J.isSame(re,"day")}function H(){var F=new Date,Q=/-/.test(F.toString())?"-":"",J=F.getTimezoneOffset(),re=Number("".concat(Q).concat(Math.abs(J))),ue=n().utcOffset();return ue>re?1:0}return new NSe({formats:q1e,firstOfWeek:O,firstVisibleDay:M,lastVisibleDay:I,visibleDays:L,format:function(Q,J,re){return t(n(Q),re).format(J)},lt:g,lte:S,gt:m,gte:y,eq:h,neq:p,merge:j,inRange:x,startOf:u,endOf:d,range:_,add:R,diff:k,ceil:A,min:C,max:T,minutes:D,getSlotDate:V,getTimezoneOffset:r,getDstOffset:a,getTotalMin:q,getMinutesFromMidnight:U,continuesPrior:W,continuesAfter:N,sortEvents:$,inEventRange:G,isSameDate:X,browserTZOffset:H})}const B1e="_planDefinition_67jgk_1",H1e={planDefinition:B1e};function F1e(e){const{appointmentSlot:t}=e,[n,r]=b.useState(""),[a,i]=b.useState(""),[l,u]=b.useState(),[d,h]=b.useState(),[p,m]=b.useState(),[g,y]=b.useState(t?.start),[S,x]=b.useState(t?.end),[C,T]=b.useState(!1),j=Ae(),R=Rn();b.useEffect(()=>{if(!t)return;const A=new Date(t?.start),k=new Date(t?.end),D={weekday:"short",month:"short",day:"numeric",year:"numeric"},O=A.toLocaleDateString("en-US",D),M={hour:"numeric",minute:"numeric",hour12:!0},I=A.toLocaleTimeString("en-US",M),L=k.toLocaleTimeString("en-US",M),V=`${I} â€“ ${L}`;r(O),i(V)},[t]);async function _(){if(!l||!d||!p||!g||!S){wt({color:"yellow",icon:s.jsx(h7,{}),title:"Error",message:"Please fill out required fields."});return}T(!0);try{const A=await w7(j,g,S,p,l,d);wt({icon:s.jsx(qy,{}),title:"Success",message:"Visit created"}),R(`/Patient/${l.id}/Encounter/${A.id}`)?.catch(console.error)}catch(A){rt(A)}finally{T(!1)}}return s.jsx(ar,{onSubmit:_,children:s.jsxs(Ue,{direction:"column",gap:"md",h:"100%",justify:"space-between",children:[s.jsxs(oe,{gap:"md",h:"100%",children:[s.jsxs(oe,{gap:0,children:[s.jsx(Sr,{order:1,fw:500,children:n}),s.jsx(Y,{size:"lg",children:a})]}),s.jsx(fa,{label:"Patient",resourceType:"Patient",name:"Patient-id",required:!0,onChange:A=>u(A)}),s.jsx(Wn,{name:"start",label:"Start Time",defaultValue:t?.start?.toISOString(),required:!0,onChange:A=>{y(new Date(A))}}),s.jsx(Wn,{name:"end",label:"End Time",defaultValue:t?.end?.toISOString(),required:!0,onChange:A=>{x(new Date(A))}}),s.jsx(FR,{name:"class",label:"Class",binding:"http://terminology.hl7.org/ValueSet/v3-ActEncounterCode",required:!0,onChange:m,path:"Encounter.type"}),s.jsx(fa,{name:"plandefinition",resourceType:"PlanDefinition",label:"Care template",onChange:A=>{h(A)},required:!0})]}),d?.action&&d.action.length>0&&s.jsx(lr,{className:H1e.planDefinition,children:s.jsxs(oe,{gap:0,children:[s.jsx(Y,{fw:500,children:"Included Tasks"}),d?.action?.map(A=>s.jsxs(Y,{children:["- ",A.title]},A.id))]})}),s.jsxs(Pe,{fullWidth:!0,mt:"xl",type:"submit",loading:C,disabled:C,children:[s.jsx(Rfe,{})," ",s.jsx(Y,{ml:"xs",children:"Create Visit"})]})]})})}function V1e(){const e=Rn(),t=Ae(),n=Pr(),r=b.useRef(null),[a,i]=b.useState(),[l,u]=b.useState("week"),[d,h]=b.useState(new Date),[p,m]=b.useState(void 0),[g,y]=La(!1),[S,x]=b.useState(),[C,T]=b.useState(),[j,R]=b.useState();b.useEffect(()=>{t.isLoading()||!n||t.searchOne("Schedule",{actor:Oe(n)}).then(L=>{L?i(L):t.createResource({resourceType:"Schedule",actor:[Me(n)],active:!0}).then(i).catch(console.error)}).catch(console.error)},[t,n]);const _=b.useCallback(L=>{let V,q;Array.isArray(L)?(V=L[0],q=new Date(L[L.length-1].getTime()+1440*60*1e3)):(V=L.start,q=L.end),(!p||V.getTime()!==p.start.getTime()||q.getTime()!==p.end.getTime())&&m({start:V,end:q})},[p,m]),A=b.useCallback(L=>{if(!r.current||!a||!p)return;const q=p.start.toISOString(),U=p.end.toISOString();async function W(){const z=await t.searchResources("Slot",[["_count","1000"],["schedule",Oe(a)],["start",`ge${q}`],["start",`le${U}`]],{cache:L});x(W1e(z))}async function N(){const z=await t.searchResources("Appointment",[["_count","1000"],["actor",Oe(n)],["date",`ge${q}`],["date",`le${U}`]],{cache:L});T(G1e(z))}Promise.allSettled([W(),N()]).catch(console.error)},[t,n,a,p]);b.useEffect(()=>{A()},[A]);const k=b.useCallback(L=>{y.open(),R(L)},[y]),D=b.useCallback(async L=>{const{resourceType:V,status:q}=L.resource;function U(){q==="free"&&y.open()}async function W(){const N=await t.searchResources("Encounter",[["appointment",Oe(L.resource)],["_count","1"]]),z=N?.[0]?.subject;z?.reference&&e(`/${z.reference}/Encounter/${N?.[0]?.id}`)?.catch(console.error)}if(V==="Slot"){U();return}V==="Appointment"&&W().catch(N=>rt(N))},[y,e,t]);if(!a)return null;const O=window.innerHeight-60,M=L=>{const[V,q]=b.useState(!0);return b.useEffect(()=>{V&&(L.onView(L.view),q(!1))},[L,V,q]),s.jsxs(fe,{justify:"space-between",pb:"sm",children:[s.jsxs(fe,{children:[s.jsxs(Sr,{order:4,mr:"md",children:[L.view!=="day"&&Bl(L.date).format("MMMM YYYY"),L.view==="day"&&Bl(L.date).format("MMMM D YYYY")]}),s.jsxs(Pe.Group,{children:[s.jsx(Pe,{variant:"default",size:"xs",onClick:()=>L.onNavigate("PREV"),children:s.jsx(wfe,{size:12})}),s.jsx(Pe,{variant:"default",size:"xs",onClick:()=>L.onNavigate("TODAY"),children:"Today"}),s.jsx(Pe,{variant:"default",size:"xs",onClick:()=>L.onNavigate("NEXT"),children:s.jsx(qj,{size:12})})]})]}),s.jsx(el,{size:"xs",value:L.view,onChange:U=>u(U),data:[{label:"Month",value:"month"},{label:"Week",value:"week"},{label:"Day",value:"day"}]})]})};function I(L,V,q,U){const W={style:{backgroundColor:"#228be6",border:"1px solid rgba(255, 255, 255, 0)",borderRadius:"4px",color:"white",display:"block",opacity:1}};return L.type==="slot"&&(W.style.backgroundColor=L.status==="free"?"#d3f9d8":"#ced4da",W.style.color="black",W.style.opacity=.6),W}return Bl.extend(B7),Bl.extend(eve),Bl.tz.setDefault(Bl.tz.guess()),s.jsxs(ne,{pos:"relative",bg:"white",p:"md",style:{height:O},children:[s.jsx(N1e,{ref:r,components:{toolbar:M},view:l,date:d,localizer:U1e(Bl),events:C,backgroundEvents:S,onNavigate:(L,V)=>{h(L),u(V)},onRangeChange:_,onSelectSlot:k,onSelectEvent:D,scrollToTime:d,style:{height:O-150},selectable:!0,eventPropGetter:I}),s.jsx(Qi,{opened:g,onClose:y.close,title:"New Calendar Event",position:"right",h:"100%",children:s.jsx(F1e,{appointmentSlot:j})})]})}function W1e(e){if(!e||e.length===0)return[];const t=e.filter(a=>a.status==="free"||a.status==="busy-unavailable"),n={};t.forEach(a=>{n[a.status]||(n[a.status]=[]),n[a.status].push({type:"slot",status:a.status,start:new Date(a.start),end:new Date(a.end)})});const r=[];return Object.entries(n).forEach(([a,i])=>{i.sort((u,d)=>u.start.getTime()-d.start.getTime());let l;for(const u of i)l?u.start<=new Date(l.end.getTime()+1e3)?u.end>l.end&&(l.end=u.end):(r.push({type:"slot",status:l.status,title:a==="free"?"Available":"Blocked",start:l.start,end:l.end}),l={type:"slot",status:a,start:u.start,end:u.end}):l={type:"slot",status:a,start:u.start,end:u.end};l&&r.push({type:"slot",status:l.status,title:a==="free"?"Available":"Blocked",start:l.start,end:l.end,resource:{status:a}})}),r}function G1e(e){return e.filter(t=>t.status!=="cancelled").map(t=>{const n=t?.participant?.find(a=>a.actor?.reference?.startsWith("Patient/")),r=["booked","arrived","fulfilled"].includes(t.status)?"":` (${t.status})`;return{type:"appointment",appointment:t,title:`${n?.actor?.display} ${r}`,start:new Date(t.start),end:new Date(t.end),resource:t}})}const Y1e="_paper_unw9o_1",Q1e={paper:Y1e};function K1e(){const e=Ae(),t=Rn(),n=Wa(),[r,a]=b.useState();return b.useEffect(()=>{const i=wR(n.pathname+n.search),l=X1e(i,e.getUserConfiguration());n.pathname===`/${l.resourceType}`&&n.search===Qs(l)?(twe(l),a(l)):t(`/${l.resourceType}${Qs(l)}`)?.catch(console.error)},[e,t,n]),x_(r?.resourceType,{onInvalidResourceType:()=>t("..")?.catch(console.error)}),!r?.resourceType||!r.fields||r.fields.length===0?s.jsx(Fi,{}):s.jsx(tn,{shadow:"xs",m:"xs",p:"xs",className:Q1e.paper,children:s.jsx(T$,{checkboxesEnabled:!0,search:r,onClick:i=>t(LL(i.resource))?.catch(console.error),onAuxClick:i=>window.open(LL(i.resource),"_blank"),onNew:()=>{t(`/${r.resourceType}/new`)?.catch(console.error)},onChange:i=>{t(`/${r.resourceType}${Qs(i.definition)}`)?.catch(console.error)}})})}function X1e(e,t){const n=e.resourceType||Z1e(t),r=e.fields??["_id","_lastUpdated"],a=e.filters??(e.resourceType?void 0:J1e(n)),i=e.sortRules??ewe(n),l=e.offset??0,u=e.count??Gh;return{...e,resourceType:n,fields:r,filters:a,sortRules:i,offset:l,count:u}}function Z1e(e){return localStorage.getItem("defaultResourceType")??e?.option?.find(t=>t.id==="defaultResourceType")?.valueString??"Task"}function J1e(e){return uq(e)?.filters}function ewe(e){const t=uq(e);return t?.sortRules?t.sortRules:[{code:"_lastUpdated",descending:!0}]}function uq(e){const t=localStorage.getItem(e+"-defaultSearch");return t?JSON.parse(t):void 0}function twe(e){localStorage.setItem("defaultResourceType",e.resourceType),localStorage.setItem(e.resourceType+"-defaultSearch",JSON.stringify(e))}function LL(e){const t=["patient","subject","sender"];for(const n of t)if(n in e){const r=e[n];if(nwe(r))return`/${r.reference}/${e.resourceType}/${e.id}`}return`/${e.resourceType}/${e.id}`}function nwe(e){return Ia(e)&&e.reference.startsWith("Patient/")}function zL(){const e=Rn();return s.jsxs(uoe,{googleClientId:"921088377005-3j1sa10vr6hj86jgmdfh2l53v3mp7lfi.apps.googleusercontent.com",onSuccess:()=>e("/")?.catch(console.error),children:[s.jsx(Rd,{size:32}),s.jsx(Sr,{order:3,py:"lg",children:"Sign in to Provider"})]})}const rwe="_container_dg20o_1",awe={container:rwe},iwe="_resourceBox_p86id_1",owe="_content_p86id_22",rg={resourceBox:iwe,content:owe};function swe({resourceReference:e,onClick:t}){const n=Ae(),[r,a]=b.useState(),[i,l]=b.useState(!0),[u,d]=b.useState();if(b.useEffect(()=>{const[m,g]=e.split("/");if(!m||!g){d("Invalid resource reference"),l(!1);return}l(!0),d(void 0),n.readReference({reference:e}).then(a).catch(y=>d(y instanceof Error?y.message:String(y))).finally(()=>l(!1))},[n,e]),i)return s.jsx(tn,{withBorder:!0,p:"sm",className:rg.resourceBox,children:s.jsxs(fe,{gap:"sm",wrap:"nowrap",children:[s.jsx(tr,{size:"sm"}),s.jsx(Y,{size:"sm",c:"dimmed",children:"Loading..."})]})});if(u||!r)return s.jsx(tn,{withBorder:!0,p:"sm",className:rg.resourceBox,children:s.jsx(Y,{size:"sm",c:"red",children:u||"Unable to find resource"})});const h=nr(r)??"",p=r.resourceType;return s.jsx(tn,{withBorder:!0,p:"sm",className:rg.resourceBox,onClick:()=>t(e),"data-testid":"resource-box",children:s.jsxs(fe,{gap:"sm",wrap:"nowrap",children:[s.jsx(Oc,{size:"lg",variant:"light",color:"violet",children:s.jsx(yg,{size:20})}),s.jsxs(ne,{className:rg.content,children:[s.jsx(Y,{size:"sm",fw:600,c:"violet.7",children:p}),s.jsx(Y,{size:"xs",c:"dimmed",truncate:!0,children:h})]})]})})}function lwe({result:e,onResultChange:t}){const n=Rt(e),r=Rt(n?.subject),a=Rt(n?.performer?.[0]);return s.jsx(tn,{h:"100%",p:"md",style:{overflow:"auto"},children:s.jsxs(oe,{gap:"md",children:[s.jsxs(oe,{gap:"xs",children:[s.jsx(Y,{size:"xl",fw:700,children:n?.code?.text||n?.code?.coding?.[0]?.display||"Lab Result"}),s.jsx(Bi,{size:"lg",color:cwe(n?.status),variant:"light",children:uwe(n?.status)})]}),s.jsx(ht,{}),s.jsxs(oe,{gap:"sm",children:[s.jsx(Y,{fw:600,size:"sm",c:"dimmed",children:"RESULT DETAILS"}),s.jsxs(fe,{children:[s.jsx(Y,{fw:500,size:"sm",children:"Issued Date:"}),s.jsx(Y,{size:"sm",children:vn(n?.issued)})]}),n?.effectiveDateTime&&s.jsxs(fe,{children:[s.jsx(Y,{fw:500,size:"sm",children:"Effective Date:"}),s.jsx(Y,{size:"sm",children:vn(n?.effectiveDateTime)})]}),n?.code?.coding&&s.jsxs(fe,{align:"flex-start",children:[s.jsx(Y,{fw:500,size:"sm",children:"Test Code:"}),s.jsx(oe,{gap:"xs",children:n?.code?.coding?.map((i,l)=>s.jsxs(fe,{gap:"xs",children:[s.jsx(Bi,{size:"sm",variant:"outline",children:i.code}),s.jsx(Y,{size:"sm",children:i.display})]},l))})]}),a?.resourceType==="Practitioner"&&s.jsxs(fe,{children:[s.jsx(Y,{fw:500,size:"sm",children:"Performed by:"}),s.jsx(Y,{size:"sm",children:Gn(a.name?.[0])})]}),r?.resourceType==="Patient"&&s.jsxs(fe,{children:[s.jsx(Y,{fw:500,size:"sm",children:"Patient:"}),s.jsx(Y,{size:"sm",children:Gn(r.name?.[0])})]}),n?.category&&s.jsxs(fe,{align:"flex-start",children:[s.jsx(Y,{fw:500,size:"sm",children:"Category:"}),s.jsx(oe,{gap:"xs",children:n?.category?.map((i,l)=>s.jsx(Y,{size:"sm",children:i.text||i.coding?.[0]?.display},l))})]})]}),n?.conclusion&&s.jsxs(s.Fragment,{children:[s.jsx(ht,{}),s.jsxs(oe,{gap:"sm",children:[s.jsx(Y,{fw:600,size:"sm",c:"dimmed",children:"CONCLUSION"}),s.jsx(Y,{size:"sm",children:n?.conclusion})]})]}),n?.conclusionCode&&s.jsxs(s.Fragment,{children:[s.jsx(ht,{}),s.jsxs(oe,{gap:"sm",children:[s.jsx(Y,{fw:600,size:"sm",c:"dimmed",children:"CONCLUSION CODES"}),n?.conclusionCode?.map((i,l)=>s.jsxs(fe,{align:"flex-start",children:[s.jsxs(Y,{fw:500,size:"sm",children:["Code ",l+1,":"]}),s.jsx(Y,{size:"sm",children:i.text||i.coding?.[0]?.display})]},l))]})]}),n?.presentedForm&&s.jsxs(s.Fragment,{children:[s.jsx(ht,{}),s.jsxs(oe,{gap:"sm",children:[s.jsx(Y,{fw:600,size:"sm",c:"dimmed",children:"ATTACHMENTS"}),n?.presentedForm?.map((i,l)=>s.jsxs(fe,{align:"flex-start",children:[s.jsxs(Y,{fw:500,size:"sm",children:["Attachment ",l+1,":"]}),s.jsx(Y,{size:"sm",children:i.title||i.contentType||"Attachment"})]},l))]})]}),n?.result&&n?.result?.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(ht,{}),s.jsxs(oe,{gap:"sm",children:[s.jsx(Y,{fw:600,size:"sm",c:"dimmed",children:"TEST RESULTS"}),s.jsx(XR,{value:n?.result,hideObservationNotes:!1})]})]})]})})}const cwe=e=>{switch(e){case"final":return"green";case"partial":return"yellow";case"preliminary":return"blue";case"cancelled":case"entered-in-error":return"red";default:return"gray"}},uwe=e=>{switch(e){case"final":return"Final";case"partial":return"Partial";case"preliminary":return"Preliminary";case"cancelled":return"Cancelled";case"entered-in-error":return"Error";default:return e||"Unknown"}};function dwe(e){const{resource:t}=e,n=Rt(t),r=()=>{if(!n)return s.jsx(Y,{c:"dimmed",children:"Loading resource..."});switch(n.resourceType){case"Patient":return s.jsx(ky,{patient:n});case"Task":return s.jsx(q7,{task:n});case"DiagnosticReport":return s.jsx(lwe,{result:n});case"ServiceRequest":return s.jsx(I7,{order:n});case"Encounter":return s.jsx(k7,{encounter:n});default:return s.jsx(Dy,{value:n})}};return s.jsx(ne,{p:"md","data-testid":"resource-panel",children:r()})}async function fwe(e,t,n){const r=await e.getProfile();if(!r?.id)throw new Error("Profile not found");const a={resourceType:"Communication",status:"in-progress",identifier:[{system:"http://medplum.com/ai-message",value:"ai-message-topic"}],sender:Me(r),topic:{text:t},note:[{text:JSON.stringify({model:n})}]};return e.createResource(a)}async function zf(e,t,n,r){const a={resourceType:"Communication",status:"completed",identifier:[{system:"http://medplum.com/ai-message",value:"ai-message"}],partOf:[{reference:`Communication/${t}`}],payload:[{contentString:JSON.stringify({role:n.role,content:n.content,tool_calls:n.tool_calls,tool_call_id:n.tool_call_id,resources:n.resources,sequenceNumber:r})}]};return e.createResource(a)}async function $L(e,t){const n=await e.searchResources("Communication",{"part-of":`Communication/${t}`,_sort:"_lastUpdated"}),r=[];for(const a of n)if(a.payload?.[0]?.contentString)try{const i=JSON.parse(a.payload[0].contentString);r.push({message:{role:i.role,content:i.content,tool_calls:i.tool_calls,tool_call_id:i.tool_call_id,resources:i.resources},sequenceNumber:i.sequenceNumber||0})}catch(i){throw i instanceof Error?new Error(`Failed to parse message: ${i.message}`):new Error(`Failed to parse message: ${String(i)}`)}return r.map(a=>a.message)}async function hwe(e,t=10){const n=await e.getProfile();return e.searchResources("Communication",{identifier:"http://medplum.com/ai-message|ai-message-topic",sender:Oe(n),_sort:"-_lastUpdated",_count:String(t)})}const pwe="_conversationItem_7zb3e_1",mwe="_conversationItemActive_7zb3e_16",qL={conversationItem:pwe,conversationItemActive:mwe};function gwe({currentTopicId:e,onSelectedItem:t}){const n=Ae(),[r,a]=b.useState([]),[i,l]=b.useState(!0);return b.useEffect(()=>{(async()=>{l(!0);try{const d=await hwe(n,20);a(d)}finally{l(!1)}})().catch(rt)},[n]),s.jsx(tn,{h:"100%",bg:"transparent",p:0,children:s.jsx(Ue,{direction:"column",p:0,h:"100%",children:s.jsx(Sn,{style:{flex:1},p:0,children:s.jsxs(oe,{gap:"xs",px:"md",children:[s.jsx(Y,{fw:600,c:"dimmed",mt:"md",children:"Recent Conversations"}),i&&s.jsx(Y,{size:"sm",c:"dimmed",children:"Loading..."}),!i&&r.length===0&&s.jsx(Y,{size:"sm",c:"dimmed",children:"No conversations yet"}),!i&&r.length>0&&r.map((u,d)=>s.jsxs(oe,{gap:0,children:[s.jsx(ba,{to:t(u),style:{textDecoration:"none"},children:s.jsxs("div",{className:$t(qL.conversationItem,{[qL.conversationItemActive]:e===u.id}),children:[s.jsx(Y,{size:"sm",fw:500,lineClamp:1,c:"inherit",children:u.topic?.text||"Untitled conversation"}),s.jsx(fe,{gap:"xs",mt:4,justify:"space-between",children:s.jsx(Y,{size:"xs",c:"dimmed",style:{opacity:.7},children:vn(u.meta?.lastUpdated)})})]})}),d<r.length-1&&s.jsx(ht,{})]},u.id))]})})})})}const vwe=[{value:"gpt-5",label:"GPT-5"},{value:"gpt-4o",label:"GPT-4o"},{value:"gpt-4o-mini",label:"GPT-4o Mini"}];function ywe({input:e,onInputChange:t,onKeyDown:n,onSend:r,loading:a,selectedModel:i,onModelChange:l,backgroundColor:u="#fff"}){return s.jsx(tn,{p:"md",radius:"lg",withBorder:!0,style:{backgroundColor:u},children:s.jsxs(oe,{gap:"sm",children:[s.jsxs(fe,{gap:"md",wrap:"nowrap",align:"flex-end",children:[s.jsx(wi,{placeholder:"Ask, search, or make anything...",value:e,onChange:d=>t(d.currentTarget.value),onKeyDown:n,disabled:a,autosize:!0,minRows:1,maxRows:5,style:{flex:1},styles:{input:{border:"none",backgroundColor:"transparent",fontSize:"15px",padding:0,resize:"none"}}}),s.jsx(Pe,{"aria-label":"Send message",radius:"xl",size:"sm",onClick:r,disabled:a||!e.trim(),w:"36px",h:"36px",bg:"#7c3aed",p:0,children:s.jsx(p_,{size:18})})]}),s.jsx(ly,{size:"xs",data:vwe,value:i,onChange:d=>l(d??"gpt-5"),w:"120px",withCheckIcon:!1,fw:500,pr:"md",styles:{input:{fontSize:"12px",cursor:"pointer"}}})]})})}const bwe="_sidebar_jmnqq_33",xwe="_sidebarHeader_jmnqq_45",Swe="_sidebarTitle_jmnqq_53",wwe="_sidebarContent_jmnqq_61",Cwe="_chatContainer_jmnqq_68",jwe="_chatHeader_jmnqq_77",Ewe="_messagesArea_jmnqq_89",Twe="_messageWrapper_jmnqq_98",Rwe="_userMessage_jmnqq_107",_we="_assistantMessage_jmnqq_112",Dwe="_messageContent_jmnqq_117",Awe="_inputArea_jmnqq_139",Owe="_inputWrapper_jmnqq_146",kwe="_resourcePanel_jmnqq_164",Mwe="_resourceHeader_jmnqq_175",Pwe="_emptyState_jmnqq_193",Nwe="_emptyStateIcon_jmnqq_203",or={sidebar:bwe,sidebarHeader:xwe,sidebarTitle:Swe,sidebarContent:wwe,chatContainer:Cwe,chatHeader:jwe,messagesArea:Ewe,messageWrapper:Twe,userMessage:Rwe,assistantMessage:_we,messageContent:Dwe,inputArea:Awe,inputWrapper:Owe,resourcePanel:kwe,resourceHeader:Mwe,emptyState:Pwe,emptyStateIcon:Nwe},Iwe={value:"ai-fhir-request-tools",system:"https://www.medplum.com/bots"},Lwe={value:"ai-resource-summary",system:"https://www.medplum.com/bots"};function zwe(e){const{topic:t,onNewTopic:n,onSelectedItem:r,onAdd:a}=e,i=Ae(),l=Rt(t),[u,d]=b.useState([]),[h,p]=b.useState(""),[m,g]=b.useState(!1),[y,S]=b.useState("gpt-5"),[x,C]=b.useState(!1),[T,j]=b.useState(),[R,_]=b.useState(l?.id),[A,k]=b.useState(!0),[D,O]=b.useState(0),[M,I]=b.useState(),L=b.useRef(null);b.useEffect(()=>{const N=l?.id;N?(async()=>{try{g(!0);const $=await $L(i,N);d([...$]),_(N),C(!0),I(void 0)}catch($){rt($)}finally{g(!1)}})().catch(rt):(d([]),C(!1),_(void 0),I(void 0))},[l,i]),b.useEffect(()=>{const N=L.current;N&&x&&N.scrollTo({top:N.scrollHeight,behavior:"smooth"})},[u,x]);const V=async N=>{try{g(!0);const z=await $L(i,N);d([...z]),_(N),C(!0),I(void 0)}catch(z){rt(z)}finally{g(!1)}},q=async()=>{if(!h.trim())return;const N=!x;N&&C(!0);const z={role:"user",content:h},$=[...u,z];d($),p(""),j(void 0),g(!0);try{let G=R;if(N){const J=await fwe(i,h.substring(0,100),y);G=J.id,_(G),O(re=>re+1),n(J)}G&&await zf(i,G,z,$.length-1);let X=await i.executeBot(Iwe,{resourceType:"Parameters",parameter:[{name:"messages",valueString:JSON.stringify($)},{name:"model",valueString:y}]});const H=X.parameter?.find(J=>J.name==="tool_calls")?.valueString,F=[];if(H){const J=JSON.parse(H),re={role:"assistant",content:null,tool_calls:J};$.push(re),G&&await zf(i,G,re,$.length-1);for(const ue of J)if(ue.function.name==="fhir_request"){const Ee=typeof ue.function.arguments=="string"?JSON.parse(ue.function.arguments):ue.function.arguments,{method:Re,path:Se,body:Ge}=Ee;j(`${Re} ${Se}`);let Ze;try{if(Re==="GET"?Ze=await i.get(i.fhirUrl(Se)):Re==="POST"?Ze=await i.post(i.fhirUrl(Se),Ge):Re==="PUT"?Ze=await i.put(i.fhirUrl(Se),Ge):Re==="DELETE"&&(Ze=await i.delete(i.fhirUrl(Se))),Ze?.resourceType==="Bundle"&&Ze?.entry)Ze.entry.forEach(ze=>{if(ze.resource){const pt=Oe(ze.resource);pt&&F.push(pt)}});else if(Ze){const ze=Oe(Ze);ze&&F.push(ze)}const Fe={role:"tool",tool_call_id:ue.id,content:JSON.stringify(Ze)};$.push(Fe),G&&await zf(i,G,Fe,$.length-1)}catch(Fe){const ze={error:!0,message:`Unable to execute ${Re}: ${Se}`,details:Fe.message||"Unknown error"},pt={role:"tool",tool_call_id:ue.id,content:JSON.stringify(ze)};$.push(pt),G&&await zf(i,G,pt,$.length-1)}}X=await i.executeBot(Lwe,{resourceType:"Parameters",parameter:[{name:"messages",valueString:JSON.stringify($)},{name:"model",valueString:y}]})}const Q=X.parameter?.find(J=>J.name==="content")?.valueString;if(Q){const J=F.length>0?[...new Set(F)]:void 0,re={role:"assistant",content:Q,resources:J};d([...$,re]),G&&await zf(i,G,re,$.length)}}catch(G){d([...$,{role:"assistant",content:`Error: ${G.message}`}])}finally{g(!1)}},U=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),q().catch(z=>rt(z)))},W=u.filter(N=>N.role!=="system"&&N.role!=="tool"&&!(N.role==="assistant"&&N.tool_calls));return s.jsxs(s.Fragment,{children:[s.jsxs(ne,{className:or.sidebar,style:{width:A?280:0,opacity:A?1:0},children:[s.jsxs("div",{className:or.sidebarHeader,children:[s.jsx(Y,{className:or.sidebarTitle,children:"Conversations"}),s.jsx(xt,{variant:"subtle",color:"gray",onClick:()=>k(!1),children:s.jsx(zfe,{size:18})})]}),s.jsx("div",{className:or.sidebarContent,children:s.jsx(gwe,{currentTopicId:R,onSelectTopic:V,onSelectedItem:r},D)})]}),s.jsxs("div",{className:or.chatContainer,children:[s.jsxs("div",{className:or.chatHeader,children:[s.jsx("div",{children:!A&&s.jsx(xt,{variant:"subtle",color:"gray",onClick:()=>k(!0),mr:"md",children:s.jsx(qfe,{size:16})})}),a&&s.jsx(xt,{variant:"subtle",color:"gray",size:"sm",onClick:a,"aria-label":"New conversation",children:s.jsx($c,{size:16})})]}),s.jsx("div",{className:or.messagesArea,children:x?s.jsx(Sn,{style:{flex:1},offsetScrollbars:!0,viewportRef:L,children:s.jsxs(oe,{gap:"xl",p:"xs",children:[W.map((N,z)=>s.jsxs("div",{className:$t(or.messageWrapper,N.role==="user"?or.userMessage:or.assistantMessage),children:[s.jsxs(fe,{align:"flex-start",gap:"sm",mb:4,children:[N.role==="assistant"&&s.jsx(Jo,{radius:"xl",size:"sm",color:"blue",children:s.jsx(uS,{size:14})}),s.jsx(Y,{fw:600,size:"sm",c:"dimmed",children:N.role==="user"?"You":"AI Assistant"})]}),s.jsx("div",{className:or.messageContent,children:s.jsx(Y,{style:{whiteSpace:"pre-wrap"},children:N.content})}),N.resources&&N.resources.length>0&&s.jsx(oe,{gap:"xs",mt:"sm",w:300,ml:N.role==="assistant"?0:"auto",children:N.resources.map(($,G)=>s.jsx(swe,{resourceReference:$,onClick:I},G))})]},z)),m&&s.jsx("div",{className:$t(or.messageWrapper,or.assistantMessage),children:s.jsxs(fe,{align:"center",gap:"sm",wrap:"nowrap",children:[s.jsx(Jo,{radius:"xl",size:"sm",color:"blue",children:s.jsx(uS,{size:14})}),s.jsx(ne,{style:{flex:1,minWidth:0},children:s.jsx(Y,{size:"sm",c:"dimmed",fs:"italic",truncate:!0,children:T?`Executing ${T}...`:"Thinking..."})})]})})]})}):s.jsxs("div",{className:or.emptyState,children:[s.jsx(Oc,{size:64,radius:"xl",variant:"light",color:"gray",className:or.emptyStateIcon,children:s.jsx(uS,{size:32})}),s.jsx(Y,{size:"xl",fw:500,mb:"sm",children:"How can I help you today?"}),s.jsx(Y,{c:"dimmed",size:"sm",maw:400,children:"I can help you search for patients, create resources, or answer clinical questions."})]})}),s.jsx("div",{className:or.inputArea,children:s.jsx("div",{className:or.inputWrapper,children:s.jsx(ywe,{input:h,onInputChange:p,onKeyDown:U,onSend:q,loading:m,selectedModel:y,onModelChange:S,backgroundColor:"transparent"})})})]}),M&&s.jsxs("div",{className:or.resourcePanel,children:[s.jsxs("div",{className:or.resourceHeader,children:[s.jsx(Y,{fw:600,size:"sm",children:"Resource Details"}),s.jsx(ul,{onClick:()=>I(void 0)})]}),s.jsx(Sn,{style:{flex:1},p:"md",children:s.jsx(dwe,{resource:{reference:M}},M)})]})]})}function ej(){const{topicId:e}=wr(),t=Rn(),n=l=>{t(`/Spaces/Communication/${l.id}`)?.catch(console.error)},r=l=>`/Spaces/Communication/${l.id}`,a=e?{reference:`Communication/${e}`}:void 0,i=()=>{t("/Spaces/Communication")?.catch(console.error)};return s.jsx("div",{className:awe.container,children:s.jsx(zwe,{topic:a,onNewTopic:n,onSelectedItem:r,onAdd:i})})}function UL(){const{taskId:e}=wr(),t=Rn(),n=i=>`/Task/${i.id}`,r=i=>{t(n(i))?.catch(console.error)},a=i=>{t("/Task")?.catch(console.error)};return s.jsx("div",{className:$7.container,children:s.jsx(U7,{query:"_sort=-_lastUpdated",selectedTaskId:e,onTaskChange:r,onDeleteTask:a,onSelectedItem:n})})}function $we(){const e=Ae(),t=Pr(),n=jd(),r=Wa(),[a]=rfe();if(e.isLoading())return null;const i=e.getProjectMembership(),l=y7(i);return s.jsx(kie,{logo:s.jsx(Rd,{size:24}),pathname:r.pathname,searchParams:a,menus:t?[{links:[{icon:s.jsx(Zfe,{}),label:"Spaces",href:"/Spaces/Communication"},{icon:s.jsx(fhe,{}),label:"Patients",href:"/Patient?_count=20&_fields=name,email,gender&_sort=-_lastUpdated"},{icon:s.jsx(yfe,{}),label:"Schedule",href:"/schedule"},{icon:s.jsx(Kx,{resourceType:"Communication",countCriteria:`recipient=${Oe(t)}&status:not=completed&_summary=count`,subscriptionCriteria:`Communication?recipient=${Oe(t)}`,iconComponent:s.jsx(Vfe,{})}),label:"Messages",href:`/Communication?recipient=${Oe(t)}&status:not=completed&_fields=sender,recipient,subject,status,_lastUpdated`},{icon:s.jsx(Kx,{resourceType:"Task",countCriteria:`owner=${Oe(t)}&status:not=completed&_summary=count`,subscriptionCriteria:`Task?owner=${Oe(t)}`,iconComponent:s.jsx(Uj,{})}),label:"Tasks",href:`/Task?owner=${Oe(t)}&status:not=completed&_fields=sender,recipient,subject,status,_lastUpdated`}]},{title:"Quick Links",links:[{icon:s.jsx(ov,{}),label:"New Patient",href:"/onboarding"},{icon:s.jsx(she,{}),label:"Integrations",href:"/integrations"},...l?[{icon:s.jsx(ZP,{}),label:"DoseSpot",href:"/integrations/dosespot"}]:[]]}]:void 0,resourceTypeSearchDisabled:!0,notifications:t&&s.jsxs(s.Fragment,{children:[s.jsx(Kx,{label:"Tasks",resourceType:"Task",countCriteria:`owner=${Oe(t)}&status:not=completed&_summary=count`,subscriptionCriteria:`Task?owner=${Oe(t)}`,iconComponent:s.jsx(Uj,{}),onClick:()=>n(`/Task?owner=${Oe(t)}&status:not=completed&_fields=subject,code,description,status,_lastUpdated`)}),l&&s.jsx(ZP,{})]}),children:s.jsx(b.Suspense,{fallback:s.jsx(Fi,{}),children:s.jsx(Tde,{children:t?s.jsxs(s.Fragment,{children:[s.jsxs(ut,{path:"/Spaces/Communication",element:s.jsx(ej,{}),children:[s.jsx(ut,{index:!0,element:s.jsx(ej,{})}),s.jsx(ut,{path:":topicId",element:s.jsx(ej,{})})]}),s.jsx(ut,{path:"/",element:s.jsx(KP,{to:"/Patient?_count=20&_fields=name,email,gender&_sort=-_lastUpdated",replace:!0})}),s.jsx(ut,{path:"/Patient/new",element:s.jsx(bS,{})}),s.jsxs(ut,{path:"/Patient/:patientId",element:s.jsx(Sge,{}),children:[s.jsx(ut,{path:"Encounter/new",element:s.jsx(tme,{})}),s.jsx(ut,{path:"Encounter/:encounterId",element:s.jsx(Zpe,{}),children:s.jsx(ut,{path:"Task/:taskId",element:s.jsx(Ohe,{})})}),s.jsx(ut,{path:"edit",element:s.jsx(Mme,{})}),s.jsx(ut,{path:"Communication",element:s.jsx(oN,{})}),s.jsx(ut,{path:"Communication/:messageId",element:s.jsx(oN,{})}),s.jsx(ut,{path:"Task",element:s.jsx(fN,{})}),s.jsx(ut,{path:"Task/:taskId",element:s.jsx(fN,{})}),l&&s.jsx(ut,{path:"dosespot",element:s.jsx(sN,{})}),s.jsx(ut,{path:"timeline",element:s.jsx(hN,{})}),s.jsx(ut,{path:"export",element:s.jsx(Pme,{})}),s.jsx(ut,{path:"ServiceRequest",element:s.jsx(uN,{})}),s.jsx(ut,{path:"ServiceRequest/:serviceRequestId",element:s.jsx(uN,{})}),s.jsx(ut,{path:":resourceType",element:s.jsx(wge,{})}),s.jsx(ut,{path:":resourceType/new",element:s.jsx(bS,{})}),s.jsxs(ut,{path:":resourceType/:id",element:s.jsx(yN,{}),children:[s.jsx(ut,{path:"",element:s.jsx(mN,{})}),s.jsx(ut,{path:"edit",element:s.jsx(gN,{})}),s.jsx(ut,{path:"history",element:s.jsx(vN,{})})]}),s.jsx(ut,{path:"",element:s.jsx(hN,{})})]}),s.jsxs(ut,{path:"/Communication",element:s.jsx(pS,{}),children:[s.jsx(ut,{index:!0,element:s.jsx(pS,{})}),s.jsx(ut,{path:":messageId",element:s.jsx(pS,{})})]}),s.jsx(ut,{path:"Task",element:s.jsx(UL,{})}),s.jsx(ut,{path:"Task/:taskId",element:s.jsx(UL,{})}),s.jsx(ut,{path:"/onboarding",element:s.jsx(Vme,{})}),s.jsx(ut,{path:"/schedule",element:s.jsx(V1e,{})}),s.jsx(ut,{path:"/signin",element:s.jsx(zL,{})}),s.jsx(ut,{path:"/dosespot",element:s.jsx(sN,{})}),s.jsx(ut,{path:"/integrations",element:s.jsx(hme,{})}),s.jsx(ut,{path:"/:resourceType",element:s.jsx(K1e,{})}),s.jsx(ut,{path:"/:resourceType/new",element:s.jsx(bS,{})}),s.jsxs(ut,{path:"/:resourceType/:id",element:s.jsx(yN,{}),children:[s.jsx(ut,{path:"",element:s.jsx(mN,{})}),s.jsx(ut,{path:"edit",element:s.jsx(gN,{})}),s.jsx(ut,{path:"history",element:s.jsx(vN,{})})]}),l&&s.jsx(ut,{path:"/integrations/dosespot",element:s.jsx(lme,{})})]}):s.jsxs(s.Fragment,{children:[s.jsx(ut,{path:"/signin",element:s.jsx(zL,{})}),s.jsx(ut,{path:"*",element:s.jsx(KP,{to:"/signin",replace:!0})})]})})})})}const qwe=new yz({onUnauthenticated:()=>window.location.href="/",cacheTime:6e4,autoBatchTime:100}),Uwe={fontFamily:"Arial, Helvetica, sans-serif",fontFamilyMonospace:"Courier New, monospace",headings:{fontFamily:"Arial, Helvetica, sans-serif",sizes:{h1:{fontSize:"1.125rem",fontWeight:"600",lineHeight:"1.5"},h2:{fontSize:"1rem",fontWeight:"600",lineHeight:"1.5"},h3:{fontSize:"0.9375rem",fontWeight:"600",lineHeight:"1.5"}}},fontSizes:{xs:"0.6875rem",sm:"0.8125rem",md:"0.8125rem",lg:"1rem",xl:"1.125rem"},primaryColor:"blue",colors:{blue:["#E3F2FD","#BBDEFB","#90CAF9","#64B5F6","#42A5F5","#4A90E2","#357ABD","#1976D2","#1565C0","#0D47A1"]},defaultRadius:"sm",radius:{xs:"2px",sm:"3px",md:"4px",lg:"6px",xl:"8px"},components:{Button:{defaultProps:{size:"sm"},styles:{root:{fontFamily:"Arial, Helvetica, sans-serif",fontSize:"13px"}}},TextInput:{styles:{input:{fontFamily:"Arial, Helvetica, sans-serif",fontSize:"13px"},label:{fontFamily:"Arial, Helvetica, sans-serif",fontSize:"12px",fontWeight:600}}},Select:{styles:{input:{fontFamily:"Arial, Helvetica, sans-serif",fontSize:"13px"},label:{fontFamily:"Arial, Helvetica, sans-serif",fontSize:"12px",fontWeight:600}}},Table:{styles:{root:{fontFamily:"Arial, Helvetica, sans-serif",fontSize:"13px"}}},Tabs:{styles:{tab:{fontFamily:"Arial, Helvetica, sans-serif",fontSize:"13px"}}}}},dq=Kde([{path:"*",element:s.jsx($we,{})}]),Bwe=e=>dq.navigate(e),Hwe=document.getElementById("root"),Fwe=Uce.createRoot(Hwe);Fwe.render(s.jsx(b.StrictMode,{children:s.jsx(tne,{medplum:qwe,navigate:Bwe,children:s.jsxs(h5,{theme:Uwe,children:[s.jsx(ds,{position:"bottom-right"}),s.jsx(wde,{router:dq})]})})}));
